webpackJsonp([0],[,,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";(function(e){function i(e,t){return-1!==e.indexOf(t)}function r(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),e}function o(e,t){return e.push(t),t}function a(e,t){var n={};for(var i in e)-1!==t.indexOf(i)&&(n[i]=e[i]);return n}function s(e,n,i){return i=i||(h.isArray(e)?[]:{}),t.forEach(e,function(e,t){return i[t]=n(e,t)}),i}function l(e,t){return e.push(t),e}function c(e,t){return void 0===t&&(t="assert failure"),function(n){var i=e(n);if(!i)throw new Error(h.isFunction(t)?t(n):t);return i}}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];for(var n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),i=[],r=0;r<n;r++)!function(t){switch(e.length){case 1:i.push([e[0][t]]);break;case 2:i.push([e[0][t],e[1][t]]);break;case 3:i.push([e[0][t],e[1][t],e[2][t]]);break;case 4:i.push([e[0][t],e[1][t],e[2][t],e[3][t]]);break;default:i.push(e.map(function(e){return e[t]}))}}(r);return i}function d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var i=Object.keys(n),r=0;r<i.length;r++)e[i[r]]=n[i[r]]}return e}function p(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n=typeof e;if(n!==typeof t||"object"!==n)return!1;var i,r,o=[e,t];if(m.all(h.isArray)(o))return r=t,(i=e).length===r.length&&u(i,r).reduce(function(e,t){return e&&p(t[0],t[1])},!0);if(m.all(h.isDate)(o))return e.getTime()===t.getTime();if(m.all(h.isRegExp)(o))return e.toString()===t.toString();if(m.all(h.isFunction)(o))return!0;if([h.isFunction,h.isArray,h.isDate,h.isRegExp].map(m.any).reduce(function(e,t){return e||!!t(o)},!1))return!1;var a={};for(var s in e){if(!p(e[s],t[s]))return!1;a[s]=!0}for(var s in t)if(!a[s])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var h=n(6),m=n(7),f=n(10);t.root="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this;var g=t.root.angular||{};t.fromJson=g.fromJson||JSON.parse.bind(JSON),t.toJson=g.toJson||JSON.stringify.bind(JSON),t.forEach=g.forEach||function(e,t,n){if(h.isArray(e))return e.forEach(t,n);Object.keys(e).forEach(function(n){return t(e[n],n)})},t.extend=Object.assign||d,t.equals=g.equals||p,t.identity=function(e){return e},t.noop=function(){},t.createProxyFunctions=function(e,t,n,i,r){void 0===r&&(r=!1);var o=function(t){return e()[t].bind(n())};return(i=i||Object.keys(e())).reduce(function(e,n){var i;return e[n]=r?(i=n,function(){return t[i]=o(i),t[i].apply(null,arguments)}):o(n),e},t)},t.inherit=function(e,n){return t.extend(Object.create(e),n)},t.inArray=m.curry(i),t._inArray=i,t.removeFrom=m.curry(r),t._removeFrom=r,t.pushTo=m.curry(o),t._pushTo=o,t.deregAll=function(e){return e.slice().forEach(function(n){"function"==typeof n&&n(),t.removeFrom(e,n)})},t.defaults=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=n.concat({}).reverse(),o=t.extend.apply(null,r);return t.extend({},o,a(e||{},Object.keys(o)))},t.mergeR=function(e,n){return t.extend(e,n)},t.ancestors=function(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n},t.pick=a,t.omit=function(e,n){return Object.keys(e).filter(m.not(t.inArray(n))).reduce(function(t,n){return t[n]=e[n],t},{})},t.pluck=function(e,t){return s(e,m.prop(t))},t.filter=function(e,n){var i=h.isArray(e),r=i?[]:{},o=i?function(e){return r.push(e)}:function(e,t){return r[t]=e};return t.forEach(e,function(e,t){n(e,t)&&o(e,t)}),r},t.find=function(e,n){var i;return t.forEach(e,function(e,t){i||n(e,t)&&(i=e)}),i},t.mapObj=s,t.map=s,t.values=function(e){return Object.keys(e).map(function(t){return e[t]})},t.allTrueR=function(e,t){return e&&t},t.anyTrueR=function(e,t){return e||t},t.unnestR=function(e,t){return e.concat(t)},t.flattenR=function(e,n){return h.isArray(n)?e.concat(n.reduce(t.flattenR,[])):l(e,n)},t.pushR=l,t.uniqR=function(e,n){return t.inArray(e,n)?e:l(e,n)},t.unnest=function(e){return e.reduce(t.unnestR,[])},t.flatten=function(e){return e.reduce(t.flattenR,[])},t.assertPredicate=c,t.assertMap=c,t.assertFn=c,t.pairs=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.arrayTuples=u,t.applyPairs=function(e,t){var n,i;if(h.isArray(t)&&(n=t[0],i=t[1]),!h.isString(n))throw new Error("invalid parameters to applyPairs");return e[n]=i,e},t.tail=function(e){return e.length&&e[e.length-1]||void 0},t.copy=function(e,n){return n&&Object.keys(n).forEach(function(e){return delete n[e]}),n||(n={}),t.extend(n,e)},t._extend=d,t.silenceUncaughtInPromise=function(e){return e.catch(function(e){return 0})&&e},t.silentRejection=function(e){return t.silenceUncaughtInPromise(f.services.$q.reject(e))}}).call(t,n(8))},function(e,t,n){e.exports=n(208)},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(210),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){return function i(r,a){try{var s=t[r](a),l=s.value}catch(e){return void n(e)}if(!s.done)return o.default.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}("next")})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=n(81),o=Object.prototype.toString,a=function(e){return function(t){return typeof t===e}};t.isUndefined=a("undefined"),t.isDefined=i.not(t.isUndefined),t.isNull=function(e){return null===e},t.isNullOrUndefined=i.or(t.isNull,t.isUndefined),t.isFunction=a("function"),t.isNumber=a("number"),t.isString=a("string"),t.isObject=function(e){return null!==e&&"object"==typeof e},t.isArray=Array.isArray,t.isDate=function(e){return"[object Date]"===o.call(e)},t.isRegExp=function(e){return"[object RegExp]"===o.call(e)},t.isState=r.StateObject.isState,t.isInjectable=function(e){if(t.isArray(e)&&e.length){var n=e.slice(0,-1),r=e.slice(-1);return!(n.filter(i.not(t.isString)).length||r.filter(i.not(t.isFunction)).length)}return t.isFunction(e)},t.isPromise=i.and(t.isObject,i.pipe(i.prop("then"),t.isFunction))},function(e,t,n){"use strict";function i(e){var t=[].slice.apply(arguments,[1]),n=e.length;return function t(i){return i.length>=n?e.apply(null,i):function(){return t(i.concat([].slice.apply(arguments)))}}(t)}function r(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(null,[].slice.call(arguments).reverse())}Object.defineProperty(t,"__esModule",{value:!0}),t.curry=i,t.compose=r,t.pipe=o,t.prop=function(e){return function(t){return t&&t[e]}},t.propEq=i(function(e,t,n){return n&&n[e]===t}),t.parse=function(e){return o.apply(null,e.split(".").map(t.prop))},t.not=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},t.and=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.apply(null,n)&&t.apply(null,n)}},t.or=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.apply(null,n)||t.apply(null,n)}},t.all=function(e){return function(t){return t.reduce(function(t,n){return t&&!!e(n)},!0)}},t.any=function(e){return function(t){return t.reduce(function(t,n){return t||!!e(n)},!1)}},t.is=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},t.eq=function(e){return function(t){return e===t}},t.val=function(e){return function(){return e}},t.invoke=function(e,t){return function(n){return n[e].apply(n,t)}},t.pattern=function(e){return function(t){for(var n=0;n<e.length;n++)if(e[n][0](t))return e[n][1](t)}}},,function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}};var i={$q:void 0,$injector:void 0};t.services=i},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(74)("wks"),r=n(52),o=n(11).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},function(e,t,n){!function(e,t,n){"use strict";function i(){var e=null;return function(t,i){return e=e||n.services.$injector.get("$templateFactory"),[new E(t,i,e)]}}function r(e){if(!e.parent)return{};var t=["component","bindings","componentProvider"],i=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),r=t.concat(i);if(n.isDefined(e.views)&&w(r,e))throw new Error("State '"+e.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+r.filter(function(t){return n.isDefined(e[t])}).join(", "));var o={},a=e.views||{$default:n.pick(e,r)};return n.forEach(a,function(r,a){if(a=a||"$default",n.isString(r)&&(r={component:r}),r=n.extend({},r),w(t,r)&&w(i,r))throw new Error("Cannot combine: "+t.join("|")+" with: "+i.join("|")+" in stateview: '"+a+"@"+e.name+"'");r.resolveAs=r.resolveAs||"$resolve",r.$type="ng1",r.$context=e,r.$name=a;var s=n.ViewService.normalizeUIViewTarget(r.$context,r.$name);r.$uiViewName=s.uiViewName,r.$uiViewContextAnchor=s.uiViewContextAnchor,o[a]=r}),o}function o(e){function t(e,t,n,i,r,a){return o._runtimeServices(i,e,n,t),delete N.router,delete N.$get,N}(N=this.router=new n.UIRouter).stateProvider=new T(N.stateRegistry,N.stateService),N.stateRegistry.decorator("views",r),N.stateRegistry.decorator("onExit",A("onExit")),N.stateRegistry.decorator("onRetain",A("onRetain")),N.stateRegistry.decorator("onEnter",A("onEnter")),N.viewService._pluginapi._viewConfigFactory("ng1",i());var o=N.locationService=N.locationConfig=new k(e);return k.monkeyPatchPathParameterType(N),N.router=N,N.$get=t,t.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],N}function a(e,t,i){n.services.$injector=e,n.services.$q=t,i.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(n.unnestR,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn,e.strictDi)})}function s(e){e.$watch(function(){n.trace.approximateDigests++})}function l(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function c(e){var t=e.parent().inheritedData("$uiView"),i=n.parse("$cfg.path")(t);return i?n.tail(i).state.name:void 0}function u(e,t,i){var r=i.uiState||e.current.name,o=n.extend(function(e,t){return{relative:c(e)||t.$current,inherit:!0,source:"sref"}}(t,e),i.uiStateOpts||{}),a=e.href(r,i.uiStateParams,o);return{uiState:r,uiStateParams:i.uiStateParams,uiStateOpts:o,href:a}}function d(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function p(e,t,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var c=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function h(e,t,i,r){var o;r&&(o=r.events),n.isArray(o)||(o=["click"]);for(var a=e.on?"on":"bind",s=0,l=o;s<l.length;s++){var c=l[s];e[a](c,i)}t.$on("$destroy",function(){for(var t=e.off?"off":"unbind",n=0,r=o;n<r.length;n++){var a=r[n];e[t](a,i)}})}function m(e){var t=function(t,n,i){return e.is(t,n,i)};return t.$stateful=!0,t}function f(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}function g(e,t,i,r,o,a){var s=n.parse("viewDecl.controllerAs"),l=n.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(r){var a=r.html();return r.empty(),function(r,c){var u=c.data("$uiView");if(!u)return c.html(a),void e(c.contents())(r);var d=u.$cfg||{viewDecl:{},getTemplate:n.noop},p=d.path&&new n.ResolveContext(d.path);c.html(d.getTemplate(c,p)||a),n.trace.traceUIViewFill(u.$uiView,c.html());var h=e(c.contents()),m=d.controller,f=s(d),g=l(d),b=p&&B(p);if(r[g]=b,m){var w=t(m,n.extend({},b,{$scope:r,$element:c}));f&&(r[f]=w,r[f][g]=b),c.data("$ngControllerController",w),c.children().data("$ngControllerController",w),v(o,i,w,r,d)}if(n.isString(d.viewDecl.component))var C=d.viewDecl.component,E=n.kebobString(C),x=new RegExp("^(x-|data-)?"+E+"$","i"),S=r.$watch(function(){var e=[].slice.call(c[0].children).filter(function(e){return e&&e.tagName&&x.exec(e.tagName)});return e&&y.element(e).data("$"+C+"Controller")},function(e){e&&(v(o,i,e,r,d),S())});h(r)}}}}function v(e,t,i,r,o){!n.isFunction(i.$onInit)||o.viewDecl.component&&z||i.$onInit();var a=n.tail(o.path).state.self,s={bind:i};if(n.isFunction(i.uiOnParamsChanged)){var l=new n.ResolveContext(o.path).getResolvable("$transition$").data;r.$on("$destroy",t.onSuccess({},function(e){if(e!==l&&-1===e.exiting().indexOf(a)){var t=e.params("to"),r=e.params("from"),o=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(n.unnestR,[]),s=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(n.unnestR,[]),c=o.filter(function(e){var n=s.indexOf(e);return-1===n||!s[n].type.equals(t[e.id],r[e.id])});if(c.length){var u=c.map(function(e){return e.id}),d=n.filter(t,function(e,t){return-1!==u.indexOf(t)});i.uiOnParamsChanged(d,e)}}},s))}if(n.isFunction(i.uiCanExit)){var c=U++,u=function(e){return!!e&&(e._uiCanExitIds&&!0===e._uiCanExitIds[c]||u(e.redirectedFrom()))},d={exiting:a.name};r.$on("$destroy",t.onBefore(d,function(t){var n,r=t._uiCanExitIds=t._uiCanExitIds||{};return u(t)||(n=e.when(i.uiCanExit(t))).then(function(e){return r[c]=!1!==e}),n},s))}}var b=angular,y=t&&t.module?t:b,w=function(e,t){return e.reduce(function(e,i){return e||n.isDefined(t[i])},!1)},C=0,E=function(){function e(e,t,n){var i=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=C++,this.loaded=!1,this.getTemplate=function(e,t){return i.component?i.factory.makeComponentTemplate(e,t,i.component,i.viewDecl.bindings):i.template}}return e.prototype.load=function(){var e=this,t=n.services.$q,i=new n.ResolveContext(this.path),r=this.path.reduce(function(e,t){return n.extend(e,t.paramValues)},{}),o={template:t.when(this.factory.fromConfig(this.viewDecl,r,i)),controller:t.when(this.getController(i))};return t.all(o).then(function(t){return n.trace.traceViewServiceEvent("Loaded",e),e.controller=t.controller,n.extend(e,t.template),e})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!n.isInjectable(t))return this.viewDecl.controller;var i=n.services.$injector.annotate(t),r=n.isArray(t)?n.tail(t):t;return new n.Resolvable("",r,i).get(e)},e}(),x=function(){function e(){var e=this;this._useHttp=y.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,n,i){return e.$templateRequest=i.has&&i.has("$templateRequest")&&i.get("$templateRequest"),e.$http=t,e.$templateCache=n,e}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,i){var r=function(e){return n.services.$q.when(e).then(function(e){return{template:e}})},o=function(e){return n.services.$q.when(e).then(function(e){return{component:e}})};return n.isDefined(e.template)?r(this.fromString(e.template,t)):n.isDefined(e.templateUrl)?r(this.fromUrl(e.templateUrl,t)):n.isDefined(e.templateProvider)?r(this.fromProvider(e.templateProvider,t,i)):n.isDefined(e.component)?o(e.component):n.isDefined(e.componentProvider)?o(this.fromComponentProvider(e.componentProvider,t,i)):r("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return n.isFunction(e)?e(t):e},e.prototype.fromUrl=function(e,t){return n.isFunction(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,i){var r=n.services.$injector.annotate(e),o=n.isArray(e)?n.tail(e):e;return new n.Resolvable("",o,r).get(i)},e.prototype.fromComponentProvider=function(e,t,i){var r=n.services.$injector.annotate(e),o=n.isArray(e)?n.tail(e):e;return new n.Resolvable("",o,r).get(i)},e.prototype.makeComponentTemplate=function(e,t,i,r){r=r||{};var o=y.version.minor>=3?"::":"",a=function(e){var t=n.kebobString(e);return/^(x|data)-/.exec(t)?"x-"+t:t},s=function(e){var t=n.services.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(S).reduce(n.unnestR,[])}(i).map(function(i){var s=i.name,l=i.type,c=a(s);if(e.attr(c)&&!r[s])return c+"='"+e.attr(c)+"'";var u=r[s]||s;if("@"===l)return c+"='{{"+o+"$resolve."+u+"}}'";if("&"===l){var d=t.getResolvable(u),p=d&&d.data,h=p&&n.services.$injector.annotate(p)||[];return c+"='$resolve."+u+(n.isArray(p)?"["+(p.length-1)+"]":"")+"("+h.join(",")+")'"}return c+"='"+o+"$resolve."+u+"'"}).join(" "),l=a(i);return"<"+l+" "+s+"></"+l+">"},e}(),S=function(e){return _(n.isObject(e.bindToController)?e.bindToController:e.scope)},_=function(e){return Object.keys(e||{}).map(function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]}).filter(function(e){return n.isDefined(e)&&n.isArray(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},T=function(){function e(t,i){this.stateRegistry=t,this.stateService=i,n.createProxyFunctions(n.val(e.prototype),this,n.val(this))}return e.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},e.prototype.state=function(e,t){return n.isObject(e)?t=e:t.name=e,this.stateRegistry.register(t),this},e.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},e}(),A=function(e){return function(t,i){var r=t[e],o="onExit"===e?"from":"to";return r?function(e,t){var i=new n.ResolveContext(e.treeChanges(o)).subContext(t.$$state()),a=n.extend(B(i),{$state$:t,$transition$:e});return n.services.$injector.invoke(r,this,a)}:void 0}},k=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=n.val(e);n.createProxyFunctions(t,this,t,["hashPrefix"])}return e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return n.removeFrom(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=n.isObject(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.url=function(e,t,i){return void 0===t&&(t=!1),n.isDefined(e)&&this.$location.url(e),t&&this.$location.replace(),i&&this.$location.state(i),this.$location.url()},e.prototype._runtimeServices=function(e,t,i,r){var o=this;this.$location=t,this.$sniffer=i,e.$on("$locationChangeSuccess",function(e){return o._urlListeners.forEach(function(t){return t(e)})});var a=n.val(t),s=n.val(r);n.createProxyFunctions(a,this,a,["replace","path","search","hash"]),n.createProxyFunctions(a,this,a,["port","protocol","host"]),n.createProxyFunctions(s,this,s,["baseHref"])},e}(),$=function(){function e(e){this._router=e,this._urlRouter=e.urlRouter}return e.injectableHandler=function(e,t){return function(i){return n.services.$injector.invoke(t,null,{$match:i,$stateParams:e.globals.params})}},e.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},e.prototype.rule=function(e){var t=this;if(!n.isFunction(e))throw new Error("'rule' must be a function");var i=new n.BaseUrlRule(function(){return e(n.services.$injector,t._router.locationService)},n.identity);return this._urlRouter.rule(i),this},e.prototype.otherwise=function(e){var t=this,i=this._urlRouter;if(n.isString(e))i.otherwise(e);else{if(!n.isFunction(e))throw new Error("'rule' must be a string or function");i.otherwise(function(){return e(n.services.$injector,t._router.locationService)})}return this},e.prototype.when=function(t,i){return(n.isArray(i)||n.isFunction(i))&&(i=e.injectableHandler(this._router,i)),this._urlRouter.when(t,i),this},e.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},e}();y.module("ui.router.angular1",[]);var M=y.module("ui.router.init",[]),P=y.module("ui.router.util",["ng","ui.router.init"]),R=y.module("ui.router.router",["ui.router.util"]),O=y.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),D=y.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),N=(y.module("ui.router.compat",["ui.router"]),null);o.$inject=["$locationProvider"];var I=function(e){return["$uiRouterProvider",function(t){var n=t.router[e];return n.$get=function(){return n},n}]};a.$inject=["$injector","$q","$uiRouter"],s.$inject=["$rootScope"],M.provider("$uiRouter",o),R.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new $(e)}]),P.provider("$urlService",I("urlService")),P.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return N.urlMatcherFactory}]),P.provider("$templateFactory",function(){return new x}),O.provider("$stateRegistry",I("stateRegistry")),O.provider("$uiRouterGlobals",I("globals")),O.provider("$transitions",I("transitionService")),O.provider("$state",["$uiRouterProvider",function(){return n.extend(N.stateProvider,{$get:function(){return N.stateService}})}]),O.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),D.factory("$view",function(){return N.viewService}),D.service("$trace",function(){return n.trace}),D.run(s),P.run(["$urlMatcherFactory",function(e){}]),O.run(["$state",function(e){}]),R.run(["$urlRouter",function(e){}]),M.run(a);var L,F,H,j,B=function(e){return e.getTokens().filter(n.isString).map(function(t){var n=e.getResolvable(t);return[t,"NOWAIT"===e.getPolicy(n).async?n.promise:n.data]}).reduce(n.applyPairs,{})};L=["$uiRouter","$timeout",function(e,t){var i=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,a,s){function c(){var e=y();v&&v(),g&&(v=g.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&a.$set(f.attr,e.href)}var m,f=d(o),g=s[1]||s[0],v=null,b={},y=function(){return u(i,o,b)},w=l(a.uiSref);b.uiState=w.state,b.uiStateOpts=a.uiSrefOpts?r.$eval(a.uiSrefOpts):{},w.paramExpr&&(r.$watch(w.paramExpr,function(e){b.uiStateParams=n.extend({},e),c()},!0),b.uiStateParams=n.extend({},r.$eval(w.paramExpr))),c(),r.$on("$destroy",e.stateRegistry.onStatesChanged(c)),r.$on("$destroy",e.transitionService.onSuccess({},c)),f.clickable&&(m=p(o,i,t,f,y),h(o,r,m,b.uiStateOpts))}}}],F=["$uiRouter","$timeout",function(e,t){var i=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,a,s){function l(){var e=b();g&&g(),f&&(g=f.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&a.$set(m.attr,e.href)}var c,m=d(o),f=s[1]||s[0],g=null,v={},b=function(){return u(i,o,v)},y=["uiState","uiStateParams","uiStateOpts"],w=y.reduce(function(e,t){return e[t]=n.noop,e},{});y.forEach(function(e){v[e]=a[e]?r.$eval(a[e]):null,a.$observe(e,function(t){w[e](),w[e]=r.$watch(t,function(t){v[e]=t,l()},!0)})}),l(),r.$on("$destroy",e.stateRegistry.onStatesChanged(l)),r.$on("$destroy",e.transitionService.onSuccess({},l)),m.clickable&&(c=p(o,i,t,m,b),h(o,r,c,v.uiStateOpts))}}}],H=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,i,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,o,a){function s(e){e.promise.then(h,n.noop)}function u(){d(f)}function d(e){n.isObject(e)&&(y=[],n.forEach(e,function(e,i){var r=function(e,n){var i=l(e);p(i.state,t.$eval(i.paramExpr),n)};n.isString(e)?r(e,i):n.isArray(e)&&n.forEach(e,function(e){r(e,i)})}))}function p(t,i,r){var a={state:e.get(t,c(o))||{name:t},params:i,activeClass:r};return y.push(a),function(){n.removeFrom(y)(a)}}function h(){var i=function(e){return e.split(/\s/).filter(n.identity)},r=function(e){return e.map(function(e){return e.activeClass}).map(i).reduce(n.unnestR,[])},a=r(y).concat(i(m)).reduce(n.uniqR,[]),s=r(y.filter(function(t){return e.includes(t.state.name,t.params)})),l=y.filter(function(t){return e.is(t.state.name,t.params)}).length?i(m):[],c=s.concat(l).reduce(n.uniqR,[]),u=a.filter(function(e){return!n.inArray(c,e)});t.$evalAsync(function(){c.forEach(function(e){return o.addClass(e)}),u.forEach(function(e){return o.removeClass(e)})})}var m,f,g,v,b,y=[];m=i(a.uiSrefActiveEq||"",!1)(t);try{f=t.$eval(a.uiSrefActive)}catch(e){}d(f=f||i(a.uiSrefActive||"",!1)(t)),this.$$addStateInfo=function(e,t){if(!(n.isObject(f)&&y.length>0)){var i=p(e,t,f);return h(),i}},t.$on("$destroy",(g=r.stateRegistry.onStatesChanged(u),v=r.transitionService.onStart({},s),b=t.$on("$stateChangeSuccess",h),function(){g(),v(),b()})),r.globals.transition&&s(r.globals.transition),h()}]}}],y.module("ui.router.state").directive("uiSref",L).directive("uiSrefActive",H).directive("uiSrefActiveEq",H).directive("uiState",F),m.$inject=["$state"],f.$inject=["$state"],y.module("ui.router.state").filter("isState",m).filter("includedByState",f),j=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,i,r,o){var a={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},s={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(l,c,u){return function(l,c,d){function p(e){var t=l.$new(),r=o.defer(),a=o.defer(),s={$cfg:e,$uiView:_},d={$animEnter:r.promise,$animLeave:a.promise,$$animLeave:a};t.$emit("$viewContentLoading",S);var p=u(t,function(e){e.data("$uiViewAnim",d),e.data("$uiView",s),C.enter(e,c,function(){r.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(n.isDefined(w)&&!w||l.$eval(w))&&i(e)}),function(){if(h&&(n.trace.traceUIViewEvent("Removing (previous) el",h.data("$uiView")),h.remove(),h=null),f&&(n.trace.traceUIViewEvent("Destroying scope",_),f.$destroy(),f=null),m){var e=m.data("$uiViewAnim");n.trace.traceUIViewEvent("Animate out",e),C.leave(m,function(){e.$$animLeave.resolve(),h=null}),h=m,m=null}}()});m=p,(f=t).$emit("$viewContentLoaded",e||g),f.$eval(b)}var h,m,f,g,v,b=d.onload||"",w=d.autoscroll,C={enter:function(e,n,i){y.version.minor>2?t.enter(e,null,n).then(i):t.enter(e,null,n,i)},leave:function(e,n){y.version.minor>2?t.leave(e).then(n):t.leave(e,n)}},x=c.inheritedData("$uiView")||a,S=r(d.uiView||d.name||"")(l)||"$default",_={$type:"ng1",id:s.count++,name:S,fqn:x.$uiView.fqn?x.$uiView.fqn+"."+S:S,config:null,configUpdated:function(e){if((!e||e instanceof E)&&(t=g,i=e,t!==i)){var t,i;n.trace.traceUIViewConfigUpdated(_,e&&e.viewDecl&&e.viewDecl.$context),g=e,p(e)}},get creationContext(){var e=n.parse("$cfg.viewDecl.$context")(x),t=n.parse("$uiView.creationContext")(x);return e||t}};n.trace.traceUIViewEvent("Linking",_),c.data("$uiView",{$uiView:_}),p(),v=e.registerUIView(_),l.$on("$destroy",function(){n.trace.traceUIViewEvent("Destroying/Unregistering",_),v()})}}};return s}],g.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var z="function"==typeof y.module("ui.router").component,U=0;y.module("ui.router.state").directive("uiView",j),y.module("ui.router.state").directive("uiView",g),y.module("ui.router.state").provider("$uiViewScroll",function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}),Object.keys(n).forEach(function(t){e[t]=n[t]}),e.core=n,e.default="ui.router",e.watchDigests=s,e.getLocals=B,e.getNg1ViewConfigFactory=i,e.ng1ViewsBuilder=r,e.Ng1ViewConfig=E,e.StateProvider=T,e.UrlRouterProvider=$,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(254))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(3)),i(n(10)),i(n(82)),i(n(7)),i(n(6)),i(n(83)),i(n(16)),i(n(23))},function(e,t,n){var i=n(11),r=n(9),o=n(37),a=n(26),s=function(e,t,n){var l,c,u,d=e&s.F,p=e&s.G,h=e&s.S,m=e&s.P,f=e&s.B,g=e&s.W,v=p?r:r[t]||(r[t]={}),b=v.prototype,y=p?i:h?i[t]:(i[t]||{}).prototype;for(l in p&&(n=t),n)(c=!d&&y&&void 0!==y[l])&&l in v||(u=c?y[l]:n[l],v[l]=p&&"function"!=typeof y[l]?n[l]:f&&c?o(u,i):g&&y[l]==u?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):m&&"function"==typeof u?o(Function.call,u):u,m&&((v.virtual||(v.virtual={}))[l]=u,e&s.R&&b&&!b[l]&&a(b,l,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){"use strict";function i(e){var t=r(e),n=t.match(/^(function [^ ]+\([^)]*\))/),i=n?n[1]:t,o=e.name||"";return o&&i.match(/function \(/)?"function "+o+i.substr(9):i}function r(e){var t=o.isArray(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(41),s=n(3),l=n(7),c=n(56),u=n(43);t.maxLength=function(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."},t.padString=function(e,t){for(;t.length<e;)t+=" ";return t},t.kebobString=function(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},t.functionToString=i,t.fnToString=r;var d=null,p=function(e){var t=a.Rejection.isRejectionPromise;return(d=d||l.pattern([[l.not(o.isDefined),l.val("undefined")],[o.isNull,l.val("null")],[o.isPromise,l.val("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[l.is(a.Rejection),l.invoke("toString")],[l.is(c.Transition),l.invoke("toString")],[l.is(u.Resolvable),l.invoke("toString")],[o.isInjectable,i],[l.val(!0),s.identity]]))(e)};t.stringify=function(e){var t=[];return JSON.stringify(e,function(e,n){return function(e){if(o.isObject(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return p(e)}(n)}).replace(/\\"/g,'"')},t.beforeAfterSubstr=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}},t.hostRegex=new RegExp("^(?:[a-z]+:)?//[^/]+/"),t.stripLastPathElement=function(e){return e.replace(/\/[^\/]*$/,"")},t.splitHash=t.beforeAfterSubstr("#"),t.splitQuery=t.beforeAfterSubstr("?"),t.splitEqual=t.beforeAfterSubstr("="),t.trimHashVal=function(e){return e?e.replace(/^#/,""):""},t.splitOnDelim=function(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(s.identity)}},t.joinNeighborsR=function(e,t){return o.isString(s.tail(e))&&o.isString(t)?e.slice(0,-1).concat(s.tail(e)+t):s.pushR(e,t)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},,function(e,t,n){var i=n(21);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(19),r=n(114),o=n(71),a=Object.defineProperty;t.f=n(22)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function i(e){if(!e)return"ui-view (defunct)";var t=e.creationContext?e.creationContext.name||"(root)":"(none)";return"[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"}function r(e){return s.isNumber(e)?o[e]:o[o[e]]}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(7),s=n(6),l=n(16),c=Function.prototype.bind.call(console.log,console),u=s.isFunction(console.table)?console.table.bind(console):c.bind(console);!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(o=t.Category||(t.Category={}));var d=a.parse("$id"),p=a.parse("router.$id"),h=function(e){return"Transition #"+d(e)+"-"+p(e)},m=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,t){var n=this;t.length||(t=Object.keys(o).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return o[e]})),t.map(r).forEach(function(t){return n._enabled[t]=e})},e.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},e.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},e.prototype.enabled=function(e){return!!this._enabled[r(e)]},e.prototype.traceTransitionStart=function(e){this.enabled(o.TRANSITION)&&console.log(h(e)+": Started  -> "+l.stringify(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(o.TRANSITION)&&console.log(h(e)+": Ignored  <> "+l.stringify(e))},e.prototype.traceHookInvocation=function(e,t,n){if(this.enabled(o.HOOK)){var i=a.parse("traceData.hookType")(n)||"internal",r=a.parse("traceData.context.state.name")(n)||a.parse("traceData.context")(n)||"unknown",s=l.functionToString(e.registeredHook.callback);console.log(h(t)+":   Hook -> "+i+" context: "+r+", "+l.maxLength(200,s))}},e.prototype.traceHookResult=function(e,t,n){this.enabled(o.HOOK)&&console.log(h(t)+":   <- Hook returned: "+l.maxLength(200,l.stringify(e)))},e.prototype.traceResolvePath=function(e,t,n){this.enabled(o.RESOLVE)&&console.log(h(n)+":         Resolving "+e+" ("+t+")")},e.prototype.traceResolvableResolved=function(e,t){this.enabled(o.RESOLVE)&&console.log(h(t)+":               <- Resolved  "+e+" to: "+l.maxLength(200,l.stringify(e.data)))},e.prototype.traceError=function(e,t){this.enabled(o.TRANSITION)&&console.log(h(t)+": <- Rejected "+l.stringify(t)+", reason: "+e)},e.prototype.traceSuccess=function(e,t){this.enabled(o.TRANSITION)&&console.log(h(t)+": <- Success  "+l.stringify(t)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(o.UIVIEW)&&console.log("ui-view: "+l.padString(30,e)+" "+i(t)+n)},e.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(o.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},e.prototype.traceUIViewFill=function(e,t){this.enabled(o.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+l.maxLength(200,t))},e.prototype.traceViewSync=function(e){if(this.enabled(o.VIEWCONFIG)){var t="uiview component fqn",n=e.map(function(e){var n,i=e.uiView,r=e.viewConfig,o=i&&i.fqn,a=r&&r.viewDecl.$context.name+": ("+r.viewDecl.$name+")";return(n={})[t]=o,n["view config state (view name)"]=a,n}).sort(function(e,n){return(e[t]||"").localeCompare(n[t]||"")});u(n)}},e.prototype.traceViewServiceEvent=function(e,t){this.enabled(o.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+function(e){var t=e.viewDecl,n=t.$context.name||"(root)";return"[View#"+e.$id+" from '"+n+"' state]: target ui-view: '"+t.$uiViewName+"@"+t.$uiViewContextAnchor+"'"}(t))},e.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(o.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+i(t))},e}();t.Trace=m;var f=new m;t.trace=f},function(e,t,n){e.exports={default:n(372),__esModule:!0}},,function(e,t,n){var i=n(20),r=n(51);e.exports=n(22)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";(function(e){function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=c(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(t,n),a=(e=r(e,i)).write(t,n);return a!==i&&(e=e.slice(0,a)),e}(e,t,n):function(e,t){if(o.isBuffer(t)){var n=0|u(t.length);return 0===(e=r(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?r(e,0):c(e,t);if("Buffer"===t.type&&j(t.data))return c(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(s(t),e=r(e,t<0?0:0|u(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|u(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function u(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function d(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return I(e).length;default:if(i)return N(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function h(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:m(e,t,n,i,r);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,i,r){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,l=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,l/=2,c/=2,n/=2}if(r){var u=-1;for(a=n;a<l;a++)if(o(e,a)===o(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*s}else-1!==u&&(a-=a-u),u=-1}else for(n+c>l&&(n=l-c),a=n;a>=0;a--){for(var d=!0,p=0;p<c;p++)if(o(e,a+p)!==o(t,p)){d=!1;break}if(d)return a}return-1}function f(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function g(e,t,n,i){return L(N(t,e.length-n),e,n,i)}function v(e,t,n,i){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function b(e,t,n,i){return v(e,t,n,i)}function y(e,t,n,i){return L(I(t),e,n,i)}function w(e,t,n,i){return L(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function C(e,t,n){return 0===t&&n===e.length?F.fromByteArray(e):F.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(e){var t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=B));return n}(i)}function x(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function S(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function _(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=D(e[o]);return r}function T(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,i,r,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function $(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function M(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function P(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,i,r){return r||P(e,0,n,4),H.write(e,t,n,i,23,4),n+4}function O(e,t,n,i,r){return r||P(e,0,n,8),H.write(e,t,n,i,52,8),n+8}function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function I(e){return F.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}var F=n(298),H=n(299),j=n(300);t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return function(e,t,n,i){return s(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!j(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=o.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,r){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var a=r-i,s=n-t,l=Math.min(a,s),c=this.slice(i,r),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},o.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return f(this,e,t,n);case"utf8":case"utf-8":return g(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return y(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;o.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=o.prototype;else{var r=t-e;n=new o(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},o.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),H.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),H.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),H.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),H.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||k(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||k(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:N(new o(e,i).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var z=/[^+\/0-9A-Za-z-_]/g}).call(t,n(8))},function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);c.call(this,e),u.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(e){e.end()}var a=n(62).nextTick,s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=i;var l=n(47);l.inherits=n(17);var c=n(166),u=n(92);l.inherits(i,c);for(var d=s(u.prototype),p=0;p<d.length;p++){var h=d[p];i.prototype[h]||(i.prototype[h]=u.prototype[h])}Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),i.prototype._destroy=function(e,t){this.push(null),this.end(),a(t,e)}},function(e,t,n){var i;!function(r){"use strict";function o(e,t,n){var i,r=document.createElement("img");return r.onerror=function(i){return o.onerror(r,i,e,t,n)},r.onload=function(i){return o.onload(r,i,e,t,n)},"string"==typeof e?(o.fetchBlob(e,function(t){t?(e=t,i=o.createObjectURL(e)):(i=e,n&&n.crossOrigin&&(r.crossOrigin=n.crossOrigin)),r.src=i},n),r):o.isInstanceOf("Blob",e)||o.isInstanceOf("File",e)?(i=r._objectURL=o.createObjectURL(e))?(r.src=i,r):o.readFile(e,function(e){var n=e.target;n&&n.result?r.src=n.result:t&&t(e)}):void 0}function a(e,t){!e._objectURL||t&&t.noRevoke||(o.revokeObjectURL(e._objectURL),delete e._objectURL)}var s=r.createObjectURL&&r||r.URL&&URL.revokeObjectURL&&URL||r.webkitURL&&webkitURL;o.fetchBlob=function(e,t,n){t()},o.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},o.transform=function(e,t,n,i,r){n(e,r)},o.onerror=function(e,t,n,i,r){a(e,r),i&&i.call(e,t)},o.onload=function(e,t,n,i,r){a(e,r),i&&o.transform(e,r,i,n,{})},o.createObjectURL=function(e){return!!s&&s.createObjectURL(e)},o.revokeObjectURL=function(e){return!!s&&s.revokeObjectURL(e)},o.readFile=function(e,t,n){if(r.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,i[n=n||"readAsDataURL"])return i[n](e),i}return!1},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}("undefined"!=typeof window&&window||this)},,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(117),r=n(69);e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=n(16),o=n(14),a=function(){function e(e,t,n,i){this._stateRegistry=e,this._identifier=t,this._identifier=t,this._params=o.extend({},n||{}),this._options=o.extend({},i||{}),this._definition=e.matcher.find(t,this._options.relative)}return e.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},e.prototype.identifier=function(){return this._identifier},e.prototype.params=function(){return this._params},e.prototype.$state=function(){return this._definition},e.prototype.state=function(){return this._definition&&this._definition.self},e.prototype.options=function(){return this._options},e.prototype.exists=function(){return!(!this._definition||!this._definition.self)},e.prototype.valid=function(){return!this.error()},e.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},e.prototype.toString=function(){return"'"+this.name()+"'"+r.stringify(this.params())},e.prototype.withState=function(t){return new e(this._stateRegistry,t,this._params,this._options)},e.prototype.withParams=function(t,n){void 0===n&&(n=!1);var i=n?t:o.extend({},this._params,t);return new e(this._stateRegistry,this._identifier,i,this._options)},e.prototype.withOptions=function(t,n){void 0===n&&(n=!1);var i=n?t:o.extend({},this._options,t);return new e(this._stateRegistry,this._identifier,this._params,i)},e.isDef=function(e){return e&&e.state&&(i.isString(e.state)||i.isString(e.state.name))},e}();t.TargetState=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3),o=n(7),a=n(6),s=n(10),l=n(86),c=Object.prototype.hasOwnProperty,u=function(e){return 0===["value","type","squash","array","dynamic"].filter(c.bind(e||{})).length};!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(i=t.DefType||(t.DefType={}));var d=function(){function e(e,t,n,s,c){t=function(e,t,n,r,o){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+r+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&o.type(e.type))return o.type(e.type);if(t)return t;if(!e.type){var a=n===i.CONFIG?"any":n===i.PATH?"path":n===i.SEARCH?"query":"string";return o.type(a)}return e.type instanceof l.ParamType?e.type:o.type(e.type)}(n=function(e){function t(){return e.value}return e=u(e)&&{value:e}||e,t.__cacheable=!0,r.extend(e,{$$fn:a.isInjectable(e.value)?e.value:t})}(n),t,s,e,c.paramTypes);var d,p,h=(d={array:s===i.SEARCH&&"auto"},p=e.match(/\[\]$/)?{array:!0}:{},r.extend(d,p,n).array);t=h?t.$asArray(h,s===i.SEARCH):t;var m=void 0!==n.value||s===i.SEARCH,f=a.isDefined(n.dynamic)?!!n.dynamic:!!t.dynamic,g=a.isDefined(n.raw)?!!n.raw:!!t.raw,v=function(e,t,n){var i=e.squash;if(!t||!1===i)return!1;if(!a.isDefined(i)||null==i)return n;if(!0===i||a.isString(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string")}(n,m,c.defaultSquashPolicy()),b=function(e,t,n,i){var s=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}],l=a.isArray(e.replace)?e.replace:[];a.isString(i)&&l.push({from:i,to:void 0});var c=r.map(l,o.prop("from"));return r.filter(s,function(e){return-1===c.indexOf(e.from)}).concat(l)}(n,h,m,v),y=a.isDefined(n.inherit)?!!n.inherit:!!t.inherit;r.extend(this,{id:e,type:t,location:s,isOptional:m,dynamic:f,raw:g,squash:v,replace:b,inherit:y,array:h,config:n})}return e.values=function(e,t){void 0===t&&(t={});for(var n={},i=0,r=e;i<r.length;i++){var o=r[i];n[o.id]=o.value(t[o.id])}return n},e.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},e.equals=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),0===e.changed(t,n,i).length},e.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(r.allTrueR,!0)},e.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},e.prototype.value=function(e){var t=this;return e=function(e){for(var n=0,i=t.replace;n<i.length;n++){var r=i[n];if(r.from===e)return r.to}return e}(e),a.isUndefined(e)?function(){if(t._defaultValueCache)return t._defaultValueCache.defaultValue;if(!s.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=s.services.$injector.invoke(t.config.$$fn);if(null!==e&&void 0!==e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return t.config.$$fn.__cacheable&&(t._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},e.prototype.isSearch=function(){return this.location===i.SEARCH},e.prototype.validates=function(e){if((a.isUndefined(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(a.isString(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e}();t.Param=d},function(e,t,n){var i=n(50);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,n){var i=n(116),r=n(75);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3),o=n(16),a=n(7);!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(i=t.RejectType||(t.RejectType={}));var s=0,l=function(){function e(e,t,n){this.$id=s++,this.type=e,this.message=t,this.detail=n}return e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&a.is(e)(t._transitionRejection)},e.superseded=function(t,n){var r=new e(i.SUPERSEDED,"The transition has been superseded by a different transition",t);return n&&n.redirected&&(r.redirected=!0),r},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(t){return new e(i.INVALID,"This transition is invalid",t)},e.ignored=function(t){return new e(i.IGNORED,"The transition was ignored",t)},e.aborted=function(t){return new e(i.ABORTED,"The transition has been aborted",t)},e.errored=function(t){return new e(i.ERROR,"The transition errored",t)},e.normalize=function(t){return a.is(e)(t)?t:e.errored(t)},e.prototype.toString=function(){var e,t=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():o.stringify(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+t+")"},e.prototype.toPromise=function(){return r.extend(r.silentRejection(this),{_transitionRejection:this})},e}();t.Rejection=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),r=n(3),o=n(16),a=n(6),s=n(7),l=n(23),c=n(10),u=n(41),d=n(35),p={current:r.noop,transition:null,traceData:{},bind:null},h=function(){function e(e,t,n,o){var a=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=o,this.isSuperseded=function(){return a.type.hookPhase===i.TransitionHookPhase.RUN&&!a.options.transition.isActive()},this.options=r.defaults(o,p),this.type=n.eventType}return e.chain=function(e,t){return e.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},t||c.services.$q.when())},e.invokeHooks=function(t,n){for(var i=0;i<t.length;i++){var r=t[i].invokeHook();if(a.isPromise(r)){var o=t.slice(i+1);return e.chain(o,r).then(n)}}return n()},e.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},e.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},e.prototype.invokeHook=function(){var e=this,t=this.registeredHook;if(!t._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var i=this.options;l.trace.traceHookInvocation(this,this.transition,i);var r=function(n){return t.eventType.getErrorHandler(e)(n)},o=function(n){return t.eventType.getResultHandler(e)(n)};try{var s=t.callback.call(i.bind,e.transition,e.stateContext);return!this.type.synchronous&&a.isPromise(s)?s.catch(function(e){return u.Rejection.normalize(e).toPromise()}).then(o,r):o(s)}catch(e){return r(u.Rejection.normalize(e))}finally{t.invokeLimit&&++t.invokeCount>=t.invokeLimit&&t.deregister()}}},e.prototype.handleHookResult=function(e){var t=this;return this.getNotCurrentRejection()||(a.isPromise(e)?e.then(function(e){return t.handleHookResult(e)}):(l.trace.traceHookResult(e,this.transition,this.options),!1===e?u.Rejection.aborted("Hook aborted transition").toPromise():s.is(d.TargetState)(e)?u.Rejection.redirected(e).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?u.Rejection.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?u.Rejection.aborted().toPromise():this.isSuperseded()?u.Rejection.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var e=this.options,t=this.registeredHook,n=s.parse("traceData.hookType")(e)||"internal",i=s.parse("traceData.context.state.name")(e)||s.parse("traceData.context")(e)||"unknown",r=o.fnToString(t.callback);return n+" context: "+i+", "+o.maxLength(200,r)},e.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},e.LOG_REJECTED_RESULT=function(e){return function(t){a.isPromise(t)&&t.catch(function(t){return e.logError(u.Rejection.normalize(t))})}},e.LOG_ERROR=function(e){return function(t){return e.logError(t)}},e.REJECT_ERROR=function(e){return function(e){return r.silentRejection(e)}},e.THROW_ERROR=function(e){return function(e){throw e}},e}();t.TransitionHook=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(10),o=n(23),a=n(16),s=n(6),l=n(6);t.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var c=function(){function e(t,n,o,a,c){if(this.resolved=!1,this.promise=void 0,t instanceof e)i.extend(this,t);else if(s.isFunction(n)){if(l.isNullOrUndefined(t))throw new Error("new Resolvable(): token argument is required");if(!s.isFunction(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=a,this.resolveFn=n,this.deps=o||[],this.data=c,this.resolved=void 0!==c,this.promise=this.resolved?r.services.$q.when(this.data):void 0}else if(s.isObject(t)&&t.token&&(t.hasOwnProperty("resolveFn")||t.hasOwnProperty("data"))){var u=t;return new e(u.token,u.resolveFn,u.deps,u.policy,u.data)}}return e.prototype.getPolicy=function(e){var n=this.policy||{},i=e&&e.resolvePolicy||{};return{when:n.when||i.when||t.defaultResolvePolicy.when,async:n.async||i.async||t.defaultResolvePolicy.async}},e.prototype.resolve=function(e,t){var n=this,a=r.services.$q,s=e.findNode(this),l=s&&s.state,c="RXWAIT"===this.getPolicy(l).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})}:i.identity;return this.promise=a.when().then(function(){return a.all(e.getDependencies(n).map(function(n){return n.get(e,t)}))}).then(function(e){return n.resolveFn.apply(null,e)}).then(c).then(function(e){return n.data=e,n.resolved=!0,n.resolveFn=null,o.trace.traceResolvableResolved(n,t),n.data})},e.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},e.prototype.toString=function(){return"Resolvable(token: "+a.stringify(this.token)+", requires: ["+this.deps.map(a.stringify)+"])"},e.prototype.clone=function(){return new e(this)},e.fromData=function(t,n){return new e(t,function(){return n},null,null,n)},e}();t.Resolvable=c},function(e,t,n){(function(e,i){var r;!function(i){var o=("object"==typeof e&&e&&e.exports,/[\uD800-\uDBFF][\uDC00-\uDFFF]/g),a=/[\x01-\x7F]/g,s=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,l=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,c={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},u=/["&'<>`]/g,d={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},p=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,h=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,f={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},g={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},v={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},b=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],y=String.fromCharCode,w={}.hasOwnProperty,C=function(e,t){return w.call(e,t)},E=function(e,t){if(!e)return t;var n,i={};for(n in t)i[n]=C(e,n)?e[n]:t[n];return i},x=function(e,t){var n="";return e>=55296&&e<=57343||e>1114111?(t&&T("character reference outside the permissible Unicode range"),"�"):C(v,e)?(t&&T("disallowed character reference"),v[e]):(t&&function(e,t){for(var n=-1,i=e.length;++n<i;)if(e[n]==t)return!0;return!1}(b,e)&&T("disallowed character reference"),e>65535&&(n+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+=y(e))},S=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},_=function(e){return"&#"+e+";"},T=function(e){throw Error("Parse error: "+e)},A=function(e,t){(t=E(t,A.options)).strict&&h.test(e)&&T("forbidden code point");var n=t.encodeEverything,i=t.useNamedReferences,r=t.allowUnsafeSymbols,d=t.decimal?_:S,p=function(e){return d(e.charCodeAt(0))};return n?(e=e.replace(a,function(e){return i&&C(c,e)?"&"+c[e]+";":p(e)}),i&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),i&&(e=e.replace(l,function(e){return"&"+c[e]+";"}))):i?(r||(e=e.replace(u,function(e){return"&"+c[e]+";"})),e=(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(l,function(e){return"&"+c[e]+";"})):r||(e=e.replace(u,p)),e.replace(o,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return d(1024*(t-55296)+n-56320+65536)}).replace(s,p)};A.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var k=function(e,t){var n=(t=E(t,k.options)).strict;return n&&p.test(e)&&T("malformed character reference"),e.replace(m,function(e,i,r,o,a,s,l,c){var u,d,p,h,m,v;return i?(p=i,d=r,n&&!d&&T("character reference was not terminated by a semicolon"),u=parseInt(p,10),x(u,n)):o?(h=o,d=a,n&&!d&&T("character reference was not terminated by a semicolon"),u=parseInt(h,16),x(u,n)):s?C(f,m=s)?f[m]:(n&&T("named character reference was not terminated by a semicolon"),e):(m=l,(v=c)&&t.isAttributeValue?(n&&"="==v&&T("`&` did not start a character reference"),e):(n&&T("named character reference was not terminated by a semicolon"),g[m]+(v||"")))})};k.options={isAttributeValue:!1,strict:!1};var $={version:"1.1.1",encode:A,decode:k,escape:function(e){return e.replace(u,function(e){return d[e]})},unescape:k};void 0===(r=function(){return $}.call(t,n,t,e))||(e.exports=r)}()}).call(t,n(18)(e),n(8))},function(e,t,n){function i(t,n){return delete e.exports[t],e.exports[t]=n,n}var r=n(160),o=n(307);e.exports={Parser:r,Tokenizer:n(161),ElementType:n(46),DomHandler:o,get FeedHandler(){return i("FeedHandler",n(309))},get Stream(){return i("Stream",n(310))},get WritableStream(){return i("WritableStream",n(165))},get ProxyHandler(){return i("ProxyHandler",n(323))},get DomUtils(){return i("DomUtils",n(324))},get CollectingHandler(){return i("CollectingHandler",n(336))},DefaultHandler:o,get RssHandler(){return i("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new o(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var i=new e.exports.FeedHandler(n);return new r(i,n).end(t),i.dom},createDomStream:function(e,t,n){var i=new o(e,t,n);return new r(i,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,n(28).Buffer)},function(e,t){function n(e){var t=e.match(c);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function r(e){var r=e,o=n(e);if(o){if(!o.path)return e;r=o.path}for(var a,s=t.isAbsolute(r),l=r.split(/\/+/),c=0,u=l.length-1;u>=0;u--)"."===(a=l[u])?l.splice(u,1):".."===a?c++:c>0&&(""===a?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return""===(r=l.join("/"))&&(r=s?"/":"."),o?(o.path=r,i(o)):r}function o(e,t){""===e&&(e="."),""===t&&(t=".");var o=n(t),a=n(e);if(a&&(e=a.path||"/"),o&&!o.scheme)return a&&(o.scheme=a.scheme),i(o);if(o||t.match(u))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var s="/"===t.charAt(0)?t:r(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=s,i(a)):s}function a(e){return e}function s(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var c=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,u=/^data:.+\,.+$/;t.urlParse=n,t.urlGenerate=i,t.normalize=r,t.join=o,t.isAbsolute=function(e){return"/"===e.charAt(0)||c.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var i=e.lastIndexOf("/");if(i<0)return t;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var d=!("__proto__"in Object.create(null));t.toSetString=d?a:function(e){return s(e)?"$"+e:e},t.fromSetString=d?a:function(e){return s(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var i=l(e.source,t.source);return 0!==i?i:0!=(i=e.originalLine-t.originalLine)?i:0!=(i=e.originalColumn-t.originalColumn)||n?i:0!=(i=e.generatedColumn-t.generatedColumn)?i:0!=(i=e.generatedLine-t.generatedLine)?i:l(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var i=e.generatedLine-t.generatedLine;return 0!==i?i:0!=(i=e.generatedColumn-t.generatedColumn)||n?i:0!==(i=l(e.source,t.source))?i:0!=(i=e.originalLine-t.originalLine)?i:0!=(i=e.originalColumn-t.originalColumn)?i:l(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=l(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,a){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),a){var s=n(a);if(!s)throw new Error("sourceMapURL could not be parsed");if(s.path){var l=s.path.lastIndexOf("/");l>=0&&(s.path=s.path.substring(0,l+1))}t=o(i(s),t)}return r(t)}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){var i=n(20).f,r=n(27),o=n(12)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(69);e.exports=function(e){return Object(i(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),r=n(10),o=n(16),a=n(3),s=n(6),l=n(7),c=n(34),u=n(42),d=n(84),p=n(133),h=n(57),m=n(36),f=n(43),g=n(58),v=l.prop("self"),b=function(){function e(e,t,n){var i=this;if(this._deferred=r.services.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new p.HookBuilder(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,this._targetState=t,!t.valid())throw new Error(t.error());this._options=a.extend({current:l.val(this)},t.options()),this.$id=n.transitionService._transitionCount++;var o=h.PathUtils.buildToPath(e,t);this._treeChanges=h.PathUtils.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var s=this._hookBuilder.buildHooksForPhase(c.TransitionHookPhase.CREATE);u.TransitionHook.invokeHooks(s,function(){return null}),this.applyViewConfigs(n)}return e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==c.TransitionHookPhase.CREATE}).forEach(function(t){return d.makeEvent(e,e.router.transitionService,t)})},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});h.PathUtils.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},e.prototype.$from=function(){return a.tail(this._treeChanges.from).state},e.prototype.$to=function(){return a.tail(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!d.matchState(this.$to(),t.to)||t.from&&!d.matchState(this.$from(),t.from))},e.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(l.prop("paramValues")).reduce(a.mergeR,{}))},e.prototype.injector=function(e,t){void 0===t&&(t="to");var n=this._treeChanges[t];return e&&(n=h.PathUtils.subPath(n,function(t){return t.state===e||t.state.name===e})),new g.ResolveContext(n).injector()},e.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new g.ResolveContext(this._treeChanges[e]).getTokens()},e.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=l.is(f.Resolvable)(e)?e:new f.Resolvable(e);var n="string"==typeof t?t:t.name,i=this._treeChanges.to,r=a.find(i,function(e){return e.state.name===n});new g.ResolveContext(i).addResolvables([e],r.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return a.map(this._treeChanges.entering,l.prop("state")).map(v)},e.prototype.exiting=function(){return a.map(this._treeChanges.exiting,l.prop("state")).map(v).reverse()},e.prototype.retained=function(){return a.map(this._treeChanges.retained,l.prop("state")).map(v)},e.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return(n=t?n.filter(l.propEq("state",t)):n).map(l.prop("views")).filter(a.identity).reduce(a.unnestR,[])},e.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},e.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var i={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(i.location="replace");var r=a.extend({},this.options(),e.options(),i);e=e.withOptions(r,!0);var o,s=this.router.transitionService.create(this._treeChanges.from,e),c=this._treeChanges.entering,u=s._treeChanges.entering;return h.PathUtils.matching(u,c,h.PathUtils.nonDynamicParams).filter(l.not((o=e.options().reloadState,function(e){return o&&e.state.includes[o.name]}))).forEach(function(e,t){e.resolvables=c[t].resolvables}),s},e.prototype._changedParams=function(){var e=this._treeChanges;if(!(this._options.reload||e.exiting.length||e.entering.length||e.to.length!==e.from.length||a.arrayTuples(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(a.anyTrueR,!1))){var t=e.to.map(function(e){return e.paramSchema}),n=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}),i=n[0],r=n[1];return a.arrayTuples(t,i,r).map(function(e){var t=e[0],n=e[1],i=e[2];return m.Param.changed(t,n,i)}).reduce(a.unnestR,[])}},e.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(a.anyTrueR,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var e=this.router.globals.transition,t=this._options.reloadState,n=function(e,n){if(e.length!==n.length)return!1;var i=h.PathUtils.matching(e,n);return e.length===i.filter(function(e){return!t||!e.state.includes[t.name]}).length},i=this.treeChanges(),r=e&&e.treeChanges();return r&&n(r.to,i.to)&&n(r.exiting,i.exiting)?"SameAsPending":0===i.exiting.length&&0===i.entering.length&&n(i.from,i.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,t=u.TransitionHook.runAllHooks,n=function(t){return e._hookBuilder.buildHooksForPhase(t)},o=n(c.TransitionHookPhase.BEFORE);return u.TransitionHook.invokeHooks(o,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),i.trace.traceTransitionStart(e),r.services.$q.when(void 0)}).then(function(){var e=n(c.TransitionHookPhase.RUN);return u.TransitionHook.invokeHooks(e,function(){return r.services.$q.when(void 0)})}).then(function(){i.trace.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),t(n(c.TransitionHookPhase.SUCCESS))},function(r){i.trace.traceError(r,e),e.success=!1,e._deferred.reject(r),e._error=r,t(n(c.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){s.isUndefined(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var e=this.$to();if(e.self.abstract)return"Cannot transition to abstract state '"+e.name+"'";var t=e.parameters(),n=this.params(),i=t.filter(function(e){return!e.validates(n[e.id])});return i.length?"Param values not valid for state '"+e.name+"'. Invalid params: [ "+i.map(function(e){return e.id}).join(", ")+" ]":!1===this.success?this._error:void 0},e.prototype.toString=function(){var e=this.from(),t=this.to(),n=function(e){return null!==e["#"]&&void 0!==e["#"]?e:a.omit(e,["#"])};return"Transition#"+this.$id+"( '"+(s.isObject(e)?e.name:e)+"'"+o.stringify(n(this._treeChanges.from.map(l.prop("paramValues")).reduce(a.mergeR,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(s.isObject(t)?t.name:t)+"'"+o.stringify(n(this.params()))+" )"},e.diToken=e,e}();t.Transition=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(7),o=n(35),a=n(85),s=function(){function e(){}return e.makeTargetState=function(e,t){var n=i.tail(t).state;return new o.TargetState(e,n,t.map(r.prop("paramValues")).reduce(i.mergeR,{}),{})},e.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new a.PathNode(e).applyRawParams(t)})},e.buildToPath=function(t,n){var i=e.buildPath(n);return n.options().inherit?e.inheritParams(t,i,Object.keys(n.params())):i},e.applyViewConfigs=function(t,n,r){n.filter(function(e){return i.inArray(r,e.state)}).forEach(function(r){var o=i.values(r.state.views||{}),a=e.subPath(n,function(e){return e===r}),s=o.map(function(e){return t.createViewConfig(a,e)});r.views=s.reduce(i.unnestR,[])})},e.inheritParams=function(e,t,n){void 0===n&&(n=[]);var o=e.map(function(e){return e.paramSchema}).reduce(i.unnestR,[]).filter(function(e){return!e.inherit}).map(r.prop("id"));return t.map(function(t){var s=i.extend({},t&&t.paramValues),l=i.pick(s,n);s=i.omit(s,n);var c,u,d,p=i.omit((c=e,u=t.state,d=i.find(c,r.propEq("state",u)),i.extend({},d&&d.paramValues)||{}),o),h=i.extend(s,p,l);return new a.PathNode(t.state).applyRawParams(h)})},e.treeChanges=function(t,n,i){for(var r,o,a,s,l,c,u=Math.min(t.length,n.length),d=0;d<u&&t[d].state!==i&&(r=t[d],o=n[d],r.equals(o,e.nonDynamicParams));)d++;s=(a=t).slice(0,d),l=a.slice(d);var p=s.map(function(e,t){var i=e.clone();return i.paramValues=n[t].paramValues,i});return c=n.slice(d),{from:a,to:p.concat(c),retained:s,retainedWithToParams:p,exiting:l,entering:c}},e.matching=function(e,t,n){var r=!1;return i.arrayTuples(e,t).reduce(function(e,t){var i=t[0],o=t[1];return(r=r||!i.equals(o,n))?e:e.concat(i)},[])},e.equals=function(t,n,i){return t.length===n.length&&e.matching(t,n,i).length===t.length},e.subPath=function(e,t){var n=i.find(e,t),r=e.indexOf(n);return-1===r?void 0:e.slice(0,r+1)},e.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},e.paramValues=function(e){return e.reduce(function(e,t){return i.extend(e,t.paramValues)},{})},e}();t.PathUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(7),o=n(23),a=n(10),s=n(134),l=n(43),c=n(57),u=n(16),d=n(14),p=s.resolvePolicies.when,h=[p.EAGER,p.LAZY],m=[p.EAGER];t.NATIVE_INJECTOR_TOKEN="Native Injector";var f=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(i.uniqR,[])},e.prototype.getResolvable=function(e){var t=this._path.map(function(e){return e.resolvables}).reduce(i.unnestR,[]).filter(function(t){return t.token===e});return i.tail(t)},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(c.PathUtils.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var n=i.find(this._path,r.propEq("state",t)),o=e.map(function(e){return e.token});n.resolvables=n.resolvables.filter(function(e){return-1===o.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,t){var n=this;void 0===e&&(e="LAZY");var l=(i.inArray(h,e)?e:"LAZY")===s.resolvePolicies.when.EAGER?m:h;o.trace.traceResolvePath(this._path,e,t);var c=function(e,t){return function(r){return i.inArray(e,n.getPolicy(r)[t])}},u=this._path.reduce(function(e,i){var o=i.resolvables.filter(c(l,"when")),a=o.filter(c(["NOWAIT"],"async")),s=o.filter(r.not(c(["NOWAIT"],"async"))),u=n.subContext(i.state),d=function(e){return e.get(u,t).then(function(t){return{token:e.token,value:t}})};return a.forEach(d),e.concat(s.map(d))},[]);return a.services.$q.all(u)},e.prototype.injector=function(){return this._injector||(this._injector=new g(this))},e.prototype.findNode=function(e){return i.find(this._path,function(t){return i.inArray(t.resolvables,e)})},e.prototype.getDependencies=function(e){var t=this,n=this.findNode(e),r=(c.PathUtils.subPath(this._path,function(e){return e===n})||this._path).reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(t){return t!==e});return e.deps.map(function(e){var n=r.filter(function(t){return t.token===e});if(n.length)return i.tail(n);var o=t.injector().getNative(e);if(d.isUndefined(o))throw new Error("Could not find Dependency Injection token: "+u.stringify(e));return new l.Resolvable(e,function(){return o},[],o)})},e}();t.ResolveContext=f;var g=function(){function e(e){this.context=e,this.native=this.get(t.NATIVE_INJECTOR_TOKEN)||a.services.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+u.stringify(t.token));return t.data}return this.getNative(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):a.services.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}()},function(e,t,n){"use strict";function i(e,t){var n=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:i=i.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return i+n[0]+t.type.pattern.source+n[1]}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(7),a=n(6),s=n(36),l=n(16),c=l.splitOnDelim("/"),u=function(){function e(t,n,a,s){var l=this;this.config=s,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=r.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:r.identity});for(var c,u,d,p=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,m=[],f=0,g=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(r.find(l._params,o.propEq("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},v=function(e,i){var o,a=e[2]||e[3],s=i?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:a,regexp:s,cfg:l.config.params[a],segment:t.substring(f,e.index),type:s?n.type(s)||(o=s,r.inherit(n.type(i?"query":"path"),{pattern:new RegExp(o,l.config.caseInsensitive?"i":void 0)})):null}};(c=p.exec(t))&&!((u=v(c,!1)).segment.indexOf("?")>=0);)g(u.id),this._params.push(a.fromPath(u.id,u.type,this.config.paramMap(u.cfg,!1))),this._segments.push(u.segment),m.push([u.segment,r.tail(this._params)]),f=p.lastIndex;var b=(d=t.substring(f)).indexOf("?");if(b>=0){var y=d.substring(b);if(d=d.substring(0,b),y.length>0)for(f=0;c=h.exec(y);)g((u=v(c,!0)).id),this._params.push(a.fromSearch(u.id,u.type,this.config.paramMap(u.cfg,!0))),f=p.lastIndex}this._segments.push(d),this._compiled=m.map(function(e){return i.apply(null,e)}).concat(i(d))}return e.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){var t=e._segments,n=e._params.filter(function(e){return e.location===s.DefType.PATH});return r.arrayTuples(t,n.concat(void 0)).reduce(r.unnestR,[]).filter(function(e){return""!==e&&a.isDefined(e)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===s.DefType.SEARCH})},e.compare=function(t,n){var i=function(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(r.unnestR,[]).reduce(l.joinNeighborsR,[]).map(function(e){return a.isString(e)?c(e):e}).reduce(r.unnestR,[])}(t).map(function(e){return"/"===e?1:a.isString(e)?2:e instanceof s.Param?3:void 0})},o=i(t),u=i(n);!function(e,t,n){for(var i=Math.max(e.length,t.length);e.length<i;)e.push(0);for(;t.length<i;)t.push(0)}(o,u);var d,p,h=r.arrayTuples(o,u);for(p=0;p<h.length;p++)if(0!=(d=h[p][0]-h[p][1]))return d;return 0},e.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(e,t,n,i){var s=this;void 0===t&&(t={}),void 0===i&&(i={});var l,c,u,d=(l=this._cache,c="pattern",u=function(){return new RegExp(["^",r.unnest(s._cache.path.map(o.prop("_compiled"))).join(""),!1===s.config.strict?"/?":"","$"].join(""),s.config.caseInsensitive?"i":void 0)},l[c]=l[c]||u()).exec(e);if(!d)return null;var p,h,m,f=this.parameters(),g=f.filter(function(e){return!e.isSearch()}),v=f.filter(function(e){return e.isSearch()}),b=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),y={};if(b!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var w=0;w<b;w++){for(var C=g[w],E=d[w+1],x=0;x<C.replace.length;x++)C.replace[x].from===E&&(E=C.replace[x].to);E&&!0===C.array&&(h=(p=function(e){return e.split("").reverse().join("")})(E).split(/-(?!\\)/),m=r.map(h,p),E=r.map(m,function(e){return e.replace(/\\-/g,"-")}).reverse()),a.isDefined(E)&&(E=C.type.decode(E)),y[C.id]=C.value(E)}return v.forEach(function(e){for(var n=t[e.id],i=0;i<e.replace.length;i++)e.replace[i].from===n&&(n=e.replace[i].to);a.isDefined(n)&&(n=e.type.decode(n)),y[e.id]=e.value(n)}),n&&(y["#"]=n),y},e.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:r.unnest(this._cache.path.map(function(e){return e._params}))},e.prototype.parameter=function(e,t){var n=this;void 0===t&&(t={});var i=this._cache.parent;return function(){for(var t=0,i=n._params;t<i.length;t++){var r=i[t];if(r.id===e)return r}}()||!1!==t.inherit&&i&&i.parameter(e,t)||null},e.prototype.validates=function(e){return e=e||{},this.parameters().filter(function(t){return e.hasOwnProperty(t.id)}).map(function(t){return n=t,i=e[t.id],!n||n.validates(i);var n,i}).reduce(r.allTrueR,!0)},e.prototype.format=function(t){function n(e){var n=e.value(t[e.id]),i=e.validates(n),r=e.isDefaultValue(n);return{param:e,value:n,isValid:i,isDefaultValue:r,squash:!!r&&e.squash,encoded:e.type.encode(n)}}void 0===t&&(t={});var i=this._cache.path,o=i.map(e.pathSegmentsAndParams).reduce(r.unnestR,[]).map(function(e){return a.isString(e)?e:n(e)}),s=i.map(e.queryParams).reduce(r.unnestR,[]).map(n);if(o.concat(s).filter(function(e){return!1===e.isValid}).length)return null;var l=o.reduce(function(t,n){if(a.isString(n))return t+n;var i=n.squash,o=n.encoded,s=n.param;return!0===i?t.match(/\/$/)?t.slice(0,-1):t:a.isString(i)?t+i:!1!==i?t:null==o?t:a.isArray(o)?t+r.map(o,e.encodeDashes).join("-"):s.raw?t+o:t+encodeURIComponent(o)},""),c=s.map(function(e){var t=e.param,n=e.squash,i=e.encoded,o=e.isDefaultValue;if(!(null==i||o&&!1!==n)&&(a.isArray(i)||(i=[i]),0!==i.length))return t.raw||(i=r.map(i,encodeURIComponent)),i.map(function(e){return t.id+"="+e})}).filter(r.identity).reduce(r.unnestR,[]).join("&");return l+(c?"?"+c:"")+(t["#"]?"#"+t["#"]:"")},e.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,e}();t.UrlMatcher=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),r=n(88),o=function(){function e(e,t){var n=this;this.fireAfterUpdate=t,this._listeners=[],this._listener=function(e){return n._listeners.forEach(function(t){return t(e)})},this.hash=function(){return r.parseUrl(n._get()).hash},this.path=function(){return r.parseUrl(n._get()).path},this.search=function(){return r.getParams(r.parseUrl(n._get()).search)},this._location=i.root.location,this._history=i.root.history}return e.prototype.url=function(e,t){return void 0===t&&(t=!0),i.isDefined(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate&&this._listeners.forEach(function(t){return t({url:e})})),r.buildUrl(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return i.removeFrom(t._listeners,e)}},e.prototype.dispose=function(e){i.deregAll(this._listeners)},e}();t.BaseLocationServices=o},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,i,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,i)});case 4:return t.nextTick(function(){e.call(null,n,i,r)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(t,n(25))},function(e,t,n){function i(e,t){for(var n in e)t[n]=e[n]}function r(e,t,n){return a(e,t,n)}var o=n(28),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(i(o,t),t.Buffer=r),i(a,r),r.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},r.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=a(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},r.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(100),o=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.type="atrule",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.append=function(){var t;this.nodes||(this.nodes=[]);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.prototype.append).call.apply(t,[this].concat(i))},t.prototype.prepend=function(){var t;this.nodes||(this.nodes=[]);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.prototype.prepend).call.apply(t,[this].concat(i))},t}(((i=r)&&i.__esModule?i:{default:i}).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=i(n(100)),a=i(n(182)),s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.type="rule",i.nodes||(i.nodes=[]),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectors",get:function(){return a.default.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}]),t}(o.default);t.default=s,e.exports=t.default},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(30)],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}(function(e){"use strict";var t="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,i,r){i=i||{},r=r||{};var o=this,a=i.maxMetaDataSize||262144;!!("undefined"!=typeof DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)&&e.readFile(e.blobSlice.call(t,0,a),function(t){if(t.target.error)return console.log(t.target.error),void n(r);var a,s,l,c,u=t.target.result,d=new DataView(u),p=2,h=d.byteLength-4,m=p;if(65496===d.getUint16(0)){for(;p<h&&((a=d.getUint16(p))>=65504&&a<=65519||65534===a);){if(p+(s=d.getUint16(p+2)+2)>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[a])for(c=0;c<l.length;c+=1)l[c].call(o,d,p,s,r,i);m=p+=s}!i.disableImageHead&&m>6&&(u.slice?r.imageHead=u.slice(0,m):r.imageHead=new Uint8Array(u).subarray(0,m))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(r)},"readAsArrayBuffer")||n(r)},e.hasMetaOption=function(e){return e&&e.meta};var n=e.transform;e.transform=function(t,i,r,o,a){e.hasMetaOption(i)?e.parseMetaData(o,function(a){n.call(e,t,i,r,o,a)},i,a):n.apply(e,arguments)}})},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(21),r=n(11).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(21);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(19),r=n(214),o=n(75),a=n(73)("IE_PROTO"),s=function(){},l=function(){var e,t=n(70)("iframe"),i=o.length;for(t.style.display="none",n(119).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(74)("keys"),r=n(52);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(11),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var i=n(50);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)}(e)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(233)),o=i(n(235)),a="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};t.default="function"==typeof o.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,n){t.f=n(12)},function(e,t,n){var i=n(11),r=n(9),o=n(49),a=n(78),s=n(20).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(7),o=n(82),a=n(6),s=function(){function e(t){return e.create(t||{})}return e.create=function(t){t=e.isStateClass(t)?new t:t;var n=i.inherit(i.inherit(t,e.prototype));return t.$$state=function(){return n},n.self=t,n.__stateObjectCache={nameGlob:o.Glob.fromString(n.name)},n},e.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},e.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},e.prototype.root=function(){return this.parent&&this.parent.root()||this},e.prototype.parameters=function(e){return((e=i.defaults(e,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(i.values(this.params)).filter(function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},e.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||i.find(i.values(this.params),r.propEq("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},e.prototype.toString=function(){return this.fqn()},e.isStateClass=function(e){return a.isFunction(e)&&!0===e.__uiRouterState},e.isState=function(e){return a.isObject(e.__stateObjectCache)},e}();t.StateObject=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return e.is=function(e){return!!/[!,*]+/.exec(e)},e.fromString=function(t){return e.is(t)?new e(t):null},e.prototype.matches=function(e){return this.regexp.test("."+e)},e}();t.Glob=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t,this._evictListeners=[],this.onEvict=i.pushTo(this._evictListeners)}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&this.evict(),e},e.prototype.evict=function(){var e=this._items.shift();return this._evictListeners.forEach(function(t){return t(e)}),e},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();t.Queue=r},function(e,t,n){"use strict";function i(e,t){var n=r.isString(t)?[t]:t;return!!(r.isFunction(n)?n:function(e){for(var t=n,i=0;i<t.length;i++){var o=new r.Glob(t[i]);if(o&&o.matches(e.name)||!o&&t[i]===e.name)return!0}return!1})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(34);t.matchState=i;var a=function(){function e(e,t,n,i,r,o){void 0===o&&(o={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=i,this.removeHookFromRegistry=r,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return e.prototype._matchingNodes=function(e,t){if(!0===t)return e;var n=e.filter(function(e){return i(e.state,t)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return r.mapObj(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var t=this,n=r.extend(this._getDefaultMatchCriteria(),this.matchCriteria);return r.values(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,a){var s=a.scope===o.TransitionHookScope.STATE,l=e[a.name]||[],c=s?l:[r.tail(l)];return i[a.name]=t._matchingNodes(c,n[a.name]),i},{})},e.prototype.matches=function(e){var t=this._getMatchingNodes(e);return r.values(t).every(r.identity)?t:null},e.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},e}();t.RegisteredHook=a,t.makeEvent=function(e,t,n){function i(e,i,r){void 0===r&&(r={});var l=new a(t,n,i,e,s,r);return o.push(l),l.deregister.bind(l)}var o=(e._registeredHooks=e._registeredHooks||{})[n.name]=[],s=r.removeFrom(o);return e[n.name]=i,i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(7),o=n(36),a=function(){function e(t){if(t instanceof e){var n=t;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=i.extend({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var r=t;this.state=r,this.paramSchema=r.parameters({inherit:!1}),this.paramValues={},this.resolvables=r.resolvables.map(function(e){return e.clone()})}}return e.prototype.clone=function(){return new e(this)},e.prototype.applyRawParams=function(e){return this.paramValues=this.paramSchema.reduce(function(t,n){return i.applyPairs(t,[(r=n).id,r.value(e[r.id])]);var r},{}),this},e.prototype.parameter=function(e){return i.find(this.paramSchema,r.propEq("id",e))},e.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},e.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return o.Param.changed(n,this.paramValues,e.paramValues)},e.clone=function(e){return e.clone()},e}();t.PathNode=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=function(){function e(e){this.pattern=/.*/,this.inherit=!0,i.extend(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,t){function n(e){return r.isArray(e)?e:r.isDefined(e)?[e]:[]}function o(e,o){return function(a){if(r.isArray(a)&&0===a.length)return a;var s=n(a),l=i.map(s,e);return!0===o?0===i.filter(l,function(e){return!e}).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}(l)}}function a(e){return function(t,i){var r=n(t),o=n(i);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}var s=this;["encode","decode","equals","$normalize"].forEach(function(t){var n=e[t].bind(e),i="equals"===t?a:o;s[t]=i(n)}),i.extend(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:o(e.is.bind(e),!0),$arrayMode:t})}(this,e)},e}();t.ParamType=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),r=n(56),o=n(84),a=n(258),s=n(259),l=n(260),c=n(261),u=n(262),d=n(263),p=n(264),h=n(150),m=n(151),f=n(42),g=n(6),v=n(3),b=n(7),y=n(265),w=n(266);t.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var C=function(){function e(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=v.createProxyFunctions(b.val(this),{},b.val(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),e.globals.successfulTransitions.onEvict(a.treeChangesCleanup)}return e.prototype.onCreate=function(e,t,n){},e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.dispose=function(e){v.values(this._registeredHooks).forEach(function(e){return e.forEach(function(t){t._deregistered=!0,v.removeFrom(e,t)})})},e.prototype.create=function(e,t){return new r.Transition(e,t,this._router)},e.prototype._defineCoreEvents=function(){var e=i.TransitionHookPhase,t=f.TransitionHook,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=i.TransitionHookScope.STATE,t=i.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(e,t,n,i,r,a,s,l){void 0===r&&(r=!1),void 0===a&&(a=f.TransitionHook.HANDLE_RESULT),void 0===s&&(s=f.TransitionHook.REJECT_ERROR),void 0===l&&(l=!1);var c=new m.TransitionEventType(e,t,n,i,r,a,s,l);this._eventTypes.push(c),o.makeEvent(this,this,c)},e.prototype._getEvents=function(e){return(g.isDefined(e)?this._eventTypes.filter(function(t){return t.hookPhase===e}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0===n?e.hookOrder-t.hookOrder:n})},e.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=a.registerAddCoreResolvables(this),e.ignored=y.registerIgnoredTransitionHook(this),e.invalid=w.registerInvalidTransitionHook(this),e.redirectTo=s.registerRedirectToHook(this),e.onExit=l.registerOnExitHook(this),e.onRetain=l.registerOnRetainHook(this),e.onEnter=l.registerOnEnterHook(this),e.eagerResolve=c.registerEagerResolvePath(this),e.lazyResolve=c.registerLazyResolveState(this),e.resolveAll=c.registerResolveRemaining(this),e.loadViews=u.registerLoadEnteringViews(this),e.activateViews=u.registerActivateViews(this),e.updateGlobals=d.registerUpdateGlobalState(this),e.updateUrl=p.registerUpdateUrl(this),e.lazyLoad=h.registerLazyLoadHook(this)},e}();t.TransitionService=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14);t.keyValsToObjectR=function(e,t){var n=t[0],r=t[1];return e.hasOwnProperty(n)?i.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r,e},t.getParams=function(e){return e.split("&").filter(i.identity).map(i.splitEqual).reduce(t.keyValsToObjectR,{})},t.parseUrl=function(e){var t=function(e){return e||""},n=i.splitHash(e).map(t),r=n[0],o=n[1],a=i.splitQuery(r).map(t);return{path:a[0],search:a[1],hash:o,url:e}},t.buildUrl=function(e){var t=e.path(),n=e.search(),r=e.hash(),o=Object.keys(n).map(function(e){var t=n[e];return(i.isArray(t)?t:[t]).map(function(t){return e+"="+t})}).reduce(i.unnestR,[]).join("&");return t+(o?"?"+o:"")+(r?"#"+r:"")},t.locationPluginFactory=function(e,t,n,i){return function(r){var o=r.locationService=new n(r),a=r.locationConfig=new i(r,t);return{name:e,service:o,configuration:a,dispose:function(e){e.dispose(o),e.dispose(a)}}}}},function(e,t){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},function(e,t){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){(t=e.exports=n(166)).Stream=t,t.Readable=t,t.Writable=n(92),t.Duplex=n(29),t.Transform=n(169),t.PassThrough=n(317)},function(e,t,n){"use strict";(function(t,i,r){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(void 0),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function a(){}function s(e,t){g=g||n(29),e=e||{};var i=t instanceof g;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,a=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(f(r,i),f(m,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(r(i),e._writableState.errorEmitted=!0,e.emit("error",i),m(e,t))}(e,n,i,t,r);else{var o=p(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||d(e,n),i?v(u,e,n,o,r):u(e,n,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function l(e){if(g=g||n(29),!(y.call(l,this)||this instanceof g))return new l(e);this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),C.call(this)}function c(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function u(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),m(e,t)}function d(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)r[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;r.allBuffers=l,c(e,t,!0,t.length,r,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,d=n.encoding,p=n.callback;if(c(e,t,!1,t.objectMode?1:u.length,u,d,p),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function p(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function h(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),m(e,t)})}function m(e,t){var n=p(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,f(h,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}var f=n(62).nextTick;e.exports=l;var g,v=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:f;l.WritableState=s;var b=n(47);b.inherits=n(17);var y,w={deprecate:n(316)},C=n(167),E=n(63).Buffer,x=r.Uint8Array||function(){},S=n(168);b.inherits(l,C),s.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(s.prototype,"buffer",{get:w.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!y.call(this,e)||this===l&&e&&e._writableState instanceof s}})):y=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,n){var i,r=this._writableState,o=!1,s=!r.objectMode&&(i=e,E.isBuffer(i)||i instanceof x);return s&&!E.isBuffer(e)&&(e=function(e){return E.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=a),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),f(t,n)}(this,n):(s||function(e,t,n,i){var r=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),f(i,o),r=!1),r}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=E.from(t,n)),t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else c(e,t,!1,s,i,r,o);return l}(this,r,s,e,t,n)),o},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||d(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},l.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,m(e,t),n&&(t.finished?f(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=S.destroy,l.prototype._undestroy=S.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(25),n(108).setImmediate,n(8))},function(e,t,n){"use strict";function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(p.isEncoding===h||!h(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=a,this.end=s,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=l,this.end=c,t=3;break;default:return this.write=u,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(t)}function r(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function a(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function u(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}var p=n(63).Buffer,h=p.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},i.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var o=r(t[i]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--i<n?0:(o=r(t[i]))>=0?(o>0&&(e.lastNeed=o-2),o):--i<n?0:(o=r(t[i]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(95),o=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.type="decl",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(n(170)),a=i(n(178)),s=i(n(97)),l=i(n(179)),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.raws={},"object"!==(void 0===t?"undefined":r(t))&&void 0!==t)throw new Error("PostCSS nodes constructor accepts object, not "+JSON.stringify(t));for(var n in t)this[n]=t[n]}return e.prototype.error=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var n=this.positionBy(t);return this.source.input.error(e,n.line,n.column,t)}return new o.default(e)},e.prototype.warn=function(e,t,n){var i={node:this};for(var r in n)i[r]=n[r];return e.warn(t,i)},e.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},e.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default;e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t},e.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function e(t,n){var i=new t.constructor;for(var o in t)if(t.hasOwnProperty(o)){var a=t[o],s=void 0===a?"undefined":r(a);"parent"===o&&"object"===s?n&&(i[o]=n):"source"===o?i[o]=a:a instanceof Array?i[o]=a.map(function(t){return e(t,i)}):("object"===s&&null!==a&&(a=e(a)),i[o]=a)}return i}(this);for(var n in e)t[n]=e[n];return t},e.prototype.cloneBefore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t},e.prototype.cloneAfter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t},e.prototype.replaceWith=function(){if(this.parent){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;this.parent.insertBefore(this,s)}this.remove()}return this},e.prototype.moveTo=function(e){return(0,l.default)("Node#moveTo was deprecated. Use Container#append."),this.cleanRaws(this.root()===e.root()),this.remove(),e.append(this),this},e.prototype.moveBefore=function(e){return(0,l.default)("Node#moveBefore was deprecated. Use Node#before."),this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertBefore(e,this),this},e.prototype.moveAfter=function(e){return(0,l.default)("Node#moveAfter was deprecated. Use Node#after."),this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertAfter(e,this),this},e.prototype.next=function(){var e=this.parent.index(this);return this.parent.nodes[e+1]},e.prototype.prev=function(){var e=this.parent.index(this);return this.parent.nodes[e-1]},e.prototype.before=function(e){return this.parent.insertBefore(this,e),this},e.prototype.after=function(e){return this.parent.insertAfter(this,e),this},e.prototype.toJSON=function(){var e={};for(var t in this)if(this.hasOwnProperty(t)&&"parent"!==t){var n=this[t];n instanceof Array?e[t]=n.map(function(e){return"object"===(void 0===e?"undefined":r(e))&&e.toJSON?e.toJSON():e}):"object"===(void 0===n?"undefined":r(n))&&n.toJSON?e[t]=n.toJSON():e[t]=n}return e},e.prototype.raw=function(e,t){return(new a.default).raw(this,e,t)},e.prototype.root=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.cleanRaws=function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between},e.prototype.positionInside=function(e){for(var t=this.toString(),n=this.source.start.column,i=this.source.start.line,r=0;r<e;r++)"\n"===t[r]?(n=1,i+=1):n+=1;return{line:i,column:n}},e.prototype.positionBy=function(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var n=this.toString().indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t},e}();t.default=c,e.exports=t.default},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===a(e,-1);return(e=n(i(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(25))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){new o.default(t).stringify(e)};var i,r=n(178),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e,t){if(t&&t.safe)throw new Error('Option safe was removed. Use parser: require("postcss-safe-parser")');var n=new o.default(e,t),i=new r.default(n);try{i.parse()}catch(e){throw"CssSyntaxError"===e.name&&t&&t.from&&(/\.scss$/i.test(t.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(t.from)?e.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(t.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return i.root};var r=i(n(360)),o=i(n(173));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(95),o=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.type="comment",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=i(n(94)),a=i(n(99)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.push=function(e){return e.parent=this,this.nodes.push(e),this},t.prototype.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;if(this.indexes[t]=0,this.nodes){for(var n=void 0,i=void 0;this.indexes[t]<this.nodes.length&&(n=this.indexes[t],!1!==(i=e(this.nodes[n],n)));)this.indexes[t]+=1;return delete this.indexes[t],i}},t.prototype.walk=function(e){return this.each(function(t,n){var i=e(t,n);return!1!==i&&t.walk&&(i=t.walk(e)),i})},t.prototype.walkDecls=function(e,t){return t?e instanceof RegExp?this.walk(function(n,i){if("decl"===n.type&&e.test(n.prop))return t(n,i)}):this.walk(function(n,i){if("decl"===n.type&&n.prop===e)return t(n,i)}):(t=e,this.walk(function(e,n){if("decl"===e.type)return t(e,n)}))},t.prototype.walkRules=function(e,t){return t?e instanceof RegExp?this.walk(function(n,i){if("rule"===n.type&&e.test(n.selector))return t(n,i)}):this.walk(function(n,i){if("rule"===n.type&&n.selector===e)return t(n,i)}):(t=e,this.walk(function(e,n){if("rule"===e.type)return t(e,n)}))},t.prototype.walkAtRules=function(e,t){return t?e instanceof RegExp?this.walk(function(n,i){if("atrule"===n.type&&e.test(n.name))return t(n,i)}):this.walk(function(n,i){if("atrule"===n.type&&n.name===e)return t(n,i)}):(t=e,this.walk(function(e,n){if("atrule"===e.type)return t(e,n)}))},t.prototype.walkComments=function(e){return this.walk(function(t,n){if("comment"===t.type)return e(t,n)})},t.prototype.append=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a,l=this.normalize(s,this.last),c=Array.isArray(l),u=0;for(l=c?l:l[Symbol.iterator]();;){var d;if(c){if(u>=l.length)break;d=l[u++]}else{if((u=l.next()).done)break;d=u.value}var p=d;this.nodes.push(p)}}return this},t.prototype.prepend=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t=t.reverse(),r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a,l=this.normalize(s,this.first,"prepend").reverse(),c=l,u=Array.isArray(c),d=0;for(c=u?c:c[Symbol.iterator]();;){var p;if(u){if(d>=c.length)break;p=c[d++]}else{if((d=c.next()).done)break;p=d.value}var h=p;this.nodes.unshift(h)}for(var m in this.indexes)this.indexes[m]=this.indexes[m]+l.length}return this},t.prototype.cleanRaws=function(t){if(e.prototype.cleanRaws.call(this,t),this.nodes){var n=this.nodes,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}o.cleanRaws(t)}}},t.prototype.insertBefore=function(e,t){var n=0===(e=this.index(e))&&"prepend",i=this.normalize(t,this.nodes[e],n).reverse(),r=i,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var l=s;this.nodes.splice(e,0,l)}var c=void 0;for(var u in this.indexes)e<=(c=this.indexes[u])&&(this.indexes[u]=c+i.length);return this},t.prototype.insertAfter=function(e,t){e=this.index(e);var n=this.normalize(t,this.nodes[e]).reverse(),i=n,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;this.nodes.splice(e+1,0,s)}var l=void 0;for(var c in this.indexes)e<(l=this.indexes[c])&&(this.indexes[c]=l+n.length);return this},t.prototype.removeChild=function(e){e=this.index(e),this.nodes[e].parent=void 0,this.nodes.splice(e,1);var t=void 0;for(var n in this.indexes)(t=this.indexes[n])>=e&&(this.indexes[n]=t-1);return this},t.prototype.removeAll=function(){var e=this.nodes,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}i.parent=void 0}return this.nodes=[],this},t.prototype.replaceValues=function(e,t,n){return n||(n=t,t={}),this.walkDecls(function(i){t.props&&-1===t.props.indexOf(i.prop)||t.fast&&-1===i.value.indexOf(t.fast)||(i.value=i.value.replace(e,n))}),this},t.prototype.every=function(e){return this.nodes.every(e)},t.prototype.some=function(e){return this.nodes.some(e)},t.prototype.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},t.prototype.normalize=function(e,t){var i=this;if("string"==typeof e)e=function e(t){return t.map(function(t){return t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t})}(n(98)(e).nodes);else if(Array.isArray(e)){var r=e=e.slice(0),s=Array.isArray(r),l=0;for(r=s?r:r[Symbol.iterator]();;){var c;if(s){if(l>=r.length)break;c=r[l++]}else{if((l=r.next()).done)break;c=l.value}var u=c;u.parent&&u.parent.removeChild(u,"ignore")}}else if("root"===e.type){var d=e=e.nodes.slice(0),p=Array.isArray(d),h=0;for(d=p?d:d[Symbol.iterator]();;){var m;if(p){if(h>=d.length)break;m=d[h++]}else{if((h=d.next()).done)break;m=h.value}var f=m;f.parent&&f.parent.removeChild(f,"ignore")}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new o.default(e)]}else if(e.selector)e=[new(n(65))(e)];else if(e.name)e=[new(n(64))(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new a.default(e)]}return e.map(function(e){return"function"!=typeof e.before&&(e=i.rebuild(e)),e.parent&&e.parent.removeChild(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/[^\s]/g,"")),e.parent=i,e})},t.prototype.rebuild=function(e,t){var i=this,r=void 0;if("root"===e.type){var s=n(101);r=new s}else if("atrule"===e.type){var l=n(64);r=new l}else if("rule"===e.type){var c=n(65);r=new c}else"decl"===e.type?r=new o.default:"comment"===e.type&&(r=new a.default);for(var u in e)"nodes"===u?r.nodes=e.nodes.map(function(e){return i.rebuild(e,r)}):"parent"===u&&t?r.parent=t:e.hasOwnProperty(u)&&(r[u]=e[u]);return r},r(t,[{key:"first",get:function(){if(this.nodes)return this.nodes[0]}},{key:"last",get:function(){if(this.nodes)return this.nodes[this.nodes.length-1]}}]),t}(i(n(95)).default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(100),o=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.type="root",i.nodes||(i.nodes=[]),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.removeChild=function(t,n){var i=this.index(t);return!n&&0===i&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),e.prototype.removeChild.call(this,t)},t.prototype.normalize=function(t,n,i){var r=e.prototype.normalize.call(this,t);if(n)if("prepend"===i)this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n){var o=r,a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if((s=o.next()).done)break;l=s.value}l.raws.before=n.raws.before}}return r},t.prototype.toResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(n(181))(new(n(180)),this,e).stringify()},t}(((i=r)&&i.__esModule?i:{default:i}).default);t.default=o,e.exports=t.default},function(e,t,n){(function(i){var r;"classList"in document.createElement("_")||function(e){"use strict";if("Element"in e){var t=e.Element.prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},s=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(o.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==a(this,e+="")},l.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=a(this,e);-1!==t;)this.splice(t,1),o=!0,t=a(this,e)}while(++i<r);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(self),function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},r=n.prototype,o=i.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=e.URL||e.webkitURL||e,d=u.createObjectURL,p=u.revokeObjectURL,h=u,m=e.btoa,f=e.atob,g=e.ArrayBuffer,v=e.Uint8Array,b=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;c--;)s.prototype[l[c]]=c+1;return u.createObjectURL||(h=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(b),n.origin=t&&t[1])),n}),h.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof i?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):m?t+";base64,"+m(e.data):t+","+encodeURIComponent(e.data)):d?d.call(u,e):void 0},h.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&p&&p.call(u,e)},r.append=function(e){var n=this.data;if(v&&(e instanceof g||e instanceof v)){for(var r="",o=new v(e),l=0,c=o.length;l<c;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(e))}else e instanceof i?"base64"===e.encoding&&f?n.push(f(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},r.getBlob=function(e){return arguments.length||(e=null),new i(this.data.join(""),e,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(e,r>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,n){var i=n&&n.type||"",r=new t;if(e)for(var o=0,a=e.length;o<a;o++)Uint8Array&&e[o]instanceof Uint8Array?r.append(e[o].buffer):r.append(e[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(o,a){"use strict";"object"==typeof e&&void 0!==i&&i&&i.versions&&i.versions.electron||"object"!=typeof e?void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r):e.exports=a}(0,function(){"use strict";function e(e,t){return this.init(e,t)}var t,n,i,r,o,a,s,l,c,u,d;return e.extensions={},function(t){function n(e,t){var n,i=Array.prototype.slice.call(arguments,2);t=t||{};for(var r=0;r<i.length;r++){var o=i[r];if(o)for(n in o)o.hasOwnProperty(n)&&void 0!==o[n]&&(e||!1===t.hasOwnProperty(n))&&(t[n]=o[n])}return t}var i=!1;try{var r=document.createElement("div"),o=document.createTextNode(" ");r.appendChild(o),i=r.contains(o)}catch(t){}var a={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:t.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(e){return!!(a.isMac&&e.metaKey||!a.isMac&&e.ctrlKey)},isKey:function(e,t){var n=a.getKeyCode(e);return!1===Array.isArray(t)?n===t:-1!==t.indexOf(n)},getKeyCode:function(e){var t=e.which;return null===t&&(t=null!==e.charCode?e.charCode:e.keyCode),t},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},createLink:function(e,t,n,i){var r=e.createElement("a");return a.moveTextRangeIntoElement(t[0],t[t.length-1],r),r.setAttribute("href",n),i&&("_blank"===i&&r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target",i)),r},findOrCreateMatchingTextNodes:function(e,t,n){for(var i=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),r=[],o=0,s=!1,l=null,c=null;null!==(l=i.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!s&&n.start<o+l.nodeValue.length&&(s=!0,c=a.splitStartNodeIfNeeded(l,n.start,o)),s&&a.splitEndNodeIfNeeded(l,c,n.end,o),s&&o===n.end)break;if(s&&o>n.end+1)throw new Error("PerformLinking overshot the target!");s&&r.push(c||l),o+=l.nodeValue.length,null!==c&&(o+=c.nodeValue.length,i.nextNode()),c=null}else"img"===l.tagName.toLowerCase()&&(!s&&n.start<=o&&(s=!0),s&&r.push(l));return r},splitStartNodeIfNeeded:function(e,t,n){return t!==n?e.splitText(t-n):null},splitEndNodeIfNeeded:function(e,t,n,i){var r,o;r=i+e.nodeValue.length+(t?t.nodeValue.length:0)-1,o=n-i-(t?e.nodeValue.length:0),r>=n&&i!==r&&0!==o&&(t||e).splitText(o)},splitByBlockElements:function(t){if(3!==t.nodeType&&1!==t.nodeType)return[];var n=[],i=e.util.blockContainerElementNames.join(",");if(3===t.nodeType||0===t.querySelectorAll(i).length)return[t];for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes[r];3===o.nodeType?n.push(o):1===o.nodeType&&(0===o.querySelectorAll(i).length?n.push(o):n=n.concat(e.util.splitByBlockElements(o)))}return n},findAdjacentTextNodeWithContent:function(e,t,n){var i,r=!1,o=n.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);for(i=o.nextNode();i;){if(i===t)r=!0;else if(r&&3===i.nodeType&&i.nodeValue&&i.nodeValue.trim().length>0)break;i=o.nextNode()}return i},findPreviousSibling:function(e){if(!e||a.isMediumEditorElement(e))return!1;for(var t=e.previousSibling;!t&&!a.isMediumEditorElement(e.parentNode);)t=(e=e.parentNode).previousSibling;return t},isDescendant:function(e,t,n){if(!e||!t)return!1;if(e===t)return!!n;if(1!==e.nodeType)return!1;if(i||3!==t.nodeType)return e.contains(t);for(var r=t.parentNode;null!==r;){if(r===e)return!0;r=r.parentNode}return!1},isElement:function(e){return!(!e||1!==e.nodeType)},throttle:function(e,t){var n,i,r,o=null,a=0,s=function(){a=Date.now(),o=null,r=e.apply(n,i),o||(n=i=null)};return t||0===t||(t=50),function(){var l=Date.now(),c=t-(l-a);return n=this,i=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),a=l,r=e.apply(n,i),o||(n=i=null)):o||(o=setTimeout(s,c)),r}},traverseUp:function(e,t){if(!e)return!1;do{if(1===e.nodeType){if(t(e))return e;if(a.isMediumEditorElement(e))return!1}e=e.parentNode}while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,n){var i,r,o,s,l,c,u,d=!1,p=["insertHTML",!1,n];if(!e.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,p)}catch(t){}if((i=t.getSelection()).rangeCount){if(u=(r=i.getRangeAt(0)).commonAncestorContainer,a.isMediumEditorElement(u)&&!u.firstChild)r.selectNode(u.appendChild(t.createTextNode("")));else if(3===u.nodeType&&0===r.startOffset&&r.endOffset===u.nodeValue.length||3!==u.nodeType&&u.innerHTML===r.toString()){for(;!a.isMediumEditorElement(u)&&u.parentNode&&1===u.parentNode.childNodes.length&&!a.isMediumEditorElement(u.parentNode);)u=u.parentNode;r.selectNode(u)}for(r.deleteContents(),(o=t.createElement("div")).innerHTML=n,s=t.createDocumentFragment();o.firstChild;)l=o.firstChild,c=s.appendChild(l);r.insertNode(s),c&&((r=r.cloneRange()).setStartAfter(c),r.collapse(!0),e.selection.selectRange(t,r)),d=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(p,d),d},execFormatBlock:function(t,n){var i=a.getTopBlockContainer(e.selection.getSelectionStart(t));if("blockquote"===n){if(i&&Array.prototype.slice.call(i.childNodes).some(function(e){return a.isBlockContainer(e)}))return t.execCommand("outdent",!1,null);if(a.isIE)return t.execCommand("indent",!1,n)}if(i&&n===i.nodeName.toLowerCase()&&(n="p"),a.isIE&&(n="<"+n+">"),i&&"blockquote"===i.nodeName.toLowerCase()){if(a.isIE&&"<p>"===n)return t.execCommand("outdent",!1,n);if((a.isFF||a.isEdge)&&"p"===n)return Array.prototype.slice.call(i.childNodes).some(function(e){return!a.isBlockContainer(e)})&&t.execCommand("formatBlock",!1,n),t.execCommand("outdent",!1,n)}return t.execCommand("formatBlock",!1,n)},setTargetBlank:function(e,t){var n,i=t||!1;if("a"===e.nodeName.toLowerCase())e.target="_blank",e.rel="noopener noreferrer";else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)!1!==i&&i!==e[n].attributes.href.value||(e[n].target="_blank",e[n].rel="noopener noreferrer")},removeTargetBlank:function(e,t){var n;if("a"===e.nodeName.toLowerCase())e.removeAttribute("target"),e.removeAttribute("rel");else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)t===e[n].attributes.href.value&&(e[n].removeAttribute("target"),e[n].removeAttribute("rel"))},addClassToAnchors:function(e,t){var n,i,r=t.split(" ");if("a"===e.nodeName.toLowerCase())for(i=0;i<r.length;i+=1)e.classList.add(r[i]);else{var o=e.getElementsByTagName("a");if(0===o.length){var s=a.getClosestTag(e,"a");e=s?[s]:[]}else e=o;for(n=0;n<e.length;n+=1)for(i=0;i<r.length;i+=1)e[n].classList.add(r[i])}},isListItem:function(e){if(!e)return!1;if("li"===e.nodeName.toLowerCase())return!0;for(var t=e.parentNode,n=t.nodeName.toLowerCase();"li"===n||!a.isBlockContainer(t)&&"div"!==n;){if("li"===n)return!0;if(!(t=t.parentNode))return!1;n=t.nodeName.toLowerCase()}return!1},cleanListDOM:function(t,n){if("li"===n.nodeName.toLowerCase()){var i=n.parentElement;"p"===i.parentElement.nodeName.toLowerCase()&&(a.unwrap(i.parentElement,t),e.selection.moveCursor(t,n.firstChild,n.firstChild.textContent.length))}},splitOffDOMTree:function(e,t,n){for(var i=t,r=null,o=!n;i!==e;){var a,s=i.parentNode,l=s.cloneNode(!1),c=o?i:s.firstChild;for(r&&(o?l.appendChild(r):a=r),r=l;c;){var u=c.nextSibling;c===i?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&r.appendChild(c),c=o?u:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&r.appendChild(c),c=u)}a&&r.appendChild(a),i=s}return r},moveTextRangeIntoElement:function(e,t,n){if(!e||!t)return!1;var i=a.findCommonRoot(e,t);if(!i)return!1;if(t===e){var r=e.parentNode,o=e.nextSibling;return r.removeChild(e),n.appendChild(e),o?r.insertBefore(n,o):r.appendChild(n),n.hasChildNodes()}for(var s,l,c,u=[],d=0;d<i.childNodes.length;d++)if(c=i.childNodes[d],s){if(a.isDescendant(c,t,!0)){l=c;break}u.push(c)}else a.isDescendant(c,e,!0)&&(s=c);var p=l.nextSibling,h=i.ownerDocument.createDocumentFragment();return s===e?(s.parentNode.removeChild(s),h.appendChild(s)):h.appendChild(a.splitOffDOMTree(s,e)),u.forEach(function(e){e.parentNode.removeChild(e),h.appendChild(e)}),l===t?(l.parentNode.removeChild(l),h.appendChild(l)):h.appendChild(a.splitOffDOMTree(l,t,!0)),n.appendChild(h),l.parentNode===i?i.insertBefore(n,l):p?i.insertBefore(n,p):i.appendChild(n),n.hasChildNodes()},depthOfNode:function(e){for(var t=0,n=e;null!==n.parentNode;)n=n.parentNode,t++;return t},findCommonRoot:function(e,t){for(var n=a.depthOfNode(e),i=a.depthOfNode(t),r=e,o=t;n!==i;)n>i?(r=r.parentNode,n-=1):(o=o.parentNode,i-=1);for(;r!==o;)r=r.parentNode,o=o.parentNode;return r},isElementAtBeginningOfBlock:function(e){for(var t;!a.isBlockContainer(e)&&!a.isMediumEditorElement(e);){for(t=e;t=t.previousSibling;)if((3===t.nodeType?t.nodeValue:t.textContent).length>0)return!1;e=e.parentNode}return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(e){return a.traverseUp(e,function(e){return a.isMediumEditorElement(e)})},isBlockContainer:function(e){return e&&3!==e.nodeType&&-1!==a.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())},getClosestBlockContainer:function(e){return a.traverseUp(e,function(e){return a.isBlockContainer(e)||a.isMediumEditorElement(e)})},getTopBlockContainer:function(e){var t=!!a.isBlockContainer(e)&&e;return a.traverseUp(e,function(e){return a.isBlockContainer(e)&&(t=e),!(t||!a.isMediumEditorElement(e)||(t=e,0))}),t},getFirstSelectableLeafNode:function(e){for(;e&&e.firstChild;)e=e.firstChild;if("table"===(e=a.traverseUp(e,function(e){return-1===a.emptyElementNames.indexOf(e.nodeName.toLowerCase())})).nodeName.toLowerCase()){var t=e.querySelector("th, td");t&&(e=t)}return e},getFirstTextNode:function(e){return a.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),a._getFirstTextNode(e)},_getFirstTextNode:function(e){if(3===e.nodeType)return e;for(var t=0;t<e.childNodes.length;t++){var n=a._getFirstTextNode(e.childNodes[t]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(e){return-1===e.indexOf("://")?"http://"+e:e},warn:function(){void 0!==t.console&&"function"==typeof t.console.warn&&t.console.warn.apply(t.console,arguments)},deprecated:function(e,t,n){var i=e+" is deprecated, please use "+t+" instead.";n&&(i+=" Will be removed in "+n),a.warn(i)},deprecatedMethod:function(e,t,n,i){a.deprecated(e,t,i),"function"==typeof this[t]&&this[t].apply(this,n)},cleanupAttrs:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},cleanupTags:function(e,t){-1!==t.indexOf(e.nodeName.toLowerCase())&&e.parentNode.removeChild(e)},unwrapTags:function(t,n){-1!==n.indexOf(t.nodeName.toLowerCase())&&e.util.unwrap(t,document)},getClosestTag:function(e,t){return a.traverseUp(e,function(e){return e.nodeName.toLowerCase()===t.toLowerCase()})},unwrap:function(e,t){for(var n=t.createDocumentFragment(),i=Array.prototype.slice.call(e.childNodes),r=0;r<i.length;r++)n.appendChild(i[r]);n.childNodes.length?e.parentNode.replaceChild(n,e):e.parentNode.removeChild(e)},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}};e.util=a}(window),(t=function(t){e.util.extend(this,t)}).extend=function(t){var n,i=this;n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},e.util.extend(n,i);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&e.util.extend(n.prototype,t),n},t.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}},["execAction","on","off","subscribe","trigger"].forEach(function(e){t.prototype[e]=function(){return this.base[e].apply(this.base,arguments)}}),e.Extension=t,function(){function t(t){return e.util.isBlockContainer(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(t,n){var i,r=n.getSelection();return 0!==r.rangeCount&&(i=r.getRangeAt(0).commonAncestorContainer,e.util.traverseUp(i,t))},getSelectionElement:function(t){return this.findMatchingSelectionParent(function(t){return e.util.isMediumEditorElement(t)},t)},exportSelection:function(e,t){if(!e)return null;var n=null,i=t.getSelection();if(i.rangeCount>0){var r,o=i.getRangeAt(0),a=o.cloneRange();a.selectNodeContents(e),a.setEnd(o.startContainer,o.startOffset),n={start:r=a.toString().length,end:r+o.toString().length},this.doesRangeStartWithImages(o,t)&&(n.startsWithImage=!0);var s=this.getTrailingImageCount(e,n,o.endContainer,o.endOffset);if(s&&(n.trailingImageCount=s),0!==r){var l=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,o.startContainer,o.startOffset);-1!==l&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(e,t,n,i){if(e&&t){var r=n.createRange();r.setStart(t,0),r.collapse(!0);var o,a=t,s=[],l=0,c=!1,u=!1,d=0,p=!1,h=!1,m=null;for((i||e.startsWithImage||void 0!==e.emptyBlocksIndex)&&(h=!0);!p&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if(e.trailingImageCount&&u&&("img"===a.nodeName.toLowerCase()&&d++,d===e.trailingImageCount)){for(var f=0;a.parentNode.childNodes[f]!==a;)f++;r.setEnd(a.parentNode,f+1),p=!0}if(!p&&1===a.nodeType)for(var g=a.childNodes.length-1;g>=0;)s.push(a.childNodes[g]),g-=1}else o=l+a.length,!c&&e.start>=l&&e.start<=o&&(h||e.start<o?(r.setStart(a,e.start-l),c=!0):m=a),c&&e.end>=l&&e.end<=o&&(e.trailingImageCount?u=!0:(r.setEnd(a,e.end-l),p=!0)),l=o;p||(a=s.pop())}!c&&m&&(r.setStart(m,m.length),r.setEnd(m,m.length)),void 0!==e.emptyBlocksIndex&&(r=this.importSelectionMoveCursorPastBlocks(n,t,e.emptyBlocksIndex,r)),i&&(r=this.importSelectionMoveCursorPastAnchor(e,r)),this.selectRange(n,r)}},importSelectionMoveCursorPastAnchor:function(t,n){if(t.start===t.end&&3===n.startContainer.nodeType&&n.startOffset===n.startContainer.nodeValue.length&&e.util.traverseUp(n.startContainer,function(e){return"a"===e.nodeName.toLowerCase()})){for(var i=n.startContainer,r=n.startContainer.parentNode;null!==r&&"a"!==r.nodeName.toLowerCase();)r.childNodes[r.childNodes.length-1]!==i?r=null:(i=r,r=r.parentNode);if(null!==r&&"a"===r.nodeName.toLowerCase()){for(var o=null,a=0;null===o&&a<r.parentNode.childNodes.length;a++)r.parentNode.childNodes[a]===r&&(o=a);n.setStart(r.parentNode,o+1),n.collapse(!0)}}return n},importSelectionMoveCursorPastBlocks:function(n,i,r,o){var a,s,l=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,t,!1),c=o.startContainer,u=0;for(r=r||1,a=3===c.nodeType&&e.util.isBlockContainer(c.previousSibling)?c.previousSibling:e.util.getClosestBlockContainer(c);l.nextNode();)if(s){if(s=l.currentNode,++u===r)break;if(s.textContent.length>0)break}else a===l.currentNode&&(s=l.currentNode);return s||(s=a),o.setStart(e.util.getFirstSelectableLeafNode(s),0),o},getIndexRelativeToAdjacentEmptyBlocks:function(n,i,r,o){if(r.textContent.length>0&&o>0)return-1;var a=r;if(3!==a.nodeType&&(a=r.childNodes[o]),a){if(!e.util.isElementAtBeginningOfBlock(a))return-1;var s=e.util.findPreviousSibling(a);if(!s)return-1;if(s.nodeValue)return-1}for(var l=e.util.getClosestBlockContainer(r),c=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,t,!1),u=0;c.nextNode();){var d=""===c.currentNode.textContent;if((d||u>0)&&(u+=1),c.currentNode===l)return u;d||(u=0)}return u},doesRangeStartWithImages:function(e,t){if(0!==e.startOffset||1!==e.startContainer.nodeType)return!1;if("img"===e.startContainer.nodeName.toLowerCase())return!0;var n=e.startContainer.querySelector("img");if(!n)return!1;for(var i=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);i.nextNode();){var r=i.currentNode;if(r===n)break;if(r.nodeValue)return!1}return!0},getTrailingImageCount:function(e,t,n,i){if(0===i||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var r=n.childNodes[i-1];r.hasChildNodes();)r=r.lastChild;for(var o,a=e,s=[],l=0,c=!1,u=!1,d=!1,p=0;!d&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if("img"===a.nodeName.toLowerCase()&&p++,a===r)d=!0;else if(1===a.nodeType)for(var h=a.childNodes.length-1;h>=0;)s.push(a.childNodes[h]),h-=1}else p=0,o=l+a.length,!c&&t.start>=l&&t.start<=o&&(c=!0),c&&t.end>=l&&t.end<=o&&(u=!0),l=o;d||(a=s.pop())}return p},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount)return!1;if(""!==t.toString().trim())return!0;var n=this.getSelectedParentElement(t.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(e){var t,n=this.findMatchingSelectionParent(function(e){var n=e&&e.getAttribute("contenteditable");return"true"===n&&(t=!0),"#text"!==e.nodeName&&"false"===n},e);return!t&&n},getSelectionHtml:function(e){var t,n,i,r="",o=e.getSelection();if(o.rangeCount){for(i=e.createElement("div"),t=0,n=o.rangeCount;t<n;t+=1)i.appendChild(o.getRangeAt(t).cloneContents());r=i.innerHTML}return r},getCaretOffsets:function(e,t){var n,i;return t||(t=window.getSelection().getRangeAt(0)),n=t.cloneRange(),i=t.cloneRange(),n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),i.selectNodeContents(e),i.setStart(t.endContainer,t.endOffset),{left:n.toString().length,right:i.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var t,n,i,r=e.getSelection();if(!r.rangeCount||r.isCollapsed||!r.getRangeAt(0).commonAncestorContainer)return[];if(3===(t=r.getRangeAt(0)).commonAncestorContainer.nodeType){for(n=[],i=t.commonAncestorContainer;i.parentNode&&1===i.parentNode.childNodes.length;)n.push(i.parentNode),i=i.parentNode;return n}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),function(e){return"function"!=typeof r.containsNode||r.containsNode(e,!0)})},selectNode:function(e,t){var n=t.createRange();n.selectNodeContents(e),this.selectRange(t,n)},select:function(e,t,n,i,r){var o=e.createRange();return o.setStart(t,n),i?o.setEnd(i,r):o.collapse(!0),this.selectRange(e,o),o},clearSelection:function(e,t){t?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,t,n){this.select(e,t,n)},getSelectionRange:function(e){var t=e.getSelection();return 0===t.rangeCount?null:t.getRangeAt(0)},selectRange:function(e,t){var n=e.getSelection();n.removeAllRanges(),n.addRange(t)},getSelectionStart:function(e){var t=e.getSelection().anchorNode;return t&&3===t.nodeType?t.parentNode:t}};e.selection=n}(),function(){function t(t,n){return!!t&&t.some(function(t){if("function"!=typeof t.getInteractionElements)return!1;var i=t.getInteractionElements();return!!i&&(Array.isArray(i)||(i=[i]),i.some(function(t){return e.util.isDescendant(t,n,!0)}))})}var n=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};n.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(t,n,i,r){var o=this.base.options.contentWindow,a=this.base.options.ownerDocument;t=e.util.isElement(t)||[o,a].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){e.addEventListener(n,i,r),this.events.push([e,n,i,r])}.bind(this))},detachDOMEvent:function(t,n,i,r){var o,a,s=this.base.options.contentWindow,l=this.base.options.ownerDocument;t&&(t=e.util.isElement(t)||[s,l].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){-1!==(o=this.indexOfListener(e,n,i,r))&&(a=this.events.splice(o,1)[0])[0].removeEventListener(a[1],a[2],a[3])}.bind(this)))},indexOfListener:function(e,t,n,i){var r,o,a;for(r=0,o=this.events.length;r<o;r+=1)if((a=this.events[r])[0]===e&&a[1]===t&&a[2]===n&&a[3]===i)return r;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},detachAllEventsFromElement:function(e){for(var t=this.events.filter(function(t){return t&&t[0].getAttribute&&t[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")}),n=0,i=t.length;n<i;n++){var r=t[n];this.detachDOMEvent(r[0],r[1],r[2],r[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(t){this.attachDOMEvent(e,t.name,t.handler.bind(this))},this)},enableCustomEvent:function(e){void 0!==this.disabledEvents[e]&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var n=this.indexOfCustomListener(e,t);-1!==n&&this.customEvents[e].splice(n,1)},indexOfCustomListener:function(e,t){return this.customEvents[e]&&this.customEvents[e].length?this.customEvents[e].indexOf(t):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,n){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach(function(e){e(t,n)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(e){e.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(this.execCommandListener&&e.execCommand.listeners){var t=e.execCommand.listeners.indexOf(this.execCommandListener);-1!==t&&e.execCommand.listeners.splice(t,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var t=function(t,n){e.execCommand.listeners&&e.execCommand.listeners.forEach(function(e){e({command:t[0],value:t[2],args:t,result:n})})},n=function(){var n=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return n;var i=Array.prototype.slice.call(arguments);return t(i,n),n};n.orig=e.execCommand,n.listeners=[],n.callListeners=t,e.execCommand=n}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(e){this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":case"editableKeydownEnter":case"editableKeydownTab":case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[e]=!0}},attachToEachElement:function(e,t){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(n){this.attachDOMEvent(n,e,t.bind(this))},this),this.eventsCache.push({name:e,handler:t})},cleanupElement:function(e){var t=e.getAttribute("medium-editor-index");t&&(this.detachAllEventsFromElement(e),this.contentCache&&delete this.contentCache[t])},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(n,i){var r,o=this.base.getFocusedElement();o&&"click"===i.type&&this.lastMousedownTarget&&(e.util.isDescendant(o,this.lastMousedownTarget,!0)||t(this.base.extensions,this.lastMousedownTarget))&&(r=o),r||this.base.elements.some(function(t){return!r&&e.util.isDescendant(t,n,!0)&&(r=t),!!r},this);var a=!e.util.isDescendant(o,n,!0)&&!t(this.base.extensions,n);r!==o&&(o&&a&&(o.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",i,o)),r&&(r.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",i,r))),a&&this.triggerCustomEvent("externalInteraction",i)},updateInput:function(e,t){if(this.contentCache){var n=e.getAttribute("medium-editor-index"),i=e.innerHTML;i!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",t,e),this.contentCache[n]=i}},handleDocumentSelectionChange:function(t){if(t.currentTarget&&t.currentTarget.activeElement){var n,i=t.currentTarget.activeElement;this.base.elements.some(function(t){return!!e.util.isDescendant(t,i,!0)&&(n=t,!0)},this),n&&this.updateInput(n,{target:i,currentTarget:n})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(t){return this.triggerCustomEvent("editableKeydown",t,t.currentTarget),e.util.isKey(t,e.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.ENTER)||t.ctrlKey&&e.util.isKey(t,e.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",t,t.currentTarget):e.util.isKey(t,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",t,t.currentTarget):void 0}},e.Events=n}(),(n=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(t){n.isBuiltInButton(t)?e.Extension.call(this,this.defaults[t]):e.Extension.call(this,t)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,n=this.getAria(),i=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(t){e.classList.add(t)}),e.setAttribute("data-action",this.getAction()),n&&(e.setAttribute("title",n),e.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach(function(t){e.setAttribute(t,this.attrs[t])},this),"fontawesome"===i&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getAction();t&&this.execAction(t)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var e=null;return this.useQueryState&&(e=this.base.queryCommandState(this.getAction())),e},isAlreadyApplied:function(e){var t,n,i=!1,r=this.getTagNames();return!1===this.knownState||!0===this.knownState?this.knownState:(r&&r.length>0&&(i=-1!==r.indexOf(e.nodeName.toLowerCase())),!i&&this.style&&(t=this.style.value.split("|"),n=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop),t.forEach(function(e){this.knownState||((i=-1!==n.indexOf(e))||"text-decoration"!==this.style.prop)&&(this.knownState=i)},this)),i)}})).isBuiltInButton=function(t){return"string"==typeof t&&e.extensions.button.prototype.defaults.hasOwnProperty(t)},e.extensions.button=n,e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}},i=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.hideToolbarDefaultActions()},setToolbarPosition:function(){var e=this.base.getExtensionByName("toolbar");e&&e.setToolbarPosition()}}),e.extensions.form=i,r=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(t){t.preventDefault(),t.stopPropagation();var n=e.selection.getSelectionRange(this.document);return"a"===n.startContainer.nodeName.toLowerCase()||"a"===n.endContainer.nodeName.toLowerCase()||e.util.getClosestTag(e.selection.getSelectedParentElement(n),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(t){e.util.isKey(t,e.util.keyCode.K)&&e.util.isMetaCtrlKey(t)&&!t.shiftKey&&this.handleClick(t)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return e.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),e.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),e.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(t){var n=this.getInput(),i=this.getAnchorTargetCheckbox(),r=this.getAnchorButtonCheckbox();if("string"==typeof(t=t||{value:""})&&(t={value:t}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),n.value=t.value,n.focus(),i&&(i.checked="_blank"===t.target),r){var o=t.buttonClass?t.buttonClass.split(" "):[];r.checked=-1!==o.indexOf(this.customClassOption)}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var e=this.getAnchorTargetCheckbox(),t=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",e&&e.checked&&(n.target="_blank"),t&&t.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection(),this.execAction(this.action,e),this.base.checkSelection()},ensureEncodedUri:function(e){return e===decodeURI(e)?encodeURI(e):e},ensureEncodedUriComponent:function(e){return e===decodeURIComponent(e)?encodeURIComponent(e):e},ensureEncodedParam:function(e){var t=e.split("="),n=t[0],i=t[1];return n+(void 0===i?"":"="+this.ensureEncodedUriComponent(i))},ensureEncodedQuery:function(e){return e.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i.test(e),n="",i=e.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),r=i[1],o=i[2],a=i[3];if(/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/.test(e))return"tel:"+e;if(!t){var s=r.split("/")[0];(s.match(/.+(\.|:).+/)||"localhost"===s)&&(n="http://")}return n+this.ensureEncodedUri(r)+(void 0===o?"":"?"+this.ensureEncodedQuery(o))+(void 0===a?"":"#"+a)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector(".medium-editor-toolbar-close"),n=e.querySelector(".medium-editor-toolbar-save"),i=e.querySelector(".medium-editor-toolbar-input");this.on(e,"click",this.handleFormClick.bind(this)),this.on(i,"keyup",this.handleTextboxKeyup.bind(this)),this.on(t,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var e=this.document.createElement("div");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),e.innerHTML=this.getTemplate(),this.attachFormEvents(e),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(t){if(t.keyCode===e.util.keyCode.ENTER)return t.preventDefault(),void this.doFormSave();t.keyCode===e.util.keyCode.ESCAPE&&(t.preventDefault(),this.doFormCancel())},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.anchor=r,o=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.getTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!e.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(e){e=e||this.activeAnchor;var t,n,i,r,o,a=this.window.innerWidth,s=this.anchorPreview.offsetHeight,l=e.getBoundingClientRect(),c=this.diffLeft,u=this.diffTop,d=this.getEditorOption("elementsContainer"),p=["absolute","fixed"].indexOf(window.getComputedStyle(d).getPropertyValue("position"))>-1,h={};t=this.anchorPreview.offsetWidth/2;var m=this.base.getExtensionByName("toolbar");m&&(c=m.diffLeft,u=m.diffTop),n=c-t,p?(r=d.getBoundingClientRect(),["top","left"].forEach(function(e){h[e]=l[e]-r[e]}),h.width=l.width,h.height=l.height,l=h,a=r.width,o=d.scrollTop):o=this.window.pageYOffset,i=l.left+l.width/2,o+=s+l.top+l.height-u-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(o)+"px",this.anchorPreview.style.right="initial",i<t?(this.anchorPreview.style.left=n+t+"px",this.anchorPreview.style.right="initial"):a-i<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+i+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(t){var n=e.util.getClosestTag(t.target,"a");if(!1!==n){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(n.outerHTML)||/href=["']#\S+["']/.test(n.outerHTML)))return!0;var i=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&i&&i.isDisplayed&&i.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;(new Date).getTime()-this.lastOver>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}),e.extensions.anchorPreview=o,function(){var t,n,i,r,o;t=[" ","\t","\n","\r"," "," "," "," "," ","\u2028","\u2029"],i="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+(n="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw")+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+n+"))",r=new RegExp("^("+n+")$","i"),o=new RegExp(i,"gi");var a=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var e=0,t=0;t<this.window._mediumEditors.length;t++){var n=this.window._mediumEditors[t];null!==n&&void 0!==n.getExtensionByName("autoLink")&&e++}return 1===e},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(t){this.disableEventHandling||e.util.isKey(t,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var e=this.base.exportSelection();this.performLinking(t.target)&&this.base.importSelection(e,!0)}catch(e){window.console&&window.console.error("Failed to perform linking",e),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(t){var n=e.util.splitByBlockElements(t),i=!1;0===n.length&&(n=[t]);for(var r=0;r<n.length;r++)i=this.removeObsoleteAutoLinkSpans(n[r])||i,i=this.performLinkingWithinElement(n[r])||i;return this.base.events.updateInput(t,{target:t,currentTarget:t}),i},removeObsoleteAutoLinkSpans:function(t){if(!t||3===t.nodeType)return!1;for(var n,i=t.querySelectorAll('span[data-auto-link="true"]'),r=!1,o=0;o<i.length;o++){var a=i[o].textContent;if(-1===a.indexOf("://")&&(a=e.util.ensureUrlHasProtocol(a)),i[o].getAttribute("data-href")!==a&&(n=i[o],!e.util.getClosestTag(n,"a"))){r=!0;var s=a.replace(/\s+$/,"");if(i[o].getAttribute("data-href")===s){var l=a.length-s.length,c=e.util.splitOffDOMTree(i[o],this.splitTextBeforeEnd(i[o],l));i[o].parentNode.insertBefore(c,i[o].nextSibling)}else e.util.unwrap(i[o],this.document)}}return r},splitTextBeforeEnd:function(e,t){for(var n,i,r,o=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),a=!0;a;)a=null!==o.lastChild();for(;t>0&&null!==r;)(i=(n=o.currentNode).nodeValue).length>t?(r=n.splitText(i.length-t),t=0):(r=o.previousNode(),t-=i.length);return r},performLinkingWithinElement:function(t){for(var n=this.findLinkableText(t),i=0;i<n.length;i++){var r=e.util.findOrCreateMatchingTextNodes(this.document,t,n[i]);this.shouldNotLink(r)||this.createAutoLink(r,n[i].href)}return!1},shouldNotLink:function(t){for(var n=!1,i=0;i<t.length&&!1===n;i++)n=!!e.util.traverseUp(t[i],function(e){return"a"===e.nodeName.toLowerCase()||e.getAttribute&&"true"===e.getAttribute("data-auto-link")});return n},findLinkableText:function(e){for(var n=e.textContent,i=null,a=[];null!==(i=o.exec(n));){var s=i.index+i[0].length;!(0!==i.index&&-1===t.indexOf(n[i.index-1])||s!==n.length&&-1===t.indexOf(n[s]))&&(-1!==i[0].indexOf("/")||r.test(i[0].split(".").pop().split("?").shift()))&&a.push({href:i[0],start:i.index,end:s})}return a},createAutoLink:function(t,n){n=e.util.ensureUrlHasProtocol(n);var i=e.util.createLink(this.document,t,n,this.getEditorOption("targetBlank")?"_blank":null),r=this.document.createElement("span");for(r.setAttribute("data-auto-link","true"),r.setAttribute("data-href",n),i.insertBefore(r,i.firstChild);i.childNodes.length>1;)r.appendChild(i.childNodes[1])}});e.extensions.autoLink=a}(),function(){function t(t){var i=e.util.getContainerEditorElement(t);Array.prototype.slice.call(i.parentElement.querySelectorAll("."+n)).forEach(function(e){e.classList.remove(n)})}var n="medium-editor-dragover",i=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy";var i=e.target.classList?e.target:e.target.parentElement;t(i),"dragover"===e.type&&i.classList.add(n)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var n=this.base.exportSelection();n.start=n.end,this.base.importSelection(n),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files).forEach(function(e){this.isAllowedFile(e)&&e.type.match("image")&&this.insertImageFile(e)},this),t(e.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(t){if("function"==typeof FileReader){var n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(t){var n=this.document.createElement("img");n.src=t.target.result,e.util.insertHTMLCommand(this.document,n.outerHTML)}.bind(this))}}});e.extensions.fileDragging=i}(),a=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(e){var t=e.key.charCodeAt(0);this.keys[t]||(this.keys[t]=[]),this.keys[t].push(e)},this)},handleKeydown:function(t){var n=e.util.getKeyCode(t);if(this.keys[n]){var i=e.util.isMetaCtrlKey(t),r=!!t.shiftKey,o=!!t.altKey;this.keys[n].forEach(function(e){e.meta!==i||e.shift!==r||e.alt!==o&&void 0!==e.alt||(t.preventDefault(),t.stopPropagation(),"function"==typeof e.command?e.command.apply(this):!1!==e.command&&this.execAction(e.command))},this)}}}),e.extensions.keyboardCommands=a,s=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontName")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(e){var t=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var e,t=this.document,n=t.createElement("div"),i=t.createElement("select"),r=t.createElement("a"),o=t.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var a=0;a<this.fonts.length;a++)(e=t.createElement("option")).innerHTML=this.fonts[a],e.value=this.fonts[a],i.appendChild(e);return i.className="medium-editor-toolbar-select",n.appendChild(i),this.on(i,"change",this.handleFontChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("face")&&e.removeAttribute("face")})},handleFontChange:function(){var e=this.getSelect().value;""===e?this.clearFontName():this.execAction("fontName",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.fontName=s,l=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontSize")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(e){var t=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var e=this.document,t=e.createElement("div"),n=e.createElement("input"),i=e.createElement("a"),r=e.createElement("a");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(t,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",t.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),r.setAttribute("href","#"),r.className="medium-editor-toobar-save",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",t.appendChild(r),this.on(r,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",t.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("size")&&e.removeAttribute("size")})},handleSliderChange:function(){var e=this.getInput().value;"4"===e?this.clearFontSize():this.execAction("fontSize",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}}),e.extensions.fontSize=l,function(){function t(e,t,n){var i=e.clipboardData||t.clipboardData||n.dataTransfer,r={};if(!i)return r;if(i.getData){var o=i.getData("Text");o&&o.length>0&&(r["text/plain"]=o)}if(i.types)for(var a=0;a<i.types.length;a++){var s=i.types[a];r[s]=i.getData(s)}return r}var n=null,i=null,r=function(e){e.stopPropagation()},o=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(e){this.on(e,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(e,t){this.on(t,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(e,n){if(!e.defaultPrevented){var i=t(e,this.window,this.document),r=i["text/html"],o=i["text/plain"];this.window.clipboardData&&void 0===e.clipboardData&&!r&&(r=o),(r||o)&&(e.preventDefault(),this.doPaste(r,o,n))}},doPaste:function(t,n,i){var r,o,a="";if(this.cleanPastedHTML&&t)return this.cleanPaste(t);if(n){if(this.getEditorOption("disableReturn")||i&&i.getAttribute("data-disable-return"))a=e.util.htmlEntities(n);else if((r=n.split(/[\r\n]+/g)).length>1)for(o=0;o<r.length;o+=1)""!==r[o]&&(a+="<p>"+e.util.htmlEntities(r[o])+"</p>");else a=e.util.htmlEntities(r[0]);e.util.insertHTMLCommand(this.document,a)}},handlePasteBinPaste:function(e){if(e.defaultPrevented)this.removePasteBin();else{var n=t(e,this.window,this.document),r=n["text/html"],o=n["text/plain"],a=i;if(!this.cleanPastedHTML||r)return e.preventDefault(),this.removePasteBin(),this.doPaste(r,o,a),void this.trigger("editablePaste",{currentTarget:a,target:a},a);setTimeout(function(){this.cleanPastedHTML&&(r=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(r,o,a),this.trigger("editablePaste",{currentTarget:a,target:a},a)}.bind(this),0)}},handleKeydown:function(t,n){e.util.isKey(t,e.util.keyCode.V)&&e.util.isMetaCtrlKey(t)&&(t.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(n))},createPasteBin:function(t){var o,a=e.selection.getSelectionRange(this.document),s=this.window.pageYOffset;i=t,a&&((o=a.getClientRects()).length?s+=o[0].top:void 0!==a.startContainer.getBoundingClientRect?s+=a.startContainer.getBoundingClientRect().top:s+=a.getBoundingClientRect().top),n=a;var l=this.document.createElement("div");l.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),l.setAttribute("style","border: 1px red solid; position: absolute; top: "+s+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),l.setAttribute("contentEditable",!0),l.innerHTML="%ME_PASTEBIN%",this.document.body.appendChild(l),this.on(l,"focus",r),this.on(l,"focusin",r),this.on(l,"focusout",r),l.focus(),e.selection.selectNode(l,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(l,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==n&&(e.selection.selectRange(this.document,n),n=null),null!==i&&(i=null);var t=this.getPasteBin();t&&t&&(this.off(t,"focus",r),this.off(t,"focusin",r),this.off(t,"focusout",r),this.off(t,"paste",this.boundHandlePaste),t.parentElement.removeChild(t))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var e=this.getPasteBin();if(!e)return!1;if(e.firstChild&&"mcepastebin"===e.firstChild.id)return!1;var t=e.innerHTML;return!(!t||"%ME_PASTEBIN%"===t)&&t},cleanPaste:function(e){var t,n,i,r,o=/<p|<br|<div/.test(e),a=[].concat(this.preCleanReplacements||[],[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]],this.cleanReplacements||[]);for(t=0;t<a.length;t+=1)e=e.replace(a[t][0],a[t][1]);if(!o)return this.pasteHTML(e);for((i=this.document.createElement("div")).innerHTML="<p>"+e.split("<br><br>").join("</p><p>")+"</p>",n=i.querySelectorAll("a,p,div,br"),t=0;t<n.length;t+=1)switch((r=n[t]).innerHTML=r.innerHTML.replace(/\n/gi," "),r.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(r);break;case"br":this.filterLineBreak(r)}this.pasteHTML(i.innerHTML)},pasteHTML:function(t,n){n=e.util.defaults({},n,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var i,r,o,a,s=this.document.createDocumentFragment();for(s.appendChild(this.document.createElement("body")),(a=s.querySelector("body")).innerHTML=t,this.cleanupSpans(a),i=a.querySelectorAll("*"),o=0;o<i.length;o+=1)"a"===(r=i[o]).nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(r),e.util.cleanupAttrs(r,n.cleanAttrs),e.util.cleanupTags(r,n.cleanTags),e.util.unwrapTags(r,n.unwrapTags);e.util.insertHTMLCommand(this.document,a.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.nodeName.toLowerCase()||"div"===e.nodeName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.textContent)&&e.parentNode&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?this.removeWithParent(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?e.parentNode&&1===e.parentNode.childElementCount&&""===e.parentNode.textContent&&this.removeWithParent(e):this.removeWithParent(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e))},cleanupSpans:function(t){var n,i,r,o=t.querySelectorAll(".replace-with"),a=function(e){return e&&"#text"!==e.nodeName&&"false"===e.getAttribute("contenteditable")};for(n=0;n<o.length;n+=1)i=o[n],r=this.document.createElement(i.classList.contains("bold")?"b":"i"),i.classList.contains("bold")&&i.classList.contains("italic")?r.innerHTML="<i>"+i.innerHTML+"</i>":r.innerHTML=i.innerHTML,i.parentNode.replaceChild(r,i);for(o=t.querySelectorAll("span"),n=0;n<o.length;n+=1){if(i=o[n],e.util.traverseUp(i,a))return!1;e.util.unwrap(i,this.document)}}});e.extensions.paste=o}(),c=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(e,t){this.initElement(t)},initElement:function(e){e.getAttribute("data-placeholder")||e.setAttribute("data-placeholder",this.text),this.updatePlaceholder(e)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(e,t){this.cleanupElement(t)},cleanupElement:function(e){e.getAttribute("data-placeholder")===this.text&&e.removeAttribute("data-placeholder")},showPlaceholder:function(t){t&&(e.util.isFF&&0===t.childNodes.length?(t.classList.add("medium-editor-placeholder-relative"),t.classList.remove("medium-editor-placeholder")):(t.classList.add("medium-editor-placeholder"),t.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(e){e&&(e.classList.remove("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(e,t){if(e.querySelector("img, blockquote, ul, ol, table")||""!==e.textContent.replace(/^\s+|\s+$/g,""))return this.hidePlaceholder(e);t||this.showPlaceholder(e)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(e,t){var n=this.hideOnClick&&t===this.base.getFocusedElement();this.updatePlaceholder(t,n)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}}),e.extensions.placeholder=c,u=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,t){return this.base.extensions.forEach(function(n){if(n!==this)return e.apply(t||this,arguments)},this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this.static?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension(function(t){t.hasForm&&e.appendChild(t.getForm())}),this.attachEventHandlers(),e},createToolbarButtons:function(){var t,n,i,r,o,a,s=this.document.createElement("ul");return s.id="medium-editor-toolbar-actions"+this.getEditorId(),s.className="medium-editor-toolbar-actions",s.style.display="block",this.buttons.forEach(function(i){"string"==typeof i?(o=i,a=null):(o=i.name,a=i),(r=this.base.addBuiltInExtension(o,a))&&"function"==typeof r.getButton&&(n=r.getButton(this.base),t=this.document.createElement("li"),e.util.isElement(n)?t.appendChild(n):t.innerHTML=n,s.appendChild(t))},this),(i=s.querySelectorAll("button")).length>0&&(i[0].classList.add(this.firstButtonClass),i[i.length-1].classList.add(this.lastButtonClass)),s},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(t){if(t&&t.target&&e.util.isDescendant(this.getToolbarElement(),t.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(e){e.hasForm&&e.isDisplayed()&&e.hideForm()})},multipleBlockElementsSelected:function(){var t=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=e.selection.getSelectionHtml(this.document).replace(/<[^\/>][^>]*><\/[^>]+>/gim,"").match(t);return!!n&&n.length>1},modifySelection:function(){var t=this.window.getSelection().getRangeAt(0);if(this.standardizeSelectionStart&&t.startContainer.nodeValue&&t.startOffset===t.startContainer.nodeValue.length){var n=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),t.startContainer,this.document);if(n){for(var i=0;0===n.nodeValue.substr(i,1).trim().length;)i+=1;t=e.selection.select(this.document,n,i,t.endContainer,t.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var t=e.selection.getSelectionElement(this.window);return!t||-1===this.getEditorElements().indexOf(t)||t.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!e.selection.selectionContainsContent(this.document)||!1===this.allowMultiParagraphSelection&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(e){"function"==typeof e.isActive&&"function"==typeof e.setInactive&&e.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var t,n=[],i=null,r=e.selection.getSelectionRange(this.document),o=function(e){"function"==typeof e.checkState?e.checkState(t):"function"==typeof e.isActive&&"function"==typeof e.isAlreadyApplied&&"function"==typeof e.setActive&&!e.isActive()&&e.isAlreadyApplied(t)&&e.setActive()};if(r&&(this.forEachExtension(function(e){"function"!=typeof e.queryCommandState||null===(i=e.queryCommandState())?n.push(e):i&&"function"==typeof e.setActive&&e.setActive()}),t=e.selection.getSelectedParentElement(r),this.getEditorElements().some(function(n){return e.util.isDescendant(n,t,!0)})))for(;t&&(n.forEach(o),!e.util.isMediumEditorElement(t));)t=t.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();if(!e)return this;!this.static&&t.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(e):this.positionToolbar(t)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(e){this.getToolbarElement().style.left="0";var t,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,i=this.window.innerWidth,r=this.getToolbarElement(),o=e.getBoundingClientRect(),a=o.top+n,s=o.left+o.width/2,l=r.offsetHeight,c=r.offsetWidth,u=c/2;switch(this.sticky?n>a+e.offsetHeight-l-this.stickyTopOffset?(r.style.top=a+e.offsetHeight-l+"px",r.classList.remove("medium-editor-sticky-toolbar")):n>a-l-this.stickyTopOffset?(r.classList.add("medium-editor-sticky-toolbar"),r.style.top=this.stickyTopOffset+"px"):(r.classList.remove("medium-editor-sticky-toolbar"),r.style.top=a-l+"px"):r.style.top=a-l+"px",this.align){case"left":t=o.left;break;case"right":t=o.right-c;break;case"center":t=s-u}t<0?t=0:t+c>i&&(t=i-Math.ceil(c)-1),r.style.left=t+"px"},positionToolbar:function(e){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var t=e.getRangeAt(0),n=t.getBoundingClientRect();(!n||0===n.height&&0===n.width&&t.startContainer===t.endContainer)&&(n=1===t.startContainer.nodeType&&t.startContainer.querySelector("img")?t.startContainer.querySelector("img").getBoundingClientRect():t.startContainer.getBoundingClientRect());var i,r,o=this.window.innerWidth,a=this.getToolbarElement(),s=a.offsetHeight,l=a.offsetWidth/2,c=this.diffLeft-l,u=this.getEditorOption("elementsContainer"),d={},p={};["absolute","fixed"].indexOf(window.getComputedStyle(u).getPropertyValue("position"))>-1?(r=u.getBoundingClientRect(),["top","left"].forEach(function(e){p[e]=n[e]-r[e]}),p.width=n.width,p.height=n.height,n=p,o=r.width,d.top=u.scrollTop):d.top=this.window.pageYOffset,i=n.left+n.width/2,d.top+=n.top-s,n.top<50?(a.classList.add("medium-toolbar-arrow-over"),a.classList.remove("medium-toolbar-arrow-under"),d.top+=50+n.height-this.diffTop):(a.classList.add("medium-toolbar-arrow-under"),a.classList.remove("medium-toolbar-arrow-over"),d.top+=this.diffTop),i<l?(d.left=c+l,d.right="initial"):o-i<l?(d.left="auto",d.right=0):(d.left=c+i,d.right="initial"),["top","left","right"].forEach(function(e){a.style[e]=d[e]+(isNaN(d[e])?"":"px")})}}),e.extensions.toolbar=u,d=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy","dragover"===e.type?e.target.classList.add("medium-editor-dragover"):"dragleave"===e.type&&e.target.classList.remove("medium-editor-dragover")},handleDrop:function(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.files&&Array.prototype.slice.call(t.dataTransfer.files,0).some(function(t){var n,i;t.type.match("image")&&((n=new FileReader).readAsDataURL(t),i="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+i+'" />'),n.onload=function(){var e=this.document.getElementById(i);e&&(e.removeAttribute("id"),e.removeAttribute("class"),e.src=n.result)}.bind(this))}.bind(this)),t.target.classList.remove("medium-editor-dragover")}}),e.extensions.imageDragging=d,function(){function t(t,n){if(this.options.disableReturn||n.getAttribute("data-disable-return"))t.preventDefault();else if(this.options.disableDoubleReturn||n.getAttribute("data-disable-double-return")){var i=e.selection.getSelectionStart(this.options.ownerDocument);(i&&""===i.textContent.trim()&&"li"!==i.nodeName.toLowerCase()||i.previousElementSibling&&"br"!==i.previousElementSibling.nodeName.toLowerCase()&&""===i.previousElementSibling.textContent.trim())&&t.preventDefault()}}function n(t){var n,i=e.selection.getSelectionStart(this.options.ownerDocument),r=i.nodeName.toLowerCase(),o=/^(\s+|<br\/?>)?$/i,a=/h\d/i;e.util.isKey(t,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&i.previousElementSibling&&a.test(r)&&0===e.selection.getCaretOffsets(i).left?e.util.isKey(t,e.util.keyCode.BACKSPACE)&&o.test(i.previousElementSibling.innerHTML)?(i.previousElementSibling.parentNode.removeChild(i.previousElementSibling),t.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(t,e.util.keyCode.ENTER)&&((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",i.previousElementSibling.parentNode.insertBefore(n,i),t.preventDefault()):e.util.isKey(t,e.util.keyCode.DELETE)&&i.nextElementSibling&&i.previousElementSibling&&!a.test(r)&&o.test(i.innerHTML)&&a.test(i.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,i.nextElementSibling),i.previousElementSibling.parentNode.removeChild(i),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&"li"===r&&o.test(i.innerHTML)&&!i.previousElementSibling&&!i.parentElement.previousElementSibling&&i.nextElementSibling&&"li"===i.nextElementSibling.nodeName.toLowerCase()?((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",i.parentElement.parentElement.insertBefore(n,i.parentElement),e.selection.moveCursor(this.options.ownerDocument,n),i.parentElement.removeChild(i),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&!1!==e.util.getClosestTag(i,"blockquote")&&0===e.selection.getCaretOffsets(i).left?(t.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p")):e.util.isKey(t,e.util.keyCode.ENTER)&&!1!==e.util.getClosestTag(i,"blockquote")&&0===e.selection.getCaretOffsets(i).right?((n=this.options.ownerDocument.createElement("p")).innerHTML="<br>",i.parentElement.insertBefore(n,i.nextSibling),e.selection.moveCursor(this.options.ownerDocument,n),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&e.util.isMediumEditorElement(i.parentElement)&&!i.previousElementSibling&&i.nextElementSibling&&o.test(i.innerHTML)&&(t.preventDefault(),e.selection.moveCursor(this.options.ownerDocument,i.nextSibling),i.parentElement.removeChild(i))}function i(t,n,i){var r=[];if(t||(t=[]),"string"==typeof t&&(t=n.querySelectorAll(t)),e.util.isElement(t)&&(t=[t]),i)for(var o=0;o<t.length;o++){var a=t[o];!e.util.isElement(a)||a.getAttribute("data-medium-editor-element")||a.getAttribute("medium-editor-textarea-id")||r.push(a)}else r=Array.prototype.slice.apply(t);return r}function r(e){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');t&&(t.classList.remove("medium-editor-hidden"),t.removeAttribute("medium-editor-textarea-id")),e.parentNode&&e.parentNode.removeChild(e)}function o(e,t,n){return"function"==typeof(e=function(e,t){return Object.keys(t).forEach(function(n){void 0===e[n]&&(e[n]=t[n])}),e}(e,{window:n.options.contentWindow,document:n.options.ownerDocument,base:n})).init&&e.init(),e.name||(e.name=t),e}function a(){return!this.elements.every(function(e){return!!e.getAttribute("data-disable-toolbar")})&&!1!==this.options.toolbar}function s(n,i){if(!n.getAttribute("data-medium-editor-element")){"textarea"===n.nodeName.toLowerCase()&&(n=function(e){for(var t=this.options.ownerDocument.createElement("div"),n=Date.now(),i="medium-editor-"+n,r=e.attributes;this.options.ownerDocument.getElementById(i);)i="medium-editor-"+ ++n;t.className=e.className,t.id=i,t.innerHTML=e.value,e.setAttribute("medium-editor-textarea-id",i);for(var o=0,a=r.length;o<a;o++)t.hasAttribute(r[o].nodeName)||t.setAttribute(r[o].nodeName,r[o].value);return e.form&&this.on(e.form,"reset",function(e){e.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(i))}.bind(this)),e.classList.add("medium-editor-hidden"),e.parentNode.insertBefore(t,e),t}.call(this,n),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=function(e,t){var n=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=t.innerHTML.trim())}.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||n.getAttribute("data-disable-editing")||(n.setAttribute("contentEditable",!0),n.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(n.getAttribute("data-disable-return")||n.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=t.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||n.getAttribute("data-disable-return")||this.on(n,"keyup",function(t){var n=e.selection.getSelectionStart(this.options.ownerDocument);n&&(e.util.isMediumEditorElement(n)&&0===n.children.length&&!e.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!e.util.isKey(t,e.util.keyCode.ENTER)||e.util.isListItem(n)||e.util.isBlockContainer(n)||("a"===n.nodeName.toLowerCase()?this.options.ownerDocument.execCommand("unlink",!1,null):t.shiftKey||t.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}.bind(this));var r=e.util.guid();n.setAttribute("data-medium-editor-element",!0),n.classList.add("medium-editor-element"),n.setAttribute("role","textbox"),n.setAttribute("aria-multiline",!0),n.setAttribute("data-medium-editor-editor-index",i),n.setAttribute("medium-editor-index",r),d[r]=n.innerHTML,this.events.attachAllEventsToElement(n)}return n}function l(){this.subscribe("editableKeydownTab",function(t){var n=e.selection.getSelectionStart(this.options.ownerDocument);"pre"===(n&&n.nodeName.toLowerCase())&&(t.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(n)&&(t.preventDefault(),t.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}.bind(this)),this.subscribe("editableKeydownDelete",n.bind(this)),this.subscribe("editableKeydownEnter",n.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",function(t){var n=e.selection.getSelectionStart(this.options.ownerDocument),i=n.textContent,r=e.selection.getCaretOffsets(n);(void 0===i[r.left-1]||""===i[r.left-1].trim()||void 0!==i[r.left]&&""===i[r.left].trim())&&t.preventDefault()}.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=t.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function c(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(e){"toolbar"!==e&&this.options.extensions[e]&&this.extensions.push(o(this.options.extensions[e],e,this))},this),function(){return!this.options.extensions.imageDragging}.call(this)){var t=this.options.fileDragging;t||(t={},function(){return!1!==this.options.imageDragging}.call(this)||(t.allowedTypes=[])),this.addBuiltInExtension("fileDragging",t)}var n={paste:!0,"anchor-preview":function(){return!!a.call(this)&&!1!==this.options.anchorPreview}.call(this),autoLink:function(){return!1!==this.options.autoLink}.call(this),keyboardCommands:function(){return!1!==this.options.keyboardCommands}.call(this),placeholder:function(){return!1!==this.options.placeholder}.call(this)};Object.keys(n).forEach(function(e){n[e]&&this.addBuiltInExtension(e)},this);var i=this.options.extensions.toolbar;if(!i&&a.call(this)){var r=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});i=new e.extensions.toolbar(r)}i&&this.extensions.push(o(i,"toolbar",this))}function u(t,n){var i,r;if(i=/^append-(.+)$/gi.exec(t))return e.util.execFormatBlock(this.options.ownerDocument,i[1]);if("fontSize"===t)return n.size&&e.util.deprecated(".size option for fontSize command",".value","6.0.0"),r=n.value||n.size,this.options.ownerDocument.execCommand("fontSize",!1,r);if("fontName"===t)return n.name&&e.util.deprecated(".name option for fontName command",".value","6.0.0"),r=n.value||n.name,this.options.ownerDocument.execCommand("fontName",!1,r);if("createLink"===t)return this.createLink(n);if("image"===t){var o=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,o)}if("html"===t){var a=this.options.contentWindow.getSelection().toString().trim();return e.util.insertHTMLCommand(this.options.ownerDocument,a)}if(/justify([A-Za-z]*)$/g.exec(t)){var s=this.options.ownerDocument.execCommand(t,!1,null),l=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return l&&function(t){if(t){var n,i=Array.prototype.slice.call(t.childNodes).filter(function(e){var t="div"===e.nodeName.toLowerCase();return t&&!n&&(n=e.style.textAlign),t});i.length&&(this.saveSelection(),i.forEach(function(t){if(t.style.textAlign===n){var i=t.lastChild;if(i){e.util.unwrap(t,this.options.ownerDocument);var r=this.options.ownerDocument.createElement("BR");i.parentNode.insertBefore(r,i.nextSibling)}}},this),t.style.textAlign=n,this.restoreSelection())}}.call(this,e.util.getTopBlockContainer(l)),s}return r=n&&n.value,this.options.ownerDocument.execCommand(t,!1,r)}var d={};e.prototype={init:function(t,n){return this.options=function(t,n){return n&&[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]].forEach(function(t){n.hasOwnProperty(t[0])&&void 0!==n[t[0]]&&e.util.deprecated(t[0],t[1],"v6.0.0")}),e.util.defaults({},n,t)}.call(this,this.defaults,n),this.origElements=t,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(function(e){e._mediumEditors||(e._mediumEditors=[null]),this.id||(this.id=e._mediumEditors.length),e._mediumEditors[this.id]=this}.call(this,this.options.contentWindow),this.events=new e.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,c.call(this),l.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(e){"function"==typeof e.destroy&&e.destroy()},this),this.events.destroy(),this.elements.forEach(function(e){this.options.spellcheck&&(e.innerHTML=e.innerHTML),e.removeAttribute("contentEditable"),e.removeAttribute("spellcheck"),e.removeAttribute("data-medium-editor-element"),e.classList.remove("medium-editor-element"),e.removeAttribute("role"),e.removeAttribute("aria-multiline"),e.removeAttribute("medium-editor-index"),e.removeAttribute("data-medium-editor-editor-index"),e.getAttribute("medium-editor-textarea-id")&&r(e)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,function(e){e._mediumEditors&&e._mediumEditors[this.id]&&(e._mediumEditors[this.id]=null)}.call(this,this.options.contentWindow))},on:function(e,t,n,i){return this.events.attachDOMEvent(e,t,n,i),this},off:function(e,t,n,i){return this.events.detachDOMEvent(e,t,n,i),this},subscribe:function(e,t){return this.events.attachCustomEvent(e,t),this},unsubscribe:function(e,t){return this.events.detachCustomEvent(e,t),this},trigger:function(e,t,n){return this.events.triggerCustomEvent(e,t,n),this},delay:function(e){var t=this;return setTimeout(function(){t.isActive&&e()},this.options.delay)},serialize:function(){var e,t={},n=this.elements.length;for(e=0;e<n;e+=1)t[""!==this.elements[e].id?this.elements[e].id:"element-"+e]={value:this.elements[e].innerHTML.trim()};return t},getExtensionByName:function(e){var t;return this.extensions&&this.extensions.length&&this.extensions.some(function(n){return n.name===e&&(t=n,!0)}),t},addBuiltInExtension:function(t,n){var i,r=this.getExtensionByName(t);if(r)return r;switch(t){case"anchor":i=e.util.extend({},this.options.anchor,n),r=new e.extensions.anchor(i);break;case"anchor-preview":r=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":r=new e.extensions.autoLink;break;case"fileDragging":r=new e.extensions.fileDragging(n);break;case"fontname":r=new e.extensions.fontName(this.options.fontName);break;case"fontsize":r=new e.extensions.fontSize(n);break;case"keyboardCommands":r=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":r=new e.extensions.paste(this.options.paste);break;case"placeholder":r=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(t)&&(n?(i=e.util.defaults({},n,e.extensions.button.prototype.defaults[t]),r=new e.extensions.button(i)):r=new e.extensions.button(t))}return r&&this.extensions.push(o(r,t,this)),r},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName("toolbar");return e&&e.checkState(),this},queryCommandState:function(e){var t,n=null;(t=/^full-(.+)$/gi.exec(e))&&(e=t[1]);try{n=this.options.ownerDocument.queryCommandState(e)}catch(e){n=null}return n},execAction:function(t,n){var i,r;return(i=/^full-(.+)$/gi.exec(t))?(this.saveSelection(),this.selectAllContents(),r=u.call(this,i[1],n),this.restoreSelection()):r=u.call(this,t,n),"insertunorderedlist"!==t&&"insertorderedlist"!==t||e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),r},getSelectedParentElement:function(t){return void 0===t&&(t=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(t)},selectAllContents:function(){var t=e.selection.getSelectionElement(this.options.contentWindow);if(t){for(;1===t.children.length;)t=t.children[0];this.selectElement(t)}},selectElement:function(t){e.selection.selectNode(t,this.options.ownerDocument);var n=e.selection.getSelectionElement(this.options.contentWindow);n&&this.events.focusElement(n)},getFocusedElement:function(){var e;return this.elements.some(function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e},this),e},exportSelection:function(){var t=e.selection.getSelectionElement(this.options.contentWindow),n=this.elements.indexOf(t),i=null;return n>=0&&(i=e.selection.exportSelection(t,this.options.ownerDocument)),null!==i&&0!==n&&(i.editableElementIndex=n),i},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(t,n){if(t){var i=this.elements[t.editableElementIndex||0];e.selection.importSelection(t,i,this.options.ownerDocument,n)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(t){var n,i=e.selection.getSelectionElement(this.options.contentWindow),r={};if(-1!==this.elements.indexOf(i)){try{if(this.events.disableCustomEvent("editableInput"),t.url&&e.util.deprecated(".url option for createLink",".value","6.0.0"),(n=t.url||t.value)&&n.trim().length>0){var o=this.options.contentWindow.getSelection();if(o){var a,s,l,c,u=o.getRangeAt(0),d=u.commonAncestorContainer;if(3===u.endContainer.nodeType&&3!==u.startContainer.nodeType&&0===u.startOffset&&u.startContainer.firstChild===u.endContainer&&(d=u.endContainer),s=e.util.getClosestBlockContainer(u.startContainer),l=e.util.getClosestBlockContainer(u.endContainer),3!==d.nodeType&&0!==d.textContent.length&&s===l){var p=s||i,h=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),a=this.exportSelection(),h.appendChild(p.cloneNode(!0)),i===p?e.selection.select(this.options.ownerDocument,p.firstChild,0,p.lastChild,3===p.lastChild.nodeType?p.lastChild.nodeValue.length:p.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,p,0,p,p.childNodes.length);var m=this.exportSelection();0===(c=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,h,{start:a.start-m.start,end:a.end-m.start,editableElementIndex:a.editableElementIndex})).length&&((h=this.options.ownerDocument.createDocumentFragment()).appendChild(d.cloneNode(!0)),c=[h.firstChild.firstChild,h.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,c,n.trim());var f=(h.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,h.firstChild.innerHTML.replace(/^\s+/,"")),a.start-=f,a.end-=f,this.importSelection(a)}else this.options.ownerDocument.execCommand("createLink",!1,n);this.options.targetBlank||"_blank"===t.target?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),n):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),n),t.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),t.buttonClass)}}if(this.options.targetBlank||"_blank"===t.target||t.buttonClass){(r=this.options.ownerDocument.createEvent("HTMLEvents")).initEvent("input",!0,!0,this.options.contentWindow);for(var g=0,v=this.elements.length;g<v;g+=1)this.elements[g].dispatchEvent(r)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",r,i)}},cleanPaste:function(e){this.getExtensionByName("paste").cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName("paste").pasteHTML(e,t)},setContent:function(e,t){if(t=t||0,this.elements[t]){var n=this.elements[t];n.innerHTML=e,this.checkContentChanged(n)}},getContent:function(e){return e=e||0,this.elements[e]?this.elements[e].innerHTML.trim():null},checkContentChanged:function(t){t=t||e.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(t,{target:t,currentTarget:t})},resetContent:function(e){if(e){var t=this.elements.indexOf(e);-1!==t&&this.setContent(d[e.getAttribute("medium-editor-index")],t)}else this.elements.forEach(function(e,t){this.setContent(d[e.getAttribute("medium-editor-index")],t)},this)},addElements:function(e){var t=i(e,this.options.ownerDocument,!0);if(0===t.length)return!1;t.forEach(function(e){e=s.call(this,e,this.id),this.elements.push(e),this.trigger("addElement",{target:e,currentTarget:e},e)},this)},removeElements:function(e){var t=i(e,this.options.ownerDocument).map(function(e){return e.getAttribute("medium-editor-textarea-id")&&e.parentNode?e.parentNode.querySelector('div[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]'):e});this.elements=this.elements.filter(function(e){return-1===t.indexOf(e)||(this.events.cleanupElement(e),e.getAttribute("medium-editor-textarea-id")&&r(e),this.trigger("removeElement",{target:e,currentTarget:e},e),!1)},this)}},e.getEditorFromElement=function(e){var t=e.getAttribute("data-medium-editor-editor-index"),n=e&&e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[t]?n._mediumEditors[t]:null}}(),e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0},e.parseVersionString=function(e){var t=e.split("-"),n=t[0].split("."),i=t.length>1?t[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:i,toString:function(){return[n[0],n[1],n[2]].join(".")+(i?"-"+i:"")}}},e.version=e.parseVersionString.call(this,"5.23.3"),e}())}).call(t,n(25))},function(e,t,n){e.exports={default:n(475),__esModule:!0}},function(e,t,n){var i=n(192),r=n(553),o=n(554),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},function(e,t,n){var i=n(193),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,,,,function(e,t){},function(e,t,n){"use strict";var i=n(212)(!0);n(113)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var i=n(49),r=n(15),o=n(115),a=n(26),s=n(27),l=n(38),c=n(213),u=n(53),d=n(120),p=n(12)("iterator"),h=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,n,f,g,v,b){c(n,t,f);var y,w,C,E=function(e){if(!h&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",S="values"==g,_=!1,T=e.prototype,A=T[p]||T["@@iterator"]||g&&T[g],k=!h&&A||E(g),$=g?S?E("entries"):k:void 0,M="Array"==t&&T.entries||A;if(M&&(C=d(M.call(new e)))!==Object.prototype&&C.next&&(u(C,x,!0),i||s(C,p)||a(C,p,m)),S&&A&&"values"!==A.name&&(_=!0,k=function(){return A.call(this)}),i&&!b||!h&&!_&&T[p]||a(T,p,k),l[t]=k,l[x]=m,g)if(y={values:S?k:E("values"),keys:v?k:E("keys"),entries:$},b)for(w in y)w in T||o(T,w,y[w]);else r(r.P+r.F*(h||_),t,y);return y}},function(e,t,n){e.exports=!n(22)&&!n(32)(function(){return 7!=Object.defineProperty(n(70)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(26)},function(e,t,n){var i=n(27),r=n(33),o=n(215)(!1),a=n(73)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var i=n(40);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(68),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(11).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(27),r=n(54),o=n(73)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){n(217);for(var i=n(11),r=n(26),o=n(38),a=n(12)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=i[c],d=u&&u.prototype;d&&!d[a]&&r(d,a,c),o[c]=o.Array}},function(e,t,n){var i=n(40),r=n(12)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var i=n(19),r=n(50),o=n(12)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[o])?t:r(n)}},function(e,t,n){var i,r,o,a=n(37),s=n(226),l=n(119),c=n(70),u=n(11),d=u.process,p=u.setImmediate,h=u.clearImmediate,m=u.MessageChannel,f=u.Dispatch,g=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};p&&h||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},h=function(e){delete v[e]},"process"==n(40)(d)?i=function(e){d.nextTick(a(b,e,1))}:f&&f.now?i=function(e){f.now(a(b,e,1))}:m?(o=(r=new m).port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:p,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(19),r=n(21),o=n(76);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i=n(116),r=n(75).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(55),r=n(51),o=n(33),a=n(71),s=n(27),l=n(114),c=Object.getOwnPropertyDescriptor;t.f=n(22)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(244),__esModule:!0}},function(e,t,n){var i=n(15),r=n(9),o=n(32);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){n(248),e.exports="ngAnimate"},function(e,t,n){n(251),e.exports="ngAria"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(34),a=n(42),s=function(){function e(e){this.transition=e}return e.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(i.unnestR,[]).filter(i.identity)},e.prototype.buildHooks=function(e){var t=this.transition,n=t.treeChanges(),r=this.getMatchingHooks(e,n);if(!r)return[];var s={transition:t,current:t.options().current};return r.map(function(r){return r.matches(n)[e.criteriaMatchPath.name].map(function(n){var l=i.extend({bind:r.bind,traceData:{hookType:e.name,context:n}},s),c=e.criteriaMatchPath.scope===o.TransitionHookScope.STATE?n.state.self:null,u=new a.TransitionHook(t,c,r,l);return{hook:r,node:n,transitionHook:u}})}).reduce(i.unnestR,[]).sort(function(e){return void 0===e&&(e=!1),function(t,n){var i=e?-1:1,r=(t.node.state.path.length-n.node.state.path.length)*i;return 0!==r?r:n.hook.priority-t.hook.priority}}(e.reverseSort)).map(function(e){return e.transitionHook})},e.prototype.getMatchingHooks=function(e,t){var n=e.hookPhase===o.TransitionHookPhase.CREATE,a=this.transition.router.transitionService;return(n?[a]:[this.transition,a]).map(function(t){return t.getHooks(e.name)}).filter(i.assertPredicate(r.isArray,"broken event named: "+e.name)).reduce(i.unnestR,[]).filter(function(e){return e.matches(t)})},e}();t.HookBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3),o=n(6),a=n(7),s=n(10),l=n(86),c=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=r.pick(e.prototype,["hash","string","query","path","int","bool","date","json","any"]),this.types=r.inherit(r.map(this.defaultTypes,function(e,t){return new l.ParamType(r.extend({name:t},e))}),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,n){if(!o.isDefined(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new l.ParamType(r.extend({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");r.extend(this.types[e.name],s.services.$injector.invoke(e.def))}},e}();t.ParamTypes=c,i=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:a.is(String),pattern:/.*/,equals:function(e,t){return e==t}};return r.extend({},n,e)},r.extend(c.prototype,{string:i({}),path:i({pattern:/[^\/]*/}),query:i({}),hash:i({inherit:!1}),int:i({decode:function(e){return parseInt(e,10)},is:function(e){return!o.isNullOrUndefined(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:i({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:a.is(Boolean),pattern:/0|1/}),date:i({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce(function(n,i){return n&&e[i]()===t[i]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:i({encode:r.toJson,decode:r.fromJson,is:a.is(Object),equals:r.equals,pattern:/[^\/]*/}),any:i({encode:r.identity,decode:r.identity,is:function(){return!0},equals:r.equals})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(){function e(e){void 0===e&&(e={}),i.extend(this,e)}return e.prototype.$inherit=function(e,t,n){var r,o=i.ancestors(t,n),a={},s=[];for(var l in o)if(o[l]&&o[l].params&&(r=Object.keys(o[l].params)).length)for(var c in r)s.indexOf(r[c])>=0||(s.push(r[c]),a[r[c]]=this[r[c]]);return i.extend({},a,e)},e}();t.StateParams=r},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(134)),i(n(43)),i(n(58))},function(e,t,n){"use strict";function i(e){return e.name}function r(e){return e.self.$$state=function(){return e},e.self}function o(e){return e.parent&&e.parent.data&&(e.data=e.self.data=c.inherit(e.parent.data,e.data)),e.data}function a(e){return e.parent?e.parent.path.concat(e):[e]}function s(e){var t=e.parent?c.extend({},e.parent.includes):{};return t[e.name]=!0,t}function l(e){var t,n,i=function(e){return e.provide||e.token},r=p.pattern([[p.prop("resolveFn"),function(e){return new h.Resolvable(i(e),e.resolveFn,e.deps,e.policy)}],[p.prop("useFactory"),function(e){return new h.Resolvable(i(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[p.prop("useClass"),function(e){return new h.Resolvable(i(e),function(){return new e.useClass},[],e.policy)}],[p.prop("useValue"),function(e){return new h.Resolvable(i(e),function(){return e.useValue},[],e.policy,e.useValue)}],[p.prop("useExisting"),function(e){return new h.Resolvable(i(e),c.identity,[e.useExisting],e.policy)}]]),o=p.pattern([[p.pipe(p.prop("val"),u.isString),function(e){return new h.Resolvable(e.token,c.identity,[e.val],e.policy)}],[p.pipe(p.prop("val"),u.isArray),function(e){return new h.Resolvable(e.token,c.tail(e.val),e.val.slice(0,-1),e.policy)}],[p.pipe(p.prop("val"),u.isFunction),function(e){return new h.Resolvable(e.token,e.val,(t=e.val,n=m.services.$injector,t.$inject||n&&n.annotate(t,n.strictDi)||"deferred"),e.policy);var t,n}]]),a=p.pattern([[p.is(h.Resolvable),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},r],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},r],[function(e){return!!(e&&e.val&&(u.isString(e.val)||u.isArray(e.val)||u.isFunction(e.val)))},o],[p.val(!0),function(e){throw new Error("Invalid resolve value: "+d.stringify(e))}]]),s=e.resolve;return(u.isArray(s)?s:(t=s,n=e.resolvePolicy||{},Object.keys(t||{}).map(function(e){return{token:e,val:t[e],deps:void 0,policy:n[e]}}))).map(a)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(3),u=n(6),d=n(16),p=n(7),h=n(43),m=n(10),f=function(e,t){return function(n){var i=n;i&&i.url&&i.name&&i.name.match(/\.\*\*$/)&&(i.url+="{remainder:any}");var r=function(e){if(!u.isString(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}}(i.url),o=n.parent,a=r?e.compile(r.val,{params:n.params||{},paramMap:function(e,t){return!1===i.reloadOnSearch&&t&&(e=c.extend(e||{},{dynamic:!0})),e}}):i.url;if(!a)return null;if(!e.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return r&&r.root?a:(o&&o.navigable||t()).url.append(a)}},g=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},v=function(e){return function(t){var n=t.url&&t.url.parameters({inherit:!1})||[],i=c.values(c.mapObj(c.omit(t.params||{},n.map(p.prop("id"))),function(t,n){return e.fromConfig(n,null,t)}));return n.concat(i).map(function(e){return[e.id,e]}).reduce(c.applyPairs,{})}};t.resolvablesBuilder=l;var b=function(){function e(e,t){this.matcher=e;var n=this,c=function(){return e.find("")},u=function(e){return""===e.name};this.builders={name:[i],self:[r],parent:[function(t){return u(t)?null:e.find(n.parentName(t))||c()}],data:[o],url:[f(t,c)],navigable:[g(u)],params:[v(t.paramFactory)],views:[],path:[a],includes:[s],resolvables:[l]}}return e.prototype.builder=function(e,t){var n=this.builders,i=n[e]||[];return u.isString(e)&&!u.isDefined(t)?i.length>1?i:i[0]:u.isString(e)&&u.isFunction(t)?(n[e]=i,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this.matcher,n=this.builders,i=this.parentName(e);if(i&&!t.find(i,void 0,!1))return null;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r].reduce(function(e,t){return function(n){return t(n,e)}},c.noop);e[r]=o(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?u.isString(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=u.isString(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},e}();t.StateBuilder=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=n(3),o=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var o=i.isString(e),a=o?e:e.name;this.isRelative(a)&&(a=this.resolvePath(a,t));var s=this._states[a];if(s&&(o||!(o||s!==e&&s.self!==e)))return s;if(o&&n){var l=r.values(this._states).filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(a)});return l.length>1&&console.log("stateMatcher.find: Found multiple matches for "+a+" using glob: ",l.map(function(e){return e.name})),l[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),i=e.split("."),r=i.length,o=0,a=n;o<r;o++)if(""!==i[o]||0!==o){if("^"!==i[o])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=i.slice(o).join(".");return a.name+(a.name&&s?".":"")+s},e}();t.StateMatcher=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(81),a=n(7),s=function(){function e(e,t,n,i,r){this.$registry=e,this.$urlRouter=t,this.states=n,this.builder=i,this.listeners=r,this.queue=[],this.matcher=e.matcher}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,n=o.StateObject.create(e),s=n.name;if(!r.isString(s))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(s)||i.inArray(t.map(a.prop("name")),s))throw new Error("State '"+s+"' is already defined");return t.push(n),this.flush(),n},e.prototype.flush=function(){for(var e=this,t=this.queue,n=this.states,i=this.builder,r=[],o=[],a={},s=function(t){return e.states.hasOwnProperty(t)&&e.states[t]};t.length>0;){var l=t.shift(),c=l.name,u=i.build(l),d=o.indexOf(l);if(u){var p=s(c);if(p&&p.name===c)throw new Error("State '"+c+"' is already defined");var h=s(c+".**");h&&this.$registry.deregister(h),n[c]=l,this.attachRoute(l),d>=0&&o.splice(d,1),r.push(l)}else{var m=a[c];if(a[c]=t.length,d>=0&&m===t.length)return t.push(l),n;d<0&&o.push(l),t.push(l)}}return r.length&&this.listeners.forEach(function(e){return e("registered",r.map(function(e){return e.self}))}),n},e.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},e}();t.StateQueueManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(139),r=n(138),o=n(140),a=n(3),s=n(7),l=function(){function e(e){this._router=e,this.states={},this.listeners=[],this.matcher=new i.StateMatcher(this.states),this.builder=new r.StateBuilder(this.matcher,e.urlMatcherFactory),this.stateQueue=new o.StateQueueManager(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},e.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(t){return e.get(t)&&e.deregister(t)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){a.removeFrom(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var t=this,n=this.get().map(function(e){return e.$$state()}),i=function(e){var t=n.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(i(t))},r=i([e]),o=[e].concat(r).reverse();return o.forEach(function(e){var n=t._router.urlRouter;n.rules().filter(s.propEq("state",e)).forEach(n.removeRule.bind(n)),delete t.states[e.name]}),o},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},e.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var i=this.matcher.find(e,t);return i&&i.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}();t.StateRegistry=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(83),a=n(10),s=n(57),l=n(85),c=n(87),u=n(41),d=n(35),p=n(36),h=n(82),m=n(58),f=n(150),g=n(7),v=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof u.Rejection?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var n=Object.keys(e.prototype).filter(g.not(i.inArray(["current","$current","params","transition"])));i.createProxyFunctions(g.val(e.prototype),this,g.val(this),n)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(i.noop),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(e,t){var n=this,i=s.PathUtils.makeTargetState(this.router.stateRegistry,e),r=this.router.globals,l=function(){return r.transitionHistory.peekTail()},c=l(),p=new o.Queue(this.invalidCallbacks.slice()),h=new m.ResolveContext(e).injector(),f=function(e){if(e instanceof d.TargetState){var t=e;return(t=n.target(t.identifier(),t.params(),t.options())).valid()?l()!==c?u.Rejection.superseded().toPromise():n.transitionTo(t.identifier(),t.params(),t.options()):u.Rejection.invalid(t.error()).toPromise()}};return function e(){var n=p.dequeue();return void 0===n?u.Rejection.invalid(t.error()).toPromise():a.services.$q.when(n(t,i,h)).then(f).then(function(t){return t||e()})}()},e.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){i.removeFrom(this.invalidCallbacks)(e)}.bind(this)},e.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!r.isDefined(e)||e,inherit:!1,notify:!1})},e.prototype.go=function(e,t,n){var r={relative:this.$current,inherit:!0},o=i.defaults(n,r,c.defaultTransOpts);return this.transitionTo(e,t,o)},e.prototype.target=function(e,t,n){if(void 0===n&&(n={}),r.isObject(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var i=this.router.stateRegistry;if(n.reloadState=!0===n.reload?i.root():i.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(r.isString(n.reload)?n.reload:n.reload.name)+"'");return new d.TargetState(this.router.stateRegistry,e,t,n)},e.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new l.PathNode(e.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n={});var o=this.router,s=o.globals;n=i.defaults(n,c.defaultTransOpts),n=i.extend(n,{current:function(){return s.transition}});var l=this.target(e,t,n),p=this.getCurrentPath();if(!l.exists())return this._handleInvalidTargetState(p,l);if(!l.valid())return i.silentRejection(l.error());var h=function(e){return function(t){if(t instanceof u.Rejection){var n=o.globals.lastStartedTransitionId===e.$id;if(t.type===u.RejectType.IGNORED)return n&&o.urlRouter.update(),a.services.$q.when(s.current);var i=t.detail;if(t.type===u.RejectType.SUPERSEDED&&t.redirected&&i instanceof d.TargetState){var l=e.redirect(i);return l.run().catch(h(l))}if(t.type===u.RejectType.ABORTED)return n&&o.urlRouter.update(),a.services.$q.reject(t)}return r.defaultErrorHandler()(t),a.services.$q.reject(t)}},m=this.router.transitionService.create(p,l),f=m.run().catch(h(m));return i.silenceUncaughtInPromise(f),i.extend(f,{transition:m})},e.prototype.is=function(e,t,n){n=i.defaults(n,{relative:this.$current});var o=this.router.stateRegistry.matcher.find(e,n.relative);if(r.isDefined(o)){if(this.$current!==o)return!1;if(!t)return!0;var a=o.parameters({inherit:!0,matchingKeys:t});return p.Param.equals(a,p.Param.values(a,t),this.params)}},e.prototype.includes=function(e,t,n){n=i.defaults(n,{relative:this.$current});var o=r.isString(e)&&h.Glob.fromString(e);if(o){if(!o.matches(this.$current.name))return!1;e=this.$current.name}var a=this.router.stateRegistry.matcher.find(e,n.relative),s=this.$current.includes;if(r.isDefined(a)){if(!r.isDefined(s[a.name]))return!1;if(!t)return!0;var l=a.parameters({inherit:!0,matchingKeys:t});return p.Param.equals(l,p.Param.values(l,t),this.params)}},e.prototype.href=function(e,t,n){var o={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=i.defaults(n,o),t=t||{};var a=this.router.stateRegistry.matcher.find(e,n.relative);if(!r.isDefined(a))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,a));var s=a&&n.lossy?a.navigable:a;return s&&void 0!==s.url&&null!==s.url?this.router.urlRouter.href(s.url,t,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},e.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},e.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var i=this.getCurrentPath(),r=s.PathUtils.makeTargetState(this.router.stateRegistry,i);return t=t||this.router.transitionService.create(i,r),f.lazyLoadState(t,n)},e}();t.StateService=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(144),r=n(145),o=n(87),a=n(147),s=n(141),l=n(142),c=n(148),u=n(3),d=n(6),p=n(149),h=n(23),m=0,f=function(){function e(e,t){void 0===e&&(e=p.UrlService.locationServiceStub),void 0===t&&(t=p.UrlService.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=m++,this._disposed=!1,this._disposables=[],this.trace=h.trace,this.viewService=new a.ViewService,this.globals=new c.UIRouterGlobals,this.transitionService=new o.TransitionService(this),this.urlMatcherFactory=new i.UrlMatcherFactory,this.urlRouter=new r.UrlRouter(this),this.stateRegistry=new s.StateRegistry(this),this.stateService=new l.StateService(this),this.urlService=new p.UrlService(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;e&&d.isFunction(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),u.removeFrom(t._disposables,e)}catch(e){}}))},e.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},e.prototype.getPlugin=function(e){return e?this._plugins[e]:u.values(this._plugins)},e}();t.UIRouter=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(59),a=n(36),s=n(135),l=function(){function e(){var e=this;this.paramTypes=new s.ParamTypes,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.paramFactory={fromConfig:function(t,n,i){return new a.Param(t,n,i,a.DefType.CONFIG,e)},fromPath:function(t,n,i){return new a.Param(t,n,i,a.DefType.PATH,e)},fromSearch:function(t,n,i){return new a.Param(t,n,i,a.DefType.SEARCH,e)}},this._getConfig=function(t){return i.extend({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},i.extend(this,{UrlMatcher:o.UrlMatcher,Param:a.Param})}return e.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=r.isDefined(e)?e:this._isCaseInsensitive},e.prototype.strictMode=function(e){return this._isStrictMode=r.isDefined(e)?e:this._isStrictMode},e.prototype.defaultSquashPolicy=function(e){if(r.isDefined(e)&&!0!==e&&!1!==e&&!r.isString(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=r.isDefined(e)?e:this._defaultSquashPolicy},e.prototype.compile=function(e,t){return new o.UrlMatcher(e,this.paramTypes,this.paramFactory,this._getConfig(t))},e.prototype.isMatcher=function(e){if(!r.isObject(e))return!1;var t=!0;return i.forEach(o.UrlMatcher.prototype,function(n,i){r.isFunction(n)&&(t=t&&r.isDefined(e[i])&&r.isFunction(e[i]))}),t},e.prototype.type=function(e,t,n){var i=this.paramTypes.type(e,t,n);return r.isDefined(t)?this:i},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}();t.UrlMatcherFactory=l},function(e,t,n){"use strict";function i(e){if(!(a.isFunction(e)||a.isString(e)||l.is(u.TargetState)(e)||u.TargetState.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return a.isFunction(e)?e:l.val(e)}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(3),a=n(6),s=n(59),l=n(7),c=n(146),u=n(35),d=n(14);r=function(e,t){var n=function(e,t){return(t.priority||0)-(e.priority||0)}(e,t);return 0!==n?n:0!==(n=function(e,t){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[e.type]||0)-(n[t.type]||0)}(e,t))?n:0!==(n=function(e,t){return e.urlMatcher&&t.urlMatcher?s.UrlMatcher.compare(e.urlMatcher,t.urlMatcher):0}(e,t))?n:function(e,t){var n={STATE:!0,URLMATCHER:!0};return n[e.type]&&n[t.type]?0:(e.$id||0)-(t.$id||0)}(e,t)};var p=function(){function e(t){this._sortFn=r,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=t,this.urlRuleFactory=new c.UrlRuleFactory(t),o.createProxyFunctions(l.val(e.prototype),this,l.val(this))}return e.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},e.prototype.sort=function(e){this._rules=this.stableSort(this._rules,this._sortFn=e||this._sortFn),this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.stableSort=function(e,t){var n=e.map(function(e,t){return{elem:e,idx:t}});return n.sort(function(e,n){var i=t(e.elem,n.elem);return 0===i?e.idx-n.idx:i}),n.map(function(e){return e.elem})},e.prototype.match=function(e){var t=this;this.ensureSorted(),e=o.extend({path:"",search:{},hash:""},e);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var i,r,a,s=0;s<n.length&&(!i||0===this._sortFn(n[s],i.rule));s++){var l=(r=n[s],(a=r.match(e,t._router))&&{match:a,rule:r,weight:r.matchPriority(a)});i=!i||l&&l.weight>i.weight?l:i}return i},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,n=t.urlService,i=t.stateService,r={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(r);l.pattern([[a.isString,function(e){return n.url(e,!0)}],[u.TargetState.isDef,function(e){return i.go(e.state,e.params,e.options)}],[l.is(u.TargetState),function(e){return i.go(e.state(),e.params(),e.options())}]])(o&&o.rule.handler(o.match,r,t))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},e.prototype.update=function(e){var t=this._router.locationService;e?this.location=t.url():t.url()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,n){var i=n&&!!n.replace;this._router.urlService.url(e.format(t||{}),i)},e.prototype.href=function(e,t,n){var i=e.format(t);if(null==i)return null;n=n||{absolute:!1};var r=this._router.urlService.config,o=r.html5Mode();if(o||null===i||(i="#"+r.hashPrefix()+i),i=function(e,t,n,i){return"/"===i?e:t?d.stripLastPathElement(i)+e:n?i.slice(1)+e:e}(i,o,n.absolute,r.baseHref()),!n.absolute||!i)return i;var a=!o&&i?"/":"",s=r.port(),l=80===s||443===s?"":":"+s;return[r.protocol(),"://",r.host(),l,a,i].join("")},e.prototype.rule=function(e){var t=this;if(!c.UrlRuleFactory.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.removeRule=function(e){o.removeFrom(this._rules,e)},e.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},e.prototype.otherwise=function(e){var t=i(e);this._otherwiseFn=this.urlRuleFactory.create(l.val(!0),t),this._sorted=!1},e.prototype.initial=function(e){var t=i(e);this.rule(this.urlRuleFactory.create(function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)},t))},e.prototype.when=function(e,t,n){var i=this.urlRuleFactory.create(e,t);return a.isDefined(n&&n.priority)&&(i.priority=n.priority),this.rule(i),i},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e}();t.UrlRouter=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(59),r=n(6),o=n(3),a=n(7),s=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var n=this,o=a.pattern([[r.isString,function(e){return o(n.compile(e))}],[a.is(i.UrlMatcher),function(e){return n.fromUrlMatcher(e,t)}],[r.isState,function(e){return n.fromState(e,n.router)}],[a.is(RegExp),function(e){return n.fromRegExp(e,t)}],[r.isFunction,function(e){return new l(e,t)}]]),s=o(e);if(!s)throw new Error("invalid 'what' in when()");return s},e.prototype.fromUrlMatcher=function(e,t){var n=t;r.isString(t)&&(t=this.router.urlMatcherFactory.compile(t)),a.is(i.UrlMatcher)(t)&&(n=function(e){return t.format(e)});var s={urlMatcher:e,matchPriority:function(t){var n=e.parameters().filter(function(e){return e.isOptional});return n.length?n.filter(function(e){return t[e.id]}).length/n.length:1e-6},type:"URLMATCHER"};return o.extend(new l(function(t){var n=e.exec(t.path,t.search,t.hash);return e.validates(n)&&n},n),s)},e.prototype.fromState=function(e,t){var n={state:e,type:"STATE"};return o.extend(this.fromUrlMatcher(e.url,function(n){var i=t.stateService,r=t.globals;i.href(e,n)!==i.href(r.current,r.params)&&i.transitionTo(e,n,{inherit:!0,source:"url"})}),n)},e.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=r.isString(t)?function(e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}:t,i={regexp:e,type:"REGEXP"};return o.extend(new l(function(t){return e.exec(t.path)},n),i)},e.isUrlRule=function(e){return e&&["type","match","handler"].every(function(t){return r.isDefined(e[t])})},e}();t.UrlRuleFactory=s;var l=function(){return function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||o.identity}}();t.BaseUrlRule=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(7),o=n(6),a=n(23),s=function(){function e(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs},_onSync:function(t){return e._listeners.push(t),function(){return i.removeFrom(e._listeners,t)}}}}return e.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),i=n[0]||"$default",r=o.isString(n[1])?n[1]:"^",a=/^(\^(?:\.\^)*)\.(.*$)/.exec(i);return a&&(r=a[1],i=a[2]),"!"===i.charAt(0)&&(i=i.substr(1),r=""),/^(\^(?:\.\^)*)$/.exec(r)?r=r.split(".").reduce(function(e,t){return e.parent},e).name:"."===r&&(r=e.name),{uiViewName:i,uiViewContextAnchor:r}},e.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},e.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},e.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var i=n(e,t);return o.isArray(i)?i:[i]},e.prototype.deactivateViewConfig=function(e){a.trace.traceViewServiceEvent("<- Removing",e),i.removeFrom(this._viewConfigs,e)},e.prototype.activateViewConfig=function(e){a.trace.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},e.prototype.sync=function(){function t(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var n=this,o=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(i.applyPairs,{}),s=r.curry(function(e,t,n,i){return t*(e(n)-e(i))}),l=this._uiViews.sort(s(function(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)},1)).map(function(i){var r=n._viewConfigs.filter(e.matches(o,i));return r.length>1&&r.sort(s(t,-1)),{uiView:i,viewConfig:r[0]}}),c=l.map(function(e){return e.viewConfig}),u=this._viewConfigs.filter(function(e){return!i.inArray(c,e)}).map(function(e){return{uiView:void 0,viewConfig:e}});l.forEach(function(e){-1!==n._uiViews.indexOf(e.uiView)&&e.uiView.configUpdated(e.viewConfig)});var d=l.concat(u);this._listeners.forEach(function(e){return e(d)}),a.trace.traceViewSync(d)},e.prototype.registerUIView=function(e){a.trace.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews;return t.filter(function(t){return t.fqn===e.fqn&&t.$type===e.$type}).length&&a.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){-1!==t.indexOf(e)?(a.trace.traceViewServiceUIViewEvent("<- Deregistering",e),i.removeFrom(t)(e)):a.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e)}},e.prototype.available=function(){return this._uiViews.map(r.prop("fqn"))},e.prototype.active=function(){return this._uiViews.filter(r.prop("$config")).map(r.prop("name"))},e.matches=function(e,t){return function(n){if(t.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,o=r.$uiViewName.split("."),a=t.fqn.split(".");if(!i.equals(o,a.slice(0-o.length)))return!1;var s=1-o.length||void 0,l=a.slice(0,s).join("."),c=e[l].creationContext;return r.$uiViewContextAnchor===(c&&c.name)}},e}();t.ViewService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(136),r=n(83),o=function(){function e(){this.params=new i.StateParams,this.lastStartedTransitionId=-1,this.transitionHistory=new r.Queue([],1),this.successfulTransitions=new r.Queue([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}();t.UIRouterGlobals=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(3),o=function(e){return e.reduce(function(e,t){return e[t]=i.notImplemented(t),e},{dispose:r.noop})},a=["url","path","search","hash","onChange"],s=["port","protocol","host","baseHref","html5Mode","hashPrefix"],l=["type","caseInsensitive","strictMode","defaultSquashPolicy"],c=["sort","when","initial","otherwise","rules","rule","removeRule"],u=["deferIntercept","listen","sync","match"],d=function(){function e(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var n=function(){return e.locationService};r.createProxyFunctions(n,this,n,a,t);var i=function(){return e.locationConfig};r.createProxyFunctions(i,this.config,i,s,t);var o=function(){return e.urlMatcherFactory};r.createProxyFunctions(o,this.config,o,l);var d=function(){return e.urlRouter};r.createProxyFunctions(d,this.rules,d,c),r.createProxyFunctions(d,this,d,u)}return e.prototype.url=function(e,t,n){},e.prototype.path=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.onChange=function(e){},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.dispose=function(){},e.prototype.sync=function(e){},e.prototype.listen=function(e){},e.prototype.deferIntercept=function(e){},e.prototype.match=function(e){},e.locationServiceStub=o(a),e.locationConfigStub=o(s),e}();t.UrlService=d},function(e,t,n){"use strict";function i(e,t){var n=t.$$state().lazyLoad,i=n._promise;return i||(i=n._promise=r.services.$q.when(n(e,t)).then(function(t){return t&&Array.isArray(t.states)&&t.states.forEach(function(t){return e.router.stateRegistry.register(t)}),t}).then(function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete n._promise,e},function(e){return delete n._promise,r.services.$q.reject(e)})),i}Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=function(e){var t=e.router,n=e.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(t){return i(e,t)});return r.services.$q.all(n).then(function(){if("url"!==e.originalTransition().options().source){var n=e.targetState();return t.stateService.target(n.identifier(),n.params(),n.options())}var i=t.urlService,r=i.match(i.parts()),o=r&&r.rule;if(o&&"STATE"===o.type){var a=o.state,s=r.match;return t.stateService.target(a,s,e.options())}t.urlService.sync()})};t.registerLazyLoadHook=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},o)},t.lazyLoadState=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),r=function(){return function(e,t,n,r,o,a,s,l){void 0===o&&(o=!1),void 0===a&&(a=i.TransitionHook.HANDLE_RESULT),void 0===s&&(s=i.TransitionHook.REJECT_ERROR),void 0===l&&(l=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=o,this.getResultHandler=a,this.getErrorHandler=s,this.synchronous=l}}();t.TransitionEventType=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14);t.$q={when:function(e){return new Promise(function(t,n){return t(e)})},reject:function(e){return new Promise(function(t,n){n(e)})},defer:function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},all:function(e){if(i.isArray(e))return Promise.all(e);if(i.isObject(e)){var n=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return t.$q.all(n).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),r={},o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,a=/([^\s,]+)/g;t.$injector={get:function(e){return r[e]},has:function(e){return null!=t.$injector.get(e)},invoke:function(e,n,o){var a=i.extend({},r,o||{}),s=t.$injector.annotate(e),l=i.assertPredicate(function(e){return a.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),c=s.filter(l).map(function(e){return a[e]});return i.isFunction(e)?e.apply(n,c):e.slice(-1)[0].apply(n,c)},annotate:function(e){if(!i.isInjectable(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(i.isArray(e))return e.slice(0,-1);var t=e.toString().replace(o,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(a)||[]}}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),a=function(e){function t(t){var n=e.call(this,t,!1)||this;return o.root.addEventListener("hashchange",n._listener,!1),n}return r(t,e),t.prototype._get=function(){return o.trimHashVal(this._location.hash)},t.prototype._set=function(e,t,n,i){this._location.hash=n},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),o.root.removeEventListener("hashchange",this._listener)},t}(n(60).BaseLocationServices);t.HashLocationService=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t,!0)||this}return r(t,e),t.prototype._get=function(){return this._url},t.prototype._set=function(e,t,n,i){this._url=n},t}(n(60).BaseLocationServices);t.MemoryLocationService=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(60),a=n(14),s=function(e){function t(t){var n=e.call(this,t,!0)||this;return n._config=t.urlService.config,a.root.addEventListener("popstate",n._listener,!1),n}return r(t,e),t.prototype._getBasePrefix=function(){return a.stripLastPathElement(this._config.baseHref())},t.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,i=e.search;i=a.splitQuery(i)[1],n=a.splitHash(n)[1];var r=this._getBasePrefix(),o=t===this._config.baseHref(),s=t.substr(0,r.length)===r;return(t=o?"/":s?t.substring(r.length):t)+(i?"?"+i:"")+(n?"#"+n:"")},t.prototype._set=function(e,t,n,i){var r=this._getBasePrefix(),o=n&&"/"!==n[0]?"/":"",a=""===n||"/"===n?this._config.baseHref():r+o+n;i?this._history.replaceState(e,t,a):this._history.pushState(e,t,a)},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),a.root.removeEventListener("popstate",this._listener)},t}(o.BaseLocationServices);t.PushStateLocationService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=n(3),o=function(){return function(){var e=this;this.dispose=r.noop,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return e._port},this.protocol=function(){return e._protocol},this.host=function(){return e._host},this.baseHref=function(){return e._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(t){return i.isDefined(t)?e._hashPrefix=t:e._hashPrefix}}}();t.MemoryLocationConfig=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.hostname},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return i.isDefined(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return i.isDefined(e)?this._baseHref=e:i.isDefined(this._baseHref)?this._baseHref:this.applyDocumentBaseHref()},e.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base")[0];return this._baseHref=e?e.href.substr(location.origin.length):location.pathname||"/"},e.prototype.dispose=function(){},e}();t.BrowserLocationConfig=r},function(e,t,n){n(0),n(131),n(132),n(277),e.exports="ngMaterial"},function(e,t,n){function i(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var r=n(161),o={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},a={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:o,input:o,output:o,button:o,datalist:o,textarea:o,option:{option:!0},optgroup:{optgroup:!0}},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},l=/\s|\//;n(17)(i,n(61).EventEmitter),i.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},i.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},i.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in a)for(var t;(t=this._stack[this._stack.length-1])in a[e];this.onclosetag(t));!this._options.xmlMode&&e in s||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},i.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in s&&this._cbs.onclosetag(this._tagname),this._tagname=""},i.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in s&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},i.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},i.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},i.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},i.prototype.onattribdata=function(e){this._attribvalue+=e},i.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},i.prototype._getInstructionName=function(e){var t=e.search(l),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},i.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},i.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},i.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},i.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},i.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},i.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},i.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},i.prototype.parseComplete=function(e){this.reset(),this.end(e)},i.prototype.write=function(e){this._tokenizer.write(e)},i.prototype.end=function(e){this._tokenizer.end(e)},i.prototype.pause=function(){this._tokenizer.pause()},i.prototype.resume=function(){this._tokenizer.resume()},i.prototype.parseChunk=i.prototype.write,i.prototype.done=i.prototype.end,e.exports=i},function(e,t,n){function i(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function r(e,t,n){var i=e.toLowerCase();return e===i?function(e){e===i?this._state=t:(this._state=n,this._index--)}:function(r){r===i||r===e?this._state=t:(this._state=n,this._index--)}}function o(e,t){var n=e.toLowerCase();return function(i){i===n||i===e?this._state=t:(this._state=g,this._index--)}}function a(e,t){this._state=m,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=m,this._special=ge,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}e.exports=a;var s,l,c=n(162),u=n(89),d=n(163),p=n(90),h=0,m=h++,f=h++,g=h++,v=h++,b=h++,y=h++,w=h++,C=h++,E=h++,x=h++,S=h++,_=h++,T=h++,A=h++,k=h++,$=h++,M=h++,P=h++,R=h++,O=h++,D=h++,N=h++,I=h++,L=h++,F=h++,H=h++,j=h++,B=h++,z=h++,U=h++,q=h++,V=h++,G=h++,W=h++,K=h++,Y=h++,X=h++,Z=h++,J=h++,Q=h++,ee=h++,te=h++,ne=h++,ie=h++,re=h++,oe=h++,ae=h++,se=h++,le=h++,ce=h++,ue=h++,de=h++,pe=h++,he=h++,me=h++,fe=0,ge=fe++,ve=fe++,be=fe++;a.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=f,this._sectionStart=this._index):this._decodeEntities&&this._special===ge&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=m,this._state=ue,this._sectionStart=this._index)},a.prototype._stateBeforeTagName=function(e){"/"===e?this._state=b:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ge||i(e)?this._state=m:"!"===e?(this._state=k,this._sectionStart=this._index+1):"?"===e?(this._state=M,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?g:q,this._sectionStart=this._index)},a.prototype._stateInTagName=function(e){("/"===e||">"===e||i(e))&&(this._emitToken("onopentagname"),this._state=C,this._index--)},a.prototype._stateBeforeCloseingTagName=function(e){i(e)||(">"===e?this._state=m:this._special!==ge?"s"===e||"S"===e?this._state=V:(this._state=m,this._index--):(this._state=y,this._sectionStart=this._index))},a.prototype._stateInCloseingTagName=function(e){(">"===e||i(e))&&(this._emitToken("onclosetag"),this._state=w,this._index--)},a.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=m,this._sectionStart=this._index+1)},a.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=m,this._sectionStart=this._index+1):"/"===e?this._state=v:i(e)||(this._state=E,this._sectionStart=this._index)},a.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=m,this._sectionStart=this._index+1):i(e)||(this._state=C,this._index--)},a.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||i(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=x,this._index--)},a.prototype._stateAfterAttributeName=function(e){"="===e?this._state=S:"/"===e||">"===e?(this._cbs.onattribend(),this._state=C,this._index--):i(e)||(this._cbs.onattribend(),this._state=E,this._sectionStart=this._index)},a.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=_,this._sectionStart=this._index+1):"'"===e?(this._state=T,this._sectionStart=this._index+1):i(e)||(this._state=A,this._sectionStart=this._index,this._index--)},a.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=C):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ue,this._sectionStart=this._index)},a.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=C):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ue,this._sectionStart=this._index)},a.prototype._stateInAttributeValueNoQuotes=function(e){i(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=C,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ue,this._sectionStart=this._index)},a.prototype._stateBeforeDeclaration=function(e){this._state="["===e?N:"-"===e?P:$},a.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=m,this._sectionStart=this._index+1)},a.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=m,this._sectionStart=this._index+1)},a.prototype._stateBeforeComment=function(e){"-"===e?(this._state=R,this._sectionStart=this._index+1):this._state=$},a.prototype._stateInComment=function(e){"-"===e&&(this._state=O)},a.prototype._stateAfterComment1=function(e){this._state="-"===e?D:R},a.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=m,this._sectionStart=this._index+1):"-"!==e&&(this._state=R)},a.prototype._stateBeforeCdata1=r("C",I,$),a.prototype._stateBeforeCdata2=r("D",L,$),a.prototype._stateBeforeCdata3=r("A",F,$),a.prototype._stateBeforeCdata4=r("T",H,$),a.prototype._stateBeforeCdata5=r("A",j,$),a.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=B,this._sectionStart=this._index+1):(this._state=$,this._index--)},a.prototype._stateInCdata=function(e){"]"===e&&(this._state=z)},a.prototype._stateAfterCdata1=(s="]",l=U,function(e){e===s&&(this._state=l)}),a.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=m,this._sectionStart=this._index+1):"]"!==e&&(this._state=B)},a.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=G:"t"===e||"T"===e?this._state=ne:(this._state=g,this._index--)},a.prototype._stateBeforeSpecialEnd=function(e){this._special!==ve||"c"!==e&&"C"!==e?this._special!==be||"t"!==e&&"T"!==e?this._state=m:this._state=ae:this._state=Z},a.prototype._stateBeforeScript1=o("R",W),a.prototype._stateBeforeScript2=o("I",K),a.prototype._stateBeforeScript3=o("P",Y),a.prototype._stateBeforeScript4=o("T",X),a.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||i(e))&&(this._special=ve),this._state=g,this._index--},a.prototype._stateAfterScript1=r("R",J,m),a.prototype._stateAfterScript2=r("I",Q,m),a.prototype._stateAfterScript3=r("P",ee,m),a.prototype._stateAfterScript4=r("T",te,m),a.prototype._stateAfterScript5=function(e){">"===e||i(e)?(this._special=ge,this._state=y,this._sectionStart=this._index-6,this._index--):this._state=m},a.prototype._stateBeforeStyle1=o("Y",ie),a.prototype._stateBeforeStyle2=o("L",re),a.prototype._stateBeforeStyle3=o("E",oe),a.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||i(e))&&(this._special=be),this._state=g,this._index--},a.prototype._stateAfterStyle1=r("Y",se,m),a.prototype._stateAfterStyle2=r("L",le,m),a.prototype._stateAfterStyle3=r("E",ce,m),a.prototype._stateAfterStyle4=function(e){">"===e||i(e)?(this._special=ge,this._state=y,this._sectionStart=this._index-5,this._index--):this._state=m},a.prototype._stateBeforeEntity=r("#",de,pe),a.prototype._stateBeforeNumericEntity=r("X",me,he),a.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?p:u;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},a.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(d.hasOwnProperty(n))return this._emitPartial(d[n]),void(this._sectionStart+=t+1);t--}},a.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==m?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},a.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),r=parseInt(i,t);this._emitPartial(c(r)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},a.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},a.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},a.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===m?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},a.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},a.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===m?this._stateText(e):this._state===f?this._stateBeforeTagName(e):this._state===g?this._stateInTagName(e):this._state===b?this._stateBeforeCloseingTagName(e):this._state===y?this._stateInCloseingTagName(e):this._state===w?this._stateAfterCloseingTagName(e):this._state===v?this._stateInSelfClosingTag(e):this._state===C?this._stateBeforeAttributeName(e):this._state===E?this._stateInAttributeName(e):this._state===x?this._stateAfterAttributeName(e):this._state===S?this._stateBeforeAttributeValue(e):this._state===_?this._stateInAttributeValueDoubleQuotes(e):this._state===T?this._stateInAttributeValueSingleQuotes(e):this._state===A?this._stateInAttributeValueNoQuotes(e):this._state===k?this._stateBeforeDeclaration(e):this._state===$?this._stateInDeclaration(e):this._state===M?this._stateInProcessingInstruction(e):this._state===P?this._stateBeforeComment(e):this._state===R?this._stateInComment(e):this._state===O?this._stateAfterComment1(e):this._state===D?this._stateAfterComment2(e):this._state===N?this._stateBeforeCdata1(e):this._state===I?this._stateBeforeCdata2(e):this._state===L?this._stateBeforeCdata3(e):this._state===F?this._stateBeforeCdata4(e):this._state===H?this._stateBeforeCdata5(e):this._state===j?this._stateBeforeCdata6(e):this._state===B?this._stateInCdata(e):this._state===z?this._stateAfterCdata1(e):this._state===U?this._stateAfterCdata2(e):this._state===q?this._stateBeforeSpecial(e):this._state===V?this._stateBeforeSpecialEnd(e):this._state===G?this._stateBeforeScript1(e):this._state===W?this._stateBeforeScript2(e):this._state===K?this._stateBeforeScript3(e):this._state===Y?this._stateBeforeScript4(e):this._state===X?this._stateBeforeScript5(e):this._state===Z?this._stateAfterScript1(e):this._state===J?this._stateAfterScript2(e):this._state===Q?this._stateAfterScript3(e):this._state===ee?this._stateAfterScript4(e):this._state===te?this._stateAfterScript5(e):this._state===ne?this._stateBeforeStyle1(e):this._state===ie?this._stateBeforeStyle2(e):this._state===re?this._stateBeforeStyle3(e):this._state===oe?this._stateBeforeStyle4(e):this._state===ae?this._stateAfterStyle1(e):this._state===se?this._stateAfterStyle2(e):this._state===le?this._stateAfterStyle3(e):this._state===ce?this._stateAfterStyle4(e):this._state===ue?this._stateBeforeEntity(e):this._state===de?this._stateBeforeNumericEntity(e):this._state===pe?this._stateInNamedEntity(e):this._state===he?this._stateInNumericEntity(e):this._state===me?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},a.prototype.pause=function(){this._running=!1},a.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},a.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},a.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},a.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===B||this._state===z||this._state===U?this._cbs.oncdata(e):this._state===R||this._state===O||this._state===D?this._cbs.oncomment(e):this._state!==pe||this._xmlMode?this._state!==he||this._xmlMode?this._state!==me||this._xmlMode?this._state!==g&&this._state!==C&&this._state!==S&&this._state!==x&&this._state!==E&&this._state!==T&&this._state!==_&&this._state!==A&&this._state!==y&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},a.prototype.reset=function(){a.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},a.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},a.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},a.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},a.prototype._emitPartial=function(e){this._baseState!==m?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){var i=n(306);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in i&&(e=i[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}},function(e,t){e.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return r[this.type]||r.element}},i={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},r={element:1,text:3,cdata:4,comment:8};Object.keys(i).forEach(function(e){var t=i[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){function i(e,t){var n=this._parser=new r(e,t),i=this._decoder=new a;o.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(i.end())})}e.exports=i;var r=n(160),o=n(311).Writable||n(322).Writable,a=n(93).StringDecoder,s=n(28).Buffer;n(17)(i,o),o.prototype._write=function(e,t,n){e instanceof s&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(e,t,n){"use strict";(function(t,i){function r(e,t){C=C||n(29),e=e||{};var i=t instanceof C;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new P,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(M||(M=n(93).StringDecoder),this.decoder=new M(e.encoding),this.encoding=e.encoding)}function o(e){if(C=C||n(29),!(this instanceof o))return new o(e);this._readableState=new r(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),S.call(this)}function a(e,t,n,i,r){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,c(e)}}(e,a)):(r||(o=function(e,t){var n;i=t,_.isBuffer(i)||i instanceof T||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===_.prototype||(t=function(e){return _.from(e)}(t)),i?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):s(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?s(e,a,t,!1):d(e,a)):s(e,a,t,!1))):i||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function s(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&c(e)),d(e,t)}function l(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function c(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||($("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?w(u,e):u(e))}function u(e){$("emit readable"),e.emit("readable"),f(e)}function d(e,t){t.readingMore||(t.readingMore=!0,w(p,e,t))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&($("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function h(e){$("readable nexttick read 0"),e.read(0)}function m(e,t){t.reading||($("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),f(e),t.flowing&&!t.reading&&e.read(0)}function f(e){var t=e._readableState;for($("flow",t.flowing);t.flowing&&null!==e.read(););}function g(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=_.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t),i}(e,t.buffer,t.decoder),n);var n}function v(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,w(b,t,e))}function b(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function y(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}var w=n(62).nextTick;e.exports=o;var C,E=n(312);o.ReadableState=r,n(61).EventEmitter;var x=function(e,t){return e.listeners(t).length},S=n(167),_=n(63).Buffer,T=t.Uint8Array||function(){},A=n(47);A.inherits=n(17);var k=n(313),$=void 0;$=k&&k.debuglog?k.debuglog("stream"):function(){};var M,P=n(314),R=n(168);A.inherits(o,S);var O=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),o.prototype.destroy=R.destroy,o.prototype._undestroy=R.undestroy,o.prototype._destroy=function(e,t){this.push(null),t(e)},o.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=_.from(e,t),t=""),n=!0),a(this,e,t,!1,n)},o.prototype.unshift=function(e){return a(this,e,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){return M||(M=n(93).StringDecoder),this._readableState.decoder=new M(e),this._readableState.encoding=e,this};var D=8388608;o.prototype.read=function(e){$("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return $("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?v(this):c(this),null;if(0===(e=l(e,t))&&t.ended)return 0===t.length&&v(this),null;var i,r=t.needReadable;return $("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&$("length less than watermark",r=!0),t.ended||t.reading?$("reading or ended",r=!1):r&&($("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=l(n,t))),null===(i=e>0?g(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&v(this)),null!==i&&this.emit("data",i),i},o.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(e,t){function n(t,i){$("onunpipe"),t===u&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,$("cleanup"),e.removeListener("close",s),e.removeListener("finish",l),e.removeListener("drain",h),e.removeListener("error",a),e.removeListener("unpipe",n),u.removeListener("end",r),u.removeListener("end",c),u.removeListener("data",o),m=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function r(){$("onend"),e.end()}function o(t){$("ondata"),g=!1,!1!==e.write(t)||g||((1===d.pipesCount&&d.pipes===e||d.pipesCount>1&&-1!==y(d.pipes,e))&&!m&&($("false write response, pause",u._readableState.awaitDrain),u._readableState.awaitDrain++,g=!0),u.pause())}function a(t){$("onerror",t),c(),e.removeListener("error",a),0===x(e,"error")&&e.emit("error",t)}function s(){e.removeListener("finish",l),c()}function l(){$("onfinish"),e.removeListener("close",s),c()}function c(){$("unpipe"),u.unpipe(e)}var u=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,$("pipe count=%d opts=%j",d.pipesCount,t);var p=t&&!1===t.end||e===i.stdout||e===i.stderr?c:r;d.endEmitted?w(p):u.once("end",p),e.on("unpipe",n);var h=function(e){return function(){var t=e._readableState;$("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&x(e,"data")&&(t.flowing=!0,f(e))}}(u);e.on("drain",h);var m=!1,g=!1;return u.on("data",o),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?E(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",a),e.once("close",s),e.once("finish",l),e.emit("pipe",u),d.flowing||($("pipe resume"),u.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var a=y(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},o.prototype.on=function(e,t){var n=S.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&c(this):w(h,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||($("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,w(m,e,t))}(this,e)),this},o.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",function(){if($("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){$("wrapped data"),n.decoder&&(r=n.decoder.write(r)),(!n.objectMode||null!==r&&void 0!==r)&&(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<O.length;o++)e.on(O[o],this.emit.bind(this,O[o]));return this._read=function(t){$("wrapped _read",t),i&&(i=!1,e.resume())},this},o._fromList=g}).call(t,n(8),n(25))},function(e,t,n){e.exports=n(61).EventEmitter},function(e,t,n){"use strict";function i(e,t){e.emit("error",t)}var r=n(62).nextTick;e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",r)}function r(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){o(e,t,n)}):o(this,null,null)}function o(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var a=n(29),s=n(47);s.inherits=n(17),s.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;a.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(347)),o=i(n(171)),a=i(n(348)),s=function(){function e(t,n,i,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="CssSyntaxError",this.reason=t,o&&(this.file=o),r&&(this.source=r),a&&(this.plugin=a),void 0!==n&&void 0!==i&&(this.line=n,this.column=i),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},e.prototype.showSourceCode=function(e){function t(t){return e&&o.default.red?o.default.red.bold(t):t}function n(t){return e&&o.default.gray?o.default.gray(t):t}var i=this;if(!this.source)return"";var s=this.source;void 0===e&&(e=r.default.stdout),e&&(s=(0,a.default)(s));var l=s.split(/\r?\n/),c=Math.max(this.line-3,0),u=Math.min(this.line+2,l.length),d=String(u).length;return l.slice(c,u).map(function(e,r){var o=c+1+r,a=" "+(" "+o).slice(-d)+" | ";if(o===i.line){var s=n(a.replace(/\d/g," "))+e.slice(0,i.column-1).replace(/[^\t]/g," ");return t(">")+n(a)+e+"\n "+s+t("^")}return" "+n(a)+e}).join("\n")},e.prototype.toString=function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e},e}();t.default=s,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){function t(t){throw e.error("Unclosed "+t,q,V-U)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=e.css.valueOf(),A=n.ignoreErrors,k=void 0,$=void 0,M=void 0,P=void 0,R=void 0,O=void 0,D=void 0,N=void 0,I=void 0,L=void 0,F=void 0,H=void 0,j=void 0,B=void 0,z=T.length,U=-1,q=1,V=0,G=[],W=[];return{back:function(e){W.push(e)},nextToken:function(){if(W.length)return W.pop();if(!(V>=z)){switch(((k=T.charCodeAt(V))===s||k===c||k===d&&T.charCodeAt(V+1)!==s)&&(U=V,q+=1),k){case s:case l:case u:case d:case c:$=V;do{$+=1,(k=T.charCodeAt($))===s&&(U=$,q+=1)}while(k===l||k===s||k===u||k===d||k===c);B=["space",T.slice(V,$)],V=$-1;break;case p:B=["[","[",q,V-U];break;case h:B=["]","]",q,V-U];break;case g:B=["{","{",q,V-U];break;case v:B=["}","}",q,V-U];break;case w:B=[":",":",q,V-U];break;case b:B=[";",";",q,V-U];break;case m:if(H=G.length?G.pop()[1]:"",j=T.charCodeAt(V+1),"url"===H&&j!==i&&j!==r&&j!==l&&j!==s&&j!==u&&j!==c&&j!==d){$=V;do{if(L=!1,-1===($=T.indexOf(")",$+1))){if(A){$=V;break}t("bracket")}for(F=$;T.charCodeAt(F-1)===o;)F-=1,L=!L}while(L);B=["brackets",T.slice(V,$+1),q,V-U,q,$-U],V=$}else $=T.indexOf(")",V+1),O=T.slice(V,$+1),-1===$||S.test(O)?B=["(","(",q,V-U]:(B=["brackets",O,q,V-U,q,$-U],V=$);break;case f:B=[")",")",q,V-U];break;case i:case r:M=k===i?"'":'"',$=V;do{if(L=!1,-1===($=T.indexOf(M,$+1))){if(A){$=V+1;break}t("string")}for(F=$;T.charCodeAt(F-1)===o;)F-=1,L=!L}while(L);O=T.slice(V,$+1),P=O.split("\n"),(R=P.length-1)>0?(N=q+R,I=$-P[R].length):(N=q,I=U),B=["string",T.slice(V,$+1),q,V-U,N,$-I],U=I,q=N,V=$;break;case C:E.lastIndex=V+1,E.test(T),$=0===E.lastIndex?T.length-1:E.lastIndex-2,B=["at-word",T.slice(V,$+1),q,V-U,q,$-U],V=$;break;case o:for($=V,D=!0;T.charCodeAt($+1)===o;)$+=1,D=!D;if(k=T.charCodeAt($+1),D&&k!==a&&k!==l&&k!==s&&k!==u&&k!==d&&k!==c&&($+=1,_.test(T.charAt($)))){for(;_.test(T.charAt($+1));)$+=1;T.charCodeAt($+1)===l&&($+=1)}B=["word",T.slice(V,$+1),q,V-U,q,$-U],V=$;break;default:k===a&&T.charCodeAt(V+1)===y?(0===($=T.indexOf("*/",V+2)+1)&&(A?$=T.length:t("comment")),O=T.slice(V,$+1),P=O.split("\n"),(R=P.length-1)>0?(N=q+R,I=$-P[R].length):(N=q,I=U),B=["comment",O,q,V-U,N,$-I],U=I,q=N,V=$):(x.lastIndex=V+1,x.test(T),$=0===x.lastIndex?T.length-1:x.lastIndex-2,B=["word",T.slice(V,$+1),q,V-U,q,$-U],G.push(B),V=$)}return V++,B}},endOfFile:function(){return 0===W.length&&V>=z}}};var i=39,r=34,o=92,a=47,s=10,l=32,c=12,u=9,d=13,p=91,h=93,m=40,f=41,g=123,v=125,b=59,y=42,w=58,C=64,E=/[ \n\t\r\f\{\(\)'"\\;\/\[\]#]/g,x=/[ \n\t\r\f\(\)\{\}:;@!'"\\\]\[#]|\/(?=\*)/g,S=/.[\\\/\("'\n]/,_=/[a-f0-9]/i;e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=i(n(170)),a=i(n(349)),s=i(n(96)),l=0,c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.css=t.toString(),"\ufeff"!==this.css[0]&&"￾"!==this.css[0]||(this.css=this.css.slice(1)),n.from&&(/^\w+:\/\//.test(n.from)?this.file=n.from:this.file=s.default.resolve(n.from));var i=new a.default(this.css,n);if(i.text){this.map=i;var r=i.consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}this.file||(l+=1,this.id="<input css "+l+">"),this.map&&(this.map.file=this.from)}return e.prototype.error=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0,a=this.origin(t,n);return(r=a?new o.default(e,a.line,a.column,a.source,a.file,i.plugin):new o.default(e,t,n,this.css,this.file,i.plugin)).input={line:t,column:n,source:this.css},this.file&&(r.input.file=this.file),r},e.prototype.origin=function(e,t){if(!this.map)return!1;var n=this.map.consumer(),i=n.originalPositionFor({line:e,column:t});if(!i.source)return!1;var r={file:this.mapResolve(i.source),line:i.line,column:i.column},o=n.sourceContentFor(i.source);return o&&(r.source=o),r},e.prototype.mapResolve=function(e){return/^\w+:\/\//.test(e)?e:s.default.resolve(this.map.consumer().sourceRoot||".",e)},r(e,[{key:"from",get:function(){return this.file||this.id}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){t.SourceMapGenerator=n(175).SourceMapGenerator,t.SourceMapConsumer=n(352).SourceMapConsumer,t.SourceNode=n(355).SourceNode},function(e,t,n){function i(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new a,this._names=new a,this._mappings=new s,this._sourcesContents=null}var r=n(176),o=n(48),a=n(177).ArraySet,s=n(351).MappingList;i.prototype._version=3,i.fromSourceMap=function(e){var t=e.sourceRoot,n=new i({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=o.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),n.addMapping(i)}),e.sources.forEach(function(i){var r=i;null!==t&&(r=o.relative(t,i)),n._sources.has(r)||n._sources.add(r);var a=e.sourceContentFor(i);null!=a&&n.setSourceContent(i,a)}),n},i.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),i=o.getArg(e,"source",null),r=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,i,r),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=r&&(r=String(r),this._names.has(r)||this._names.add(r)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:r})},i.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(e,t,n){var i=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}var r=this._sourceRoot;null!=r&&(i=o.relative(r,i));var s=new a,l=new a;this._mappings.unsortedForEach(function(t){if(t.source===i&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=o.join(n,t.source)),null!=r&&(t.source=o.relative(r,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var c=t.source;null==c||s.has(c)||s.add(c);var u=t.name;null==u||l.has(u)||l.add(u)},this),this._sources=s,this._names=l,e.sources.forEach(function(t){var i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=o.join(n,t)),null!=r&&(t=o.relative(r,t)),this.setSourceContent(t,i))},this)},i.prototype._validateMapping=function(e,t,n,i){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||i)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:i}))},i.prototype._serializeMappings=function(){for(var e,t,n,i,a=0,s=1,l=0,c=0,u=0,d=0,p="",h=this._mappings.toArray(),m=0,f=h.length;m<f;m++){if(e="",(t=h[m]).generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(m>0){if(!o.compareByGeneratedPositionsInflated(t,h[m-1]))continue;e+=","}e+=r.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=r.encode(i-d),d=i,e+=r.encode(t.originalLine-1-c),c=t.originalLine-1,e+=r.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-u),u=n)),p+=e}return p},i.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},i.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=i},function(e,t,n){var i=n(350);t.encode=function(e){var t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=i.encode(t)}while(r>0);return n},t.decode=function(e,t,n){var r,o,a,s,l=e.length,c=0,u=0;do{if(t>=l)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),c+=(o&=31)<<u,u+=5}while(r);n.value=(s=(a=c)>>1,1==(1&a)?-s:s),n.rest=t}},function(e,t,n){function i(){this._array=[],this._set=a?new Map:Object.create(null)}var r=n(48),o=Object.prototype.hasOwnProperty,a="undefined"!=typeof Map;i.fromArray=function(e,t){for(var n=new i,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},i.prototype.size=function(){return a?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=a?e:r.toSetString(e),i=a?this.has(e):o.call(this._set,n),s=this._array.length;i&&!t||this._array.push(e),i||(a?this._set.set(e,s):this._set[n]=s)},i.prototype.has=function(e){if(a)return this._set.has(e);var t=r.toSetString(e);return o.call(this._set,t)},i.prototype.indexOf=function(e){if(a){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(o.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){"use strict";t.__esModule=!0;var i={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" "},r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.builder=t}return e.prototype.stringify=function(e,t){this[e.type](e,t)},e.prototype.root=function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)},e.prototype.comment=function(e){var t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)},e.prototype.decl=function(e,t){var n=this.raw(e,"between","colon"),i=e.prop+n+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)},e.prototype.rule=function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")},e.prototype.atrule=function(e,t){var n="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:i&&(n+=" "),e.nodes)this.block(e,n+i);else{var r=(e.raws.between||"")+(t?";":"");this.builder(n+i+r,e)}},e.prototype.body=function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var n=this.raw(e,"semicolon"),i=0;i<e.nodes.length;i++){var r=e.nodes[i],o=this.raw(r,"before");o&&this.builder(o),this.stringify(r,t!==i||n)}},e.prototype.block=function(e,t){var n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start");var i=void 0;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")},e.prototype.raw=function(e,t,n){var r=void 0;if(n||(n=t),t&&void 0!==(r=e.raws[t]))return r;var o=e.parent;if("before"===n&&(!o||"root"===o.type&&o.first===e))return"";if(!o)return i[n];var a=e.root();if(a.rawCache||(a.rawCache={}),void 0!==a.rawCache[n])return a.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);var s,l="raw"+((s=n)[0].toUpperCase()+s.slice(1));return this[l]?r=this[l](a,e):a.walk(function(e){if(void 0!==(r=e.raws[t]))return!1}),void 0===r&&(r=i[n]),a.rawCache[n]=r,r},e.prototype.rawSemicolon=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t},e.prototype.rawEmptyBody=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t},e.prototype.rawIndent=function(e){if(e.raws.indent)return e.raws.indent;var t=void 0;return e.walk(function(n){var i=n.parent;if(i&&i!==e&&i.parent&&i.parent===e&&void 0!==n.raws.before){var r=n.raws.before.split("\n");return t=(t=r[r.length-1]).replace(/[^\s]/g,""),!1}}),t},e.prototype.rawBeforeComment=function(e,t){var n=void 0;return e.walkComments(function(e){if(void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/[^\s]/g,"")),n},e.prototype.rawBeforeDecl=function(e,t){var n=void 0;return e.walkDecls(function(e){if(void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/[^\s]/g,"")),n},e.prototype.rawBeforeRule=function(e){var t=void 0;return e.walk(function(n){if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return-1!==(t=n.raws.before).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/[^\s]/g,"")),t},e.prototype.rawBeforeClose=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return-1!==(t=e.raws.after).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/[^\s]/g,"")),t},e.prototype.rawBeforeOpen=function(e){var t=void 0;return e.walk(function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t},e.prototype.rawColon=function(e){var t=void 0;return e.walkDecls(function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t},e.prototype.beforeAfter=function(e,t){var n=void 0;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var i=e.parent,r=0;i&&"root"!==i.type;)r+=1,i=i.parent;if(-1!==n.indexOf("\n")){var o=this.raw(e,null,"indent");if(o.length)for(var a=0;a<r;a++)n+=o}return n},e.prototype.rawValue=function(e,t){var n=e[t],i=e.raws[t];return i&&i.value===n?i.raw:n},e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){i[e]||(i[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))};var i={};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(181),a=(i=o)&&i.__esModule?i:{default:i},s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version="6.0.19",this.plugins=this.normalize(t)}return e.prototype.use=function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this},e.prototype.process=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new a.default(this,e,t)},e.prototype.normalize=function(e){var t=[],n=e,i=Array.isArray(n),o=0;for(n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var s=a;if(s.postcss&&(s=s.postcss),"object"===(void 0===s?"undefined":r(s))&&Array.isArray(s.plugins))t=t.concat(s.plugins);else{if("function"!=typeof s)throw"object"===(void 0===s?"undefined":r(s))&&(s.parse||s.stringify)?new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation."):new Error(s+" is not a PostCSS plugin");t.push(s)}}return t},e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return"object"===(void 0===e?"undefined":a(e))&&"function"==typeof e.then}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=i(n(357)),l=i(n(97)),c=i(n(179)),u=i(n(358)),d=i(n(98)),p=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stringified=!1,this.processed=!1;var r=void 0;if("object"===(void 0===n?"undefined":a(n))&&"root"===n.type)r=n;else if(n instanceof e||n instanceof u.default)r=n.root,n.map&&(void 0===i.map&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=n.map);else{var o=d.default;i.syntax&&(o=i.syntax.parse),i.parser&&(o=i.parser),o.parse&&(o=o.parse);try{r=o(n,i)}catch(t){this.error=t}}this.result=new u.default(t,r,i)}return e.prototype.warnings=function(){return this.sync().warnings()},e.prototype.toString=function(){return this.css},e.prototype.then=function(e,t){return"from"in this.opts||(0,c.default)("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning."),this.async().then(e,t)},e.prototype.catch=function(e){return this.async().catch(e)},e.prototype.handleError=function(e,t){try{if(this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(t.postcssVersion){var n=t.postcssPlugin,i=t.postcssVersion,r=this.result.processor.version,o=i.split("."),a=r.split(".");(o[0]!==a[0]||parseInt(o[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+r+", but "+n+" uses "+i+". Perhaps this is the source of the error below.")}}else e.plugin=t.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}},e.prototype.asyncTick=function(e,t){var n=this;if(this.plugin>=this.processor.plugins.length)return this.processed=!0,e();try{var i=this.processor.plugins[this.plugin],o=this.run(i);this.plugin+=1,r(o)?o.then(function(){n.asyncTick(e,t)}).catch(function(e){n.handleError(e,i),n.processed=!0,t(e)}):this.asyncTick(e,t)}catch(e){this.processed=!0,t(e)}},e.prototype.async=function(){var e=this;return this.processed?new Promise(function(t,n){e.error?n(e.error):t(e.stringify())}):this.processing?this.processing:(this.processing=new Promise(function(t,n){if(e.error)return n(e.error);e.plugin=0,e.asyncTick(t,n)}).then(function(){return e.processed=!0,e.stringify()}),this.processing)},e.prototype.sync=function(){if(this.processed)return this.result;if(this.processed=!0,this.processing)throw new Error("Use process(css).then(cb) to work with async plugins");if(this.error)throw this.error;var e=this.result.processor.plugins,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var o=i;if(r(this.run(o)))throw new Error("Use process(css).then(cb) to work with async plugins")}return this.result},e.prototype.run=function(e){this.result.lastPlugin=e;try{return e(this.result.root,this.result)}catch(t){throw this.handleError(t,e),t}},e.prototype.stringify=function(){if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=l.default;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var n=new s.default(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result},o(e,[{key:"processor",get:function(){return this.result.processor}},{key:"opts",get:function(){return this.result.opts}},{key:"css",get:function(){return this.stringify().css}},{key:"content",get:function(){return this.stringify().content}},{key:"map",get:function(){return this.stringify().map}},{key:"root",get:function(){return this.sync().root}},{key:"messages",get:function(){return this.sync().messages}}]),e}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i={split:function(e,t,n){for(var i=[],r="",o=!1,a=0,s=!1,l=!1,c=0;c<e.length;c++){var u=e[c];s?l?l=!1:"\\"===u?l=!0:u===s&&(s=!1):'"'===u||"'"===u?s=u:"("===u?a+=1:")"===u?a>0&&(a-=1):0===a&&-1!==t.indexOf(u)&&(o=!0),o?(""!==r&&i.push(r.trim()),r="",o=!1):r+=u}return(n||""!==r)&&i.push(r.trim()),i},space:function(e){return i.split(e,[" ","\n","\t"])},comma:function(e){return i.split(e,[","],!0)}};t.default=i,e.exports=t.default},function(e,t,n){(function(e){var n;!function(i,r,o){"use strict";function a(e){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(i.navigator.userAgent)||/Firefox/.test(i.navigator.userAgent)||/Edge/.test(i.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:l},this.opts={},this.events={};var t=this;this.onDrop=function(e){t.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var n=e.dataTransfer;n.items&&n.items[0]&&n.items[0].webkitGetAsEntry?t.webkitReadDataTransfer(e):t.addFiles(n.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=a.extend({},this.defaults,e||{})}}function s(e,t,n){this.flowObj=e,this.bytes=null,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=n===o?e.generateUniqueIdentifier(t):n,this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function l(e,t,n,i,r){var o="slice";e.file.slice?o="slice":e.file.mozSlice?o="mozSlice":e.file.webkitSlice&&(o="webkitSlice"),r.readFinished(e.file[o](t,n,i))}function c(e,t,n){this.flowObj=e,this.fileObj=t,this.offset=n,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.flowObj.opts.chunkSize,this.startByte=this.offset*this.chunkSize,this.computeEndByte=function(){var e=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-e<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(e=this.fileObj.size),e},this.endByte=this.computeEndByte(),this.xhr=null;var i=this;this.event=function(e,t){(t=Array.prototype.slice.call(arguments)).unshift(i),i.fileObj.chunkEvent.apply(i.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(i.loaded=e.loaded,i.total=e.total),i.event("progress",e)},this.testHandler=function(e){var t=i.status(!0);"error"===t?(i.event(t,i.message()),i.flowObj.uploadNextChunk()):"success"===t?(i.tested=!0,i.event(t,i.message()),i.flowObj.uploadNextChunk()):i.fileObj.paused||(i.tested=!0,i.send())},this.doneHandler=function(e){var t=i.status();if("success"===t||"error"===t)delete this.data,i.event(t,i.message()),i.flowObj.uploadNextChunk();else{i.event("retry",i.message()),i.pendingRetry=!0,i.abort(),i.retries++;var n=i.flowObj.opts.chunkRetryInterval;null!==n?setTimeout(function(){i.send()},n):i.send()}}}function u(e,t){return"function"==typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function d(e,t){setTimeout(e.bind(t),0)}function p(e,t){return h(arguments,function(t){t!==e&&h(t,function(t,n){e[n]=t})}),e}function h(e,t,n){var i;if(e)if(void 0!==e.length){for(i=0;i<e.length;i++)if(!1===t.call(n,e[i],i))return}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i))return}var m=i.navigator.msPointerEnabled;a.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){var n,i,r;e!==o?(e=e.toLowerCase(),t!==o?this.events.hasOwnProperty(e)&&(n=this.events[e],i=t,(r=n.indexOf(i))>-1&&n.splice(r,1)):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var n=!1;return this.events.hasOwnProperty(e)&&h(this.events[e],function(e){n=!1===e.apply(this,t.slice(1))||n},this),"catchall"!=e&&(t.unshift("catchAll"),n=!1===this.fire.apply(this,t)||n),!n},webkitReadDataTransfer:function(e){function t(e,t){e.relativePath=t.substring(1),a.push(e),i()}function n(e){throw e}function i(){0==--o&&r.addFiles(a,e)}var r=this,o=e.dataTransfer.items.length,a=[];h(e.dataTransfer.items,function(e){var r=e.webkitGetAsEntry();r?r.isFile?t(e.getAsFile(),r.fullPath):function e(r){r.readEntries(function(a){a.length?(o+=a.length,h(a,function(i){if(i.isFile){var r=i.fullPath;i.file(function(e){t(e,r)},n)}else i.isDirectory&&e(i.createReader())}),e(r)):i()},n)}(r.createReader()):i()})},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"==typeof t)return t(e);var n=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(h(this.files,function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0}),t))return t;if(h(this.files,function(e){if(e.paused||h(e.chunks,function(e){if("pending"===e.status())return e.send(),t=!0,!1}),t)return!1}),t)return!0;var n=!1;return h(this.files,function(e){if(!e.isComplete())return n=!0,!1}),n||e||d(function(){this.fire("complete")},this),!1},assignBrowse:function(e,t,n,i){e instanceof Element&&(e=[e]),h(e,function(e){var o;"INPUT"===e.tagName&&"file"===e.type?o=e:((o=r.createElement("input")).setAttribute("type","file"),p(o.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(o),e.addEventListener("click",function(){o.click()},!1)),this.opts.singleFile||n||o.setAttribute("multiple","multiple"),t&&o.setAttribute("webkitdirectory","webkitdirectory"),h(i,function(e,t){o.setAttribute(t,e)});var a=this;o.addEventListener("change",function(e){e.target.value&&(a.addFiles(e.target.files,e),e.target.value="")},!1)},this)},assignDrop:function(e){void 0===e.length&&(e=[e]),h(e,function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(e){void 0===e.length&&(e=[e]),h(e,function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var e=!1;return h(this.files,function(t){if(t.isUploading())return e=!0,!1}),e},_shouldUploadNext:function(){var e=0,t=!0,n=this.opts.simultaneousUploads;return h(this.files,function(i){h(i.chunks,function(i){if("uploading"===i.status()&&++e>=n)return t=!1,!1})}),t&&e},upload:function(){var e=this._shouldUploadNext();if(!1!==e){this.fire("uploadStart");for(var t=!1,n=1;n<=this.opts.simultaneousUploads-e;n++)t=this.uploadNextChunk(!0)||t;t||d(function(){this.fire("complete")},this)}},resume:function(){h(this.files,function(e){e.isComplete()||e.resume()})},pause:function(){h(this.files,function(e){e.pause()})},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return h(this.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var n=[];h(e,function(e){if((!m||m&&e.size>0)&&(e.size%4096!=0||"."!==e.name&&"."!==e.fileName)){var i=this.generateUniqueIdentifier(e);if(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(i)){var r=new s(this,e,i);this.fire("fileAdded",r,t)&&n.push(r)}}},this),this.fire("filesAdded",n,t)&&(h(n,function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)},this),this.fire("filesSubmitted",n,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort(),this.fire("fileRemoved",e))},getFromUniqueIdentifier:function(e){var t=!1;return h(this.files,function(n){n.uniqueIdentifier===e&&(t=n)}),t},getSize:function(){var e=0;return h(this.files,function(t){e+=t.size}),e},sizeUploaded:function(){var e=0;return h(this.files,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){var e=0,t=0;return h(this.files,function(n){n.paused||n.error||(e+=n.size-n.sizeUploaded(),t+=n.averageSpeed)}),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},s.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,n=this.sizeUploaded();this.currentSpeed=Math.max((n-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=n}},chunkEvent:function(e,t,n){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,n,e),this.flowObj.fire("error",n,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,n,e));break;case"retry":this.flowObj.fire("fileRetry",this,e)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),h(t,function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"==typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;for(var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,t=Math.max(e(this.size/this.flowObj.opts.chunkSize),1),n=0;n<t;n++)this.chunks.push(new c(this.flowObj,this,n))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;h(this.chunks,function(t){e+=t.progress()*(t.endByte-t.startByte)});var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return h(this.chunks,function(t){if("uploading"===t.status())return e=!0,!1}),e},isComplete:function(){var e=!1;return h(this.chunks,function(t){var n=t.status();if("pending"===n||"uploading"===n||"reading"===n||1===t.preprocessState||1===t.readState)return e=!0,!1}),!e},sizeUploaded:function(){var e=0;return h(this.chunks,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr(2+(~-this.name.lastIndexOf(".")>>>0)).toLowerCase()}},c.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return e.indexOf("?")<0?e+="?":e+="&",e+t.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var e=u(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(e){this.readState=2,this.bytes=e,this.send()},send:function(){var e=this.flowObj.opts.preprocess,t=this.flowObj.opts.readFileFn;if("function"==typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void t(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(!this.flowObj.opts.testChunks||this.tested){this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var n=u(this.flowObj.opts.uploadMethod,this.fileObj,this),i=this.prepareXhrRequest(n,!1,this.flowObj.opts.method,this.bytes);this.xhr.send(i)}else this.test()},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,n,i){var r=u(this.flowObj.opts.query,this.fileObj,this,t);r=p(r,this.getParams());var o=u(this.flowObj.opts.target,this.fileObj,this,t),a=null;if("GET"===e||"octet"===n){var s=[];h(r,function(e,t){s.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))}),o=this.getTarget(o,s),a=i||null}else a=new FormData,h(r,function(e,t){a.append(t,e)}),void 0!==i&&a.append(this.flowObj.opts.fileParameterName,i,this.fileObj.file.name);return this.xhr.open(e,o,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,h(u(this.flowObj.opts.headers,this.fileObj,this,t),function(e,t){this.xhr.setRequestHeader(t,e)},this),a}},a.evalOpts=u,a.extend=p,a.each=h,a.FlowFile=s,a.FlowChunk=c,a.version="<%= version %>","object"==typeof e&&e&&"object"==typeof e.exports?e.exports=a:(i.Flow=a,(n=function(){return a}.apply(t,[]))===o||(e.exports=n))}(window,document)}).call(t,n(18)(e))},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]}},function(e,t,n){var i;i=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(){var e=p();return e.compile=function(t,n){return l.compile(t,n,e)},e.precompile=function(t,n){return l.precompile(t,n,e)},e.AST=a.default,e.Compiler=l.Compiler,e.JavaScriptCompiler=c.default,e.Parser=s.parser,e.parse=s.parse,e}var r=n(1).default;t.__esModule=!0;var o=r(n(2)),a=r(n(35)),s=n(36),l=n(41),c=r(n(42)),u=r(n(39)),d=r(n(34)),p=o.default.create,h=i();h.create=i,d.default(h),h.Visitor=u.default,h.default=h,t.default=h,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function i(){var e=new a.HandlebarsEnvironment;return c.extend(e,a),e.SafeString=s.default,e.Exception=l.default,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e}var r=n(3).default,o=n(1).default;t.__esModule=!0;var a=r(n(4)),s=o(n(21)),l=o(n(6)),c=r(n(5)),u=r(n(22)),d=o(n(34)),p=i();p.create=i,d.default(p),p.default=p,t.default=p,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=i;var o=n(5),a=r(n(6)),s=n(10),l=n(18),c=r(n(20));t.VERSION="4.0.11",t.COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"},i.prototype={constructor:i,logger:c.default,log:c.default.log,registerHelper:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===o.toString.call(e))o.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var u=c.default.log;t.log=u,t.createFrame=o.createFrame,t.logger=c.default},function(e,t){"use strict";function n(e){return r[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}t.__esModule=!0,t.extend=i,t.indexOf=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return a.test(e)?e.replace(o,n):e},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=i({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,a=/[&<>"'`=]/,s=Object.prototype.toString;t.toString=s;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===s.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===s.call(e)};t.isArray=c},function(e,t,n){"use strict";function i(e,t){var n=t&&t.loc,a=void 0,s=void 0;n&&(e+=" - "+(a=n.start.line)+":"+(s=n.start.column));for(var l=Error.prototype.constructor.call(this,e),c=0;c<o.length;c++)this[o[c]]=l[o[c]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=a,r?Object.defineProperty(this,"column",{value:s,enumerable:!0}):this.column=s)}catch(e){}}var r=n(7).default;t.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,t.default=i,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){r.default(e),o.default(e),a.default(e),s.default(e),l.default(e),c.default(e),u.default(e)};var r=i(n(11)),o=i(n(12)),a=i(n(13)),s=i(n(14)),l=i(n(15)),c=i(n(16)),u=i(n(17))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(5),o=i(n(6));t.default=function(e){e.registerHelper("each",function(e,t){function n(t,n,o){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+t)),l+=i(e[t],{data:c,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(!t)throw new o.default("Must pass iterator to #each");var i=t.fn,a=t.inverse,s=0,l="",c=void 0,u=void 0;if(t.data&&t.ids&&(u=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(c=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var d=e.length;s<d;s++)s in e&&n(s,s,s===e.length-1);else{var p=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==p&&n(p,s-1),p=h,s++);void 0!==p&&n(p,s-1,!0)}return 0===s&&(l=a(this)),l})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=i(n(6));t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){r.default(e)};var r=i(n(19))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var a=n.partials;n.partials=i.extend({},a,t.partials);var s=e(r,o);return n.partials=a,s}),t.partials[r.args[0]]=r.fn,o})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n,i,r,a,s){function l(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(o=[t].concat(s)),n(e,t,e.helpers,e.partials,r.data||i,a&&[r.blockParams].concat(a),o)}return(l=o(n,l,e,s,i,a)).program=t,l.depth=s?s.length:0,l.blockParams=r||0,l}function r(){return""}function o(e,t,n,i,r,o){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,o,i),c.extend(t,a)}return t}var a=n(23).default,s=n(3).default,l=n(1).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=d.COMPILER_REVISION;if(t!==n){if(t<n){var i=d.REVISION_CHANGES[n],r=d.REVISION_CHANGES[t];throw new u.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new u.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){function n(t){function i(t){return""+e.main(r,t,r.helpers,r.partials,s,c,l)}var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a.data;n._setup(a),!a.partial&&e.useData&&(s=function(e,t){return t&&"root"in t||((t=t?d.createFrame(t):{}).root=e),t}(t,s));var l=void 0,c=e.useBlockParams?[]:void 0;return e.useDepths&&(l=a.depths?t!=a.depths[0]?[t].concat(a.depths):a.depths:[t]),(i=o(e.main,i,r,a.depths||[],s,c))(t,a)}if(!t)throw new u.default("No environment passed to template");if(!e||!e.main)throw new u.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r={strict:function(e,t){if(!(t in e))throw new u.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:c.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=c.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,r);var o=t.VM.invokePartial.call(this,n,i,r);if(null==o&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var a=o.split("\n"),s=0,l=a.length;s<l&&(a[s]||s+1!==l);s++)a[s]=r.indent+a[s];o=a.join("\n")}return o}throw new u.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,o){var a=this.programs[e],s=this.fn(e);return t||o||r||n?a=i(this,e,s,t,n,r,o):a||(a=this.programs[e]=i(this,e,s)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=c.extend({},t,e)),n},nullContext:a({}),noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=r.merge(n.decorators,t.decorators)))},n._child=function(t,n,o,a){if(e.useBlockParams&&!o)throw new u.default("must pass block params");if(e.useDepths&&!a)throw new u.default("must pass parent depths");return i(r,t,e[t],n,0,o,a)},n},t.wrapProgram=i,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;if(n.fn&&n.fn!==r&&function(){n.data=d.createFrame(n.data);var e=n.fn;o=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=d.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=c.extend({},n.partials,e.partials))}(),void 0===e&&o&&(e=o),void 0===e)throw new u.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=r;var c=s(n(5)),u=l(n(6)),d=n(4)},function(e,t,n){e.exports={default:n(24),__esModule:!0}},function(e,t,n){n(25),e.exports=n(30).Object.seal},function(e,t,n){var i=n(26);n(27)("seal",function(e){return function(t){return e&&i(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(28),r=n(30),o=n(33);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var i=n(29),r=n(30),o=n(31),a=function(e,t,n){var s,l,c,u=e&a.F,d=e&a.G,p=e&a.S,h=e&a.P,m=e&a.B,f=e&a.W,g=d?r:r[t]||(r[t]={}),v=d?i:p?i[t]:(i[t]||{}).prototype;for(s in d&&(n=t),n)(l=!u&&v&&s in v)&&s in g||(c=l?v[s]:n[s],g[s]=d&&"function"!=typeof v[s]?n[s]:m&&l?o(c,i):f&&v[s]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?o(Function.call,c):c,h&&((g.prototype||(g.prototype={}))[s]=c))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,e.exports=a},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(32);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default,r=n(3).default;t.__esModule=!0,t.parse=function(e,t){return"Program"===e.type?e:(o.default.yy=c,c.locInfo=function(e){return new c.SourceLocation(t&&t.srcName,e)},new a.default(t).accept(o.default.parse(e)))};var o=i(n(37)),a=i(n(38)),s=r(n(40)),l=n(5);t.parser=o.default;var c={};l.extend(c,s)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,r,o,a){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=i.prepareProgram(o[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[s]),strip:i.stripFlags(o[s],o[s]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 16:case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:i.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var l=i.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),c=i.prepareProgram([l],o[s-1].loc);c.chained=!0,this.$={strip:o[s-2].strip,program:c,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:i.stripFlags(o[s-2],o[s])};break;case 22:case 23:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:i.stripFlags(o[s-4],o[s]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:i.stripFlags(o[s-4],o[s])};break;case 27:case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[s-2]),value:o[s],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[s-1]);break;case 33:case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=o[s];break;case 42:this.$=i.preparePath(!0,o[s],this._$);break;case 43:this.$=i.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:i.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:i.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[o[s]];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],i=[null],r=[],o=this.table,a="",s=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,h,m,f,g,v,b,y,w,C,E={};;){if(m=n[n.length-1],this.defaultActions[m]?f=this.defaultActions[m]:(null!==p&&void 0!==p||(C=void 0,"number"!=typeof(C=t.lexer.lex()||1)&&(C=t.symbols_[C]||C),p=C),f=o[m]&&o[m][p]),void 0===f||!f.length||!f[0]){var x="";if(!c){for(v in w=[],o[m])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(f[0]){case 1:n.push(p),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(f[1]),p=null,h?(p=h,h=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[f[1]][1],E.$=i[i.length-b],E._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},d&&(E._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),void 0!==(g=this.performAction.call(E,a,l,s,this.yy,f[1],i,r)))return g;b&&(n=n.slice(0,-1*b*2),i=i.slice(0,-1*b),r=r.slice(0,-1*b)),n.push(this.productions_[f[1]][0]),i.push(E.$),r.push(E._$),y=o[n[n.length-2]][n[n.length-1]],n.push(y);break;case 3:return!0}}return!0}},n=function(){return{EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(n=this._input.match(this.rules[o[a]]))||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?((r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}}}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function r(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function a(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function s(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var l=n(1).default;t.__esModule=!0;var c=l(n(39));i.prototype=new c.default,i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,l=0,c=i.length;l<c;l++){var u=i[l],d=this.accept(u);if(d){var p=r(i,l,n),h=o(i,l,n),m=d.openStandalone&&p,f=d.closeStandalone&&h,g=d.inlineStandalone&&p&&h;d.close&&a(i,l,!0),d.open&&s(i,l,!0),t&&g&&(a(i,l),s(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),t&&m&&(a((u.program||u.inverse).body),s(i,l)),t&&f&&(a(i,l),s((u.inverse||u.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:o(t.body),closeStandalone:r((i||t).body)};if(e.openStrip.close&&a(t.body,null,!0),n){var u=e.inverseStrip;u.open&&s(t.body,null,!0),u.close&&a(i.body,null,!0),e.closeStrip.open&&s(l.body,null,!0),!this.options.ignoreStandalone&&r(t.body)&&o(i.body)&&(s(t.body),a(i.body))}else e.closeStrip.open&&s(t.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(){this.parents=[]}function r(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function o(e){r.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var s=n(1).default;t.__esModule=!0;var l=s(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new l.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new l.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:r,Decorator:r,BlockStatement:o,DecoratorBlock:o,PartialStatement:a,PartialBlockStatement:function(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new o.default(e.path.original+" doesn't match "+t,n)}}var r=n(1).default;t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",r=[],a=0,s=0,l=t.length;s<l;s++){var c=t[s].part,u=t[s].original!==c;if(i+=(t[s].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)r.push(c);else{if(r.length>0)throw new o.default("Invalid path: "+i,{loc:n});".."===c&&a++}}return{type:"PathExpression",data:e,depth:a,parts:r,original:i,loc:n}},t.prepareMustache=function(e,t,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:r,loc:this.locInfo(o)}},t.prepareRawBlock=function(e,t,n,r){i(e,n),r=this.locInfo(r);var o={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},t.prepareBlock=function(e,t,n,r,a,s){r&&r.path&&i(e,r);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new o.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),u=n.strip,c=n.program}return a&&(a=c,c=t,t=a),{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:c,openStrip:e.strip,inverseStrip:u,closeStrip:r&&r.strip,loc:this.locInfo(s)}},t.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,n,r){return i(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var o=r(n(6))},function(e,t,n){"use strict";function i(){}function r(e,t){if(e===t)return!0;if(l.isArray(e)&&l.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}}function o(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var a=n(1).default;t.__esModule=!0,t.Compiler=i,t.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new s.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)},t.compile=function(e,t,n){function i(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}function r(e,t){return o||(o=i()),o.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new s.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=l.extend({},t))||(t.data=!0),t.compat&&(t.useDepths=!0);var o=void 0;return r._setup=function(e){return o||(o=i()),o._setup(e)},r._child=function(e,t,n,r){return o||(o=i()),o._child(e,t,n,r)},r};var s=a(n(6)),l=n(5),c=a(n(35)),u=[].slice;i.prototype={compiler:i,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],o=e.opcodes[n];if(i.opcode!==o.opcode||!r(i.args,o.args))return!1}for(t=this.children.length,n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(this.options.knownHelpers[i]=n[i]);return this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new s.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){o(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new s.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,r="SubExpression"===e.name.type;r&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",r,i,o),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){o(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var i=e.path,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new s.default("You specified knownHelpersOnly, but used the unknown helper "+o,e);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,c.default.helpers.simpleId(r))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=c.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=c.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&c.default.helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||c.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&l.indexOf(i,e);if(i&&r>=0)return[t,r]}}}},function(e,t,n){"use strict";function i(e){this.value=e}function r(){}var o=n(1).default;t.__esModule=!0;var a=n(4),s=o(n(6)),l=n(5),c=o(n(43));r.prototype={nameLookup:function(e,t){return r.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=a.COMPILER_REVISION;return[e,a.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return l.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,o=void 0,a=void 0,l=void 0,c=void 0;for(l=0,c=r.length;l<c;l++)o=r[l],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var p=this.context,h=p.programs,m=p.decorators;for(l=0,c=h.length;l<c;l++)h[l]&&(d[l]=h[l],m[l]&&(d[l+"_d"]=m[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new c.default(this.options.srcName),this.decorators=new c.default(this.options.srcName)},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(t+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(t);return e?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,a=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(r?o.prepend("buffer += "):i=!0,a.add(";"),o=a=void 0),r=!0,t||(n=!1))}),n?o?(o.prepend("return "),a.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,r){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,i){var r=t.popStack(),o=0,a=n.length;for(e&&a--;o<a;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),")"]:r}(this.options.strict&&r,this,t,e));else for(var a=t.length;n<a;n++)this.replaceStack(function(r){var a=o.nameLookup(r,t[n],e);return i?[" && ",a]:[" != null ? ",a," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),o=n?[r.name," || "]:"",a=["("].concat(o,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),i&&(o.types[e]=i),r&&(o.ids[e]=r),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(e,t){for(var n=e.children,i=void 0,r=void 0,o=0,a=n.length;o<a;o++){i=n[o],r=new this.compiler;var s=this.matchExistingProgram(i);if(null==s){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=s.index,i.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof i||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof i)t=["(",n=[a.value]],o=!0;else{r=!0;var l=this.incrStack();t=["((",this.push(l)," = ",a,")"],n=this.topStack()}var c=e.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(t.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof i?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(e,t,n){var i={},r=[],o=[],a=[],s=!n,l=void 0;s&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var r=this.setupParams(e,t,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=r.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),r.isValidJavaScriptVariableName=function(e){return!r.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){if(o.isArray(e)){for(var i=[],r=0,a=e.length;r<a;r++)i.push(t.wrap(e[r],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function r(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var o=n(5),a=void 0;a||((a=function(e,t,n,i){this.src="",i&&this.add(i)}).prototype={add:function(e){o.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){o.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new a(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof a?e:(e=i(e,this,t),new a(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=i(e[n],this);"undefined"!==r&&t.push([this.quotedString(n),":",r])}var o=this.generateList(t);return o.prepend("{"),o.add("}"),o},generateList:function(e){for(var t=this.empty(),n=0,r=e.length;n<r;n++)n&&t.add(","),t.add(i(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=r,e.exports=t.default}])},e.exports=i()},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(478),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(187)),a=i(n(107)),s=n(28),l=i(n(547)),c=i(n(583)),u=n(584),d=i(n(585));n(589);var p=function(){function e(t){(0,r.default)(this,e),this.options=(0,l.default)({maxWidth:1/0,maxHeight:1/0,quality:100,downsamplingRatio:.5,maxMetaDataSize:1024e3},t),d.default.metaDataParsers.jpeg[65506]=[],d.default.metaDataParsers.jpeg[65506].push(function(e,t,n,i,r){var o=e.buffer.slice(t+18,t+n);o.byteLength>0&&(i.iccProfile?i.iccProfile=(0,c.default)(i.iccProfile,o):i.iccProfile=o)})}return(0,o.default)(e,[{key:"loadImage",value:function(e){var t=this;return new a.default(function(n,i){d.default.parseMetaData(e,function(i){var r=void 0;i.exif&&(r=i.exif.getAll());var o=void 0;if(i.iccProfile){for(var a=new s.Buffer(i.iccProfile.byteLength),l=new Uint8Array(i.iccProfile),c=0;c<a.length;c++)a[c]=l[c];o=(0,u.parse)(a)}(0,d.default)(e,function(a){a.toBlob(function(e){var t=[];i.imageHead?(t.push(i.imageHead),t.push(d.default.blobSlice.call(e,20))):t.push(e);var a=new Blob(t,{type:e.type});n({blob:a,profile:o,exif:r})},e.type,t.options.quality/100)},{maxWidth:t.options.maxWidth,maxHeight:t.options.maxHeight,downsamplingRatio:t.options.downsamplingRatio,canvas:!0})},{maxMetaDataSize:1024e3,disableImageHead:!1})})}}]),e}();t.default=p},function(e,t,n){var i=n(190);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var i=n(551),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){var i=n(104),r=n(66);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var i=n(105).Symbol;e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(8))},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(191),r=n(197);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(30)],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}(function(e){"use strict";var t=e.transform;e.transform=function(n,i,r,o,a){t.call(e,e.scale(n,i,a),i,r,o,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,i,r,o,a=t.aspectRatio;if(!a)return t;for(i in n={},t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n.crop=!0,(r=e.naturalWidth||e.width)/(o=e.naturalHeight||e.height)>a?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/a),n},e.renderImageToCanvas=function(e,t,n,i,r,o,a,s,l,c){return e.getContext("2d").drawImage(t,n,i,r,o,a,s,l,c),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,i){function r(){var e=Math.max((l||C)/C,(c||E)/E);e>1&&(C*=e,E*=e)}function o(){var e=Math.min((a||C)/C,(s||E)/E);e<1&&(C*=e,E*=e)}n=n||{};var a,s,l,c,u,d,p,h,m,f,g,v=document.createElement("canvas"),b=t.getContext||e.hasCanvasOption(n)&&v.getContext,y=t.naturalWidth||t.width,w=t.naturalHeight||t.height,C=y,E=w;if(b&&(p=(n=e.getTransformedOptions(t,n,i)).left||0,h=n.top||0,n.sourceWidth?(u=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(p=y-u-n.right)):u=y-p-(n.right||0),n.sourceHeight?(d=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(h=w-d-n.bottom)):d=w-h-(n.bottom||0),C=u,E=d),a=n.maxWidth,s=n.maxHeight,l=n.minWidth,c=n.minHeight,b&&a&&s&&n.crop?(C=a,E=s,(g=u/d-a/s)<0?(d=s*u/a,void 0===n.top&&void 0===n.bottom&&(h=(w-d)/2)):g>0&&(u=a*d/s,void 0===n.left&&void 0===n.right&&(p=(y-u)/2))):((n.contain||n.cover)&&(l=a=a||l,c=s=s||c),n.cover?(o(),r()):(r(),o())),b){if((m=n.pixelRatio)>1&&(v.style.width=C+"px",v.style.height=E+"px",C*=m,E*=m,v.getContext("2d").scale(m,m)),(f=n.downsamplingRatio)>0&&f<1&&C<u&&E<d)for(;u*f>C;)v.width=u*f,v.height=d*f,e.renderImageToCanvas(v,t,p,h,u,d,0,0,v.width,v.height),p=0,h=0,u=v.width,d=v.height,(t=document.createElement("canvas")).width=u,t.height=d,e.renderImageToCanvas(t,v,0,0,u,d,0,0,u,d);return v.width=C,v.height=E,e.transformCoordinates(v,n),e.renderImageToCanvas(v,t,p,h,u,d,0,0,C,E)}return t.width=C,t.height=E,t}})},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(30),n(67)],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var i,r,o;if(n&&!(t+n>e.byteLength)){for(i=[],r=0;r<n;r+=1)o=e.getUint8(t+r),i.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+i.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,i,r,o,a){var s,l,c,u,d,p,h=e.exifTagTypes[r];if(h){if(!((l=(s=h.size*o)>4?n+t.getUint32(i+8,a):i+8)+s>t.byteLength)){if(1===o)return h.getValue(t,l,a);for(c=[],u=0;u<o;u+=1)c[u]=h.getValue(t,l+u*h.size,a);if(h.ascii){for(d="",u=0;u<c.length&&"\0"!==(p=c[u]);u+=1)d+=p;return d}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},e.parseExifTag=function(t,n,i,r,o){var a=t.getUint16(i,r);o.exif[a]=e.getExifValue(t,n,i,t.getUint16(i+2,r),t.getUint32(i+4,r),r)},e.parseExifTags=function(e,t,n,i,r){var o,a,s;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(o=e.getUint16(n,i)))+4>e.byteLength)){for(s=0;s<o;s+=1)this.parseExifTag(e,t,n+2+12*s,i,r);return e.getUint32(a,i)}console.log("Invalid Exif data: Invalid directory size.")}},e.parseExifData=function(t,n,i,r,o){if(!o.disableExif){var a,s,l,c=n+10;if(1165519206===t.getUint32(n+4))if(c+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(n+8)){switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(c+2,a)?(s=t.getUint32(c+4,a),r.exif=new e.ExifMap,(s=e.parseExifTags(t,c,c+s,a,r))&&!o.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,c,c+s,a,l),l.exif[513]&&(r.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),r.exif[34665]&&!o.disableExifSub&&e.parseExifTags(t,c,c+r.exif[34665],a,r),r.exif[34853]&&!o.disableExifGps&&e.parseExifTags(t,c,c+r.exif[34853],a,r)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)})},function(e,t,n){e.exports={default:n(609),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(77),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(611)),o=i(n(615)),a=i(n(77));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=i(n(4)),o=i(n(5)),a=i(n(77)),s=i(n(129)),l=i(n(0)),c=i(n(246)),u=(i(n(131)),i(n(249)),i(n(132))),d=i(n(252)),p=i(n(13)),h=i(n(31)),m=i(n(274));n(275);var f=i(n(276));n(279),n(280),n(281);var g=i(n(159));n(282);var v=i(n(283)),b=i(n(285));n(287);var y=i(n(288));i(n(290)),n(291);var w=i(n(292)),C=i(n(294)),E=i(n(295)),x=i(n(297)),S=(i(n(301)),i(n(302))),_=i(n(393)),T=i(n(686));l.default.module("app",[p.default,c.default,u.default,d.default,g.default,f.default,m.default,b.default,y.default,C.default,w.default,E.default,x.default,v.default,"ui.grid.selection","ui.grid.infiniteScroll","ui.grid.cellNav","ui.grid.saveState","ui.grid.draggable-rows","ui.gravatar",S.default.name,_.default.name]).constant("appConfig",window.appConfig).directive("app",T.default).config(["$compileProvider","$stateProvider","$locationProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$httpProvider","$provide","$sceDelegateProvider","$sceProvider","$qProvider","$localeProvider","cfpLoadingBarProvider","tmhDynamicLocaleProvider","$mdDateLocaleProvider","$mdThemingProvider","$mdIconProvider","$authProvider","appConfig",function(e,t,n,i,r,o,l,c,u,d,p,m,f,g,v,b,y,w){"ngInject";e.preAssignBindingsEnabled(!0),e.debugInfoEnabled(!1),d.errorOnUnhandledRejections(!1),n.html5Mode(!0),i.otherwise("/404"),r.strictMode(!1),c.resourceUrlWhitelist(["self","http://localhost:*/**","https://*.s3.amazonaws.com/**",w.assistUrl+"/**"]),o.defaults.headers.delete={"Content-Type":"application/json;charset=utf-8"};var C=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/;o.defaults.transformResponse.push(function(e){return"object"===(void 0===e?"undefined":(0,a.default)(e))&&function e(t){(0,s.default)(t).forEach(function(n){if(t[n]){var i=t[n],r=void 0===i?"undefined":(0,a.default)(i);"object"===r?e(i):"string"===r&&C.test(i)&&(t[n]=new Date(i))}})}(e),e}),g.formatDate=function(e){return(0,h.default)(e).locale("en-gb").format("L LT")},g.parseDate=function(e){return new Date(e)};var E=v.extendPalette("grey",{50:"#ffffff"});v.definePalette("greyWithWhite",E),v.theme("default").primaryPalette("blue-grey").accentPalette("teal",{default:"500"}).warnPalette("red").backgroundPalette("greyWithWhite",{"hue-1":"50"}),b.fontSet("mdi","mdi"),m.includeSpinner=!1,f.localeLocationPattern("js/angular-i18n/angular-locale_{{locale}}.js"),f.defaultLocale("en-gb"),o.interceptors.push(["$q","$window","$injector",function(e,t,n){return{responseError:function(i){if(-1===[401,403].indexOf(i.status))return e.reject(i);var r=n.get("$mdDialog"),o=n.get("appConfig");console.error(i);var a=i.data.message||i.data.error&&i.data.error.message||i.data.error||i.data;return r.show(r.alert().title("Not Authorised").htmlContent("\n                <p>"+a+'</p>\n                <p>Please <a href="'+(t.location.origin+o.clientBasePath+o.slug)+'/logout" target="_blank">login</a> again.</p>\n              ').ok("Close")),e.reject(i)}}}]),y.google({scope:["profile","email","https://www.googleapis.com/auth/analytics.readonly"],optionalUrlParams:["access_type"],accessType:"offline"}),y.instagram({scope:["basic","public_content"]}),y.oauth2({name:"vimeo",authorizationEndpoint:"https://api.vimeo.com/oauth/authorize",scope:["public","private","video_files"],defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}}),y.oauth2({name:"stripe",authorizationEndpoint:"https://connect.stripe.com/oauth/authorize",scope:["read_write"],defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}})}]).run(["$rootScope","$state","$location","$window","$document","$http","$log","$injector","$q","$timeout","$transitions","tmhDynamicLocale","appConfig","ConfigFactory",function(e,t,n,i,a,s,c,u,d,p,h,m,f,g){"ngInject";var v=function(t){localStorage.setItem("apiToken",t),f.apiToken=t,e.apiToken=t,s.defaults.headers.common["X-Api-Token"]=t};v(n.search().apiToken||localStorage.getItem("apiToken"));var b,y=(b=(0,o.default)(r.default.mark(function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a[0].hidden&&!n){e.next=5;break}return e.next=3,s.get(f.apiUrl+"/token",{params:{expiresIn:7200}}).data.token;case 3:t=e.sent,v(t);case 5:p(y,36e5);case 6:case"end":return e.stop()}},e,void 0)})),function(){return b.apply(this,arguments)});e.slug=f.slug,e.clientBasePath=f.clientBasePath,e.assistUrl=f.assistUrl,e.assistCredentials=f.assistCredentials,e.apiUrl=f.apiUrl,e.$state=t,e.$location=n,e.$on("$localeChangeSuccess",function(e){}),m.set("en-gb"),t.defaultErrorHandler(function(e){c.error(e.detail),"dashboard"!==t.current().name&&t.go("dashboard")});var w=!1;h.onStart({to:"*"},function(n){var r=n.to().name,o=n.params("to");return w?!!function(t,n){if(e.$isSuperUser)return!0;var i=!0;return t.data&&t.data.permissions&&(l.default.isString(t.data.permissions)?t.data.permissions.split(","):t.data.permissions(n)).forEach(function(t){e.$permissions[t]||(i=!1)}),i}(r,o)||(t.go("dashboard"),!1):(g.loadConfig().then(function(n){n.slug===f.slug?(w=!0,e.assetSlug=n.assets&&n.assets.slug?n.assets.slug:f.slug,p(y,36e5),t.go(r,o)):i.location.href=f.clientBasePath+f.slug+"/logout"},function(){}),!1)}),h.onSuccess({to:"*"},function(e){t.previous=""===e.from().name?null:e.from(),t.previousParams=e.params("from")}),e.prevState=function(){t.go(t.previous,t.previousParams)}}])},function(e,t,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(209),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,o){var a=t&&t.prototype instanceof r?t:r,s=Object.create(a.prototype),l=new p(o||[]);return s._invoke=function(e,t,n){var r=S;return function(o,a){if(r===T)throw new Error("Generator is already running");if(r===A){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===k)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===S)throw r=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=T;var u=i(e,t,n);if("normal"===u.type){if(r=n.done?A:_,u.arg===k)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=A,n.method="throw",n.arg=u.arg)}}}(e,n,l),s}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=i(e[n],e,r);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&v.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},a)}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function c(e,t){var n=e.iterator[t.method];if(n===f){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=f,c(e,t),"throw"===t.method))return k;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,k;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=f),t.delegate=null,k):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,k)}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset(!0)}function h(e){if(e){var t=e[y];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=f,t.done=!0,t};return i.next=i}}return{next:m}}function m(){return{value:f,done:!0}}var f,g=Object.prototype,v=g.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},y=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",C=b.toStringTag||"@@toStringTag",E="object"==typeof e,x=t.regeneratorRuntime;if(x)E&&(e.exports=x);else{(x=t.regeneratorRuntime=E?e.exports:{}).wrap=n;var S="suspendedStart",_="suspendedYield",T="executing",A="completed",k={},$={};$[y]=function(){return this};var M=Object.getPrototypeOf,P=M&&M(M(h([])));P&&P!==g&&v.call(P,y)&&($=P);var R=a.prototype=r.prototype=Object.create($);o.prototype=R.constructor=a,a.constructor=o,a[C]=o.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,C in e||(e[C]="GeneratorFunction")),e.prototype=Object.create(R),e},x.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[w]=function(){return this},x.AsyncIterator=l,x.async=function(e,t,i,r){var o=new l(n(e,t,i,r));return x.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(R),R[C]="Generator",R[y]=function(){return this},R.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},x.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=f)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,i){return o.type="throw",o.arg=e,n.next=t,i&&(n.method="next",n.arg=f),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=v.call(r,"catchLoc"),s=v.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&v.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,k):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),k},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),k}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;d(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=f),k}}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports={default:n(211),__esModule:!0}},function(e,t,n){n(111),n(112),n(121),n(220),n(231),n(232),e.exports=n(9).Promise},function(e,t,n){var i=n(68),r=n(69);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(72),r=n(51),o=n(53),a={};n(26)(a,n(12)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(20),r=n(19),o=n(39);e.exports=n(22)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var i=n(33),r=n(118),o=n(216);e.exports=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var i=n(68),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t,n){"use strict";var i=n(218),r=n(219),o=n(38),a=n(33);e.exports=n(113)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var i,r,o,a,s=n(49),l=n(11),c=n(37),u=n(122),d=n(15),p=n(21),h=n(50),m=n(221),f=n(222),g=n(123),v=n(124).set,b=n(227)(),y=n(76),w=n(125),C=n(126),E=l.TypeError,x=l.process,S=l.Promise,_="process"==u(x),T=function(){},A=r=y.f,k=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(12)("species")]=function(e){e(T,T)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t}catch(e){}}(),$=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var i=e._v,r=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=r?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain;try{a?(r||(2==e._h&&O(e),e._h=1),!0===a?n=i:(c&&c.enter(),n=a(i),c&&c.exit()),n===t.promise?l(E("Promise-chain cycle")):(o=$(n))?o.call(n,s,l):s(n)):l(i)}catch(e){l(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){v.call(l,function(){var t,n,i,r=e._v,o=R(e);if(o&&(t=w(function(){_?x.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=_||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},O=function(e){v.call(l,function(){var t;_?x.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=$(e))?b(function(){var i={_w:n,_d:!1};try{t.call(e,c(N,i,1),c(D,i,1))}catch(e){D.call(i,e)}}):(n._v=e,n._s=1,M(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};k||(S=function(e){m(this,S,"Promise","_h"),h(e),i.call(this);try{e(c(N,this,1),c(D,this,1))}catch(e){D.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(228)(S.prototype,{then:function(e,t){var n=A(g(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=_?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(N,e,1),this.reject=c(D,e,1)},y.f=A=function(e){return e===S||e===a?new o(e):r(e)}),d(d.G+d.W+d.F*!k,{Promise:S}),n(53)(S,"Promise"),n(229)("Promise"),a=n(9).Promise,d(d.S+d.F*!k,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!k),"Promise",{resolve:function(e){return C(s&&this===a?S:this,e)}}),d(d.S+d.F*!(k&&n(230)(function(e){S.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=A(t),i=n.resolve,r=n.reject,o=w(function(){var n=[],o=0,a=1;f(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=A(t),i=n.reject,r=w(function(){f(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(37),r=n(223),o=n(224),a=n(19),s=n(118),l=n(225),c={},u={};(t=e.exports=function(e,t,n,d,p){var h,m,f,g,v=p?function(){return e}:l(e),b=i(n,d,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(h=s(e.length);h>y;y++)if((g=t?b(a(m=e[y])[0],m[1]):b(e[y]))===c||g===u)return g}else for(f=v.call(e);!(m=f.next()).done;)if((g=r(f,b,m.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t,n){var i=n(19);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(38),r=n(12)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(122),r=n(12)("iterator"),o=n(38);e.exports=n(9).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(11),r=n(124).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(40)(a);e.exports=function(){var e,t,n,c=function(){var i,r;for(l&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve();n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,p=document.createTextNode("");new o(c).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){var i=n(26);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){"use strict";var i=n(11),r=n(9),o=n(20),a=n(22),s=n(12)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:i[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(12)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(15),r=n(9),o=n(11),a=n(123),s=n(126);i(i.P+i.R,"Promise",{finally:function(e){var t=a(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i=n(15),r=n(76),o=n(125);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(234),__esModule:!0}},function(e,t,n){n(112),n(121),e.exports=n(78).f("iterator")},function(e,t,n){e.exports={default:n(236),__esModule:!0}},function(e,t,n){n(237),n(111),n(242),n(243),e.exports=n(9).Symbol},function(e,t,n){"use strict";var i=n(11),r=n(27),o=n(22),a=n(15),s=n(115),l=n(238).KEY,c=n(32),u=n(74),d=n(53),p=n(52),h=n(12),m=n(78),f=n(79),g=n(239),v=n(240),b=n(19),y=n(21),w=n(33),C=n(71),E=n(51),x=n(72),S=n(241),_=n(128),T=n(20),A=n(39),k=_.f,$=T.f,M=S.f,P=i.Symbol,R=i.JSON,O=R&&R.stringify,D=h("_hidden"),N=h("toPrimitive"),I={}.propertyIsEnumerable,L=u("symbol-registry"),F=u("symbols"),H=u("op-symbols"),j=Object.prototype,B="function"==typeof P,z=i.QObject,U=!z||!z.prototype||!z.prototype.findChild,q=o&&c(function(){return 7!=x($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=k(j,t);i&&delete j[t],$(e,t,n),i&&e!==j&&$(j,t,i)}:$,V=function(e){var t=F[e]=x(P.prototype);return t._k=e,t},G=B&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},W=function(e,t,n){return e===j&&W(H,t,n),b(e),t=C(t,!0),b(n),r(F,t)?(n.enumerable?(r(e,D)&&e[D][t]&&(e[D][t]=!1),n=x(n,{enumerable:E(0,!1)})):(r(e,D)||$(e,D,E(1,{})),e[D][t]=!0),q(e,t,n)):$(e,t,n)},K=function(e,t){b(e);for(var n,i=g(t=w(t)),r=0,o=i.length;o>r;)W(e,n=i[r++],t[n]);return e},Y=function(e){var t=I.call(this,e=C(e,!0));return!(this===j&&r(F,e)&&!r(H,e))&&(!(t||!r(this,e)||!r(F,e)||r(this,D)&&this[D][e])||t)},X=function(e,t){if(e=w(e),t=C(t,!0),e!==j||!r(F,t)||r(H,t)){var n=k(e,t);return!n||!r(F,t)||r(e,D)&&e[D][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=M(w(e)),i=[],o=0;n.length>o;)r(F,t=n[o++])||t==D||t==l||i.push(t);return i},J=function(e){for(var t,n=e===j,i=M(n?H:w(e)),o=[],a=0;i.length>a;)!r(F,t=i[a++])||n&&!r(j,t)||o.push(F[t]);return o};B||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===j&&t.call(H,n),r(this,D)&&r(this[D],e)&&(this[D][e]=!1),q(this,e,E(1,n))};return o&&U&&q(j,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),_.f=X,T.f=W,n(127).f=S.f=Z,n(55).f=Y,n(80).f=J,o&&!n(49)&&s(j,"propertyIsEnumerable",Y,!0),m.f=function(e){return V(h(e))}),a(a.G+a.W+a.F*!B,{Symbol:P});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)h(Q[ee++]);for(var te=A(h.store),ne=0;te.length>ne;)f(te[ne++]);a(a.S+a.F*!B,"Symbol",{for:function(e){return r(L,e+="")?L[e]:L[e]=P(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!B,"Object",{create:function(e,t){return void 0===t?x(e):K(x(e),t)},defineProperty:W,defineProperties:K,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),R&&a(a.S+a.F*(!B||c(function(){var e=P();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(y(t)||void 0!==e)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),i[1]=t,O.apply(R,i)}}),P.prototype[N]||n(26)(P.prototype,N,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){var i=n(52)("meta"),r=n(21),o=n(27),a=n(20).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(32)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,i)&&u(e),e}}},function(e,t,n){var i=n(39),r=n(80),o=n(55);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var i=n(40);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(33),r=n(127).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(i(e))}},function(e,t,n){n(79)("asyncIterator")},function(e,t,n){n(79)("observable")},function(e,t,n){n(245),e.exports=n(9).Object.keys},function(e,t,n){var i=n(54),r=n(39);n(130)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){n(247),e.exports="ngSanitize"},function(e,t){!function(e,t){"use strict";var n,i,r,o,a,s,l,c,u,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function p(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?a(r[n]):r[n]]=!0;return i}function h(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function m(e){return e.replace(/&/g,"&amp;").replace(b,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,r--)}var s=t.firstChild;s&&f(s),t=g("nextSibling",t)}}function g(e,t){var n=t[e];if(n&&l.call(t,n))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var v=!1;this.$get=["$$sanitizeUri",function(e){return v&&i(k,T),function(t){var n=[];return c(t,u(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(v=e,this):v},n=t.bind,i=t.extend,r=t.forEach,o=t.isDefined,a=t.lowercase,s=t.noop,c=function(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=O(e);if(!n)return"";var i=5;do{if(0===i)throw d("uinput","Failed to sanitize html because the input is unstable");i--,e=n.innerHTML,n=O(e)}while(e!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),h(r.attributes));break;case 3:t.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&t.end(r.nodeName.toLowerCase()),o=g("nextSibling",r))))for(;null==o&&(r=g("parentNode",r))!==n;)o=g("nextSibling",r),1===r.nodeType&&t.end(r.nodeName.toLowerCase());r=o}for(;r=n.firstChild;)n.removeChild(r)},u=function(e,t){var i=!1,o=n(e,e.push);return{start:function(e,n){e=a(e),!i&&A[e]&&(i=e),i||!0!==k[e]||(o("<"),o(e),r(n,function(n,i){var r=a(i),s="img"===e&&"src"===r||"background"===r;!0!==R[r]||!0===$[r]&&!t(n,s)||(o(" "),o(i),o('="'),o(m(n)),o('"'))}),o(">"))},end:function(e){e=a(e),i||!0!==k[e]||!0===w[e]||(o("</"),o(e),o(">")),e==i&&(i=!1)},chars:function(e){i||o(m(e))}}},l=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^#-~ |!])/g,w=p("area,br,col,hr,img,wbr"),C=p("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E=p("rp,rt"),x=i({},E,C),S=i({},C,p("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),_=i({},E,p("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=p("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=p("script,style"),k=i({},w,S,_,x),$=p("background,cite,href,longdesc,src,xlink:href,xml:base"),M=p("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),P=p("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),R=i({},$,P,M),O=function(e,t){var n;if(!t||!t.implementation)throw d("noinert","Can't create an inert html document");var i=((n=t.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return i.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',i.querySelector("svg")?(i.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',i.querySelector("svg img")?function(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}:function(e){return i.innerHTML=e,t.documentMode&&f(i),i}):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}}(e,e.document)}).info({angularVersion:"1.6.9"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,r=t.$$minErr("linky"),o=t.isDefined,a=t.isFunction,l=t.isObject,c=t.isString;return function(t,d,p){function h(e){var t,n;e&&y.push((t=e,u(n=[],s).chars(t),n.join("")))}if(null==t||""===t)return t;if(!c(t))throw r("notstring","Expected string but received: {0}",t);for(var m,f,g,v=a(p)?p:l(p)?function(){return p}:function(){return{}},b=t,y=[];m=b.match(n);)f=m[0],m[2]||m[4]||(f=(m[3]?"http://":"mailto:")+f),g=m.index,h(b.substr(0,g)),function(e,t){var n,i=v(e);for(n in y.push("<a "),i)y.push(n+'="'+i[n]+'" ');!o(d)||"target"in i||y.push('target="',d,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),h(t),y.push("</a>")}(f,m[0].replace(i,"")),b=b.substring(g+m[0].length);return h(b),e(y.join(""))}}])}(window,window.angular)},function(e,t){!function(e,t){"use strict";function n(e,t,n){if(!e)throw J("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(I(e)&&(e=e.join(" ")),I(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e,t,n){var i="";return e=I(e)?e:e&&B(e)&&e.length?e.split(/\s+/):[],N(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function o(e){if(e instanceof U)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===k)return e;break;default:return U(a(e))}if(e.nodeType===k)return U(e)}function a(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===k)return n}}function s(e){return function(t,n){n.addClass&&(function(e,t,n){N(t,function(t){e.addClass(t,n)})}(e,t,n.addClass),n.addClass=null),n.removeClass&&(function(e,t,n){N(t,function(t){e.removeClass(t,n)})}(e,t,n.removeClass),n.removeClass=null)}}function l(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||q;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=q},e.$$prepared=!0}return e}function c(e,t){u(e,t),d(e,t)}function u(e,t){t.from&&(e.css(t.from),t.from=null)}function d(e,t){t.to&&(e.css(t.to),t.to=null)}function p(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=function(e,t,n){function i(e){B(e)&&(e=e.split(" "));var t={};return N(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=i(e),t=i(t),N(t,function(e,t){r[t]=1}),n=i(n),N(n,function(e,t){r[t]=1===r[t]?null:-1});var o={addClass:"",removeClass:""};return N(r,function(t,n){var i,r;1===t?(i="addClass",r=!e[n]||e[n+M]):-1===t&&(i="removeClass",r=e[n]||e[n+$]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}(e.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=v(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==q?i.domOperation:null;return D(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function h(e){return e instanceof U?e[0]:e}function m(e,t){var n=t?"-"+t+"s":"";return g(e,[X,n]),[X,n]}function f(e,t){var n=t?"paused":"",i=T+W;return g(e,[i,n]),[i,n]}function g(e,t){var n=t[0],i=t[1];e.style[n]=i}function v(e,t){return e?t?e+" "+t:e:t}function b(e,t){return[t?K:X,e+"s"]}function y(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return N(n,function(e,t){var n,o,a=r[e];if(a){var s=a.charAt(0);("-"===s||"+"===s||s>=0)&&(n=0,o=a.split(/\s*,\s*/),N(o,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e}),a=n),0===a&&(a=null),i[t]=a}}),i}function w(e){return 0===e||null!=e}function C(e,t){var n=S,i=e+"s";return t?n+=V:i+=" linear all",[n,i]}function E(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function x(e,t,n){N(n,function(n){e[n]=L(e[n])?e[n]:t.style.getPropertyValue(n)})}var S,_,T,A,k=1,$="-add",M="-remove",P="ng-animate",R="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(S="WebkitTransition",_="webkitTransitionEnd transitionend"):(S="transition",_="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(T="WebkitAnimation",A="webkitAnimationEnd animationend"):(T="animation",A="animationend");var O,D,N,I,L,F,H,j,B,z,U,q,V="Duration",G="TimingFunction",W="PlayState",K=T+"Delay",Y=T+V,X=S+"Delay",Z=S+V,J=t.$$minErr("ng"),Q=["$interpolate",function(e){return{link:function(t,n,i){function r(e){e="on"===e||"true"===e,n.data(R,e)}var o=i.ngAnimateChildren;B(o)&&0===o.length?n.data(R,!0):(r(e(o)(t)),i.$observe("ngAnimateChildren",r))}}}],ee="$$animateCss",te=1e3,ne=3,ie=1.5,re={transitionDuration:Z,transitionDelay:X,transitionProperty:S+"Property",animationDuration:Y,animationDelay:K,animationIterationCount:T+"IterationCount"},oe={transitionDuration:Z,transitionDelay:X,animationDuration:Y,animationDelay:K},ae=["$animateProvider",function(e){var t=E(),n=E();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,o,a,p,v,E,k){function P(e,t){var n="$$ngAnimateParentKey",i=e.parentNode;return(i[n]||(i[n]=++F))+"-"+e.getAttribute("class")+"-"+t}function R(e){H.push(e),E.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=p(),i=0;i<H.length;i++)H[i](e);H.length=0})}function D(n,i,r){var o=function(n,i,r,o){var a=t.get(r);return a||"infinite"===(a=y(e,n,o)).animationIterationCount&&(a.animationIterationCount=1),t.put(r,a),a}(n,0,r,re),a=o.animationDelay,s=o.transitionDelay;return o.maxDelay=a&&s?Math.max(a,s):a||s,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}var L=s(i),F=0,H=[];return function(s,p){function E(){H()}function F(){H(!0)}function H(e){if(!(X||J&&Z)){X=!0,Z=!1,V.$$skipPreparationClasses||i.removeClass(s,Ce),i.removeClass(s,xe),f(K,!1),m(K,!1),N(de,function(e){K.style[e[0]]=""}),L(s,V),c(s,V),Object.keys(W).length&&N(W,function(e,t){e?K.style.setProperty(t,e):K.style.removeProperty(t)}),V.onDone&&V.onDone(),me&&me.length&&s.off(me.join(" "),z);var t=s.data(ee);t&&(a.cancel(t[0].timer),s.removeData(ee)),Q&&Q.complete(!e)}}function j(e){De.blockTransition&&m(K,e),De.blockKeyframeAnimation&&f(K,!!e)}function B(){return Q=new o({end:E,cancel:F}),R(q),H(),{$$willAnimate:!1,start:function(){return Q},end:E}}function z(e){e.stopPropagation();var t=e.originalEvent||e;if(t.target===K){var n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(ne));Math.max(n-ue,0)>=se&&i>=le&&(J=!0,H())}}function U(){function e(){if(!X){if(j(!1),N(de,function(e){var t=e[0],n=e[1];K.style[t]=n}),L(s,V),i.addClass(s,xe),De.recalculateTimingStyles){if(Ee=K.getAttribute("class")+" "+Ce,be=P(K,Ee),Pe=D(K,0,be),Re=Pe.maxDelay,ae=Math.max(Re,0),0===(le=Pe.maxDuration))return void H();De.hasTransitions=Pe.transitionDuration>0,De.hasAnimations=Pe.animationDuration>0}if(De.applyAnimationDelay&&(Re="boolean"!=typeof V.delay&&w(V.delay)?parseFloat(V.delay):Re,ae=Math.max(Re,0),Pe.animationDelay=Re,Oe=b(Re,!0),de.push(Oe),K.style[Oe[0]]=Oe[1]),se=ae*te,ce=le*te,V.easing){var e,n=V.easing;De.hasTransitions&&(e=S+G,de.push([e,n]),K.style[e]=n),De.hasAnimations&&(e=T+G,de.push([e,n]),K.style[e]=n)}Pe.transitionDuration&&me.push(_),Pe.animationDuration&&me.push(A),ue=Date.now();var r=se+ie*ce,o=ue+r,l=s.data(ee)||[],c=!0;if(l.length){var u=l[0];(c=o>u.expectedEndTime)?a.cancel(u.timer):l.push(H)}if(c){var p=a(t,r,!1);l[0]={timer:p,expectedEndTime:o},l.push(H),s.data(ee,l)}me.length&&s.on(me.join(" "),z),V.to&&(V.cleanupStyles&&x(W,K,Object.keys(V.to)),d(s,V))}}function t(){var e=s.data(ee);if(e){for(var t=1;t<e.length;t++)e[t]();s.removeData(ee)}}if(!X)if(K.parentNode){var n=function(e){if(J)Z&&e&&(Z=!1,H());else if(Z=!e,Pe.animationDuration){var t=f(K,Z);Z?de.push(t):(i=t,r=(n=de).indexOf(i),i>=0&&n.splice(r,1))}var n,i,r},r=$e>0&&(Pe.transitionDuration&&0===ye.transitionDuration||Pe.animationDuration&&0===ye.animationDuration)&&Math.max(ye.animationDelay,ye.transitionDelay);r?a(e,Math.floor(r*$e*te),!1):e(),re.resume=function(){n(!0)},re.pause=function(){n(!1)}}else H()}var V=p||{};V.$$prepared||(V=l(O(V)));var W={},K=h(s);if(!K||!K.parentNode||!k.enabled())return B();var X,Z,J,Q,re,ae,se,le,ce,ue,de=[],pe=s.attr("class"),he=function(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}(V),me=[];if(0===V.duration||!v.animations&&!v.transitions)return B();var fe=V.event&&I(V.event)?V.event.join(" "):V.event,ge="",ve="";fe&&V.structural?ge=r(fe,"ng-",!0):fe&&(ge=fe),V.addClass&&(ve+=r(V.addClass,$)),V.removeClass&&(ve.length&&(ve+=" "),ve+=r(V.removeClass,M)),V.applyClassesEarly&&ve.length&&L(s,V);var be,ye,we,Ce=[ge,ve].join(" ").trim(),Ee=pe+" "+Ce,xe=r(Ce,"-active"),Se=he.to&&Object.keys(he.to).length>0;if(!((V.keyframeStyle||"").length>0||Se||Ce))return B();if(V.stagger>0){var _e=parseFloat(V.stagger);ye={transitionDelay:_e,animationDelay:_e,transitionDuration:0,animationDuration:0}}else be=P(K,Ee),ye=function(o,a,s,l){var c;if(t.count(s)>0&&!(c=n.get(s))){var u=r(a,"-stagger");i.addClass(o,u),(c=y(e,o,l)).animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(o,u),n.put(s,c)}return c||{}}(K,Ce,be,oe);if(V.$$skipPreparationClasses||i.addClass(s,Ce),V.transitionStyle){var Te=[S,V.transitionStyle];g(K,Te),de.push(Te)}if(V.duration>=0){we=K.style[S].length>0;var Ae=C(V.duration,we);g(K,Ae),de.push(Ae)}if(V.keyframeStyle){var ke=[T,V.keyframeStyle];g(K,ke),de.push(ke)}var $e=ye?V.staggerIndex>=0?V.staggerIndex:t.count(be):0,Me=0===$e;Me&&!V.skipBlocking&&m(K,9999);var Pe=D(K,0,be),Re=Pe.maxDelay;ae=Math.max(Re,0),le=Pe.maxDuration;var Oe,De={};return De.hasTransitions=Pe.transitionDuration>0,De.hasAnimations=Pe.animationDuration>0,De.hasTransitionAll=De.hasTransitions&&"all"===Pe.transitionProperty,De.applyTransitionDuration=Se&&(De.hasTransitions&&!De.hasTransitionAll||De.hasAnimations&&!De.hasTransitions),De.applyAnimationDuration=V.duration&&De.hasAnimations,De.applyTransitionDelay=w(V.delay)&&(De.applyTransitionDuration||De.hasTransitions),De.applyAnimationDelay=w(V.delay)&&De.hasAnimations,De.recalculateTimingStyles=ve.length>0,(De.applyTransitionDuration||De.applyAnimationDuration)&&(le=V.duration?parseFloat(V.duration):le,De.applyTransitionDuration&&(De.hasTransitions=!0,Pe.transitionDuration=le,we=K.style[S+"Property"].length>0,de.push(C(le,we))),De.applyAnimationDuration&&(De.hasAnimations=!0,Pe.animationDuration=le,de.push([Y,le+"s"]))),0!==le||De.recalculateTimingStyles?(null!=V.delay&&("boolean"!=typeof V.delay&&(Oe=parseFloat(V.delay),ae=Math.max(Oe,0)),De.applyTransitionDelay&&de.push(b(Oe)),De.applyAnimationDelay&&de.push(b(Oe,!0))),null==V.duration&&Pe.transitionDuration>0&&(De.recalculateTimingStyles=De.recalculateTimingStyles||Me),se=ae*te,ce=le*te,V.skipBlocking||(De.blockTransition=Pe.transitionDuration>0,De.blockKeyframeAnimation=Pe.animationDuration>0&&ye.animationDelay>0&&0===ye.animationDuration),V.from&&(V.cleanupStyles&&x(W,K,Object.keys(V.from)),u(s,V)),De.blockTransition||De.blockKeyframeAnimation?j(le):V.skipBlocking||m(K,!1),{$$willAnimate:!0,end:E,start:function(){if(!X)return Q=new o(re={end:E,cancel:F,resume:null,pause:null}),R(U),Q}}):B()}}]}],se=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim",n="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,i,r,o,a,s,l){function c(e){return e.replace(/\bng-\S+\b/g,"")}function u(e,t){return B(e)&&(e=e.split(" ")),B(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function d(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=v(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!a.animations&&!a.transitions)return q;var p,m=l[0].body,f=h(o),g=U((p=f).parentNode&&11===p.parentNode.nodeType||m.contains(f)?f:m);return function(i){return i.from&&i.to?function(i,o,a,s){var l=d(i),p=d(o),f=[];if(N(s,function(i){var o=function(i,o,a){function s(e){var t={},n=h(e).getBoundingClientRect();return N(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=m.scrollTop;break;case"left":i+=m.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function l(e){return e.attr("class")||""}function d(){var t=c(l(a)),i=u(t,v),r=u(v,t),o=e(f,{to:s(a),addClass:"ng-anchor-in "+i,removeClass:n+" "+r,delay:!0});return o.$$willAnimate?o:null}function p(){f.remove(),o.removeClass(t),a.removeClass(t)}var f=U(h(o).cloneNode(!0)),v=c(l(f));o.addClass(t),a.addClass(t),f.addClass("ng-anchor"),g.append(f);var b,y,w=(y=e(f,{addClass:n,delay:!0,from:s(o)})).$$willAnimate?y:null;if(!w&&!(b=d()))return p();var C=w||b;return{start:function(){function e(){n&&n.end()}var t,n=C.start();return n.done(function(){if(n=null,!b&&(b=d()))return(n=b.start()).done(function(){n=null,p(),t.complete()}),n;p(),t.complete()}),t=new r({end:e,cancel:e})}}}(0,i.out,i.in);o&&f.push(o)}),l||p||0!==f.length)return{start:function(){function e(){N(t,function(e){e.end()})}var t=[];l&&t.push(l.start()),p&&t.push(p.start()),N(f,function(e){t.push(e.start())});var n=new r({end:e,cancel:e});return r.all(t,function(e){n.complete(e)}),n}}}(i.from,i.to,i.classes,i.anchors):d(i)}}]}],le=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){var r=s(i);return function(i,o,a,s){function u(){s.domOperation(),r(i,s)}function d(){m=!0,u(),c(i,s)}function p(e,t,i,r,o){var a=[];return N(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,l=function(e){a||(a=!0,(o||q)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=function(e,t,i,r,o){var a;switch(i){case"animate":a=[t,r.from,r.to,o];break;case"setClass":a=[t,w,C,o];break;case"addClass":a=[t,w,o];break;case"removeClass":a=[t,C,o];break;default:a=[t,o]}a.push(r);var s=e.apply(e,a);if(s)if(H(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(H(s))return s;return q}(s,e,t,i,function(e){l(!1===e)}),r})}),a}function h(e,t,i,r,o){var a,s,l=p(e,t,i,r,o);if(0===l.length&&("beforeSetClass"===o?(a=p(e,"removeClass",i,r,"beforeRemoveClass"),s=p(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(a=p(e,"removeClass",i,r,"removeClass"),s=p(e,"addClass",i,r,"addClass")),a&&(l=l.concat(a)),s&&(l=l.concat(s))),0!==l.length)return function(e){var t=[];return l.length&&N(l,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){N(t,function(t){e?t.cancel():t.end()})}}}var m=!1;3===arguments.length&&j(a)&&(s=a,a=null),s=l(s),a||(a=i.attr("class")||"",s.addClass&&(a+=" "+s.addClass),s.removeClass&&(a+=" "+s.removeClass));var f,g,v,b,y,w=s.addClass,C=s.removeClass,E=function(n){n=I(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}(a);if(E.length&&("leave"===o?(b="leave",v="afterLeave"):(b="before"+o.charAt(0).toUpperCase()+o.substr(1),v=o),"enter"!==o&&"move"!==o&&(f=h(i,o,s,E,b)),g=h(i,o,s,E,v)),f||g)return{$$willAnimate:!0,end:function(){return y?y.end():(d(),(y=new n).complete(!0)),y},start:function(){function e(e){d(),y.complete(e)}function t(t){m||((i||q)(t),e(t))}if(y)return y;var i;y=new n;var r=[];return f&&r.push(function(e){i=f(e)}),r.length?r.push(function(e){u(),e(!0)}):u(),g&&r.push(function(e){i=g(e)}),y.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(r,e),y}}}}]}],ce=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){function e(){return function(){N(n,function(e){e.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),t.all(n,function(e){o.complete(e)});var o=new t({end:e(),cancel:e()});return o}}}return n(e)}}]}],ue="data-ng-animate",de="$ngAnimatePin",pe=["$animateProvider",function(t){function i(e,t){if(e&&t){var n=function(e){if(!e)return null;var t=e.split(m),n=Object.create(null);return N(t,function(e){n[e]=!0}),n}(t);return e.split(m).some(function(e){return n[e]})}}function u(e,t,n){return f[e].some(function(e){return e(t,n)})}function d(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var m=" ",f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(e,t){return!e.structural&&d(e)}),f.skip.push(function(e,t){return!e.structural&&!d(e)}),f.skip.push(function(e,t){return"leave"===t.event&&e.structural}),f.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),f.cancel.push(function(e,t){return t.structural&&e.structural}),f.cancel.push(function(e,t){return 2===t.state&&e.structural}),f.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,r=e.removeClass,o=t.addClass,a=t.removeClass;return!(z(n)&&z(r)||z(o)&&z(a))&&(i(n,a)||i(r,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,m,f,g,b,y,w,C,E,x,S){function _(e,t){return p(e,t,{})}function T(e,t,n){var i=a(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function A(e,t){"close"!==e||t.parentNode||ne.off(t)}function P(e){e.removeAttribute(ue),q.delete(e)}function H(e,t,n){(n=n||{}).state=t,e.setAttribute(ue,t);var i=q.get(e),r=i?D(i,n):n;q.set(e,r)}var q=new b,V=new b,G=null,W=m.$watch(function(){return 0===C.totalPendingRequests},function(e){e&&(W(),m.$$postDigest(function(){m.$$postDigest(function(){null===G&&(G=!0)})}))}),K=Object.create(null),Y=t.customFilter(),X=t.classNameFilter(),Z=function(){return!0},J=Y||Z,Q=X?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return X.test(n)}:Z,ee=s(E),te=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},ne={on:function(e,t,n){var i=a(t);K[e]=K[e]||[],K[e].push({node:i,callback:n}),U(t).on("$destroy",function(){q.get(i)||ne.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||B(arguments[0])){var i=K[e];i&&(K[e]=1===arguments.length?null:T(i,t,n))}else for(var r in t=arguments[0],K)K[r]=T(K[r],t)},pin:function(e,t){n(F(e),"element","not an element"),n(F(t),"parentElement","not an element"),e.data(de,t)},push:function(e,t,n,a){return(n=n||{}).domOperation=a,function(e,t,n){function a(e,t,n,r){F(function(){var e=function(e,t,n){var i=[],r=K[n];return r&&N(r,function(r){te.call(r.node,t)?i.push(r.callback):"leave"===n&&te.call(r.node,e)&&i.push(r.callback)}),i}(x,E,t);e.length?i(function(){N(e,function(e){e(C,n,r)}),A(n,E)}):A(n,E)}),e.progress(t,n,r)}function s(e){!function(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}(C,b),ee(C,b),c(C,b),b.domOperation(),D.complete(!e)}var b=O(n),C=o(e),E=h(C),x=E&&E.parentNode;b=l(b);var T,D=new w,F=(T=!1,function(e){T?e():m.$$postDigest(function(){T=!0,e()})});if(I(b.addClass)&&(b.addClass=b.addClass.join(" ")),b.addClass&&!B(b.addClass)&&(b.addClass=null),I(b.removeClass)&&(b.removeClass=b.removeClass.join(" ")),b.removeClass&&!B(b.removeClass)&&(b.removeClass=null),b.from&&!j(b.from)&&(b.from=null),b.to&&!j(b.to)&&(b.to=null),!(G&&E&&J(E,t,n)&&Q(E,b)))return s(),D;var W=["enter","move","leave"].indexOf(t)>=0,Y=S(),X=Y||V.get(E),Z=!X&&q.get(E)||{},ne=!!Z.state;if(X||ne&&1===Z.state||(X=!function(e,t,n){var i,r=g[0].body,o=h(f),a=e===r||"HTML"===e.nodeName,s=e===o,l=!1,c=V.get(e),u=U.data(e,de);for(u&&(t=h(u));t&&(s||(s=t===o),t.nodeType===k);){var d=q.get(t)||{};if(!l){var p=V.get(t);if(!0===p&&!1!==c){c=!0;break}!1===p&&(c=!1),l=d.structural}if(z(i)||!0===i){var m=U.data(t,R);L(m)&&(i=m)}if(l&&!1===i)break;if(a||(a=t===r),a&&s)break;t=s||!(u=U.data(t,de))?t.parentNode:h(u)}return(!l||i)&&!0!==c&&s&&a}(E,x)),X)return Y&&a(D,t,"start"),s(),Y&&a(D,t,"close"),D;W&&function(e){var t=e.querySelectorAll("["+ue+"]");N(t,function(e){var t=parseInt(e.getAttribute(ue),10),n=q.get(e);if(n)switch(t){case 2:n.runner.end();case 1:q.delete(e)}})}(E);var ie={structural:W,element:C,event:t,addClass:b.addClass,removeClass:b.removeClass,close:s,options:b,runner:D};if(ne){if(u("skip",ie,Z))return 2===Z.state?(s(),D):(p(C,Z,ie),Z.runner);if(u("cancel",ie,Z))if(2===Z.state)Z.runner.end();else{if(!Z.structural)return p(C,Z,ie),Z.runner;Z.close()}else{if(u("join",ie,Z)){if(2!==Z.state)return function(e,t,n){var i="";t&&(i=r(t,"ng-",!0)),n.addClass&&(i=v(i,r(n.addClass,$))),n.removeClass&&(i=v(i,r(n.removeClass,M))),i.length&&(n.preparationClasses=i,e.addClass(i))}(C,W?t:null,b),t=ie.event=Z.event,b=p(C,Z,ie),Z.runner;_(C,ie)}}}else _(C,ie);var re=ie.structural;if(re||(re="animate"===ie.event&&Object.keys(ie.options.to||{}).length>0||d(ie)),!re)return s(),P(E),D;var oe=(Z.counter||0)+1;return ie.counter=oe,H(E,1,ie),m.$$postDigest(function(){C=o(e);var n=q.get(E),i=!n;n=n||{};var r=(C.parent()||[]).length>0&&("animate"===n.event||n.structural||d(n));if(i||n.counter!==oe||!r)return i&&(ee(C,b),c(C,b)),(i||W&&n.event!==t)&&(b.domOperation(),D.end()),void(r||P(E));t=!n.structural&&d(n,!0)?"setClass":n.event,H(E,2);var l=y(C,t,n.options);D.setHost(l),a(D,t,"start",{}),l.done(function(e){s(!e);var n=q.get(E);n&&n.counter===oe&&P(E),a(D,t,"close",{})})}),D}(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!G;else if(F(e)){var i=h(e);1===n?t=!V.get(i):V.set(i,!t)}else t=G=!!e;return t}};return ne}]}],he=["$animateProvider",function(e){function t(e){return e.data(o)}var n="ng-animate-ref",r=this.drivers=[],o="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,a,u,d,p,m){var f=[],g=s(e);return function(s,v,b){function y(){var e=t(s);!e||"leave"===v&&b.$$domOperationFired||e.end()}function w(t){s.off("$destroy",y),function(e){e.removeData(o)}(s),g(s,b),c(s,b),b.domOperation(),_&&e.removeClass(s,_),s.removeClass(P),E.complete(!t)}b=l(b);var C=["enter","move","leave"].indexOf(v)>=0,E=new d({end:function(){w()},cancel:function(){w(!0)}});if(!r.length)return w(),E;!function(e,t){e.data(o,t)}(s,E);var x,S=i(s.attr("class"),i(b.addClass,b.removeClass)),_=b.tempClasses;return _&&(S+=" "+_,b.tempClasses=null),C&&(x="ng-"+v+"-prepare",e.addClass(s,x)),f.push({element:s,classes:S,event:v,structural:C,options:b,beforeStart:function(){s.addClass(P),_&&e.addClass(s,_),x&&(e.removeClass(s,x),x=null)},close:w}),s.on("$destroy",y),f.length>1?E:(a.$$postDigest(function(){var e=[];N(f,function(n){t(n.element)?e.push(n):n.close()}),f.length=0;var i=function(e){var t=[],i={};N(e,function(e,r){var o=e.element,a=h(o),s=e.event,l=["enter","move"].indexOf(s)>=0,c=e.structural?function(e){var t=e.hasAttribute(n)?[e]:e.querySelectorAll("[ng-animate-ref]"),i=[];return N(t,function(e){var t=e.getAttribute(n);t&&t.length&&i.push(e)}),i}(a):[];if(c.length){var u=l?"to":"from";N(c,function(e){var t=e.getAttribute(n);i[t]=i[t]||{},i[t][u]={animationID:r,element:U(e)}})}else t.push(e)});var r={},o={};return N(i,function(n,i){var a=n.from,s=n.to;if(a&&s){var l=e[a.animationID],c=e[s.animationID],u=a.animationID.toString();if(!o[u]){var d=o[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}(l.classes,c.classes),from:l,to:c,anchors:[]};d.classes.length?t.push(d):(t.push(l),t.push(c))}o[u].anchors.push({out:a.element,in:s.element})}else{var p=a?a.animationID:s.animationID,h=p.toString();r[h]||(r[h]=!0,t.push(e[p]))}}),t}(e),o=[];N(i,function(e){o.push({domNode:h(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var n,i=e.close;if(t(e.anchors?e.from.element||e.to.element:e.element)){var o=function(e){for(var t=r.length-1;t>=0;t--){var n=r[t],i=u.get(n),o=i(e);if(o)return o}}(e);o&&(n=o.start)}if(n){var a=n();a.done(function(e){i(!e)}),function(e,n){function i(e){var i=t(e);i&&i.setHost(n)}e.from&&e.to?(i(e.from.element),i(e.to.element)):i(e.element)}(e,a)}else i()}})}),m(function(e){function t(e){if(e.processed)return e;e.processed=!0;var n,o=e.domNode,a=o.parentNode;for(r.set(o,e);a;){if(n=r.get(a)){n.processed||(n=t(n));break}a=a.parentNode}return(n||i).children.push(e),e}var n,i={children:[]},r=new p;for(n=0;n<e.length;n++){var o=e[n];r.set(o.domNode,e[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,a=[];for(t=0;t<i.length;t++){var s=i[t];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,i.push(e)}),r--}return a.length&&n.push(a),n}(i)}(o))}),E)}}]}];t.module("ngAnimate",[],function(){q=t.noop,O=t.copy,D=t.extend,U=t.element,N=t.forEach,I=t.isArray,B=t.isString,j=t.isObject,z=t.isUndefined,L=t.isDefined,H=t.isFunction,F=t.isElement}).info({angularVersion:"1.6.9"}).directive("ngAnimateSwap",["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i.for,function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",Q).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}]).provider("$$animateQueue",pe).provider("$$animation",he).provider("$animateCss",ae).provider("$$animateCssDriver",se).provider("$$animateJs",le).provider("$$animateJsDriver",ce)}(window,window.angular)},function(e,t,n){n(250),e.exports="ngTouch"},function(e,t){!function(e,t){"use strict";function n(e,n){var i=!1,r=!1;this.ngClickOverrideEnabled=function(a){return t.isDefined(a)?(a&&!r&&(r=!0,o.$$moduleName="ngTouch",n.directive("ngClick",o),e.decorator("ngClickDirective",["$delegate",function(e){if(i)e.shift();else for(var t=e.length-1;t>=0;){if("ngTouch"===e[t].$$moduleName){e.splice(t,1);break}t--}return e}])),i=a,this):i},this.$get=function(){return{ngClickOverrideEnabled:function(){return i}}}}function i(e,n,i){r.directive(e,["$parse","$swipe",function(r,o){return function(a,s,l){var c,u,d=r(l[e]),p=["touch"];t.isDefined(l.ngSwipeDisableMouse)||p.push("mouse"),o.bind(s,{start:function(e,t){c=e,u=!0},cancel:function(e){u=!1},end:function(e,t){(function(e){if(!c)return!1;var t=Math.abs(e.y-c.y),i=(e.x-c.x)*n;return u&&t<75&&i>0&&i>30&&t/i<.3})(e)&&a.$apply(function(){s.triggerHandler(i),d(a,{$event:t})})}},p)}}])}var r=t.module("ngTouch",[]);r.info({angularVersion:"1.6.9"}),r.provider("$touch",n),n.$inject=["$provide","$compileProvider"],r.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=t.changedTouches&&t.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}var i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(t,i,r){var o,a,s,l,c=!1;r=r||["mouse","touch","pointer"],t.on(n(r,"start"),function(t){s=e(t),c=!0,o=0,a=0,l=s,i.start&&i.start(s,t)});var u=n(r,"cancel");u&&t.on(u,function(e){c=!1,i.cancel&&i.cancel(e)}),t.on(n(r,"move"),function(t){if(c&&s){var n=e(t);if(o+=Math.abs(n.x-l.x),a+=Math.abs(n.y-l.y),l=n,!(o<10&&a<10))return a>o?(c=!1,void(i.cancel&&i.cancel(t))):(t.preventDefault(),void(i.move&&i.move(n,t)))}}),t.on(n(r,"end"),function(t){c&&(c=!1,i.end&&i.end(e(t),t))})}}}]);var o=["$parse","$timeout","$rootElement",function(e,n,i){function r(e,t,n){for(var i=0;i<e.length;i+=2)if(r=e[i],o=e[i+1],a=t,s=n,Math.abs(r-a)<d&&Math.abs(o-s)<d)return e.splice(i,i+2),!0;var r,o,a,s;return!1}function o(e){if(!(Date.now()-s>u)){var n,i=e.touches&&e.touches.length?e.touches:[e],o=i[0].clientX,a=i[0].clientY;o<1&&a<1||c&&c[0]===o&&c[1]===a||(c&&(c=null),"label"===(n=e.target,t.lowercase(n.nodeName||n[0]&&n[0].nodeName))&&(c=[o,a]),r(l,o,a)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function a(e){var t=e.touches&&e.touches.length?e.touches:[e],i=t[0].clientX,r=t[0].clientY;l.push(i,r),n(function(){for(var e=0;e<l.length;e+=2)if(l[e]===i&&l[e+1]===r)return void l.splice(e,e+2)},u,!1)}var s,l,c,u=2500,d=25,p="ng-click-active";return function(n,c,u){function d(){b=!1,c.removeClass(p)}var h,m,f,g,v=e(u.ngClick),b=!1;c.on("touchstart",function(e){b=!0,3===(h=e.target?e.target:e.srcElement).nodeType&&(h=h.parentNode),c.addClass(p),m=Date.now();var t=e.originalEvent||e,n=(t.touches&&t.touches.length?t.touches:[t])[0];f=n.clientX,g=n.clientY}),c.on("touchcancel",function(e){d()}),c.on("touchend",function(e){var n=Date.now()-m,p=e.originalEvent||e,v=(p.changedTouches&&p.changedTouches.length?p.changedTouches:p.touches&&p.touches.length?p.touches:[p])[0],y=v.clientX,w=v.clientY,C=Math.sqrt(Math.pow(y-f,2)+Math.pow(w-g,2));b&&n<750&&C<12&&(function(e,t){l||(i[0].addEventListener("click",o,!0),i[0].addEventListener("touchstart",a,!0),l=[]),s=Date.now(),r(l,e,t)}(y,w),h&&h.blur(),t.isDefined(u.disabled)&&!1!==u.disabled||c.triggerHandler("click",[e])),d()}),c.onclick=function(e){},c.on("click",function(e,t){n.$apply(function(){v(n,{$event:t||e})})}),c.on("mousedown",function(e){c.addClass(p)}),c.on("mousemove mouseup",function(e){c.removeClass(p)})}}];i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular)},function(e,t){!function(e,t){"use strict";var n=t.module("ngAria",["ng"]).info({angularVersion:"1.6.9"}).provider("$aria",function(){function e(e,t,i,o){return function(a,s,l){var c=l.$normalize(t);!n[c]||r(s,i)||l[c]||a.$watch(l[e],function(e){e=o?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],r=function(e,t){if(-1!==t.indexOf(e[0].nodeName))return!0};n.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,o,a){return e.config(n)&&!o.attr(t)&&(a||!r(o,i))}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&!r(t,i)}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,r){var o=function(e,t){var n=e.type,i=e.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}(r);return{post:function(i,r,a,s){function l(){return s.$modelValue}var c=t("tabindex","tabindex",r,!1);switch(o){case"radio":case"checkbox":n(o,r)&&r.attr("role",o),t("aria-checked","ariaChecked",r,!1)&&i.$watch(l,"radio"===o?function(e){var t=a.value==s.$viewValue;r.attr("aria-checked",t)}:function(){r.attr("aria-checked",!s.$isEmpty(s.$viewValue))}),c&&r.attr("tabindex",0);break;case"range":if(n(o,r)&&r.attr("role","slider"),e.config("ariaValue")){var u=!r.attr("aria-valuemin")&&(a.hasOwnProperty("min")||a.hasOwnProperty("ngMin")),d=!r.attr("aria-valuemax")&&(a.hasOwnProperty("max")||a.hasOwnProperty("ngMax")),p=!r.attr("aria-valuenow");u&&a.$observe("min",function(e){r.attr("aria-valuemin",e)}),d&&a.$observe("max",function(e){r.attr("aria-valuemax",e)}),p&&i.$watch(l,function(e){r.attr("aria-valuenow",e)})}c&&r.attr("tabindex",0)}!a.hasOwnProperty("ngRequired")&&s.$validators.required&&t("aria-required","ariaRequired",r,!1)&&a.$observe("required",function(){r.attr("aria-required",!!a.required)}),t("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return s.$invalid},function(e){r.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,i){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,o){var a=t(o.ngClick);return function(t,n,o){r(n,i)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!e.config("bindKeydown")||o.ngKeydown||o.ngKeypress||o.ngKeyup||n.on("keydown",function(e){var n=e.which||e.keyCode;32!==n&&13!==n||t.$apply(function(){a(t,{$event:e})})}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,o){!e.config("tabindex")||n.attr("tabindex")||r(n,i)||n.attr("tabindex",0)}}])}(window,window.angular)},function(e,t,n){n(253),e.exports="ngMessages"},function(e,t){!function(e,t){"use strict";function n(){return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,n,i,o,a){var s,l,c,u=n[0],d=i.ngMessage||i.when,p=i.ngMessageExp||i.whenExp,h=function(e){s=e?r(e)?e:e.split(/[\s,]+/):null,o.reRender()};p?(h(t.$eval(p)),t.$watchCollection(p,h)):h(d),o.register(u,c={test:function(e){return function(e,t){if(e)return r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}(s,e)},attach:function(){l||a(function(t,i){e.enter(t,null,n);var r=(l=t).$$attachId=o.getAttachId();l.on("$destroy",function(){l&&l.$$attachId===r&&(o.deregister(u),c.detach()),i.$destroy()})})},detach:function(){if(l){var t=l;l=null,e.leave(t)}}}),t.$on("$destroy",function(){o.deregister(u)})}}}]}var i,r,o,a;t.module("ngMessages",[],function(){i=t.forEach,r=t.isArray,o=t.isString,a=t.element}).info({angularVersion:"1.6.9"}).directive("ngMessages",["$animate",function(e){function t(e,t){return o(t)&&0===t.length||n(e.$eval(t))}function n(e){return o(e)?e.length:!!e}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,o,a){function s(e,t){for(var n=t,i=[];n&&n!==e;){var r=n.$$ngMessageNode;if(r&&r.length)return h[r];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}var l=this,c=0,u=0;this.getAttachId=function(){return u++};var d,p,h=this.messages={};this.render=function(s){d=!1,p=s=s||{};for(var c=t(o,a.ngMessagesMultiple)||t(o,a.multiple),u=[],h={},m=l.head,f=!1,g=0;null!=m;){g++;var v=m.message,b=!1;f||i(s,function(e,t){if(!b&&n(e)&&v.test(t)){if(h[t])return;h[t]=!0,b=!0,v.attach()}}),b?f=!c:u.push(v),m=m.next}i(u,function(e){e.detach()}),u.length!==g?e.setClass(r,"ng-active","ng-inactive"):e.setClass(r,"ng-inactive","ng-active")},o.$watchCollection(a.ngMessages||a.for,l.render),this.reRender=function(){d||(d=!0,o.$evalAsync(function(){d&&p&&l.render(p)}))},this.register=function(e,t){var n=c.toString();h[n]={message:t},function(e,t,n){var i=h[n];if(l.head){var r=s(e,t);r?(i.next=r.next,r.next=i):(i.next=l.head,l.head=i)}else l.head=i}(r[0],e,n),e.$$ngMessageNode=n,c++,l.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,function(e,t,n){var i=h[n];if(i){var r=s(e,t);r?r.next=i.next:l.head=i.next}}(r[0],e,t),delete h[t],l.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){function i(e,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):t[0].createComment(" ngMessagesInclude: "+i+" "),o=a(r);e.after(o),e.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,r,a){var s=a.ngMessagesInclude||a.src;e(s).then(function(e){t.$$destroyed||(o(e)&&!e.trim()?i(r,s):n(e)(t,function(e){r.after(e),i(r,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(14)),i(n(255)),i(n(256)),i(n(137)),i(n(257)),i(n(267)),i(n(268)),i(n(269)),i(n(148)),i(n(143)),i(n(270)),i(n(273))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(36)),i(n(135)),i(n(136)),i(n(86))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(85)),i(n(57))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(138)),i(n(81)),i(n(139)),i(n(140)),i(n(141)),i(n(142)),i(n(35))},function(e,t,n){"use strict";function i(e){e.addResolvable(a.Resolvable.fromData(o.UIRouter,e.router),""),e.addResolvable(a.Resolvable.fromData(r.Transition,e),""),e.addResolvable(a.Resolvable.fromData("$transition$",e),""),e.addResolvable(a.Resolvable.fromData("$stateParams",e.params()),""),e.entering().forEach(function(t){e.addResolvable(a.Resolvable.fromData("$state$",t),t)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),o=n(143),a=n(137),s=n(14);t.registerAddCoreResolvables=function(e){return e.onCreate({},i)};var l=["$transition$",r.Transition],c=s.inArray(l);t.treeChangesCleanup=function(e){var t=function(e){return c(e.token)?a.Resolvable.fromData(e.token,null):e};s.values(e.treeChanges()).reduce(s.unnestR,[]).reduce(s.uniqR,[]).forEach(function(e){e.resolvables=e.resolvables.map(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=n(10),o=n(35),a=function(e){function t(t){if(t)return t instanceof o.TargetState?t:i.isString(t)?a.target(t,e.params(),e.options()):t.state||t.params?a.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}var n=e.to().redirectTo;if(n){var a=e.router.stateService;return i.isFunction(n)?r.services.$q.when(n(e)).then(t):t(n)}};t.registerRedirectToHook=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},a)}},function(e,t,n){"use strict";function i(e){return function(t,n){return(0,n.$$state()[e])(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var r=i("onExit");t.registerOnExitHook=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},r)};var o=i("onRetain");t.registerOnRetainHook=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},o)};var a=i("onEnter");t.registerOnEnterHook=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(58),o=n(7);t.RESOLVE_HOOK_PRIORITY=1e3;var a=function(e){return new r.ResolveContext(e.treeChanges().to).resolvePath("EAGER",e).then(i.noop)};t.registerEagerResolvePath=function(e){return e.onStart({},a,{priority:t.RESOLVE_HOOK_PRIORITY})};var s=function(e,t){return new r.ResolveContext(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(i.noop)};t.registerLazyResolveState=function(e){return e.onEnter({entering:o.val(!0)},s,{priority:t.RESOLVE_HOOK_PRIORITY})};var l=function(e){return new r.ResolveContext(e.treeChanges().to).resolvePath("LAZY",e).then(i.noop)};t.registerResolveRemaining=function(e){return e.onFinish({},l,{priority:t.RESOLVE_HOOK_PRIORITY})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(10),o=function(e){var t=r.services.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(i.noop)};t.registerLoadEnteringViews=function(e){return e.onFinish({},o)};var a=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var i=e.router.viewService;n.forEach(function(e){return i.deactivateViewConfig(e)}),t.forEach(function(e){return i.activateViewConfig(e)}),i.sync()}};t.registerActivateViews=function(e){return e.onSuccess({},a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){var t=e.router.globals,n=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,i.copy(e.params(),t.params)},{priority:1e4}),e.promise.then(n,n)};t.registerUpdateGlobalState=function(e){return e.onCreate({},r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=e.options(),n=e.router.stateService,i=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var r={replace:"replace"===t.location};i.push(n.$current.navigable.url,n.params,r)}i.update(!0)};t.registerUpdateUrl=function(e){return e.onSuccess({},i,{priority:9999})}},function(e,t,n){"use strict";function i(e){var t=e._ignoredReason();if(t){r.trace.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),o.Rejection.ignored().toPromise()}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=n(41);t.registerIgnoredTransitionHook=function(e){return e.onBefore({},i,{priority:-9999})}},function(e,t,n){"use strict";function i(e){if(!e.valid())throw new Error(e.error())}Object.defineProperty(t,"__esModule",{value:!0}),t.registerInvalidTransitionHook=function(e){return e.onBefore({},i,{priority:-1e4})}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(34)),i(n(133)),i(n(84)),i(n(41)),i(n(56)),i(n(42)),i(n(151)),i(n(87))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(59)),i(n(144)),i(n(145)),i(n(146)),i(n(149))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(147))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(271))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(152)),i(n(153)),i(n(60)),i(n(154)),i(n(155)),i(n(156)),i(n(157)),i(n(158)),i(n(88)),i(n(272))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(158),r=n(154),o=n(88),a=n(156),s=n(155),l=n(157),c=n(153),u=n(152),d=n(10);t.servicesPlugin=function(e){return d.services.$injector=c.$injector,d.services.$q=u.$q,{name:"vanilla.services",$q:u.$q,$injector:c.$injector,dispose:function(){return null}}},t.hashLocationPlugin=o.locationPluginFactory("vanilla.hashBangLocation",!1,r.HashLocationService,i.BrowserLocationConfig),t.pushStateLocationPlugin=o.locationPluginFactory("vanilla.pushStateLocation",!0,a.PushStateLocationService,i.BrowserLocationConfig),t.memoryLocationPlugin=o.locationPluginFactory("vanilla.memoryLocation",!1,s.MemoryLocationService,l.MemoryLocationConfig)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.dispose=function(e){},e}();t.UIRouterPluginBase=i},function(e,t,n){var i,r,o;!function(){"use strict";function a(e){return angular.isUndefined(e)||null===e}function s(e,t){return void 0===t&&(t=function(){try{return n(31)}catch(e){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}()),e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(t,n,i,r){return function(o,s,l){function c(){var e;if(m)e=m;else if(r.serverTime){var t=(new Date).getTime()-C+r.serverTime;e=n(t)}else e=n();return e}function u(){f&&(t.clearTimeout(f),f=null)}function d(e){x&&s.attr("datetime",e)}function p(){if(u(),h){var e=i.preprocessDate(h);!function e(n){var i=c().diff(n,w),r=b&&i>=b;if(r?s.text(n.format(y)):s.text(n.from(c(),g)),v&&S&&s.attr("title",n.format(v)),!r){var o=Math.abs(c().diff(n,"minute")),a=3600;o<1?a=1:o<60?a=30:o<180&&(a=300),f=t.setTimeout(function(){e(n)},1e3*a)}}(e),d(e.toISOString())}}var h,m,f=null,g=r.withoutSuffix,v=r.titleFormat,b=r.fullDateThreshold,y=r.fullDateFormat,w=r.fullDateThresholdUnit,C=(new Date).getTime(),E=l.amTimeAgo,x="TIME"===s[0].nodeName.toUpperCase(),S=!s.attr("title");o.$watch(E,function(e){if(a(e)||""===e)return u(),void(h&&(s.text(""),d(""),h=null));h=e,p()}),e.isDefined(l.amFrom)&&o.$watch(l.amFrom,function(e){m=a(e)||""===e?null:n(e),p()}),e.isDefined(l.amWithoutSuffix)&&o.$watch(l.amWithoutSuffix,function(e){"boolean"==typeof e?(g=e,p()):g=r.withoutSuffix}),l.$observe("amFullDateThreshold",function(e){b=e,p()}),l.$observe("amFullDateFormat",function(e){y=e,p()}),l.$observe("amFullDateThresholdUnit",function(e){w=e,p()}),o.$on("$destroy",function(){u()}),o.$on("amMoment:localeChanged",function(){p()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,i,r){var o=null;this.changeLocale=function(i,r){var o=t.locale(i,r);return e.isDefined(i)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(e){t.tz&&t.tz.setDefault?(t.tz.setDefault(e),n.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=e,o=e},this.preprocessDate=function(e){return o!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(e){return function(t,n){return e(t,n)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(e){return function(t,n){return e.preprocessDate(t).utcOffset(n)}}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(e,t,n){return function(t,i){var r=e.preprocessDate(t);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,t,n){function i(e,n,i){if(a(e))return"";var r=t.preprocessDate(e);return r.isValid()?r.calendar(n,i):""}return i.$stateful=n.statefulFilters,i}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,t,n){function i(n,i,r,o){if(a(n))return"";var s=t.preprocessDate(n),l=a(i)?e():t.preprocessDate(i);return s.isValid()&&l.isValid()?s.diff(l,r,o):""}return i.$stateful=n.statefulFilters,i}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,t,n){function i(e,n){if(a(e))return"";var i=t.preprocessDate(e);return i.isValid()?i.format(n):""}return i.$stateful=n.statefulFilters,i}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,t){function n(t,n,i){return a(t)?"":e.duration(t,n).humanize(i)}return n.$stateful=t.statefulFilters,n}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,t,n){function i(n,i,r){var o,s;return a(n)?"":(n=t.preprocessDate(n),(o=e(n)).isValid()?(s=e(r),!a(r)&&s.isValid()?o.from(s,i):o.fromNow(i)):"")}return i.$stateful=n.statefulFilters,i}]).filter("amSubtract",["moment","angularMomentConfig",function(e,t){function n(t,n,i){return a(t)?"":e(t).subtract(parseInt(n,10),i)}return n.$stateful=t.statefulFilters,n}]).filter("amAdd",["moment","angularMomentConfig",function(e,t){function n(t,n,i){return a(t)?"":e(t).add(parseInt(n,10),i)}return n.$stateful=t.statefulFilters,n}]).filter("amStartOf",["moment","angularMomentConfig",function(e,t){function n(t,n){return a(t)?"":e(t).startOf(n)}return n.$stateful=t.statefulFilters,n}]).filter("amEndOf",["moment","angularMomentConfig",function(e,t){function n(t,n){return a(t)?"":e(t).endOf(n)}return n.$stateful=t.statefulFilters,n}]),"angularMoment"}window&&window.process&&window.process.type,r=[n(0),n(31)],void 0===(o="function"==typeof(i=s)?i.apply(t,r):i)||(e.exports=o)}()},function(e,t){},function(e,t,n){n(159),n(278),e.exports="md.data.table"},function(e,t){!function(e,t,n){"use strict";t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"]),function(){function e(e,t){t.has("$swipe")&&e.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}function n(e,t){e.decorator("$$rAF",["$delegate",i]),e.decorator("$q",["$delegate",r]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function i(e){return e.throttle=function(t){var n,i,r,o;return function(){n=arguments,o=this,r=t,i||(i=!0,e(function(){r.apply(o,Array.prototype.slice.call(n)),i=!1}))}},e}function r(e){return e.resolve||(e.resolve=e.when),e}e.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"],i.$inject=["$delegate"],r.$inject=["$delegate"],t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(n).run(e)}(),function(){function e(e){return{restrict:"A",link:{pre:function(n,i,r){function o(e){t.isUndefined(e)&&(e=!0),i.toggleClass("md-autofocus",!!e)}var a=r.mdAutoFocus||r.mdAutofocus||r.mdSidenavFocus;o(e(a)(n)),a&&n.$watch(a,o)}}}}e.$inject=["$parse"],t.module("material.core").directive("mdAutofocus",e).directive("mdAutoFocus",e).directive("mdSidenavFocus",e)}(),function(){t.module("material.core").factory("$mdColorUtil",function(){return{rgbaToHex:function(e){return((e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"").toUpperCase()},hexToRgba:function(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),o=t.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),"rgba("+parseInt(i,16)+","+parseInt(r,16)+","+parseInt(o,16)+",0.1)"},rgbToRgba:function(e){return e.replace(")",", 0.1)").replace("(","a(")},rgbaToRgb:function(e){return e?e.replace("rgba","rgb").replace(/,[^),]+\)/,")"):"rgb(0,0,0)"}}})}(),function(){t.module("material.core").factory("$mdConstant",function(){function e(e){var t=r+"-"+e,o=t.replace(a,function(e,t,n,i){return i?n.toUpperCase():n}),s=o.charAt(0).toLowerCase()+o.substring(1);return n(i,e)?e:n(i,o)?o:n(i,s)?s:e}function n(e,n){return t.isDefined(e.style[n])}var i=document.createElement("div"),r=function(e){var t,n,i=/^(Moz|webkit|ms)(?=[A-Z])/;for(t in e.style)if(n=i.exec(t))return n[0]}(i),o=/webkit/i.test(r),a=/([:\-_]+(.))/g,s={isInputKey:function(e){return e.keyCode>=31&&e.keyCode<=90},isNumPadKey:function(e){return 3===e.location&&e.keyCode>=97&&e.keyCode<=105},isMetaKey:function(e){return e.keyCode>=91&&e.keyCode<=93},isFnLockKey:function(e){return e.keyCode>=112&&e.keyCode<=145},isNavigationKey:function(e){var t=s.KEY_CODE;return-1!=[t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW].indexOf(e.keyCode)},hasModifierKey:function(e){return e.ctrlKey||e.metaKey||e.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(o?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(o?" webkitAnimationEnd":""),TRANSFORM:e("transform"),TRANSFORM_ORIGIN:e("transformOrigin"),TRANSITION:e("transition"),TRANSITION_DURATION:e("transitionDuration"),ANIMATION_PLAY_STATE:e("animationPlayState"),ANIMATION_DURATION:e("animationDuration"),ANIMATION_NAME:e("animationName"),ANIMATION_TIMING:e("animationTimingFunction"),ANIMATION_DIRECTION:e("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return s})}(),function(){function e(e,n){function i(e){return u.length&&e>-1&&e<u.length}function r(e){return u.indexOf(e)}function o(e){return e&&r(e)>-1}function a(){return u.length?u[0]:null}function s(){return u.length?u[u.length-1]:null}function l(e,o,l,d){l=l||c;for(var p=r(o);;){if(!i(p))return null;var h=p+(e?-1:1),m=null;if(i(h)?m=u[h]:n&&(h=r(m=e?s():a())),null===m||h===d)return null;if(l(m))return m;t.isUndefined(d)&&(d=h),p=h}}var c=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var u=e||[];return{items:function(){return[].concat(u)},count:function(){return u.length},inRange:i,contains:o,indexOf:r,itemAt:function(e){return i(e)?u[e]:null},findBy:function(e,t){return u.filter(function(n){return n[e]===t})},add:function(e,n){return e?(t.isNumber(n)||(n=u.length),u.splice(n,0,e),r(e)):-1},remove:function(e){o(e)&&u.splice(r(e),1)},first:a,last:s,next:t.bind(null,l,!1),previous:t.bind(null,l,!0),hasPrevious:function(e){return!!e&&i(r(e)-1)},hasNext:function(e){return!!e&&i(r(e)+1)}}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,i){function r(n){var r=s[n];t.isUndefined(r)&&(r=s[n]=function(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}(n));var a=c[r];return t.isUndefined(a)&&(a=function(e){var t=l[e];return t||(t=l[e]=i.matchMedia(e)),t.addListener(o),c[t.media]=!!t.matches}(r)),a}function o(e){n.$evalAsync(function(){c[e.media]=!!e.matches})}function a(e,t){return u[t]||(u[t]=e.$normalize(t))}var s={},l={},c={},u={};return r.getResponsiveAttribute=function(t,n){for(var i=0;i<e.MEDIA_PRIORITY.length;i++){var r=e.MEDIA_PRIORITY[i];if(l[s[r]].matches){var o=a(t,n+"-"+r);if(t[o])return t[o]}}return t[a(t,n)]},r.getQuery=function(e){return l[e]},r.watchResponsiveAttributes=function(n,i,r){var o=[];return n.forEach(function(n){var s=a(i,n);for(var l in t.isDefined(i[s])&&o.push(i.$observe(s,t.bind(void 0,r,null))),e.MEDIA)s=a(i,n+"-"+l),t.isDefined(i[s])&&o.push(i.$observe(s,t.bind(void 0,r,l)))}),function(){o.forEach(function(e){e()})}},r}e.$inject=["$mdConstant","$rootScope","$window"],t.module("material.core").factory("$mdMedia",e)}(),function(){function e(e,n){function i(e){return(e=t.isArray(e)?e:[e]).forEach(function(t){a.forEach(function(n){e.push(n+"-"+t)})}),e}function r(e){return i(e=t.isArray(e)?e:[e]).map(function(e){return"["+e+"]"}).join(",")}function o(e){if((e=e[0]||e).nodeType)return e}var a=["data","x"];return e?n?r(e):i(e):{buildList:i,buildSelector:r,hasAttribute:function(e,t){if(!(e=o(e)))return!1;for(var n=i(t),r=0;r<n.length;r++)if(e.hasAttribute(n[r]))return!0;return!1},removeAttribute:function(e,t){(e=o(e))&&i(t).forEach(function(t){e.removeAttribute(t)})}}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.prefixer=e,t}])}])}(),function(){function i(i,o,a,s,l,c,u,d,p,h){function m(e){return e?function(e){return String(e).indexOf("px")>-1}(e)||function(e){return String(e).indexOf("%")>-1}(e)?e:e+"px":"0"}function f(e){return e[0]||e}var g=c.startSymbol(),v=c.endSymbol(),b="{{"===g&&"}}"===v,y=function(e,n,i){var r=!1;if(e&&e.length){var o=p.getComputedStyle(e[0]);r=t.isDefined(o[n])&&(!i||o[n]==i)}return r},w={dom:{},now:e.performance&&e.performance.now?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(e,t){if(e.$options){var n=e.$options;return n.getOption?n.getOption(t):n[t]}},bidi:function(e,n,r,o){var a=!("rtl"==i[0].dir||"rtl"==i[0].body.dir);if(0==arguments.length)return a?"ltr":"rtl";var s=t.element(e);a&&t.isDefined(r)?s.css(n,m(r)):!a&&t.isDefined(o)&&s.css(n,m(o))},bidiProperty:function(e,n,r,o){var a=!("rtl"==i[0].dir||"rtl"==i[0].body.dir),s=t.element(e);a&&t.isDefined(n)?(s.css(n,m(o)),s.css(r,"")):!a&&t.isDefined(r)&&(s.css(r,m(o)),s.css(n,""))},clientRect:function(e,t,n){var i=f(e);t=f(t||i.offsetParent||document.body);var r=i.getBoundingClientRect(),o=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-o.left,top:r.top-o.top,width:r.width,height:r.height}},offsetRect:function(e,t){return w.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},getViewportTop:function(){return e.scrollY||e.pageYOffset||0},findFocusTarget:function(e,n){function i(e,n){var i,r=e[0].querySelectorAll(n);return r&&r.length&&r.length&&t.forEach(r,function(e){(e=t.element(e)).hasClass("md-autofocus")&&(i=e)}),i}var r,o=this.prefixer("md-autofocus",!0);return(r=i(e,n||o))||n==o||(r=i(e,this.prefixer("md-auto-focus",!0)))||(r=i(e,o)),r},disableScrollAround:function(e,n,r){if(r=r||{},w.disableScrollAround._count=Math.max(0,w.disableScrollAround._count||0),w.disableScrollAround._count++,w.disableScrollAround._restoreScroll)return w.disableScrollAround._restoreScroll;var o=i[0].body,a=function(){var e=i[0].documentElement,n=e.style.cssText||"",r=o.style.cssText||"",a=w.getViewportTop(),s=o.clientWidth,l=o.scrollHeight>o.clientHeight+1,c=e.scrollTop>0?e:o;return l&&t.element(o).css({position:"fixed",width:"100%",top:-a+"px"}),o.clientWidth<s&&(o.style.overflow="hidden"),l&&(e.style.overflowY="scroll"),function(){o.style.cssText=r,e.style.cssText=n,c.scrollTop=a}}(),s=function(e){function n(e){e.preventDefault()}var i;return e=t.element(e||o),r.disableScrollMask?i=e:(i=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),e.append(i)),i.on("wheel",n),i.on("touchmove",n),function(){i.off("wheel"),i.off("touchmove"),!r.disableScrollMask&&i[0].parentNode&&i[0].parentNode.removeChild(i[0])}}(n);return w.disableScrollAround._restoreScroll=function(){--w.disableScrollAround._count<=0&&(a(),s(),delete w.disableScrollAround._restoreScroll)}},enableScrolling:function(){var e=this.disableScrollAround._restoreScroll;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});e.children().css("height","60px"),i[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function e(t){t.target===n&&t.$focus&&(n.focus(),t.stopImmediatePropagation(),t.preventDefault(),n.removeEventListener("click",e))},!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},createBackdrop:function(e,t){return a(w.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^{}]*)\}/g,e.replace(n,function(e,n){var i=n.split("."),r=t;try{for(var o in i)i.hasOwnProperty(o)&&(r=r[i[o]])}catch(t){r=e}return"string"==typeof r||"number"==typeof r?r:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,i,r){var a;return function(){var s=i,l=Array.prototype.slice.call(arguments);o.cancel(a),a=o(function(){a=n,e.apply(s,l)},t||10,r)}},throttle:function(e,t){var n;return function(){var i=arguments,r=w.now();(!n||r-n>t)&&(e.apply(this,i),n=r)}},time:function(e){var t=w.now();return e(),w.now()-t},valueOnUse:function(e,t,n){var i=null,r=Array.prototype.slice.call(arguments),o=r.length>3?r.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===i&&(i=n.apply(e,o)),i}})},nextUid:function(){return""+r++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,i){if(t.isString(n)){var r=n.toUpperCase();n=function(e){return e.nodeName.toUpperCase()===r}}if(e instanceof t.element&&(e=e[0]),i&&(e=e.parentNode),!e)return null;do{if(n(e))return e}while(e=e.parentNode);return null},elementContains:function(n,i){return(e.Node&&e.Node.prototype&&Node.prototype.contains?t.bind(n,n.contains):t.bind(n,function(e){return n===i||!!(16&this.compareDocumentPosition(e))}))(i)},extractElementByName:function(e,n,i,r){function o(e){return function(e){if(e)for(var t=0,i=e.length;t<i;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}(e)||(i?function(e){var t;if(e)for(var n=0,i=e.length;n<i;n++){var r=e[n];if(!t)for(var a=0,s=r.childNodes.length;a<s;a++)t=t||o([r.childNodes[a]])}return t}(e):null)}var a=o(e);return!a&&r&&u.warn(w.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(a||e)},initOptionalProperties:function(e,n,i){i=i||{},t.forEach(e.$$isolateBindings,function(r,o){if(r.optional&&t.isUndefined(e[o])){var a=t.isDefined(n[r.attrName]);e[o]=t.isDefined(i[o])?i[o]:a}})},nextTick:function(e,t,n){var i=w.nextTick,r=i.timeout,a=i.queue||[];return a.push({scope:n,callback:e}),null==t&&(t=!0),i.digest=i.digest||t,i.queue=a,r||(i.timeout=o(function(){var e=i.queue,t=i.digest;i.queue=[],i.timeout=null,i.digest=!1,e.forEach(function(e){e.scope&&e.scope.$$destroyed||e.callback()}),t&&s.$digest()},0,!1))},processTemplate:function(e){return b?e:e&&t.isString(e)?e.replace(/\{\{/g,g).replace(/}}/g,v):e},getParentWithPointerEvents:function(e){for(var t=e.parent();y(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==d[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},checkStickySupport:function(){var e,n=t.element("<div>");i[0].body.appendChild(n[0]);for(var r=["sticky","-webkit-sticky"],o=0;o<r.length;++o)if(n.css({position:r[o],top:0,"z-index":2}),n.css("position")==r[o]){e=r[o];break}return n.remove(),e},parseAttributeBoolean:function(e,t){return""===e||!!e&&(!1===t||"false"!==e&&"0"!==e)},hasComputedStyle:y,isParentFormSubmitted:function(e){var n=w.getClosest(e,"form"),i=n?t.element(n).controller("form"):null;return!!i&&i.$submitted},animateScrollTo:function(e,t,n){var i=e.scrollTop,r=t-i,o=i<t,a=w.now();h(function s(){var l,c=(l=n||1e3,function(e,t,n,i){if(e>i)return t+n;var r=(e/=i)*e;return t+n*(r*e*-2+3*r)}(w.now()-a,i,r,l));e.scrollTop=c,(o?c<t:c>t)&&h(s)})},uniq:function(e){if(e)return e.filter(function(e,t,n){return n.indexOf(e)===t})}};return w.dom.animator=l(w),w}i.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var r=0;t.module("material.core").factory("$mdUtil",i),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,n,i,r){function o(e,r,o){var a=t.element(e)[0]||e;!a||a.hasAttribute(r)&&0!==a.getAttribute(r).length||function(e,t){var n=!1;if(e.hasChildNodes())for(var r=e.childNodes,o=0;o<r.length;o++){var a=r[o];1===a.nodeType&&a.hasAttribute(t)&&"none"!==((s=a).currentStyle?s.currentStyle:i.getComputedStyle(s)).display&&(n=!0)}var s;return n}(a,r)||((o=t.isString(o)?o.trim():"").length?e.attr(r,o):c&&n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',a))}function a(t,n,i){e(function(){o(t,n,i())})}function s(e){e=e[0]||e;for(var t,n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),i="";t=n.nextNode();)(function(t){for(;t.parentNode&&(t=t.parentNode)!==e;)if(t.getAttribute&&"true"===t.getAttribute("aria-hidden"))return!0})(t)||(i+=t.textContent);return i.trim()||""}function l(e){var n=t.element(e)[0]||e;return!!n.hasAttribute&&(n.hasAttribute("aria-label")||n.hasAttribute("aria-labelledby")||n.hasAttribute("aria-describedby"))}var c=this.showWarnings;return{expect:o,expectAsync:a,expectWithText:function(e,t){var n=s(e)||"";n.indexOf(r.startSymbol())>-1?a(e,t,function(){return s(e)}):o(e,t,n)},expectWithoutText:function(e,t){var n=s(e);n.indexOf(r.startSymbol())>-1||n||o(e,t,n)},getText:s,hasAriaLabel:l,parentHasAriaLabel:function e(n,i){i=i||1;var r=t.element(n)[0]||n;return!!r.parentNode&&(!!function(e){if(!l(e))return!1;if(e.hasAttribute("role"))switch(e.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(e.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}(r.parentNode)||!!--i&&e(r.parentNode,i))}}}e.$inject=["$$rAF","$log","$window","$interpolate"],t.module("material.core").provider("$mdAria",function(){var t={showWarnings:!0};return{disableWarnings:function(){t.showWarnings=!1},$get:["$$rAF","$log","$window","$interpolate",function(n,i,r,o){return e.apply(t,arguments)}]}})}(),function(){function e(e){function n(){return!r||("function"==typeof e.preAssignBindingsEnabled?e.preAssignBindingsEnabled():1===t.version.major&&t.version.minor<6)}function i(e,t,n,i,r){this.$q=e,this.$templateRequest=t,this.$injector=n,this.$compile=i,this.$controller=r}var r=!1;this.respectPreAssignBindingsEnabled=function(e){return t.isDefined(e)?(r=e,this):r},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(e,t,n,r,o){return new i(e,t,n,r,o)}],i.prototype.compile=function(e){return e.contentElement?this._prepareContentElement(e):this._compileTemplate(e)},i.prototype._prepareContentElement=function(e){var t=this._fetchContentElement(e);return this.$q.resolve({element:t.element,cleanup:t.restore,locals:{},link:function(){return t.element}})},i.prototype._compileTemplate=function(e){var n=this,i=e.templateUrl,r=e.template||"",o=t.extend({},e.resolve),a=t.extend({},e.locals),s=e.transformTemplate||t.identity;return t.forEach(o,function(e,i){t.isString(e)?o[i]=n.$injector.get(e):o[i]=n.$injector.invoke(e)}),t.extend(o,a),o.$$ngTemplate=i?this.$templateRequest(i):this.$q.when(r),this.$q.all(o).then(function(i){var r=s(i.$$ngTemplate,e),o=e.element||t.element("<div>").html(r.trim()).contents();return n._compileElement(i,o,e)})},i.prototype._compileElement=function(e,n,i){var r=this,o=this.$compile(n),a={element:n,cleanup:n.remove.bind(n),locals:e,link:function(s){if(e.$scope=s,i.controller){var l=t.extend({},e,{$element:n}),c=r._createController(i,l,e);n.data("$ngControllerController",c),n.children().data("$ngControllerController",c),a.controller=c}return o(s)}};return a},i.prototype._createController=function(e,i,r){var o=this.$controller(e.controller,i,!0,e.controllerAs);n()&&e.bindToController&&t.extend(o.instance,r);var a=o();return!n()&&e.bindToController&&t.extend(a,r),t.isFunction(a.$onInit)&&a.$onInit(),a},i.prototype._fetchContentElement=function(e){function n(e){var t=e.parentNode,n=e.nextElementSibling;return function(){n?t.insertBefore(e,n):t.appendChild(e)}}var i=e.contentElement,r=null;return t.isString(i)?r=n(i=document.querySelector(i)):(i=i[0]||i,r=document.contains(i)?n(i):function(){i.parentNode&&i.parentNode.removeChild(i)}),{element:t.element(i),restore:r}}}t.module("material.core").provider("$mdCompiler",e),e.$inject=["$compileProvider"]}(),function(){function n(){}function i(n,i,r){function o(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}var s=navigator.userAgent||navigator.vendor||e.opera,l=s.match(/ipad|iphone|ipod/i),u=s.match(/android/i),p=function(){for(var e=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],i=0;i<n.length;i++){var r=n[i],o=r?r+"TouchAction":"touchAction";if(t.isDefined(e.style[o]))return o}}(),h=void 0!==e.jQuery&&t.element===e.jQuery,v={handler:function(e,i){var r=new n(e);return t.extend(r,i),m[e]=r,v},register:function(e,t,n){var i=m[t.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(m).join(", "));return i.registerElement(e,n)},isAndroid:u,isIos:l,isHijackingClicks:(l||u)&&!h&&!f};return v.isHijackingClicks&&(v.handler("click",{options:{maxDistance:g},onEnd:o("click")}),v.handler("focus",{options:{maxDistance:g},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&d(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),v.handler("mouseup",{options:{maxDistance:g},onEnd:o("mouseup")}),v.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})),v.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){r.cancel(this.state.timeout)},onStart:function(e,n){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:n.x,y:n.y},this.state.timeout=r(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1)},onMove:function(e,t){p||"touchmove"!==e.type||e.preventDefault();var n=this.state.pos.x-t.x,i=this.state.pos.y-t.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(e,t){p&&(this.oldTouchAction=e[0].style[p],e[0].style[p]=t.horizontal?"pan-y":"pan-x")},onCleanup:function(e){this.oldTouchAction&&(e[0].style[p]=this.oldTouchAction)},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,i;p||"touchmove"!==e.type||e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,i=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,i=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=a(e),c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle(function(e){this.state.isRunning&&(c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function r(e){this.name=e,this.state={}}function o(e,n){function i(e){!e.clientX&&!e.clientY||e.$material||e.isIonicTap||l(e)||"mousedown"===e.type&&(d(e.target)||d(document.activeElement))||(e.preventDefault(),e.stopPropagation())}function r(e,t){var i;for(var r in m)(i=m[r])instanceof n&&("start"===e&&i.cancel(),i[e](t,p))}document.contains||(document.contains=function(e){return document.body.contains(e)}),!b&&e.isHijackingClicks&&(document.addEventListener("click",function(e){var t=0===e.clientX&&0===e.clientY,n=e.target&&"submit"===e.target.type;t||e.$material||e.isIonicTap||l(e)||n?(v=null,"label"==e.target.tagName.toLowerCase()&&(v={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),v=null)},!0),document.addEventListener("mouseup",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("focus",i,!0),b=!0),t.element(document).on("mousedown touchstart pointerdown",function(e){if(!p){var t=+Date.now();h&&!s(e,h)&&t-h.endTime<1500||(p=a(e),r("start",e))}}).on("mousemove touchmove pointermove",function(e){p&&s(e,p)&&(c(e,p),r("move",e))}).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",function(e){p&&s(e,p)&&(c(e,p),p.endTime=+Date.now(),"pointercancel"!==e.type&&r("end",e),h=p,p=null)}).on("$$mdGestureReset",function(){h=p=null})}function a(e){var t=u(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function s(e,t){return e&&t&&e.type.charAt(0)===t.type}function l(e){return v&&v.x==e.x&&v.y==e.y}function c(e,t){var n=u(e),i=t.x=n.pageX,r=t.y=n.pageY;t.distanceX=i-t.startX,t.distanceY=r-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function u(e){return(e=e.originalEvent||e).touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}function d(e){return!!e&&"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("disabled")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||e.isContentEditable||-1!=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(e.nodeName))}i.$inject=["$$MdGestureHandler","$$rAF","$timeout"],o.$inject=["$mdGesture","$$MdGestureHandler"];var p,h,m={},f=!1,g=6,v=null,b=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",function(){var n=void 0!==e.jQuery&&t.element===e.jQuery;return r.prototype={options:{},dispatchEvent:n?function(e,n,i){i=i||p;var r=new t.element.Event(n);r.$material=!0,r.pointer=i,r.srcEvent=e,t.extend(r,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(i.target).trigger(r)}:function(t,n,i){var r;i=i||p,"click"===n||"mouseup"==n||"mousedown"==n?(r=document.createEvent("MouseEvents")).initMouseEvent(n,!0,!0,e,t.detail,i.x,i.y,i.x,i.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null):(r=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,{}),r.$material=!0,r.pointer=i,r.srcEvent=t,i.target.dispatchEvent(r)},onSetup:t.noop,onCleanup:t.noop,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var i=this.getNearestParent(e.target),r=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,r),registeredParent:i},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[i.name],e.off("$destroy",n),i.onCleanup(e,t||{})}var i=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),i.onSetup(e,t||{}),n}},r}).run(o),n.prototype={skipClickHijack:function(){return f=!0},setMaxClickDistance:function(e){g=parseInt(e)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new i(e,t,n)}]}}(),function(){function n(e,n){this.$timeout=e,this.$mdUtil=n,this.bodyElement=t.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents()}n.$inject=["$timeout","$mdUtil"],t.module("material.core.interaction",[]).service("$mdInteraction",n),n.prototype.initializeEvents=function(){var t="MSPointerEvent"in e?"MSPointerDown":"PointerEvent"in e?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this)),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this)),t&&this.bodyElement.on(t,this.onInputEvent.bind(this))},n.prototype.onInputEvent=function(e){if(!this.isBuffering){var t=this.inputEventMap[e.type];"pointer"===t&&(t=this.iePointerMap[e.pointerType]||e.pointerType),this.lastInteractionType=t,this.lastInteractionTime=this.$mdUtil.now()}},n.prototype.onBufferInputEvent=function(e){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(e),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},n.prototype.getLastInteractionType=function(){return this.lastInteractionType},n.prototype.isUserInvoked=function(e){var n=t.isNumber(e)?e:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),function(){t.module("material.core").provider("$$interimElement",function(){function e(e){function n(n,i){function a(t,n){var r={};return r[e]=u,i.invoke(t||function(){return n},{},r)}var s,l,c=n(),u={hide:c.hide,cancel:c.cancel,show:function(e){return(e=e||{})._options&&(e=e._options),c.show(t.extend({},l,e))},destroy:function(e){return c.destroy(e)}};return s=o.methods||[],l=a(o.optionsFactory,{}),t.forEach(r,function(e,t){u[t]=e}),t.forEach(o.presets,function(e,n){function i(e){this._options=t.extend({},r,e)}var r=a(e.optionsFactory,{}),o=(e.methods||[]).concat(s);if(t.extend(r,{$type:n}),t.forEach(o,function(e){i.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var l="show"+n.charAt(0).toUpperCase()+n.slice(1);u[l]=function(e){var t=u[n](e);return u.show(t)}}u[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new i)[e.argOption](n):new i(n)}}),u}n.$inject=["$$interimElement","$injector"];var i=["onHide","onShow","onRemove"],r={},o={presets:{}},a={setDefaults:function(e){return o.optionsFactory=e.options,o.methods=(e.methods||[]).concat(i),a},addPreset:function(t,n){if((n=n||{}).methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return o.presets[t]={methods:n.methods.concat(i),optionsFactory:n.options,argOption:n.argOption},a},addMethod:function(e,t){return r[e]=t,a},$get:n};return a.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),a}function i(e,i,r,o,a,s,l,c,u,d,p){return function(){function h(e){return function(){var t=arguments;return v.length?e.apply(m,t):f.length?f[0].finally(function(){return e.apply(m,t)}):i.when("No interim elements currently showing up.")}}var m,f=[],g=[],v=[];return m={show:function(d){var h=new function(d){function p(){var e,i=t.noop;d.hideDelay&&(e=o(m.hide,d.hideDelay),i=function(){o.cancel(e)}),d.cancelAutoHide=function(){i(),d.cancelAutoHide=n}}function h(e,n){var r=n.onRemoving||t.noop;return i(function(t,o){try{var a=i.when(n.onRemove(n.scope,e,n)||!0);r(e,a),n.$destroy?(t(e),!n.preserveScope&&n.scope&&a.then(function(){n.scope.$destroy()})):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},o)}catch(e){o(e.message)}})}var f,g,v=i.when(!0);return d=function(e){return(e=e||{}).template&&(e.template=l.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||r.$new(e.isolateScope),onShow:function(e,t,n){return s.enter(t,n.parent)},onRemove:function(e,t){return t&&s.leave(t)||i.when()}},e)}(d),f={options:d,deferred:i.defer(),show:function(){return i(function(n,r){function o(e){f.deferred.reject(e),r(e)}d.onCompiling&&d.onCompiling(d),function(e){return(e.skipCompile?null:c.compile(e))||i(function(t){t({locals:{},link:function(){return e.element}})})}(d).then(function(r){g=function(n,i){t.extend(n.locals,i);var r=n.link(i.scope);return i.element=r,i.parent=function(n,i){var r,o=i.parent;return((o=t.isFunction(o)?o(i.scope,n,i):t.isString(o)?t.element(e[0].querySelector(o)):t.element(o))||{}).length?o:(a[0]&&a[0].querySelector&&(r=a[0].querySelector(":not(svg) > body")),r||(r=a[0]),"#comment"==r.nodeName&&(r=e[0].body),t.element(r))}(r,i),i.themable&&u(r),r}(r,d),d.cleanupElement=r.cleanup,v=function(e,n,r){var o=n.onShowing||t.noop,a=n.onComplete||t.noop;try{o(n.scope,e,n,r)}catch(e){return i.reject(e)}return i(function(t,o){try{i.when(n.onShow(n.scope,e,n,r)).then(function(){a(n.scope,e,n),p(),t(e)},o)}catch(e){o(e.message)}})}(g,d,r.controller).then(n,o)}).catch(o)})},remove:function(e,n,r){function o(e){f.deferred.resolve(e)}function a(e){f.deferred.reject(e)}return g?((d=t.extend(d||{},r||{})).cancelAutoHide&&d.cancelAutoHide(),d.element.triggerHandler("$mdInterimElementRemove"),!0===d.$destroy?h(d.element,d).then(function(){n&&a(e)||o(e)}):(i.when(v).finally(function(){h(d.element,d).then(function(){n?a(e):o(e)},a)}),f.deferred.promise)):i.when(!1)}}}((d=d||{})||{}),b=d.multiple?i.resolve():i.all(f);d.multiple||(b=b.then(function(){var e=g.concat(v.map(m.cancel));return i.all(e)}));var y=b.then(function(){return h.show().catch(function(e){return e}).finally(function(){f.splice(f.indexOf(y),1),v.push(h)})});return f.push(y),h.deferred.promise.catch(function(e){return e instanceof Error&&p(e),e}),h.deferred.promise},hide:h(function(e,t){function r(n){var i=n.remove(e,!1,t||{}).catch(function(e){return e}).finally(function(){g.splice(g.indexOf(i),1)});return v.splice(v.indexOf(n),1),g.push(i),n.deferred.promise}return(t=t||{}).closeAll?i.all(v.slice().reverse().map(r)):t.closeTo!==n?i.all(v.slice(t.closeTo).map(r)):r(v[v.length-1])}),cancel:h(function(e,n){var r=v.pop();if(!r)return i.when(e);var o=r.remove(e,!0,n||{}).catch(function(e){return e}).finally(function(){g.splice(g.indexOf(o),1)});return g.push(o),r.deferred.promise.catch(t.noop)}),destroy:function(e){var n=e?null:v.shift(),r=t.element(e).length&&t.element(e)[0].parentNode;if(r){var o=v.filter(function(e){return e.options.element[0]===r});o.length&&(n=o[0],v.splice(v.indexOf(n),1))}return n?n.remove(!1,!1,{$destroy:!0}):i.when(!1)},$injector_:d}}}return i.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],e.$get=i,e})}(),function(){function e(){var e=!!document.querySelector("[md-layouts-disabled]");w.enabled=!e}function n(){return w.enabled=!1,{restrict:"A",priority:"900"}}function i(e){function n(t,n){n.addClass(e)}return["$mdUtil","$interpolate","$log",function(i,r,o){return d=i,p=r,h=o,{restrict:"A",compile:function(i,r){var o;return w.enabled&&(a(e,c(e,r,""),s(0,e,r)),n(0,i),o=n),o||t.noop}}}]}function r(e){var n=e.split("-");return["$log",function(i){return i.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function o(e,t,n,i){var r,o,a,s=n[0].nodeName.toLowerCase();switch(e.replace(m,"")){case"flex":"md-button"!=s&&"fieldset"!=s||(o="<"+s+" "+e+"></"+s+">",a="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",r="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",i.warn(d.supplant(r,[o,a])))}}function a(e,n,i){if(!l(n)){switch(e.replace(m,"")){case"layout":u(n,v)||(n=v[0]);break;case"flex":u(n,g)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":n&&!isNaN(+n)||(n="0");break;case"layout-align":var r=function(e){var t,n={main:"start",cross:"stretch"};return 0!==(e=e||"").indexOf("-")&&0!==e.indexOf(" ")||(e="none"+e),(t=e.toLowerCase().trim().replace(f,"-").split("-")).length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),b.indexOf(n.main)<0&&(n.main="start"),y.indexOf(n.cross)<0&&(n.cross="stretch"),n}(n);n=d.supplant("{main}-{cross}",r);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":n=""}void 0!=n&&(i||t.noop)(n)}return n?n.trim():""}function s(e,t,n){return function(e){l(e)||(n[n.$normalize(t)]=e)}}function l(e){return(e||"").indexOf(p.startSymbol())>-1}function c(e,t,n){var i=t.$normalize(e);return t[i]?t[i].trim().replace(f,"-"):n||null}function u(e,t,n){var i=!1;return(e=n&&e?e.replace(f,n):e)&&t.forEach(function(t){t=n?t.replace(f,n):t,i=i||t===e}),i}var d,p,h,m=/(-gt)?-(sm|md|lg|print)/g,f=/\s+/g,g=["grow","initial","auto","none","noshrink","nogrow"],v=["row","column"],b=["","start","center","end","stretch","space-around","space-between"],y=["","start","center","end","stretch"],w={enabled:!0,breakpoints:[]};!function(l){function u(e){return e.replace(g,"").replace(v,function(e,t,n,i){return i?n.toUpperCase():n})}var m,g=/^((?:x|data)[:\-_])/i,v=/([:\-_]+(.))/g,b=["layout","flex","flex-order","flex-offset","layout-align"],y=["show","hide","layout-padding","layout-margin"];t.forEach(["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],function(e){t.forEach(b,function(n){var i=e?n+"-"+e:n;l.directive(u(i),function(e){function n(n,i,r){var o=function(e,n){var i;return function(r){var o=a(n,r||"");t.isDefined(o)&&(i&&e.removeClass(i),i=o?n+"-"+o.trim().replace(f,"-"):n,e.addClass(i))}}(i,e),s=r.$observe(r.$normalize(e),o);o(c(e,r,"")),n.$on("$destroy",function(){s()})}return["$mdUtil","$interpolate","$log",function(i,r,l){return d=i,p=r,h=l,{restrict:"A",compile:function(i,r){var l;return w.enabled&&(o(e,0,i,h),a(e,c(e,r,""),s(0,e,r)),l=n),l||t.noop}}}]}(i))}),t.forEach(y,function(t){var n=e?t+"-"+e:t;l.directive(u(n),i(n))})}),l.provider("$$mdLayout",function(){return{$get:t.noop,validateAttributeValue:a,validateAttributeUsage:o,disableLayouts:function(e){w.enabled=!0!==e}}}).directive("mdLayoutCss",n).directive("ngCloak",(m="ng-cloak",["$timeout",function(e){return{restrict:"A",priority:-10,compile:function(n){return w.enabled?(n.addClass(m),function(t,n){e(function(){n.removeClass(m)},10,!1)}):t.noop}}}])).directive("layoutWrap",i("layout-wrap")).directive("layoutNowrap",i("layout-nowrap")).directive("layoutNoWrap",i("layout-no-wrap")).directive("layoutFill",i("layout-fill")).directive("layoutLtMd",r("layout-lt-md")).directive("layoutLtLg",r("layout-lt-lg")).directive("flexLtMd",r("flex-lt-md")).directive("flexLtLg",r("flex-lt-lg")).directive("layoutAlignLtMd",r("layout-align-lt-md")).directive("layoutAlignLtLg",r("layout-align-lt-lg")).directive("flexOrderLtMd",r("flex-order-lt-md")).directive("flexOrderLtLg",r("flex-order-lt-lg")).directive("offsetLtMd",r("flex-offset-lt-md")).directive("offsetLtLg",r("flex-offset-lt-lg")).directive("hideLtMd",r("hide-lt-md")).directive("hideLtLg",r("hide-lt-lg")).directive("showLtMd",r("show-lt-md")).directive("showLtLg",r("show-lt-lg")).config(e)}(t.module("material.core.layout",["ng"]))}(),function(){function e(e){this._$timeout=e,this._liveElement=this._createLiveElement(),this._announceTimeout=100}e.$inject=["$timeout"],t.module("material.core").service("$mdLiveAnnouncer",e),e.prototype.announce=function(e,t){t||(t="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",t),n._$timeout(function(){n._liveElement.textContent=e},n._announceTimeout,!1)},e.prototype._createLiveElement=function(){var e=document.createElement("div");return e.classList.add("md-visually-hidden"),e.setAttribute("role","status"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),document.body.appendChild(e),e}}(),t.module("material.core.meta",[]).provider("$$mdMeta",function(){function e(e){if(i[e])return!0;var n=document.getElementsByName(e)[0];return!!n&&(i[e]=t.element(n),!0)}var n=t.element(document.head),i={},r={setMeta:function(r,o){if(e(r),i[r])i[r].attr("content",o);else{var a=t.element('<meta name="'+r+'" content="'+o+'"/>');n.append(a),i[r]=a}return function(){i[r].attr("content",""),i[r].remove(),delete i[r]}},getMeta:function(t){if(!e(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return i[t].attr("content")}};return t.extend({},r,{$get:function(){return r}})}),function(){function e(e,i){function r(e){return e&&""!==e}var o,a=[],s={};return o={notFoundError:function(t,n){e.error((n||"")+"No instance found for handle",t)},getInstances:function(){return a},get:function(e){if(!r(e))return null;var t,n,i;for(t=0,n=a.length;t<n;t++)if((i=a[t]).$$mdHandle===e)return i;return null},register:function(e,n){return n?(e.$$mdHandle=n,a.push(e),(i=s[n])&&(i.forEach(function(t){t.resolve(e)}),delete s[n]),function(){var t=a.indexOf(e);-1!==t&&a.splice(t,1)}):t.noop;var i},when:function(e){if(r(e)){var t=i.defer(),a=o.get(e);return a?t.resolve(a):(s[e]===n&&(s[e]=[]),s[e].push(t)),t.promise}return i.reject("Invalid `md-component-id` value.")}}}e.$inject=["$log","$q"],t.module("material.core").factory("$mdComponentRegistry",e)}(),function(){function e(e){return{attach:function(n,i,r){return r=t.extend(function(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}(i),r),e.attach(n,i,r)}}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdButtonInkRipple",e)}(),function(){function e(e){return{attach:function(n,i,r){return e.attach(n,i,t.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdCheckboxInkRipple",e)}(),function(){function e(e){return{attach:function(n,i,r){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdListInkRipple",e)}(),function(){function e(e,n){return{controller:t.noop,link:function(t,i,r){r.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,i):e.attach(t,i)}}}function n(e,n,i,r,o,a,s){this.$window=r,this.$timeout=o,this.$mdUtil=a,this.$mdColorUtil=s,this.$scope=e,this.$element=n,this.options=i,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function i(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function r(){return{controller:t.noop}}n.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],t.module("material.core").provider("$mdInkRipple",function(){var e=!1;return{disableInkRipple:function(){e=!0},$get:["$injector",function(i){return{attach:function(r,o,a){return e||o.controller("mdNoInk")?t.noop:i.instantiate(n,{$scope:r,$element:o,rippleOptions:a})}}}]}}).directive("mdInkRipple",e).directive("mdNoInk",r).directive("mdNoBar",r).directive("mdNoStretch",r),n.prototype.color=function(e){var n,i,r=this;return t.isDefined(e)&&(r._color=r._parseColor(e)),r._color||r._parseColor(r.inkRipple())||r._parseColor((n=r.options&&r.options.colorElement?r.options.colorElement:[],(i=n.length?n[0]:r.$element[0])?r.$window.getComputedStyle(i).color:"rgb(0,0,0)"))},n.prototype.calculateColor=function(){return this.color()},n.prototype._parseColor=function(e,t){t=t||1;var n=this.$mdColorUtil;if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?n.rgbToRgba(e):0===e.indexOf("#")?n.hexToRgba(e):void 0},n.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},n.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.createRipple(n,i)}else this.createRipple(e.offsetX,e.offsetY)},n.prototype.handleMouseup=function(){i(this,this.clearRipples)},n.prototype.handleTouchmove=function(){i(this,this.deleteRipples)},n.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},n.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},n.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},n.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},n.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},n.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},n.prototype.createRipple=function(e,n){if(this.isRippleAllowed()){var i=this,r=i.$mdColorUtil,o=t.element('<div class="md-ripple"></div>'),a=this.$element.prop("clientWidth"),s=this.$element.prop("clientHeight"),l=2*Math.max(Math.abs(a-e),e),c=2*Math.max(Math.abs(s-n),n),u=function(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}(this.options.fitRipple,l,c),d=this.calculateColor();o.css({left:e+"px",top:n+"px",background:"black",width:u+"px",height:u+"px",backgroundColor:r.rgbaToRgb(d),borderColor:r.rgbaToRgb(d)}),this.lastRipple=o,this.clearTimeout(),this.timeout=this.$timeout(function(){i.clearTimeout(),i.mousedown||i.fadeInComplete(o)},157.5,!1),this.options.dimBackground&&this.container.css({backgroundColor:d}),this.container.append(o),this.ripples.push(o),o.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){o.addClass("md-ripple-scaled md-ripple-active"),i.$timeout(function(){i.clearRipples()},450,!1)},!1)}},n.prototype.fadeInComplete=function(e){this.lastRipple===e&&(this.timeout||this.mousedown)||this.removeRipple(e)},n.prototype.removeRipple=function(e){var t=this;this.ripples.indexOf(e)<0||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),e.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},450,!1))},n.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){function e(e){return{attach:function(n,i,r){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdTabInkRipple",e)}(),t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}}),function(e){function t(e){var t=!!document.querySelector("[md-themes-disabled]");e.disableTheming(t)}function i(t,i){function r(e,t){var n=S.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function o(t,n){if(p[t])return p[t];var i="string"==typeof(n=n||"default")?p[n]:n,r=new function(t){function n(t){if((t=0===arguments.length||!!t)!==i.isDark){i.isDark=t,i.foregroundPalette=i.isDark?m:h,i.foregroundShadow=i.isDark?f:g;var n=i.isDark?x:E,r=i.isDark?E:x;return e.forEach(n,function(e,t){var n=i.colors[t],o=r[t];if(n)for(var a in n.hues)n.hues[a]===o[a]&&(n.hues[a]=e[a])}),i}}var i=this;i.name=t,i.colors={},i.dark=n,n(!1),w.forEach(function(t){var n=(i.isDark?x:E)[t];i[t+"Palette"]=function(r,o){var a=i.colors[t]={name:r,hues:e.extend({},n,o)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",i.name).replace("%3",r).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(e){if(-1==S.indexOf(e))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",i.name).replace("%3",t).replace("%4",r).replace("%5",S.join(", ")))}),i},i[t+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),i[t+"Palette"].apply(i,e)}})}(t);return i&&e.forEach(i.colors,function(t,n){r.colors[n]={name:t.name,hues:e.extend({},t.hues)}}),p[t]=r,r}function s(t,i,r,a){function s(e){return e===n||""===e||c.THEMES[e]!==n}var c=function(e,i){i===n&&(i=e,e=n),e===n&&(e=t),c.inherit(i,i)};return Object.defineProperty(c,"THEMES",{get:function(){return e.extend({},p)}}),Object.defineProperty(c,"PALETTES",{get:function(){return e.extend({},d)}}),Object.defineProperty(c,"ALWAYS_WATCH",{get:function(){return v}}),c.inherit=function(e,t){function n(t){if(t){s(t)||a.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var n=e.data("$mdThemeName");n&&e.removeClass("md-"+n+"-theme"),e.addClass("md-"+t+"-theme"),e.data("$mdThemeName",t),r&&e.data("$mdThemeController",r)}}var r=t.controller("mdTheme")||e.data("$mdThemeController");if(n(r&&r.$mdTheme||("default"==b?"":b)),r)var o=v||r.$shouldWatch||i.parseAttributeBoolean(e.attr("md-theme-watch")),l=r.registerChanges(function(t){n(t),o?e.on("$destroy",l):l()})},c.registered=s,c.defaultTheme=function(){return b},c.generateTheme=function(e){l(p[e],e,_.nonce)},c.defineTheme=function(e,t){t=t||{};var n=o(e);return t.primary&&n.primaryPalette(t.primary),t.accent&&n.accentPalette(t.accent),t.warn&&n.warnPalette(t.warn),t.background&&n.backgroundPalette(t.background),t.dark&&n.dark(),this.generateTheme(e),r.resolve(e)},c.setBrowserColor=y,c}s.$inject=["$rootScope","$mdUtil","$q","$log"],d={};var c,p={},v=!1,b="default";e.extend(d,t);var y=function(t){var n=(t=e.isObject(t)?t:{}).theme||"default",r=t.hue||"800",o=d[t.palette]||d[p[n].colors[t.palette||"primary"].name];return function(e){var t=i.setMeta("theme-color",e),n=i.setMeta("msapplication-navbutton-color",e);return function(){t(),n()}}(e.isObject(o[r])?o[r].hex:o[r])};return c={definePalette:function(e,t){return t=t||{},d[e]=r(e,t),c},extendPalette:function(t,n){return r(t,e.extend({},d[t]||{},n))},theme:o,configuration:function(){return e.extend({},_,{defaultTheme:b,alwaysWatchTheme:v,registeredStyles:[].concat(_.registeredStyles)})},disableTheming:function(t){_.disableTheming=e.isUndefined(t)||!!t},registerStyles:function(e){_.registeredStyles.push(e)},setNonce:function(e){_.nonce=e},generateThemesOnDemand:function(e){_.generateOnDemand=e},setDefaultTheme:function(e){b=e},alwaysWatchTheme:function(e){v=e},enableBrowserColor:y,$get:s,_LIGHT_DEFAULT_HUES:E,_DARK_DEFAULT_HUES:x,_PALETTES:d,_THEMES:p,_parseRules:a,_rgba:u}}function r(t,n,i,r,o,a){return{priority:101,link:{pre:function(s,l,c){var u=[],d=n.startSymbol(),p=n.endSymbol(),h=c.mdTheme.trim(),m=h.substr(0,d.length)===d&&h.lastIndexOf(p)===h.length-p.length,f="::"===c.mdTheme.split(d).join("").split(p).join("").trim().substr(0,"::".length),g={registerChanges:function(t,n){return n&&(t=e.bind(n,t)),u.push(t),function(){var e=u.indexOf(t);e>-1&&u.splice(e,1)}},$setTheme:function(e){t.registered(e)||a.warn("attempted to use unregistered theme '"+e+"'"),g.$mdTheme=e;for(var n=u.length;n--;)u[n](e)},$shouldWatch:r.parseAttributeBoolean(l.attr("md-theme-watch"))||t.ALWAYS_WATCH||m&&!f};l.data("$mdThemeController",g);var v=function(){var e=n(c.mdTheme)(s);return i(e)(s)||e},b=function(t){if("string"==typeof t)return g.$setTheme(t);o.when(e.isFunction(t)?t():t).then(function(e){g.$setTheme(e)})};b(v());var y=s.$watch(v,function(e){e&&(b(e),g.$shouldWatch||y())})}}}}function o(e){return e}function a(t,n,i){!function(e,t){if(!d[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(d).join(", ")))}(t,n),i=i.replace(/THEME_NAME/g,t.name);var r=new RegExp("\\.md-"+t.name+"-theme","g");i=i.replace(/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,function(e,n,i,r,o){return"foreground"===n?"shadow"==i?t.foregroundShadow:t.foregroundPalette[i]||t.foregroundPalette[1]:(0!==i.indexOf("hue")&&"default"!==i||(i=t.colors[n].hues[i]),u((d[t.colors[n].name][i]||"")[o?"contrast":"value"],r))});var o=new RegExp("('|\")?{{\\s*([a-zA-Z]+)-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),a=[];return e.forEach(["default","hue-1","hue-2","hue-3"],function(e){var n=i.replace(o,function(n,i,r,o,a){var s=t.colors[r];return u(d[s.name][s.hues[e]]["color"===o?"value":"contrast"],a)});"default"!==e&&(n=n.replace(r,".md-"+t.name+"-theme.md-"+e)),"default"==t.name&&(n=n.replace(/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g,function(e,t,n){return e+", "+t+n})),a.push(n)}),a}function s(t,n){var i=document.head,r=i?i.firstElementChild:null,o=!_.disableTheming&&t.has("$MD_THEME_CSS")?t.get("$MD_THEME_CSS"):"";if(o+=_.registeredStyles.join(""),r&&0!==o.length){e.forEach(d,function(t,n){var i=t.contrastDefaultColor,r=t.contrastLightColors||[],o=t.contrastStrongLightColors||[],a=t.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,e.forEach(t,function(n,s){if(!e.isObject(n)){var l=c(n);if(!l)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",t.name).replace("%3",s));t[s]={hex:t[s],value:l,contrast:"light"===i?a.indexOf(s)>-1?v:o.indexOf(s)>-1?y:b:r.indexOf(s)>-1?o.indexOf(s)>-1?y:b:v}}})});var a=o.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.trim().length}).map(function(e){return e.trim()+"}"});w.forEach(function(e){T[e]=""}),a.forEach(function(e){for(var t,n=0;t=w[n];n++)if(e.indexOf(".md-"+t)>-1)return T[t]+=e;for(n=0;t=w[n];n++)if(e.indexOf(t)>-1)return T[t]+=e;return T[C]+=e}),_.generateOnDemand||e.forEach(n.THEMES,function(e){p[e.name]||"default"!==n.defaultTheme()&&"default"===e.name||l(e,e.name,_.nonce)})}}function l(e,t,n){var i=document.head,r=i?i.firstElementChild:null;p[t]||(w.forEach(function(t){for(var o=a(e,t,T[t]);o.length;){var s=o.shift();if(s){var l=document.createElement("style");l.setAttribute("md-theme-style",""),n&&l.setAttribute("nonce",n),l.appendChild(document.createTextNode(s)),i.insertBefore(l,r)}}}),p[e.name]=!0)}function c(t){if(e.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),o=t.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),[parseInt(i,16),parseInt(r,16),parseInt(o,16)]}}function u(t,n){return t?(4==t.length&&(t=e.copy(t),n?t.pop():n=t.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+t.join(",")+","+n+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}t.$inject=["$mdThemingProvider"],r.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],o.$inject=["$mdTheming"],i.$inject=["$mdColorPalette","$$mdMetaProvider"],s.$inject=["$injector","$mdTheming"],e.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",r).directive("mdThemable",o).directive("mdThemesDisabled",function(){return _.disableTheming=!0,{restrict:"A",priority:"900"}}).provider("$mdTheming",i).config(t).run(s);var d,p={},h={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},m={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},f="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",g="",v=c("rgba(0,0,0,0.87)"),b=c("rgba(255,255,255,0.87)"),y=c("rgb(255,255,255)"),w=["primary","accent","warn","background"],C="primary",E={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},x={background:{default:"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};w.forEach(function(e){var t={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};E[e]||(E[e]=t),x[e]||(x[e]=t)});var S=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],_={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},T={}}(e.angular),function(){t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(n,i,r,o){return function(a){return function(n,i,r,o,a){var s;return s={translate3d:function(e,t,n,i){function r(n){return a(e,{to:n||t,addClass:i.transitionOutClass,removeClass:i.transitionInClass,duration:i.duration}).start()}return a(e,{from:t,to:n,addClass:i.transitionInClass,removeClass:i.transitionOutClass,duration:i.duration}).start().then(function(){return r})},waitTransitionEnd:function(t,n){var a=3e3;return i(function(i,s){function l(e){e&&e.target!==t[0]||(e&&r.cancel(u),t.off(o.CSS.TRANSITIONEND,l),i())}var c;("0s"==(c=(c=(n=n||{}).cachedTransitionStyles)||e.getComputedStyle(t[0])).transitionDuration||!c.transition&&!c.transitionProperty)&&(a=0);var u=r(l,n.timeout||a);t.on(o.CSS.TRANSITIONEND,l)})},calculateTransformValues:function(e,t){var n,i,r=t.element,o=t.bounds;if(r||o){var a=r?s.clientRect(r)||(n=e?e.parent():null,(i=n?n.parent():null)?s.clientRect(i):null):s.copyRect(o),l=s.copyRect(e[0].getBoundingClientRect()),c=s.centerPointFor(l),u=s.centerPointFor(a);return{centerX:u.x-c.x,centerY:u.y-c.y,scaleX:Math.round(100*Math.min(.5,a.width/l.width))/100,scaleY:Math.round(100*Math.min(.5,a.height/l.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(e,i){return t.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )")(s.calculateTransformValues(e,i))},calculateSlideToOrigin:function(e,i){return t.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 )")(s.calculateTransformValues(e,i))},toCss:function(e){function n(e,n,r){t.forEach(n.split(" "),function(e){i[e]=r})}var i={};return t.forEach(e,function(e,r){if(!t.isUndefined(e))if("left top right bottom width height x y min-width min-height max-width max-height".indexOf(r)>=0)i[r]=e+"px";else switch(r){case"transition":n(r,o.CSS.TRANSITION,e);break;case"transform":n(r,o.CSS.TRANSFORM,e);break;case"transformOrigin":n(r,o.CSS.TRANSFORM_ORIGIN,e);break;case"font-size":i["font-size"]=e}}),i},toTransformCss:function(e,n,i){var r={};return t.forEach(o.CSS.TRANSFORM.split(" "),function(t){r[t]=e}),n&&(i=i||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=i),r},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n,i=t.element(e)[0].getBoundingClientRect();return(n=i)&&n.width>0&&n.height>0?s.copyRect(i):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}(a,n,i,r,o)}}])}(),t.version.minor>=4?t.module("material.core.animate",[]):function(){function e(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var n=t.forEach,i=t.isDefined(document.documentElement.style.WebkitAppearance),r=i?"-webkit-":"",o=(i?"webkitTransitionEnd ":"")+"transitionend",a=(i?"webkitAnimationEnd ":"")+"animationend",s=["$q","$$rAFMutex",function(e,i){function r(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=i(),this._state=0}return r.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(n(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},r.all=function(e,t){function i(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;n(e,function(e){e.done(i)})},r}];t.module("material.core.animate",[]).factory("$$forceReflow",["$document",function(e){return function(){return e[0].body.clientWidth+1}}]).factory("$$AnimateRunner",s).factory("$$rAFMutex",["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(t,s,l,c,u,d,p){function h(e,t){t.addClass&&(u.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(u.removeClass(e,t.removeClass),t.removeClass=null)}function m(e){var t=0,i=(e||"").split(/\s*,\s*/);return n(i,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function f(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function b(t,n){var i=v(t),o=e(r+"transition-delay");i.style[o]=n?"-9999s":""}var y,w=[];return function(u,C){var E=[],x=v(u),S=x&&p.enabled(),_=!1,T=!1;S&&(C.transitionStyle&&E.push([r+"transition",C.transitionStyle]),C.keyframeStyle&&E.push([r+"animation",C.keyframeStyle]),C.delay&&E.push([r+"transition-delay",C.delay+"s"]),C.duration&&E.push([r+"transition-duration",C.duration+"s"]),_=C.keyframeStyle||C.to&&(C.duration>0||C.transitionStyle),T=!!C.addClass||!!C.removeClass,b(u,!0));var A=S&&(_||T);f(u,C);var k,$,M=!1;return{close:t.close,start:function(){function p(){if(!M)return M=!0,k&&$&&u.off(k,$),h(u,C),function(e,t){f(e,t),g(e,t)}(u,C),n(E,function(t){x.style[e(t[0])]=""}),_.complete(!0),_}var S,_=new l;return S=function(){if(b(u,!1),!A)return p();n(E,function(t){var n=t[0],i=t[1];x.style[e(n)]=i}),h(u,C);var s=function(e){function n(e){return i?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var r=v(e),o=t.getComputedStyle(r),a=m(o[n("transitionDuration")]),s=m(o[n("animationDuration")]),l=m(o[n("transitionDelay")]),c=m(o[n("animationDelay")]);return s*=parseInt(o[n("animationIterationCount")],10)||1,{duration:Math.max(s,a),delay:Math.max(c,l),animationDuration:s,transitionDuration:a,animationDelay:c,transitionDelay:l}}(u);if(0===s.duration)return p();var l=[];C.easing&&(s.transitionDuration&&l.push([r+"transition-timing-function",C.easing]),s.animationDuration&&l.push([r+"animation-timing-function",C.easing])),C.delay&&s.animationDelay&&l.push([r+"animation-delay",C.delay+"s"]),C.duration&&s.animationDuration&&l.push([r+"animation-duration",C.duration+"s"]),n(l,function(t){var n=t[0],i=t[1];x.style[e(n)]=i,E.push(t)});var c=1e3*s.delay,f=s.duration,y=1e3*f,w=Date.now();k=[],s.transitionDuration&&k.push(o),s.animationDuration&&k.push(a),k=k.join(" "),$=function(e){e.stopPropagation();var t=e.originalEvent||e,n=t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-w,0)>=c&&i>=f&&p()},u.on(k,$),g(u,C),d(p,c+1.5*y,!1)},y&&y(),w.push(S),y=s(function(){y=null;for(var e=c(),t=0;t<w.length;t++)w[t](e);w.length=0}),_}}}}])}(),t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]),t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,n,i,r,o,a,s,l){return{restrict:"E",link:function(c,u,d){function p(){var e=parseInt(h.height,10)+Math.abs(parseInt(h.top,10));u.css("height",e+"px")}var h;i.pin&&i.pin(u,r),s(function(){if("fixed"===(h=o.getComputedStyle(l[0].body)).position){var i=n.debounce(function(){h=o.getComputedStyle(l[0].body),p()},60,null,!1);p(),t.element(o).on("resize",i),c.$on("$destroy",function(){t.element(o).off("resize",i)})}var r=u.parent();if(r.length){"BODY"===r[0].nodeName&&u.css("position","fixed");"static"===o.getComputedStyle(r[0]).position&&a.warn("<md-backdrop> may not work properly in a scrolled, static-positioned parent container."),e.inherit(u,r)}})}}}]),function(){function e(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e,n,o,a,s,l,c,u){var d;return{themable:!0,onShow:function(p,h,m,f){(h=o.extractElementByName(h,"md-bottom-sheet")).attr("tabindex","-1"),h.hasClass("ng-cloak")&&u.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.",h[0]),m.disableBackdrop||((d=o.createBackdrop(p,"md-bottom-sheet-backdrop md-opaque"))[0].tabIndex=-1,m.clickOutsideToClose&&d.on("click",function(){o.nextTick(s.cancel,!0)}),a.inherit(d,m.parent),e.enter(d,m.parent,null));var g=new function(e,t){function a(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function l(t){var i=t.pointer.distanceY;i<5&&(i=Math.max(-r,i/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(r+i)+"px,0)")}function u(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>i)){var r=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(r/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,a+"ms"),o.nextTick(s.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var d=c.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",a).on("$md.drag",l).on("$md.dragend",u),{element:e,cleanup:function(){d(),t.off("$md.dragstart",a),t.off("$md.drag",l),t.off("$md.dragend",u)}}}(h,m.parent);return m.bottomSheet=g,a.inherit(g.element,m.parent),m.disableParentScroll&&(m.restoreScroll=o.disableScrollAround(g.element,m.parent)),e.enter(g.element,m.parent,d).then(function(){var e=o.findFocusTarget(h)||t.element(h[0].querySelector("button")||h[0].querySelector("a")||h[0].querySelector(o.prefixer("ng-click",!0)))||d;m.escapeToClose&&(m.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&o.nextTick(s.cancel,!0)},l.on("keyup",m.rootElementKeyupCallback),e&&e.focus())})},onRemove:function(t,n,i){var r=i.bottomSheet;return i.disableBackdrop||e.leave(d),e.leave(r.element).then(function(){i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll),r.cleanup()})},disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var i=.5,r=80;return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}e.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"],t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n)}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}function n(e,n,i,r){function o(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}return{restrict:"EA",replace:!0,transclude:!0,template:function(e,t){return o(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" type="'+(void 0===t.type?"button":t.type)+'" ng-transclude></button>'},link:function(a,s,l){n(s),e.attach(a,s),i.expectWithoutText(s,"aria-label"),o(l)&&t.isDefined(l.ngDisabled)&&a.$watch(l.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){!0===l.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),s.hasClass("md-no-focus")||(s.on("focus",function(){r.isUserInvoked()&&"keyboard"!==r.getLastInteractionType()||s.addClass("md-focused")}),s.on("blur",function(){s.removeClass("md-focused")}))}}}n.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],e.$inject=["$mdTheming"],t.module("material.components.button",["material.core"]).directive("mdButton",n).directive("a",e)}(),function(){function e(e){return{restrict:"E",link:function(t,n,i){n.addClass("_md"),e(n)}}}e.$inject=["$mdTheming"],t.module("material.components.card",["material.core"]).directive("mdCard",e)}(),function(){function e(e,n,i,r,o,a){return e=e[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:i.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:function(s,l){return l.$set("tabindex",l.tabindex||"0"),l.$set("type","checkbox"),l.$set("role",l.type),{pre:function(e,t){t.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()})},post:function(s,l,c,u){function d(e){l[0].hasAttribute("disabled")||s.skipToggle||s.$apply(function(){var t=c.ngChecked&&c.ngClick?c.checked:!b.$viewValue;b.$setViewValue(t,e&&e.type),b.$render()})}function p(e){(h=!1!==e)&&l.attr("aria-checked","mixed"),l.toggleClass("md-indeterminate",h)}var h,m,f,g,v=u[0],b=u[1]||o.fakeNgModel(),y=u[2];if(v){var w=v.isErrorGetter||function(){return b.$invalid&&(b.$touched||y&&y.$submitted)};v.input=l,s.$watch(w,v.setInvalid)}r(l),l.children().on("focus",function(){l.focus()}),o.parseAttributeBoolean(c.mdIndeterminate)&&(p(),s.$watch(c.mdIndeterminate,p)),c.ngChecked&&s.$watch(s.$eval.bind(s,c.ngChecked),function(e){b.$setViewValue(e),b.$render()}),m="ngDisabled",f="tabindex",g={true:"-1",false:c.tabindex},c[m]&&s.$watch(c[m],function(e){g[e]&&l.attr(f,g[e])}),n.expectWithText(l,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},c,[b]),l.on("click",d).on("keypress",function(e){var t=e.which||e.keyCode;t!==i.KEY_CODE.SPACE&&t!==i.KEY_CODE.ENTER||(e.preventDefault(),l.addClass("md-focused"),d(e))}).on("focus",function(){"keyboard"===a.getLastInteractionType()&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),b.$render=function(){l.toggleClass("md-checked",!!b.$viewValue&&!h)}}}}}}e.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e)}(),t.module("material.components.chips",["material.core","material.components.autocomplete"]),function(){function e(e,n,i){function o(t,i){i=i||!1;var r=e.PALETTES[t.palette][t.hue];return r=i?r.contrast:r.value,n.supplant("rgba({0}, {1}, {2}, {3})",[r[0],r[1],r[2],r[3]||t.opacity])}function a(i){var o=i.split("-"),a=t.isDefined(e.THEMES[o[0]])?o.splice(0,1)[0]:e.defaultTheme();return{theme:a,palette:function(t,i){var o=t.length>1&&-1!==r.indexOf(t[1]),a=t[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(o&&(a=t[0]+"-"+t.splice(1,1)),-1===r.indexOf(a)){var s=e.THEMES[i].colors[a];if(!s)throw new Error(n.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=s.name}return a}(o,a),hue:function(t,i){var r=e.THEMES[i].colors;if("hue"===t[1]){var o=parseInt(t.splice(2,1)[0],10);if(o<1||o>3)throw new Error(n.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:o}));if(t[1]="hue-"+o,!(t[0]in r))throw new Error(n.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(r).join(", "),usedTheme:t[0]}));return r[t[0]].hues[t[1]]}return t[1]||r[t[0]in r?t[0]:"primary"].hues.default}(o,a),opacity:o[2]||1}}return r=r||Object.keys(e.PALETTES),{applyThemeColors:function(e,n){try{n&&e.css((s={},l=(r=n).hasOwnProperty("color"),t.forEach(r,function(e,t){var n=a(e),i=t.indexOf("background")>-1;s[t]=o(n),i&&!l&&(s.color=o(n,!0))}),s))}catch(e){i.error(e.message)}var r,s,l},getThemeColor:function(e){return o(a(e))},hasTheme:function(n){return t.isDefined(e.THEMES[n.split("-")[0]])}}}function n(e,n,r,o){return{restrict:"A",require:["^?mdTheme"],compile:function(a,s){var l=function(){var e=s.mdColors,r=e.indexOf("::")>-1,o=!!r||i.test(s.mdColors);s.mdColors=e.replace("::","");var a=t.isDefined(s.mdColorsWatch);return!r&&!o&&(!a||n.parseAttributeBoolean(s.mdColorsWatch))}();return function(n,i,a,s){var c=s[0],u={},d=function(t){"string"!=typeof t&&(t=""),a.mdColors||(a.mdColors="{}");var i=o(a.mdColors)(n);return c&&Object.keys(i).forEach(function(n){var r=i[n];e.hasTheme(r)||(i[n]=(t||c.$mdTheme)+"-"+r)}),p(i),i},p=function(e){if(!t.equals(e,u)){var n=Object.keys(u);u.background&&!n.color&&n.push("color"),n.forEach(function(e){i.css(e,"")})}u=e},h=t.noop;c&&(h=c.registerChanges(function(t){e.applyThemeColors(i,d(t))})),n.$on("$destroy",function(){h()});try{l?n.$watch(d,t.bind(this,e.applyThemeColors,i),!0):e.applyThemeColors(i,d())}catch(n){r.error(n.message)}}}}}n.$inject=["$mdColors","$mdUtil","$log","$parse"],e.$inject=["$mdTheming","$mdUtil","$log"];var i=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,r=null;t.module("material.components.colors",["material.core"]).directive("mdColors",n).service("$mdColors",e)}(),function(){function e(e){return{restrict:"E",controller:["$scope","$element",function(e,t){this.$scope=e,this.$element=t}],link:function(n,i){var r;i.addClass("_md"),e(i),n.$broadcast("$mdContentLoaded",i),r=i[0],t.element(r).on("$md.pressdown",function(e){"t"===e.pointer.type&&(e.$materialScrollFixed||(e.$materialScrollFixed=!0,0===r.scrollTop?r.scrollTop=1:r.scrollHeight===r.scrollTop+r.offsetHeight&&(r.scrollTop-=1)))})}}}e.$inject=["$mdTheming"],t.module("material.components.content",["material.core"]).directive("mdContent",e)}(),t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){function e(e,n,i){return{restrict:"E",link:function(r,o){o.addClass("_md"),n(o),e(function(){function e(){o.toggleClass("md-content-overflow",a.scrollHeight>a.clientHeight)}var n,a=o[0].querySelector("md-dialog-content");a&&(n=a.getElementsByTagName("img"),e(),t.element(n).on("load",e)),r.$on("$destroy",function(){i.destroy(o)})})}}}function i(e){function i(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:r,controllerAs:"dialog",bindToController:!0}}function r(e,n){this.$onInit=function(){var i="prompt"==this.$type;i&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){e.hide(!i||this.result)},this.abort=function(){e.cancel()},this.keypress=function(r){var o=i&&this.required&&!t.isDefined(this.result);r.keyCode!==n.KEY_CODE.ENTER||o||e.hide(this.result)}}}function o(e,i,r,o,l,c,u,d,p,h,m,f,g){function v(e,t){var n="fixed"==u.getComputedStyle(c[0].body).position,i=t.backdrop?u.getComputedStyle(t.backdrop[0]):null,r=i?Math.min(c[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0,o={top:e.css("top"),height:e.css("height")},a=Math.abs(t.parent[0].getBoundingClientRect().top);return e.css({top:(n?a:0)+"px",height:r?r+"px":"100%"}),function(){e.css(o)}}function b(e,t){if(-1!==t.indexOf(e.nodeName))return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:function(e){e.defaultTheme=m.defaultTheme(),function(e){var n;e.targetEvent&&e.targetEvent.target&&(n=t.element(e.targetEvent.target));var i=n&&n.controller("mdTheme");if(i){e.themeWatch=i.$shouldWatch;var r=e.theme||i.$mdTheme;r&&(e.scope.theme=r);var o=i.registerChanges(function(t){e.scope.theme=t,e.themeWatch||o()})}}(e)},onShow:function(h,m,f,y){t.element(c[0].body).addClass("md-dialog-is-showing");var w=m.find("md-dialog");return w.hasClass("ng-cloak")&&p.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",m[0]),function(e){function i(e,i){var r=t.element(e||{});if(r&&r.length){var o=t.isFunction(r[0].getBoundingClientRect);return t.extend(i||{},{element:o?r:n,bounds:o?r[0].getBoundingClientRect():t.extend({},{top:0,left:0,height:0,width:0},r[0]),focus:t.bind(r,r.focus)})}}function r(e,n){return t.isString(e)&&(e=c[0].querySelector(e)),t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=r(e.parent,d),e.closeTo=i(r(e.closeTo)),e.openFrom=i(r(e.openFrom)),e.targetEvent&&(e.origin=i(e.targetEvent.target,e.origin),e.originInteraction=g.getLastInteractionType())}(f),function(e,t){var n="alert"===t.$type?"alertdialog":"dialog",o=e.find("md-dialog-content"),l=e.attr("id"),c="dialogContent_"+(l||r.nextUid());e.attr({role:n,tabIndex:"-1"}),0===o.length&&(o=e,l&&(c=l)),o.attr("id",c),e.attr("aria-describedby",c),t.ariaLabel?i.expect(e,"aria-label",t.ariaLabel):i.expectAsync(e,"aria-label",function(){if(t.title)return t.title;var e=o.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),(a=document.createElement("div")).classList.add("md-dialog-focus-trap"),a.tabIndex=0,s=a.cloneNode(!1);var u=function(){e.focus()};a.addEventListener("focus",u),s.addEventListener("focus",u),e[0].parentNode.insertBefore(a,e[0]),e.after(s)}(w,f),function(e,t,n){n.disableParentScroll&&(n.restoreScroll=r.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=r.createBackdrop(e,"md-dialog-backdrop md-opaque"),l.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():l.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}(h,m,f),function(n,i){var a=t.element(u),s=r.debounce(function(){v(n,i)},60),l=[],c=function(){var t="alert"==i.$type?e.hide:e.cancel;r.nextTick(t,!0)};if(i.escapeToClose){var d=i.parent,p=function(e){e.keyCode===o.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),c())};n.on("keydown",p),d.on("keydown",p),l.push(function(){n.off("keydown",p),d.off("keydown",p)})}if(a.on("resize",s),l.push(function(){a.off("resize",s)}),i.clickOutsideToClose){var h,m=n,f=function(e){h=e.target},g=function(e){h===m[0]&&e.target===m[0]&&(e.stopPropagation(),e.preventDefault(),c())};m.on("mousedown",f),m.on("mouseup",g),l.push(function(){m.off("mousedown",f),m.off("mouseup",g)})}i.deactivateListeners=function(){l.forEach(function(e){e()}),i.deactivateListeners=null}}(m,f),function(e,t){t.parent.append(e),t.reverseContainerStretch=v(e,t);var n=e.find("md-dialog"),i=r.dom.animator,o=i.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(o(n,t.openFrom||t.origin)),l=i.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!t.fullscreen),i.translate3d(n,s,l,a).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=i.toTransformCss(o(n,t.closeTo)),i.translate3d(n,s,l,a)):e(l=i.toTransformCss(o(n,t.origin)))},t.clearAnimate=function(){return delete t.clearAnimate,n.removeClass([a.transitionOutClass,a.transitionInClass].join(" ")),i.translate3d(n,l,i.toTransformCss(""),{})},!0})}(m,f).then(function(){!function(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,r=0;r<t.length;r++)e===t[r]||b(t[r],["SCRIPT","STYLE"])||t[r].hasAttribute("aria-live")||t[r].setAttribute("aria-hidden",i);n(e=e.parentNode)}}var i=!0;n(e[0]),t.unlockScreenReader=function(){i=!1,n(e[0]),t.unlockScreenReader=null}}(m,f),m[0].querySelector(".md-actions")&&p.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>."),function(){if(f.focusOnOpen){(r.findFocusTarget(m)||m[0].querySelector(".dialog-close, md-dialog-actions button:last-child")||w).focus()}}()})},onShowing:function(e,t,n,i){if(i){var r=i.htmlContent||n.htmlContent||"",o=i.textContent||n.textContent||i.content||n.content||"";if(r&&!h.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r&&o)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");i.mdHtmlContent=r,i.mdTextContent=o}},onRemove:function(e,n,i){function r(){t.element(c[0].body).removeClass("md-dialog-is-showing"),i.contentElement&&i.reverseContainerStretch(),i.cleanupElement(),i.$destroy||"keyboard"!==i.originInteraction||i.origin.focus()}return i.deactivateListeners(),i.unlockScreenReader(),i.hideBackdrop(i.$destroy),a&&a.parentNode&&a.parentNode.removeChild(a),s&&s.parentNode&&s.parentNode.removeChild(s),i.$destroy?r():function(e,t){return t.reverseAnimate().then(function(){t.contentElement&&t.clearAnimate()})}(0,i).then(r)},clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){var n=f.startSymbol(),i=f.endSymbol();return'<div class="md-dialog-container" tabindex="-1" md-theme="'+n+(t.themeWatch?"":"::")+"theme"+i+'">'+function(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}(e)+"</div>"}}}var a,s;return r.$inject=["$mdDialog","$mdConstant"],o.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:o}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:i}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:i}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:i})}e.$inject=["$$rAF","$mdTheming","$mdDialog"],i.$inject=["$$interimElementProvider"],t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",i)}(),function(){function e(e){return{restrict:"E",link:e}}e.$inject=["$mdTheming"],t.module("material.components.divider",["material.core"]).directive("mdDivider",e)}(),function(){function e(e){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(t,n){var i=t.children();e.prefixer().hasAttribute(i,"ng-repeat")?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}e.$inject=["$mdUtil"],t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}(),function(){function e(e,n,i,r,o,a){function s(e){"click"==e.type&&function(e){var t;t=e.target,r.getClosest(t,"md-fab-trigger")&&b.toggle(),function(e){return r.getClosest(e,"md-fab-actions")}(e.target)&&b.close()}(e),"focusout"!=e.type||v||(v=a(function(){b.close()},100,!1)),"focusin"==e.type&&v&&(a.cancel(v),v=null)}function l(){b.currentActionIndex=-1}function c(){n[0].scrollHeight>0?i.addClass(n,"_md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):y<10&&(a(c,100),y+=1)}function u(){n.off("keydown",p),t.element(document).off("click touchend",d)}function d(e){if(e.target){var t=r.getClosest(e.target,"md-fab-trigger"),n=r.getClosest(e.target,"md-fab-actions");t||n||b.close()}}function p(e){switch(e.which){case o.KEY_CODE.ESCAPE:return b.close(),e.preventDefault(),!1;case o.KEY_CODE.LEFT_ARROW:return function(e){"left"===b.direction?m(e):h(e)}(e),!1;case o.KEY_CODE.UP_ARROW:return function(e){"down"===b.direction?h(e):m(e)}(e),!1;case o.KEY_CODE.RIGHT_ARROW:return function(e){"left"===b.direction?h(e):m(e)}(e),!1;case o.KEY_CODE.DOWN_ARROW:return function(e){"up"===b.direction?h(e):m(e)}(e),!1}}function h(e){f(e,-1)}function m(e){f(e,1)}function f(e,n){var i=function(){var e=g()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}();b.currentActionIndex=b.currentActionIndex+n,b.currentActionIndex=Math.min(i.length-1,b.currentActionIndex),b.currentActionIndex=Math.max(0,b.currentActionIndex);var r=t.element(i[b.currentActionIndex]).children()[0];t.element(r).attr("tabindex",0),r.focus(),e.preventDefault(),e.stopImmediatePropagation()}function g(){return n.find("md-fab-actions")}var v,b=this,y=0;b.open=function(){e.$evalAsync("vm.isOpen = true")},b.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},b.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},b.$onInit=function(){var o,a,h;b.direction=b.direction||"down",b.isOpen=b.isOpen||!1,l(),n.addClass("md-animations-waiting"),o=["click","focusin","focusout"],t.forEach(o,function(e){n.on(e,s)}),e.$on("$destroy",function(){t.forEach(o,function(e){n.off(e,s)}),u()}),e.$watch("vm.direction",function(e,t){i.removeClass(n,"md-"+t),i.addClass(n,"md-"+e),l()}),e.$watch("vm.isOpen",function(e){l(),a&&h||(a=n.find("md-fab-trigger"),h=g()),e?(n.on("keydown",p),r.nextTick(function(){t.element(document).on("click touchend",d)})):u();var o=e?"md-is-open":"",s=e?"":"md-is-open";a.attr("aria-haspopup",!0),a.attr("aria-expanded",e),h.attr("aria-hidden",!e),i.setClass(n,o,s)}),c()},1===t.version.major&&t.version.minor<=4&&this.$onInit()}e.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],t.module("material.components.fabShared",["material.core"]).controller("MdFabController",e)}(),function(){function n(n){function i(e){n(e,r,!1)}function o(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),a=i.querySelector("md-fab-trigger"),s=i.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(o,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=o.length-t+l}),a.style.zIndex=l+o.length+1,r.isOpen||t.forEach(o,function(e,t){var n,i,o=e.style,s=(a.clientHeight-e.clientHeight)/2,l=(a.clientWidth-e.clientWidth)/2;switch(r.direction){case"up":n=e.scrollHeight*(t+1)+s,i="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),i="Y";break;case"left":n=e.scrollWidth*(t+1)+l,i="X";break;case"right":n=-(e.scrollWidth*(t+1)+l),i="X"}var c="translate"+i+"("+n+"px)";o.transform=o.webkitTransform=c})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(o(e),i(n)):n()},removeClass:function(e,t,n){o(e),i(n)}}}function i(n){function i(e){n(e,r,!1)}function o(n){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),s=i.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(o,function(e,t){var n=e.style,i=t*a;n.opacity=r.isOpen?1:0,n.transform=n.webkitTransform=r.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(r.isOpen?i:o.length-i)+"ms",n.zIndex=o.length-t+l})}var a=65;return{addClass:function(e,t,n){o(e),i(n)},removeClass:function(e,t,n){o(e),i(n)}}}n.$inject=["$timeout"],i.$inject=["$timeout"];var r=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",function(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(e,t){t.prepend('<div class="_md-css-variables"></div>')}}}).animation(".md-fling",n).animation(".md-scale",i).service("mdFabSpeedDialFlingAnimation",n).service("mdFabSpeedDialScaleAnimation",i)}(),function(){function n(){function n(n,i,r){if(i){var o=n[0],a=n.controller("mdFabToolbar"),s=o.querySelector(".md-fab-toolbar-background"),l=o.querySelector("md-fab-trigger button"),c=o.querySelector("md-toolbar"),u=o.querySelector("md-fab-trigger button md-icon"),d=n.find("md-fab-actions").children();if(l&&s){var p=e.getComputedStyle(l).getPropertyValue("background-color"),h=o.offsetWidth,m=(o.offsetHeight,h/l.offsetWidth*2);s.style.backgroundColor=p,s.style.borderRadius=h+"px",a.isOpen?(c.style.pointerEvents="inherit",s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",s.style.transform="scale("+m+")",s.style.transitionDelay="0ms",u&&(u.style.transitionDelay=".3s"),t.forEach(d,function(e,t){e.style.transitionDelay=25*(d.length-t)+"ms"})):(c.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",u&&(u.style.transitionDelay="0ms"),t.forEach(d,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,i){n(e,t),i()},removeClass:function(e,t,i){n(e,t),i()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",function(){return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}}}).animation(".md-fab-toolbar",n).service("mdFabToolbarAnimation",n)}(),function(){function e(e,i,r,o){return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:function(n,a,s,l){function c(e){null==e?l.invalidateLayout():o(e)&&l.invalidateLayout()}function u(e){return g+e+v}function d(){var e=o.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function p(e){return/\D$/.test(e)?e:e+"px"}a.addClass("_md"),a.attr("role","list"),l.layoutDelegate=function(e){var i,l=[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed}),c={tileSpans:(i=l,[].map.call(i,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})),colCount:function(){var e=parseInt(o.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}(),rowMode:d(),rowHeight:function(){var e=o.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";switch(d()){case"fixed":return p(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}(),gutter:p(o.getResponsiveAttribute(s,"md-gutter")||1)};if(e||!t.equals(c,h)){var u=r(c.colCount,c.tileSpans,l).map(function(e,n){return{grid:{element:a,style:function(e,t,n,i,r){var o={};switch(i){case"fixed":o.height=w({unit:r,span:t,gutter:n}),o.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/r),c=b({share:l,gutterShare:a,gutter:n});o.height="",o.paddingBottom=w({unit:c,span:t,gutter:n})}return o}(c.colCount,n,c.gutter,c.rowMode,c.rowHeight)},tiles:e.map(function(e,i){return{element:t.element(l[i]),style:function(e,t,n,i,r,o,a){var s=1/n*100,l=(n-1)/n,c=b({share:s,gutterShare:l,gutter:r}),u="rtl"!=document.dir&&"rtl"!=document.body.dir?{left:y({unit:c,offset:e.col,gutter:r}),width:w({unit:c,span:t.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""}:{right:y({unit:c,offset:e.col,gutter:r}),width:w({unit:c,span:t.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":u.top=y({unit:a,offset:e.row,gutter:r}),u.height=w({unit:a,span:t.row,gutter:r});break;case"ratio":var d=s/a,p=b({share:d,gutterShare:l,gutter:r});u.paddingTop=w({unit:p,span:t.row,gutter:r}),u.marginTop=y({unit:p,offset:e.row,gutter:r});break;case"fit":var h=(i-1)/i;p=b({share:d=1/i*100,gutterShare:h,gutter:r}),u.top=y({unit:p,offset:e.row,gutter:r}),u.height=w({unit:p,span:t.row,gutter:r})}return u}(e.position,e.spans,c.colCount,n,c.gutter,c.rowMode,c.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:u}}),h=c}};var h,m=t.bind(l,l.invalidateLayout),f=function(){for(var e in i.MEDIA)o(e),o.getQuery(i.MEDIA[e]).addListener(m);return o.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,c)}();n.$on("$destroy",function(){for(var e in l.layoutDelegate=t.noop,f(),i.MEDIA)o.getQuery(i.MEDIA[e]).removeListener(m)});var g=e.startSymbol(),v=e.endSymbol(),b=e(u("share")+"% - ("+u("gutter")+" * "+u("gutterShare")+")"),y=e("calc(("+u("unit")+" + "+u("gutter")+") * "+u("offset")+")"),w=e("calc(("+u("unit")+") * "+u("span")+" + ("+u("span")+" - 1) * "+u("gutter")+")")}}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function i(e){function n(t,n){var i,o,a,s,l,c;return s=e.time(function(){o=function(e,t){function n(){o=0,a++,i(0,e,-1)}function i(e,t,n){for(var i=e;i<e+t;i++)s[i]=Math.max(s[i]+n,0)}function r(e){var t;for(t=e;t<s.length;t++)if(0!==s[t])return t;if(t===s.length)return t}var o=0,a=0,s=function(){for(var t=[],n=0;n<e;n++)t.push(0);return t}();return{positioning:t.map(function(t,l){return{spans:t,position:function(t,l){if(t.col>e)throw"md-grid-list: Tile at position "+l+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var c=0,u=0;u-c<t.col;)o>=e?n():-1!==(c=s.indexOf(0,o))&&-1!==(u=r(c+1))?o=u+1:(c=u=0,n());return i(c,t.col,t.row),o=c+t.col,{col:c,row:a}}(t,l)}}),rowCount:a+Math.max.apply(Math,s)}}(t,n)}),i={layoutInfo:function(){return o},map:function(t){return l=e.time(function(){var e=i.layoutInfo();a=t(e.positioning,e.rowCount)}),i},reflow:function(t){return c=e.time(function(){(t||r)(a.grid,a.tiles)}),i},performance:function(){return{tileCount:n.length,layoutTime:s,mapTime:l,reflowTime:c,totalTime:s+l+c}}}}function i(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}var r=i;return n.animateWith=function(e){r=t.isFunction(e)?e:i},n}function r(e){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:function(n,i,r,o){i.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,t.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",function(){i[0].$$mdDestroyed=!0,a(),o.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&o.invalidateTiles()})}}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}n.$inject=["$mdUtil"],i.$inject=["$mdUtil"],e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],r.$inject=["$mdMedia"],t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",r).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",i),n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),t.module("material.components.icon",["material.core"]),function(){function n(e,t){function n(e,n,i,r){var o=this;o.isErrorGetter=i.mdIsError&&t(i.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},o.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},o.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},o.setInvalid=function(e){e?r.addClass(n,"md-input-invalid"):r.removeClass(n,"md-input-invalid")},e.$watch(function(){return o.label&&o.input},function(e){e&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}n.$inject=["$scope","$element","$attrs","$animate"];var i=["INPUT","TEXTAREA","SELECT","MD-SELECT"],r=i.reduce(function(e,t){return e.concat(["md-icon ~ "+t,".md-icon ~ "+t])},[]).join(","),o=i.reduce(function(e,t){return e.concat([t+" ~ md-icon",t+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:function(t){var n=t[0].querySelector(r),i=t[0].querySelector(o);return n&&t.addClass("md-icon-left"),i&&t.addClass("md-icon-right"),function(t,n){e(n)}},controller:n}}function i(e,n,i,r,o){return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:function(a,s,l,c){function u(e){return p.setHasValue(!m.$isEmpty(e)),e}function d(){p.setHasValue(s.val().length>0||(s[0].validity||{}).badInput)}var p=c[0],h=!!c[1],m=c[1]||e.fakeNgModel(),f=c[2],g=t.isDefined(l.readonly),v=e.parseAttributeBoolean(l.mdNoAsterisk),b=s[0].tagName.toLowerCase();if(p){if("hidden"===l.type)return void s.attr("aria-hidden","true");if(p.input){if(p.input[0].contains(s[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}p.input=s,p.label&&l.$observe("required",function(e){p.label.toggleClass("md-required",e&&!v)});var y=t.element('<div class="md-errors-spacer">');s.after(y);var w=t.isString(l.placeholder)?l.placeholder.trim():"";p.label||w.length||i.expect(s,"aria-label"),s.addClass("md-input"),s.attr("id")||s.attr("id","input_"+e.nextUid()),"input"===b&&"number"===l.type&&l.min&&l.max&&!l.step?s.attr("step","any"):"textarea"===b&&function(){function i(){s.attr("rows",1).css("height","auto").addClass("md-no-flex");var e,t,n=(e=y.offsetHeight,t=y.scrollHeight-e,e+Math.max(t,0));if(!b){var i=s[0].style.padding||"";b=s.css("padding",0).prop("offsetHeight"),s[0].style.padding=i}if(f&&b&&(n=Math.max(n,b*f)),g&&b){var r=b*g;r<n?(s.attr("md-no-autogrow",""),n=r):s.removeAttr("md-no-autogrow")}b&&s.attr("rows",Math.round(n/b)),s.css("height",n+"px").removeClass("md-no-flex")}function c(t){return e.nextTick(i),t}function u(){if(d&&(d=!1,t.element(n).off("resize",i),v&&v(),s.attr("md-no-autogrow","").off("input",i),h)){var e=m.$formatters.indexOf(c);e>-1&&m.$formatters.splice(e,1)}}var d=!l.hasOwnProperty("mdNoAutogrow");if(function(){function e(e){e.preventDefault(),d=!0,e.clientY,h=parseFloat(s.css("height"))||s.prop("offsetHeight")}function n(e){d&&(e.preventDefault(),u(),m.addClass("md-input-resized"))}function i(e){d&&s.css("height",h+e.pointer.distanceY+"px")}function r(e){d&&(d=!1,m.removeClass("md-input-resized"))}if(!l.hasOwnProperty("mdNoResize")){var c=t.element('<div class="md-resize-handle"></div>'),d=!1,h=0,m=p.element,f=o.register(c,"drag",{horizontal:!1});s.wrap('<div class="md-resize-wrapper">').after(c),c.on("mousedown",e),m.on("$md.dragstart",n).on("$md.drag",i).on("$md.dragend",r),a.$on("$destroy",function(){c.off("mousedown",e).remove(),m.off("$md.dragstart",n).off("$md.drag",i).off("$md.dragend",r),f(),c=null,m=null,f=null})}}(),d){var f=l.hasOwnProperty("rows")?parseInt(l.rows):NaN,g=l.hasOwnProperty("maxRows")?parseInt(l.maxRows):NaN,v=a.$on("md-resize-textarea",i),b=null,y=s[0];if(r(function(){e.nextTick(i)},10,!1),s.on("input",i),h&&m.$formatters.push(c),f||s.attr("rows",1),t.element(n).on("resize",i),a.$on("$destroy",u),l.hasOwnProperty("mdDetectHidden")){var w=(C=!1,function(){var e=0===y.offsetHeight;!1===e&&!0===C&&i(),C=e});a.$watch(function(){return e.nextTick(w,!1),!0})}var C}}(),h||d();var C=p.isErrorGetter||function(){return m.$invalid&&(m.$touched||f&&f.$submitted)};a.$watch(C,p.setInvalid),l.ngValue&&l.$observe("value",d),m.$parsers.push(u),m.$formatters.push(u),s.on("input",d),g||s.on("focus",function(t){e.nextTick(function(){p.setFocused(!0)})}).on("blur",function(t){e.nextTick(function(){p.setFocused(!1),d()})}),a.$on("$destroy",function(){p.setFocused(!1),p.setHasValue(!1),p.input=null})}}}}function r(e,n){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:function(i,r,o,a){function s(e){return c.parent?(c.text(String(r.val()||e||"").length+" / "+l),e):e}var l,c,u,d=a[0],p=a[1];n.nextTick(function(){u=t.element(p.element[0].querySelector(".md-errors-spacer")),c=t.element('<div class="md-char-counter">'),u.append(c),o.$set("ngTrim","false"),i.$watch(o.mdMaxlength,function(n){l=n,t.isNumber(n)&&n>0?(c.parent().length||e.enter(c,u),s()):e.leave(c)}),d.$validators["md-maxlength"]=function(e,n){return!t.isNumber(l)||l<0||(s(),(e||r.val()||n||"").length<=l)}})}}}function o(e){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:function(n,i,r,o){if(o){var a=o.element.find("label"),s=o.element.attr("md-no-float");if(a&&a.length||""===s||n.$eval(s))return void o.setHasPlaceholder(!0);if("MD-SELECT"!=i[0].nodeName){var l=t.element('<label ng-click="delegateClick()" tabindex="-1">'+r.placeholder+"</label>");r.$set("placeholder",null),o.element.addClass("md-icon-float").prepend(l),e(l)(n)}}}}}}function a(e){return{restrict:"A",link:function(t,n,i){function r(){a=!0,e(function(){n[0].select(),a=!1},1,!1)}function o(e){a&&e.preventDefault()}if("INPUT"===n[0].nodeName||"TEXTAREA"===n[0].nodeName){var a=!1;n.on("focus",r).on("mouseup",o),t.$on("$destroy",function(){n.off("focus",r).off("mouseup",o)})}}}}function s(e){return{restrict:"EA",compile:function(t){function n(t){return!!e.getClosest(t,"md-input-container")}function i(e){e.toggleClass("md-input-message-animation",!0)}if(n(t))i(t);else if(function(){for(var e=t[0];e=e.parentNode;)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}())return function(e,r){n(r)&&i(t)}},priority:100}}function l(e,t,n,i){return g(e,t,n,i),{addClass:function(e,t,n){d(e,n)}}}function c(e,t,n,i){return g(e,t,n,i),{enter:function(e,t){d(e,t)},leave:function(e,t){p(e,t)},addClass:function(e,t,n){"ng-hide"==t?p(e,n):n()},removeClass:function(e,t,n){"ng-hide"==t?d(e,n):n()}}}function u(e,t,n,i){return g(e,t,n,i),{enter:function(e,t){h(e).start().done(t)},leave:function(e,t){m(e).start().done(t)}}}function d(e,n){var i,r=[],o=f(e),a=o.children();if(0==o.length||0==a.length)return C.warn("mdInput messages show animation called on invalid messages element: ",e),void n();t.forEach(a,function(e){i=h(t.element(e)),r.push(i.start())}),b.all(r,n)}function p(e,n){var i,r=[],o=f(e),a=o.children();if(0==o.length||0==a.length)return C.warn("mdInput messages hide animation called on invalid messages element: ",e),void n();t.forEach(a,function(e){i=m(t.element(e)),r.push(i.start())}),b.all(r,n)}function h(t){var n=parseInt(e.getComputedStyle(t[0]).height),i=parseInt(e.getComputedStyle(t[0]).marginTop),r=f(t),o=function(e){return e.controller("mdInputContainer").element}(t);return i>-n||r.hasClass("md-auto-hide")&&!o.hasClass("md-input-invalid")?y(t,{}):y(t,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function m(t){var n=t[0].offsetHeight,i=e.getComputedStyle(t[0]);return 0===parseInt(i.opacity)?y(t,{}):y(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function f(e){return e.hasClass("md-input-messages-animation")?e:e.hasClass("md-input-message-animation")?t.element(w.getClosest(e,function(e){return e.classList.contains("md-input-messages-animation")})):t.element(e[0].querySelector(".md-input-messages-animation"))}function g(e,t,n,i){b=e,y=t,w=n,C=i}n.$inject=["$mdTheming","$parse"],i.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],r.$inject=["$animate","$mdUtil"],o.$inject=["$compile"],s.$inject=["$mdUtil"],a.$inject=["$timeout"],l.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],c.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],u.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var v=t.module("material.components.input",["material.core"]).directive("mdInputContainer",n).directive("label",function(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,i){!i||n.mdNoFloat||t.hasClass("md-container-ignore")||(i.label=t,e.$on("$destroy",function(){i.label=null}))}}}).directive("input",i).directive("textarea",i).directive("mdMaxlength",r).directive("placeholder",o).directive("ngMessages",function(){return{restrict:"EA",link:function(e,t,n,i){i&&(t.toggleClass("md-input-messages-animation",!0),t.toggleClass("md-auto-hide",!0),("false"==n.mdAutoHide||function(e){return E.some(function(t){return e[t]})}(n))&&t.toggleClass("md-auto-hide",!1))},require:"^^?mdInputContainer"}}).directive("ngMessage",s).directive("ngMessageExp",s).directive("mdSelectOnFocus",a).animation(".md-input-invalid",l).animation(".md-input-messages-animation",c).animation(".md-input-message-animation",u);e._mdMocksIncluded&&v.service("$$mdInput",function(){return{messages:{show:d,hide:p,getElement:f}}}).service("mdInputInvalidAnimation",l).service("mdInputMessagesAnimation",c).service("mdInputMessageAnimation",u);var b,y,w,C,E=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,i,r){var o=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function l(n){if("div"==n)(f=t.element('<div class="md-no-style md-list-item-inner">')).append(a.contents()),a.addClass("md-proxy-focus");else{f=t.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var i=t.element('<md-button class="md-no-style"></md-button>');c(a[0],i[0]),i.attr("aria-label")||i.attr("aria-label",e.getText(a)),a.hasClass("md-no-focus")&&i.addClass("md-no-focus"),f.prepend(i),f.children().eq(1).append(a.contents()),a.addClass("_md-button-wrap")}a[0].setAttribute("tabindex","-1"),a.append(f)}function c(e,n,r){var o=i.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts","download"]);r&&(o=o.concat(i.prefixer(r))),t.forEach(o,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function u(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}var d,p,h,m=a[0].querySelectorAll(".md-secondary"),f=a;if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngDblclick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)l("button");else if(!a.hasClass("md-no-proxy")){for(var g,v=0;g=o[v];++v)if(p=a[0].querySelector(g)){d=!0;break}d?l("div"):a.addClass("md-no-proxy")}return h=t.element('<div class="md-secondary-container">'),t.forEach(m,function(n){!function(n,i){if(n&&"MD-BUTTON"!=(l=n.nodeName.toUpperCase())&&"BUTTON"!=l&&n.hasAttribute("ng-click")){e.expect(n,"aria-label");var r=t.element('<md-button class="md-secondary md-icon-button">');c(n,r[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),r.append(n),n=r[0]}var l;n&&(!u(n)||!s.ngClick&&function(e){return-1!=o.indexOf(e.nodeName.toLowerCase())}(n))&&t.element(n).removeClass("md-secondary"),a.addClass("md-with-secondary"),i.append(n)}(n,h)}),f.append(h),function(){for(var e,t,n=["md-switch","md-checkbox"],i=0;t=n[i];++i)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var r=a.find("p")[0];if(!r)return;e.setAttribute("aria-label","Toggle "+r.textContent)}}(),d&&"MD-MENU"===p.nodeName&&function(){var e=t.element(p),n="left";(e.parent().hasClass("md-secondary-container")||p.parentNode.firstElementChild!==p)&&(n="right"),e.attr("md-position-mode")||e.attr("md-position-mode",n+" target");var i=e.children().eq(0);u(i[0])||i.attr("ng-click","$mdMenu.open($event)"),i.attr("aria-label")||i.attr("aria-label","Open List Menu")}(),function(e,a,s,l){a.addClass("_md");var c=[],d=a[0].firstElementChild,p=a.hasClass("_md-button-wrap")?d.firstElementChild:d,h=p&&u(p),m=a.hasClass("md-no-proxy");d&&d.children&&!h&&!m&&t.forEach(o,function(e){t.forEach(d.querySelectorAll(e+":not(.md-secondary)"),function(e){c.push(e)})}),(1==c.length||h)&&(a.addClass("md-clickable"),h||l.attachRipple(e,t.element(a[0].querySelector(".md-no-style")))),c.length&&t.forEach(c,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,r(function(){e.mouseActive=!1},100)}).on("focus",function(){!1===e.mouseActive&&a.addClass("md-focused"),n.on("blur",function e(){a.removeClass("md-focused"),n.off("blur",e)})})});var f=function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName&&!e.target.isContentEditable){(e.which||e.keyCode)==n.KEY_CODE.SPACE&&p&&(p.click(),e.preventDefault(),e.stopPropagation())}};h||c.length||p&&p.addEventListener("keypress",f),a.off("click"),a.off("keypress"),1==c.length&&p&&a.children().eq(0).on("click",function(e){if(!function(e){var t=["md-slider"];if(!e.path)return-1!==t.indexOf(e.target.tagName.toLowerCase());for(var n=e.path.indexOf(a.children()[0]),i=0;i<n;i++)if(-1!==t.indexOf(e.path[i].tagName.toLowerCase()))return!0}(e)){!i.getClosest(e.target,"BUTTON")&&p.contains(e.target)&&t.forEach(c,function(n){e.target===n||n.contains(e.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),t.element(n).triggerHandler("click"))})}}),e.$on("$destroy",function(){p&&p.removeEventListener("keypress",f)})}}}}function i(e,t,n){this.attachRipple=function(e,t){n.attach(e,t,{})}}i.$inject=["$scope","$element","$mdListInkRipple"],e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],t.module("material.components.list",["material.core"]).controller("MdListController",i).directive("mdList",e).directive("mdListItem",n)}(),t.module("material.components.menu",["material.core","material.components.backdrop"]),t.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]),function(){function e(e,n){return{restrict:"E",transclude:!0,controller:i,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(i,r,o,a){n(r),a.navBarAriaLabel||e.expectAsync(r,"aria-label",t.noop)}}}function i(e,t,n,i){this._$timeout=n,this._$scope=t,this._$mdConstant=i,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=e[0],this._inkbar;var r=this,o=this._$scope.$watch(function(){return r._navBarEl.querySelectorAll("._md-nav-button").length},function(e){e>0&&(r._initTabs(),o())})}function r(e,n){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:o,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(e,t){var n,i,r=t.mdNavClick,o=t.mdNavHref,a=t.mdNavSref,s=t.srefOpts;if((r?1:0)+(o?1:0)+(a?1:0)>1)throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");return r?n='ng-click="ctrl.mdNavClick()"':o?n='ng-href="{{ctrl.mdNavHref}}"':a&&(n='ui-sref="{{ctrl.mdNavSref}}"'),n&&(i='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+(s?'ui-sref-opts="{{ctrl.srefOpts}}" ':"")+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(i||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(i,r,o,a){n(function(){var n=a[0],o=a[1],s=t.element(r[0].querySelector("._md-nav-button"));n.name||(n.name=t.element(r[0].querySelector("._md-nav-button-text")).text().trim()),s.on("click",function(){o.mdSelectedNavItem=n.name,i.$apply()}),e.expectWithText(r,"aria-label")})}}}function o(e){this._$element=e,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this._selected=!1,this._focused=!1}i.$inject=["$element","$scope","$timeout","$mdConstant"],r.$inject=["$mdAria","$$rAF"],o.$inject=["$element"],e.$inject=["$mdAria","$mdTheming"],t.module("material.components.navBar",["material.core"]).controller("MdNavBarController",i).directive("mdNavBar",e).controller("MdNavItemController",o).directive("mdNavItem",r),i.prototype._initTabs=function(){this._inkbar=t.element(this._navBarEl.querySelector("md-nav-ink-bar"));var e=this;this._$timeout(function(){e._updateTabs(e.mdSelectedNavItem,n)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(t,n){e._$timeout(function(){e._updateTabs(t,n)})})},i.prototype._updateTabs=function(e,t){var n=this,i=this._getTabs();if(i){var r=-1,o=-1,a=this._getTabByName(e),s=this._getTabByName(t);s&&(s.setSelected(!1),r=i.indexOf(s)),a&&(a.setSelected(!0),o=i.indexOf(a)),this._$timeout(function(){n._updateInkBarStyles(a,o,r)})}},i.prototype._updateInkBarStyles=function(e,t,n){if(this._inkbar.toggleClass("_md-left",t<n).toggleClass("_md-right",t>n),this._inkbar.css({display:t<0?"none":""}),e){var i=e.getButtonEl(),r=i.offsetLeft;this._inkbar.css({left:r+"px",width:i.offsetWidth+"px"})}},i.prototype._getTabs=function(){var e=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(e){return t.element(e).controller("mdNavItem")});return e.indexOf(n)?e:null},i.prototype._getTabByName=function(e){return this._findTab(function(t){return t.getName()==e})},i.prototype._getSelectedTab=function(){return this._findTab(function(e){return e.isSelected()})},i.prototype.getFocusedTab=function(){return this._findTab(function(e){return e.hasFocus()})},i.prototype._findTab=function(e){for(var t=this._getTabs(),n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},i.prototype.onFocus=function(){var e=this._getSelectedTab();e&&e.setFocused(!0)},i.prototype._moveFocus=function(e,t){e.setFocused(!1),t.setFocused(!0)},i.prototype.onKeydown=function(e){var t=this._$mdConstant.KEY_CODE,n=this._getTabs(),i=this.getFocusedTab();if(i){var r=n.indexOf(i);switch(e.keyCode){case t.UP_ARROW:case t.LEFT_ARROW:r>0&&this._moveFocus(i,n[r-1]);break;case t.DOWN_ARROW:case t.RIGHT_ARROW:r<n.length-1&&this._moveFocus(i,n[r+1]);break;case t.SPACE:case t.ENTER:this._$timeout(function(){i.getButtonEl().click()})}}},o.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},o.prototype.getName=function(){return this.name},o.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},o.prototype.setSelected=function(e){this._selected=e},o.prototype.isSelected=function(){return this._selected},o.prototype.setFocused=function(e){this._focused=e,e&&this.getButtonEl().focus()},o.prototype.hasFocus=function(){return this._focused}}(),function(){function e(e,t){if(!e||!t)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(h.hasOwnProperty(e))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete t.id,delete t.position,delete t.animation,h[e]=t}function i(){return t.copy(h)}function r(){h={}}function o(e,n,i,r,o){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:t.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:d},this._config={},this._presets=e,this._$rootElement=n,this._$rootScope=i,this._$injector=r,this._$window=o,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=l.animation,this.xPosition=s.xPosition,this.yPosition=s.yPosition,this.interceptorTypes=a.interceptorTypes,this.closeReasons=a.closeReasons,this.absPosition=s.absPosition}function a(e,t){this._$q=t.get("$q"),this._$mdCompiler=t.get("$mdCompiler"),this._$mdConstant=t.get("$mdConstant"),this._$mdUtil=t.get("$mdUtil"),this._$mdTheming=t.get("$mdTheming"),this._$rootScope=t.get("$rootScope"),this._$animate=t.get("$animate"),this._$mdPanel=t.get("$mdPanel"),this._$log=t.get("$log"),this._$window=t.get("$window"),this._$$rAF=t.get("$$rAF"),this.id=e.id,this.config=e,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function s(e){this._$window=e.get("$window"),this._isRTL="rtl"===e.get("$mdUtil").bidi(),this._$mdConstant=e.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function l(e){this._$mdUtil=e.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function c(e){var n=t.isString(e)?document.querySelector(e):e;return t.element(n)}function u(e){return t.isNumber(e)?e+"px":e}o.$inject=["presets","$rootElement","$rootScope","$injector","$window"],t.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",function(){return{definePreset:e,getAllPresets:i,clearPresets:r,$get:["$rootElement","$rootScope","$injector","$window",function(e,t,n,i){return new o(h,e,t,n,i)}]}});var d=80,p=t.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),h={};o.prototype.create=function(e,n){if("string"==typeof e?e=this._getPresetByName(e):"object"!=typeof e||!t.isUndefined(n)&&n||(n=e,e={}),e=e||{},n=n||{},t.isDefined(n.id)&&this._trackedPanels[n.id]){var i=this._trackedPanels[n.id];return t.extend(i.config,n),i}this._config=t.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,e);var r=new a(this._config,this._$injector);return this._trackedPanels[n.id]=r,this._config.groupName&&(t.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),t.forEach(this._config.groupName,function(e){r.addToGroup(e)})),this._config.scope.$on("$destroy",t.bind(r,r.detach)),r},o.prototype.open=function(e,t){var n=this.create(e,t);return n.open().then(function(){return n})},o.prototype._getPresetByName=function(e){if(!this._presets[e])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[e]},o.prototype.newPanelPosition=function(){return new s(this._$injector)},o.prototype.newPanelAnimation=function(){return new l(this._$injector)},o.prototype.newPanelGroup=function(e,t){if(!this._groups[e]){var n={panels:[],openPanels:[],maxOpen:(t=t||{}).maxOpen>0?t.maxOpen:1/0};this._groups[e]=n}return this._groups[e]},o.prototype.setGroupMaxOpen=function(e,t){if(!this._groups[e])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[e].maxOpen=t},o.prototype._openCountExceedsMaxOpen=function(e){if(this._groups[e]){var t=this._groups[e];return t.maxOpen>0&&t.openPanels.length>t.maxOpen}return!1},o.prototype._closeFirstOpenedPanel=function(e){this._groups[e].openPanels[0].close()},o.prototype._wrapTemplate=function(e){return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+(e||"")+"</div></div>"},o.prototype._wrapContentElement=function(e){var n=t.element('<div class="md-panel-outer-wrapper">');return e.addClass("md-panel _md-panel-offscreen"),n.append(e),n},a.interceptorTypes={CLOSE:"onClose"},a.prototype.open=function(){var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e._simpleBind(e.show,e);e.attach().then(o).then(function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._openCountExceedsMaxOpen(t)&&e._$mdPanel._closeFirstOpenedPanel(t)})}).then(r).catch(i)})},a.prototype.close=function(e){var n=this;return this._$q(function(i,r){n._callInterceptors(a.interceptorTypes.CLOSE).then(function(){var o=n._done(i,n),a=n._simpleBind(n.detach,n),s=n.config.onCloseSuccess||t.noop;s=t.bind(n,s,n,e),n.hide().then(a).then(o).then(s).catch(r)},r)})},a.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e.config.onDomAdded||t.noop;e._$q.all([e._createBackdrop(),e._createPanel().then(function(t){return e.isAttached=!0,e._addEventListeners(),t}).catch(i)]).then(o).then(r).catch(i)})},a.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var e=this,n=e.config.onDomRemoved||t.noop;return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(t,i){var r=e._done(t,e);e._$q.all([(e._removeEventListeners(),e._topFocusTrap&&e._topFocusTrap.parentNode&&e._topFocusTrap.parentNode.removeChild(e._topFocusTrap),e._bottomFocusTrap&&e._bottomFocusTrap.parentNode&&e._bottomFocusTrap.parentNode.removeChild(e._bottomFocusTrap),e._restoreCache.classes&&(e.panelEl[0].className=e._restoreCache.classes),e.panelEl[0].style.cssText=e._restoreCache.styles||"",e._compilerCleanup(),e.panelContainer.remove(),e.isAttached=!1,e._$q.when(e)),!e._backdropRef||e._backdropRef.detach()]).then(n).then(r).catch(i)})},a.prototype.destroy=function(){var e=this;this.config.groupName&&t.forEach(this.config.groupName,function(t){e.removeFromGroup(t)}),this.config.scope.$destroy(),this.config.locals=null,this._interceptors=null},a.prototype.show=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e.config.onOpenComplete||t.noop;e._$q.all([e._backdropRef?e._backdropRef.show():e,(e.panelContainer.removeClass("_md-panel-hidden"),e._animateOpen()).then(function(){e._focusOnOpen()},i)]).then(o).then(function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._groups[t].openPanels.push(e)})}).then(r).catch(i)})},a.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e.config.onRemoving||t.noop;e._$q.all([e._backdropRef?e._backdropRef.hide():e,e._animateClose().then(o).then(function(){e.panelContainer.addClass("_md-panel-hidden")}).then(function(){var n;e.config.groupName&&t.forEach(e.config.groupName,function(t){t=e._$mdPanel._groups[t],(n=t.openPanels.indexOf(e))>-1&&t.openPanels.splice(n,1)})}).then(function(){var t=e.config.origin;t&&c(t).focus()}).catch(i)]).then(r,i)})},a.prototype.addClass=function(e,t){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t||this.panelContainer.hasClass(e)?t&&!this.panelEl.hasClass(e)&&this.panelEl.addClass(e):this.panelContainer.addClass(e)},a.prototype.removeClass=function(e,t){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!t&&this.panelContainer.hasClass(e)?this.panelContainer.removeClass(e):t&&this.panelEl.hasClass(e)&&this.panelEl.removeClass(e)},a.prototype.toggleClass=function(e,t){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t?this.panelEl.toggleClass(e):this.panelContainer.toggleClass(e)},a.prototype._compile=function(){var e=this;return e._$mdCompiler.compile(e.config).then(function(n){var i=e.config;if(i.contentElement){var r=n.element;e._restoreCache.styles=r[0].style.cssText,e._restoreCache.classes=r[0].className,e.panelContainer=e._$mdPanel._wrapContentElement(r),e.panelEl=r}else e.panelContainer=n.link(i.scope),e.panelEl=t.element(e.panelContainer[0].querySelector(".md-panel"));return e._compilerCleanup=n.cleanup,c(e.config.attachTo).append(e.panelContainer),e})},a.prototype._createPanel=function(){var e=this;return this._$q(function(t,n){e.config.locals||(e.config.locals={}),e.config.locals.mdPanelRef=e,e._compile().then(function(){e.config.disableParentScroll&&(e._restoreScroll=e._$mdUtil.disableScrollAround(null,e.panelContainer,{disableScrollMask:!0})),e.config.panelClass&&e.panelEl.addClass(e.config.panelClass),e.config.propagateContainerEvents&&(e.panelContainer.css("pointer-events","none"),e.panelEl.css("pointer-events","all")),e._$animate.pin&&e._$animate.pin(e.panelContainer,c(e.config.attachTo)),e._configureTrapFocus(),e._addStyles().then(function(){t(e)},n)},n)})},a.prototype._addStyles=function(){var e=this;return this._$q(function(t){e.panelContainer.css("z-index",e.config.zIndex),e.panelEl.css("z-index",e.config.zIndex+1);var n=function(){e._setTheming(),e.panelEl.removeClass("_md-panel-offscreen"),e.panelContainer.addClass("_md-panel-hidden"),t(e)};if(e.config.fullscreen)return e.panelEl.addClass("_md-panel-fullscreen"),void n();e.config.position?e._$rootScope.$$postDigest(function(){e._updatePosition(!0),e._setTheming(),t(e)}):n()})},a.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},a.prototype.updatePosition=function(e){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=e,this._updatePosition()},a.prototype._updatePosition=function(e){var t=this.config.position;t&&(t._setPanelPosition(this.panelEl),e&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass("_md-panel-hidden")),this.panelEl.css(s.absPosition.TOP,t.getTop()),this.panelEl.css(s.absPosition.BOTTOM,t.getBottom()),this.panelEl.css(s.absPosition.LEFT,t.getLeft()),this.panelEl.css(s.absPosition.RIGHT,t.getRight()))},a.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var e=this;this._$rootScope.$$postDigest(function(){(e._$mdUtil.findFocusTarget(e.panelEl)||e.panelEl).focus()})}},a.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var e=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&e.duration(this.config.animation._rawDuration);var t={animation:e,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(t)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},a.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},a.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(e){e()}),this._removeListeners=[]},a.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var e=c(this.config.attachTo),t=this,n=function(e){e.keyCode===t._$mdConstant.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),t.close(a.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),e.on("keydown",n),this._removeListeners.push(function(){t.panelContainer.off("keydown",n),e.off("keydown",n)})}},a.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var e,n=this.config.propagateContainerEvents?t.element(document.body):this.panelContainer,i=function(t){e=t.target},r=this,o=function(t){r.config.propagateContainerEvents?e===r.panelEl[0]||r.panelEl[0].contains(e)||r.close():e===n[0]&&t.target===n[0]&&(t.stopPropagation(),t.preventDefault(),r.close(a.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",i),n.on("mouseup",o),this._removeListeners.push(function(){n.off("mousedown",i),n.off("mouseup",o)})}},a.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var e=t.bind(this,this._updatePosition),n=this._$$rAF.throttle(e),i=this,r=function(){n()};this._$window.addEventListener("scroll",r,!0),this._removeListeners.push(function(){i._$window.removeEventListener("scroll",r,!0)})}},a.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var e=this.panelEl;this._topFocusTrap=p.clone()[0],this._bottomFocusTrap=p.clone()[0];var t=function(){e.focus()};this._topFocusTrap.addEventListener("focus",t),this._bottomFocusTrap.addEventListener("focus",t),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",t),this._bottomFocusTrap.removeEventListener("focus",t)},this)),e[0].parentNode.insertBefore(this._topFocusTrap,e[0]),e.after(this._bottomFocusTrap)}},a.prototype.updateAnimation=function(e){this.config.animation=e,this._backdropRef&&this._backdropRef.config.animation.duration(e._rawDuration)},a.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var e=this.config.animation;if(!e)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var i=t._done(n,t);e.animateOpen(t.panelEl).then(i,function(){t._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),i()})})},a.prototype._animateClose=function(){var e=this.config.animation;if(!e)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var i=function(){t.panelContainer.removeClass("md-panel-is-showing"),n(t)};e.animateClose(t.panelEl).then(i,function(){t._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),i()})})},a.prototype.registerInterceptor=function(e,n){var i=null;if(t.isString(e)?t.isFunction(n)||(i="Interceptor callback must be a function, instead got "+typeof n):i="Interceptor type must be a string, instead got "+typeof e,i)throw new Error("MdPanel: "+i);var r=this._interceptors[e]=this._interceptors[e]||[];return-1===r.indexOf(n)&&r.push(n),this},a.prototype.removeInterceptor=function(e,t){var n=this._interceptors[e]?this._interceptors[e].indexOf(t):-1;return n>-1&&this._interceptors[e].splice(n,1),this},a.prototype.removeAllInterceptors=function(e){return e?this._interceptors[e]=[]:this._interceptors=Object.create(null),this},a.prototype._callInterceptors=function(e){var n=this,i=n._$q;return(n._interceptors&&n._interceptors[e]||[]).reduceRight(function(e,r){var o=r&&t.isFunction(r.then)?r:null;return e.then(function(){if(!o)try{o=r(n)}catch(e){o=i.reject(e)}return o})},i.resolve(n))},a.prototype._simpleBind=function(e,t){return function(n){return e.apply(t,n)}},a.prototype._done=function(e,t){return function(){e(t)}},a.prototype.addToGroup=function(e){this._$mdPanel._groups[e]||this._$mdPanel.newPanelGroup(e);var t=this._$mdPanel._groups[e];t.panels.indexOf(this)<0&&t.panels.push(this)},a.prototype.removeFromGroup=function(e){if(!this._$mdPanel._groups[e])throw new Error("mdPanel: The group "+e+" does not exist.");var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n>-1&&t.panels.splice(n,1)},a.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},s.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},s.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},s.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},s.viewportMargin=8,s.prototype.absolute=function(){return this._absolute=!0,this},s.prototype._setPosition=function(e,n){if(e===s.absPosition.RIGHT||e===s.absPosition.LEFT)this._left=this._right="";else{if(e!==s.absPosition.BOTTOM&&e!==s.absPosition.TOP){var i=Object.keys(s.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+i+".")}this._top=this._bottom=""}return this["_"+e]=t.isString(n)?n:"0",this},s.prototype.top=function(e){return this._setPosition(s.absPosition.TOP,e)},s.prototype.bottom=function(e){return this._setPosition(s.absPosition.BOTTOM,e)},s.prototype.start=function(e){var t=this._isRTL?s.absPosition.RIGHT:s.absPosition.LEFT;return this._setPosition(t,e)},s.prototype.end=function(e){var t=this._isRTL?s.absPosition.LEFT:s.absPosition.RIGHT;return this._setPosition(t,e)},s.prototype.left=function(e){return this._setPosition(s.absPosition.LEFT,e)},s.prototype.right=function(e){return this._setPosition(s.absPosition.RIGHT,e)},s.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},s.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},s.prototype.center=function(){return this.centerHorizontally().centerVertically()},s.prototype.relativeTo=function(e){return this._absolute=!1,this._relativeToEl=c(e),this},s.prototype.addPanelPosition=function(e,t){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(e),this._validateYPosition(t),this._positions.push({x:e,y:t}),this},s.prototype._validateYPosition=function(e){if(null!=e){for(var t,n=Object.keys(s.yPosition),i=[],r=0;t=n[r];r++){var o=s.yPosition[t];if(i.push(o),o===e)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+i.join(" | "))}},s.prototype._validateXPosition=function(e){if(null!=e){for(var t,n=Object.keys(s.xPosition),i=[],r=0;t=n[r];r++){var o=s.xPosition[t];if(i.push(o),o===e)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+i.join(" | "))}},s.prototype.withOffsetX=function(e){return this._translateX.push(u(e)),this},s.prototype.withOffsetY=function(e){return this._translateY.push(u(e)),this},s.prototype.getTop=function(){return this._top},s.prototype.getBottom=function(){return this._bottom},s.prototype.getLeft=function(){return this._left},s.prototype.getRight=function(){return this._right},s.prototype.getTransform=function(){return(this._reduceTranslateValues("translateX",this._translateX)+" "+this._reduceTranslateValues("translateY",this._translateY)).trim()},s.prototype._setTransform=function(e){return e.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},s.prototype._isOnscreen=function(e){var t=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var i=function(e,t){var n=getComputedStyle(e[0]||e)[t],i=n.indexOf("("),r=n.lastIndexOf(")"),o={x:0,y:0};if(i>-1&&r>-1){var a=n.substring(i+1,r).split(", ").slice(-2);o.x=parseInt(a[0]),o.y=parseInt(a[1])}return o}(e,this._$mdConstant.CSS.TRANSFORM);t+=i.x,n+=i.y}var r=t+e[0].offsetWidth,o=n+e[0].offsetHeight;return t>=0&&n>=0&&o<=this._$window.innerHeight&&r<=this._$window.innerWidth},s.prototype.getActualPosition=function(){return this._actualPosition},s.prototype._reduceTranslateValues=function(e,n){return n.map(function(n){var i=t.isFunction(n)?u(n(this)):n;return e+"("+i+")"},this).join(" ")},s.prototype._setPanelPosition=function(e){if(e.removeClass("_md-panel-position-adjusted"),this._absolute)this._setTransform(e);else{if(this._actualPosition)return this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),void this._constrainToViewport(e);for(var t=0;t<this._positions.length;t++)if(this._actualPosition=this._positions[t],this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),this._isOnscreen(e))return;this._constrainToViewport(e)}},s.prototype._constrainToViewport=function(e){var t=s.viewportMargin,n=this._top,i=this._left;if(this.getTop()){var r=parseInt(this.getTop()),o=e[0].offsetHeight+r,a=this._$window.innerHeight;r<t?this._top=t+"px":o>a&&(this._top=r-(o-a+t)+"px")}if(this.getLeft()){var l=parseInt(this.getLeft()),c=e[0].offsetWidth+l,u=this._$window.innerWidth;l<t?this._left=t+"px":c>u&&(this._left=l-(c-u+t)+"px")}e.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==i)},s.prototype._reverseXPosition=function(e){return e===s.xPosition.CENTER?e:e.indexOf("start")>-1?e.replace("start","end"):e.replace("end","start")},s.prototype._bidi=function(e){return this._isRTL?this._reverseXPosition(e):e},s.prototype._calculatePanelPosition=function(e,t){var n=e[0].getBoundingClientRect(),i=Math.max(n.width,e[0].clientWidth),r=Math.max(n.height,e[0].clientHeight),o=this._relativeToEl[0].getBoundingClientRect(),a=o.left,l=o.right,c=o.width;switch(this._bidi(t.x)){case s.xPosition.OFFSET_START:this._left=a-i+"px";break;case s.xPosition.ALIGN_END:this._left=l-i+"px";break;case s.xPosition.CENTER:var u=a+.5*c-.5*i;this._left=u+"px";break;case s.xPosition.ALIGN_START:this._left=a+"px";break;case s.xPosition.OFFSET_END:this._left=l+"px"}var d=o.top,p=o.bottom,h=o.height;switch(t.y){case s.yPosition.ABOVE:this._top=d-r+"px";break;case s.yPosition.ALIGN_BOTTOMS:this._top=p-r+"px";break;case s.yPosition.CENTER:var m=d+.5*h-.5*r;this._top=m+"px";break;case s.yPosition.ALIGN_TOPS:this._top=d+"px";break;case s.yPosition.BELOW:this._top=p+"px"}},l.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},l.prototype.openFrom=function(e){return e=e.target?e.target:e,this._openFrom=this._getPanelAnimationTarget(e),this._closeTo||(this._closeTo=this._openFrom),this},l.prototype.closeTo=function(e){return this._closeTo=this._getPanelAnimationTarget(e),this},l.prototype.duration=function(e){function n(e){if(t.isNumber(e))return e/1e3}return e&&(t.isNumber(e)?this._openDuration=this._closeDuration=n(e):t.isObject(e)&&(this._openDuration=n(e.open),this._closeDuration=n(e.close))),this._rawDuration=e,this},l.prototype._getPanelAnimationTarget=function(e){return t.isDefined(e.top)||t.isDefined(e.left)?{element:n,bounds:{top:e.top||0,left:e.left||0}}:this._getBoundingClientRect(c(e))},l.prototype.withAnimation=function(e){return this._animationClass=e,this},l.prototype.animateOpen=function(e){var n=this._$mdUtil.dom.animator;this._fixBounds(e);var i={},r=e[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case l.animation.SLIDE:e.css("opacity","1"),i={transitionInClass:"_md-panel-animate-enter"};var s=n.calculateSlideToOrigin(e,this._openFrom)||"";o=n.toTransformCss(s+" "+r);break;case l.animation.SCALE:i={transitionInClass:"_md-panel-animate-enter"};var c=n.calculateZoomToOrigin(e,this._openFrom)||"";o=n.toTransformCss(c+" "+r);break;case l.animation.FADE:i={transitionInClass:"_md-panel-animate-enter"};break;default:i=t.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return i.duration=this._openDuration,n.translate3d(e,o,a,i)},l.prototype.animateClose=function(e){var n=this._$mdUtil.dom.animator,i={},r=e[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case l.animation.SLIDE:e.css("opacity","1"),i={transitionInClass:"_md-panel-animate-leave"};var s=n.calculateSlideToOrigin(e,this._closeTo)||"";a=n.toTransformCss(s+" "+r);break;case l.animation.SCALE:i={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var c=n.calculateZoomToOrigin(e,this._closeTo)||"";a=n.toTransformCss(c+" "+r);break;case l.animation.FADE:i={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:i=t.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return i.duration=this._closeDuration,n.translate3d(e,o,a,i)},l.prototype._fixBounds=function(e){var t=e[0].offsetWidth,n=e[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=t),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=t)},l.prototype._getBoundingClientRect=function(e){if(e instanceof t.element)return{element:e,bounds:e[0].getBoundingClientRect()}}}(),t.module("material.components.progressCircular",["material.core"]),function(){function e(e,n,i){function r(i,r,d){function p(){var e=(d.mdMode||"").trim();if(e)switch(e){case a:case s:case l:case c:break;default:e=s}return e}function h(e,i){if(!f&&p()){var r=n.supplant("translateX({0}%) scale({1},1)",[(i-100)/2,i/100]),o=g({transform:r});t.element(e).css(o)}}var m;e(r);var f=d.hasOwnProperty("disabled"),g=n.dom.animator.toCss,v=t.element(r[0].querySelector(".md-bar1")),b=t.element(r[0].querySelector(".md-bar2")),y=t.element(r[0].querySelector(".md-container"));r.attr("md-mode",p()).toggleClass(u,f),function(){if(t.isUndefined(d.mdMode)){var e=t.isDefined(d.value),n=e?a:s;r.attr("md-mode",n),d.mdMode=n}}(),d.$observe("value",function(e){var t=o(e);r.attr("aria-valuenow",t),p()!=c&&h(b,t)}),d.$observe("mdBufferValue",function(e){h(v,o(e))}),d.$observe("disabled",function(e){f=!0===e||!1===e?!!e:t.isDefined(e),r.toggleClass(u,f),y.toggleClass(m,!f)}),d.$observe("mdMode",function(e){switch(m&&y.removeClass(m),e){case c:case l:case a:case s:y.addClass(m="md-mode-"+e);break;default:y.addClass(m="md-mode-"+s)}})}function o(e){return Math.max(0,Math.min(e||0,100))}var a="determinate",s="indeterminate",l="buffer",c="query",u="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:function(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),r}}}e.$inject=["$mdTheming","$mdUtil","$log"],t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e)}(),function(){function e(e,n,i,r){function o(e){this._radioButtonRenderFns=[],this.$element=e}function a(n,i){var r=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=n[0].querySelector("md-radio-button.md-checked"),a=r[i<0?"previous":"next"](o,function(e){return!t.element(e).attr("disabled")})||r.first();t.element(a).triggerHandler("click")}}return o.prototype={init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return a(this.$element,1)},selectPrevious:function(){return a(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}},{restrict:"E",controller:["$element",o],require:["mdRadioGroup","?ngModel"],link:{pre:function(o,a,s,l){function c(){a.hasClass("md-focused")||a.addClass("md-focused")}a.addClass("_md"),i(a);var u=l[0],d=l[1]||e.fakeNgModel();u.init(d),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",function(i){var r=i.which||i.keyCode;if(r==n.KEY_CODE.ENTER||i.currentTarget==i.target)switch(r){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),u.selectPrevious(),c();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),u.selectNext(),c();break;case n.KEY_CODE.ENTER:var o=t.element(e.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}).on("mousedown",function(e){o.mouseActive=!0,r(function(){o.mouseActive=!1},100)}).on("focus",function(){!1===o.mouseActive&&u.$element.addClass("md-focused")}).on("blur",function(){u.$element.removeClass("md-focused")})}}}}function n(e,t,n){var i="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:function(r,o,a,s){function l(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(u),a.$observe("value",u),o.on("click",c).on("$destroy",function(){s.remove(u)})}function c(e){o[0].hasAttribute("disabled")||s.isDisabled()||r.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function u(){var e=s.getViewValue()==a.value;e!==d&&("md-radio-group"!==o[0].parentNode.nodeName.toLowerCase()&&o.parent().toggleClass(i,e),e&&s.setActiveDescendant(o.attr("id")),d=e,o.attr("aria-checked",e).toggleClass(i,e))}var d;n(o),function(n,i){n.attr({id:a.id||"radio_"+t.nextUid(),role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}(o),a.ngValue?t.nextTick(l,!1):l()}}}e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"],t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n)}(),function(){function i(e,i,r,o,a,l,c,u){var d=r.KEY_CODE;return d.SPACE,d.ENTER,d.UP_ARROW,d.DOWN_ARROW,{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:function(u,d){var p=t.element("<md-select-value><span></span></md-select-value>");p.append('<span class="md-select-icon" aria-hidden="true"></span>'),p.addClass("md-select-value"),p[0].hasAttribute("id")||p.attr("id","select_value_label_"+i.nextUid());var h=u.find("md-content");if(h.length||u.append(t.element("<md-content>").append(u.contents())),h.attr("role","presentation"),d.mdOnOpen&&(u.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),u.find("md-option").attr("ng-show","$$loadingAsyncDone")),d.name){var m=t.element('<select class="md-visually-hidden"></select>');m.attr({name:d.name,"aria-hidden":"true",tabindex:"-1"});var f=u.find("md-option");t.forEach(f,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),m.append(n)}),m.append('<option ng-value="'+d.ngModel+'" selected></option>'),u.parent().append(m)}var g=i.parseAttributeBoolean(d.multiple),v=g?"multiple":"",b='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';return b=i.supplant(b,[v,u.html()]),u.empty().append(p),u.append(b),d.tabindex||d.$set("tabindex",0),function(u,d,p,h){function m(){E&&(S=S||E.find("md-select-menu").controller("mdSelectMenu"),A.setLabelText(S.selectedLabels()))}function f(){if(C){var e=S.selectedLabels({mode:"aria"});d.attr("aria-label",e.length?C+": "+e:C)}}function v(){T&&T.setHasValue(S.selectedLabels().length>0||(d[0].validity||{}).badInput)}function b(e){if(r.isNavigationKey(e))e.preventDefault(),y();else if(s(e,r)){e.preventDefault();var n=S.optNodeForKeyboardSearch(e);if(!n||n.hasAttribute("disabled"))return;var i=t.element(n).controller("mdOption");S.isMultiple||S.deselect(Object.keys(S.selected)[0]),S.select(i.hashKey,i.value),S.refreshViewValue()}}function y(){x._mdSelectIsOpen=!0,d.attr("aria-expanded","true"),e.show({scope:x,preserveScope:!0,skipCompile:!0,element:E,target:d[0],selectCtrl:A,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!p.mdOnOpen&&(u.$eval(p.mdOnOpen)||!0)}).finally(function(){x._mdSelectIsOpen=!1,d.focus(),d.attr("aria-expanded","false"),k.$setTouched()})}var w,C,E,x,S,_=!0,T=h[0],A=h[1],k=h[2],$=h[3],M=d.find("md-select-value"),P=t.isDefined(p.readonly),R=i.parseAttributeBoolean(p.mdNoAsterisk);if(R&&d.addClass("md-no-asterisk"),T){var O=T.isErrorGetter||function(){return k.$invalid&&(k.$touched||$&&$.$submitted)};if(T.input&&d.find("md-select-header").find("input")[0]!==T.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");T.input=d,T.label||a.expect(d,"aria-label",d.attr("placeholder")),u.$watch(O,T.setInvalid)}!function(){if(E=t.element(d[0].querySelector(".md-select-menu-container")),x=u,p.mdContainerClass){var e=E[0].getAttribute("class")+" "+p.mdContainerClass;E[0].setAttribute("class",e)}(S=E.find("md-select-menu").controller("mdSelectMenu")).init(k,p.ngModel),d.on("$destroy",function(){E.remove()})}(),o(d),$&&t.isDefined(p.multiple)&&i.nextTick(function(){(k.$modelValue||k.$viewValue)&&$.$setPristine()});var D,N=k.$render;k.$render=function(){N(),m(),f(),v()},p.$observe("placeholder",k.$render),T&&T.label&&p.$observe("required",function(e){T.label.toggleClass("md-required",e&&!R)}),A.setLabelText=function(e){A.setIsPlaceholder(!e);var t=!1;if(p.mdSelectedText&&p.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(p.mdSelectedText||p.mdSelectedHtml)e=l(p.mdSelectedText||p.mdSelectedHtml)(u),t=!0;else if(!e){var n=p.placeholder||(T&&T.label?T.label.text():"");e=n||"",t=!0}var i=M.children().eq(0);p.mdSelectedHtml?i.html(c.getTrustedHtml(e)):t?i.text(e):i.html(e)},A.setIsPlaceholder=function(e){e?(M.addClass("md-select-placeholder"),T&&T.label&&T.label.addClass("md-placeholder")):(M.removeClass("md-select-placeholder"),T&&T.label&&T.label.removeClass("md-placeholder"))},P||(d.on("focus",function(e){T&&T.setFocused(!0)}),d.on("blur",function(e){_&&(_=!1,x._mdSelectIsOpen&&e.stopImmediatePropagation()),x._mdSelectIsOpen||(T&&T.setFocused(!1),v())})),A.triggerClose=function(){l(p.mdOnClose)(u)},u.$$postDigest(function(){!function(){var e=d.attr("aria-label")||d.attr("placeholder");!e&&T&&T.label&&(e=T.label.text()),C=e,a.expect(d,"aria-label",e)}(),m(),f()}),u.$watch(function(){return S.selectedLabels()},m),p.$observe("ngMultiple",function(e){D&&D();var t=l(e);D=u.$watch(function(){return t(u)},function(e,t){e===n&&t===n||(e?d.attr("multiple","multiple"):d.removeAttr("multiple"),d.attr("aria-multiselectable",e?"true":"false"),E&&(S.setMultiple(e),N=k.$render,k.$render=function(){N(),m(),f(),v()},k.$render()))})}),p.$observe("disabled",function(e){t.isString(e)&&(e=!0),w!==n&&w===e||(w=e,e?d.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",y).off("keydown",b):d.attr({tabindex:p.tabindex,"aria-disabled":"false"}).on("click",y).on("keydown",b))}),p.hasOwnProperty("disabled")||p.hasOwnProperty("ngDisabled")||(d.attr({"aria-disabled":"false"}),d.on("click",y),d.on("keydown",b));var I={role:"listbox","aria-expanded":"false","aria-multiselectable":g&&!p.ngMultiple?"true":"false"};d[0].hasAttribute("id")||(I.id="select_"+i.nextUid());var L="select_container_"+i.nextUid();E.attr("id",L),d.find("md-select-menu").length||(I["aria-owns"]=L),d.attr(I),u.$on("$destroy",function(){e.destroy().finally(function(){T&&(T.setFocused(!1),T.setHasValue(!1),T.input=null),k.$setTouched()})})}},controller:function(){}}}function r(e,i,r,o){function a(o,a,s){function l(){var e=p.ngModel.$modelValue||p.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(p.selected),i=e.map(p.hashGetter);n.filter(function(e){return-1===i.indexOf(e)}).forEach(p.deselect),i.forEach(function(t,n){p.select(t,e[n])})}}function u(){var e=p.ngModel.$viewValue||p.ngModel.$modelValue;Object.keys(p.selected).forEach(p.deselect),p.select(p.hashGetter(e),e)}var d,p=this;p.isMultiple=t.isDefined(a.multiple),p.selected={},p.options={},o.$watchCollection(function(){return p.options},function(){p.ngModel.$render()}),p.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var i=p.ngModel;d=d||i.$isEmpty,p.isMultiple=e,p.isMultiple?(i.$validators["md-multiple"]=n,i.$render=l,o.$watchCollection(p.modelBinding,function(e){n(e)&&l()}),i.$isEmpty=function(e){return!e||0===e.length}):(delete i.$validators["md-multiple"],i.$render=u)};var h,m,f,g="";p.optNodeForKeyboardSearch=function(e){h&&clearTimeout(h),h=setTimeout(function(){h=n,g="",f=n,m=n},300);var i=e.keyCode-(r.isNumPadKey(e)?48:0);g+=String.fromCharCode(i);var o=new RegExp("^"+g,"i");m||(m=s.find("md-option"),f=new Array(m.length),t.forEach(m,function(e,t){f[t]=e.textContent.trim()}));for(var a=0;a<f.length;++a)if(o.test(f[a]))return m[a]},p.init=function(n,r){p.ngModel=n,p.modelBinding=r,p.ngModel.$isEmpty=function(e){return!p.options[p.hashGetter(e)]};var a=i.getModelOption(n,"trackBy");if(a){var s={},l=e(a);p.hashGetter=function(e,t){return s.$value=e,l(t||o,s)}}else p.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++c)):e};p.setMultiple(p.isMultiple)},p.selectedLabels=function(e){var t,n=(e=e||{}).mode||"html",r=i.nodesToArray(s[0].querySelectorAll("md-option[selected]"));return r.length?("html"==n?t=function(e){if(e.hasAttribute("md-option-empty"))return"";var t=e.innerHTML,n=e.querySelector(".md-ripple-container");n&&(t=t.replace(n.outerHTML,""));var i=e.querySelector(".md-container");return i&&(t=t.replace(i.outerHTML,"")),t}:"aria"==n&&(t=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),i.uniq(r.map(t)).join(", ")):""},p.select=function(e,t){var n=p.options[e];n&&n.setSelected(!0),p.selected[e]=t},p.deselect=function(e){var t=p.options[e];t&&t.setSelected(!1),delete p.selected[e]},p.addOption=function(e,n){if(t.isDefined(p.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');p.options[e]=n,t.isDefined(p.selected[e])&&(p.select(e,n.value),t.isDefined(p.ngModel.$modelValue)&&p.hashGetter(p.ngModel.$modelValue)===e&&p.ngModel.$validate(),p.refreshViewValue())},p.removeOption=function(e){delete p.options[e]},p.refreshViewValue=function(){var e,n=[];for(var r in p.selected)(e=p.options[r])?n.push(e.value):n.push(p.selected[r]);var o=i.getModelOption(p.ngModel,"trackBy"),a=p.isMultiple?n:n[0],s=p.ngModel.$modelValue;(o?t.equals(s,a):s+""===a)||(p.ngModel.$setViewValue(a),p.ngModel.$render())}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:a,link:{pre:function(e,n,r,a){function s(n){var r=i.getClosest(n.target,"md-option"),o=r&&t.element(r).data("$mdOptionController");if(r&&o){if(r.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=l.hashGetter(o.value),s=t.isDefined(l.selected[a]);e.$apply(function(){l.isMultiple?s?l.deselect(a):l.select(a,o.value):s||(l.deselect(Object.keys(l.selected)[0]),l.select(a,o.value)),l.refreshViewValue()})}}var l=a[0];n.addClass("_md"),o(n),n.on("click",s),n.on("keypress",function(e){13!=e.keyCode&&32!=e.keyCode||s(e)})}}}}function o(e,n,i){function r(r,o,a,s){function l(e,t,n){if(d.hashGetter){var i=d.hashGetter(t,r),o=d.hashGetter(e,r);c.hashKey=o,c.value=e,d.removeOption(i,c),d.addOption(o,c)}else n||r.$$postDigest(function(){l(e,t,!0)})}var c=s[0],d=s[1];i(o),d.isMultiple&&(o.addClass("md-checkbox-enabled"),o.prepend(u.clone())),t.isDefined(a.ngValue)?r.$watch(a.ngValue,l):t.isDefined(a.value)?l(a.value):r.$watch(function(){return o.text().trim()},l),a.$observe("disabled",function(e){e?o.attr("tabindex","-1"):o.attr("tabindex","0")}),r.$$postDigest(function(){a.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(d.isMultiple||d.deselect(Object.keys(d.selected)[0]),d.select(c.hashKey,c.value)):d.deselect(c.hashKey),d.refreshViewValue())})}),e.attach(r,o),function(){var e={role:"option","aria-selected":"false"};o[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),o.attr(e)}(),r.$on("$destroy",function(){d.removeOption(c.hashKey,c)})}function o(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return o.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:o,compile:function(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),function(e){var t=e.value,n=e.ngValue;return t||n}(n)||e.attr("md-option-empty",""),r}}}function a(i){function r(i,r,a,c,u,d,p,h,m){function f(n,i,r){var s,u,d=i[0],p=r.target[0].children[0],h=m[0].body,f=r.selectEl[0],g=r.contentEl[0],v=h.getBoundingClientRect(),b=p.getBoundingClientRect(),y={left:v.left+l,top:l,bottom:v.height-l,right:v.width-l-(a.floatingScrollbars()?16:0)},w=b.top-y.top,C=(b.left,b.left,b.width,y.bottom-(b.top+b.height)),E=v.width-2*l,x=f.querySelector("md-option[selected]"),S=f.getElementsByTagName("md-option"),_=f.getElementsByTagName("md-optgroup"),T=function(e,t){var n=!1;try{var i=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=i}finally{}return n}(i,g);s=(u=r.loadingAsync)&&t.isFunction(u.then)?g.firstElementChild||g:x||(_.length?_[0]:S.length?S[0]:g.firstElementChild||g),g.offsetWidth>E?g.style["max-width"]=E+"px":g.style.maxWidth=null,T&&f.classList.add("md-overflow");var A=s;"MD-OPTGROUP"===(A.tagName||"").toUpperCase()&&(s=A=S[0]||g.firstElementChild||g),r.focusedNode=A,d.style.display="block";var k,$,M,P,R,O,D=f.getBoundingClientRect(),N=(k=s)?{left:k.offsetLeft,top:k.offsetTop,width:k.offsetWidth,height:k.offsetHeight}:{left:0,top:0,width:0,height:0};if(s){var I=c.getComputedStyle(s);N.paddingLeft=parseInt(I.paddingLeft,10)||0,N.paddingRight=parseInt(I.paddingRight,10)||0}if(T){var L=g.offsetHeight/2;g.scrollTop=N.top+N.height/2-L,w<L?g.scrollTop=Math.min(N.top,g.scrollTop+L-w):C<L&&(g.scrollTop=Math.max(N.top+N.height-D.height,g.scrollTop-L+C))}$=b.left+N.left-N.paddingLeft+2,M=Math.floor(b.top+b.height/2-N.height/2-N.top+g.scrollTop)+2,P=N.left+b.width/2+"px "+(N.top+N.height/2-g.scrollTop)+"px 0px",R=Math.min(b.width+N.paddingLeft+N.paddingRight,E),O=e.getComputedStyle(p)["font-size"];var F=d.getBoundingClientRect(),H=Math.round(100*Math.min(b.width/D.width,1))/100,j=Math.round(100*Math.min(b.height/D.height,1))/100;return{container:{element:t.element(d),styles:{left:Math.floor(o(y.left,$,y.right-F.width)),top:Math.floor(o(y.top,M,y.bottom-F.height)),"min-width":R,"font-size":O}},dropDown:{element:t.element(f),styles:{transformOrigin:P,transform:r.alreadyOpen?"":a.supplant("scale({0},{1})",[H,j])}}}}var g=a.dom.animator,v=r.KEY_CODE;return{parent:"body",themable:!0,onShow:function(e,o,l){function b(){return u(function(t){if(l.isRemoved)return u.reject(!1);var n=f(e,o,l);n.container.element.css(g.toCss(n.container.styles)),n.dropDown.element.css(g.toCss(n.dropDown.styles)),d(function(){o.addClass("md-active"),n.dropDown.element.css(g.toCss({transform:""})),t()})})}return l.loadingAsync&&!l.isRemoved&&(e.$$loadingAsyncDone=!1,u.when(l.loadingAsync).then(function(){e.$$loadingAsyncDone=!0,delete l.loadingAsync}).then(function(){d(b)})),function(e,n){var i=o.find("md-select-menu");if(!n.target)throw new Error(a.supplant("$mdSelect.show() expected a target element in options.target but got '{0}'!",[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:i,contentEl:o.find("md-content"),optionNodes:i[0].getElementsByTagName("md-option")})}(0,l),l.hideBackdrop=function(e,t,n){return n.disableParentScroll&&!a.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=a.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=a.createBackdrop(e,"md-select-backdrop md-click-catcher"),h.enter(n.backdrop,m[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}(e,0,l),function(e,t,n){return n.parent!==t.parent()&&t.parent().attr("aria-owns",t.attr("id")),t.parent().find("md-select-value").attr("aria-hidden","true"),n.parent.append(t),u(function(e,n){try{p(t,{removeClass:"md-leave",duration:0}).start().then(b).then(e)}catch(e){n(e)}})}(0,o,l).then(function(e){var u,d,p,h,m,b;return o.attr("aria-hidden","false"),l.alreadyOpen=!0,l.cleanupInteraction=function(){function e(e){e.preventDefault(),e.stopPropagation(),l.restoreFocus=!1,a.nextTick(i.hide,!0)}function t(e){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case v.UP_ARROW:return void c("prev");case v.DOWN_ARROW:return void c("next");case v.SPACE:case v.ENTER:var t=a.getClosest(e.target,"md-option");t&&(d.triggerHandler({type:"click",target:t}),e.preventDefault()),u(e);break;case v.TAB:case v.ESCAPE:e.stopPropagation(),e.preventDefault(),l.restoreFocus=!0,a.nextTick(i.hide,!0);break;default:if(s(e,r)){var n=d.controller("mdSelectMenu").optNodeForKeyboardSearch(e);l.focusedNode=n||l.focusedNode,n&&n.focus()}}}function c(e){var t,i=a.nodesToArray(l.optionNodes),r=i.indexOf(l.focusedNode);do{-1===r?r=0:"next"===e&&r<i.length-1?r++:"prev"===e&&r>0&&r--,(t=i[r]).hasAttribute("disabled")&&(t=n)}while(!t&&r<i.length-1&&r>0);t&&t.focus(),l.focusedNode=t}function u(e){if(!(e&&"click"==e.type&&e.currentTarget!=d[0]||function(){var t=!1;if(e&&e.currentTarget.children.length>0){var n=e.currentTarget.children[0];if(n.scrollHeight>n.clientHeight&&n.children.length>0){e.pageX-e.currentTarget.getBoundingClientRect().left>n.querySelector("md-option").offsetWidth&&(t=!0)}}return t}())){var t=a.getClosest(e.target,"md-option");t&&t.hasAttribute&&!t.hasAttribute("disabled")&&(e.preventDefault(),e.stopPropagation(),p.isMultiple||(l.restoreFocus=!0,a.nextTick(function(){i.hide(p.ngModel.$viewValue)},!0)))}}if(!l.isRemoved){var d=l.selectEl,p=d.controller("mdSelectMenu")||{};return o.addClass("md-clickable"),l.backdrop&&l.backdrop.on("click",e),d.on("keydown",t),d.on("click",u),function(){l.backdrop&&l.backdrop.off("click",e),d.off("keydown",t),d.off("click",u),o.removeClass("md-clickable"),l.isRemoved=!0}}}(),l.cleanupResizing=(h=h,m=o,b=l,u=function(){if(!b.isRemoved){var e=f(h,m,b),t=e.container,n=e.dropDown;t.element.css(g.toCss(t.styles)),n.element.css(g.toCss(n.styles))}},(d=t.element(c)).on("resize",u),d.on("orientationchange",u),function(){d.off("resize",u),d.off("orientationchange",u)}),(p=l.focusedNode)&&!p.hasAttribute("disabled")&&p.focus(),e},l.hideBackdrop)},onRemove:function(e,t,n){function i(){o(),t.removeClass("md-active").attr("aria-hidden","true").css("display","none"),t.parent().find("md-select-value").removeAttr("aria-hidden"),function(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n?n.selectedLabels():""),t.triggerClose()}}(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}var r=null,o=e.$on("$destroy",function(){r.end()});return(n=n||{}).cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),!0===n.$destroy?i():(r=p(t,{addClass:"md-leave"})).start().then(i)},hasBackdrop:!0,disableParentScroll:!0}}function o(e,t,n){return Math.max(e,Math.min(t,n))}return r.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],i("$mdSelect").setDefaults({methods:["target"],options:r})}function s(e,t){var n=String.fromCharCode(e.keyCode),i=e.keyCode<=31;return n&&n.length&&!i&&!t.isMetaKey(e)&&!t.isFnLockKey(e)&&!t.hasModifierKey(e)}i.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],r.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],o.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],a.$inject=["$$interimElementProvider"];var l=8,c=0,u=t.element('<div class="md-container"><div class="md-icon"></div></div>');t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",i).directive("mdSelectMenu",r).directive("mdOption",o).directive("mdOptgroup",function(){return{restrict:"E",compile:function(e,n){e.parent().find("md-select-header").length||function(){var i=e.find("label");i.length||(i=t.element("<label>"),e.prepend(i)),i.addClass("md-container-ignore"),i.attr("aria-hidden","true"),n.label&&i.text(n.label)}()}}}).directive("mdSelectHeader",function(){return{restrict:"E"}}).provider("$mdSelect",a)}(),function(){function e(e,t){return["$mdUtil","$window",function(n,i){return{restrict:"A",multiElement:!0,link:function(r,o,a){var s=r.$on("$md-resize-enable",function(){s();var l=o[0],c=l.nodeType===i.Node.ELEMENT_NODE?i.getComputedStyle(l):{};r.$watch(a[e],function(e){if(!!e===t){n.nextTick(function(){r.$broadcast("$md-resize")});var i={cachedTransitionStyles:c};n.dom.animator.waitTransitionEnd(o,i).then(function(){r.$broadcast("$md-resize")})}})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",e("ngShow",!0)).directive("ngHide",e("ngHide",!1))}(),function(){function e(e,i,r,o){function a(t){return e.when(t).catch(o.error)}var s="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",l={find:function(t,r){var a=e.get(t);return a||r?a:(o.error(i.supplant(s,[t||""])),n)},waitFor:a};return function(e,n){if(t.isUndefined(e))return l;var o=!0===n,c=l.find(e,o);return!c&&o?l.waitFor(e):!c&&t.isUndefined(n)?function(e,n){var o=function(){return!1},l=function(){return r.when(i.supplant(s,[n||""]))};return t.extend({isLockedOpen:o,isOpen:o,toggle:l,open:l,close:l,onClose:t.noop,then:function(e){return a(n).then(e||t.noop)}},e)}(l,e):c}}function i(e,i,r,o,a,s,l,c,u,d,p,h,m){function f(l,f,g,v){function b(e){return e.keyCode===r.KEY_CODE.ESCAPE?y(e):d.when(!0)}function y(e){return e.preventDefault(),v.close()}var w,C,E,x,S=null,_=null,T=d.when(!0),A=c(g.mdIsLockedOpen),k=t.element(h);g.mdDisableScrollTarget&&((S=p[0].querySelector(g.mdDisableScrollTarget))?S=t.element(S):u.warn(i.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),S||(S=f.parent()),g.hasOwnProperty("mdDisableBackdrop")||(C=i.createBackdrop(l,"md-sidenav-backdrop md-opaque ng-enter")),f.addClass("_md"),o(f),C&&o.inherit(C,f),f.on("$destroy",function(){C&&C.remove(),v.destroy()}),l.$on("$destroy",function(){C&&C.remove()}),l.$watch(function(){return A(l.$parent,{$media:function(t){return u.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})},function(e,t){l.isLockedOpen=e,e===t?f.toggleClass("md-locked-open",!!e):s[e?"addClass":"removeClass"](f,"md-locked-open"),C&&C.toggleClass("md-locked-open",!!e)}),l.$watch("isOpen",function(e){var r=i.findFocusTarget(f)||i.findFocusTarget(f,"[md-sidenav-focus]")||f,o=f.parent();o[e?"on":"off"]("keydown",b),C&&C[e?"on":"off"]("click",y);var c=function(e,t){var n=f[0],i=e[0].scrollTop;if(t&&i){x={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var r={top:i+"px",bottom:"auto",height:e[0].clientHeight+"px"};f.css(r),C.css(r)}if(!t&&x)return function(){n.style.top=x.top,n.style.bottom=x.bottom,n.style.height=x.height,C[0].style.top=null,C[0].style.bottom=null,C[0].style.height=null,x=null}}(o,e);return e&&(_=p[0].activeElement,E=a.getLastInteractionType()),u=e,u&&!w?(w=S.css("overflow"),S.css("overflow","hidden")):t.isDefined(w)&&(S.css("overflow",w),w=n),T=d.all([e&&C?s.enter(C,o):C?s.leave(C):d.when(!0),s[e?"removeClass":"addClass"](f,"md-closed")]).then(function(){l.isOpen&&(m(function(){k.triggerHandler("resize")}),r&&r.focus()),c&&c()});var u}),v.$toggleOpen=function(e){return l.isOpen==e?d.when(!0):(l.isOpen&&v.onCloseCb&&v.onCloseCb(),d(function(t){l.isOpen=e,i.nextTick(function(){T.then(function(e){!l.isOpen&&_&&"keyboard"===E&&(_.focus(),_=null),t(e)})})}))}}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed").attr("tabIndex","-1"),f}}}function r(e,t,n,i,r){var o=this;o.isOpen=function(){return!!e.isOpen},o.isLockedOpen=function(){return!!e.isLockedOpen},o.onClose=function(e){return o.onCloseCb=e,o},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!e.isOpen)},o.$toggleOpen=function(t){return i.when(e.isOpen=t)};var a=t.mdComponentId,s=a&&a.indexOf(r.startSymbol())>-1,l=s?r(a)(e.$parent):a;o.destroy=n.register(o,l),s&&t.$observe("mdComponentId",function(e){e&&e!==o.$$mdHandle&&(o.destroy(),o.destroy=n.register(o,e))})}e.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],i.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],r.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",i).directive("mdSidenavFocus",function(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,i){}}}).controller("$mdSidenavController",r)}(),function(){function e(e,n,i,r,o,a,s,l,c,u){function d(i,d,p,h){function m(){y(),E()}function f(e){q=parseFloat(e),d.attr("aria-valuemin",e),m()}function g(e){V=parseFloat(e),d.attr("aria-valuemax",e),m()}function v(e){G=parseFloat(e)}function b(e){W=x(parseInt(e),0,6)}function y(){Z=I[0].getBoundingClientRect()}function w(){return j(),Z}function C(e){M.$setViewValue(x(S(e)))}function E(){isNaN(M.$viewValue)&&(M.$viewValue=M.$modelValue),M.$viewValue=x(M.$viewValue);var e=$(M.$viewValue);i.modelValue=M.$viewValue,d.attr("aria-valuenow",M.$viewValue),_(e),D.text(M.$viewValue)}function x(e,n,i){if(t.isNumber(e))return n=t.isNumber(n)?n:q,i=t.isNumber(i)?i:V,Math.max(n,Math.min(i,e))}function S(e){if(t.isNumber(e)){var n=Math.round((e-q)/G)*G+q;return n=Math.round(n*Math.pow(10,W))/Math.pow(10,W),P&&P.fitInputWidthToTextLength&&r.debounce(function(){P.fitInputWidthToTextLength(n.toString().length)},100)(),n}}function _(e){var t;t=e;var n=100*(e=Math.max(0,Math.min(t||0,1)))+"%",i=U?100*(1-e)+"%":n;B?N.css("bottom",n):r.bidiProperty(N,"left","right",n),L.css(B?"height":"width",i),d.toggleClass(U?"md-max":"md-min",0===e),d.toggleClass(U?"md-min":"md-max",1===e)}function T(e){var t,n;z?(t=B?e.pointer.y:e.pointer.x,n=x(S(k(A(t)))),_(A(t)),D.text(n)):function(e){i.$evalAsync(function(){C(k(A(e)))})}(B?e.pointer.y:e.pointer.x)}function A(e){var t=(e-(B?Z.top:Z.left))/(B?Z.height:Z.width);return B||"rtl"!==r.bidi()||(t=1-t),Math.max(0,Math.min(1,B?1-t:t))}function k(e){return q+(U?1-e:e)*(V-q)}function $(e){var t=(e-q)/(V-q);return U?1-t:t}a(d);var M=h[0]||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},P=h[1],R=(t.element(r.getClosest(d,"_md-slider-container",!0)),p.ngDisabled?t.bind(null,l(p.ngDisabled),i.$parent):function(){return d[0].hasAttribute("disabled")}),O=t.element(d[0].querySelector(".md-thumb")),D=t.element(d[0].querySelector(".md-thumb-text")),N=O.parent(),I=t.element(d[0].querySelector(".md-track-container")),L=t.element(d[0].querySelector(".md-track-fill")),F=t.element(d[0].querySelector(".md-track-ticks")),H=t.element(d[0].getElementsByClassName("md-slider-wrapper")),j=(t.element(d[0].getElementsByClassName("md-slider-content")),r.throttle(y,5e3)),B=t.isDefined(p.mdVertical),z=t.isDefined(p.mdDiscrete),U=t.isDefined(p.mdInvert);t.isDefined(p.min)?p.$observe("min",f):f(0),t.isDefined(p.max)?p.$observe("max",g):g(100),t.isDefined(p.step)?p.$observe("step",v):v(1),t.isDefined(p.round)?p.$observe("round",b):b(3),t.noop,p.ngDisabled&&i.$parent.$watch(p.ngDisabled,function(){d.attr("aria-disabled",!!R())}),s.register(H,"drag",{horizontal:!B}),i.mouseActive=!1,H.on("keydown",function(e){if(!R()){var t;(B?e.keyCode===o.KEY_CODE.DOWN_ARROW:e.keyCode===o.KEY_CODE.LEFT_ARROW)?t=-G:(B?e.keyCode===o.KEY_CODE.UP_ARROW:e.keyCode===o.KEY_CODE.RIGHT_ARROW)&&(t=G),(t=U?-t:t)&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),i.$evalAsync(function(){C(M.$viewValue+t)}))}}).on("mousedown",function(){(function(){if(z&&!R()&&!t.isUndefined(G)){if(G<=0){var e="Slider step value must be greater than zero when in discrete mode";throw c.error(e),new Error(e)}var i=Math.floor((V-q)/G);K||(K=t.element("<canvas>").css("position","absolute"),F.append(K),Y=K[0].getContext("2d"));var r,o=w();!o||o.height||o.width||(y(),o=Z),K[0].width=o.width,K[0].height=o.height;for(var a=0;a<=i;a++){var s=n.getComputedStyle(F[0]);Y.fillStyle=s.color||"black",r=Math.floor((B?o.height:o.width)*(a/i)),Y.fillRect(B?0:r-1,B?r-1:0,B?o.width:2,B?2:o.height)}}})(),i.mouseActive=!0,H.removeClass("md-focused"),u(function(){i.mouseActive=!1},100)}).on("focus",function(){!1===i.mouseActive&&H.addClass("md-focused")}).on("blur",function(){H.removeClass("md-focused"),d.removeClass("md-active"),function(){if(K&&Y){var e=w();Y.clearRect(0,0,e.width,e.height)}}()}).on("$md.pressdown",function(e){if(!R()){d.addClass("md-active"),d[0].focus(),y();var t=x(S(k(A(B?e.pointer.y:e.pointer.x))));i.$apply(function(){C(t),_($(t))})}}).on("$md.pressup",function(e){if(!R()){d.removeClass("md-dragging");var t=x(S(k(A(B?e.pointer.y:e.pointer.x))));i.$apply(function(){C(t),E()})}}).on("$md.dragstart",function(e){R()||(J=!0,e.stopPropagation(),d.addClass("md-dragging"),T(e))}).on("$md.drag",function(e){J&&(e.stopPropagation(),T(e))}).on("$md.dragend",function(e){J&&(e.stopPropagation(),J=!1)}),setTimeout(m,0);var q,V,G,W,K,Y,X=e.throttle(m);t.element(n).on("resize",X),i.$on("$destroy",function(){t.element(n).off("resize",X)}),M.$render=E,M.$viewChangeListeners.push(E),M.$formatters.push(x),M.$formatters.push(S);var Z={};y();var J=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:function(e,n){var r=t.element(e[0].getElementsByClassName("md-slider-wrapper")),o=n.tabindex||0;return r.attr("tabindex",o),(n.disabled||n.ngDisabled)&&r.attr("tabindex",-1),e.attr("role","slider"),i.expect(e,"aria-label"),d}}}e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],t.module("material.components.slider",["material.core"]).directive("mdSlider",e).directive("mdSliderContainer",function(){return{controller:function(){},compile:function(e){var i=e.find("md-slider");if(i){return i.attr("md-vertical")!==n&&e.attr("md-vertical",""),i.attr("flex")||i.attr("flex",""),function(e,n,i,r){function o(e){n.children().attr("disabled",e),n.find("input").attr("disabled",e)}n.addClass("_md");var a,s=t.noop;i.disabled?o(!0):i.ngDisabled&&(s=e.$watch(i.ngDisabled,function(e){o(e)})),e.$on("$destroy",function(){s()}),r.fitInputWidthToTextLength=function(e){var t=n[0].querySelector("md-input-container");if(t){var i=getComputedStyle(t),r=parseInt(i.minWidth),o=2*parseInt(i.padding);a=a||parseInt(i.maxWidth);var s=Math.max(a,r+o+r/2*e);t.style.maxWidth=s+"px"}}}}}}})}(),function(){function e(e,t,i,r){var o=i.checkStickySupport();return function(a,s,l){var c=s.controller("mdContent");if(c)if(o)s.css({position:o,top:0,"z-index":2});else{var u=c.$element.data("$$sticky");u||(u=function(r){function o(){var e;u.items.forEach(a),u.items=u.items.sort(function(e,t){return e.top<t.top?-1:1});for(var t=d.prop("scrollTop"),n=u.items.length-1;n>=0;n--)if(t>u.items[n].top){e=u.items[n];break}s(e)}function a(e){var t=e.element[0];for(e.top=0,e.left=0,e.right=0;t&&t!==d[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t.offsetParent&&(e.right+=t.offsetParent.offsetWidth-t.offsetWidth-t.offsetLeft),t=t.offsetParent;e.height=e.element.prop("offsetHeight");var r=i.floatingScrollbars()?"0":n;i.bidi(e.clone,"margin-left",e.left,r),i.bidi(e.clone,"margin-right",r,e.right)}function s(e){if(u.current!==e){u.current&&(c(u.current,null),l(u.current,null)),e&&l(e,"active"),u.current=e;var t=u.items.indexOf(e);u.next=u.items[t+1],u.prev=u.items[t-1],l(u.next,"next"),l(u.prev,"prev")}}function l(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function c(t,r){t&&(null===r||r===n?t.translateY&&(t.translateY=null,t.clone.css(e.CSS.TRANSFORM,"")):(t.translateY=r,i.bidi(t.clone,e.CSS.TRANSFORM,"translate3d("+t.left+"px,"+r+"px,0)","translateY("+r+"px)")))}var u,d=r.$element,p=t.throttle(o);return function(e){function n(){+i.now()-o>a?(r=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),t.throttle(n))}var r,o,a=200;e.on("scroll touchmove",function(){r||(r=!0,t.throttle(n),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),o=+i.now()})}(d),d.on("$scrollstart",p),d.on("$scroll",function e(){var t=d.prop("scrollTop"),n=t>(e.prevScrollTop||0);if(e.prevScrollTop=t,0!==t){if(n){if(u.next&&u.next.top<=t)return void s(u.next);if(u.current&&u.next&&u.next.top-t<=u.next.height)return void c(u.current,t+(u.next.top-u.next.height-t))}if(!n){if(u.current&&u.prev&&t<u.current.top)return void s(u.prev);if(u.next&&u.current&&t>=u.next.top-u.current.height)return void c(u.current,t+(u.next.top-t-u.current.height))}u.current&&c(u.current,t)}else s(null)}),u={prev:null,current:null,next:null,items:[],add:function(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return u.items.push(n),i.nextTick(function(){d.prepend(n.clone)}),p(),function(){u.items.forEach(function(t,n){t.element[0]===e[0]&&(u.items.splice(n,1),t.clone.remove())}),p()}},refreshElements:o}}(c),c.$element.data("$$sticky",u));var d=l||r(s.clone())(a),p=u.add(s,d);a.$on("$destroy",p)}}}e.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e)}(),function(){function e(e,n,i,r,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(a,s,l,c,u){function d(e){return t.element(e[0].querySelector(".md-subheader-content"))}i(s),s.addClass("_md"),r.prefixer().removeAttribute(s,"ng-repeat");var p=s[0].outerHTML;l.$set("role","heading"),o.expect(s,"aria-level","2"),u(a,function(e){d(s).append(e)}),s.hasClass("md-no-sticky")||u(a,function(t){var i=n('<div class="md-subheader-wrapper" aria-hidden="true">'+p+"</div>")(a);r.nextTick(function(){d(i).append(t)}),e(a,s,i)})}}}e.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e)}(),function(){function e(e){function t(e){return{restrict:"A",link:function(t,r,o){var a=e(o[n]);r.on(i,function(e){var n=e.currentTarget;t.$applyAsync(function(){a(t,{$event:e,$target:{current:n}})})})}}}t.$inject=["$parse"];var n="md"+e,i="$md."+e.toLowerCase();return t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight")).directive("mdSwipeUp",e("SwipeUp")).directive("mdSwipeDown",e("SwipeDown"))}(),function(){function e(e,n,i,r,o,a,s){var l=e[0];return{restrict:"E",priority:i.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:function(e,c){var u=l.compile(e,c).post;return e.addClass("md-dragging"),function(e,l,c,d){d[0];var p=d[1]||n.fakeNgModel(),h=(d[2],null);null!=c.disabled?h=function(){return!0}:c.ngDisabled&&(h=r(c.ngDisabled));var m,f=t.element(l[0].querySelector(".md-thumb-container")),g=t.element(l[0].querySelector(".md-container")),v=t.element(l[0].querySelector(".md-label"));o(function(){l.removeClass("md-dragging")}),u(e,l,c,d),h&&e.$watch(h,function(e){l.attr("tabindex",e?-1:0)}),c.$observe("mdInvert",function(e){var t=n.parseAttributeBoolean(e);t?l.prepend(v):l.prepend(g),l.toggleClass("md-inverted",t)}),a.register(g,"drag"),g.on("$md.dragstart",function(t){h&&h(e)||(t.stopPropagation(),l.addClass("md-dragging"),m={width:f.prop("offsetWidth")})}).on("$md.drag",function(e){if(m){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/m.width,n=p.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),f.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),m.translate=n}}).on("$md.dragend",function(t){var n;m&&(t.stopPropagation(),l.removeClass("md-dragging"),f.css(i.CSS.TRANSFORM,""),(p.$viewValue?m.translate<.5:m.translate>.5)&&(n=!p.$viewValue,e.$apply(function(){p.$setViewValue(n),p.$render()})),m=null,e.skipToggle=!0,s(function(){e.skipToggle=!1},1))})}}}}e.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e)}(),t.module("material.components.tabs",["material.core","material.components.icon"]),function(){t.module("material.components.tabs").service("MdTabsPaginationService",function(){function e(e){var t,n,i=0,r=[];for(t=0;t<e.tabs.length;t++)n=e.tabs[t],r.push(i),i+=n.offsetWidth;return r}function t(e){var t,n,i=0;for(t=0;t<e.tabs.length;t++)n=e.tabs[t],i+=n.offsetWidth;return i}return{decreasePageOffset:function(t,n){var i,r,o=t.canvas,a=e(t);for(i=0;i<a.length;i++)if(a[i]>=n){r=a[i];break}return Math.max(0,r-o.clientWidth)},increasePageOffset:function(n,i){var r,o,a=n.canvas,s=t(n)-a.clientWidth,l=e(n);for(r=0;l.length,l[r]<=i+a.clientWidth;r++)o=l[r];return Math.min(s,o)},getTabOffsets:e,getTotalTabsWidth:t}})}(),function(){function e(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e){o=e}function i(e,t){this.$onInit=function(){var n=this;n.highlightAction&&(t.highlightClasses=["md-highlight",n.highlightClass]),t.$watch(function(){return o},function(){n.content=o}),this.resolve=function(){e.hide(a)}}}function r(e,n,i,r){var a="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:function(t,s,l){o=l.textContent||l.content;var c=!r("gt-sm");s=i.extractElementByName(s,"md-toast",!0),l.element=s,l.onSwipe=function(e,t){var r=e.type.replace("$md.",""),o=r.replace("swipe","");"down"===o&&-1!=l.position.indexOf("top")&&!c||"up"===o&&(-1!=l.position.indexOf("bottom")||c)||("left"!==o&&"right"!==o||!c)&&(s.addClass("md-"+r),i.nextTick(n.cancel))},l.openClass=(u=l.position,r("gt-xs")?"md-toast-open-"+(u.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"),s.addClass(l.toastClass),l.parent.addClass(l.openClass),i.hasComputedStyle(l.parent,"position","static")&&l.parent.css("position","relative");var u;return s.on(a,l.onSwipe),s.addClass(c?"md-bottom":l.position.split(" ").map(function(e){return"md-"+e}).join(" ")),l.parent&&l.parent.addClass("md-toast-animating"),e.enter(s,l.parent).then(function(){l.parent&&l.parent.removeClass("md-toast-animating")})},onRemove:function(t,n,r){return n.off(a,r.onSwipe),r.parent&&r.parent.addClass("md-toast-animating"),r.openClass&&r.parent.removeClass(r.openClass),(1==r.$destroy?n.remove():e.leave(n)).then(function(){r.parent&&r.parent.removeClass("md-toast-animating"),i.hasComputedStyle(r.parent,"position","static")&&r.parent.css("position","")})},toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){if(n.autoWrap&&e&&!/md-toast-content/g.test(e)){var i=document.createElement("md-template");i.innerHTML=e;for(var r=0;r<i.children.length;r++)if("MD-TOAST"===i.children[r].nodeName){var o=t.element('<div class="md-toast-content">');o.append(t.element(i.children[r].childNodes)),i.children[r].appendChild(o[0])}return i.innerHTML}return e||""}}}i.$inject=["$mdToast","$scope"],r.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var o,a="ok";return e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:r}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:i,theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",n).addMethod("updateContent",n)}e.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"],t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n)}(),function(){function e(e,n,i,r,o){var a=t.bind(null,i.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,l,c){l.addClass("_md"),r(l),i.nextTick(function(){l.addClass("_md-toolbar-transitions")},!1),t.isDefined(c.mdScrollShrink)&&function(){function r(e,t){t&&l.parent()[0]===t.parent()[0]&&(m&&m.off("scroll",y),m=t,f=d())}function u(e){var t=e?e.target.scrollTop:v;w(),g=Math.min(h/b,Math.max(0,g+t-v)),l.css(n.CSS.TRANSFORM,a([-g*b])),m.css(n.CSS.TRANSFORM,a([(h-g)*b])),v=t,i.nextTick(function(){var e=l.hasClass("md-whiteframe-z1");e&&!g?o.removeClass(l,"md-whiteframe-z1"):!e&&g&&o.addClass(l,"md-whiteframe-z1")})}function d(){return m?(m.on("scroll",y),m.attr("scroll-shrink","true"),i.nextTick(p,!1),function(){m.off("scroll",y),m.attr("scroll-shrink","false"),p()}):t.noop}function p(){var e=-(h=l.prop("offsetHeight"))*b+"px";m.css({"margin-top":e,"margin-bottom":e}),u()}var h,m,f=t.noop,g=0,v=0,b=c.mdShrinkSpeedFactor||.5,y=e.throttle(u),w=i.debounce(p,5e3);s.$on("$mdContentLoaded",r),c.$observe("mdScrollShrink",function(e){var t=l.parent().find("md-content");!m&&t.length&&r(null,t),!1===(e=s.$eval(e))?f():f=d()}),c.ngShow&&s.$watch(c.ngShow,p),c.ngHide&&s.$watch(c.ngHide,p),s.$on("$destroy",f)}()}}}e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e)}(),function(){function n(e,n,i,r,o,a,s,l){var c="focus touchstart mouseenter",u="blur touchcancel mouseleave",d={top:{x:s.xPosition.CENTER,y:s.yPosition.ABOVE},right:{x:s.xPosition.OFFSET_END,y:s.yPosition.CENTER},bottom:{x:s.xPosition.CENTER,y:s.yPosition.BELOW},left:{x:s.xPosition.OFFSET_START,y:s.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:function(p,h,m){function f(){p.mdZIndex=p.mdZIndex||100,p.mdDelay=p.mdDelay||0,d[p.mdDirection]||(p.mdDirection="bottom")}function g(e){var t=e||o(h.text().trim())(p.$parent);(!T.attr("aria-label")&&!T.attr("aria-labelledby")||T.attr("md-labeled-by-tooltip"))&&(T.attr("aria-label",t),T.attr("md-labeled-by-tooltip")||T.attr("md-labeled-by-tooltip",_))}function v(){f(),x&&x.panelEl&&x.panelEl.removeClass(w),w="md-origin-"+p.mdDirection,C=d[p.mdDirection],E=s.newPanelPosition().relativeTo(T).addPanelPosition(C.x,C.y),x&&x.panelEl&&(x.panelEl.addClass(w),x.updatePosition(E))}function b(t){b.queued&&b.value===!!t||!b.queued&&p.mdVisible===!!t||(b.value=!!t,b.queued||(t?(b.queued=!0,S=e(function(){p.mdVisible=b.value,b.queued=!1,S=null,p.visibleWatcher||y(p.mdVisible)},p.mdDelay)):a.nextTick(function(){p.mdVisible=!1,p.visibleWatcher||y(!1)})))}function y(e){e?function(){if(!h[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!x){var e=t.element(document.body),n=s.newPanelAnimation().openFrom(T).closeTo(T).withAnimation({open:"md-show",close:"md-hide"}),i={id:_,attachTo:e,contentElement:h,propagateContainerEvents:!0,panelClass:"md-tooltip",animation:n,position:E,zIndex:p.mdZIndex,focusOnOpen:!1,onDomAdded:function(){x.panelEl.addClass(w)}};x=s.create(i)}x.open().then(function(){x.panelEl.attr("role","tooltip")})}():x&&x.close()}var w,C,E,x,S,_="md-tooltip-"+a.nextUid(),T=a.getParentWithPointerEvents(h),A=i.throttle(v),k=!1,$=null;f(),g(),h.detach(),v(),function(){function t(){b(!1)}function i(){$=document.activeElement===T[0]}function o(e){"focus"===e.type&&$?$=!1:p.mdVisible||(T.on(u,s),b(!0),"touchstart"===e.type&&T.one("touchend",function(){a.nextTick(function(){r.one("touchend",s)},!1)}))}function s(){((p.hasOwnProperty("mdAutohide")?p.mdAutohide:m.hasOwnProperty("mdAutohide"))||k||r[0].activeElement!==T[0])&&(S&&(e.cancel(S),b.queued=!1,S=null),T.off(u,s),T.triggerHandler("blur"),b(!1)),k=!1}function d(){k=!0}if(T[0]&&"MutationObserver"in n){var h=new MutationObserver(function(e){(function(e){return e.some(function(e){return"disabled"===e.attributeName&&T[0].disabled}),!1})(e)&&a.nextTick(function(){b(!1)})});h.observe(T[0],{attributes:!0})}$=!1,l.register("scroll",t,!0),l.register("blur",i),l.register("resize",A),p.$on("$destroy",function(){l.deregister("scroll",t,!0),l.deregister("blur",i),l.deregister("resize",A),T.off(c,o).off(u,s).off("mousedown",d),s(),h&&h.disconnect()}),T.on("mousedown",d),T.on(c,o)}(),function(){function e(){p.$destroy()}if(h[0]&&"MutationObserver"in n){var t=new MutationObserver(function(e){e.forEach(function(e){"md-visible"!==e.attributeName||p.visibleWatcher||(p.visibleWatcher=p.$watch("mdVisible",y))})});t.observe(h[0],{attributes:!0}),m.hasOwnProperty("mdVisible")&&(p.visibleWatcher=p.$watch("mdVisible",y))}else p.visibleWatcher=p.$watch("mdVisible",y);p.$watch("mdDirection",v),h.one("$destroy",e),T.one("$destroy",e),p.$on("$destroy",function(){b(!1),x&&x.destroy(),t&&t.disconnect(),h.remove()}),h.text().indexOf(o.startSymbol())>-1&&p.$watch(function(){return h.text().trim()},g)}()}}}n.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],t.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",n).service("$$mdTooltipRegistry",function(){function n(e){i[e.type]&&i[e.type].forEach(function(t){t.call(this,e)},this)}var i={},r=t.element(e);return{register:function(t,o,a){var s=i[t]=i[t]||[];s.length||(a?e.addEventListener(t,n,!0):r.on(t,n)),-1===s.indexOf(o)&&s.push(o)},deregister:function(t,o,a){var s=i[t],l=s?s.indexOf(o):-1;l>-1&&(s.splice(l,1),0===s.length&&(a?e.removeEventListener(t,n,!0):r.off(t,n)))}}})}(),function(){function e(e){e.addClass("md-truncate")}e.$inject=["$element"],t.module("material.components.truncate",["material.core"]).directive("mdTruncate",function(){return{restrict:"AE",controller:e}})}(),function(){function e(e){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+e[0].innerHTML+"</div></div>"}function n(e,n,i,r,o,a,s,l,c){this.$rootScope=o,this.$scope=s,this.$element=l,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=i.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=l[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var u=t.bind(this,this.updateSize);e(t.bind(this,function(){u();var e=n.debounce(u,10,null,!1),i=t.element(a);this.size||e(),i.on("resize",e),s.$on("$destroy",function(){i.off("resize",e)}),s.$emit("$md-resize-enable"),s.$on("$md-resize",u)}))}function i(e){return{controller:r,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var i=n.mdVirtualRepeat.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),r=i[1],o=e(i[2]),a=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,i,s){i[0].link_(i[1],s,r,o,a)}}}}function r(e,n,i,r,o,a,s,l){this.$scope=e,this.$element=n,this.$attrs=i,this.$browser=r,this.$document=o,this.$mdUtil=l,this.$rootScope=a,this.$$rAF=s,this.onDemand=l.parseAttributeBoolean(i.mdOnDemand),this.browserCheckUrlChange=r.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(i.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[],e.$on("$destroy",t.bind(this,this.cleanupBlocks_))}function o(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}function a(e){return{restrict:"A",link:function(e,t,n){var i=e.$eval(n.mdForceHeight)||null;i&&t&&(t[0].style.height=i)}}}n.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],r.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],i.$inject=["$parse"],t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",function(){return{controller:n,template:e,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}).directive("mdVirtualRepeat",i).directive("mdForceHeight",a),n.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},n.prototype.isHorizontal=function(){return this.horizontal},n.prototype.getSize=function(){return this.size},n.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},n.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},n.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},n.prototype.getScrollSize=function(){return this.scrollSize},n.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},n.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",e<this.maxElementPixels)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var i=Math.floor(e/this.maxElementPixels),r=document.createElement("div");r.style[t]=this.maxElementPixels+"px",r.style[n]="1px";for(var o=0;o<i;o++)this.sizer.appendChild(r.cloneNode(!1));r.style[t]=e-i*this.maxElementPixels+"px",this.sizer.appendChild(r)}},n.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||t<n)this.originalSize||(this.originalSize=this.size),this.setSize_(t);else if(null!==this.originalSize){this.unsetSize_();var i=this.originalSize;this.originalSize=null,i||this.updateSize(),this.setSize_(i||this.size)}this.repeater.containerUpdated()}},n.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},n.prototype.getScrollOffset=function(){return this.scrollOffset},n.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},n.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},n.prototype.resetScroll=function(){this.scrollTo(0)},n.prototype.handleScroll_=function(){var e="rtl"!=document.dir&&"rtl"!=document.body.dir;e||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var t=this.isHorizontal()?e?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(t===this.scrollOffset||t>this.scrollSize-this.size)){var n=this.repeater.getItemSize();if(n){var i=Math.max(0,Math.floor(t/n)-3),r=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||e?i*n:-i*n)+"px)";if(this.scrollOffset=t,this.offsetter.style.webkitTransform=r,this.offsetter.style.transform=r,this.bindTopIndex){var o=Math.floor(t/n);o!==this.topIndex&&o<this.repeater.getItemCount()&&(this.topIndex=o,this.bindTopIndex.assign(this.$scope,o),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},r.Block,r.prototype.link_=function(e,n,i,r,o){this.container=e,this.transclude=n,this.repeatName=i,this.rawRepeatListExpression=r,this.extraName=o,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},r.prototype.cleanupBlocks_=function(){t.forEach(this.pooledBlocks,function(e){e.element.remove()})},r.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},r.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new o(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},r.prototype.containerUpdated=function(){if(!this.itemSize)return this.unwatchItemSize_&&this.unwatchItemSize_!==t.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest());this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),(this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof o&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items))},r.prototype.getItemSize=function(){return this.itemSize},r.prototype.getItemCount=function(){return this.itemsLength},r.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var i=e&&e.length||0,r=!1;if(this.items&&i<this.items.length&&0!==this.container.getScrollOffset()){this.items=e;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}i!==this.itemsLength&&(r=!0,this.itemsLength=i),this.items=e,(e!==n||r)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,r&&this.container.setScrollSize(i*this.itemSize),Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var a,s,l=[],c=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)s=this.getBlock_(a),this.updateBlock_(s,a),l.push(s);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var u=a-1;a<this.newEndIndex;a++)s=this.getBlock_(a),this.updateBlock_(s,a),c.push(s);if(l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.$element[0].nextSibling),c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.blocks[u]&&this.blocks[u].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var d=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(d)}.bind(this))}this.isVirtualRepeatUpdating_=!1},r.prototype.getBlock_=function(e){return this.pooledBlocks.length?this.pooledBlocks.pop():(this.transclude(t.bind(this,function(t,i){n={element:t,new:!0,scope:i},this.updateScope_(i,e),this.parentNode.appendChild(t[0])})),n);var n},r.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e.new||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e.new=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},r.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},r.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},r.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},r.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+3,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-3)},o.prototype.$$includeIndexes=function(e,t){for(var n=e;n<t;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},a.$inject=["$mdUtil"]}(),function(){function e(e){return{link:function(t,n,i){var r="";i.$observe("mdWhiteframe",function(t){-1!=(t=parseInt(t,10)||4)&&(t>24||t<1)&&(e.warn("md-whiteframe attribute value is invalid. It should be a number between 1 and 24",n[0]),t=4);var o=-1==t?"":"md-whiteframe-"+t+"dp";i.$updateClass(o,r),r=o})}}}e.$inject=["$log"],t.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",e)}(),function(){function e(e,s,l,c,u,d,p,h,m,f,g,v){function b(){e.requireMatch&&oe&&oe.$setValidity("md-require-match",!!e.selectedItem||!e.searchText)}function y(){if(!J)return l.nextTick(y,!1,e);var t,n=(e.dropdownItems||r)*i,c=J.wrap.getBoundingClientRect(),u=J.snap.getBoundingClientRect(),d=J.root.getBoundingClientRect(),p=u.bottom-d.top,h=d.bottom-u.top,f=c.left-d.left,g=c.width,v=function(){var e=0,t=s.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}(),b=e.dropdownPosition;if(b||(b=p>h&&d.height-p-o<n?"top":"bottom"),m.mdFloatingLabel&&(f+=a,g-=2*a),t={left:f+"px",minWidth:g+"px",maxWidth:Math.max(c.right-d.left,d.right-c.left)-o+"px"},"top"===b)t.top="auto",t.bottom=h+"px",t.maxHeight=Math.min(n,c.top-d.top-o)+"px";else{var w=d.bottom-c.bottom-o+l.getViewportTop();t.top=p-v+"px",t.bottom="auto",t.maxHeight=Math.min(n,w)+"px"}J.$.scrollContainer.css(t),l.nextTick(function(){var e=J.scrollContainer.getBoundingClientRect(),t={};e.right>d.right-o&&(t.left=c.right-e.width+"px"),J.$.scrollContainer.css(t)},!1)}function w(){J.input.focus()}function C(){Y.hidden||l.enableScrolling(),t.element(d).off("resize",ae),J&&t.forEach(["ul","scroller","scrollContainer","input"],function(e){J.$[e].remove()})}function E(){ne||Y.hidden||J.input.focus(),ee=!1,Y.hidden=$()}function x(n,i){b(),n?T(n).then(function(t){e.searchText=t,function(e,t){te.forEach(function(n){n(e,t)})}(n,i)}):i&&e.searchText&&T(i).then(function(n){t.isString(e.searchText)&&n.toString().toLowerCase()===e.searchText.toLowerCase()&&(e.searchText="")}),n!==i&&t.isFunction(e.itemChange)&&e.itemChange(A(e.selectedItem))}function S(n,i){Y.index=e.autoselect?0:-1,n!==i&&(b(),T(e.selectedItem).then(function(r){n!==r&&(e.selectedItem=null,n!==i&&t.isFunction(e.textChange)&&e.textChange(),N()?U():(Y.matches=[],k(!1),H(!1,le.Count)))}))}function _(){return t.isNumber(e.minLength)?e.minLength:1}function T(n){return f.when(function(t){return t&&e.itemText?e.itemText(A(t)):null}(n)||n).then(function(e){return e&&!t.isString(e)&&g.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),e})}function A(e){if(!e)return n;var t={};return Y.itemName&&(t[Y.itemName]=e),t}function k(e){Y.loading!=e&&(Y.loading=e),Y.hidden=$()}function $(){return!M()||!(N()&&R()||z())}function M(){return!(Y.loading&&!R()||O()||!ne)}function P(t){return!e.escapeOptions||-1!==e.escapeOptions.toLowerCase().indexOf(t)}function R(){return!!Y.matches.length}function O(){return!!Y.scope.selectedItem}function D(){return T(Y.matches[Y.index])}function N(){return(e.searchText||"").length>=_()}function I(t){l.nextTick(function(){T(Y.matches[t]).then(function(e){var t=J.$.input.controller("ngModel");t.$setViewValue(e),t.$render()}).finally(function(){e.selectedItem=Y.matches[t],k(!1)})},!1)}function L(){Y.index=0,Y.matches=[]}function F(){k(!0),e.searchText="";var t=document.createEvent("CustomEvent");t.initCustomEvent("change",!0,!0,{value:""}),J.input.dispatchEvent(t),J.input.blur(),e.searchText="",J.input.focus()}function H(e,t){var n=e?"polite":"assertive",i=[];t&le.Selected&&-1!==Y.index&&i.push(D()),t&le.Count&&i.push(f.resolve(function(){switch(Y.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+Y.matches.length+" matches available."}}())),f.all(i).then(function(e){v.announce(e.join(" "),n)})}function j(){if(J.li[0]){var e=J.li[0].offsetHeight,t=e*Y.index,n=t+e,i=J.scroller.clientHeight,r=J.scroller.scrollTop;t<r?B(t):n>r+i&&B(n-i)}}function B(e){J.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function z(){var e=(Y.scope.searchText||"").length;return Y.hasNotFound&&!R()&&(!Y.loading||0!==ie)&&e>=_()&&(ne||ee)&&!O()}function U(){var n=e.searchText||"",i=n.toLowerCase();!e.noCache&&Q[i]?q(Q[i]):function(n){function i(t){Q[o]=t,(n||"")===(e.searchText||"")&&q(t)}var r=e.$parent.$eval(Z),o=n.toLowerCase(),a=t.isArray(r),s=!!r.then;a?i(r):s&&function(t){t&&(t=f.when(t),ie++,k(!0),l.nextTick(function(){t.then(i).finally(function(){0==--ie&&k(!1)})},!0,e))}(r)}(n),Y.hidden=$()}function q(t){var n,i,r;Y.matches=t,Y.hidden=$(),Y.loading&&k(!1),e.selectOnMatch&&(n=e.searchText,i=Y.matches,r=i[0],1===i.length&&T(r).then(function(t){var i=n==t;e.matchInsensitive&&!i&&(i=n.toLowerCase()==t.toLowerCase()),i&&I(0)})),y(),H(!0,le.Count)}function V(t,n){m[t]&&e.$parent.$eval(m[t],n||{})}var G,W,K,Y=this,X=e.itemsExpr.split(/ in /i),Z=X[1],J=null,Q={},ee=!1,te=[],ne=!1,ie=0,re=null,oe=null,ae=l.debounce(function(){Y.hidden||y()});G="hidden",W=function(e,n){!e&&n?(y(),H(!0,le.Count|le.Selected),J&&(l.disableScrollAround(J.ul),re=function(e){function t(e){e.preventDefault()}return e.on("wheel",t),e.on("touchmove",t),function(){e.off("wheel",t),e.off("touchmove",t)}}(t.element(J.wrap)))):e&&!n&&(l.enableScrolling(),re&&(re(),re=null))},K=!0,Object.defineProperty(Y,G,{get:function(){return K},set:function(e){var t=K;K=e,W(e,t)}}),Y.scope=e,Y.parent=e.$parent,Y.itemName=X[0],Y.matches=[],Y.loading=!1,Y.hidden=!0,Y.index=null,Y.id=l.nextUid(),Y.isDisabled=null,Y.isRequired=null,Y.isReadonly=null,Y.hasNotFound=!1,Y.keydown=function(t){switch(t.keyCode){case c.KEY_CODE.DOWN_ARROW:if(Y.loading)return;t.stopPropagation(),t.preventDefault(),Y.index=Math.min(Y.index+1,Y.matches.length-1),j(),H(!1,le.Selected);break;case c.KEY_CODE.UP_ARROW:if(Y.loading)return;t.stopPropagation(),t.preventDefault(),Y.index=Y.index<0?Y.matches.length-1:Math.max(0,Y.index-1),j(),H(!1,le.Selected);break;case c.KEY_CODE.TAB:if(E(),Y.hidden||Y.loading||Y.index<0||Y.matches.length<1)return;I(Y.index);break;case c.KEY_CODE.ENTER:if(Y.hidden||Y.loading||Y.index<0||Y.matches.length<1)return;if(O())return;t.stopPropagation(),t.preventDefault(),I(Y.index);break;case c.KEY_CODE.ESCAPE:if(t.preventDefault(),!(P("blur")||!Y.hidden||Y.loading||P("clear")&&e.searchText))return;t.stopPropagation(),L(),e.searchText&&P("clear")&&F(),Y.hidden=!0,P("blur")&&function(e){ee=!1,ne=!1,J.input.blur()}()}},Y.blur=function(e){ne=!1,ee||(Y.hidden=$(),V("ngBlur",{$event:e}))},Y.focus=function(e){ne=!0,M()&&N()&&U(),Y.hidden=$(),V("ngFocus",{$event:e})},Y.clear=function(){L(),F()},Y.select=I,Y.listEnter=function(){ee=!0},Y.listLeave=E,Y.mouseUp=function(){J.input.focus()},Y.getCurrentDisplayValue=D,Y.registerSelectedItemWatcher=function(e){-1==te.indexOf(e)&&te.push(e)},Y.unregisterSelectedItemWatcher=function(e){var t=te.indexOf(e);-1!=t&&te.splice(t,1)},Y.notFoundVisible=z,Y.loadingIsVisible=function(){return Y.loading&&!O()},Y.positionDropdown=y;var se,le={Count:1,Selected:2};return l.initOptionalProperties(e,m,{searchText:"",selectedItem:null,clearButton:!1}),u(s),se=parseInt(e.delay,10)||0,m.$observe("disabled",function(e){Y.isDisabled=l.parseAttributeBoolean(e,!1)}),m.$observe("required",function(e){Y.isRequired=l.parseAttributeBoolean(e,!1)}),m.$observe("readonly",function(e){Y.isReadonly=l.parseAttributeBoolean(e,!1)}),e.$watch("searchText",se?l.debounce(S,se):S),e.$watch("selectedItem",x),t.element(d).on("resize",ae),e.$on("$destroy",C),void l.nextTick(function(){var n;n=function(){var e,n;for(e=s;e.length&&(n=e.attr("md-autocomplete-snap"),!t.isDefined(n));e=e.parent());if(e.length)return{snap:e[0],wrap:"width"===n.toLowerCase()?e[0]:s.find("md-autocomplete-wrap")[0]};var i=s.find("md-autocomplete-wrap")[0];return{snap:i,wrap:i}}(),(J={main:s[0],scrollContainer:s[0].querySelector(".md-virtual-repeat-container"),scroller:s[0].querySelector(".md-virtual-repeat-scroller"),ul:s.find("ul")[0],input:s.find("input")[0],wrap:n.wrap,snap:n.snap,root:document.body}).li=J.ul.getElementsByTagName("li"),J.$=function(e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t.element(e[i]));return n}(J),oe=J.$.input.controller("ngModel"),J.$.root.length&&(u(J.$.scrollContainer),J.$.scrollContainer.detach(),J.$.root.append(J.$.scrollContainer),p.pin&&p.pin(J.$.scrollContainer,h)),e.autofocus&&s.on("focus",w)})}e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var i=48,r=5,o=8,a=2}(),function(){function e(e){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(e,n){var i=e.find("input");return["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"].forEach(function(e){var t=n[n.$normalize(e)];null!==t&&i.attr(e,t)}),function(e,n,i,r){r.hasNotFound=!!n.attr("md-has-not-found"),t.isDefined(i.mdClearButton)||e.floatingLabel||(e.clearButton=!0)}},template:function(t,n){var i,r,o=(i=t.find("md-not-found").detach(),(r=i.length?i.html():"")?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+r+"</li>":""),a=function(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}(),s=t.html(),l=n.tabindex;return o&&t.attr("md-has-not-found",!0),t.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+(n.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=l?'tabindex="'+l+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+s+"</div>            </md-input-container>":'            <input type="search"                '+(null!=l?'tabindex="'+l+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>')+'          <button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+e.mdClose+'"></md-icon></button>          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+a+"                  </li>"+o+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}e.$inject=["$$mdSvgRegistry"],t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,t){return{restrict:"AE",compile:function(e,n,i){return function(e,n,r){function o(n,i){c[i]=e[n],e.$watch(n,function(e){t.nextTick(function(){c[i]=e})})}var a,s,l=e.$mdAutocompleteCtrl,c=l.parent.$new(),u=l.itemName;o("$index","$index"),o("item",u),a=!1,s=!1,e.$watch(function(){s||a||(a=!0,e.$$postDigest(function(){s||c.$digest(),a=s=!1}))}),c.$watch(function(){s=!0}),i(c,function(e){n.after(e)})}},terminal:!0,transclude:"element"}}e.$inject=["$compile","$mdUtil"],t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e)}(),function(){function e(e,t,n){this.$scope=e,this.$element=t,this.$attrs=n,this.regex=null}e.$inject=["$scope","$element","$attrs"],t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.prototype.init=function(e,t){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:e(n),contentText:t(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},e.prototype.onRender=function(e,t){var n=e.contentText;null!==this.regex&&e.term===t.term||(this.regex=this.createRegex(e.term,this.flags)),e.term?this.applyRegex(n):this.$element.text(n)},e.prototype.applyRegex=function(e){var n=this.resolveTokens(e);this.$element.empty(),n.forEach(function(e){if(e.isMatch){var n=t.element('<span class="highlight">').text(e.text);this.$element.append(n)}else this.$element.append(document.createTextNode(e))}.bind(this))},e.prototype.resolveTokens=function(e){function t(t,i){var r=e.slice(t,i);r&&n.push(r)}var n=[],i=0;return e.replace(this.regex,function(e,r){t(i,r),n.push({text:e,isMatch:!0}),i=r+e.length}),t(i),n},e.prototype.createRegex=function(e,t){var n="",i="",r=this.sanitizeRegex(e);return t.indexOf("^")>=0&&(n="^"),t.indexOf("$")>=0&&(i="$"),new RegExp(n+r+i,t.replace(/[$^]/g,""))},e.prototype.sanitizeRegex=function(e){return e&&e.toString().replace(/[\\^$*+?.()|{}[\]]/g,"\\$&")}}(),function(){function e(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,i){var r=t(i.mdHighlightText),o=e(n.html());return function(e,t,n,i){i.init(r,o)}}}}e.$inject=["$interpolate","$parse"],t.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){function i(e,t,i,r,o){this.$scope=e,this.$element=t,this.$mdConstant=i,this.$timeout=r,this.$mdUtil=o,this.isEditting=!1,this.parentController=n,this.enableChipEdit=!1}i.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],t.module("material.components.chips").controller("MdChipCtrl",i),i.prototype.init=function(e){this.parentController=e,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},i.prototype.getChipContent=function(){var e=this.$element[0].getElementsByClassName("md-chip-content");return t.element(e[0])},i.prototype.getContentElement=function(){return t.element(this.getChipContent().children()[0])},i.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},i.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var e=this.getChipIndex();this.getContentElement().text()?(this.parentController.updateChipContents(e,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===e&&this.parentController.focusChip(e)}.bind(this))):this.parentController.removeChipAndFocusInput(e)}},i.prototype.selectNodeContents=function(t){var n,i;document.body.createTextRange?((n=document.body.createTextRange()).moveToElementText(t),n.select()):e.getSelection&&(i=e.getSelection(),(n=document.createRange()).selectNodeContents(t),i.removeAllRanges(),i.addRange(n))},i.prototype.goInEditMode=function(){this.isEditting=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},i.prototype.chipKeyDown=function(e){this.isEditting||e.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&e.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&e.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(e.preventDefault(),this.goOutOfEditMode()):(e.preventDefault(),this.goInEditMode())},i.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){function e(e,i,r,o){var a=i.processTemplate(n);return{restrict:"E",require:["^?mdChips","mdChip"],link:function(n,i,s,l){var c=l.shift(),u=l.shift(),d=t.element(i[0].querySelector(".md-chip-content"));e(i),c&&(u.init(c),d.append(r(a)(n)),d.on("blur",function(){c.resetSelectedChip(),c.$scope.$applyAsync()})),o(function(){c&&c.shouldFocusLastChip&&c.focusLastChipThenInput()})},controller:"MdChipCtrl"}}e.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>'}(),function(){function e(e){return{restrict:"A",require:"^mdChips",scope:!1,link:function(t,n,i,r){n.on("click",function(e){t.$apply(function(){r.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}}}e.$inject=["$timeout"],t.module("material.components.chips").directive("mdChipRemove",e)}(),function(){function e(e){return{restrict:"EA",terminal:!0,link:function(t,n,i){var r=t.$parent.$mdChipsCtrl,o=r.parent.$new(!1,r.parent);o.$$replacedScope=t,o.$chip=t.$chip,o.$index=t.$index,o.$mdChipsCtrl=r;var a=r.$scope.$eval(i.mdChipTransclude);n.html(a),e(n.contents())(o)},scope:!1}}e.$inject=["$compile"],t.module("material.components.chips").directive("mdChipTransclude",e)}(),function(){function e(e,t,i,r,o,a,s){this.$timeout=a,this.$mdConstant=i,this.$scope=e,this.parent=e.$parent,this.$mdUtil=s,this.$log=r,this.$element=o,this.$attrs=t,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(t.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(t.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=n,this.init()}e.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];var n=300;t.module("material.components.chips").controller("MdChipsCtrl",e),e.prototype.init=function(){var e=this;e.wrapperId="_md-chips-wrapper-"+e.$mdUtil.nextUid(),e.$scope.$watchCollection("$mdChipsCtrl.items",function(){e.setupInputAria(),e.setupWrapperAria()}),e.$attrs.$observe("mdChipAppendDelay",function(t){e.chipAppendDelay=parseInt(t)||n})},e.prototype.setupInputAria=function(){var e=this.$element.find("input");e&&(e.attr("role","textbox"),e.attr("aria-multiline",!0))},e.prototype.setupWrapperAria=function(){var e=this,t=this.$element.find("md-chips-wrap");this.items&&this.items.length?(t.attr("role","listbox"),this.contentIds=this.items.map(function(){return e.wrapperId+"-chip-"+e.$mdUtil.nextUid()}),t.attr("aria-owns",this.contentIds.join(" "))):(t.removeAttr("role"),t.removeAttr("aria-owns"))},e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.autocompleteCtrl&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(e.target))return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(e.keyCode)){if(this.autocompleteCtrl&&this.requireMatch||!t)return;if(e.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(t.trim()),this.resetChipBuffer(),!1}}},e.prototype.getCursorPosition=function(e){try{if(e.selectionStart===e.selectionEnd)return e.selectionStart}catch(t){if(!e.value)return 0}},e.prototype.updateChipContents=function(e,t){e>=0&&e<this.items.length&&(this.items[e]=t,this.ngModelCtrl.$setDirty())},e.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},e.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!t.isDefined(this.removable)||this.removable)},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer()&&!this.isEditingChip())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(e.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),(this.selectedChip<0||this.readonly&&0==this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){return this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder)?this.secondaryPlaceholder:this.placeholder},e.prototype.removeAndSelectAdjacentChip=function(e){var t=this,n=t.getAdjacentChipIndex(e);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+e+'"]'),t.removeChip(e),t.$timeout(function(){t.$timeout(function(){t.selectAndFocusChipSafe(n)})})},e.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){if(this.shouldFocusLastChip=!0,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(!(t.isObject(e)&&this.items.some(function(n){return t.equals(e,n)})||null==e||this.items.indexOf(e)+1)){var i=this.items.push(e)-1;this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:i})}},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){var e=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return t.isString(e)?e:""},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.hasMaxChipsReached=function(){return t.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},e.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())},e.prototype.removeChip=function(e){var t=this.items.splice(e,1);this.ngModelCtrl.$setDirty(),this.validateModel(),t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length||-1===e)return this.focusInput();if(e>=this.items.length){if(!this.readonly)return this.onFocus();e=0}e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),this.focusChip(e)},e.prototype.focusLastChipThenInput=function(){var e=this;e.shouldFocusLastChip=!1,e.focusChip(this.items.length-1),e.$timeout(function(){e.focusInput()},e.chipAppendDelay)},e.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[e]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){var t=this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content');this.ariaTabIndex=e,t.focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,r=this,o=function(e,n){i.$evalAsync(t.bind(r,n,e))};e.attr({tabindex:0}).on("keydown",function(e){o(e,r.inputKeydown)}).on("focus",function(e){o(e,r.onInputFocus)}).on("blur",function(e){o(e,r.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.autocompleteCtrl=e,e.registerSelectedItemWatcher(t.bind(this,function(e){if(e){if(this.hasMaxChipsReached())return;this.appendChip(e),this.resetChipBuffer()}})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},e.prototype.shouldAddOnBlur=function(){this.validateModel();var e=this.getChipBuffer().trim(),t=this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(t=t&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&e&&t&&!n},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},e.prototype.contentIdFor=function(e){return this.contentIds[e]}}(),function(){function e(e,t,a,s,l,c){var u={chips:t.processTemplate(n),input:t.processTemplate(i),default:t.processTemplate(r),remove:t.processTemplate(o)};return{template:function(e,t){return t.$mdUserTemplate=e.clone(),u.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:function(n,i){function r(e){if(i.ngModel){var t=o[0].querySelector(e);return t&&t.outerHTML}}var o=i.$mdUserTemplate;i.$mdUserTemplate=null;var d=r("md-chips>md-chip-template"),p=r(t.prefixer().buildList("md-chip-remove").map(function(e){return"md-chips>*["+e+"]"}).join(","))||u.remove,h=d||u.default,m=r("md-chips>md-autocomplete")||r("md-chips>input")||u.input,f=o.find("md-chip");return o[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,r,o,s){t.initOptionalProperties(n,i),e(r);var g=s[0];if(d&&(g.enableChipEdit=!1),g.chipContentsTemplate=h,g.chipRemoveTemplate=p,g.chipInputTemplate=m,g.mdCloseIcon=c.mdClose,r.attr({tabindex:-1}).on("focus",function(){g.onFocus()}),i.ngModel&&(g.configureNgModel(r.controller("ngModel")),o.mdTransformChip&&g.useTransformChipExpression(),o.mdOnAppend&&g.useOnAppendExpression(),o.mdOnAdd&&g.useOnAddExpression(),o.mdOnRemove&&g.useOnRemoveExpression(),o.mdOnSelect&&g.useOnSelectExpression(),m!=u.input&&n.$watch("$mdChipsCtrl.readonly",function(e){e||t.nextTick(function(){if(0===m.indexOf("<md-autocomplete")){var e=r.find("md-autocomplete");g.configureAutocomplete(e.controller("mdAutocomplete"))}g.configureUserInput(r.find("input"))})}),t.nextTick(function(){var e=r.find("input");e&&e.toggleClass("md-input",!0)})),f.length>0){var v=a(f.clone())(n.$parent);l(function(){r.find("md-chips-wrap").prepend(v)})}}},scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',i='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",o='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>'}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){return this.contactQuery({$query:e})},e.prototype.itemName=function(e){return e[this.contactName]}}(),function(){function e(e,t){return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:function(n,i){return function(n,r,o,a){var s=a;t.initOptionalProperties(n,i),e(r),r.attr("tabindex","-1"),o.$observe("mdChipAppendDelay",function(e){s.chipAppendDelay=e})}},scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}e.$inject=["$mdTheming","$mdUtil"],t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'}(),function(){function e(e,i,r,o,a,s,l,c,u){s(e),this.$element=e,this.$scope=i,this.dateUtil=r,this.$mdUtil=o,this.keyCode=a.KEY_CODE,this.$$rAF=l,this.$mdDateLocale=u,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=n++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,c.tabindex||e.attr("tabindex","-1");var d,p=t.bind(this,this.handleKeyEvent);(d=e.parent().hasClass("md-datepicker-calendar")?t.element(document.body):e).on("keydown",p),i.$on("$destroy",function(){d.off("keydown",p)}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}e.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendar",function(){return{template:function(e,t){return'<div ng-switch="calendarCtrl.currentView" '+(t.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"')+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_mode:"@mdMode",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:e,controllerAs:"calendarCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0];i[1].configureNgModel(r)}}});var n=0,i={day:"month",month:"year"};e.prototype.$onInit=function(){this._mode&&i.hasOwnProperty(this._mode)?(this.currentView=i[this._mode],this.mode=this._mode):(this.currentView=this._currentView||"month",this.mode=null);var e=this.$mdDateLocale;this.minDate&&this.minDate>e.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=e.firstRenderableDate,this.maxDate&&this.maxDate<e.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=e.lastRenderableDate},e.prototype.configureNgModel=function(e){var t=this;t.ngModelCtrl=e,t.$mdUtil.nextTick(function(){t.isInitialized=!0}),e.$render=function(){var e=this.$viewValue;t.$scope.$broadcast("md-calendar-parent-changed",e),t.selectedDate||(t.selectedDate=e),t.displayDate||(t.displayDate=t.selectedDate||t.today)}},e.prototype.setNgModelValue=function(e){var t=this.dateUtil.createDateAtMidnight(e);return this.focus(t),this.$scope.$emit("md-calendar-change",t),this.ngModelCtrl.$setViewValue(t),this.ngModelCtrl.$render(),t},e.prototype.setCurrentView=function(e,n){var i=this;i.$mdUtil.nextTick(function(){i.currentView=e,n&&(i.displayDate=t.isDate(n)?n:new Date(n))})},e.prototype.focus=function(e){if(this.dateUtil.isValidDate(e)){var t=this.$element[0].querySelector("."+this.FOCUSED_DATE_CLASS);t&&t.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(e,this.currentView),i=document.getElementById(n);i&&(i.classList.add(this.FOCUSED_DATE_CLASS),i.focus(),this.displayDate=e)}else{var r=this.$element[0].querySelector("[ng-switch]");r&&r.focus()}},e.prototype.changeSelectedDate=function(e){var t=this.SELECTED_DATE_CLASS,n=this.$element[0].querySelector("."+t);if(n&&(n.classList.remove(t),n.setAttribute("aria-selected","false")),e){var i=document.getElementById(this.getDateId(e,this.currentView));i&&(i.classList.add(t),i.setAttribute("aria-selected","true"))}this.selectedDate=e},e.prototype.getActionFromKeyEvent=function(e){var t=this.keyCode;switch(e.which){case t.ENTER:return"select";case t.RIGHT_ARROW:return"move-right";case t.LEFT_ARROW:return"move-left";case t.DOWN_ARROW:return e.metaKey?"move-page-down":"move-row-down";case t.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case t.PAGE_DOWN:return"move-page-down";case t.PAGE_UP:return"move-page-up";case t.HOME:return"start";case t.END:return"end";default:return null}},e.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());var n=t.getActionFromKeyEvent(e);n&&(e.preventDefault(),e.stopPropagation(),t.$scope.$broadcast("md-calendar-parent-action",n))})},e.prototype.hideVerticalScrollbar=function(e){function t(){var t=n.width||340,i=n.scrollbarWidth,o=e.calendarScroller;r.style.width=t+"px",o.style.width=t+i+"px",o.style.paddingRight=i+"px"}var n=this,i=e.$element[0],r=i.querySelector(".md-calendar-scroll-mask");n.width>0?t():n.$$rAF(function(){var r=e.calendarScroller;n.scrollbarWidth=r.offsetWidth-r.clientWidth,n.width=i.querySelector("table").offsetWidth,t()})},e.prototype.getDateId=function(e,t){if(!t)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,t,e.getFullYear(),e.getMonth(),e.getDate()].join("-")},e.prototype.updateVirtualRepeat=function(){var e=this.$scope,t=e.$on("$md-resize-enable",function(){e.$$phase||e.$apply(),t()})}}(),function(){function e(e,t,n,i,r,o){this.$element=e,this.$scope=t,this.$animate=n,this.$q=i,this.dateUtil=r,this.dateLocale=o,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var e=r.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(e)})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",r.getTimestampFromNode(this))}}e.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonth",function(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(i-n)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+n+'"><tr aria-hidden="true" md-force-height="\''+n+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:e,controllerAs:"monthCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0];i[1].initialize(r)}}});var n=265,i=45;e.prototype.initialize=function(e){this.items={length:this.dateUtil.getMonthDistance(e.firstRenderableDate,e.lastRenderableDate)+2},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},e.prototype.getSelectedMonthIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getMonthDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},e.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.calendarCtrl.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},e.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*n}return this.$q.when()},e.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;i<7;i++){var r=document.createElement("th");r.textContent=t[(i+e)%7],n.appendChild(r)}this.$element.find("thead").append(n)},e.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.calendarCtrl.changeSelectedDate(n),e.changeDisplayDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(this,this.handleKeyEvent))},e.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,i=n.displayDate;if("select"===t)n.setNgModelValue(i);else{var r=null,o=this.dateUtil;switch(t){case"move-right":r=o.incrementDays(i,1);break;case"move-left":r=o.incrementDays(i,-1);break;case"move-page-down":r=o.incrementMonths(i,1);break;case"move-page-up":r=o.incrementMonths(i,-1);break;case"move-row-down":r=o.incrementDays(i,7);break;case"move-row-up":r=o.incrementDays(i,-7);break;case"start":r=o.getFirstDateOfMonth(i);break;case"end":r=o.getLastDateOfMonth(i)}r&&(r=this.dateUtil.clampDate(r,n.minDate,n.maxDate),this.changeDisplayDate(r).then(function(){n.focus(r)}))}}}(),function(){function e(e,i){var r=e('<md-icon md-svg-src="'+i.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(e,n,i,o){var a=o[0],s=o[1],l=o[2];l.calendarCtrl=a,l.monthCtrl=s,l.arrowIcon=r.cloneNode(!0),e.$watch(function(){return l.offset},function(e){t.isNumber(e)&&l.generateContent()})}}}function n(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}e.$inject=["$compile","$$mdSvgRegistry"],n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonthBody",e),n.prototype.generateContent=function(){var e=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(e){var t=this.monthCtrl,n=this.calendarCtrl,i=document.createElement("td");if(i.tabIndex=-1,i.classList.add("md-calendar-date"),i.setAttribute("role","gridcell"),e){i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),i.id=n.getDateId(e,"month"),i.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(e,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var r=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var o=document.createElement("span");o.classList.add("md-calendar-date-selection-indicator"),o.textContent=r,i.appendChild(o),i.addEventListener("click",t.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(e,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=r}return i},n.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},n.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},n.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),i=this.getLocaleDay_(n),r=this.dateUtil.getNumberOfDaysInMonth(t),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,c=0,u=document.createElement("td"),d=document.createElement("span"),p=this.calendarCtrl;if(d.textContent=this.dateLocale.monthHeaderFormatter(t),u.appendChild(d),u.classList.add("md-calendar-month-label"),p.maxDate&&n>p.maxDate?u.classList.add("md-calendar-month-label-disabled"):p.mode||(u.addEventListener("click",this.monthCtrl.headerClickHandler),u.setAttribute("data-timestamp",n.getTime()),u.setAttribute("aria-label",this.dateLocale.monthFormatter(t)),u.classList.add("md-calendar-label-clickable"),u.appendChild(this.arrowIcon.cloneNode(!0))),i<=2){u.setAttribute("colspan","7");var h=this.buildDateRow();if(h.appendChild(u),o.insertBefore(h,s),l)return o}else c=3,u.setAttribute("colspan","3"),s.appendChild(u);for(var m=c;m<i;m++)s.appendChild(this.buildDateCell());for(var f=i,g=n,v=1;v<=r;v++){if(7===f){if(l)return o;f=0,a++,s=this.buildDateRow(a),o.appendChild(s)}g.setDate(v);var b=this.buildDateCell(g);s.appendChild(b),f++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var y=this.buildDateRow(),w=0;w<7;w++)y.appendChild(this.buildDateCell());o.appendChild(y)}return o},n.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}(),function(){function e(e,t,n,i,r,o){this.$element=e,this.$scope=t,this.$animate=n,this.$q=i,this.dateUtil=r,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1,this.$mdUtil=o;var a=this;this.cellClickHandler=function(){a.onTimestampSelected(r.getTimestampFromNode(this))}}e.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdUtil"],t.module("material.components.datepicker").directive("mdCalendarYear",function(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+n+'"><tr aria-hidden="true" md-force-height="\''+n+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:e,controllerAs:"yearCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0];i[1].initialize(r)}}});var n=88;e.prototype.initialize=function(e){this.items={length:this.dateUtil.getYearDistance(e.firstRenderableDate,e.lastRenderableDate)+1},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},e.prototype.getFocusedYearIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getYearDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},e.prototype.changeDate=function(e){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(e)&&!this.isMonthTransitionInProgress){var t=this,n=this.animateDateChange(e);return t.isMonthTransitionInProgress=!0,t.calendarCtrl.displayDate=e,n.then(function(){t.isMonthTransitionInProgress=!1})}},e.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*n}return this.$q.when()},e.prototype.handleKeyEvent=function(e,t){var n=this,i=n.calendarCtrl,r=i.displayDate;if("select"===t)n.changeDate(r).then(function(){n.onTimestampSelected(r)});else{var o=null,a=n.dateUtil;switch(t){case"move-right":o=a.incrementMonths(r,1);break;case"move-left":o=a.incrementMonths(r,-1);break;case"move-row-down":o=a.incrementMonths(r,6);break;case"move-row-up":o=a.incrementMonths(r,-6)}if(o){var s=i.minDate?a.getFirstDateOfMonth(i.minDate):null,l=i.maxDate?a.getFirstDateOfMonth(i.maxDate):null;o=a.getFirstDateOfMonth(n.dateUtil.clampDate(o,s,l)),n.changeDate(o).then(function(){i.focus(o)})}}},e.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.calendarCtrl.changeSelectedDate(n?e.dateUtil.getFirstDateOfMonth(n):n),e.changeDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(e,e.handleKeyEvent))},e.prototype.onTimestampSelected=function(e){var t=this.calendarCtrl;t.mode?this.$mdUtil.nextTick(function(){t.setNgModelValue(e)}):t.setCurrentView("month",e)}}(),function(){function e(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}e.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarYearBody",function(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:e,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(e,n,i,r){var o=r[0],a=r[1],s=r[2];s.calendarCtrl=o,s.yearCtrl=a,e.$watch(function(){return s.offset},function(e){t.isNumber(e)&&s.generateContent()})}}}),e.prototype.generateContent=function(){var e=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},e.prototype.buildMonthCell=function(e,t){var n=this.calendarCtrl,i=this.yearCtrl,r=this.buildBlankCell(),o=new Date(e,t,1);r.setAttribute("aria-label",this.dateLocale.monthFormatter(o)),r.id=n.getDateId(o,"year"),r.setAttribute("data-timestamp",o.getTime()),this.dateUtil.isSameMonthAndYear(o,n.today)&&r.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(o,n.selectedDate)&&(r.classList.add(n.SELECTED_DATE_CLASS),r.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[t];if(this.dateUtil.isMonthWithinRange(o,n.minDate,n.maxDate)){var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=a,r.appendChild(s),r.addEventListener("click",i.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(o,n.displayDate)&&(this.focusAfterAppend=r)}else r.classList.add("md-calendar-date-disabled"),r.textContent=a;return r},e.prototype.buildBlankCell=function(){var e=document.createElement("td");return e.tabIndex=-1,e.classList.add("md-calendar-date"),e.setAttribute("role","gridcell"),e.setAttribute("tabindex","-1"),e},e.prototype.buildCalendarForYear=function(e){var t,n=e.getFullYear(),i=document.createDocumentFragment(),r=document.createElement("tr"),o=document.createElement("td");for(o.className="md-calendar-month-label",o.textContent=n,r.appendChild(o),t=0;t<6;t++)r.appendChild(this.buildMonthCell(n,t));i.appendChild(r);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),t=6;t<12;t++)a.appendChild(this.buildMonthCell(n,t));return i.appendChild(a),i}}(),t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}t.prototype.$get=function(e,t){for(var n=e.DATETIME_FORMATS.SHORTDAY.map(function(e){return e.substring(0,1)}),i=Array(32),r=1;r<=31;r++)i[r]=r;var o=new Date(1880,0,1),a=new Date(o.getFullYear()+250,0,1),s={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||n,dates:this.dates||i,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||function(e,n){if(!e)return"";var i=e.toLocaleTimeString(),r=e;return 0!==e.getHours()||-1===i.indexOf("11:")&&-1===i.indexOf("23:")||(r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),t("date")(r,"M/d/yyyy",n)},parseDate:this.parseDate||function(e){return new Date(e)},isDateComplete:this.isDateComplete||function(e){return e=e.trim(),/^(([a-zA-Z]{3,}|[0-9]{1,4})([ .,]+|[\/-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(e)},monthHeaderFormatter:this.monthHeaderFormatter||function(e){return s.shortMonths[e.getMonth()]+" "+e.getFullYear()},monthFormatter:this.monthFormatter||function(e){return s.months[e.getMonth()]+" "+e.getFullYear()},weekNumberFormatter:this.weekNumberFormatter||function(e){return"Week "+e},longDateFormatter:this.longDateFormatter||function(e){return[s.days[e.getDay()],s.months[e.getMonth()],s.dates[e.getDate()],e.getFullYear()].join(" ")},msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||o,lastRenderableDate:this.lastRenderableDate||a};return s},t.prototype.$get.$inject=["$locale","$filter"],e.provider("$mdDateLocale",new t)}]),t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function i(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function r(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function o(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function a(e,t){var i=new Date(e.getFullYear(),e.getMonth()+t,1),r=n(i);return r<e.getDate()?i.setDate(r):i.setDate(e.getDate()),i}function s(e){return e&&e.getTime&&!isNaN(e.getTime())}function l(e){s(e)&&e.setHours(0,0,0,0)}function c(e){var n;return l(n=t.isUndefined(e)?new Date:new Date(e)),n}return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:i,getDateInPreviousMonth:r,isInNextMonth:function(e,t){return o(i(e),t)},isInPreviousMonth:function(e,t){return o(t,r(e))},getDateMidpoint:function(e,t){return c((e.getTime()+t.getTime())/2)},isSameMonthAndYear:o,getWeekOfMonth:function(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)},incrementDays:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)},incrementMonths:a,getLastDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),n(e))},isSameDay:function(e,t){return e.getDate()==t.getDate()&&o(e,t)},getMonthDistance:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},isValidDate:s,setDateTimeToMidnight:l,createDateAtMidnight:c,isDateWithinRange:function(e,t,n){var i=c(e),r=s(t)?c(t):null,o=s(n)?c(n):null;return(!r||r<=i)&&(!o||o>=i)},incrementYears:function(e,t){return a(e,12*t)},getYearDistance:function(e,t){return t.getFullYear()-e.getFullYear()},clampDate:function(e,t,n){var i=e;return t&&e<t&&(i=new Date(t.getTime())),n&&e>n&&(i=new Date(n.getTime())),i},getTimestampFromNode:function(e){if(e&&e.hasAttribute("data-timestamp"))return Number(e.getAttribute("data-timestamp"))},isMonthWithinRange:function(e,t,n){var i=e.getMonth(),r=e.getFullYear();return(!t||t.getFullYear()<r||t.getMonth()<=i)&&(!n||n.getFullYear()>r||n.getMonth()>=i)}}}),function(){function n(e,n,r,l){return{template:function(t,n){var i=n.mdHideIcons,r=n.ariaLabel||n.mdPlaceholder,o="all"===i||"calendar"===i?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+e.mdCalendar+'"></md-icon></md-button>',a="";return"all"!==i&&"triangle"!==i&&(a='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',t.addClass(s)),o+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(r?'aria-label="'+r+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+a+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-mode="{{::ctrl.mode}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",mode:"@mdMode",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:i,controllerAs:"ctrl",bindToController:!0,link:function(e,i,s,c){var u=c[0],d=c[1],p=c[2],h=c[3],m=n.parseAttributeBoolean(s.mdNoAsterisk);if(d.configureNgModel(u,p,l),p){var f=i[0].querySelector(".md-errors-spacer");f&&i.after(t.element("<div>").append(f)),p.setHasPlaceholder(s.mdPlaceholder),p.input=i,p.element.addClass(o).toggleClass(a,"calendar"!==s.mdHideIcons&&"all"!==s.mdHideIcons),p.label?m||s.$observe("required",function(e){p.label.toggleClass("md-required",!!e)}):r.expect(i,"aria-label",s.mdPlaceholder),e.$watch(p.isErrorGetter||function(){return u.$invalid&&(u.$touched||h&&h.$submitted)},p.setInvalid)}else if(h)var g=e.$watch(function(){return h.$submitted},function(e){e&&(d.updateErrorState(),g())})}}}function i(n,i,r,o,a,s,c,u,d,p,h){this.$window=o,this.dateUtil=d,this.$mdConstant=a,this.$mdUtil=c,this.$$rAF=p,this.$mdDateLocale=u,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=i[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=i[0].querySelector(".md-datepicker-input-container"),this.calendarPane=i[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=i[0].querySelector(".md-datepicker-button"),this.inputMask=t.element(i[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=i,this.$attrs=r,this.$scope=n,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(i[0].disabled||t.isString(r.disabled)),this.isCalendarOpen=!1,this.openOnFocus=r.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+c.nextUid(),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowEventName=l.test(navigator.userAgent||navigator.vendor||e.opera)?"orientationchange":"resize",this.windowEventHandler=c.debounce(t.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=t.bind(this,this.handleWindowBlur),this.ngDateFilter=h("date"),this.leftMargin=20,this.topMargin=null,r.tabindex?(this.ngInputElement.attr("tabindex",r.tabindex),r.$set("tabindex",null)):r.$set("tabindex","-1"),r.$set("aria-owns",this.calendarPaneId),s(i),s(t.element(this.calendarPane));var m=this;n.$on("$destroy",function(){m.detachCalendarPane()}),r.mdIsOpen&&n.$watch("ctrl.isOpen",function(e){e?m.openCalendarPane({target:m.inputElement}):m.closeCalendarPane()}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}i.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"],n.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],t.module("material.components.datepicker").directive("mdDatepicker",n);var r="md-datepicker-open",o="_md-datepicker-floating-label",a="_md-datepicker-has-calendar-icon",s="_md-datepicker-has-triangle-icon",l=/ipad|iphone|ipod|android/i;i.prototype.$onInit=function(){this.locale=this.dateLocale?t.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},i.prototype.configureNgModel=function(e,n,i){this.ngModelCtrl=e,this.mdInputContainer=n,this.$attrs.$set("type","date"),i[0].link.pre(this.$scope,{on:t.noop,val:t.noop,0:{}},this.$attrs,[e]);var r=this;r.ngModelCtrl.$formatters.push(function(e){var n=t.isDefined(e)?e:null;if(!(e instanceof Date)&&(n=Date.parse(e),!isNaN(n)&&t.isNumber(n)&&(e=new Date(n)),e&&!(e instanceof Date)))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof e);return r.onExternalChange(e),e}),e.$viewChangeListeners.unshift(t.bind(this,this.updateErrorState));var o=r.$mdUtil.getModelOption(e,"updateOn");o&&this.ngInputElement.on(o,t.bind(this.$element,this.$element.triggerHandler,o))},i.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.setModelValue(n),e.onExternalChange(n),e.closeCalendarPane()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement));var n=t.isDefined(this.debounceInterval)?this.debounceInterval:500;e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,n,e))},i.prototype.attachInteractionListeners=function(){var e=this,n=this.$scope,i=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(t){t.altKey&&t.keyCode==i.DOWN_ARROW&&(e.openCalendarPane(t),n.$digest())}),e.openOnFocus&&(e.ngInputElement.on("focus",t.bind(e,e.openCalendarPane)),t.element(e.$window).on("blur",e.windowBlurHandler),n.$on("$destroy",function(){t.element(e.$window).off("blur",e.windowBlurHandler)})),n.$on("md-calendar-close",function(){e.closeCalendarPane()})},i.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$scope.$parent;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},i.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton&&(this.calendarButton.disabled=e)},i.prototype.updateErrorState=function(e){var n=e||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var i=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=i)}if(this.dateUtil.isValidDate(this.maxDate)){var r=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=r)}t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);t.element(this.inputContainer).toggleClass("md-datepicker-invalid",!this.ngModelCtrl.$valid)},i.prototype.clearErrorState=function(){this.inputContainer.classList.remove("md-datepicker-invalid"),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},i.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3},i.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.locale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t),(""==e||this.dateUtil.isValidDate(t)&&this.locale.isDateComplete(e)&&this.isDateEnabled(t))&&(this.setModelValue(t),this.date=t),this.updateErrorState(t)},i.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},i.prototype.attachCalendarPane=function(){var e=this.calendarPane,n=document.body;e.style.transform="",this.$element.addClass(r),this.mdInputContainer&&this.mdInputContainer.element.addClass(r),t.element(n).addClass("md-datepicker-is-showing");var i=this.inputContainer.getBoundingClientRect(),o=n.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var a=i.top-o.top-this.topMargin,s=i.left-o.left-this.leftMargin,l=o.top<0&&0==document.body.scrollTop?-o.top:document.body.scrollTop,c=o.left<0&&0==document.body.scrollLeft?-o.left:document.body.scrollLeft,u=l+this.$window.innerHeight,d=c+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:i.width-1+"px",height:i.height-2+"px"}),s+360>d){if(d-360>0)s=d-360;else{s=c;var p=this.$window.innerWidth/360;e.style.transform="scale("+p+")"}e.classList.add("md-datepicker-pos-adjusted")}a+368>u&&u-368>l&&(a=u-368,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=s+"px",e.style.top=a+"px",document.body.appendChild(e),this.$$rAF(function(){e.classList.add("md-pane-open")})},i.prototype.detachCalendarPane=function(){this.$element.removeClass(r),this.mdInputContainer&&this.mdInputContainer.element.removeClass(r),t.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},i.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener(this.windowEventName,this.windowEventHandler)}},i.prototype.closeCalendarPane=function(){function t(){n.isCalendarOpen=n.isOpen=!1}if(this.isCalendarOpen){var n=this;n.detachCalendarPane(),n.ngModelCtrl.$setTouched(),n.evalAttr("ngBlur"),n.documentElement.off("click touchstart",n.bodyClickHandler),e.removeEventListener(n.windowEventName,n.windowEventHandler),n.calendarPaneOpenedFrom.focus(),n.calendarPaneOpenedFrom=null,n.openOnFocus?n.$mdUtil.nextTick(t):t()}},i.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},i.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},i.prototype.setFocused=function(e){e||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(e?"ngFocus":"ngBlur"),this.isFocused=e},i.prototype.handleBodyClick=function(e){this.isCalendarOpen&&(this.$mdUtil.getClosest(e.target,"md-calendar")||this.closeCalendarPane(),this.$scope.$digest())},i.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},i.prototype.evalAttr=function(e){this.$attrs[e]&&this.$scope.$parent.$eval(this.$attrs[e])},i.prototype.setModelValue=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(e,"yyyy-MM-dd",t))},i.prototype.onExternalChange=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=e,this.inputElement.value=this.locale.formatDate(e,t),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!e),this.resizeInputElement(),this.updateErrorState()}}(),function(){t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",function(e,t,n,i){return{restrict:"E",link:function(i,r,o){function a(){if(!o.mdSvgIcon&&!o.mdSvgSrc){o.mdFontIcon&&(r.removeClass(s),r.addClass(o.mdFontIcon),s=o.mdFontIcon);var t=e.fontSet(o.mdFontSet);l!==t&&(r.removeClass(l),r.addClass(t),l=t)}}t(r);var s=o.mdFontIcon,l=e.fontSet(o.mdFontSet);o.mdSvgIcon||o.mdSvgSrc||(o.mdFontIcon&&r.addClass("md-font "+o.mdFontIcon),r.addClass(l)),o.$observe("mdFontIcon",a),o.$observe("mdFontSet",a),r[0].getAttribute(o.$attr.mdSvgSrc);var c,u=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");o.role||(n.expect(r,"role","img"),o.role="img"),"img"!==o.role||o.ariaHidden||n.hasAriaLabel(r)||(o.alt?n.expect(r,"aria-label",o.alt):n.parentHasAriaLabel(r,2)?n.expect(r,"aria-hidden","true"):(c=o.mdFontIcon||o.mdSvgIcon||r.text())?n.expect(r,"aria-label",c):n.expect(r,"aria-hidden","true")),u&&o.$observe(u,function(t){r.empty(),t&&e(t).then(function(e){r.empty(),r.append(e)})})}}}])}(),function(){function n(){}function i(e,t){this.url=e,this.viewBoxSize=t||o.defaultViewBoxSize}function r(n,i,r,o,a,s){function l(e){return e=e||"",t.isString(e)||(e=s.getTrustedUrl(e)),m[e]?r.when(function(e){var n=e.clone(),i="_cache"+a.nextUid();return n.id&&(n.id+=i),t.forEach(n.querySelectorAll("[id]"),function(e){e.id+=i}),n}(m[e])):g.test(e)||v.test(e)?p(e).then(c(e)):(-1==e.indexOf(":")&&(e="$default:"+e),(n[e]?u:d)(e).then(c(e)))}function c(e){return function(i){var r;return m[e]=(r=i,t.isDefined(r.element)&&t.isDefined(r.config)?i:new h(i,n[e])),m[e].clone()}}function u(e){var t=n[e];return p(t.url).then(function(e){return new h(e,t)})}function d(e){function t(e){var t="icon "+e+" not found";return o.warn(t),r.reject(t||e)}var i=e.substring(0,e.lastIndexOf(":"))||"$default",a=n[i];return a?p(a.url).then(function(n){var i=e.slice(e.lastIndexOf(":")+1),r=n.querySelector("#"+i);return r?new h(r,a):t(e)}):t(e)}function p(n){return v.test(n)?function(n){var i=v.exec(n),o=/base64/i.test(n)?e.atob(i[2]):i[2];return r.when(t.element(o)[0])}(n):function(e){return r(function(n,r){i(e,!0).then(function(i){f[e]||(f[e]=t.element("<div>").append(i)[0].querySelector("svg")),n(f[e])},function(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;o.warn(n),r(e)})})}(n)}function h(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.cloneNode(!0))[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}var m={},f={},g=/[-\w@:%+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%+.~#?&\/\/=]*)?/i,v=/^data:image\/svg\+xml[\s*;\w\-=]*?(base64)?,(.*)$/i;return h.prototype={clone:function(){return this.element.cloneNode(!0)},prepare:function(){var e=this.config?this.config.viewBoxSize:n.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+e+" "+e,focusable:!1},function(e,t){this.element.setAttribute(t,e)},this)}},l.fontSet=function(e){if(t.isUndefined(e)||!e||!e.length)return n.defaultFontSet;var i=e;return t.forEach(n.fontSets,function(t){t.alias==e&&(i=t.fontSet||i)}),i},l}r.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],t.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",n);var o={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};n.prototype={icon:function(e,t,n){return-1==e.indexOf(":")&&(e="$default:"+e),o[e]=new i(t,n),this},iconSet:function(e,t,n){return o[e]=new i(t,n),this},defaultIconSet:function(e,t){return o.$default||(o.$default=new i(e,t)),o.$default.viewBoxSize=t||o.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return o.defaultViewBoxSize=e,this},fontSet:function(e,t){return o.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return o.defaultFontSet=e||"",this},defaultIconSize:function(e){return o.defaultIconSize=e,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(e,t,n,i,a){return r(o,e,t,n,i,a)}]}}(),function(){function e(e,i,r,o,a,s,l,c,u){var d,p,h=a.prefixer(),m=this;this.nestLevel=parseInt(i.mdNestLevel,10)||0,this.init=function(n,i){i=i||{},d=n,(p=r[0].querySelector(h.buildSelector(["ng-click","ng-mouseenter"]))).setAttribute("aria-expanded","false"),this.isInMenuBar=i.isInMenuBar,this.nestedMenus=a.nodesToArray(d[0].querySelectorAll(".md-nested-menu")),d.on("$mdInterimElementRemove",function(){m.isOpen=!1,a.nextTick(function(){m.onIsOpenChanged(m.isOpen)})}),a.nextTick(function(){m.onIsOpenChanged(m.isOpen)});var s="menu_container_"+a.nextUid();d.attr("id",s),t.element(p).attr({"aria-owns":s,"aria-haspopup":"true"}),o.$on("$destroy",t.bind(this,function(){this.disableHoverListener(),e.destroy()})),d.on("$destroy",function(){e.destroy()})};var f,g,v=[];this.enableHoverListener=function(){v.push(l.$on("$mdMenuOpen",function(e,t){d[0].contains(t[0])&&(m.currentlyOpenMenu=t.controller("mdMenu"),m.isAlreadyOpening=!1,m.currentlyOpenMenu.registerContainerProxy(m.triggerContainerProxy.bind(m)))})),v.push(l.$on("$mdMenuClose",function(e,t){d[0].contains(t[0])&&(m.currentlyOpenMenu=n)})),(g=t.element(a.nodesToArray(d[0].children[0].children))).on("mouseenter",m.handleMenuItemHover),g.on("mouseleave",m.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;v.length;)v.shift()();g&&g.off("mouseenter",m.handleMenuItemHover),g&&g.off("mouseleave",m.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(e){if(!m.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");f=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),m.currentlyOpenMenu&&m.currentlyOpenMenu!=n){var e=m.nestLevel+1;m.currentlyOpenMenu.close(!0,{closeTo:e}),m.isAlreadyOpening=!!n,n&&n.open()}else n&&!n.isOpen&&n.open&&(m.isAlreadyOpening=!!n,n&&n.open())},n?100:250);var i=e.currentTarget.querySelector(".md-button:not([disabled])");i&&i.focus()}},this.handleMenuItemMouseLeave=function(){f&&(s.cancel(f),f=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),m.isOpen||(m.enableHoverListener(),m.isOpen=!0,a.nextTick(function(){m.onIsOpenChanged(m.isOpen)}),(p=p||(t?t.target:r[0])).setAttribute("aria-expanded","true"),o.$emit("$mdMenuOpen",r),e.show({scope:o,mdMenuCtrl:m,nestLevel:m.nestLevel,element:d,target:p,preserveElement:!0,parent:"body"}).finally(function(){p.setAttribute("aria-expanded","false"),m.disableHoverListener()}))},this.onIsOpenChanged=function(e){e?(d.attr("aria-hidden","false"),r[0].classList.add("md-open"),t.forEach(m.nestedMenus,function(e){e.classList.remove("md-open")})):(d.attr("aria-hidden","true"),r[0].classList.remove("md-open")),o.$mdMenuIsOpen=m.isOpen},this.focusMenuContainer=function(){var e=d[0].querySelector(h.buildSelector(["md-menu-focus-target","md-autofocus"]));e||(e=d[0].querySelector(".md-button:not([disabled])")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return m.isOpen?e.destroy():c.when(!1)},this.close=function(n,i){if(m.isOpen){m.isOpen=!1,a.nextTick(function(){m.onIsOpenChanged(m.isOpen)});var s=t.extend({},i,{skipFocus:n});if(o.$emit("$mdMenuClose",r,s),e.hide(null,i),!n){var l=m.restoreFocusTo||r.find("button")[0];l instanceof t.element&&(l=l[0]),l&&l.focus()}}},this.positionMode=function(){var e=(i.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(i.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},o.$mdMenu={open:this.open,close:this.close},o.$mdOpenMenu=t.bind(this,function(){return u.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}e.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],t.module("material.components.menu").controller("mdMenuCtrl",e)}(),function(){function e(e){function n(e,n,i,r){var o=r[0],a=!!r[1],s=t.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),l=n.children()[1];n.addClass("_md"),l.hasAttribute("role")||l.setAttribute("role","menu"),s.append(l),n.on("$destroy",function(){s.remove()}),n.append(s),s[0].style.display="none",o.init(s,{isInMenuBar:a})}var i="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:function(r){r.addClass("md-menu");var o=r.children()[0],a=e.prefixer();a.hasAttribute(o,"ng-click")||(o=o.querySelector(a.buildSelector(["ng-click","ng-mouseenter"]))||o);var s="MD-BUTTON"===o.nodeName||"BUTTON"===o.nodeName;if(o&&s&&!o.hasAttribute("type")&&o.setAttribute("type","button"),!o)throw Error(i+"Expected the menu to have a trigger element.");if(2!==r.children().length)throw Error(i+"Expected two children elements. The second element must have a `md-menu-content` element.");o&&o.setAttribute("aria-haspopup","true");var l=r[0].querySelectorAll("md-menu"),c=parseInt(r[0].getAttribute("md-nest-level"),10)||0;return l&&t.forEach(e.nodesToArray(l),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("_md-nested-menu"),e.setAttribute("md-nest-level",c+1)}),n}}}e.$inject=["$mdUtil"],t.module("material.components.menu").directive("mdMenu",e)}(),function(){function e(e){function i(e,i,a,s,l,c,u,d,p,h){function m(t,n,i,r){for(var o,a=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),l=s.indexOf(a)+r;l>=0&&l<s.length&&!(o=f(s[l].querySelector(".md-button")));l+=r);return o}function f(e){if(e&&-1!=e.getAttribute("tabindex"))return e.focus(),s[0].activeElement==e}function g(t,i){var r,a=t[0],c=t[0].firstElementChild,u=c.getBoundingClientRect(),d=s[0].body.getBoundingClientRect(),p=l.getComputedStyle(c),h=i.target[0].querySelector(v.buildSelector("md-menu-origin"))||i.target[0],m=h.getBoundingClientRect(),f={left:d.left+o,top:Math.max(d.top,0)+o,bottom:Math.max(d.bottom,Math.max(d.top,0)+d.height)-o,right:d.right-o},g={top:0,left:0,right:0,bottom:0},b={top:0,left:0,right:0,bottom:0},y=i.mdMenuCtrl.positionMode();"target"!=y.top&&"target"!=y.left&&"target-right"!=y.left||(r=function(){for(var e=0;e<c.children.length;++e)if("none"!=l.getComputedStyle(c.children[e]).display)return c.children[e]}())&&(g=(r=(r=r.firstElementChild||r).querySelector(v.buildSelector("md-menu-align-target"))||r).getBoundingClientRect(),b={top:parseFloat(a.style.top||0),left:parseFloat(a.style.left||0)});var w={},C="top ";switch(y.top){case"target":w.top=b.top+m.top-g.top;break;case"cascade":w.top=m.top-parseFloat(p.paddingTop)-h.style.top;break;case"bottom":w.top=m.top+m.height;break;default:throw new Error('Invalid target mode "'+y.top+'" specified for md-menu on Y axis.')}var E="rtl"==e.bidi();switch(y.left){case"target":w.left=b.left+m.left-g.left,C+=E?"right":"left";break;case"target-left":w.left=m.left,C+="left";break;case"target-right":w.left=m.right-u.width+(u.right-g.right),C+="right";break;case"cascade":var x=E?m.left-u.width<f.left:m.right+u.width<f.right;w.left=x?m.right-h.style.left:m.left-h.style.left-u.width,C+=x?"left":"right";break;case"right":E?(w.left=m.right-m.width,C+="left"):(w.left=m.right-u.width,C+="right");break;case"left":E?(w.left=m.right-u.width,C+="right"):(w.left=m.left,C+="left");break;default:throw new Error('Invalid target mode "'+y.left+'" specified for md-menu on X axis.')}var S,_=i.mdMenuCtrl.offsets();w.top+=_.top,w.left+=_.left,(S=w).top=Math.max(Math.min(S.top,f.bottom-a.offsetHeight),f.top),S.left=Math.max(Math.min(S.left,f.right-a.offsetWidth),f.left);var T=Math.round(100*Math.min(m.width/a.offsetWidth,1))/100,A=Math.round(100*Math.min(m.height/a.offsetHeight,1))/100;return{top:Math.round(w.top),left:Math.round(w.left),transform:i.alreadyOpen?n:e.supplant("scale({0},{1})",[T,A]),transformOrigin:C}}var v=e.prefixer(),b=e.dom.animator;return{parent:"body",onShow:function(n,r,o){function f(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){o.mdMenuCtrl.close(!0,{closeAll:!0})})}return function(){if(!o.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(o,{alreadyOpen:!1,isRemoved:!1,target:t.element(o.target),parent:t.element(o.parent),menuContentEl:t.element(r[0].querySelector("md-menu-content"))})}(),o.menuContentEl[0]?i.inherit(o.menuContentEl,o.target):h.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",r),o.cleanupResizing=(y=r,w=o,C=u.throttle(function(){if(!o.isRemoved){var e=g(y,w);y.css(b.toCss(e))}}),l.addEventListener("resize",C),l.addEventListener("orientationchange",C),function(){l.removeEventListener("resize",C),l.removeEventListener("orientationchange",C)}),o.hideBackdrop=function(n,i,r){return r.nestLevel?t.noop:(r.disableParentScroll&&!e.getClosest(r.target,"MD-DIALOG")?r.restoreScroll=e.disableScrollAround(r.element,r.parent):r.disableParentScroll=!1,r.hasBackdrop&&(r.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),p.enter(r.backdrop,s[0].body)),function(){r.backdrop&&r.backdrop.remove(),r.disableParentScroll&&r.restoreScroll()})}(n,0,o),(o.parent.append(r),r[0].style.display="",c(function(e){var t=g(r,o);r.removeClass("md-leave"),d(r,{addClass:"md-active",from:b.toCss(t),to:b.toCss({transform:""})}).start().then(e)})).then(function(i){return o.alreadyOpen=!0,o.cleanupInteraction=function(){function i(t){var n;switch(t.keyCode){case a.KEY_CODE.ESCAPE:o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.TAB:o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!1;break;case a.KEY_CODE.UP_ARROW:m(t,o.menuContentEl,o,-1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.DOWN_ARROW:m(t,o.menuContentEl,o,1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.LEFT_ARROW:o.nestLevel?o.mdMenuCtrl.close():o.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var i=e.getClosest(t.target,"MD-MENU");i&&i!=o.parent[0]?t.target.click():o.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function r(t){function i(e,t){if(!e)return!1;for(var n,i=0;n=t[i];++i)if(v.hasAttribute(e,n))return!0;return!1}var r=t.target;do{if(r==o.menuContentEl[0])return;if((i(r,["ng-click","ng-href","ui-sref"])||"BUTTON"==r.nodeName||"MD-BUTTON"==r.nodeName)&&!i(r,["md-prevent-menu-close"])){var a=e.getClosest(r,"MD-MENU");r.hasAttribute("disabled")||a&&a!=o.parent[0]||n.$apply(function(){o.mdMenuCtrl.close(!0,{closeAll:!0})});break}}while(r=r.parentNode)}if(!o.menuContentEl[0])return t.noop;o.menuContentEl.on("keydown",i),o.menuContentEl[0].addEventListener("click",r,!0);var s=o.menuContentEl[0].querySelector(v.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!s)for(var l=o.menuContentEl[0].children.length,c=0;c<l;c++){var u=o.menuContentEl[0].children[c];if(s=u.querySelector(".md-button:not([disabled])"))break;if(u.firstElementChild&&!u.firstElementChild.disabled){s=u.firstElementChild;break}}return s&&s.focus(),function(){o.menuContentEl.off("keydown",i),o.menuContentEl[0].removeEventListener("click",r,!0)}}(),o.cleanupBackdrop=o.backdrop?(o.backdrop.on("click",f),function(){o.backdrop.off("click",f)}):t.noop,r.addClass("md-clickable"),i});var y,w,C},onRemove:function(e,t,n){function i(){t.removeClass("md-active"),function(e,t){t.preserveElement?r(e).style.display="none":r(e).parentNode===r(t.parent)&&r(t.parent).removeChild(r(e))}(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),t.removeClass("md-clickable"),!0===n.$destroy?i():d(t,{addClass:"md-leave"}).start().then(i)},hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function r(e){return e instanceof t.element&&(e=e[0]),e}i.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var o=8;return e("$mdMenu").setDefaults({methods:["target"],options:i})}e.$inject=["$$interimElementProvider"],t.module("material.components.menu").provider("$mdMenu",e)}(),function(){function e(e,n,r,o,a,s,l,c){this.$element=r,this.$attrs=o,this.$mdConstant=a,this.$mdUtil=l,this.$document=s,this.$scope=e,this.$rootScope=n,this.$timeout=c;var u=this;t.forEach(i,function(e){u[e]=t.bind(u,u[e])})}e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],t.module("material.components.menuBar").controller("MenuBarController",e);var i=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];e.prototype.init=function(){var e=this.$element,t=this.$mdUtil,i=this.$scope,r=this,o=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),o.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){-1!=r.getMenus().indexOf(n[0])&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),r.currentlyOpenMenu=n.controller("mdMenu"),r.currentlyOpenMenu.registerContainerProxy(r.handleKeyDown),r.enableOpenOnHover())})),o.push(this.$rootScope.$on("$mdMenuClose",function(i,o,a){var s=r.getMenus();if(-1!=s.indexOf(o[0])&&(e[0].classList.remove("md-open"),o[0].classList.remove("md-open")),e[0].contains(o[0])){for(var l=o[0];l&&-1==s.indexOf(l);)l=t.getClosest(l,"MD-MENU",!0);l&&(a.skipFocus||l.querySelector("button:not([disabled])").focus(),r.currentlyOpenMenu=n,r.disableOpenOnHover(),r.setKeyboardMode(!0))}})),i.$on("$destroy",function(){for(r.disableOpenOnHover();o.length;)o.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var e=this;e.openOnHoverEnabled=!0,e.parentToolbar&&(e.parentToolbar.classList.add("md-has-open-menu"),e.$mdUtil.nextTick(function(){t.element(e.parentToolbar).on("click",e.handleParentClick)},!1)),t.element(e.getMenus()).on("mouseenter",e.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),t.element(this.parentToolbar).off("click",this.handleParentClick)),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},e.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget).controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(n)},e.prototype.scheduleOpenMenu=function(e){var t=this,i=this.$timeout;e!=t.currentlyOpenMenu&&(i.cancel(t.pendingMenuOpen),t.pendingMenuOpen=i(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var n,i,r,o=this.$mdConstant.KEY_CODE,a=this.currentlyOpenMenu,s=a&&a.isOpen;switch(this.setKeyboardMode(!0),e.keyCode){case o.DOWN_ARROW:a?a.focusMenuContainer():this.openFocusedMenu(),n=!0;break;case o.UP_ARROW:a&&a.close(),n=!0;break;case o.LEFT_ARROW:i=this.focusMenu(-1),s&&(r=t.element(i).controller("mdMenu"),this.scheduleOpenMenu(r)),n=!0;break;case o.RIGHT_ARROW:i=this.focusMenu(1),s&&(r=t.element(i).controller("mdMenu"),this.scheduleOpenMenu(r)),n=!0}n&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var i=!1;if(-1==n?(n=0,i=!0):(e<0&&n>0||e>0&&n<t.length-e)&&(n+=e,i=!0),i)return t[n].querySelector("button").focus(),t[n]},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil.getClosest(this.$document[0].activeElement,"MD-MENU");return e?this.getMenus().indexOf(e):-1},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1},e.prototype.handleParentClick=function(e){var n=this.querySelector("md-menu.md-open");n&&!n.contains(e.target)&&t.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function e(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(i,r){return r.ariaRole||i[0].setAttribute("role","menubar"),t.forEach(i[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var i=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(i,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),i.find("md-menu-item").addClass("md-in-menu-bar"),function(e,t,i,r){t.addClass("_md"),n(e,t),r.init()}}}}e.$inject=["$mdUtil","$mdTheming"],t.module("material.components.menuBar").directive("mdMenuBar",e)}(),function(){t.module("material.components.menuBar").directive("mdMenuDivider",function(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}})}(),function(){function e(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}e.$inject=["$scope","$element","$attrs"],t.module("material.components.menuBar").controller("MenuItemController",e),e.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},e.prototype.clearNgAria=function(){var e=this.$element[0];t.forEach(["role","tabindex","aria-invalid","aria-checked"],function(t){e.removeAttribute(t)})},e.prototype.initClickListeners=function(){function e(e){e?l.off("click",c):l.on("click",c)}var n=this,i=this.ngModel,r=this.$scope,o=this.$attrs,a=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var s=this.iconEl,l=t.element(this.buttonEl),c=this.handleClick;o.$observe("disabled",e),e(o.disabled),i.$render=function(){n.clearNgAria(),function(){if("radio"==a){var e=o.ngValue?r.$eval(o.ngValue):o.value;return i.$modelValue==e}return i.$modelValue}()?(s.style.display="",l.attr("aria-checked","true")):(s.style.display="none",l.attr("aria-checked","false"))},r.$$postDigest(i.$render)},e.prototype.handleClick=function(e){var t,n=this.mode,i=this.ngModel,r=this.$attrs;"checkbox"==n?t=!i.$modelValue:"radio"==n&&(t=r.ngValue?this.$scope.$eval(r.ngValue):r.value),i.$setViewValue(t),i.$render()}}(),function(){function e(e,n,i){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,r){function o(e,i,r){(r=r||n)instanceof t.element&&(r=r[0]),r.hasAttribute(e)||r.setAttribute(e,i)}var a,s,l=r.type;if("checkbox"!=l&&"radio"!=l||!n.hasClass("md-in-menu-bar"))o("role","menuitem",n[0].querySelector("md-button, button, a"));else{var c=n[0].textContent,u=t.element('<md-button type="button"></md-button>'),d='<md-icon md-svg-src="'+i.mdChecked+'"></md-icon>';u.html(c),u.attr("tabindex","0"),n.html(""),n.append(t.element(d)),n.append(u),n.addClass("md-indent").removeClass("md-in-menu-bar"),o("role","checkbox"==l?"menuitemcheckbox":"menuitemradio",u),a="ng-disabled",s=e.prefixer(a),t.forEach(s,function(e){if(n[0].hasAttribute(e)){var t=n[0].getAttribute(e);u[0].setAttribute(e,t),n[0].removeAttribute(e)}})}return function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}}e.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],t.module("material.components.menuBar").directive("mdMenuItem",e)}(),function(){function e(e,n,i,r,o,a){function s(a,s,y){function w(t,i,o,s,l,u){function m(e){k.attr("stroke-dashoffset",c(b,y,e,x)),k.attr("transform","rotate("+E+" "+b/2+" "+b/2+")")}var f=++R,g=r.now(),v=i-t,b=d(a.mdDiameter),y=p(b),w=o||n.easeFn,C=s||n.duration,E=-90*(l||0),x=u||100;i===t?m(i):S=h(function n(){var i=e.Math.max(0,e.Math.min(r.now()-g,C));m(w(i,t,v,C)),f===R&&i<C&&(S=h(n))})}function C(){w($,M,n.easeFnIndeterminate,n.durationIndeterminate,P,75),P=++P%4}function E(){_||(_=o(C,n.durationIndeterminate,0,!1),C(),s.addClass(b).removeAttr("aria-valuenow"))}function x(){_&&(o.cancel(_),_=null,s.removeClass(b))}var S,_,T=s[0],A=t.element(T.querySelector("svg")),k=t.element(T.querySelector("path")),$=n.startIndeterminate,M=n.endIndeterminate,P=0,R=0;i(s),s.toggleClass(v,y.hasOwnProperty("disabled")),a.mdMode===g&&E(),a.$on("$destroy",function(){x(),S&&m(S)}),a.$watchGroup(["value","mdMode",function(){var e=T.disabled;return!0===e||!1===e?e:t.isDefined(s.attr("disabled"))}],function(e,t){var n=e[1],i=e[2];if(i!==t[2]&&s.toggleClass(v,!!i),i)x();else if(n!==f&&n!==g&&(n=g,y.$set("mdMode",n)),n===g)E();else{var r=u(e[0]);x(),s.attr("aria-valuenow",r),w(u(t[0]),r)}}),a.$watch("mdDiameter",function(t){var n=d(t),i=p(n),r=u(a.value),o=n/2+"px",h={width:n+"px",height:n+"px"};A[0].setAttribute("viewBox","0 0 "+n+" "+n),A.css(h).css("transform-origin",o+" "+o+" "+o),s.css(h),k.attr("stroke-width",i),k.attr("stroke-linecap","square"),a.mdMode==g?(k.attr("d",l(n,i,!0)),k.attr("stroke-dasharray",(n-i)*e.Math.PI*.75),k.attr("stroke-dashoffset",c(n,i,1,75))):(k.attr("d",l(n,i,!1)),k.attr("stroke-dasharray",(n-i)*e.Math.PI),k.attr("stroke-dashoffset",c(n,i,0,100)),w(r,r))})}function l(e,t,n){var i=e/2,r=t/2,o=i+","+r,a=i-r;return"M"+o+"A"+a+","+a+" 0 1 1 "+r+","+i+(n?"":"A"+a+","+a+" 0 0 1 "+o)}function c(t,n,i,r){return(t-n)*e.Math.PI*(3*(r||100)/100-i/100)}function u(t){return e.Math.max(0,e.Math.min(t||0,100))}function d(e){var t=n.progressSize;if(e){var i=parseFloat(e);return e.lastIndexOf("%")===e.length-1&&(i=i/100*t),i}return t}function p(e){return n.strokeWidth/100*e}var h=e.requestAnimationFrame||e.webkitRequestAnimationFrame||t.noop,m=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||t.noop,f="determinate",g="indeterminate",v="_md-progress-circular-disabled",b="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(e,n){if(e.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),t.isUndefined(n.mdMode)){var i=n.hasOwnProperty("value")?f:g;n.$set("mdMode",i)}else n.$set("mdMode",n.mdMode.trim());return s}}}e.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],t.module("material.components.progressCircular").directive("mdProgressCircular",e)}(),function(){t.module("material.components.progressCircular").provider("$mdProgressCircular",function(){function e(e,t,n,i){return n*e/i+t}function n(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(6*o*r+-15*r*r+10*o)}var i={progressSize:50,strokeWidth:10,duration:100,easeFn:e,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:n,easingPresets:{linearEase:e,materialEase:n}};return{configure:function(e){return i=t.extend(i,e||{})},$get:function(){return i}}})}(),function(){t.module("material.components.tabs").directive("mdTab",function(){function e(e,i,r,o){if(o){var a=o.getTabElementIndex(i),s=n(i,"md-tab-body").remove(),l=n(i,"md-tab-label").remove(),c=o.insertTab({scope:e,parent:e.$parent,index:a,element:i,template:s.html(),label:l.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&o.select(c.getIndex(),!0)}),e.$watch("disabled",function(){o.refreshIndex()}),e.$watch(function(){return o.getTabElementIndex(i)},function(e){c.index=e,o.updateTabOrder()}),e.$on("$destroy",function(){o.removeTab(c)})}}function n(e,n){for(var i=e[0].children,r=0,o=i.length;r<o;r++){var a=i[r];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(i,r){var o=n(i,"md-tab-label"),a=n(i,"md-tab-body");if(0===o.length&&(o=t.element("<md-tab-label></md-tab-label>"),r.label?o.text(r.label):o.append(i.contents()),0===a.length)){var s=i.contents().detach();(a=t.element("<md-tab-body></md-tab-body>")).append(s)}return i.append(o),a.html()&&i.append(a),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}})}(),function(){t.module("material.components.tabs").directive("mdTabItem",function(){return{require:"^?mdTabs",link:function(e,t,n,i){i&&i.attachRipple(e,t)}}})}(),function(){t.module("material.components.tabs").directive("mdTabLabel",function(){return{terminal:!0}})}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var i=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){i(e,{$event:t})})})}}}}e.$inject=["$parse"],t.module("material.components.tabs").directive("mdTabScroll",e)}(),function(){function e(e,i,r,o,a,s,l,c,u,d,p,h){function m(e,t){function n(t){U[e]="false"!==t}var i=c.$normalize("md-"+e);t&&P(e,t),c.hasOwnProperty(i)&&n(c[i]),c.$observe(i,n)}function f(){G=!0,t.element(r).off("resize",_)}function g(e){var n=k();t.element(n.wrapper).toggleClass("md-stretch-tabs",function(){switch(U.stretchTabs){case"always":return!0;case"never":return!1;default:return!U.shouldPaginate&&r.matchMedia("(max-width: 600px)").matches}}()),j()}function v(e){U.shouldCenterTabs=$()}function b(e,n){if(e!==n){var i=k();t.forEach(i.tabs,function(t){t.style.maxWidth=e+"px"}),t.forEach(i.dummies,function(t){t.style.maxWidth=e+"px"}),s.nextTick(U.updateInkBarStyles)}}function y(e,t){e!==t&&(U.maxTabWidth=D(),U.shouldCenterTabs=$(),s.nextTick(function(){U.maxTabWidth=D(),L(U.selectedIndex)}))}function w(e){i[e?"removeClass":"addClass"]("md-no-tab-content")}function C(n){var i=k(),r=(U.shouldCenterTabs||z()?"":"-")+n+"px";r=r.replace("--",""),t.element(i.paging).css(o.CSS.TRANSFORM,"translate3d("+r+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function E(e,t){e!==t&&k().tabs[e]&&(L(),I())}function x(t,n){t!==n&&(U.selectedIndex=M(t),U.lastSelectedIndex=n,U.updateInkBarStyles(),H(),L(t),e.$broadcast("$mdTabsChanged"),U.tabs[n]&&U.tabs[n].scope.deselect(),U.tabs[t]&&U.tabs[t].scope.select())}function S(e,t){q||(U.focusIndex=U.selectedIndex=e),t&&U.noSelectClick||s.nextTick(function(){U.tabs[e].element.triggerHandler("click")},!1)}function _(){U.lastSelectedIndex=U.selectedIndex,U.offsetLeft=B(U.offsetLeft),s.nextTick(function(){U.updateInkBarStyles(),R()})}function T(e){t.element(k().inkBar).toggleClass("ng-hide",e)}function A(e){i.toggleClass("md-dynamic-height",e)}function k(){var e={},t=i[0];return e.wrapper=t.querySelector("md-tabs-wrapper"),e.canvas=e.wrapper.querySelector("md-tabs-canvas"),e.paging=e.canvas.querySelector("md-pagination-wrapper"),e.inkBar=e.paging.querySelector("md-ink-bar"),e.nextButton=t.querySelector("md-next-button"),e.prevButton=t.querySelector("md-prev-button"),e.contents=t.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),e.tabs=e.paging.querySelectorAll("md-tab-item"),e.dummies=e.canvas.querySelectorAll("md-dummy-tab"),e}function $(){return U.centerTabs&&!U.shouldPaginate}function M(e){if(-1===e)return-1;var t,n,i=Math.max(U.tabs.length-e,e);for(t=0;t<=i;t++){if((n=U.tabs[e+t])&&!0!==n.scope.disabled)return n.getIndex();if((n=U.tabs[e-t])&&!0!==n.scope.disabled)return n.getIndex()}return e}function P(e,t,n){Object.defineProperty(U,e,{get:function(){return n},set:function(e){var i=n;n=e,t&&t(e,i)}})}function R(){U.maxTabWidth=D(),U.shouldPaginate=function(){if(U.noPagination||!W)return!1;var e=i.prop("clientWidth");return t.forEach(k().tabs,function(t){e-=t.offsetWidth}),e<0}()}function O(e){var n=0;return t.forEach(e,function(e){n+=Math.max(e.offsetWidth,e.getBoundingClientRect().width)}),Math.ceil(n)}function D(){var e=k().canvas.clientWidth;return Math.max(0,Math.min(e-1,264))}function N(e,t){var n,i=t?"focusIndex":"selectedIndex",r=U[i];for(n=r+e;U.tabs[n]&&U.tabs[n].scope.disabled;n+=e);n=(r+e+U.tabs.length)%U.tabs.length,U.tabs[n]&&(U[i]=n)}function I(){U.styleTabItemFocus="keyboard"===p.getLastInteractionType(),k().tabs[U.focusIndex].focus()}function L(e){var n=k();if(t.isNumber(e)||(e=U.focusIndex),n.tabs[e]&&!U.shouldCenterTabs){var i=n.tabs[e],r=i.offsetLeft,o=i.offsetWidth+r;if(0!=e)if(z()){var a=O(Array.prototype.slice.call(n.tabs,0,e)),s=O(Array.prototype.slice.call(n.tabs,0,e+1));U.offsetLeft=Math.min(U.offsetLeft,B(a)),U.offsetLeft=Math.max(U.offsetLeft,B(s-n.canvas.clientWidth))}else U.offsetLeft=Math.max(U.offsetLeft,B(o-n.canvas.clientWidth+32)),U.offsetLeft=Math.min(U.offsetLeft,B(r));else U.offsetLeft=0}}function F(){U.selectedIndex=M(U.selectedIndex),U.focusIndex=M(U.focusIndex)}function H(){if(!U.dynamicHeight)return i.css("height","");if(!U.tabs.length)return V.push(H);var e=k(),t=e.contents[U.selectedIndex],r=t?t.offsetHeight:0,o=e.wrapper.offsetHeight,a=r+o,c=i.prop("clientHeight");if(c!==a){"bottom"===i.attr("md-align-tabs")&&(c-=o,a-=o,i.attr("md-border-bottom")!==n&&++c),q=!0;var u={height:c+"px"},d={height:a+"px"};i.css(u),l(i,{from:u,to:d,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){i.css({transition:"none",height:""}),s.nextTick(function(){i.css("transition","")}),q=!1})}}function j(){var n=k();if(n.tabs[U.selectedIndex]){if(!U.tabs.length)return V.push(U.updateInkBarStyles);if(!i.prop("offsetParent"))return function t(){t.watcher||(t.watcher=e.$watch(function(){s.nextTick(function(){t.watcher&&i.prop("offsetParent")&&(t.watcher(),t.watcher=null,_())},!1)}))}();var r=U.selectedIndex,o=n.paging.offsetWidth,a=n.tabs[r],l=a.offsetLeft,c=o-l-a.offsetWidth;U.shouldCenterTabs&&o>O(n.tabs)&&s.nextTick(j,!1),!function(){var e=k(),n=U.selectedIndex,i=U.lastSelectedIndex,r=t.element(e.inkBar);t.isNumber(i)&&r.toggleClass("md-left",n<i).toggleClass("md-right",n>i)}(),t.element(n.inkBar).css({left:l+"px",right:c+"px"})}else t.element(n.inkBar).css({left:"auto",right:"auto"})}function B(e){var t=k();if(!t.tabs.length||!U.shouldPaginate)return 0;var n=t.tabs[t.tabs.length-1],i=n.offsetLeft+n.offsetWidth;return z()?(e=Math.min(t.paging.offsetWidth-t.canvas.clientWidth,e),e=Math.max(0,e)):(e=Math.max(0,e),e=Math.min(i-t.canvas.clientWidth,e)),e}function z(){return"rtl"==s.bidi()}var U=this,q=!1,V=(k(),[]),G=!1,W=!1;U.$onInit=function(){(function(e,t){var n=c.$normalize("md-"+e);t&&P(e,t),c.$observe(n,function(t){U[e]=t})})("stretchTabs",g),P("focusIndex",E,U.selectedIndex||0),P("offsetLeft",C,0),P("hasContent",w,!1),P("maxTabWidth",b,D()),P("shouldPaginate",y,!1),m("noInkBar",T),m("dynamicHeight",A),m("noPagination"),m("swipeContent"),m("noDisconnect"),m("autoselect"),m("noSelectClick"),m("centerTabs",v),m("enableDisconnect"),U.scope=e,U.parent=e.$parent,U.tabs=[],U.lastSelectedIndex=null,U.hasFocus=!1,U.styleTabItemFocus=!1,U.shouldCenterTabs=$(),U.tabContentPrefix="tab-content-",U.selectedIndex=U.selectedIndex||0,n=c.$mdTabsTemplate,o=t.element(i[0].querySelector("md-tab-data")),o.html(n),u(o.contents())(U.parent),delete c.$mdTabsTemplate,e.$watch("$mdTabsCtrl.selectedIndex",x),t.element(r).on("resize",_),e.$on("$destroy",f),d(i),s.nextTick(function(){k(),H(),L(),j(),U.tabs[U.selectedIndex]&&U.tabs[U.selectedIndex].scope.select(),W=!0,R()});var n,o},U.updatePagination=s.debounce(R,100),U.redirectFocus=I,U.attachRipple=function(e,n){var i=k(),r={colorElement:t.element(i.inkBar)};a.attach(e,n,r)},U.insertTab=function(e,n){var r=W,o={getIndex:function(){return U.tabs.indexOf(a)},isActive:function(){return this.getIndex()===U.selectedIndex},isLeft:function(){return this.getIndex()<U.selectedIndex},isRight:function(){return this.getIndex()>U.selectedIndex},shouldRender:function(){return!U.noDisconnect||this.isActive()},hasFocus:function(){return U.styleTabItemFocus&&U.hasFocus&&this.getIndex()===U.focusIndex},id:s.nextUid(),hasContent:!(!e.template||!e.template.trim())},a=t.extend(o,e);return t.isDefined(n)?U.tabs.splice(n,0,a):U.tabs.push(a),V.forEach(function(e){s.nextTick(e)}),V=[],function(){for(var e=!1,t=0;t<U.tabs.length;t++)if(U.tabs[t].hasContent){e=!0;break}U.hasContent=e}(),s.nextTick(function(){R(),function(e){if(e.hasContent){var n=i[0].querySelectorAll('[md-tab-id="'+e.id+'"]');t.element(n).attr("aria-controls",U.tabContentPrefix+e.id)}}(a),r&&U.autoselect&&s.nextTick(function(){s.nextTick(function(){S(U.tabs.indexOf(a))})})}),a},U.removeTab=function(e){if(!G){var t=U.selectedIndex,n=U.tabs.splice(e.getIndex(),1)[0];F(),U.selectedIndex===t&&(n.scope.deselect(),U.tabs[U.selectedIndex]&&U.tabs[U.selectedIndex].scope.select()),s.nextTick(function(){R(),U.offsetLeft=B(U.offsetLeft)})}},U.select=S,U.scroll=function(e){U.shouldPaginate&&(e.preventDefault(),U.offsetLeft=B(U.offsetLeft-e.wheelDelta))},U.nextPage=function(){if(U.canPageForward()){var e=h.increasePageOffset(k(),U.offsetLeft);U.offsetLeft=B(e)}},U.previousPage=function(){if(U.canPageBack()){var e=h.decreasePageOffset(k(),U.offsetLeft);U.offsetLeft=B(e)}},U.keydown=function(e){switch(e.keyCode){case o.KEY_CODE.LEFT_ARROW:e.preventDefault(),N(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:e.preventDefault(),N(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:e.preventDefault(),q||S(U.focusIndex);break;case o.KEY_CODE.TAB:U.focusIndex!==U.selectedIndex&&(U.focusIndex=U.selectedIndex)}},U.canPageForward=function(){var e=k(),t=e.tabs[e.tabs.length-1];return z()?U.offsetLeft<e.paging.offsetWidth-e.canvas.offsetWidth:t&&t.offsetLeft+t.offsetWidth>e.canvas.clientWidth+U.offsetLeft},U.canPageBack=function(){return U.offsetLeft>0},U.refreshIndex=F,U.incrementIndex=N,U.getTabElementIndex=function(e){var t=i[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])},U.updateInkBarStyles=s.debounce(j,100),U.updateTabOrder=s.debounce(function(){var e=U.tabs[U.selectedIndex],t=U.tabs[U.focusIndex];U.tabs=U.tabs.sort(function(e,t){return e.index-t.index}),U.selectedIndex=U.tabs.indexOf(e),U.focusIndex=U.tabs.indexOf(t)},100),U.getFocusedTabId=function(){var e=U.tabs[U.focusIndex];return e&&e.id?"tab-item-"+e.id:null},1===t.version.major&&t.version.minor<=4&&this.$onInit()}e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","MdTabsPaginationService"],t.module("material.components.tabs").controller("MdTabsController",e)}(),function(){function e(e){return{scope:{selectedIndex:"=?mdSelected"},template:function(t,n){return n.$mdTabsTemplate=t.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist"> <md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}e.$inject=["$$mdSvgRegistry"],t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){return{require:"^?mdTabs",link:function(n,i,r,o){if(o){var a,s,l=function(){o.updatePagination(),o.updateInkBarStyles()};if("MutationObserver"in t)(a=new MutationObserver(l)).observe(i[0],{childList:!0,subtree:!0,characterData:!0}),s=a.disconnect.bind(a);else{var c=e.debounce(l,15,null,!1);i.on("DOMSubtreeModified",c),s=i.off.bind(i,"DOMSubtreeModified",c)}n.$on("$destroy",function(){s()})}}}}e.$inject=["$mdUtil","$window"],t.module("material.components.tabs").directive("mdTabsDummyWrapper",e)}(),function(){function e(e,t){return{restrict:"A",link:function(n,i,r,o){function a(){o.enableDisconnect&&t.reconnectScope(s)}if(o){var s=o.enableDisconnect?n.compileScope.$new():n.compileScope;return i.html(n.template),e(i.contents())(s),t.nextTick(function(){n.$watch("connected",function(e){!1===e?o.enableDisconnect&&t.disconnectScope(s):a()}),n.$on("$destroy",a)})}},scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}e.$inject=["$compile","$mdUtil"],t.module("material.components.tabs").directive("mdTabsTemplate",e)}(),t.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}')}(window,window.angular),window.ngMaterial={version:{full:"1.1.7-master-60e2393"}}},function(e,t){!function(e,t,n){"use strict";function i(e,n){function i(i,r,o,a){function s(){Array.prototype.some.call(r.find("md-icon"),function(e){return e.classList.contains("md-sort-icon")&&r[0].removeChild(e)}),r.removeClass("md-sort").off("click",p)}function l(){var n;n=t.element('<md-icon md-svg-icon="arrow-up.svg">'),e(n.addClass("md-sort-icon").attr("ng-class","getDirection()"))(i),r.hasClass("md-numeric")?r.prepend(n):r.append(n),r.addClass("md-sort").on("click",p)}function c(){return Array.prototype.indexOf.call(r.parent().children(),r[0])}function u(){return i.orderBy&&(m.order===i.orderBy||m.order==="-"+i.orderBy)}function d(){return""===o.mdNumeric||i.numeric}function p(){i.$applyAsync(function(){u()?m.order="md-asc"===i.getDirection()?"-"+i.orderBy:i.orderBy:m.order="md-asc"===i.getDirection()?i.orderBy:"-"+i.orderBy,t.isFunction(m.onReorder)&&n.nextTick(function(){m.onReorder(m.order)})})}function h(e,t){f.$$columns[e]=t,t.numeric?r.addClass("md-numeric"):r.removeClass("md-numeric")}var m=a.shift(),f=a.shift();i.getDirection=function(){return u()?"-"===m.order.charAt(0)?"md-desc":"md-asc":""===o.mdDesc||i.$eval(o.mdDesc)?"md-desc":"md-asc"},i.$watch(u,function(e){e?r.addClass("md-active"):r.removeClass("md-active")}),i.$watch(c,function(e){h(e,{numeric:d()})}),i.$watch(d,function(e){h(c(),{numeric:e})}),i.$watch("orderBy",function(e){e?r.hasClass("md-sort")||l():r.hasClass("md-sort")&&s()})}return{compile:function(e){return e.addClass("md-column"),i},require:["^^mdHead","^^mdTable"],restrict:"A",scope:{numeric:"=?mdNumeric",orderBy:"@?mdOrderBy"}}}function r(e){return function(n,i,r,o){if(r&&"object"==typeof r){var a=e(n,i,!0,o);return t.extend(a.instance,r),a()}return e(n,i,r,o)}}function o(e,n,i,r,o,a,s,l,c){function u(i,o){var s,l=a.$new(),u=e(i)(l),d=r.createBackdrop(l,"md-edit-dialog-backdrop");return o.controller?s=function(e,i,r){if(e.controller)return e.resolve&&t.extend(r,e.resolve),e.locals&&t.extend(r,e.locals),e.controllerAs?(i[e.controllerAs]={},e.bindToController?t.extend(i[e.controllerAs],e.scope):t.extend(i,e.scope)):t.extend(i,e.scope),e.bindToController?n(e.controller,r,i[e.controllerAs]):n(e.controller,r)}(o,l,{$element:u,$scope:l}):t.extend(l,o.scope),o.disableScroll&&function(e){var t=r.disableScrollAround(e,f);e.on("$destroy",function(){t()})}(u),f.prepend(d).append(u.addClass("md-whiteframe-1dp")),function(e,n){var i=t.element(n).controller("mdCell").getTable(),r=function(){return e.prop("clientHeight")},o=function(){return e.prop("clientWidth")},s=function(){var t,a={width:o(),height:r()},s=n.getBoundingClientRect(),l="MD-TABLE-CONTAINER"===(t=i.parent()).prop("tagName")?t[0].getBoundingClientRect():i[0].getBoundingClientRect();a.width>l.right-s.left?e.css("left",l.right-a.width+"px"):e.css("left",s.left+"px"),a.height>l.bottom-s.top?e.css("top",l.bottom-a.height+"px"):e.css("top",s.top+1+"px"),e.css("minWidth",s.width+"px")},l=a.$watch(o,s),u=a.$watch(r,s);c.addEventListener("resize",s),e.on("$destroy",function(){l(),u(),c.removeEventListener("resize",s)})}(u,o.target),o.focusOnOpen&&function(e){r.nextTick(function(){var t=r.findFocusTarget(e);t&&t.focus()},!1)}(u),o.clickOutsideToClose&&d.on("click",function(){u.remove()}),o.escToClose&&function(e){var t=function(t){t.keyCode===h&&e.remove()};f.on("keyup",t),e.on("$destroy",function(){f.off("keyup",t)})}(u),u.on("$destroy",function(){m=!1,d.remove()}),s}function d(e){m=!1,console.error(e)}function p(e,n){return{controller:["$element","$q","save","$scope",function(e,n,i,r){this.dismiss=function(){e.remove()},this.getInput=function(){return r.editDialog.input},r.dismiss=this.dismiss,r.submit=function(){(r.editDialog.$invalid?n.reject():t.isFunction(i)?n.when(i(r.editDialog.input)):n.resolve()).then(function(){r.dismiss()})}}],locals:{save:n.save},scope:{cancel:n.cancel||"Cancel",messages:n.messages,model:n.modelValue,ok:n.ok||"Save",placeholder:n.placeholder,title:n.title,size:e},template:'<md-edit-dialog><div layout="column" class="md-content"><div ng-if="size === \'large\'" class="md-title">{{title || \'Edit\'}}</div><form name="editDialog" layout="column" ng-submit="submit(model)"><md-input-container md-no-float><input name="input" ng-model="model" md-autofocus placeholder="{{placeholder}} "'+function(){var e='type="'+(n.type||"text")+'"';for(var t in n.validators)e+=" "+t+'="'+n.validators[t]+'"';return e}()+'><div ng-messages="editDialog.input.$error"><div ng-repeat="(key, message) in messages" ng-message="{{key}}">{{message}}</div></div></md-input-container></form></div><div ng-if="size === \'large\'" layout="row" layout-align="end" class="md-actions"><md-button class="md-primary" ng-click="dismiss()">{{cancel}}</md-button><md-button class="md-primary" ng-click="submit()">{{ok}}</md-button></div></md-edit-dialog>'}}var h=27,m=!1,f=t.element(i.prop("body")),g={clickOutsideToClose:!0,disableScroll:!0,escToClose:!0,focusOnOpen:!0};return this.show=function(e){if(m)return o.reject();if(m=!0,!(e=t.extend({},g,e)).targetEvent)return d("options.targetEvent is required to align the dialog with the table cell.");if(!e.targetEvent.currentTarget.classList.contains("md-cell"))return d("The event target must be a table cell.");if(e.bindToController&&!e.controllerAs)return d("You must define options.controllerAs when options.bindToController is true.");e.target=e.targetEvent.currentTarget;var n=function(e){return o(function(n,i){var r=e.template;return r?t.isString(r)?n(r):void i("Unexpected template value. Expected a string; received a "+typeof r+"."):e.templateUrl?(r=s.get(e.templateUrl))?n(r):l(e.templateUrl).then(function(e){return n(e)},function(){return i("Error retrieving template from URL.")}):void i("Template not provided.")})}(e),i=[n];for(var r in e.resolve)n=e.resolve[r],i.push(o.when(t.isFunction(n)?n():n));return(n=o.all(i)).catch(d),n.then(function(t){var n=t.shift();for(var i in e.resolve)e.resolve[i]=t.shift();return u(n,e)})},this.small=function(e){return this.show(t.extend({},e,p("small",e)))}.bind(this),this.large=function(e){return this.show(t.extend({},e,p("large",e)))}.bind(this),this}function a(e){function n(n,i,r,o){function a(){i.prop("lastElementChild").firstElementChild.appendChild(e(t.element("<md-checkbox>").attr({"aria-label":"Select All","ng-click":"toggleAll()","ng-checked":"allSelected()","ng-disabled":"!getSelectableRows().length"}))(n)[0])}function s(e){return t.element(e).controller("mdSelect")}var l=new Array(2);n.allSelected=function(){var e=n.getSelectableRows();return e.length&&e.every(function(e){return e.isSelected()})},n.getSelectableRows=function(){return o.getBodyRows().map(s).filter(function(e){return e&&!e.disabled})},n.selectAll=function(){o.getBodyRows().map(s).forEach(function(e){e&&!e.isSelected()&&e.select()})},n.toggleAll=function(){return n.allSelected()?n.unSelectAll():n.selectAll()},n.unSelectAll=function(){o.getBodyRows().map(s).forEach(function(e){e&&e.isSelected()&&e.deselect()})},n.$watchGroup([function(){return o.$$rowSelect},o.enableMultiSelect],function(e){var n;e[0]!==l[0]?e[0]?(i.children().prepend('<th class="md-column md-checkbox-column">'),e[1]&&a()):Array.prototype.some.call(i.find("th"),function(e){return e.classList.contains("md-checkbox-column")&&e.remove()}):e[0]&&e[1]!==l[1]&&(e[1]?a():(n=i.prop("lastElementChild").firstElementChild).classList.contains("md-checkbox-column")&&t.element(n).empty()),t.copy(e,l)})}return{bindToController:!0,compile:function(e){return e.addClass("md-head"),n},controller:function(){},controllerAs:"$mdHead",require:"^^mdTable",restrict:"A",scope:{order:"=?mdOrder",onReorder:"=?mdOnReorder"}}}function s(e,n){return{bindToController:!0,controller:function(){},controllerAs:"$mdSelect",link:function(i,r,o,a){function s(){return""===o.mdAutoSelect||d.autoSelect}function l(){var n;r.prepend((n=t.element("<md-checkbox>").attr({"aria-label":"Select Row","ng-click":"$mdSelect.toggle($event)","ng-checked":"$mdSelect.isSelected()","ng-disabled":"$mdSelect.disabled"}),t.element('<td class="md-cell md-checkbox-cell">').append(e(n)(i)))),s()&&r.on("click",u)}function c(e){d.id&&(p.$$hash.has(d.id)?-1===e.indexOf(p.$$hash.get(d.id))&&p.$$hash.purge(d.id):-1!==e.indexOf(d.model)&&p.$$hash.update(d.id,d.model))}function u(e){i.$applyAsync(function(){d.toggle(e)})}var d=a.shift(),p=a.shift(),h=n(o.mdSelectId);if(d.id=h(d.model),p.$$rowSelect&&d.id)if(p.$$hash.has(d.id)){var m=p.selected.indexOf(p.$$hash.get(d.id));-1===m?p.$$hash.purge(d.id):p.$$hash.equals(d.id,d.model)||(p.$$hash.update(d.id,d.model),p.selected.splice(m,1,d.model))}else p.selected.some(function(e,t){if(h(e)===d.id)return p.$$hash.update(d.id,d.model),p.selected.splice(t,1,d.model),!0});d.isSelected=function(){return!!p.$$rowSelect&&(d.id?p.$$hash.has(d.id):-1!==p.selected.indexOf(d.model))},d.select=function(){d.disabled||(p.enableMultiSelect()?p.selected.push(d.model):p.selected.splice(0,p.selected.length,d.model),t.isFunction(d.onSelect)&&d.onSelect(d.model))},d.deselect=function(){d.disabled||(p.selected.splice(p.selected.indexOf(d.model),1),t.isFunction(d.onDeselect)&&d.onDeselect(d.model))},d.toggle=function(e){return e&&e.stopPropagation&&e.stopPropagation(),d.isSelected()?d.deselect():d.select()},i.$watch(function(){return p.$$rowSelect},function(e){e?l():(Array.prototype.some.call(r.children(),function(e){return e.classList.contains("md-checkbox-cell")&&r[0].removeChild(e)}),s()&&r.off("click",u))}),i.$watch(s,function(e,t){e!==t&&(p.$$rowSelect&&e?r.on("click",u):r.off("click",u))}),i.$watch(d.isSelected,function(e){return e?r.addClass("md-selected"):r.removeClass("md-selected")}),i.$watch(p.enableMultiSelect,function(e){p.$$rowSelect&&!e&&p.selected.splice(1)}),p.registerModelChangeListener(c),r.on("$destroy",function(){p.removeModelChangeListener(c)})},require:["mdSelect","^^mdTable"],restrict:"A",scope:{model:"=mdSelect",disabled:"=ngDisabled",onSelect:"=?mdOnSelect",onDeselect:"=?mdOnDeselect",autoSelect:"=mdAutoSelect"}}}t.module("md.table.templates",["md-table-pagination.html","md-table-progress.html","arrow-up.svg","navigate-before.svg","navigate-first.svg","navigate-last.svg","navigate-next.svg"]),t.module("md-table-pagination.html",[]).run(["$templateCache",function(e){e.put("md-table-pagination.html",'<div class="page-select" ng-if="$pagination.showPageSelect()">\n  <div class="label">{{$pagination.label.page}}</div>\n\n  <md-select virtual-page-select total="{{$pagination.pages()}}" class="md-table-select" ng-model="$pagination.page" md-container-class="md-pagination-select" ng-change="$pagination.onPaginationChange()" ng-disabled="$pagination.disabled" aria-label="Page">\n    <md-content>\n      <md-option ng-repeat="page in $pageSelect.pages" ng-value="page">{{page}}</md-option>\n    </md-content>\n  </md-select>\n</div>\n\n<div class="limit-select" ng-if="$pagination.limitOptions">\n  <div class="label">{{$pagination.label.rowsPerPage}}</div>\n\n  <md-select class="md-table-select" ng-model="$pagination.limit" md-container-class="md-pagination-select" ng-disabled="$pagination.disabled" aria-label="Rows" placeholder="{{ $pagination.limitOptions[0] }}">\n    <md-option ng-repeat="option in $pagination.limitOptions" ng-value="option.value ? $pagination.eval(option.value) : option">{{::option.label ? option.label : option}}</md-option>\n  </md-select>\n</div>\n\n<div class="buttons">\n  <div class="label">{{$pagination.min()}} - {{$pagination.max()}} {{$pagination.label.of}} {{$pagination.total}}</div>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.first()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="First">\n    <md-icon md-svg-icon="navigate-first.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.previous()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="Previous">\n    <md-icon md-svg-icon="navigate-before.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.next()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Next">\n    <md-icon md-svg-icon="navigate-next.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.last()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Last">\n    <md-icon md-svg-icon="navigate-last.svg"></md-icon>\n  </md-button>\n</div>')}]),t.module("md-table-progress.html",[]).run(["$templateCache",function(e){e.put("md-table-progress.html",'<tr>\n  <th colspan="{{columnCount()}}">\n    <md-progress-linear ng-show="deferred()" md-mode="indeterminate"></md-progress-linear>\n  </th>\n</tr>')}]),t.module("arrow-up.svg",[]).run(["$templateCache",function(e){e.put("arrow-up.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>')}]),t.module("navigate-before.svg",[]).run(["$templateCache",function(e){e.put("navigate-before.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>')}]),t.module("navigate-first.svg",[]).run(["$templateCache",function(e){e.put("navigate-first.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 6 v12 h2 v-12 h-2z M17.41 7.41L16 6l-6 6 6 6 1.41-1.41L12.83 12z"/></svg>')}]),t.module("navigate-last.svg",[]).run(["$templateCache",function(e){e.put("navigate-last.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 6 v12 h2 v-12 h-2z M8 6L6.59 7.41 11.17 12l-4.58 4.59L8 18l6-6z"/></svg>')}]),t.module("navigate-next.svg",[]).run(["$templateCache",function(e){e.put("navigate-next.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>')}]),t.module("md.data.table",["md.table.templates"]),t.module("md.data.table").directive("mdBody",function(){return{compile:function(e){e.addClass("md-body")},restrict:"A"}}),t.module("md.data.table").directive("mdCell",function(){function e(e,t,n,i){var r=t.find("md-select"),o=i.shift(),a=i.shift();n.ngClick&&t.addClass("md-clickable"),r.length&&(r.on("click",function(e){e.stopPropagation()}),t.addClass("md-clickable").on("click",function(e){e.stopPropagation(),r[0].click()})),o.getTable=a.getElement,e.$watch(function(){return a.$$columns[Array.prototype.indexOf.call(t.parent().children(),t[0])]},function(e){e&&(e.numeric?t.addClass("md-numeric"):t.removeClass("md-numeric"))})}return{controller:function(){},compile:function(t){var n=t.find("md-select");return n.length&&n.addClass("md-table-select").attr("md-container-class","md-table-select"),t.addClass("md-cell"),e},require:["mdCell","^^mdTable"],restrict:"A"}}),t.module("md.data.table").directive("mdColumn",i),i.$inject=["$compile","$mdUtil"],t.module("md.data.table").decorator("$controller",r).factory("$mdEditDialog",o),r.$inject=["$delegate"],o.$inject=["$compile","$controller","$document","$mdUtil","$q","$rootScope","$templateCache","$templateRequest","$window"],t.module("md.data.table").directive("mdFoot",function(){return{compile:function(e){e.addClass("md-foot")},restrict:"A"}}),t.module("md.data.table").directive("mdHead",a),a.$inject=["$compile"],t.module("md.data.table").directive("mdRow",function(){function e(e,n,i,r){function o(e){return n[0].contains(e[0])}if(-1!==r.getBodyRows().indexOf(n[0])){var a=t.element('<td class="md-cell">');e.$watch(function(){return r.$$rowSelect},function(e){!e||i.mdSelect?o(a)&&a.remove():o(a)||n.prepend(a)})}}return{compile:function(t){return t.addClass("md-row"),e},require:"^^mdTable",restrict:"A"}}),t.module("md.data.table").directive("mdSelect",s),s.$inject=["$compile","$parse"],t.module("md.data.table").directive("mdTable",function(){function e(e,n,i,r){var o,a=this,s=[],l=[];a.$$hash=new function(){var e={};this.equals=function(t,n){return e[t]===n},this.get=function(t){return e[t]},this.has=function(t){return e.hasOwnProperty(t)},this.purge=function(t){delete e[t]},this.update=function(t,n){e[t]=n}},a.$$columns={},a.columnCount=function(){return a.getRows(n[0]).reduce(function(e,t){return t.cells.length>e?t.cells.length:e},0)},a.getRows=function(e){return Array.prototype.filter.call(e.rows,function(e){return!e.classList.contains("ng-leave")})},a.getBodyRows=function(){return Array.prototype.reduce.call(n.prop("tBodies"),function(e,t){return e.concat(a.getRows(t))},[])},a.getElement=function(){return n},a.getHeaderRows=function(){return a.getRows(n.prop("tHead"))},a.enableMultiSelect=function(){return""===e.multiple||r.$eval(e.multiple)},a.waitingOnPromise=function(){return!!s.length},a.queuePromise=function(e){e&&1===s.push(t.isArray(e)?i.all(e):i.when(e))&&function e(){if(!s.length)return r.$applyAsync();s[0].finally(function(){s.shift(),e()})}()},a.registerModelChangeListener=function(e){l.push(e)},a.removeModelChangeListener=function(e){var t=l.indexOf(e);-1!==t&&l.splice(t,1)},e.hasOwnProperty("mdProgress")&&r.$watch("$mdTable.progress",a.queuePromise),r.$watch(function(){return""===e.mdRowSelect||a.rowSelect},function(e){e&&function(){return a.selected?!!t.isArray(a.selected)||console.error("Row selection: Expected an array. Recived "+typeof a.selected+"."):console.error("Row selection: ngModel is not defined.")}()?(a.$$rowSelect=!0,o=r.$watchCollection("$mdTable.selected",function(e){l.forEach(function(t){t(e)})}),n.addClass("md-row-select")):function(){a.$$rowSelect=!1,t.isFunction(o)&&o(),n.removeClass("md-row-select")}()})}return e.$inject=["$attrs","$element","$q","$scope"],{bindToController:!0,compile:function(e,n){if(e.addClass("md-table"),n.hasOwnProperty("mdProgress")){var i=e.find("tbody")[0],r=t.element('<thead class="md-table-progress" md-table-progress>');i&&e[0].insertBefore(r[0],i)}},controller:e,controllerAs:"$mdTable",restrict:"A",scope:{progress:"=?mdProgress",selected:"=ngModel",rowSelect:"=mdRowSelect"}}}),t.module("md.data.table").directive("mdTablePagination",function(){function e(e,n,i){function r(e){return parseInt(e,10)>0}var o=this,a={page:"Page:",rowsPerPage:"Rows per page:",of:"of"};o.label=t.copy(a),o.eval=function(e){return i.$eval(e)},o.first=function(){o.page=1,o.onPaginationChange()},o.hasNext=function(){return o.page*o.limit<o.total},o.hasPrevious=function(){return o.page>1},o.last=function(){o.page=o.pages(),o.onPaginationChange()},o.max=function(){return o.hasNext()?o.page*o.limit:o.total},o.min=function(){return r(o.total)?o.page*o.limit-o.limit+1:0},o.next=function(){o.page++,o.onPaginationChange()},o.onPaginationChange=function(){t.isFunction(o.onPaginate)&&n.nextTick(function(){o.onPaginate(o.page,o.limit)})},o.pages=function(){return r(o.total)?Math.ceil(o.total/(r(o.limit)?o.limit:1)):1},o.previous=function(){o.page--,o.onPaginationChange()},o.showBoundaryLinks=function(){return""===e.mdBoundaryLinks||o.boundaryLinks},o.showPageSelect=function(){return""===e.mdPageSelect||o.pageSelect},i.$watch("$pagination.limit",function(e,t){isNaN(e)||isNaN(t)||e===t||(o.page=Math.floor((o.page*t-t+e)/(r(e)?e:1)),o.onPaginationChange())}),e.$observe("mdLabel",function(e){t.extend(o.label,a,i.$eval(e))}),i.$watch("$pagination.total",function(e,t){isNaN(e)||e===t||o.page>o.pages()&&o.last()})}return e.$inject=["$attrs","$mdUtil","$scope"],{bindToController:{boundaryLinks:"=?mdBoundaryLinks",disabled:"=ngDisabled",limit:"=mdLimit",page:"=mdPage",pageSelect:"=?mdPageSelect",onPaginate:"=?mdOnPaginate",limitOptions:"=?mdLimitOptions",total:"@mdTotal"},compile:function(e){e.addClass("md-table-pagination")},controller:e,controllerAs:"$pagination",restrict:"E",scope:{},templateUrl:"md-table-pagination.html"}}),t.module("md.data.table").directive("mdTableProgress",function(){return{link:function(e,t,n,i){e.columnCount=i.columnCount,e.deferred=i.waitingOnPromise},require:"^^mdTable",restrict:"A",scope:{},templateUrl:"md-table-progress.html"}}),t.module("md.data.table").directive("virtualPageSelect",function(){function e(e,t){function n(e,t){return Math.min(e,isFinite(t)&&t>0?t:1)}function i(e){if(r.pages.length>e)return r.pages.splice(e);for(var t=r.pages.length;t<e;t++)r.pages.push(t+1)}var r=this,o=e.find("md-content");r.pages=[],o.on("scroll",function(){o.prop("clientHeight")+o.prop("scrollTop")>=o.prop("scrollHeight")&&t.$applyAsync(function(){i(n(r.pages.length+10,r.total))})}),t.$watch("$pageSelect.total",function(e){i(n(Math.max(r.pages.length,10),e))}),t.$watch("$pagination.page",function(e){for(var t=r.pages.length;t<e;t++)r.pages.push(t+1)})}return e.$inject=["$element","$scope"],{bindToController:{total:"@"},controller:e,controllerAs:"$pageSelect"}})}(window,angular)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(284),e.exports="ui.grid"},function(e,t){!function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["¤","؋","Ar","Ƀ","฿","B/.","Br","Bs.","Bs.F.","GH₵","¢","c","Ch.","₡","C$","D","ден","دج",".د.ب","د.ع","JD","د.ك","ل.د","дин","د.ت","د.م.","د.إ","Db","$","₫","Esc","€","ƒ","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","₲","h","₴","₭","Kč","kr","kn","MK","ZK","Kz","K","L","Le","лв","E","lp","M","KM","MT","₥","Nfk","₦","Nu.","UM","T$","MOP$","₱","Pt.","£","ج.م.","LL","LS","P","Q","q","R","R$","ر.ع.","ر.ق","ر.س","៛","RM","p","Rf.","₹","₨","SRe","Rp","₪","Ksh","Sh.So.","USh","S/","SDR","сом","৳\t","WS$","₮","VT","₩","¥","zł"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,i){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,r,o,a){if(a&&t.col.compiledElementFn)(0,t.col.compiledElementFn)(t,function(e,t){r.append(e)});else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){r.append(e)})}).catch(angular.noop);else{var s=t.col.cellTemplate.replace(i.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(i.COL_FIELD,"grid.getCellValue(row, col)"),l=e(s)(t);r.append(l)}},post:function(e,t,n,r){var o,a=e.col.getColClass(!1);t.addClass(a);var s=function(n){var i=t;o&&(i.removeClass(o),o=null),o=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,i.addClass(o)};e.col.cellClass&&s();var l=e.grid.registerDataChangeCallback(s,[i.dataChange.COLUMN,i.dataChange.EDIT]),c=e.$watch("row",function(n,i){if(n!==i){(o||e.col.cellClass)&&s();var r=e.col.getColClass(!1);r!==a&&(t.removeClass(a),t.addClass(r),a=r)}}),u=function(){l(),c()};e.$on("$destroy",u),t.on("$destroy",u)}}}}}]),angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var i={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){void 0!==t&&t&&angular.isArray(t)?(t.forEach(function(t){void 0!==t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&void 0!==e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return void 0!==e.col&&void 0!==e.col.sort&&void 0!==e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!(!e.col||!e.col.suppressRemoveSort)},hideable:function(e){return void 0===e.col||!e.col||!e.col.colDef||!1!==e.col.colDef.enableHiding},getDefaultMenuItems:function(n){return[{title:function(){return e.getSafeText("sort.ascending")},icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.ASC)}},{title:function(){return e.getSafeText("sort.descending")},icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.DESC)}},{title:function(){return e.getSafeText("sort.remove")},icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return i.sortable(n)&&void 0!==n.col&&void 0!==n.col.sort&&void 0!==n.col.sort.direction&&null!==n.col.sort.direction&&!i.suppressRemoveSort(n)}},{title:function(){return e.getSafeText("column.hide")},icon:"ui-grid-icon-cancel",shown:function(){return i.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,i){var r={};return r.left=i[0].offsetLeft,r.top=i[0].offsetTop,r.parentLeft=i[0].offsetParent.offsetLeft,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=n.elementHeight(i,!0),r.width=n.elementWidth(i,!0),r},repositionMenu:function(e,t,i,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),s=n.closestElm(o,".ui-grid-render-container"),l=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,c=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,u=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,d=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var p=a[0].querySelectorAll(".ui-grid-menu-mid");0===p.length||angular.element(p).hasClass("ng-hide")||(u=n.elementWidth(a,!0),e.lastMenuWidth=u,t.lastMenuWidth=u,d=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=d,t.lastMenuPaddingRight=d)}var h=i.left+l-c+i.parentLeft+i.width-u+d;h<i.offset&&(h=i.offset),r.css("left",h+"px"),r.css("top",i.top+i.height+"px")}};return i}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,n,i,r){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,l){i.initialize(o,l),o.defaultMenuItems=i.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,i.setColMenuItemWatch(o),o.showMenu=function(e,t,n){o.col=e;var r=i.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=r,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(o.menuShown=!0,i.repositionMenu(o,e,r,a,t),o.colElement=t,o.colElementPosition=r,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,i.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(r,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){i.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(r,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()}).catch(angular.noop)},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()},o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(n.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),e(function(){var e,n,i=function(){return t.focus.byId("grid-menu",o.grid)};if(o.grid.columns.some(function(t,n){if(angular.equals(t,o.col))return e=n,!0}),o.grid.columns.some(function(t,i){if(!t.visible)return!1;if(i<e)n=t;else{if(i>e&&!n)return n=t,!0;if(i>e&&n)return!0}}),n){var a=n.getColClass();t.focus.bySelector(r,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){if("canceled"!==e)return i()}).catch(angular.noop)}else i()})}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]}}]),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,n,i){return{compile:function(){return{pre:function(t,n,i,r){t.col.updateFilters=function(i){if(n.children().remove(),i){var r=t.col.filterHeaderTemplate;void 0===r&&""!==t.col.providedFilterHeaderTemplate?t.col.filterHeaderTemplatePromise&&t.col.filterHeaderTemplatePromise.then(function(){r=t.col.filterHeaderTemplate,n.append(e(r)(t))}):n.append(e(r)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,r,o){e.aria=n.getSafeText("headerCell.aria"),e.removeFilter=function(e,n){e.term=null,i.focus.bySelector(t,".ui-grid-filter-input-"+n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,i){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,r){return{pre:function(e,t,n,r){var o=e.col.footerCellTemplate;void 0===o&&""!==e.col.providedFooterCellTemplate?e.col.footerCellTemplatePromise&&e.col.footerCellTemplatePromise.then(function(){o=e.col.footerCellTemplate,t.append(i(o)(e))}):t.append(i(o)(e))},post:function(e,t,i,r){e.grid=r.grid;var o,a=e.col.getColClass(!1);t.addClass(a);var s=function(n){var i=t;o&&(i.removeClass(o),o=null),o=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,i.addClass(o)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,s),e.$on("$destroy",l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,r,o){var a=o[0],s=o[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=n;var l=e.grid.options.footerTemplate;i.getTemplate(l).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}}).catch(angular.noop)},post:function(e,t,n,r){var o=r[0],a=r[1];o.grid,i.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,n){return{pre:function(e,n,r,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;i.getTemplate(a).then(function(i){var r=angular.element(i),o=t(r)(e);n.append(o)}).catch(angular.noop)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,n,i,r,o,a,s){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n,i){var r=t.col.headerCellTemplate;void 0===r&&""!==t.col.providedHeaderCellTemplate?t.col.headerCellTemplatePromise&&t.col.headerCellTemplatePromise.then(function(){r=t.col.headerCellTemplate,n.append(e(r)(t))}):n.append(e(r)(t))},post:function(e,n,r,a){var l=a[0],c=a[1];e.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t,n){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,n=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none;return e.isSortPriorityVisible()&&(n=n+". "+e.i18n.headerCell.priority+" "+(t.sort.priority+1)),n},e.grid=l.grid,e.renderContainer=l.grid.renderContainers[c.containerId];var u=e.col.getColClass(!1);n.addClass(u),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC,angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu"));var d,p,h=angular.element(n[0].querySelectorAll(".ui-grid-cell-contents")),m=[];e.downFn=function(r){r.stopPropagation(),void 0!==r.originalEvent&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(p=r.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},500),e.mousedownTimeout.then(function(){e.colMenu&&l.columnMenuScope.showMenu(e.col,n,r)}).catch(angular.noop),l.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:r,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===r.type?(i.on("touchend",e.upFn),i.on("touchmove",e.moveFn)):"mousedown"===r.type&&(i.on("mouseup",e.upFn),i.on("mousemove",e.moveFn)))},e.upFn=function(n){n.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type),(new Date).getTime()-e.mousedownStartTime>500||e.sortable&&e.handleClick(n)},e.handleKeyDown=function(e){32===e.keyCode&&e.preventDefault()},e.moveFn=function(n){0!=n.pageX-p&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type))},e.clickFn=function(t){t.stopPropagation(),h.off("click",e.clickFn)},e.offAllEvents=function(){h.off("touchstart",e.downFn),h.off("mousedown",e.downFn),i.off("touchend",e.upFn),i.off("mouseup",e.upFn),i.off("touchmove",e.moveFn),i.off("mousemove",e.moveFn),h.off("click",e.clickFn)},e.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":h.on("click",e.clickFn),h.on("touchstart",e.downFn),t(function(){h.on("mousedown",e.downFn)},500);break;case"mousemove":case"mouseup":h.on("click",e.clickFn),h.on("mousedown",e.downFn),t(function(){h.on("touchstart",e.downFn)},500);break;default:h.on("click",e.clickFn),h.on("touchstart",e.downFn),h.on("mousedown",e.downFn)}};var f=function(t){var i=n;d&&(i.removeClass(d),d=null),d=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,i.addClass(d),e.$applyAsync(function(){var t=e.grid.renderContainers.right&&e.grid.renderContainers.right.visibleColumnCache.length?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=l.grid.options&&l.grid.options.enableGridMenu&&e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.sortable=Boolean(e.col.enableSorting);var r=e.filterable;e.filterable=Boolean(l.grid.options.enableFiltering&&e.col.enableFiltering),r!==e.filterable&&(void 0!==e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,n){m.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(l.grid.api.core.raise.filterChanged(),l.grid.api.core.notifyDataChange(o.dataChange.COLUMN),l.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){m.forEach(function(e){e()})})):m.forEach(function(e){e()})),e.col.grid.options&&!1!==e.col.grid.options.enableColumnMenus&&e.col.colDef&&!1!==e.col.colDef.enableColumnMenu?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};f();var g=e.grid.registerDataChangeCallback(f,[o.dataChange.COLUMN]);e.$on("$destroy",g),e.handleClick=function(t){var n=!1;t.shiftKey&&(n=!0),l.grid.sortColumn(e.col,n).then(function(){l.columnMenuScope&&l.columnMenuScope.hideMenu(),l.grid.refresh()}).catch(angular.noop)},e.headerCellArrowKeyDown=function(t){32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),e.toggleMenu(t))},e.toggleMenu=function(t){t.stopPropagation(),l.columnMenuScope.menuShown&&l.columnMenuScope.col===e.col?l.columnMenuScope.hideMenu():l.columnMenuScope.showMenu(e.col,n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,n,i,r,o){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,r,a){function s(){d.header=d.colContainer.header=n;var e=n[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?d.headerCanvas=d.colContainer.headerCanvas=e[0]:d.headerCanvas=null}function l(e){if(!u.grid.isScrollingHorizontally){var t=i.normalizeScrollLeft(d.headerViewport,u.grid),n=d.colContainer.scrollHorizontal(t),r=new o(u.grid,null,d.colContainer,o.Sources.ViewPortScroll);r.newScrollLeft=t,n>-1&&(r.x={percentage:n}),u.grid.scrollContainers(null,r)}}var c,u=a[0],d=a[1];e.grid=u.grid,e.colContainer=d.colContainer,s(),c=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:"ui-grid/ui-grid-header":"ui-grid/ui-grid-no-header",i.getTemplate(c).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.replaceWith(o),n=o,s(),d){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(d.headerViewport=a,angular.element(a).on("scroll",l),e.$on("$destroy",function(){angular.element(a).off("scroll",l)}))}e.grid.queueRefresh()}).catch(angular.noop)},post:function(e,t,n,r){var o=r[0],a=r[1];o.grid,i.disableAnimations(t),a.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(a.headerViewport=s),o&&o.grid.registerStyleComputation({priority:15,func:function(){var e="",t=0;return a.colContainer.visibleColumnCache.forEach(function(n){e+=n.getColClassDefinition(),t+=n.drawnWidth}),a.colContainer.canvasWidth=t,e}})}}}}}])}(),angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var i={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",i.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",i.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var i=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===n&&(i>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):i=r)}),i>-1&&t.gridMenuScope.registeredMenuItems.splice(i,1)},getMenuItems:function(n){var r=[];n.grid.options.gridMenuCustomItems&&(angular.isArray(n.grid.options.gridMenuCustomItems)?r=r.concat(n.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){n.grid.clearAllFilters()},shown:function(){return n.grid.options.enableFiltering},order:100}];return r=(r=r.concat(o)).concat(n.registeredMenuItems),!1!==n.grid.options.gridMenuShowHideColumns&&(r=r.concat(i.showHideColumns(n))),r.sort(function(e,t){return e.order-t.order}),r},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,r){if(!1!==t.enableHiding){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r};i.setMenuItemTitle(o,t,e.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r+1},i.setMenuItemTitle(o,t,e.grid),n.push(o)}}),n):n},setMenuItemTitle:function(t,n,i){var r=i.options.gridMenuTitleFilter(n.displayName||e.readableColumnName(n.name)||n.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e}).catch(angular.noop)):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(!0===e.colDef.visible||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return i}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,n,i){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,r,o,a){var s=a[0];t.i18n={aria:i.getSafeText("gridMenu.aria")},n.initialize(t,s.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=n.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(r,".ui-grid-icon-container")})}}}]),angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,n,i,r,o,a){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(i,s,l,c){if(i.dynamicStyles="",c&&c.grid&&c.grid.options&&c.grid.options.gridMenuTemplate){var u=c.grid.options.gridMenuTemplate;r.getTemplate(u).then(function(t){var n=angular.element(t),r=e(n)(i);s.replaceWith(r)}).catch(angular.noop)}var d=function(e){var t=e-c.grid.headerHeight-20;i.dynamicStyles=[".grid"+c.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")};c&&(d(c.grid.gridHeight),c.grid.api.core.on.gridDimensionChanged(i,function(e,t,n,i){d(n)})),i.i18n={close:a.getSafeText("columnMenu.close")},i.showMenu=function(e,n){i.shown?i.shownMid||(i.shownMid=!0,i.$emit("menu-shown")):(i.shown=!0,t(function(){i.shownMid=!0,i.$emit("menu-shown")}));var o="click";n&&n.originalEvent&&n.originalEvent.type&&"touchstart"===n.originalEvent.type&&(o=n.originalEvent.type),angular.element(document).off("click touchstart",p),s.off("keyup",h),s.off("keydown",m),t(function(){angular.element(document).on(o,p),s.on("keyup",h),s.on("keydown",m)}),r.focus.bySelector(s,"button[type=button]",!0)},i.hideMenu=function(e){i.shown&&(i.shownMid=!1,t(function(){i.shownMid||(i.shown=!1,i.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",p),s.off("keyup",h),s.off("keydown",m)},i.$on("hide-menu",function(e,t){i.hideMenu(e,t)}),i.$on("show-menu",function(e,t){i.showMenu(e,t)});var p=function(){i.shown&&i.$apply(function(){i.hideMenu()})},h=function(e){27===e.keyCode&&i.hideMenu()},m=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var n,i,r=s[0].querySelectorAll("button:not(.ng-hide)");r.length>0&&(n=r[0],i=r[r.length-1],e.target!==i||e.shiftKey?e.target===n&&e.shiftKey&&t(i):t(n))}};void 0!==i.autoHide&&void 0!==i.autoHide||(i.autoHide=!0),i.autoHide&&angular.element(n).on("resize",p),i.$on("$destroy",function(){angular.element(n).off("resize",p),angular.element(document).off("click touchstart",p),s.off("keyup",h),s.off("keydown",m)}),c&&i.$on("$destroy",c.grid.api.core.on.scrollBegin(i,p)),i.$on("$destroy",i.$on(o.events.ITEM_DRAGGING,p))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(n,i){n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var r=angular.element(e),o=t(r)(n);i.replaceWith(o)}).catch(angular.noop)},post:function(t,i,r,o){var a=o[0];void 0!==t.shown&&null!==t.shown||(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),void 0!==a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(n,i){if(n.stopPropagation(),"function"==typeof t.action){var r={};t.context&&(r.context=t.context),void 0!==a&&a&&(r.grid=a.grid),t.action.call(r,n,i),t.leaveOpen?e.focus.bySelector(angular.element(n.target.parentElement),"button[type=button]",!0):t.$emit("hide-menu")}},t.label=function(){var e=t.name;return"function"==typeof t.name&&(e=t.name.call()),e},t.i18n=n.get()}}}}}]),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var n=(t.aria?"uiGridOneBindAria":"uiGridOneBind")+(t.directiveName?t.directiveName:t.tag);e.directive(n,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(i,r,o,a){var s=i.$watch(o[n],function(o){if(o){if(t.appendGridId){var l=null;angular.forEach(o.split(" "),function(t){l=(l?l+" ":"")+function(t){var r;if(i.grid)r=i.grid;else if(i.col&&i.col.grid)r=i.col.grid;else if(!a.some(function(e){if(e&&e.grid)return r=e.grid,!0}))throw e.logError("["+n+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");return r&&(new RegExp(r.id.toString()).test(t)||(t=r.id.toString()+"-"+t)),t}(t)}),o=l}switch(t.method){case"attr":t.aria?r[t.method]("aria-"+t.tag.toLowerCase(),o):r[t.method](t.tag.toLowerCase(),o);break;case"addClass":if(angular.isObject(o)&&!angular.isArray(o)){var c=[],u=!1;if(angular.forEach(o,function(e,t){null!==e&&void 0!==e&&(u=!0,e&&c.push(t))}),!u)return;o=c}if(!o)return;r.addClass(angular.isArray(o)?o.join(" "):o);break;default:r[t.method](o)}s()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,i,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,i){var r=i[0],o=i[1],a=e.grid=r.grid;if(!e.rowContainerName)throw new Error("No row render container name specified");if(!e.colContainerName)throw new Error("No column render container name specified");if(!a.renderContainers[e.rowContainerName])throw new Error("Row render container '"+e.rowContainerName+"' is not registered.");if(!a.renderContainers[e.colContainerName])throw new Error("Column render container '"+e.colContainerName+"' is not registered.");var s=e.rowContainer=a.renderContainers[e.rowContainerName],l=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=s,o.colContainer=l},post:function(e,t,n,o){var a=o[0],s=o[1],l=a.grid,c=s.rowContainer,u=s.colContainer,d=null,p=null,h=l.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),i.on.mousewheel(t,function(e){var t=new r(l,c,u,r.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=-1*e.deltaY*e.deltaFactor;d=s.viewport[0].scrollTop,t.verticalScrollLength=c.getVerticalScrollLength();var o=(d+n)/t.verticalScrollLength;o>=1&&d<t.verticalScrollLength&&(s.viewport[0].scrollTop=t.verticalScrollLength),o<0?o=0:o>1&&(o=1),t.y={percentage:o,pixels:n}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;p=i.normalizeScrollLeft(s.viewport,l),t.horizontalScrollLength=u.getCanvasWidth()-u.getViewportWidth();var h=(p+a)/t.horizontalScrollLength;h<0?h=0:h>1&&(h=1),t.x={percentage:h,pixels:a}}0!==e.deltaY&&(t.atTop(d)||t.atBottom(d))||0!==e.deltaX&&(t.atLeft(p)||t.atRight(p))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),a.grid.registerStyleComputation({priority:6,func:function(){var t,n,i="",r=u.canvasWidth,o=u.getViewportWidth(),s=c.getCanvasHeight(),d=c.getViewportHeight();return u.needsHScrollbarPlaceholder()&&(d-=l.scrollbarHeight),t=n=u.getHeaderViewportWidth(),i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+r+"px; height: "+s+"px; }",i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(r+l.scrollbarWidth)+"px; }",h.explicitHeaderCanvasHeight?i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+h.explicitHeaderCanvasHeight+"px; }":i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+o+"px; height: "+d+"px; }",i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+t+"px; }",i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(r+l.scrollbarWidth)+"px; }",i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+n+"px; }"}})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,i){function r(){e.row.getRowTemplateFn.then(function(n){var i=e.$new();n(i,function(e,n){o&&(o.remove(),a.$destroy()),t.empty().append(e),o=e,a=i})}).catch(angular.noop)}var o,a,s=i[0],l=i[1];s.grid,e.grid=s.grid,e.colContainer=l.colContainer,r(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&r()})},post:function(e,t,n,i){}}}}}])}(),angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n,i,r){var o=t(n.text(),!0);o&&e.$watch(o,function(e){n.text(e)})}}}]),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,n,i){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,i,r,o){function a(r){var o=i[0].scrollTop,a=e.normalizeScrollLeft(i,d),s=c.scrollVertical(o),l=u.scrollHorizontal(a),p=new t(d,c,u,t.Sources.ViewPortScroll);p.newScrollLeft=a,p.newScrollTop=o,l>-1&&(p.x={percentage:l}),s>-1&&(p.y={percentage:s}),d.scrollContainers(n.$parent.containerId,p)}var s=o[0],l=o[1];n.containerCtrl=l;var c=l.rowContainer,u=l.colContainer,d=s.grid;n.grid=s.grid,n.rowContainer=l.rowContainer,n.colContainer=l.colContainer,l.viewport=i,d&&d.options&&d.options.customScroller?d.options.customScroller(i,a):i.on("scroll",a),n.$parent.bindScrollVertical&&d.addVerticalScrollSync(n.$parent.containerId,function(e){l.prevScrollArgs=e;var t=e.getNewScrollTop(c,l.viewport);i[0].scrollTop=t}),n.$parent.bindScrollHorizontal&&(d.addHorizontalScrollSync(n.$parent.containerId,function(t){l.prevScrollArgs=t;var n=t.getNewScrollLeft(u,l.viewport);i[0].scrollLeft=e.denormalizeScrollLeft(l.viewport,n,d)}),d.addHorizontalScrollSync(n.$parent.containerId+"header",function(t){var n=t.getNewScrollLeft(u,l.viewport);l.headerViewport&&(l.headerViewport.scrollLeft=e.denormalizeScrollLeft(l.viewport,n,d))}),d.addHorizontalScrollSync(n.$parent.containerId+"footer",function(t){var n=t.getNewScrollLeft(u,l.viewport);l.footerViewport&&(l.footerViewport.scrollLeft=e.denormalizeScrollLeft(l.viewport,n,d))})),n.$on("$destroy",function(){i.off()})},controller:["$scope",function(e){this.rowStyle=function(t){var n=e.rowContainer,i=e.colContainer,r={};if(0!==n.currentTopRow){var o="translateY("+n.currentTopRow*n.grid.options.rowHeight+"px)";r.transform=o,r["-webkit-transform"]=o,r["-ms-transform"]=o}return 0!==i.currentFirstColumn&&(i.grid.isRTL()?r["margin-right"]=i.columnOffset+"px":r["margin-left"]=i.columnOffset+"px"),r}}]}}])}(),angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}}),function(){"use strict";function e(e,t,n){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(i,r,o,a){function s(){c.gridWidth=i.gridWidth=t.elementWidth(r),c.canvasWidth=a.grid.gridWidth,c.gridHeight=i.gridHeight=t.elementHeight(r),c.gridHeight<=c.options.rowHeight&&c.options.enableMinHeightCheck&&function(){var e=c.options.minRowsToShow*c.options.rowHeight,o=c.options.showHeader?c.options.headerRowHeight:0,a=c.calcFooterHeight(),s=0;c.options.enableHorizontalScrollbar===n.scrollbars.ALWAYS&&(s=t.getScrollbarWidth());var l=0;if(angular.forEach(c.options.columnDefs,function(e){e.hasOwnProperty("filter")?l<1&&(l=1):e.hasOwnProperty("filters")&&l<e.filters.length&&(l=e.filters.length)}),c.options.enableFiltering&&!l){c.options.columnDefs.length&&c.options.columnDefs.every(function(e){return!1===e.enableFiltering})||(l=1)}var u=o+e+a+s+l*o;r.css("height",u+"px"),c.gridHeight=i.gridHeight=t.elementHeight(r)}(),c.refreshCanvas(!0)}function l(){c.gridWidth=i.gridWidth=t.elementWidth(r),c.gridHeight=i.gridHeight=t.elementHeight(r),c.refreshCanvas(!0)}var c=a.grid;a.scrollbars=[],c.element=r;var u,d,p=0;angular.element(e).on("resize",l),r.on("$destroy",function(){angular.element(e).off("resize",l),u(),d()}),u=i.$watch(function(){return c.hasLeftContainer()},function(e,t){e!==t&&c.refreshCanvas(!0)}),d=i.$watch(function(){return c.hasRightContainer()},function(e,t){e!==t&&c.refreshCanvas(!0)}),s(),c.renderingComplete(),function e(){r[0].offsetWidth<=0&&p<20?(setTimeout(e,100),p++):i.$applyAsync(s)}()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(e,t,n,i,r,o,a,s,l){function c(e){return e?e.length:0}function u(t,n){t&&t!==n&&(h.grid.options.columnDefs=e.uiGrid.columnDefs,h.grid.callDataChangeCallbacks(o.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}function d(t){var i=[];if(t=angular.isString(e.uiGrid.data)?h.grid.appScope[e.uiGrid.data]:e.uiGrid.data,p=t,t){var a=h.grid.columns.length>(h.grid.rowHeaderColumns?h.grid.rowHeaderColumns.length:0);!a&&!n.uiGridColumns&&0===h.grid.options.columnDefs.length&&t.length>0&&h.grid.buildColumnDefsFromData(t),!a&&(h.grid.options.columnDefs.length>0||t.length>0)&&i.push(h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates()}).catch(angular.noop)),r.all(i).then(function(){h.grid.modifyRows(p).then(function(){h.grid.redrawInPlace(!0),e.$evalAsync(function(){h.grid.refreshCanvas(!0),h.grid.callDataChangeCallbacks(o.dataChange.ROW)})}).catch(angular.noop)}).catch(angular.noop)}}var p,h=this,m=[];h.grid=a.createGrid(e.uiGrid),h.grid.appScope=h.grid.appScope||e.$parent,t.addClass("grid"+h.grid.id),h.grid.rtl="rtl"===i.getStyles(t[0]).direction,e.grid=h.grid,n.uiGridColumns&&m.push(n.$observe("uiGridColumns",function(e){h.grid.options.columnDefs=angular.isString(e)?angular.fromJson(e):e,h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates(),h.grid.refreshCanvas(!0)}).catch(angular.noop)})),h.grid.options.fastWatch?(h.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(m.push(e.$parent.$watch(e.uiGrid.data,d)),m.push(e.$parent.$watch(function(){return h.grid.appScope[e.uiGrid.data]?h.grid.appScope[e.uiGrid.data].length:void 0},d))):(m.push(e.$parent.$watch(function(){return e.uiGrid.data},d)),m.push(e.$parent.$watch(function(){return c(e.uiGrid.data)},function(){d(e.uiGrid.data)}))),m.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},u)),m.push(e.$parent.$watch(function(){return c(e.uiGrid.columnDefs)},function(){u(e.uiGrid.columnDefs)}))):(angular.isString(e.uiGrid.data)?m.push(e.$parent.$watchCollection(e.uiGrid.data,d)):m.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},d)),m.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},u)));var f=e.$watch(function(){return h.grid.styleComputations},function(){h.grid.refreshCanvas(!0)});e.$on("$destroy",function(){m.forEach(function(e){e()}),f()}),h.fireEvent=function(t,n){n=n||{},angular.isUndefined(n.grid)&&(n.grid=h.grid),e.$broadcast(t,n)},h.innerCompile=function(t){l(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,i){function r(){if("left"===e.side||"right"===e.side){for(var t=o.renderContainers[e.side].visibleColumnCache,n=0,i=0;i<t.length;i++){var r=t[i];n+=r.drawnWidth||r.width||0}return n}}var o=i.grid,a=0;t.addClass("ui-grid-pinned-container-"+e.side),"left"!==e.side&&"right"!==e.side||(o.renderContainers[e.side].getViewportWidth=function(){var e=0;this.visibleColumnCache.forEach(function(t){e+=t.drawnWidth});var t=this.getViewportAdjustment();return e+=t.width}),o.renderContainers.body.registerViewportAdjuster(function(t){return a=r(),t.width-=a,t.side=e.side,t}),o.registerStyleComputation({priority:15,func:function(){var n="";return"left"!==e.side&&"right"!==e.side||(a=r(),t.attr("style",null),n+=".grid"+o.id+" .ui-grid-pinned-container-"+e.side+", .grid"+o.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+a+"px; } "),n}})}}}}}])}(),angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h){function m(){}var f=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}function n(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}var a=this;if(void 0===e||void 0===e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=o.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new d("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=r.scrollDirection.NONE,a.disableScrolling=!1;var s=i.debounce(t,a.options.scrollDebounce),u=i.debounce(t,0),p=i.debounce(n,a.options.scrollDebounce),h=i.debounce(n,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?s(e):u(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?p(e):h(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarHeight=i.getScrollbarWidth()),a.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarWidth=i.getScrollbarWidth()),a.api=new l(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",c.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[r.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[r.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[r.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};f.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},f.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},f.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},f.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},f.prototype.isRTL=function(){return this.rtl},f.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},f.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=i.getColumnsFromData(e,this.options.excludeProperties)},f.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},f.prototype.registerDataChangeCallback=function(e,t,n){var o=i.nextUid();t||(t=[r.dataChange.ALL]),Array.isArray(t)||i.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this;return function(){delete a.dataChangeCallbacks[o]}},f.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(n,i){-1===n.types.indexOf(r.dataChange.ALL)&&-1===n.types.indexOf(e)&&e!==r.dataChange.ALL||(n._this?n.callback.apply(n._this,this,t):n.callback(this,t))},this)},f.prototype.notifyDataChange=function(e){var t=r.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):i.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},f.prototype.columnRefreshCallback=function(e,t){e.buildColumns(t),e.queueGridRefresh()},f.prototype.processRowsCallback=function(e){e.queueGridRefresh()},f.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},f.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},f.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},f.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var r=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;t.type=o?i.guessType(e.getCellValue(o,r)):"string"}})},f.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},f.prototype.addRowHeaderColumn=function(e,t,n){var r=this;void 0===t&&(t=0);var o=new a(e,i.nextUid(),r);o.isRowHeader=!0,r.isRTL()?(r.createRightContainer(),o.renderContainer="right"):(r.createLeftContainer(),o.renderContainer="left"),r.columnBuilders[0](e,o,r.options).then(function(){o.enableFiltering=!1,o.enableSorting=!1,o.enableHiding=!1,o.headerPriority=t,r.rowHeaderColumns.push(o),r.rowHeaderColumns=r.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),n||r.buildColumns().then(function(){r.preCompileCellTemplates(),r.queueGridRefresh()}).catch(angular.noop)}).catch(angular.noop)},f.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(n){-1===e.rowHeaderColumns.indexOf(n)&&t.push(n)}),t},f.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var r,o=this,s=[],l=o.rowHeaderColumns.length;for(r=0;r<o.columns.length;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);for(var c=o.rowHeaderColumns.length-1;c>=0;c--)o.columns.unshift(o.rowHeaderColumns[c]);if(o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,i.nextUid(),o),o.columns.splice(t+l,0,n)),o.columnBuilders.forEach(function(t){s.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var u=o.columns.slice(0),d=Math.min(o.options.columnDefs.length,o.columns.length);for(r=0;r<d;r++)o.columns[r+l].name!==o.options.columnDefs[r].name?u[r+l]=o.getColumn(o.options.columnDefs[r].name):u[r+l]=o.columns[r+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(u))}return e.all(s).then(function(){o.rows.length>0&&o.assignTypes(),n.preCompileCellTemplates&&o.preCompileCellTemplates()}).catch(angular.noop)},f.prototype.preCompileCellTemplate=function(e){var n=e.cellTemplate.replace(r.MODEL_COL_FIELD,this.getQualifiedColField(e));n=n.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var i=t(n);e.compiledElementFn=i,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},f.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)}).catch(angular.noop)})},f.prototype.getQualifiedColField=function(e){return e.field===r.ENTITY_BINDING?"row.entity":i.preEval("row.entity."+e.field)},f.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},f.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},f.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},f.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},f.prototype.preprocessColDef=function(e){if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var t=e.field,n=2;this.getColumn(t);)t=e.field+n.toString(),n++;e.name=t}},f.prototype.newInN=function(e,t,n,i){for(var r=[],o=0;o<t.length;o++){for(var a=i?t[o][i]:t[o],s=!1,l=0;l<e.length;l++){var c=n?e[l][n]:e[l];if(this.options.rowEquality(a,c)){s=!0;break}}s||r.push(a)}return r},f.prototype.getRow=function(e,t){var n=this,i=(t=void 0===t?n.rows:t).filter(function(t){return n.options.rowEquality(t.entity,e)});return i.length>0?i[0]:null},f.prototype.modifyRows=function(t){var n=this,i=n.rows.slice(0),r=n.rowHashMap||n.createRowHashMap(),o=!0;n.rowHashMap=n.createRowHashMap(),n.rows.length=0,t.forEach(function(e,t){var a,l;(l=n.options.enableRowHashing?r.get(e):n.getRow(e,i))&&((a=l).entity=e),a||(a=n.processRowBuilders(new s(e,t,n))),n.rows.push(a),n.rowHashMap.put(e,a),a.isSelected||(o=!1)}),n.selection&&(n.selection.selectAll=o),n.assignTypes();var a=e.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}).catch(angular.noop),l=e.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)}).catch(angular.noop);return e.all([a,l])},f.prototype.addRows=function(e){for(var t=this.rows.length,n=0;n<e.length;n++){var i=this.processRowBuilders(new s(e[n],n+t,this));if(this.options.enableRowHashing){var r=this.rowHashMap.get(i.entity);r&&(r.row=i)}this.rows.push(i)}},f.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},f.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},f.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},f.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(n,i){n.processor===e&&(t=i)}),-1!==t&&this.rowsProcessors.splice(t,1)},f.prototype.processRowsProcessors=function(t){var n=this,i=t.slice(0);if(0===n.rowsProcessors.length)return e.when(i);var r=e.defer();return function t(i,o){var a=n.rowsProcessors[i].processor;return e.when(a.call(n,o,n.columns)).then(function(e){if(!e)throw"Processor at index "+i+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+i+" did not return an array";if(++i<=n.rowsProcessors.length-1)return t(i,e);r.resolve(e)}).catch(function(e){throw e})}(0,i),r.promise},f.prototype.setVisibleRows=function(e){for(var t in this.renderContainers){var n=this.renderContainers[t];n.canvasHeightShouldUpdate=!0,void 0===n.visibleRowCache?n.visibleRowCache=[]:n.visibleRowCache.length=0}for(var i=0;i<e.length;i++){var r=e[i],o=void 0!==r.renderContainer&&r.renderContainer?r.renderContainer:"body";r.visible&&this.renderContainers[o].visibleRowCache.push(r)}this.api.core.raise.rowsVisibleChanged(this.api),this.api.core.raise.rowsRendered(this.api)},f.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},f.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);void 0!==t&&void 0!==t&&this.columnsProcessors.splice(t,1)},f.prototype.processColumnsProcessors=function(t){var n=this,i=t.slice(0);if(0===n.columnsProcessors.length)return e.when(i);var r=e.defer();return function t(o,a){var s=n.columnsProcessors[o].processor;return e.when(s.call(n,a,n.rows)).then(function(e){if(!e)throw"Processor at index "+o+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+o+" did not return an array";if(++o<=n.columnsProcessors.length-1)return t(o,i);r.resolve(i)}).catch(angular.noop)}(0,i),r.promise},f.prototype.setVisibleColumns=function(e){for(var t in this.renderContainers)this.renderContainers[t].visibleColumnCache.length=0;for(var n=0;n<e.length;n++){var i=e[n];i.visible&&(void 0!==i.renderContainer&&i.renderContainer?this.renderContainers[i.renderContainer].visibleColumnCache.push(i):this.renderContainers.body.visibleColumnCache.push(i))}},f.prototype.handleWindowResize=function(e){return this.gridWidth=i.elementWidth(this.element),this.gridHeight=i.elementHeight(this.element),this.queueRefresh()},f.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}).catch(angular.noop),e.refreshCanceller},f.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&p.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=p(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}).catch(angular.noop),e.gridRefreshCanceller},f.prototype.updateCanvasHeight=function(){for(var e in this.renderContainers)this.renderContainers.hasOwnProperty(e)&&(this.renderContainers[e].canvasHeightShouldUpdate=!0)},f.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},f.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,i=0;return e.columns.forEach(function(r,o){if(i<t)i+=r.drawnWidth,n++;else{for(var a=0,s=o;s>=o-n;s--)a+=e.columns[s].drawnWidth;a<t&&n++}}),n},f.prototype.getBodyHeight=function(){return this.getViewportHeight()},f.prototype.getViewportHeight=function(){var e=this.gridHeight-this.headerHeight-this.footerHeight;return e+=this.getViewportAdjustment().height},f.prototype.getViewportWidth=function(){var e=this.gridWidth;return e+=this.getViewportAdjustment().width},f.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},f.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},f.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},f.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var i=0;i<n.length;i++){var r=n[i];this.verticalScrollSyncCallBackFns[r]&&this.verticalScrollSyncCallBackFns[r](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},f.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},f.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);void 0!==t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},f.prototype.getViewportAdjustment=function(){var e={height:0,width:0};return this.viewportAdjusters.forEach(function(t){e=t.call(this,e)}),e},f.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},f.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},f.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},f.prototype.searchRows=function(e){return u.search(this,e,this.columns)},f.prototype.sortByColumn=function(e){return c.sort(this,e,this.columns)},f.prototype.getCellValue=function(e,t){return void 0!==e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&void 0!==t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=n(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},f.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var i=t.cellFilter?" | "+t.cellFilter:"";if(void 0!==e.entity["$$"+t.uid])t.cellDisplayGetterCache=n(e.entity["$$"+t.uid].rendered+i);else if(this.options.flatEntityAccess&&void 0!==t.field){var r=t.field.replace(/(')|(\\)/g,"\\$&");t.cellDisplayGetterCache=n("entity['"+r+"']"+i)}else t.cellDisplayGetterCache=n(e.getEntityQualifiedColField(t)+i)}var o=angular.extend({},e,{col:t});return t.cellDisplayGetterCache(o)},f.prototype.getNextColumnSortPriority=function(){var e=0;return this.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>=e&&(e=t.sort.priority+1)}),e},f.prototype.resetColumnSorting=function(e){this.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},f.prototype.getColumnSorting=function(){var e=[];return this.columns.slice(0).sort(c.prioritySort).forEach(function(t){t.sort&&void 0!==t.sort.direction&&t.sort.direction&&(t.sort.direction===r.ASC||t.sort.direction===r.DESC)&&e.push(t)}),e},f.prototype.sortColumn=function(t,n,i){var r=null;if(void 0===t||!t)throw new Error("No column parameter provided");if("boolean"==typeof n?i=n:r=n,i?void 0===t.sort.priority&&(t.sort.priority=this.getNextColumnSortPriority()):(this.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=this.getNextColumnSortPriority()),r)t.sort.direction=r;else{var o=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);o=(o+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[o]&&(o=(o+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[o]?t.sort.direction=t.sortDirectionCycle[o]:g(t,this)}return this.api.core.raise.sortChanged(this,this.getColumnSorting()),e.when(t)};var g=function(e,t){t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e.sort.priority&&(t.sort.priority-=1)}),e.sort={}};return f.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},f.prototype.createRowHashMap=function(){var e=new m;return e.grid=this,e},f.prototype.refresh=function(t){var n=this,i=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}).catch(angular.noop),r=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)}).catch(angular.noop);return e.all([i,r]).then(function(){n.refreshCanvas(!0),n.redrawInPlace(t)}).catch(angular.noop)},f.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)}).catch(angular.noop)},f.prototype.refreshCanvas=function(t){var n=this,r=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var s=n.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=null,s.explicitHeaderCanvasHeight=null,o.push(s))}return t&&n.buildStyles(),p(o.length>0?function(){var e,a,s=!1,l=0,c=0,u=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<o.length;e++)if(null!==(a=o[e]).canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var d=a.headerHeight=u(a.headerHeight,i.outerElementHeight(a.header)),p=i.getBorderSize(a.header,"top"),h=i.getBorderSize(a.header,"bottom"),m=parseInt(d-p-h,10);m=m<0?0:m,a.innerHeaderHeight=m,!a.explicitHeaderHeight&&m>l&&(l=m)}if(a.headerCanvas){var f=a.headerCanvasHeight=u(a.headerCanvasHeight,parseInt(i.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&f>c&&(c=f)}}for(e=0;e<o.length;e++)a=o[e],l>0&&void 0!==a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=u(a.explicitHeaderHeight,l)),c>0&&void 0!==a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<c)&&(a.explicitHeaderCanvasHeight=u(a.explicitHeaderCanvasHeight,c));t&&s&&n.buildStyles(),r.resolve()}:function(){r.resolve()}),r.promise},f.prototype.redrawInPlace=function(e){for(var t in this.renderContainers){var n=this.renderContainers[t];e?(n.adjustRows(n.prevScrollTop,null),n.adjustColumns(n.prevScrollLeft,null)):(n.adjustRows(null,n.prevScrolltopPercentage),n.adjustColumns(null,n.prevScrollleftPercentage))}},f.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},f.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},f.prototype.scrollToIfNecessary=function(t,n){var i=new h(this,"uiGrid.scrollToIfNecessary"),r=this.renderContainers.body.visibleRowCache,o=this.renderContainers.body.visibleColumnCache,a=this.renderContainers.body.prevScrollTop+this.headerHeight;a=a<0?0:a;var s=this.renderContainers.body.prevScrollLeft,l=this.renderContainers.body.prevScrollTop+this.gridHeight-this.renderContainers.body.headerHeight-this.footerHeight-this.scrollbarWidth,c=this.renderContainers.body.prevScrollLeft+Math.ceil(this.renderContainers.body.getViewportWidth());if(null!==t){var u,d=r.indexOf(t),p=this.renderContainers.body.getCanvasHeight()-this.renderContainers.body.getViewportHeight(),m=d*this.options.rowHeight+this.headerHeight;(m=m<0?0:m)<a?(u=(this.renderContainers.body.prevScrollTop-(a-m))/p)<=1&&(i.y={percentage:u}):m>l&&(u=(m-l+this.renderContainers.body.prevScrollTop)/p)<=1&&(i.y={percentage:u})}if(null!==n){for(var f=o.indexOf(n),g=this.renderContainers.body.getCanvasWidth()-this.renderContainers.body.getViewportWidth(),v=0,b=0;b<f;b++)v+=o[b].drawnWidth;var y,w=(v=v<0?0:v)+n.drawnWidth;w=w<0?0:w,v<s?(y=(y=(this.renderContainers.body.prevScrollLeft-(s-v))/g)>1?1:y,i.x={percentage:y}):w>c&&(y=(y=(w-c+this.renderContainers.body.prevScrollLeft)/g)>1?1:y,i.x={percentage:y})}var C=e.defer();if(i.y||i.x){i.withDelay=!1,this.scrollContainers("",i);var E=this.api.core.on.scrollEnd(null,function(){C.resolve(i),E()})}else C.resolve();return C.promise},f.prototype.scrollTo=function(e,t){var n=null,i=null;return null!==e&&void 0!==e&&(n=this.getRow(e)),null!==t&&void 0!==t&&(i=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,i)},f.prototype.clearAllFilters=function(e,t,n){if(void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e)return this.refreshRows()},m.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},f}]),angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,i,r,o){function a(e,n,i,r){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(r||i.api,t)})}var s=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return s.prototype.suppressEvents=function(e,t){var n=this,i=angular.isArray(e)?e:[e],r=n.listeners.filter(function(e){return i.some(function(t){return e.handler===t})});r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=a(e.eventId,e.handler,n.grid,e._this)})},s.prototype.registerEvent=function(e,i){var r=this;r[e]||(r[e]={});var o=r[e];o.on||(o.on={},o.raise={});var s=r.grid.id+e+i;o.raise[i]=function(){t.$emit.apply(t,[s].concat(Array.prototype.slice.call(arguments)))},o.on[i]=function(t,o,l){if(null===t||void 0!==t.$on){var c={handler:o,dereg:a(s,o,r.grid,l),eventId:s,scope:t,_this:l};r.listeners.push(c);var u=function(){c.dereg();var e=r.listeners.indexOf(c);r.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){u()}),u}n.logError("asked to listen on "+e+".on."+i+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering")}},s.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var i={name:t,events:[]};angular.forEach(e,function(e,t){i.events.push(t)}),n.push(i)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},s.prototype.registerMethod=function(e,t,i,r){this[e]||(this[e]={}),this[e][t]=n.createBoundedWrapper(r||this.grid,i)},s.prototype.registerMethodsFromObject=function(e,t){var n=this,i=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),i.push(n)}),i.forEach(function(e){e.methods.forEach(function(i){n.registerMethod(e.name,i.name,i.fn,t)})})},s}]),angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function i(e,n,i){var r=this;r.grid=i,r.uid=n,r.updateColumnDef(e,!0),r.aggregationValue=void 0,r.updateAggregationValue=function(){if(r.aggregationType){var e=0,n=r.grid.getVisibleRows(),i=function(){var e=[];return n.forEach(function(t){var n=r.grid.getCellValue(t,r),i=Number(n);isNaN(i)||e.push(i)}),e};angular.isFunction(r.aggregationType)?r.aggregationValue=r.aggregationType(n,r):r.aggregationType===t.aggregationTypes.count?r.aggregationValue=r.grid.getVisibleRowCount():r.aggregationType===t.aggregationTypes.sum?(i().forEach(function(t){e+=t}),r.aggregationValue=e):r.aggregationType===t.aggregationTypes.avg?(i().forEach(function(t){e+=t}),e/=i().length,r.aggregationValue=e):r.aggregationType===t.aggregationTypes.min?r.aggregationValue=Math.min.apply(null,i()):r.aggregationType===t.aggregationTypes.max?r.aggregationValue=Math.max.apply(null,i()):r.aggregationValue=" "}else r.aggregationValue=void 0},this.getAggregationValue=function(){return r.aggregationValue}}return i.prototype.hideColumn=function(){this.colDef.visible=!1},i.prototype.setPropertyOrDefault=function(e,t,n){void 0!==e[t]&&e[t]?this[t]=e[t]:void 0!==this[t]?this[t]=this[t]:this[t]=n||{}},i.prototype.updateColumnDef=function(n,i){var r=this;if(r.colDef=n,void 0===n.name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(n));if(r.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,!angular.isNumber(r.width)||!r.hasCustomWidth||n.allowCustomWidthOverride){var o=n.width,a="Cannot parse column width '"+o+"' for column named '"+n.name+"'";if(r.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var s=o.replace(/%/g,""),l=parseInt(s,10);if(isNaN(l))throw new Error(a);r.width=o}else if(o.match(/^(\d+)$/))r.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);r.width=o}else r.width=o;else r.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=n[e],i="Cannot parse column "+e+" '"+t+"' for column named '"+n.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(i);r[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else r[e]=t;else r[e]="minWidth"===e?30:9e3}),r.field=void 0===n.field?n.name:n.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=n.name,r.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,r.aggregationType=angular.isDefined(n.aggregationType)?n.aggregationType:null,r.footerCellTemplate=angular.isDefined(n.footerCellTemplate)?n.footerCellTemplate:null,void 0===n.cellTooltip||!1===n.cellTooltip?r.cellTooltip=!1:!0===n.cellTooltip?r.cellTooltip=function(e,t){return r.grid.getCellValue(e,t)}:"function"==typeof n.cellTooltip?r.cellTooltip=n.cellTooltip:r.cellTooltip=function(e,t){return t.colDef.cellTooltip},void 0===n.headerTooltip||!1===n.headerTooltip?r.headerTooltip=!1:!0===n.headerTooltip?r.headerTooltip=function(e){return e.displayName}:"function"==typeof n.headerTooltip?r.headerTooltip=n.headerTooltip:r.headerTooltip=function(e){return e.colDef.headerTooltip},r.footerCellClass=n.footerCellClass,r.cellClass=n.cellClass,r.headerCellClass=n.headerCellClass,r.cellFilter=n.cellFilter?n.cellFilter:"",r.sortCellFiltered=!!n.sortCellFiltered,r.filterCellFiltered=!!n.filterCellFiltered,r.headerCellFilter=n.headerCellFilter?n.headerCellFilter:"",r.footerCellFilter=n.footerCellFilter?n.footerCellFilter:"",r.visible=e.isNullOrUndefined(n.visible)||n.visible,r.headerClass=n.headerClass,r.enableSorting=void 0!==n.enableSorting?n.enableSorting:r.grid.options.enableSorting,r.sortingAlgorithm=n.sortingAlgorithm,r.sortDirectionCycle=void 0!==n.sortDirectionCycle?n.sortDirectionCycle:[null,t.ASC,t.DESC],void 0===r.suppressRemoveSort&&(r.suppressRemoveSort=void 0!==n.suppressRemoveSort&&n.suppressRemoveSort),r.enableFiltering=void 0===n.enableFiltering||n.enableFiltering,r.setPropertyOrDefault(n,"menuItems",[]),i&&r.setPropertyOrDefault(n,"sort"),r.setPropertyOrDefault(n,"defaultSort");var c=[];n.filter?c.push(n.filter):n.filters?c=n.filters:c.push({}),i?(r.setPropertyOrDefault(n,"filter"),r.setPropertyOrDefault(n,"extraStyle"),r.setPropertyOrDefault(n,"filters",c)):r.filters.length===c.length&&r.filters.forEach(function(e,t){void 0!==c[t].placeholder&&(e.placeholder=c[t].placeholder),void 0!==c[t].ariaLabel&&(e.ariaLabel=c[t].ariaLabel),void 0!==c[t].flags&&(e.flags=c[t].flags),void 0!==c[t].type&&(e.type=c[t].type),void 0!==c[t].selectOptions&&(e.selectOptions=c[t].selectOptions)})},i.prototype.unsort=function(){var e=this.sort.priority;this.grid.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e&&(t.sort.priority-=1)}),this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},i.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},i.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},i.prototype.isPinnedRight=function(){return"right"===this.renderContainer},i.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},i.prototype.getRenderContainer=function(){var e=this.renderContainer;return null!==e&&""!==e&&void 0!==e||(e="body"),this.grid.renderContainers[e]},i.prototype.showColumn=function(){this.colDef.visible=!0},i.prototype.getAggregationText=function(){if(this.colDef.aggregationHideLabel)return"";if(this.colDef.aggregationLabel)return this.colDef.aggregationLabel;switch(this.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},i.prototype.getCellTemplate=function(){return this.cellTemplatePromise},i.prototype.getCompiledElementFn=function(){return this.compiledElementFnDefer.promise},i}]),angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=!1!==n.enableRowHashing,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.flatEntityAccess=!0===n.flatEntityAccess,n.showHeader=void 0===n.showHeader||n.showHeader,n.showHeader?n.headerRowHeight=void 0!==n.headerRowHeight?n.headerRowHeight:30:n.headerRowHeight=0,"string"==typeof n.rowHeight?n.rowHeight=parseInt(n.rowHeight)||30:n.rowHeight=n.rowHeight||30,n.minRowsToShow=void 0!==n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=!0===n.showGridFooter,n.showColumnFooter=!0===n.showColumnFooter,n.columnFooterHeight=void 0!==n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight=void 0!==n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth=void 0!==n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount=void 0!==n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold=void 0!==n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold=void 0!==n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows=void 0!==n.excessRows?n.excessRows:4,n.scrollThreshold=void 0!==n.scrollThreshold?n.scrollThreshold:4,n.excessColumns=void 0!==n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold=void 0!==n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle=void 0!==n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle=void 0!==n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce=void 0!==n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=!1!==n.enableSorting,n.enableFiltering=!0===n.enableFiltering,n.enableColumnMenus=!1!==n.enableColumnMenus,n.enableVerticalScrollbar=void 0!==n.enableVerticalScrollbar?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar=void 0!==n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.enableMinHeightCheck=!1!==n.enableMinHeightCheck,n.minimumColumnSize=void 0!==n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.gridMenuTemplate=n.gridMenuTemplate||"ui-grid/uiGridMenu",n.appScopeProvider=n.appScopeProvider||null,n}}}]),angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function n(e,t,n){var i=this;i.name=e,i.grid=t,i.visibleRowCache=[],i.visibleColumnCache=[],i.renderedRows=[],i.renderedColumns=[],i.prevScrollTop=0,i.prevScrolltopPercentage=0,i.prevRowScrollIndex=0,i.prevScrollLeft=0,i.prevScrollleftPercentage=0,i.prevColumnScrollIndex=0,i.columnStyles="",i.viewportAdjusters=[],i.hasHScrollbar=!1,i.hasVScrollbar=!1,i.canvasHeightShouldUpdate=!0,i.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(i,n),t.registerStyleComputation({priority:5,func:function(){return i.updateColumnWidths(),i.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},n.prototype.minRowsToRender=function(){for(var e=0,t=0,n=this.getViewportHeight(),i=this.visibleRowCache.length-1;t<n&&i>=0;i--)t+=this.visibleRowCache[i].height,e++;return e},n.prototype.minColumnsToRender=function(){for(var e=this.getViewportWidth(),t=0,n=0,i=0;i<this.visibleColumnCache.length;i++){var r=this.visibleColumnCache[i];if(n<e)n+=r.drawnWidth?r.drawnWidth:0,t++;else{for(var o=0,a=i;a>=i-t;a--)o+=this.visibleColumnCache[a].drawnWidth?this.visibleColumnCache[a].drawnWidth:0;o<e&&t++}}return t},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e={height:0,width:0};return this.viewportAdjusters.forEach(function(t){e=t.call(this,e)}),e},n.prototype.getMargin=function(e){var t=0;return this.viewportAdjusters.forEach(function(n){var i=n.call(this,{height:0,width:0});i.side&&i.side===e&&(t+=-1*i.width)}),t},n.prototype.getViewportHeight=function(){var e=this.headerHeight?this.headerHeight:this.grid.headerHeight,t=this.grid.gridHeight-e-this.grid.footerHeight;return t+=this.getViewportAdjustment().height},n.prototype.getViewportWidth=function(){var e=this.grid.gridWidth;return e+=this.getViewportAdjustment().width},n.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},n.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},n.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},n.prototype.getCanvasWidth=function(){return this.canvasWidth},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.scrollVertical=function(e){var n=-1;if(e!==this.prevScrollTop){var i=e-this.prevScrollTop;return i>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),i<0&&(this.grid.scrollDirection=t.scrollDirection.UP),(n=e/this.getVerticalScrollLength())>1&&(n=1),n<0&&(n=0),this.adjustScrollVertical(e,n),n}},n.prototype.scrollHorizontal=function(e){var n=-1;if(e!==this.prevScrollLeft){var i=e-this.prevScrollLeft;i>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),i<0&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var r=this.getHorizontalScrollLength();return n=0!==r?e/r:0,this.adjustScrollHorizontal(e,n),n}},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&(void 0!==e&&void 0!==e&&null!==e||(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&(void 0!==e&&void 0!==e&&null!==e||(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,t,n){var i=this.minRowsToRender(),r=this.visibleRowCache,o=r.length-i;void 0!==t&&null!==t||!e||(t=e/this.getVerticalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var s=[];if(r.length>this.grid.options.virtualizationThreshold){if(void 0!==e&&null!==e){if(!this.grid.suppressParentScrollDown&&this.prevScrollTop<e&&a<this.prevRowScrollIndex+this.grid.options.scrollThreshold&&a<o)return;if(!this.grid.suppressParentScrollUp&&this.prevScrollTop>e&&a>this.prevRowScrollIndex-this.grid.options.scrollThreshold&&a<o)return}s=[Math.max(0,a-this.grid.options.excessRows),Math.min(r.length,a+i+this.grid.options.excessRows)]}else{var l=this.visibleRowCache.length;s=[0,Math.max(l,i+this.grid.options.excessRows)]}this.updateViewableRowRange(s),this.prevRowScrollIndex=a},n.prototype.adjustColumns=function(e,t){var n=this.minColumnsToRender(),i=this.visibleColumnCache,r=i.length-n;void 0!==t&&null!==t||!e||(t=e/this.getHorizontalScrollLength());var o=Math.ceil(Math.min(r,r*t));o>r&&(o=r);var a=[];if(i.length>this.grid.options.columnVirtualizationThreshold&&this.getCanvasWidth()>this.getViewportWidth())a=[Math.max(0,o-this.grid.options.excessColumns),Math.min(i.length,o+n+this.grid.options.excessColumns)];else{var s=this.visibleColumnCache.length;a=[0,Math.max(s,n+this.grid.options.excessColumns)]}this.updateViewableColumnRange(a),this.prevColumnScrollIndex=o},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.headerCellWrapperStyle=function(){if(0!==this.currentFirstColumn){var e=this.columnOffset;return this.grid.isRTL()?{"margin-right":e+"px"}:{"margin-left":e+"px"}}return null},n.prototype.updateColumnWidths=function(){var t=this,n=[],i=0,r=0,o="",a=!1,s=[],l=[],c=0,u=t.grid.getViewportWidth()-t.grid.scrollbarWidth,d=[];angular.forEach(t.grid.renderContainers,function(e){d=d.concat(e.visibleColumnCache)}),d.forEach(function(o){var d=0;if(o.visible)if(a&&(u+=t.grid.scrollbarWidth),!a&&o.colDef.pinnedRight&&(a=!0),angular.isNumber(o.width))d=parseInt(o.width,10),r+=d,o.drawnWidth=d,s.push(o);else if(e.endsWith(o.width,"%")){var p=parseInt(o.width.replace(/%/g,""),10);(d=parseInt(p/100*u))>o.maxWidth&&(d=o.maxWidth),d<o.minWidth&&(d=o.minWidth),r+=d,o.drawnWidth=d,c+=p,l.push(o)}else angular.isString(o.width)&&-1!==o.width.indexOf("*")&&(i+=o.width.length,n.push(o))});var p,h=u-r;if(n.length>0){var m=h/i;n.forEach(function(e){var t=parseInt(e.width.length*m,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),r+=t,e.drawnWidth=t})}if(n.length>0?p=n:l.length>0&&0===s.length&&100===c&&(p=l),!angular.isUndefined(p)){for(var f=function(e){e.drawnWidth<e.maxWidth&&g>0&&(e.drawnWidth++,r++,g--,v=!0)},g=u-r,v=!0;g>0&&v;)v=!1,p.forEach(f);var b=function(e){e.drawnWidth>e.minWidth&&y>0&&(e.drawnWidth--,r--,y--,v=!0)},y=r-u;for(v=!0;y>0&&v;)v=!1,p.forEach(b)}var w=0;t.visibleColumnCache.forEach(function(e){e.visible&&(w+=e.drawnWidth)}),d.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=w,this.columnStyles=o},n.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},n.prototype.getViewportStyle=function(){var e={};return this.hasHScrollbar=!1,this.hasVScrollbar=!1,this.grid.disableScrolling?(e["overflow-x"]="hidden",e["overflow-y"]="hidden",e):("body"===this.name?(this.hasHScrollbar=this.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,this.grid.isRTL()?this.grid.hasLeftContainerColumns()||(this.hasVScrollbar=this.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):this.grid.hasRightContainerColumns()||(this.hasVScrollbar=this.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):"left"===this.name?this.hasVScrollbar=!!this.grid.isRTL()&&this.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:this.hasVScrollbar=!this.grid.isRTL()&&this.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,e["overflow-x"]=this.hasHScrollbar?"scroll":"hidden",e["overflow-y"]=this.hasVScrollbar?"scroll":"hidden",e)},n}]),angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(e,t){function n(t,n,i){this.grid=i,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.isSelected=!1,this.$$height=i.options.rowHeight}return Object.defineProperty(n.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),n.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},n.prototype.getEntityQualifiedColField=function(n){return n.field===t.ENTITY_BINDING?"entity":e.preEval("entity."+n.field)},n.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},n.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},n.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},n.prototype.clearThisRowInvisible=function(e,t){void 0!==this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},n.prototype.evaluateRowVisibility=function(e){var t=!0;void 0!==this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,n){e&&(t=!1)}),void 0!==this.visible&&this.visible===t||(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},n}]),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var n=function e(t,n){if(!(this instanceof e))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=t,this.col=n};return n.prototype.getIntersectionValueRaw=function(){return e(this.row.getEntityQualifiedColField(this.col))(this.row)},n}])}(),angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,n,i,r){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=r,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=i,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,n){if(!this.newScrollLeft){var i,r=t.getCanvasWidth()-t.getViewportWidth(),o=e.normalizeScrollLeft(n,this.grid);if(void 0!==this.x.percentage&&void 0!==this.x.percentage)i=this.x.percentage;else{if(void 0===this.x.pixels||void 0===this.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");i=this.x.percentage=(o+this.x.pixels)/r}return Math.max(0,i*r)}return this.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){if(!this.newScrollTop){var n,i=e.getVerticalScrollLength(),r=t[0].scrollTop;if(void 0!==this.y.percentage&&void 0!==this.y.percentage)n=this.y.percentage;else{if(void 0===this.y.pixels||void 0===this.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");n=this.y.percentage=(r+this.y.pixels)/i}return Math.max(0,n*i)}return this.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}]),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,i,r,o,a,s){var l={createGrid:function(i){(i=void 0!==i?i:{}).id=e.newId();var r=new o(i);if(r.options.rowTemplate){var a=t.defer();r.getRowTemplateFn=a.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=n(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")}).catch(angular.noop)}return r.registerColumnBuilder(l.defaultColumnBuilder),r.registerRowBuilder(l.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!angular.isDefined(e.colDef.visible)||e.colDef.visible}),e},50),r.registerRowsProcessor(r.searchRows,100),r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.registerRowsProcessor(r.options.externalSort,200):r.registerRowsProcessor(r.sortByColumn,200),r},defaultColumnBuilder:function(n,i,o){var a=[],s=function(t,o,s,l,c){n[t]?i[o]=n[t]:i[o]=s;var u=e.getTemplate(i[o]).then(function(e){angular.isFunction(e)&&(e=e());var n="cellTooltip"===c?"col.cellTooltip(row,col)":"col.headerTooltip(col)";c&&!1===i[c]?e=e.replace(r.TOOLTIP,""):c&&i[c]&&(e=e.replace(r.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),i[t]=l?e.replace(r.CUSTOM_FILTERS,function(){return i[l]?"|"+i[l]:""}):e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+n[t]+"'")}).catch(angular.noop);return a.push(u),u};return i.cellTemplatePromise=s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),i.headerCellTemplatePromise=s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),i.footerCellTemplatePromise=s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),i.filterHeaderTemplatePromise=s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),i.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(i){if(i.rowTemplate){var r=t.defer();i.getRowTemplateFn=r.promise,e.getTemplate(i.rowTemplate).then(function(e){var t=n(e);r.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+i.rowTemplate+"'")})}else i.rowTemplate=this.options.rowTemplate,i.getRowTemplateFn=this.getRowTemplateFn;return i.getRowTemplateFn}};return l}])}(),function(){angular.module("ui.grid").service("rowSearcher",["gridUtil","uiGridConstants",function(e,t){var n=t.filter.CONTAINS,i={getTerm:function(e){if(void 0===e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},stripTerm:function(e){var t=i.getTerm(e);return"string"==typeof t?t.replace(/(^\*|\*$)/g,"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):t},guessCondition:function(e){if(void 0===e.term||!e.term)return n;var t=i.getTerm(e);if(/\*/.test(t)){var r="";e.flags&&e.flags.caseSensitive||(r+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",r)}return n},setupFilters:function(n){for(var r=[],o=n.length,a=0;a<o;a++){var s=n[a];if(s.noTerm||!e.isNullOrUndefined(s.term)){var l={},c="";s.flags&&s.flags.caseSensitive||(c+="i"),e.isNullOrUndefined(s.term)||(s.rawTerm?l.term=s.term:l.term=i.stripTerm(s)),l.noTerm=s.noTerm,s.condition?l.condition=s.condition:l.condition=i.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===t.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,c)),l.condition===t.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",c)),l.condition===t.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,c)),l.condition===t.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",c)),r.push(l)}}return r},runColumnFilter:function(e,n,i,r){var o,a=typeof r.condition,s=r.term;if(o=i.filterCellFiltered?e.getCellDisplayValue(n,i):e.getCellValue(n,i),r.condition instanceof RegExp)return r.condition.test(o);if("function"===a)return r.condition(s,o,n,i);if(r.startswithRE)return r.startswithRE.test(o);if(r.endswithRE)return r.endswithRE.test(o);if(r.containsRE)return r.containsRE.test(o);if(r.exactRE)return r.exactRE.test(o);if(r.condition===t.filter.NOT_EQUAL)return!new RegExp("^"+s+"$").exec(o);if("number"==typeof o&&"string"==typeof s){var l=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(l)||(s=l)}return!0===r.flags.date&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),r.condition===t.filter.GREATER_THAN?o>s:r.condition===t.filter.GREATER_THAN_OR_EQUAL?o>=s:r.condition===t.filter.LESS_THAN?o<s:r.condition!==t.filter.LESS_THAN_OR_EQUAL||o<=s},searchColumn:function(t,n,r,o){if(t.options.useExternalFiltering)return!0;for(var a=o.length,s=0;s<a;s++){var l=o[s];if((!e.isNullOrUndefined(l.term)&&""!==l.term||l.noTerm)&&!i.runColumnFilter(t,n,r,l))return!1}return!0},search:function(t,n,r){if(n){if(!t.options.enableFiltering)return n;for(var o=[],a=r.length,s=0;s<a;s++){var l=r[s];void 0!==l.filters&&function(t){var n=!1;return t.forEach(function(t){(!e.isNullOrUndefined(t.term)&&""!==t.term||t.noTerm)&&(n=!0)}),n}(l.filters)&&o.push({col:l,filters:i.setupFilters(l.filters)})}if(o.length>0){for(var c=function(e,t,n,r){t.visible&&!i.searchColumn(e,t,n,r)&&(t.visible=!1)},u=o.length,d=0;d<u;d++)!function(e,t){for(var i=n.length,r=0;r<i;r++)c(e,n[r],t.col,t.filters)}(t,o[d]);t.api.core.raise.rowsVisibleChanged&&t.api.core.raise.rowsVisibleChanged()}return n}}};return i}])}(),angular.module("ui.grid").service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",i=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:{},guessSortFn:function(e){switch(e){case"number":return i.sortNumber;case"numberStr":return i.sortNumberStr;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw new Error("No sorting function found for type:"+e)}},handleNulls:function(e,t){if(!e&&0!==e&&!1!==e||!t&&0!==t&&!1!==t){if(!e&&0!==e&&!1!==e&&!t&&0!==t&&!1!==t)return 0;if(!e&&0!==e&&!1!==e)return 1;if(!t&&0!==t&&!1!==t)return-1}return null},basicSort:function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e===t?0:e<t?-1:1},sortNumber:function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e-t},sortNumberStr:function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r,o,a=!1,s=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:r-o},sortAlpha:function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=e.toString().toLowerCase(),o=t.toString().toLowerCase();return r===o?0:r.localeCompare(o)},sortDate:function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var r=e.getTime(),o=t.getTime();return r===o?0:r<o?-1:1},sortBool:function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},getSortFn:function(e,t,n){var r;return i.colSortFnCache[t.colDef.name]?r=i.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(r=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(r=i.sortAlpha,i.colSortFnCache[t.colDef.name]=r):(r=i.guessSortFn(t.colDef.type))?i.colSortFnCache[t.colDef.name]=r:r=i.sortAlpha,r},prioritySort:function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:void 0!==e.sort.priority?-1:void 0!==t.sort.priority?1:0},sort:function(e,n,r){if(n){if(e.options.useExternalSorting)return n;var o,a,s=[],l=[];if(r.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC?e.defaultSort&&e.defaultSort.direction&&(e.defaultSort.direction===t.ASC||e.defaultSort.direction===t.DESC)&&l.push({col:e,sort:e.defaultSort}):s.push({col:e,sort:e.sort})}),s=s.sort(i.prioritySort),l=l.sort(i.prioritySort),0===(s=s.concat(l)).length)return n;n.forEach(function(e,t){e.entity.$$uiGridIndex=t});var c=n.slice(0),u=n.sort(function(n,r){for(var l,u=0,d=0;0===u&&d<s.length;){var p,h;o=s[d].col,a=s[d].sort.direction,l=i.getSortFn(e,o,c),o.sortCellFiltered?(p=e.getCellDisplayValue(n,o),h=e.getCellDisplayValue(r,o)):(p=e.getCellValue(n,o),h=e.getCellValue(r,o)),u=l(p,h,n,r,a,o),d++}return 0===u?n.entity.$$uiGridIndex-r.entity.$$uiGridIndex:a===t.ASC?u:0-u});return n.forEach(function(e,t){delete e.entity.$$uiGridIndex}),u}}});return i}]),function(){function e(e){var t=e;return void 0!==t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];o<4;o+=2){var l=s[o];if("margin"===n){var c=parseFloat(r[n+l]);isNaN(c)||(a+=c)}if(i){if("content"===n){var u=parseFloat(r["padding"+l]);isNaN(u)||(a-=u)}if("margin"!==n){var d=parseFloat(r["border"+l+"Width"]);isNaN(d)||(a-=d)}}else{var p=parseFloat(r["padding"+l]);if(isNaN(p)||(a+=p),"padding"!==n){var h=parseFloat(r["border"+l+"Width"]);isNaN(h)||(a+=h)}}}return a}function n(n,i,r){var a,s=!0,l=e(n),c="border-box"===l.boxSizing;if(a<=0||null==a){if(((a=l[i])<0||null==a)&&(a=n.style[i]),o.test(a))return a;s=c&&!0,a=parseFloat(a)||0}return a+t(0,i,r||(c?"border":"content"),s,l)}var i,r=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(i=function(){var e=Array.prototype.slice;return function(t){var n=this,i=e.call(arguments,1);return i.length?function(){return arguments.length?n.apply(t,i.concat(e.call(arguments))):n.apply(t,i)}:function(){return arguments.length?n.apply(t,arguments):n.call(t)}}});var o=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),a=/^(block|none|table(?!-c[ea]).+)/,s={position:"absolute",visibility:"hidden",display:"block"},l=["0","0","0","0"];r.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(r,o,c,u,d,p,h,m,f,g,v){function b(e,t){var n,i=angular.element(this),r=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(a=-1*t.detail),"wheelDelta"in t&&(a=t.wheelDelta),"wheelDeltaY"in t&&(a=t.wheelDeltaY),"wheelDeltaX"in t&&(o=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=-1*a,a=0),r=0===a?o:a,"deltaY"in t&&(r=a=-1*t.deltaY),"deltaX"in t&&(o=t.deltaX,0===a&&(r=-1*o)),0!==a||0!==o){if(1===t.deltaMode){var s=i.data("mousewheel-line-height");r*=s,a*=s,o*=s}else if(2===t.deltaMode){var l=i.data("mousewheel-page-height");r*=l,a*=l,o*=l}n=Math.max(Math.abs(a),Math.abs(o)),(!x||n<x)&&(x=n,function(e,t){return"mousewheel"===e.type&&t%120==0}(t,n)&&(x/=40)),r=Math[r>=1?"floor":"ceil"](r/x),o=Math[o>=1?"floor":"ceil"](o/x),a=Math[a>=1?"floor":"ceil"](a/x);var c={originalEvent:t,deltaX:o,deltaY:a,deltaFactor:x,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};E&&clearTimeout(E),E=setTimeout(y,200),e.call(i[0],c)}}function y(){x=null}var w,C={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return void 0===e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||void 0===e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var i=e[0];return angular.forEach(i,function(e,i){-1===t.indexOf(i)&&n.push({name:i})}),n},newId:(w=(new Date).getTime(),function(){return w+=1}),getTemplate:function(e){if(d.get(e))return C.postProcessTemplate(d.get(e));if(angular.isFunction(e.then))return e.then(C.postProcessTemplate).catch(angular.noop);try{if(angular.element(e).length>0)return f.when(e).then(C.postProcessTemplate).catch(angular.noop)}catch(e){}return C.logDebug("fetching url",e),u({method:"GET",url:e}).then(function(t){var n=t.data.trim();return d.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)}).then(C.postProcessTemplate).catch(angular.noop)},postProcessTemplate:function(e){var t=g.startSymbol(),n=g.endSymbol();return"{{"===t&&"}}"===n||(e=(e=e.replace(/\{\{/g,t)).replace(/\}\}/g,n)),f.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r},fakeElement:function(e,t,n,i){var r,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),r=n.call(a,a),angular.element(a).remove(),r},normalizeWheelEvent:function(e){var t,n,i,r,o,a=e||window.event,s=([].slice.call(arguments,1),0),l=0,c=0;return a.originalEvent&&(a=a.originalEvent),a.wheelDelta&&(s=a.wheelDelta),a.detail&&(s=-1*a.detail),c=s,void 0!==a.axis&&a.axis===a.HORIZONTAL_AXIS&&(c=0,l=-1*s),a.deltaY&&(s=c=-1*a.deltaY),a.deltaX&&(s=-1*(l=a.deltaX)),void 0!==a.wheelDeltaY&&(c=a.wheelDeltaY),void 0!==a.wheelDeltaX&&(l=a.wheelDeltaX),i=Math.abs(s),(!t||i<t)&&(t=i),r=Math.max(Math.abs(c),Math.abs(l)),(!n||r<n)&&(n=r),o=s>0?"floor":"ceil",{delta:s=Math[o](s/t),deltaX:l=Math[o](l/n),deltaY:c=Math[o](c/n)}},isTouchEnabled:function(){var e;return("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},arrayContainsObjectWithProperty:function(e,t,n){var i=!1;return angular.forEach(e,function(e){e[t]===n&&(i=!0)}),i},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=m.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(e){}},enableAnimations:function(e){var t;try{return t=m.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(e){}},nextUid:function(){for(var e,t=l.length;t;){if(57===(e=l[--t].charCodeAt(0)))return l[t]="A","uiGrid-"+l.join("");if(90!==e)return l[t]=String.fromCharCode(e+1),"uiGrid-"+l.join("");l[t]="0"}return l.unshift("0"),"uiGrid-"+l.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():void 0!==e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=C.nextUid()):t=e,n+":"+t},resetUids:function(){l=["0","0","0"]},logError:function(e){v.LOG_ERROR_MESSAGES&&r.error(e)},logWarn:function(e){v.LOG_WARN_MESSAGES&&r.warn(e)},logDebug:function(){v.LOG_DEBUG_MESSAGES&&r.debug.apply(r,arguments)}};C.focus={queue:[],byId:function(e,t){this._purgeQueue();var n=p(function(){var n=(t&&t.id?t.id+"-":"")+e,i=o.document.getElementById(n);i?i.focus():C.logWarn("[focus.byId] Element id "+n+" was not found.")},0,!1);return this.queue.push(n),n},byElement:function(e){if(!angular.isElement(e))return C.logWarn("Trying to focus on an element that isn't an element."),f.reject("not-element");e=angular.element(e),this._purgeQueue();var t=p(function(){e&&e[0].focus()},0,!1);return this.queue.push(t),t},bySelector:function(e,t,n){var i=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var r=function(){var n=e[0].querySelector(t);return i.byElement(n)};if(this._purgeQueue(),n){var o=p(r,0,!1);return this.queue.push(o),o}return r()},_purgeQueue:function(){this.queue.forEach(function(e){p.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(t){var i=angular.uppercase(t.charAt(0))+t.substr(1);C["element"+i]=function(i,r){var o=i;if(o&&void 0!==o.length&&o.length&&(o=i[0]),o&&null!==o){var l=e(o);return 0===o.offsetWidth&&a.test(l.display)?C.swap(o,s,function(){return n(o,t,r)}):n(o,t,r)}return null},C["outerElement"+i]=function(e,t){return e?C["element"+i].call(this,e,t?"margin":"border"):null}}),C.closestElm=function(e,t){var n,i;for(void 0!==e.length&&e.length&&(e=e[0]),["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)});null!==e;){if(null!==(i=e.parentElement)&&i[n](t))return i;e=i}return null},C.type=function(e){return Function.prototype.toString.call(e.constructor).match(/function (.*?)\(/)[1]},C.getBorderSize=function(t,n){void 0!==t.length&&t.length&&(t=t[0]);var i=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var r=parseInt(i[n],10);return isNaN(r)?0:r},C.detectBrowser=function(){var e=o.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},C.rtlScrollType=function e(){if(e.type)return e.type;var t=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],n="reverse";return document.body.appendChild(t),t.scrollLeft>0?n="default":(t.scrollLeft=1,0===t.scrollLeft&&(n="negative")),angular.element(t).remove(),e.type=n,n},C.normalizeScrollLeft=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(C.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},C.denormalizeScrollLeft=function(e,t,n){if(void 0!==e.length&&e.length&&(e=e[0]),n.isRTL())switch(C.rtlScrollType()){case"default":return e.scrollWidth-e.clientWidth-t;case"negative":return-1*t;case"reverse":return t}return t},C.preEval=function(e){var t=v.BRACKET_REGEXP.exec(e);if(t)return(t[1]?C.preEval(t[1]):t[1])+t[2]+(t[3]?C.preEval(t[3]):t[3]);var n=(e=e.replace(v.APOS_REGEXP,"\\'")).split(v.DOT_REGEXP),i=[n.shift()];return angular.forEach(n,function(e){i.push(e.replace(v.FUNC_REGEXP,"']$1"))}),i.join("['")},C.debounce=function(e,t,n){function i(){a=this,o=arguments;var i=n&&!r;return r&&p.cancel(r),r=p(function(){r=null,n||(s=e.apply(a,o))},t,!1),i&&(s=e.apply(a,o)),s}var r,o,a,s;return i.cancel=function(){p.cancel(r),r=null},i},C.throttle=function(e,t,n){function i(t){a=+new Date,e.apply(r,o),h(function(){s=null},0,1,!1)}n=n||{};var r,o,a=0,s=null;return function(){if(r=this,o=arguments,null===s){var e=+new Date-a;e>t?i():n.trailing&&(s=h(i,t-e,1,!1))}}},C.on={},C.off={},C._events={},C.addOff=function(e){C.off[e]=function(t,n){var i=C._events[e].indexOf(n);i>0&&C._events[e].removeAt(i)}};var E,x,S="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return C.on.mousewheel=function(t,n){if(t&&n){var r=angular.element(t);r.data("mousewheel-line-height",function(t){var n=(t=angular.element(t)[0]).parentElement;return n||(n=document.getElementsByTagName("body")[0]),parseInt(e(n).fontSize)||parseInt(e(t).fontSize)||16}(r)),r.data("mousewheel-page-height",C.elementHeight(r)),r.data("mousewheel-callbacks")||r.data("mousewheel-callbacks",{});var o=r.data("mousewheel-callbacks");o[n]=(Function.prototype.bind||i).call(b,r[0],n);for(var a=S.length;a;)r.on(S[--a],o[n]);r.on("$destroy",function(){for(var e=S.length;e;)r.off(S[--e],o[n])})}},C.off.mousewheel=function(e,t){var n=angular.element(e),i=n.data("mousewheel-callbacks"),r=i[t];if(r)for(var o=S.length;o;)n.off(S[--o],r);delete i[t],0===Object.keys(i).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},C}]),r.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ar",{headerCell:{aria:{defaultFilterLabel:"التصفيه بالعمود",removeFilter:"محو التصفيه",columnMenuButtonLabel:"قاءمه الاعمده"},priority:"أولويه : ",filterLabel:"تصفيه بالاعمده :"},aggregate:{label:"العناصر"},groupPanel:{description:"اسحب رأس العمود هنا وأسقطه لإنشاء مجموعه"},search:{placeholder:"بحث  ...",showingItems:"العناصر الظاهره :",selectedItems:"العناصر المحدده :",totalItems:"عدد العناصر :",size:"حجم الصفحه :",first:"اول صفحه",next:"الصفحه التاليه",previous:"الصفحه الصابقه",last:"الصفحه الاخيره"},menu:{text:"اختيار العمود :"},sort:{ascending:"ترتيب تصاعدى",descending:"ترتيب تنازلى",none:"عدم التحديد",remove:"حذف الترتيب"},column:{hide:"إخفاء عمود"},aggregation:{count:"عدد الصفوف: ",sum:"جمع: ",avg:"المتوسط الحسابى: ",min:"الادنى: ",max:"الاقصى: "},pinning:{pinLeft:"تثبيت لليسار",pinRight:"تثبيت لليمين",unpin:"فك التثبيت"},columnMenu:{close:"غلق"},gridMenu:{aria:{buttonLabel:"قائمه الجدول"},columns:"الاعمده:",importerTitle:"إدخال ملف",exporterAllAsCsv:"إخراج كل البيانات ك(csv)",exporterVisibleAsCsv:"إخراج كل البيانات الواضحه ك (csv)",exporterSelectedAsCsv:"إخراج كل البيانات المحدده ك (csv)",exporterAllAsPdf:"إخراج كل البيانات ك(pdf)",exporterVisibleAsPdf:"إخراج كل البيانات الواضحه ك (pdf)",exporterSelectedAsPdf:"إخراج كل البيانات المحدده ك (pdf)",clearAllFilters:"محو كل الترشيح"},importer:{noHeaders:"اسماء هؤلاء الاعمده غير واضحه، هل يوجد رأس للملف؟",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"الملف غير قادر على الاتمام ، هل ال (CSV) صحيح؟",invalidJson:"الملف غير قادر على الاتمام ، هل ال (JSON) صحيح؟",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"الصفحه الاولى",pageBack:"الصفه السابقه",pageSelected:"الصفحه المحدده",pageForward:"الصفحه التاليه",pageToLast:"الصفحه الاخيره"},sizes:"عدد العناصر فى الصفحه",totalItems:"عناصر",through:"إلى",of:"من"},grouping:{group:"جمع",ungroup:"فك الجمع",aggregate_count:"جمله : العدد",aggregate_sum:"جمله : الحاصل",aggregate_max:"جمله : الاقصى",aggregate_min:"جمله : الاقل",aggregate_avg:"جمله :المتوسط ",aggregate_remove:"جمله : حذف"},validate:{error:"خطأ :",minLength:"القيمه لابد ان لا تقل عن THRESHOLD حرف.",maxLength:"القيمه لابد ان لا تزيد عن THRESHOLD حرف.",required:"مطلوب قيمه"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("bg",{headerCell:{aria:{defaultFilterLabel:"Филттър за колоната",removeFilter:"Премахни филтър",columnMenuButtonLabel:"Меню на колоната"},priority:"Приоритет:",filterLabel:"Филтър за колоната: "},aggregate:{label:"обекти"},search:{placeholder:"Търсене...",showingItems:"Показани обекти:",selectedItems:"избрани обекти:",totalItems:"Общо:",size:"Размер на страницата:",first:"Първа страница",next:"Следваща страница",previous:"Предишна страница",last:"Последна страница"},menu:{text:"Избери колони:"},sort:{ascending:"Сортиране по възходящ ред",descending:"Сортиране по низходящ ред",none:"Без сортиране",remove:"Премахни сортирането"},column:{hide:"Скрий колоната"},aggregation:{count:"Общо редове: ",sum:"общо: ",avg:"средно: ",min:"най-малко: ",max:"най-много: "},pinning:{pinLeft:"Прикрепи вляво",pinRight:"Прикрепи вдясно",unpin:"Премахване"},columnMenu:{close:"Затвори"},gridMenu:{aria:{buttonLabel:"Меню на таблицата"},columns:"Колони:",importerTitle:"Импортиране на файл",exporterAllAsCsv:"Експортиране на данните като csv",exporterVisibleAsCsv:"Експортиране на видимите данни като csv",exporterSelectedAsCsv:"Експортиране на избраните данни като csv",exporterAllAsPdf:"Експортиране на данните като pdf",exporterVisibleAsPdf:"Експортиране на видимите данни като pdf",exporterSelectedAsPdf:"Експортиране на избраните данни като pdf",clearAllFilters:"Премахни всички филтри"},importer:{noHeaders:"Имената на колоните не успяха да бъдат извлечени, файлът има ли хедър?",noObjects:"Обектите не успяха да бъдат извлечени, файлът съдържа ли данни, различни от хедър?",invalidCsv:"Файлът не може да бъде обработеб, уверете се, че е валиден CSV файл",invalidJson:"Файлът не може да бъде обработеб, уверете се, че е валиден JSON файл",jsonNotArray:"Импортираният JSON файл трябва да съдържа масив, прекратяване."},pagination:{aria:{pageToFirst:"Към първа страница",pageBack:"Страница назад",pageSelected:"Избрана страница",pageForward:"Страница напред",pageToLast:"Към последна страница"},sizes:"обекта на страница",totalItems:"обекта",through:"до",of:"от"},grouping:{group:"Групиране",ungroup:"Премахване на групирането",aggregate_count:"Сбор: Брой",aggregate_sum:"Сбор: Сума",aggregate_max:"Сбор: Максимум",aggregate_min:"Сбор: Минимум",aggregate_avg:"Сбор: Средно",aggregate_remove:"Сбор: Премахване"},validate:{error:"Грешка:",minLength:"Стойността трябва да съдържа поне THRESHOLD символа.",maxLength:"Стойността не трябва да съдържа повече от THRESHOLD символа.",required:"Необходима е стойност."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",exporterAllAsExcel:"Exportovat všechna data do excel",exporterVisibleAsExcel:"Exportovat viditelná data do excel",exporterSelectedAsExcel:"Exportovat vybraná data do excel",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rækker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter markerede data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Gå til første",pageBack:"Gå tilbage",pageSelected:"Valgte side",pageForward:"Gå frem",pageToLast:"Gå til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter für Spalte",removeFilter:"Filter löschen",columnMenuButtonLabel:"Spaltenmenü",column:"Spalte"},priority:"Priorität:",filterLabel:"Filter für Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{aria:{selected:"Zeile markiert",notSelected:"Zeile nicht markiert"},placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},columnMenu:{close:"Schließen"},gridMenu:{aria:{buttonLabel:"Tabellenmenü"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",exporterAllAsExcel:"Alle Daten als Excel exportieren",exporterVisibleAsExcel:"sichtbare Daten als Excel exportiere",exporterSelectedAsExcel:"markierte Daten als Excel exportieren",clearAllFilters:"Alle Filter zurücksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurück",pageSelected:"Ausgwählte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Einträge pro Seite",totalItems:"Einträgen",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu",column:"Column"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{aria:{selected:"Row selected",notSelected:"Row not selected"},placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",exporterAllAsExcel:"Exportar todo como excel",exporterVisibleAsExcel:"Exportar vista como excel",exporterSelectedAsExcel:"Exportar selección como excel",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",exporterAllAsExcel:"Vie tiedot excel-muodossa",exporterVisibleAsExcel:"Vie näkyvä tieto excel-muodossa",exporterSelectedAsExcel:"Vie valittu tieto excel-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorité:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",exporterAllAsExcel:"Exporter toutes les données en Excel",exporterVisibleAsExcel:"Exporter les données visibles en Excel",exporterSelectedAsExcel:"Exporter les données sélectionnées en Excel",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller à la première page",pageBack:"Page précédente",pageSelected:"Page sélectionnée",pageForward:"Page suivante",pageToLast:"Aller à la dernière page"},sizes:"éléments par page",totalItems:"éléments",through:"à",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit être supérieure ou égale à THRESHOLD caractères.",maxLength:"La valeur doit être inférieure ou égale à THRESHOLD caractères.",required:"Une valeur est nécéssaire."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",exporterAllAsExcel:"Արտահանել excel",exporterVisibleAsExcel:"Արտահանել երևացող տվյալները excel",exporterSelectedAsExcel:"Արտահանել ընտրված տվյալները excel",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("is",{headerCell:{aria:{defaultFilterLabel:"Sía fyrir dálk",removeFilter:"Fjarlægja síu",columnMenuButtonLabel:"Dálkavalmynd"},priority:"Forgangsröðun:",filterLabel:"Sía fyrir dálka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Dragðu dálkhaus hingað til að flokka saman eftir þeim dálki."},search:{placeholder:"Leita...",showingItems:"Sýni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"Stærð síðu:",first:"Fyrsta síða",next:"Næsta síða",previous:"Fyrri síða",last:"Síðasta síða"},menu:{text:"Veldu dálka:"},sort:{ascending:"Raða hækkandi",descending:"Raða lækkandi",none:"Engin röðun",remove:"Fjarlægja röðun"},column:{hide:"Fela dálk"},aggregation:{count:"fjöldi raða: ",sum:"summa: ",avg:"meðaltal: ",min:"lágmark: ",max:"hámark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til hægri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"Töflu valmynd"},columns:"Dálkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja út gögn sem csv",exporterVisibleAsCsv:"Flytja út sýnileg gögn sem csv",exporterSelectedAsCsv:"Flytja út valin gögn sem csv",exporterAllAsPdf:"Flytja út öll gögn sem pdf",exporterVisibleAsPdf:"Flytja út sýnileg gögn sem pdf",exporterSelectedAsPdf:"Flytja út valin gögn sem pdf",clearAllFilters:"Hreinsa allar síur"},importer:{noHeaders:"Ekki hægt að vinna dálkanöfn úr skjalinu, er skjalið örugglega með haus?",noObjects:"Ekki hægt að vinna hluti úr skjalinu, voru örugglega gögn í skjalinu önnur en hausinn?",invalidCsv:"Tókst ekki að vinna skjal, er það örggulega gilt CSV?",invalidJson:"Tókst ekki að vinna skjal, er það örugglega gilt Json?",jsonNotArray:"Innflutt json skjal verður að innihalda fylki, hætti við."},pagination:{aria:{pageToFirst:"Fletta að fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin síða",pageForward:"Fletta áfram",pageToLast:"Fletta að síðustu"},sizes:"hlutir á síðu",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurliða",aggregate_count:"Fjöldi: ",aggregate_sum:"Summa: ",aggregate_max:"Hámark: ",aggregate_min:"Lágmark: ",aggregate_avg:"Meðaltal: ",aggregate_remove:"Fjarlægja: "},validate:{error:"Villa:",minLength:"Gildi ætti að vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi ætti að vera í mesta lagi THRESHOLD stafa langt.",required:"Þarf að hafa gildi."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",exporterAllAsExcel:"Esporta tutti i dati in excel",exporterVisibleAsExcel:"Esporta i dati visibili in excel",exporterSelectedAsExcel:"Esporta i dati selezionati in excel",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{headerCell:{aria:{defaultFilterLabel:"列のフィルター",removeFilter:"フィルターの解除",columnMenuButtonLabel:"列のメニュー"},priority:"優先度:",filterLabel:"列フィルター: "},aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",none:"並べ替え無し",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},columnMenu:{close:"閉じる"},gridMenu:{aria:{buttonLabel:"グリッドメニュー"},columns:"列の表示/非表示:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタをクリア"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{aria:{pageToFirst:"最初のページ",pageBack:"前のページ",pageSelected:"現在のページ",pageForward:"次のページ",pageToLast:"最後のページ"},sizes:"項目/ページ",totalItems:"項目",through:"から",of:"項目/全"},grouping:{group:"グループ化",ungroup:"グループ化の解除",aggregate_count:"集計表示: 行数",aggregate_sum:"集計表示: 合計",aggregate_max:"集計表示: 最大",aggregate_min:"集計表示: 最小",aggregate_avg:"集計表示: 平均",aggregate_remove:"集計表示: 解除"},validate:{error:"Error:",minLength:"THRESHOLD 文字以上で入力してください。",maxLength:"THRESHOLD 文字以下で入力してください。",required:"値が必要です。"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",exporterAllAsExcel:"Exporteer alle data als excel",exporterVisibleAsExcel:"Exporteer zichtbare data als excel",exporterSelectedAsExcel:"Exporteer alle data als excel",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for å gruppere etter den kolonnen."},search:{placeholder:"Søk...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidestørrelse:",first:"Første side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til høyre",unpin:"Løsne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter utvalgte data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil må inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"Gå til første side",pageBack:"Gå til forrige side",pageSelected:"Valgte side",pageForward:"Gå til neste side",pageToLast:"Gå til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usuń filtr",columnMenuButtonLabel:"Opcje kolumny",column:"Kolumna"},priority:"Priorytet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeciągnij nagłówek kolumny tutaj, aby pogrupować według niej."},search:{aria:{selected:"Wiersz zaznaczony",notSelected:"Wiersz niezaznaczony"},placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Następna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnąco",descending:"Sortuj malejąco",none:"Brak sortowania",remove:"Wyłącz sortowanie"},column:{hide:"Ukryj kolumnę"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"Średnia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",exporterAllAsExcel:"Eksportuj wszystkie dane do excel",exporterVisibleAsExcel:"Eksportuj widoczne dane do excel",exporterSelectedAsExcel:"Eksportuj zaznaczone dane do excel",clearAllFilters:"Wyczyść filtry"},importer:{noHeaders:"Nie udało się wczytać nazw kolumn. Czy plik posiada nagłówek?",noObjects:"Nie udalo się wczytać pozycji. Czy plik zawiera dane?",invalidCsv:"Nie udało się przetworzyć pliku. Czy to prawidłowy plik CSV?",invalidJson:"Nie udało się przetworzyć pliku. Czy to prawidłowy plik JSON?",jsonNotArray:"Importowany plik JSON musi zawierać tablicę. Importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Następna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stronę",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: Średnia",aggregate_remove:"Zbiorczo: Usuń"},validate:{error:"Błąd:",minLength:"Wartość powinna składać się z co najmniej THRESHOLD znaków.",maxLength:"Wartość powinna składać się z przynajmniej THRESHOLD znaków.",required:"Wartość jest wymagana."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Próxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:"Фильтр столбца",removeFilter:"Удалить фильтр",columnMenuButtonLabel:"Меню столбца"},priority:"Приоритет:",filterLabel:"Фильтр столбца: "},aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",none:"Без сортировки",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},columnMenu:{close:"Закрыть"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Столбцы:",importerTitle:"Импортировать файл",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Не удалось получить названия столбцов, есть ли в файле заголовок?",noObjects:"Не удалось получить данные, есть ли в файле строки кроме заголовка?",invalidCsv:"Не удалось обработать файл, это правильный CSV-файл?",invalidJson:"Не удалось обработать файл, это правильный JSON?",jsonNotArray:"Импортируемый JSON-файл должен содержать массив, операция отменена."},pagination:{aria:{pageToFirst:"Первая страница",pageBack:"Предыдущая страница",pageSelected:"Выбранная страница",pageForward:"Следующая страница",pageToLast:"Последняя страница"},sizes:"строк на страницу",totalItems:"строк",through:"по",of:"из"},grouping:{group:"Группировать",ungroup:"Разгруппировать",aggregate_count:"Группировать: Count",aggregate_sum:"Для группы: Сумма",aggregate_max:"Для группы: Максимум",aggregate_min:"Для группы: Минимум",aggregate_avg:"Для группы: Среднее",aggregate_remove:"Для группы: Пусто"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Sütun için filtre",removeFilter:"Filtreyi Kaldır",columnMenuButtonLabel:"Sütun Menüsü"},priority:"Öncelik:",filterLabel:"Sütun için filtre: "},aggregate:{label:"kayıtlar"},groupPanel:{description:"Sütuna göre gruplamak için sütun başlığını buraya sürükleyin ve bırakın."},search:{placeholder:"Arama...",showingItems:"Gösterilen Kayıt:",selectedItems:"Seçili Kayıt:",totalItems:"Toplam Kayıt:",size:"Sayfa Boyutu:",first:"İlk Sayfa",next:"Sonraki Sayfa",previous:"Önceki Sayfa",last:"Son Sayfa"},menu:{text:"Sütunları Seç:"},sort:{ascending:"Artan Sırada Sırala",descending:"Azalan Sırada Sırala",none:"Sıralama Yapma",remove:"Sıralamayı Kaldır"},column:{hide:"Sütunu Gizle"},aggregation:{count:"toplam satır: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sağa Sabitle",unpin:"Sabitlemeyi Kaldır"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Menü"},columns:"Sütunlar:",importerTitle:"Dosya içeri aktar",exporterAllAsCsv:"Bütün veriyi CSV olarak dışarı aktar",exporterVisibleAsCsv:"Görünen veriyi CSV olarak dışarı aktar",exporterSelectedAsCsv:"Seçili veriyi CSV olarak dışarı aktar",exporterAllAsPdf:"Bütün veriyi PDF olarak dışarı aktar",exporterVisibleAsPdf:"Görünen veriyi PDF olarak dışarı aktar",exporterSelectedAsPdf:"Seçili veriyi PDF olarak dışarı aktar",clearAllFilters:"Bütün filtreleri kaldır"},importer:{noHeaders:"Sütun isimleri üretilemiyor, dosyanın bir başlığı var mı?",noObjects:"Nesneler üretilemiyor, dosyada başlıktan başka bir veri var mı?",invalidCsv:"Dosya işlenemedi, geçerli bir CSV dosyası mı?",invalidJson:"Dosya işlenemedi, geçerli bir Json dosyası mı?",jsonNotArray:"Alınan Json dosyasında bir dizi bulunmalıdır, işlem iptal ediliyor."},pagination:{aria:{pageToFirst:"İlk sayfaya",pageBack:"Geri git",pageSelected:"Seçili sayfa",pageForward:"İleri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne sayısı",totalItems:"kayıtlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Sayı",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ua",{headerCell:{aria:{defaultFilterLabel:"Фільтр стовпчика",removeFilter:"Видалити фільтр",columnMenuButtonLabel:"Меню ствпчика"},priority:"Пріоритет:",filterLabel:"Фільтр стовпчика: "},aggregate:{label:"елементи"},groupPanel:{description:"Для групування за стовпчиком перетягніть сюди його назву."},search:{placeholder:"Пошук...",showingItems:"Показати елементи:",selectedItems:"Обрані елементи:",totalItems:"Усього елементів:",size:"Розмір сторінки:",first:"Перша сторінка",next:"Наступна сторінка",previous:"Попередня сторінка",last:"Остання сторінка"},menu:{text:"Обрати ствпчики:"},sort:{ascending:"За зростанням",descending:"За спаданням",none:"Без сортування",remove:"Прибрати сортування"},column:{hide:"Приховати стовпчик"},aggregation:{count:"усього рядків: ",sum:"ітого: ",avg:"середнє: ",min:"мін: ",max:"макс: "},pinning:{pinLeft:"Закріпити ліворуч",pinRight:"Закріпити праворуч",unpin:"Відкріпити"},columnMenu:{close:"Закрити"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Стовпчики:",importerTitle:"Імпортувати файл",exporterAllAsCsv:"Експортувати все в CSV",exporterVisibleAsCsv:"Експортувати видимі дані в CSV",exporterSelectedAsCsv:"Експортувати обрані дані в CSV",exporterAllAsPdf:"Експортувати все в PDF",exporterVisibleAsPdf:"Експортувати видимі дані в PDF",exporterSelectedAsPdf:"Експортувати обрані дані в PDF",clearAllFilters:"Очистити всі фільтри"},importer:{noHeaders:"Не вдалося отримати назви стовпчиків, чи є в файлі заголовок?",noObjects:"Не вдалося отримати дані, чи є в файлі рядки окрім заголовка?",invalidCsv:"Не вдалося обробити файл, чи це коректний CSV-файл?",invalidJson:"Не вдалося обробити файл, чи це коректний JSON?",jsonNotArray:"JSON-файл що імпортується повинен містити масив, операцію скасовано."},pagination:{aria:{pageToFirst:"Перша сторінка",pageBack:"Попередня сторінка",pageSelected:"Обрана сторінка",pageForward:"Наступна сторінка",pageToLast:"Остання сторінка"},sizes:"рядків на сторінку",totalItems:"рядків",through:"по",of:"з"},grouping:{group:"Групувати",ungroup:"Розгрупувати",aggregate_count:"Групувати: Кількість",aggregate_sum:"Для групи: Сума",aggregate_max:"Для групи: Максимум",aggregate_min:"Для групи: Мінімум",aggregate_avg:"Для групи: Серднє",aggregate_remove:"Для групи: Пусто"}}),e}])}]),function(){var e=["uiT","uiTranslate"],t=angular.module("ui.grid.i18n");t.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),t.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var i={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&i.add(e,t)}):i.add(e,t)},getAllLangs:function(){return i.getAllLangs()},get:function(e){var t=e||r.getCurrentLang();return i.get(t)},getSafeText:function(e,n){var o=n||r.getCurrentLang(),a=i.get(o);if(!a)return t.MISSING;for(var s=e.split("."),l=a,c=0;c<s.length;++c){if(void 0===l[s[c]]||null===l[s[c]])return t.MISSING;l=l[s[c]]}return l},setCurrentLang:function(e){e&&(i.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=i.getCurrentLang();return e||(e=t.DEFAULT_LANG,i.setCurrent(e)),e}};return r}]),t.directive("uiI18n",["i18nService","i18nConstants",function(e,t){return{compile:function(){return{pre:function(n,i,r){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(r[o]);a?n.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}}]);var n=function(t,n,i){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var s,l=e[0],c=e[1],u=a[l]||a[c]||o.html(),d=i.MISSING+u;if(a.$$observers){var p=a[l]?l:c;s=a.$observe(p,function(e){e&&o.html(t(e)(n.getCurrentLang())||d)})}var h=t(u),m=r.$on(i.UPDATE_EVENT,function(e){s?s(a[l]||a[c]):o.html(h(n.get())||d)});r.$on("$destroy",m),o.html(h(n.get())||d)}}}}};angular.forEach(e,function(e){t.directive(e,["$parse","i18nService","i18nConstants",n])});var i=function(e,t,n){return function(i){return e(i)(t.get())||n.MISSING+i}};angular.forEach(["t","uiTranslate"],function(e){t.filter(e,["$parse","i18nService","i18nConstants",i])})}(),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}]),function(){"use strict";angular.module("ui.grid.autoResize",["ui.grid"]).directive("uiGridAutoResize",["gridUtil",function(e){return{require:"uiGrid",scope:!1,link:function(t,n,i,r){var o,a,s=e.throttle(function(){o=e.elementWidth(n)},200),l=e.throttle(function(){a=e.elementHeight(n)},200),c=e.throttle(function(e,t){r.grid.gridWidth=e,r.grid.gridHeight=t,r.grid.refresh()},300);t.$watchGroup([function(){return s(),o},function(){return l(),a}],function(e,t,n){angular.equals(e,t)||c(e[0],e[1])})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,n,i,r){var o=function(e,t,n,i){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=i?i.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){return this.leftColumns.concat(this.columns,this.rightColumns).filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return!1!==e.allowCellFocus})},o.prototype.getNextRowCol=function(e,t,i){switch(e){case n.direction.LEFT:return this.getRowColLeft(t,i);case n.direction.RIGHT:return this.getRowColRight(t,i);case n.direction.UP:return this.getRowColUp(t,i);case n.direction.DOWN:return this.getRowColDown(t,i);case n.direction.PG_UP:return this.getRowColPageUp(t,i);case n.direction.PG_DOWN:return this.getRowColPageDown(t,i)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();return 0===e.length||0===t.length?null:new i(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=1);var s=0===o?n.length-1:o-1;return new i(s>=o?0===a?e:r[a-1]:e,n[s])},o.prototype.getRowColRight=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=o===n.length-1?0:o+1;return s<=o?a===r.length-1?new i(e,n[s]):new i(r[a+1],n[s]):new i(e,n[s])},o.prototype.getRowColDown=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),a===r.length-1?new i(e,n[o]):new i(r[a+1],n[o])},o.prototype.getRowColPageDown=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=r.length-s?new i(r[r.length-1],n[o]):new i(r[a+s],n[o])},o.prototype.getRowColUp=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),new i(0===a?e:r[a-1],n[o])},o.prototype.getRowColPageUp=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return new i(a-s<0?r[0]:r[a-s],n[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,n,i,r,o,a){var s={initializeGrid:function(e){e.registerColumnBuilder(s.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],s.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,n){return s.scrollToFocus(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,i=0;i<e.cellNav.focusedCells.length;i++)if(e.cellNav.focusedCells[i].col.uid===t.col.uid&&e.cellNav.focusedCells[i].row.uid===t.row.uid){n=i;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=!0===e.modifierKeysToMultiSelectCells,e.keyDownOverrides=e.keyDownOverrides||[]},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,n){return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,i.all([])},scrollToFocus:function(e,t,n){var i=null,r=null;return void 0!==t&&null!==t&&(i=e.getRow(t)),void 0!==n&&null!==n&&(r=e.getColumn(n.name?n.name:n.field)),e.api.core.scrollToIfNecessary(i,r).then(function(){var t={row:i,col:r};null!==i&&null!==r&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var i=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){t<i&&(n+=e.drawnWidth)});var r=0===i?0:(i+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*r}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile","i18nService",function(e,t,n,i,r,o,a,s){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,s){var l=e,c=s.grid;t.initializeGrid(c),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof r||(e=new r(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");if(e.length>0)return e[0]},s.cellNav.broadcastCellNav=c.cellNav.broadcastCellNav=function(e,t,i){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,i),l.$broadcast(n.CELL_NAV_EVENT,e,t,i)},s.cellNav.clearFocus=c.cellNav.clearFocus=function(){c.cellNav.focusedCells=[],l.$broadcast(n.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,n){t=!(void 0===t||!t);var i=(e=s.cellNav.makeRowCol(e)).row,o=e.col,a=s.grid.api.cellNav.rowColSelectIndex(e);if(null===c.cellNav.lastRowCol||-1===a||c.cellNav.lastRowCol.col===o&&c.cellNav.lastRowCol.row===i){var l=new r(i,o);(null===c.cellNav.lastRowCol||c.cellNav.lastRowCol.row!==l.row||c.cellNav.lastRowCol.col!==l.col||c.options.enableCellEditOnFocus)&&(c.api.cellNav.raise.navigate(l,c.cellNav.lastRowCol,n),c.cellNav.lastRowCol=l),s.grid.options.modifierKeysToMultiSelectCells&&t?c.cellNav.focusedCells.push(e):c.cellNav.focusedCells=[e]}else c.options.modifierKeysToMultiSelectCells&&t&&a>=0&&c.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(e){var r=t.getDirection(e);if(null===r)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[o].cellNav.getNextRowCol(r,a.row,a.col),u=s.grid.renderContainers[o].cellNav.getFocusableCols(),d=s.grid.api.cellNav.rowColSelectIndex(l);return r===n.direction.LEFT&&l.col===u[u.length-1]&&l.row===a.row&&e.keyCode===i.keymap.TAB&&e.shiftKey?(c.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0):r!==n.direction.RIGHT||l.col!==u[0]||l.row!==a.row||e.keyCode!==i.keymap.TAB||e.shiftKey?(c.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l,null,e)}),e.stopPropagation(),e.preventDefault(),!1):(c.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,i,r){var o,l,c=r.grid,u=!0;try{angular.module("ngAria")}catch(e){u=!1}u&&(o='<div id="'+c.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="alert" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',l=a(o)(e),t.prepend(l),e.$on(n.CELL_NAV_EVENT,function(e,t,n,i){if(!i||"focus"!==i.type){for(var r,o,a=[],u=c.api.cellNav.getCurrentSelection(),d=0;d<u.length;d++){var p=("selectionRowHeaderCol"===(o=u[d]).col.field?o.row.isSelected?s.getSafeText("search.aria.selected"):s.getSafeText("search.aria.notSelected"):c.getCellDisplayValue(o.row,o.col))+(r=u[d].col,", "+s.getSafeText("headerCell.aria.column")+" "+r.displayName);a.push(p)}var h;(h=a.toString())!==l.text().trim()&&(l[0].style.clip="rect(0px,0px,0px,0px)",l[0].innerHTML="",l[0].style.visibility="hidden",l[0].style.visibility="visible",""!==h&&(l[0].style.clip="auto",l[0].appendChild(document.createTextNode(h+" ")),l[0].style.visibility="hidden",l[0].style.visibility="visible"))}}))}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,n,i,r,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,i,s,l){var c=l[0],u=l[1],d=l[2];if(c.grid.api.cellNav){var p=u.containerId,h=c.grid;if(r.decorateRenderContainers(h),"body"===p){c.grid.options.modifierKeysToMultiSelectCells?i.attr("aria-multiselectable",!0):i.attr("aria-multiselectable",!1);var m=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+h.id+"-aria-speakable "+h.id+'-grid-container" aria-owns="'+h.id+'-grid-container"></div>')(t);i.append(m),m.on("focus",function(e){e.uiGridTargetRenderContainerId=p;var t=c.grid.api.cellNav.getFocusedCell();null===t&&(t=c.grid.renderContainers[p].cellNav.getNextRowCol(a.direction.DOWN,null,null)).row&&t.col&&c.cellNav.broadcastCellNav(t)}),d.setAriaActivedescendant=function(e){i.attr("aria-activedescendant",e)},d.removeAriaActivedescendant=function(e){i.attr("aria-activedescendant")===e&&i.attr("aria-activedescendant","")},c.focus=function(){n.focus.byElement(m[0])};var f=null;m.on("keydown",function(e){e.uiGridTargetRenderContainerId=p;var t=c.grid.api.cellNav.getFocusedCell();null===(c.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(n){return t[n]===e[n]})})?null:c.cellNav.handleKeyDown(e))&&(c.grid.api.cellNav.raise.viewPortKeyDown(e,t,c.cellNav.handleKeyDown),f=t)}),m.on("keypress",function(t){f&&(e(function(){c.grid.api.cellNav.raise.viewPortKeyPress(t,f)},4),f=null)}),t.$on("$destroy",function(){m.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,n,i,r,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,n,i){},post:function(e,t,n,i){var r=i[0],o=i[1];if(r.grid.api.cellNav&&"body"===o.containerId){var a=r.grid;a.api.core.on.scrollBegin(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.clearFocus()}),a.api.core.on.scrollEnd(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.broadcastCellNav(t)}),a.api.cellNav.on.navigate(e,function(){r.focus()})}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,n,i,r,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(e,t,n,i){function s(e){e.preventDefault()}function l(){p.cellNav.focusedCells.some(function(t,n){return t.row===e.row&&t.col===e.col})?function(){if(!e.focused){t.find("div").addClass("ui-grid-cell-focus"),t.attr("aria-selected",!0),d.setAriaActivedescendant(t.attr("id")),e.focused=!0}}():c()}function c(){e.focused&&(t.find("div").removeClass("ui-grid-cell-focus"),t.attr("aria-selected",!1),d.removeAriaActivedescendant(t.attr("id")),e.focused=!1)}var u=i[0],d=i[1];if(u.grid.api.cellNav&&e.col.colDef.allowCellFocus){var p=u.grid;e.focused=!1,t.attr("tabindex",-1),t.find("div").on("click",function(t){u.cellNav.broadcastCellNav(new a(e.row,e.col),t.ctrlKey||t.metaKey,t),t.stopPropagation(),e.$apply()}),t.on("mousedown",s),u.grid.api.edit&&(u.grid.api.edit.on.beginCellEdit(e,function(){t.off("mousedown",s)}),u.grid.api.edit.on.afterCellEdit(e,function(){t.on("mousedown",s)}),u.grid.api.edit.on.cancelCellEdit(e,function(){t.on("mousedown",s)})),l(),t.on("focus",function(t){u.cellNav.broadcastCellNav(new a(e.row,e.col),!1,t),t.stopPropagation(),e.$apply()}),e.$on(r.CELL_NAV_EVENT,l);var h=u.grid.registerDataChangeCallback(function(t){c(),e.$applyAsync(l)},[o.dataChange.ROW]);e.$on("$destroy",function(){h(),t.find("div").off(),t.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,n){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.editColumnBuilder),e.edit={},e.api.registerEventsFromObject({edit:{afterCellEdit:function(e,t,n,i){},beginCellEdit:function(e,t,n){},cancelCellEdit:function(e,t){}}})},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(t,i,r){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===r.enableCellEdit?"object"!==t.type:r.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?r.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(t.editableCellTemplate).then(function(e){i.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?r.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return i}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,n,i,r){var o=r[0];o.grid.api.edit&&o.grid.api.cellNav&&"body"===r[1].containerId&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,n,i,r,o,a,s,l,c){return t.has("uiGridCellNavService")&&t.get("uiGridCellNavService"),{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,u,d,p){function h(){u.on("dblclick",b),u.on("touchstart",m),p&&p.grid.api.cellNav&&(A=p.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&(n.row!==t.row||n.col!==t.col||t.col.colDef.enableCellEditOnFocus||v(e))}),T=p.grid.api.cellNav.on.navigate(t,function(e,i,r){t.col.colDef.enableCellEditOnFocus&&(e.row!==t.row||e.col!==t.col||r&&(!r||"click"!==r.type&&"keydown"!==r.type)||n(function(){b(r)}))})),t.beginEditEventsWired=!0}function m(e){void 0!==e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),u.on("touchend",f),(x=n(function(){},500)).then(function(){setTimeout(b,0),u.off("touchend",f)})}function f(e){n.cancel(x),u.off("touchend",f)}function g(){u.off("dblclick",b),u.off("keydown",v),u.off("touchstart",m),T(),A(),t.beginEditEventsWired=!1}function v(e){s.isStartEditKey(e)&&b(e)}function b(s){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){!function(s){if(!_&&function(e,n,i){return!n.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t,i):e.colDef.cellEditableCondition)}(t.col,t.row,s)){var d=t.row.getQualifiedColField(t.col);t.col.colDef.editModelField&&(d=o.preEval("row.entity."+t.col.colDef.editModelField)),E=a(d),C=E(t),w=(w=(w=t.col.editableCellTemplate).replace(i.MODEL_COL_FIELD,d)).replace(i.COL_FIELD,"grid.getCellValue(row, col)");var p=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";w=w.replace(i.CUSTOM_FILTERS,p);var h="text";switch(t.col.colDef.type){case"boolean":h="checkbox";break;case"number":h="number";break;case"date":h="date"}w=w.replace("INPUT_TYPE",h);var m=t.col.colDef.editDropdownOptionsFunction;if(m)c.when(m(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var f=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=f?function(e,t){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");n.length;){var i=n.shift();if(!(i in e))return;e=e[i]}return e}(t.row.entity,f):t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var v=function(){_=!0,g();var n=angular.element(w);u.append(n),S=t.$new(),e(n)(S),angular.element(u.children()[0]).addClass("ui-grid-cell-contents-hidden")};l.$$phase?v():t.$apply(v);var b=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(y(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,E(t),C),b(),x(),T())}),x=t.$on(r.events.END_CELL_EDIT,function(){y(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,E(t),C),x(),b(),T()}),T=t.$on(r.events.CANCEL_CELL_EDIT,function(){!function(){t.grid.disableScrolling=!1,_&&(E.assign(t,C),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),y())}(),T(),b(),x()});t.$broadcast(r.events.BEGIN_CELL_EDIT,s),n(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,s)})}}(s)})}function y(){if(t.grid.disableScrolling=!1,_){p&&p.grid.api.cellNav&&p.focus();var e=angular.element(u.children()[0]);S.$destroy();for(var n=u.children(),r=1;r<n.length;r++)angular.element(n[r]).remove();e.removeClass("ui-grid-cell-contents-hidden"),_=!1,h(),t.grid.api.core.notifyDataChange(i.dataChange.EDIT)}}var w,C,E,x,S,_=!1;if(t.col.colDef.enableCellEdit){var T=function(){},A=function(){},k=function(){t.col.colDef.enableCellEdit&&!1!==t.row.enableCellEdit?t.beginEditEventsWired||h():t.beginEditEventsWired&&g()};k();var $=t.$watch("row",function(e,t){e!==t&&k()});t.$on("$destroy",function(){$(),u.off()})}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,n,i,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,n){},post:function(e,o,a,s){var l,c,u;s[0]&&(l=s[0]),s[1]&&(c=s[1]),s[2]&&(u=s[2]),e.$on(n.events.BEGIN_CELL_EDIT,function(t,n){if(i(function(){if(o[0].focus(),!o[0].select||!e.col.colDef.enableCellEditOnFocus&&l&&l.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(e){}else o[0].select()}),l&&l.grid.api.cellNav)var a=l.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){if(r.isStartEditKey(e)){var n="number"==typeof e.which?e.which:e.keyCode;n>0&&(u.$setViewValue(String.fromCharCode(n),e),u.$render())}a()});o.on("mousedown",function(t){"checkbox"===o[0].type&&(o.off("blur",e.stopEdit),i(function(){o[0].focus(),o.on("blur",e.stopEdit)}))}),o.on("blur",e.stopEdit)}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,e.$applyAsync(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(i){switch(i.keyCode){case t.keymap.ESC:i.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||i.keyCode!==t.keymap.LEFT&&i.keyCode!==t.keymap.RIGHT&&i.keyCode!==t.keymap.UP&&i.keyCode!==t.keymap.DOWN)if(l&&l.grid.api.cellNav)i.uiGridTargetRenderContainerId=c.containerId,null!==l.cellNav.handleKeyDown(i)&&e.stopEdit(i);else switch(i.keyCode){case t.keymap.ENTER:case t.keymap.TAB:i.stopPropagation(),i.preventDefault(),e.stopEdit(i)}else i.stopPropagation();return!0}),e.$on("$destroy",function(){o.off()})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){return{priority:-100,require:"?ngModel",link:function(t,n,i,r){2===angular.version.minor&&i.type&&"date"===i.type&&r&&(r.$formatters.push(function(t){return r.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),r.$parsers.push(function(e){if(e&&e.length>0){var t=function(e){if(void 0===e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);return i<1||n<1||r<1?null:new Date(n,i-1,r)}(e);return r.$setValidity(null,t&&!isNaN(t.getTime())),t}return r.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,n){},post:function(i,r,o,a){var s=a[0],l=a[1];i.$on(t.events.BEGIN_CELL_EDIT,function(){n(function(){r[0].focus()}),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){i.stopEdit(e)})}),i.stopEdit=function(e){i.$emit(t.events.END_CELL_EDIT)},r.on("keydown",function(n){switch(n.keyCode){case e.keymap.ESC:n.stopPropagation(),i.$emit(t.events.CANCEL_CELL_EDIT)}if(s&&s.grid.api.cellNav)n.uiGridTargetRenderContainerId=l.containerId,null!==s.cellNav.handleKeyDown(n)&&i.stopEdit(n);else switch(n.keyCode){case e.keymap.ENTER:case e.keymap.TAB:n.stopPropagation(),n.preventDefault(),i.stopEdit(n)}return!0}),i.$on("$destroy",function(){r.off()})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,n){},post:function(t,i,r,o){function a(i){var r=i.srcElement||i.target;r&&r.files&&r.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,r.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),r.form.reset(),t.$emit(n.events.END_CELL_EDIT)):t.$emit(n.events.CANCEL_CELL_EDIT)}i[0].addEventListener("change",a,!1),t.$on(n.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].select(),i.on("blur",function(e){t.$emit(n.events.END_CELL_EDIT)})}),t.$on("$destroy",function(){i.off(),i[0].removeEventListener("change",a,!1)})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);e.service("uiGridBaseLayerService",["gridUtil","$compile",function(e,t){return{initializeGrid:function(e,t){e.baseLayer={emptyRows:[]},!1!==e.options.enableEmptyGridBaseLayer&&(e.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(e,t){var n=t.options.rowHeight,i=Math.ceil(e/n);if(i>0){t.baseLayer.emptyRows=[];for(var r=0;r<i;r++)t.baseLayer.emptyRows.push({})}}}}]),e.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(e,t,n){return{require:"^uiGrid",scope:!1,compile:function(e,i){return{pre:function(e,i,r,o){var a=!1===n(r.uiGridEmptyBaseLayer)(e);t.initializeGrid(o.grid,a)},post:function(e,n,i,r){if(r.grid.options.enableEmptyGridBaseLayer){var o=r.grid.renderContainers.body,a=o.getViewportHeight();r.grid.registerStyleComputation({func:function(){var e;return(e=o.getViewportHeight())!==a&&(a=e,1)&&t.setNumberOfEmptyRows(a,r.grid),function(e){return".grid"+r.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+e+"px; }"}(a)}})}}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var i=n.get("ui-grid/emptyBaseLayerContainer");return e.prepend(i),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var n={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=!1!==t.options.enableExpandable,t.options.showExpandAllButton=!1!==t.options.showExpandAllButton,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var i={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var i=t.getRow(e);null!==i&&n.toggleRowExpansion(t,i)},expandAllRows:function(){n.expandAllRows(t)},collapseAllRows:function(){n.collapseAllRows(t)},toggleAllRows:function(){n.toggleAllRows(t)},expandRow:function(e){var i=t.getRow(e);null===i||i.isExpanded||n.toggleRowExpansion(t,i)},collapseRow:function(e){var i=t.getRow(e);null!==i&&i.isExpanded&&n.toggleRowExpansion(t,i)},getExpandedRows:function(){return n.getExpandedRows(t).map(function(e){return e.entity})}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||t.entity.subGridOptions&&t.entity.subGridOptions.disableRowExpandable||n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?n.collapseAllRows(e):n.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return n}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&!1!==o.grid.options.enableExpandableRowHeader){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(e,t,n,i){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){i.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(i.grid.parentRow=e.row)})},post:function(e,t,n,i){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,i,r,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,i,o){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(i){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var a=angular.element(i);t.append(a),a=n(a)(e),e.row.expandedRendered=!0})},post:function(e,t,n,i){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,n,i){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){return"body"===e.colContainer.name&&!1!==e.grid.options.enableExpandable&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered)},e.expandableRow.shouldRenderFiller=function(){return e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered)})},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),r=n.get("ui-grid/expandableScrollFiller"),o=n.get("ui-grid/expandableRow");return i.append(o),i.append(r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,i,r,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){a.csvExport(e,t,n)},pdfExport:function(t,n){a.pdfExport(e,t,n)},excelExport:function(t,n){a.excelExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):r(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=!0===e.exporterSuppressMenu,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=!0===e.exporterOlderExcelCompatibility,e.exporterIsExcelCompatible=!0===e.exporterIsExcelCompatible,e.exporterMenuItemOrder=e.exporterMenuItemOrder?e.exporterMenuItemOrder:200,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0===e.exporterMenuAllData||e.exporterMenuAllData,e.exporterMenuVisibleData=void 0===e.exporterMenuVisibleData||e.exporterMenuVisibleData,e.exporterMenuSelectedData=void 0===e.exporterMenuSelectedData||e.exporterMenuSelectedData,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf,e.exporterMenuExcel=void 0===e.exporterMenuExcel||e.exporterMenuExcel,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=!0===e.exporterHeaderFilterUseName,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,i){return i},e.exporterFieldFormatCallback=e.exporterFieldFormatCallback?e.exporterFieldFormatCallback:function(e,t,n,i){return null},e.exporterFieldApplyFilters=!0===e.exporterFieldApplyFilters,e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null===e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(n){e.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(n){e.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+1},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(n){e.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+2},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(n){e.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+3},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(n){e.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+4},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(n){e.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+5},{title:o.getSafeText("gridMenu.exporterAllAsExcel"),action:function(n){e.api.exporter.excelExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+6},{title:o.getSafeText("gridMenu.exporterVisibleAsExcel"),action:function(n){e.api.exporter.excelExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+7},{title:o.getSafeText("gridMenu.exporterSelectedAsExcel"),action:function(n){e.api.exporter.excelExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+8}])},csvExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=e.options.showHeader?i.getColumnHeaders(e,n):[],o=i.getData(e,t,n),a=i.formatAsCsv(r,o,e.options.exporterCsvColumnSeparator);i.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility,e.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(n,i,r){if(i===t.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(e){n.modifyRows(e)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,n){var i,r=[];if(n===t.ALL)i=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],s=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];i=o.concat(a,s)}return i.forEach(function(t,n){if(!0!==t.colDef.exporterSuppressExport&&"$$hashKey"!==t.field&&-1===e.options.exporterSuppressColumns.indexOf(t.name)){var i={name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:t.colDef.align?t.colDef.align:"number"===t.colDef.type?"right":"left"};r.push(i)}}),r},getRowsFromNode:function(e){for(var t=[],n=0;n<e.children.length;n++)if(e.children[n].children&&0===e.children[n].children.length)t.push(e.children[n]);else{var i=this.getRowsFromNode(e.children[n]);t=t.concat(i)}return t},getDataSorted:function(e,t,n,i){if(!e.treeBase||0===e.treeBase.numberLevels)return e.rows;for(var r=[],o=0;o<e.treeBase.tree.length;o++)for(var a=this.getRowsFromNode(e.treeBase.tree[o]),s=0;s<a.length;s++)r.push(a[s].row);return r},getData:function(e,i,r,o){var a,s,l=[];switch(i){case t.ALL:a=this.getDataSorted(e,i,r,o);break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}if(r===t.ALL)s=e.columns;else{var c=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],u=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],d=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];s=c.concat(u,d)}return a.forEach(function(n,i){if(!1!==n.exporterEnableExporting){var a=[];s.forEach(function(i,s){if((i.visible||r===t.ALL)&&!0!==i.colDef.exporterSuppressExport&&"$$hashKey"!==i.field&&-1===e.options.exporterSuppressColumns.indexOf(i.name)){var l=o?e.getCellDisplayValue(n,i):e.getCellValue(n,i),c={value:e.options.exporterFieldCallback(e,n,i,l)},u=e.options.exporterFieldFormatCallback(e,n,i,l);u&&Object.assign(c,u),i.colDef.exporterPdfAlign&&(c.alignment=i.colDef.exporterPdfAlign),a.push(c)}}),l.push(a)}}),l},formatAsCsv:function(e,t,n){var i=e.map(function(e){return{value:e.displayName}}),r=i.length>0?this.formatRowAsCsv(this,n)(i)+"\n":"";return r+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=!1;return-1!==navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/)&&(e=!0),e},downloadFile:function(e,t,n,i,r){var o,a=document,s=a.createElement("a"),l="application/octet-stream;charset=utf-8",c=this.isIE();if(r&&(t="sep="+n+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([i?"\ufeff":"",t],{type:l}),e);if(c){var u=a.createElement("iframe");return document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write(t),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(u),!0}if("download"in s){var d=new Blob([i?"\ufeff":"",t],{type:l});o=URL.createObjectURL(d),s.setAttribute("download",e)}else o="data:"+l+","+encodeURIComponent(t),s.setAttribute("target","_blank");s.href=o,s.setAttribute("style","display:none;"),a.body.appendChild(s),setTimeout(function(){if(s.click)s.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),s.dispatchEvent(e)}a.body.removeChild(s)},this.delay)},pdfExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=i.getColumnHeaders(e,n),o=i.getData(e,t,n),a=i.prepareAsPdf(e,r,o);i.isIE()||-1!==navigator.appVersion.indexOf("Edge")?i.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var n,i,r=document;r.createElement("a"),n=this.isIE(),pdfMake.createPdf(t).getBuffer(function(t){if(i=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(n){var o=r.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(i),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,n){var i=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[r].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:i,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var n=0;t.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var i=0;t.forEach(function(e){if("*"===e.width&&(i+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,i+=e.width}});var r=n+i;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):e.value instanceof Date?JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""):"object"==typeof e.value?e.value:JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t},formatAsExcel:function(e,t,n,i,r){for(var o=e.map(function(e){return{value:e.displayName}}),a=[],s=[],l=0;l<o.length;l++){var c="header";switch(e[l].align){case"center":c="headerCenter";break;case"right":c="headerRight"}var u=r.styles&&r.styles[c]?{style:r.styles[c].id}:null;s.push({value:o[l].value,metadata:u})}a.push(s);for(var d=t.map(this.formatRowAsExcel(this,n,i)),p=0;p<d.length;p++)a.push(d[p]);return a},formatRowAsExcel:function(e,t,n){return function(i){for(var r=[],o=0;o<i.length;o++){var a=e.formatFieldAsExcel(i[o],t,n);r.push({value:a,metadata:i[o].metadata})}return r}},formatFieldAsExcel:function(e,t,n,i){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value)},prepareAsExcel:function(e,t,n){var i={styles:{}};if(e.options.exporterExcelCustomFormatters&&(i=e.options.exporterExcelCustomFormatters(e,t,i)),e.options.exporterExcelHeader)if(angular.isFunction(e.options.exporterExcelHeader))e.options.exporterExcelHeader(e,t,n,i);else{var r=e.options.exporterExcelHeader.text,o=e.options.exporterExcelHeader.style;n.data.push([{value:r,metadata:{style:i.styles[o].id}}])}return i},excelExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=e.options.showHeader?i.getColumnHeaders(e,n):[],o=new ExcelBuilder.Workbook,a=e.options.exporterExcelSheetName?e.options.exporterExcelSheetName:"Sheet1",s=new ExcelBuilder.Worksheet({name:a});o.addWorksheet(s);for(var l=i.prepareAsExcel(e,o,s),c=[],u=e.treeBase?e.treeBase.numberLevels:!1!==e.enableRowSelection?1:0;u<e.columns.length;u++)c.push({width:e.columns[u].drawnWidth/75*10});s.setColumns(c);var d=i.getData(e,t,n,e.options.exporterFieldApplyFilters),p=i.formatAsExcel(r,d,o,s,l);s.setData(s.data.concat(p)),ExcelBuilder.Builder.createFile(o,{type:"blob"}).then(function(t){i.downloadFile(e.options.exporterExcelFilename,t,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility)})})}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,n,i,r,o,a,s,l){var c={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},c.defaultGridOptions(e.options),e.registerRowsProcessor(c.groupRows,400),e.registerColumnBuilder(c.groupingColumnBuilder),e.registerColumnsProcessor(c.groupingColumnProcessor,400);var n={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var n=c.getGrouping(e);return n.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations=n.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(n.rowExpandedStates=c.getRowExpandedStates(e.grouping.groupingHeaderCache)),n},setGrouping:function(t){c.setGrouping(e,t)},groupColumn:function(t){var n=e.getColumn(t);c.groupColumn(e,n)},ungroupColumn:function(t){var n=e.getColumn(t);c.ungroupColumn(e,n)},clearGrouping:function(){c.clearGrouping(e)},aggregateColumn:function(t,n,i){var r=e.getColumn(t);c.aggregateColumn(e,r,n,i)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.sortChanged(t,c.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=!1!==e.enableGrouping,e.groupingShowCounts=!1!==e.groupingShowCounts,e.groupingNullLabel=void 0===e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=!0===e.enableGroupHeaderSelection},groupingColumnBuilder:function(e,i,r){if(!1!==e.enableGrouping){void 0===i.grouping&&void 0!==e.grouping?(i.grouping=angular.copy(e.grouping),void 0!==i.grouping.groupPriority&&i.grouping.groupPriority>-1&&(i.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=c.groupedFinalizerFn)):void 0===i.grouping&&(i.grouping={}),void 0!==i.grouping&&void 0!==i.grouping.groupPriority&&i.grouping.groupPriority>=0&&(i.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return void 0===this.context.col.grouping||void 0===this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){c.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return void 0!==this.context.col.grouping&&void 0!==this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){c.ungroupColumn(this.context.col.grid,this.context.col)}},u={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return void 0!==this.context.col.treeAggregationFn},action:function(){c.aggregateColumn(this.context.col.grid,this.context.col,null)}},d=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var r={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return void 0===this.context.col.treeAggregation||void 0===this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){c.aggregateColumn(this.context.col.grid,this.context.col,e)}};n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregate"+e)||i.menuItems.push(r)};!1!==i.colDef.groupingShowGroupingMenu&&(n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.group")||i.menuItems.push(o),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.ungroup")||i.menuItems.push(s)),!1!==i.colDef.groupingShowAggregationMenu&&(angular.forEach(l.nativeAggregations(),function(e,t){d(t)}),angular.forEach(r.treeCustomAggregations,function(e,t){d(t,e.menuTitle)}),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregateRemove")||i.menuItems.push(u))}},groupingColumnProcessor:function(e,t){return e=c.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){void 0!==e.groupVal?(e.rendered=e.groupVal,this.grid.options.groupingShowCounts&&"date"!==this.colDef.type&&"object"!==this.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,n){return!1===e.options.moveGroupColumns?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,i;return n=e.isRowHeader?e.headerPriority:void 0===e.grouping||void 0===e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,i=t.isRowHeader?t.headerPriority:void 0===t.grouping||void 0===t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===i?-1:null!==i&&null===n?1:null!==n&&null!==i?n-i:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,n){void 0===n.grouping&&(n.grouping={});var i=c.getGrouping(e);n.grouping.groupPriority=i.grouping.length,n.previousSort=angular.copy(n.sort),n.sort?void 0!==n.sort.direction&&null!==n.sort.direction||(n.sort.direction=s.ASC):n.sort={direction:s.ASC},n.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=c.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(n),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){void 0!==t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),c.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh())},aggregateColumn:function(e,t,n){void 0!==t.grouping&&void 0!==t.grouping.groupPriority&&t.grouping.groupPriority>=0&&c.ungroupColumn(e,t);var i={};void 0!==e.options.treeCustomAggregations[n]?i=e.options.treeCustomAggregations[n]:void 0!==l.nativeAggregations()[n]&&(i=l.nativeAggregations()[n]),t.treeAggregation={type:n,label:a.get().aggregation[i.label]||i.label},t.treeAggregationFn=i.aggregationFn,t.treeAggregationFinalizerFn=i.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){void 0!==t&&(c.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var n=e.getColumn(t.colName);n&&c.groupColumn(e,n)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var n=e.getColumn(t.colName);n&&c.aggregateColumn(e,n,t.aggregation.type)}),t.rowExpandedStates&&c.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=c.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),c.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),c.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){void 0!==e&&void 0===e.grid||void 0===this.grid||(e=this.grid);var t=[],n=[];e.columns.forEach(function(e,i){void 0!==e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):void 0!==e.sort&&void 0!==e.sort.priority&&e.sort.priority>=0&&n.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,void 0===e.sort&&(e.sort={}),e.sort.priority=t});var i=t.length;n.sort(function(e,t){return e.sort.priority-t.sort.priority}),n.forEach(function(e,t){e.sort.priority=i,e.suppressRemoveSort=e.colDef.suppressRemoveSort,i++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var n=c.initialiseProcessingState(t),r=function(r,s){var l=t.getCellValue(a,r.col);r.initialised&&0===i.getSortFn(t,r.col,e)(l,r.currentValue)||(c.insertGroupHeader(t,e,o,n,s),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&n.forEach(r)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[];return c.getGrouping(e).grouping.forEach(function(e,n){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e,i){e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,i,a){i[a].fieldName;var s=i[a].col,l=e.getCellValue(t[n],s),u=l;void 0!==l&&null!==l||(u=e.options.groupingNullLabel);for(var d,p=function(e){return angular.isObject(e)?JSON.stringify(e):e},h=e.grouping.oldGroupingHeaderCache,m=0;m<a;m++)h&&h[p(i[m].currentValue)]&&(h=h[p(i[m].currentValue)].children);for(h&&h[p(l)]?(d=h[p(l)].row).entity={}:(d=new r({},null,e),o.rowTemplateAssigner.call(e,d)),d.entity["$$"+i[a].col.uid]={groupVal:u},d.treeLevel=a,d.groupHeader=!0,d.internalRow=!0,d.enableCellEdit=!1,d.enableSelection=e.options.enableGroupHeaderSelection,i[a].initialised=!0,i[a].currentValue=l,i[a].currentRow=d,c.finaliseProcessingState(i,a+1),t.splice(n,0,d),h=e.grouping.groupingHeaderCache,m=0;m<a;m++)h=h[p(i[m].currentValue)].children;h[p(l)]={row:d,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null},getRowExpandedStates:function(e){if(void 0===e)return{};var t={};return angular.forEach(e,function(e,n){t[n]={state:e.row.treeNode.state},e.children?t[n].children=c.getRowExpandedStates(e.children):t[n].children={}}),t},applyRowExpandedStates:function(e,t){void 0!==t&&angular.forEach(t,function(t,n){e[n]&&(e[n].row.treeNode.state=t.state,t.children&&e[n].children&&c.applyRowExpandedStates(e[n].children,t.children))})}};return c}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){!1!==r.grid.options.enableGrouping&&t.initializeGrid(r.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,i,r,o,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(i.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,!0!==e.enableImporter||e.importerDataAddCallback||(i.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=!1!==e.importerShowMenu,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(t){var n=new FileReader;switch(t.type){case"application/json":n.onload=l.importJsonClosure(e);break;default:n.onload=l.importCsvClosure(e)}n.readAsText(t)}else i.logError("No file object provided to importThisFile, should be impossible, aborting")},importJsonClosure:function(e){return function(t){var n,i=[],r=l.parseJson(e,t);null!==r&&(r.forEach(function(t,r){n=l.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),i.push(n)}),l.addObjects(e,i))}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(n){return void l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(n)?n:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=l.parseCsv(t);if(!n||n.length<1)l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);else{var i=l.createCsvObjects(e,n);i&&0!==i.length?l.addObjects(e,i):l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result)}}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var i,r=[];return t.forEach(function(t,o){i=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==n[t]&&(i[n[t]]=e)}),i=e.options.importerObjectCallback(e,i),r.push(i)}),r},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var i=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){i[e]?n.push(i[e]):i[e.toLowerCase()]?n.push(i[e.toLowerCase()]):n.push(null)}),n}return t.forEach(function(e,t){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return t.forEach(function(t,i){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n,i){if(e.api.rowEdit){var r=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),r()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",r)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return void 0!==e.options&&void 0!==e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,r):(s.alert(a.getSafeText(t)),i.logError(n+r))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"?^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,i,r,o){var a,s=i[0].querySelectorAll(".ui-grid-importer-file-chooser");1!==s.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",function(e){var i=e.srcElement||e.target;if(i&&i.files&&1===i.files.length){var r=i.files[0];void 0!==o&&o?(a=o.grid,t.importThisFile(a,r),i.form.reset()):n.logError("Could not import file because UI Grid was not found.")}},!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$rootScope","uiGridConstants","ScrollEvent","$q",function(e,t,n,i,r,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,n){return a.setScrollDirections(e,t,n),a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1})},resetScroll:function(t,n){a.setScrollDirections(e,t,n),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,n){a.dataRemovedTop(e,t,n)},dataRemovedBottom:function(t,n){a.dataRemovedBottom(e,t,n)},setScrollDirections:function(t,n){a.setScrollDirections(e,t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=!1!==e.enableInfiniteScroll,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=!0===e.infiniteScrollUp,e.infiniteScrollDown=!1!==e.infiniteScrollDown},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=!0===t,e.suppressParentScrollUp=!0===t,e.infiniteScroll.scrollDown=!1!==n,e.suppressParentScrollDown=!1!==n},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=i.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=i.scrollDirection.DOWN,a.loadData(e.grid);else{var t=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===i.scrollDirection.UP?e.y.percentage<=t&&a.loadData(e.grid):e.grid.scrollDirection===i.scrollDirection.DOWN&&1-e.y.percentage<=t&&a.loadData(e.grid)}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===i.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===i.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return n.$applyAsync(function(){var r,o,s,l;r=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0);var c=o*(s=e.getVisibleRowCount());e.infiniteScroll.scrollDown&&r>c&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===i.scrollDirection.UP&&(l=(e.infiniteScroll.prevScrollTop||0)+(s-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,l),n.$applyAsync(function(){t.resolve()})),e.infiniteScroll.direction===i.scrollDirection.DOWN&&(l=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-r,a.adjustInfiniteScrollPosition(e,l),n.$applyAsync(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var n=new r(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),i=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=i*e.options.rowHeight-o;0===t&&e.infiniteScroll.scrollUp?n.y={percentage:1/a}:n.y={percentage:t/a},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){var i,r,o,s;a.setScrollDirections(e,t,n),i=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrollTop,s=e.options.rowHeight,o=r-(e.infiniteScroll.previousVisibleRows-i)*s,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,n){var i;a.setScrollDirections(e,t,n),i=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,i)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,n,i){return{pre:function(t,n,i,r){e.initializeGrid(r.grid,t)},post:function(e,t,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$rootScope","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,n,i,r,o){var a={initializeGrid:function(e){this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(this.movableColumnBuilder),e.registerDataChangeCallback(this.verifyColumnOrder,[r.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(e,t,n){}}},methods:{colMovable:{moveColumn:function(n,i){var r=e.columns;if(angular.isNumber(n)&&angular.isNumber(i)){for(var a=0,s=0;s<r.length;s++)(angular.isDefined(r[s].colDef.visible)&&!1===r[s].colDef.visible||!0===r[s].isRowHeader)&&a++;if(n>=r.length-a||i>=r.length-a)o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");else{var l=function(e){for(var t=e,n=0;n<=t;n++)angular.isDefined(r[n])&&(angular.isDefined(r[n].colDef.visible)&&!1===r[n].colDef.visible||!0===r[n].isRowHeader)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(i))}}else o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition")}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=!1!==e.enableColumnMoving},movableColumnBuilder:function(t,n,i){return t.enableColumnMoving=void 0===t.enableColumnMoving?i.enableColumnMoving:t.enableColumnMoving,e.all([])},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,n=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(i,r){if(-1!==(t=e.columns.indexOf(i))&&t-n!==r){var o=e.columns.splice(t,1)[0];e.columns.splice(r+n,0,o)}})},redrawColumnAtPosition:function(e,n,i){var o=e.columns;if(n!==i){for(var s=n<i?n+1:n-1,l=Math.min(s,i);l<=Math.max(s,i)&&!o[l].visible;l++);if(!(l>Math.max(s,i))){var c=o[n];if(c.colDef.enableColumnMoving){if(n>i)for(var u=n;u>i;u--)o[u]=o[u-1];else if(i>n)for(var d=n;d<i;d++)o[d]=o[d+1];o[i]=c,a.updateColumnCache(e),e.queueGridRefresh(),t.$applyAsync(function(){e.api.core.notifyDataChange(r.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(c.colDef,n,i)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,r,o){if(e.col.colDef.enableColumnMoving){var s,l,c,u,d,p,h=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),m=!1,f=!1,g=function(t){s=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(s+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=t.pageX||(t.originalEvent?t.originalEvent.pageX:0),c=0,u=s+e.grid.getViewportWidth(),"mousedown"===t.type?(i.on("mousemove",v),i.on("mouseup",b)):"touchstart"===t.type&&(i.on("touchmove",v),i.on("touchend",b))},v=function(e){var t=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),n=t-l;0!==n&&(document.onselectstart=function(){return!1},f=!0,m?m&&(E(n),l=t):C())},b=function(t){if(document.onselectstart=null,d&&(d.remove(),m=!1),w(),y(),f){for(var i,r=e.grid.columns,o=0,a=0;a<r.length&&r[a].colDef.name!==e.col.colDef.name;a++)o++;if(c<0){var s,l=0;if(e.grid.isRTL()){for(s=o+1;s<r.length;s++)if((angular.isUndefined(r[s].colDef.visible)||!0===r[s].colDef.visible)&&(l+=r[s].drawnWidth||r[s].width||r[s].colDef.width)>Math.abs(c)){n.redrawColumnAtPosition(e.grid,o,s-1);break}}else for(s=o-1;s>=0;s--)if((angular.isUndefined(r[s].colDef.visible)||!0===r[s].colDef.visible)&&(l+=r[s].drawnWidth||r[s].width||r[s].colDef.width)>Math.abs(c)){n.redrawColumnAtPosition(e.grid,o,s+1);break}l<Math.abs(c)&&(i=0,e.grid.isRTL()&&(i=r.length-1),n.redrawColumnAtPosition(e.grid,o,i))}else if(c>0){var u,p=0;if(e.grid.isRTL()){for(u=o-1;u>0;u--)if((angular.isUndefined(r[u].colDef.visible)||!0===r[u].colDef.visible)&&(p+=r[u].drawnWidth||r[u].width||r[u].colDef.width)>c){n.redrawColumnAtPosition(e.grid,o,u);break}}else for(u=o+1;u<r.length;u++)if((angular.isUndefined(r[u].colDef.visible)||!0===r[u].colDef.visible)&&(p+=r[u].drawnWidth||r[u].width||r[u].colDef.width)>c){n.redrawColumnAtPosition(e.grid,o,u-1);break}p<c&&(i=r.length-1,e.grid.isRTL()&&(i=0),n.redrawColumnAtPosition(e.grid,o,i))}}},y=function(){h.on("touchstart",g),h.on("mousedown",g)},w=function(){h.off("touchstart",g),h.off("mousedown",g),i.off("mousemove",v),i.off("touchmove",v),i.off("mouseup",b),i.off("touchend",b)};y();var C=function(){m=!0,d=t.clone(),t.parent().append(d),d.addClass("movingColumn");var n={};n.left=t[0].offsetLeft+"px";var i=e.grid.element[0].getBoundingClientRect().right,r=t[0].getBoundingClientRect().right;r>i&&(p=e.col.drawnWidth+(i-r),n.width=p+"px"),d.css(n)},E=function(t){for(var n=e.grid.columns,i=0,r=0;r<n.length;r++)(angular.isUndefined(n[r].colDef.visible)||!0===n[r].colDef.visible)&&(i+=n[r].drawnWidth||n[r].width||n[r].colDef.width);var l,h=d[0].getBoundingClientRect().left-1,m=d[0].getBoundingClientRect().right;if(l=(l=h-s+t)<u?l:u,(h>=s||t>0)&&(m<=u||t<0))d.css({visibility:"visible",left:d[0].offsetLeft+(l<u?t:u-h)+"px"});else if(i>Math.ceil(o.grid.gridWidth)){t*=8;var f=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");f.x={pixels:t},f.grid.scrollContainers("",f)}for(var g=0,v=0;v<n.length;v++)if(angular.isUndefined(n[v].colDef.visible)||!0===n[v].colDef.visible){if(n[v].colDef.name===e.col.colDef.name)break;g+=n[v].drawnWidth||n[v].width||n[v].colDef.width}void 0===e.newScrollLeft?c+=t:c=e.newScrollLeft+l-g,p<e.col.drawnWidth&&(p+=Math.abs(t),d.css({width:p+"px"}))};e.$on("$destroy",w)}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getFirstRowIndex:function(){return e.options.useCustomPagination?e.options.paginationPageSizes.reduce(function(t,n,i){return i<e.options.paginationCurrentPage-1?t+n:t},0):(e.options.paginationCurrentPage-1)*e.options.paginationPageSize},getLastRowIndex:function(){return e.options.useCustomPagination?n.methods.pagination.getFirstRowIndex()+e.options.paginationPageSizes[e.options.paginationCurrentPage-1]-1:Math.min(e.options.paginationCurrentPage*e.options.paginationPageSize,e.options.totalItems)-1},getTotalPages:function(){return e.options.enablePagination?e.options.useCustomPagination?e.options.paginationPageSizes.length:0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||t<1)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.registerRowsProcessor(function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var i=parseInt(e.options.paginationPageSize,10),r=(parseInt(e.options.paginationCurrentPage,10),t.filter(function(e){return e.visible}));e.options.totalItems=r.length;var o=n.methods.pagination.getFirstRowIndex(),a=n.methods.pagination.getLastRowIndex();return o>r.length&&(o=((e.options.paginationCurrentPage=1)-1)*i),r.slice(o,a+1)},900)},defaultGridOptions:function(t){t.enablePagination=!1!==t.enablePagination,t.enablePaginationControls=!1!==t.enablePaginationControls,t.useExternalPagination=!0===t.useExternalPagination,t.useCustomPagination=!0===t.useCustomPagination,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,i,r,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);i.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService","i18nConstants",function(e,t,n,i,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(o,a,s,l){o.aria=i.getSafeText("pagination.aria");var c=function(){o.paginationApi=l.grid.api.pagination,o.sizesLabel=i.getSafeText("pagination.sizes"),o.totalItemsLabel=i.getSafeText("pagination.totalItems"),o.paginationOf=i.getSafeText("pagination.of"),o.paginationThrough=i.getSafeText("pagination.through")};c(),o.$on(r.UPDATE_EVENT,c);var u=l.grid.options;l.grid.renderContainers.body.registerViewportAdjuster(function(e){return u.enablePaginationControls&&(e.height=e.height-n.elementHeight(a,"padding")),e});var d=l.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);o.$on("$destroy",d);var p=o.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){t!==n&&void 0!==n&&(!angular.isNumber(u.paginationCurrentPage)||u.paginationCurrentPage<1?u.paginationCurrentPage=1:u.totalItems>0&&u.paginationCurrentPage>o.paginationApi.getTotalPages()?u.paginationCurrentPage=o.paginationApi.getTotalPages():e.onPaginationChanged(o.grid,u.paginationCurrentPage,u.paginationPageSize))});o.$on("$destroy",function(){p()}),o.cantPageForward=function(){return o.paginationApi.getTotalPages()?o.cantPageToLast():u.data.length<1},o.cantPageToLast=function(){var e=o.paginationApi.getTotalPages();return!e||u.paginationCurrentPage>=e},o.cantPageBackward=function(){return u.paginationCurrentPage<=1};var h=function(e){e&&n.focus.bySelector(a,".ui-grid-pager-control-input")};o.pageFirstPageClick=function(){o.paginationApi.seek(1),h(o.cantPageBackward())},o.pagePreviousPageClick=function(){o.paginationApi.previousPage(),h(o.cantPageBackward())},o.pageNextPageClick=function(){o.paginationApi.nextPage(),h(o.cantPageForward())},o.pageLastPageClick=function(){o.paginationApi.seek(o.paginationApi.getTotalPages()),h(o.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,n,i){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,n){r.pinColumn(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=!1!==e.enablePinning,e.hidePinLeft=e.enablePinning&&e.hidePinLeft,e.hidePinRight=e.enablePinning&&e.hidePinRight},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.hidePinLeft=void 0===t.hidePinLeft?a.hidePinLeft:t.hidePinLeft,t.hidePinRight=void 0===t.hidePinRight?a.hidePinRight:t.hidePinRight,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.RIGHT)}},c={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return void 0!==this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.NONE)}};t.hidePinLeft||e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),t.hidePinRight||e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(c)}},pinColumn:function(e,t,n){n===i.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=n,n===i.container.LEFT?e.createLeftContainer():n===i.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return r}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$rootScope",function(e,t,n){return{defaultGridOptions:function(e){e.enableColumnResizing=!1!==e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,i){return e.enableColumnResizing=void 0===e.enableColumnResizing?i.enableColumnResizing:e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1),t.all([])},registerPublicApi:function(e){e.api.registerEventsFromObject({colResizable:{columnSizeChanged:function(e,t){}}})},fireColumnSizeChanged:function(t,i,r){n.$applyAsync(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(i,r):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var i=e.getRenderContainer();if("left"===t){var r=i.visibleColumnCache.indexOf(e);return i.visibleColumnCache[r-1*n]}return e}}}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants",function(e,t,n,i,r,o){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,i,a,s){var l=s.grid;if(l.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),u=1;l.isRTL()&&(e.position="left",u=-1);var d=function(){for(var t=i[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=r.findTargetCol(e.col,"left",u),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&!1!==a.colDef.enableColumnResizing){var l=angular.element(c).clone();l.attr("position","left"),i.prepend(l),n(l)(e)}if(!1!==e.col.colDef.enableColumnResizing){var d=angular.element(c).clone();d.attr("position","right"),i.append(d),n(d)(e)}};d();var p=l.registerDataChangeCallback(function(){e.$applyAsync(d)},[o.dataChange.COLUMN]);e.$on("$destroy",p)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,i){var r=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,l){function c(e){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})}function u(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function d(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),(m=(e.targetTouches?e.targetTouches[0]:e).clientX-f)<0?m=0:m>l.grid.gridWidth&&(m=l.grid.gridWidth);var a=i.findTargetCol(o.col,o.position,g);if(!1!==a.colDef.enableColumnResizing){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=m-h,c=parseInt(a.drawnWidth+s*g,10);m+=(u(a,c)-c)*g,r.css({left:m+"px"}),l.fireEvent(n.events.ITEM_DRAGGING)}}function p(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),r.remove();var n=(m=(e.changedTouches?e.changedTouches[0]:e).clientX-f)-h;if(0===n)return y(),void b();var a=i.findTargetCol(o.col,o.position,g);if(!1!==a.colDef.enableColumnResizing){var s=parseInt(a.drawnWidth+n*g,10);a.width=u(a,s),a.hasCustomWidth=!0,c(),i.fireColumnSizeChanged(l.grid,a.colDef,n),y(),b()}}var h=0,m=0,f=0,g=1;l.grid.isRTL()&&(o.position="left",g=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var v=function(t,n){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),f=l.grid.element[0].getBoundingClientRect().left,h=(t.targetTouches?t.targetTouches[0]:t).clientX-f,l.grid.element.append(r),r.css({left:h}),"touchstart"===t.type?(e.on("touchend",p),e.on("touchmove",d),a.off("mousedown",v)):(e.on("mouseup",p),e.on("mousemove",d),a.off("touchstart",v))},b=function(){a.on("mousedown",v),a.on("touchstart",v)},y=function(){e.off("mouseup",p),e.off("touchend",p),e.off("mousemove",d),e.off("touchmove",d),a.off("mousedown",v),a.off("touchstart",v)};b();var w=function(e,r){e.stopPropagation();var s=i.findTargetCol(o.col,o.position,g);if(!1!==s.colDef.enableColumnResizing){var d,p=0,h=t.closestElm(a,".ui-grid-render-container").querySelectorAll("."+n.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(h,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var i=angular.element(e);i.attr("style","float: left");var r=t.elementWidth(i);n&&(r+=t.elementWidth(n)),r>p&&(p=r)})});var m=u(s,p);d=m-s.drawnWidth,s.width=m,s.hasCustomWidth=!0,c(),i.fireColumnSizeChanged(l.grid,s.colDef,d)}};a.on("dblclick",w),a.on("$destroy",function(){a.off("dblclick",w),y()})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,i,r){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(n){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var n=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var i=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),i}},setSavePromise:function(e,t,n){e.getRow(t).rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){void 0!==e&&null!==e&&e.forEach(function(n,i){n.uid===t.uid&&e.splice(i,1)})},isRowPresent:function(e,t){var n=!1;return e.forEach(function(e,i){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.cancelTimer(e,t),o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,i){var a=this.grid,s=a.getRow(e);s?(n!==i||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s)):r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var n=this.grid,i=n.getRow(e);i?o.cancelTimer(n,i):r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var n=this.grid,i=n.getRow(e);i?o.considerSetTimer(n,i):r.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var i=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),i,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t,i){(n=e.getRow(t))?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var n;t.forEach(function(t,i){(n=e.getRow(t))?(delete n.isDirty,o.removeRow(e.rowEdit.dirtyRows,n),o.cancelTimer(e,n),delete n.isError,o.removeRow(e.rowEdit.errorRows,n)):r.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,n,i,r,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,n){return a.restore(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=!1!==e.saveWidths,e.saveOrder=!1!==e.saveOrder,e.saveScroll=!0===e.saveScroll,e.saveFocus=!0!==e.saveScroll&&!1!==e.saveFocus,e.saveVisible=!1!==e.saveVisible,e.saveSort=!1!==e.saveSort,e.saveFilter=!1!==e.saveFilter,e.saveSelection=!1!==e.saveSelection,e.saveGrouping=!1!==e.saveGrouping,e.saveGroupingExpandedStates=!0===e.saveGroupingExpandedStates,e.savePinning=!1!==e.savePinning,e.saveTreeView=!1!==e.saveTreeView},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t.pagination=a.savePagination(e),t},restore:function(e,t,n){return n.columns&&a.restoreColumns(e,n.columns),n.scrollFocus&&a.restoreScrollFocus(e,t,n.scrollFocus),n.selection&&a.restoreSelection(e,n.selection),n.grouping&&a.restoreGrouping(e,n.grouping),n.treeView&&a.restoreTreeView(e,n.treeView),n.pagination&&a.restorePagination(e,n.pagination),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(n){var i={};i.name=n.name,e.options.saveVisible&&(i.visible=n.visible),e.options.saveWidths&&(i.width=n.width),e.options.saveSort&&(i.sort=angular.copy(n.sort)),e.options.saveFilter&&(i.filters=[],n.filters.forEach(function(e){var t={};angular.forEach(e,function(e,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(t[n]=e)}),i.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(i.pinned=n.renderContainer?n.renderContainer:""),t.push(i)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var n=e.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(t.colName=n.col.colDef.name),null!==n.row&&(t.rowVal=a.getRowVal(e,n.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){return e.api.selection&&e.options.saveSelection?e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)}):[]},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){var n=!1;t.forEach(function(t,i){var r=e.getColumn(t.name);if(r&&!e.isRowHeaderColumn(r)){!e.options.saveVisible||r.visible===t.visible&&r.colDef.visible===t.visible||(r.visible=t.visible,r.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(r)),e.options.saveWidths&&r.width!==t.width&&(r.width=t.width,r.hasCustomWidth=!0),!e.options.saveSort||angular.equals(r.sort,t.sort)||void 0===r.sort&&angular.isEmpty(t.sort)||(r.sort=angular.copy(t.sort),n=!0),e.options.saveFilter&&!angular.equals(r.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(r.filters[t],e),void 0!==e.term&&null!==e.term||delete r.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&r.renderContainer!==t.pinned&&e.api.pinning.pinColumn(r,t.pinned);var o=e.getOnlyDataColumns().indexOf(r);if(-1!==o&&e.options.saveOrder&&o!==i){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(i+e.rowHeaderColumns.length,0,a)}}}),n&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,n){if(e.api.cellNav){var i,r;if(n.colName){var o=e.options.columnDefs.filter(function(e){return e.name===n.colName});o.length>0&&(i=o[0])}n.rowVal&&n.rowVal.row&&(r=n.rowVal.identity?a.findRowByIdentity(e,n.rowVal):e.renderContainers.body.visibleRowCache[n.rowVal.row]);var s=r&&r.entity?r.entity:null;(i||s)&&(n.focus?e.api.cellNav.scrollToFocus(s,i):e.scrollTo(s,i))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var n=a.findRowByIdentity(e,t);n&&e.api.selection.selectRow(n.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row});return n.length>0?n[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){e!==this.isSelected&&(this.isSelected=e,this.grid.selection.selectedCount+=e?1:-1)},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,n,i){function r(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i.row),t=t.concat(r(i.children))}return t}var o={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,o.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,n){},rowSelectionChangedBatch:function(e,t,n){}}},methods:{selection:{toggleRowSelection:function(t,n){var i=e.getRow(t);null!==i&&o.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,n){var i=e.getRow(t);null===i||i.isSelected||o.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,n){var i=e.renderContainers.body.visibleRowCache[t];null===i||void 0===i||i.isSelected||o.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,n){var i=e.getRow(t);null!==i&&i.isSelected&&o.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},unSelectRowByVisibleIndex:function(t,n){var i=e.renderContainers.body.visibleRowCache[t];null!==i&&void 0!==i&&i.isSelected&&o.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(!1!==e.options.multiSelect){var n=[];e.rows.forEach(function(i){i.isSelected||!1===i.enableSelection||(i.setSelected(!0),o.decideRaiseSelectionEvent(e,i,n,t))}),o.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(!1!==e.options.multiSelect){var n=[],i=[];i=e.treeBase&&e.treeBase.tree?r(e.treeBase.tree):e.rows;for(var a=0;a<i.length;a++){var s=i[a];s.visible?s.isSelected||!1===s.enableSelection||(s.setSelected(!0),o.decideRaiseSelectionEvent(e,s,n,t)):s.isSelected&&(s.setSelected(!1),o.decideRaiseSelectionEvent(e,s,n,t))}o.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){o.clearSelectedRows(e,t)},getSelectedRows:function(){return o.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return o.getSelectedRows(e)},getSelectedCount:function(){return e.selection.selectedCount},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=!1!==e.enableRowSelection,e.multiSelect=!1!==e.multiSelect,e.noUnselect=!0===e.noUnselect,e.modifierKeysToMultiSelect=!0===e.modifierKeysToMultiSelect,e.enableRowHeaderSelection=!1!==e.enableRowHeaderSelection,void 0===e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=!1!==e.enableSelectAll,e.enableSelectionBatchEvent=!1!==e.enableSelectionBatchEvent,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=!1!==e.enableFooterTotalSelected,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,n,i,r){var a,s=t.isSelected;(!1!==t.enableSelection||s)&&(i||s?!i&&s&&(a=o.getSelectedRows(e)).length>1&&(s=!1,o.clearSelectedRows(e,n)):o.clearSelectedRows(e,n),s&&r||(t.setSelected(!s),!0===t.isSelected&&(e.selection.lastSelectedRow=t),a=o.getSelectedRows(e),e.selection.selectAll=e.rows.length===a.length,e.api.selection.raise.rowSelectionChanged(t,n),function(e,t,n,i,r){if(t.treeNode&&t.treeNode.parentRow){for(var a=t.treeNode.parentRow,s=[],l=0;l<a.treeNode.children.length;l++)s.push(a.treeNode.children[l].row.isSelected);var c=-1===s.indexOf(!1);a.isSelected!==c&&o.toggleRowSelection(e,a,n,i,r)}}(e,t,n,i,r)))},shiftSelect:function(e,t,n,i){if(i){var r=o.getSelectedRows(e).length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,a=e.renderContainers.body.visibleRowCache.indexOf(t);if(r>a){var s=r;r=a,a=s}for(var l=[],c=r;c<=a;c++){var u=e.renderContainers.body.visibleRowCache[c];u&&(u.isSelected||!1===u.enableSelection||(u.setSelected(!0),e.selection.lastSelectedRow=u,o.decideRaiseSelectionEvent(e,u,l,n)))}o.decideRaiseSelectionBatchEvent(e,l,n)}},getSelectedRows:function(e){var t;t=e.treeBase&&e.treeBase.tree?r(e.treeBase.tree):e.rows;for(var n=[],i=0;i<t.length;i++)t[i].isSelected&&n.push(t[i]);return n},clearSelectedRows:function(e,t){var n=[];o.getSelectedRows(e).forEach(function(i){i.isSelected&&(i.setSelected(!1),o.decideRaiseSelectionEvent(e,i,n,t))}),o.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,n,i){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,i)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return o}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s,0)}var l=!1,c=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},u=function(){a.grid.options.isRowSelectable!==angular.noop&&!0!==l&&(a.grid.registerRowsProcessor(c,500),l=!0)};u();var d=a.grid.registerDataChangeCallback(u,[i.dataChange.OPTIONS]);n.$on("$destroy",d)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,n){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,r,o){function a(e,t){if(t.stopPropagation(),e.groupHeader){s(e,t);for(var n=e.isSelected,i=0;i<e.treeNode.children.length;i++)e.treeNode.children[i].row.isSelected!==n&&a(e.treeNode.children[i].row,t)}else s(e,t)}function s(e,n){n.shiftKey?t.shiftSelect(l,e,n,l.options.multiSelect):n.ctrlKey||n.metaKey?t.toggleRowSelection(l,e,n,l.options.multiSelect,l.options.noUnselect):t.toggleRowSelection(l,e,n,l.options.multiSelect&&!l.options.modifierKeysToMultiSelect,l.options.noUnselect)}var l=o.grid;e.selectButtonClick=a,e.selectButtonKeyDown=function(e,t){32===t.keyCode&&(t.preventDefault(),a(e,t))},"ie"===n.detectBrowser()&&i.on("mousedown",function(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}),e.$on("$destroy",function(){i.off()})}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,n,i,r){var o=e.col.grid;e.headerButtonKeyDown=function(t){32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),e.headerButtonClick(t))},e.headerButtonClick=function(e){o.selection.selectAll?(t.clearSelectedRows(o,e),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,e),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(e),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,i,r,o){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e[0].querySelector(".ui-grid-canvas:not(.ui-grid-empty-base-layer-container)").children[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,n,i,r,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,n,i,r){function s(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",u),n.on("touchend",d),n.on("click",c),e.registered=!0)}var l=0;r.grid.api.cellNav&&r.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&n.row===e.row&&n.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(t.preventDefault(),o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var c=function(t){"ui-grid-icon-minus-squared"!==t.target.className&&"ui-grid-icon-plus-squared"!==t.target.className&&(n.off("touchend",d),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){n.on("touchend",d)},300))},u=function(e){l=(new Date).getTime(),n.off("click",c)},d=function(e){(new Date).getTime()-l<300&&c(e),a(function(){n.on("click",c)},300)};s();var p=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?s():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",u),n.off("touchend",d),n.off("click",c),e.registered=!1)},[t.dataChange.OPTIONS]);n.on("$destroy",p)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,i){return{pre:function(t,i,r,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var r=angular.element(n),o=e(r)(t);angular.element(i[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,n,i,r,o,a,s){var l={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var n={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t,n){l.expandRow(e,t,n)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=!1!==e.showTreeRowHeader,e.showTreeExpandNoChildren=!1!==e.showTreeExpandNoChildren,e.treeRowHeaderAlwaysVisible=!1!==e.treeRowHeaderAlwaysVisible,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=!1!==e.enableExpandAll},treeBaseColumnBuilder:function(e,t,n){void 0!==e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),void 0!==e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},void 0!==n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):void 0!==l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),void 0!==e.treeAggregationLabel&&(void 0===t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=!1!==e.treeAggregationUpdateEntity,void 0===t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var n={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(n,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,n,i){void 0!==n.state&&n.state!==i&&(n.state=i,i===t.EXPANDED?e.api.treeBase.raise.rowExpanded(n.row):e.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(t){l.setAllNodes(e,t,i)})},toggleRowTreeState:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===t.EXPANDED?l.collapseRow(e,n):l.expandRow(e,n,!1),e.queueGridRefresh())},expandRow:function(e,n,i){if(i){for(var r=[];n&&void 0!==n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&n.treeNode.state!==t.EXPANDED;)r.push(n),n=n.treeNode.parentRow;if(r.length>0){for(n=r.pop();n;)n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),n=r.pop();e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh()}}else{if(void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0)return;n.treeNode.state!==t.EXPANDED&&(n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())}},expandRowChildren:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.COLLAPSED&&(n.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(n),e.queueGridRefresh())},collapseRowChildren:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var n=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(n=!1)}),n}return!0},treeRows:function(e){return 0===e.length?e:(t.EXPANDED,this.treeBase.tree=l.createTree(this,e),l.updateRowHeaderWidth(this),l.sortTree(this),l.fixFilter(this),l.renderTree(this.treeBase.tree))},updateRowHeaderWidth:function(e){var n=e.getColumn(t.rowHeaderColName),i=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);n&&i!==n.width&&(n.width=i,e.queueRefresh());var r=!0;!1===e.options.showTreeRowHeader&&(r=!1),!1===e.options.treeRowHeaderAlwaysVisible&&e.treeBase.numberLevels<=0&&(r=!1),n&&n.visible!==r&&(n.visible=r,n.colDef.visible=r,e.queueGridRefresh())},renderTree:function(e){var n=[];return e.forEach(function(e){e.row.visible&&n.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(n=n.concat(l.renderTree(e.children)))}),n},createTree:function(e,n){var i=-1,r=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var o=l.getAggregations(e);for(n.forEach(function(n){if(void 0!==n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=i){for(;n.treeLevel<=i;){var a=r.pop();l.finaliseAggregations(a),i--}r.length>0?l.setCurrentState(r):t.EXPANDED}(void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&l.aggregate(e,n,r),l.addOrUseNode(e,n,r,o),void 0!==n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(r.push(n),i++,l.setCurrentState(r)),e.treeBase.numberLevels<n.treeLevel+1&&(e.treeBase.numberLevels=n.treeLevel+1)});r.length>0;){var a=r.pop();l.finaliseAggregations(a)}return e.treeBase.tree},addOrUseNode:function(e,n,i,r){var o=[];r.forEach(function(e){o.push(l.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(a.state=n.treeNode.state),i.length>0&&(a.parentRow=i[i.length-1]),n.treeNode=a,0===i.length?e.treeBase.tree.push(a):i[i.length-1].treeNode.children.push(a)},setCurrentState:function(e){var n=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(n=t.COLLAPSED)}),n},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,n){var i=n.map(function(e){return e.row}),r=(i=s.sort(e,i,e.columns)).map(function(e){return e.treeNode});return r.forEach(function(n){n.state===t.EXPANDED&&n.children&&n.children.length>0&&(n.children=l.sortInternal(e,n.children))}),r},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(n){void 0!==n.treeAggregationFn&&(t.push(l.buildAggregationObject(n)),e.options.showColumnFooter&&void 0===n.colDef.aggregationType&&n.treeAggregation&&(n.treeFooterAggregation=l.buildAggregationObject(n),n.aggregationType=l.treeFooterAggregationType))}),t},aggregate:function(e,t,n){0===n.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(n){if(void 0!==n.col.treeFooterAggregation){var i=e.getCellValue(t,n.col),r=Number(i);n.col.treeAggregationFn(n.col.treeFooterAggregation,i,r,t)}}),n.forEach(function(n,i){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var r=e.getCellValue(t,n.col),o=Number(r);n.col.treeAggregationFn(n,r,o,t),0===i&&void 0!==n.col.treeFooterAggregation&&n.col.treeAggregationFn(n.col.treeFooterAggregation,r,o,t)})})},nativeAggregations:function(){return{count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,n){void 0===e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||(void 0===e.value?e.value=n:e.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){void 0===e.count?e.count=1:e.count++,isNaN(n)||(void 0===e.value||void 0===e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}}},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&void 0!==e&&void 0!==e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),void 0===t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&void 0!==e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(l.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var n={};angular.forEach(t,function(e,i){t.hasOwnProperty(i)&&"col"!==i&&(n[i]=e)}),e.entity["$$"+t.col.uid]=n}})},treeFooterAggregationType:function(e,t){return l.finaliseAggregation(void 0,t.treeFooterAggregation),void 0===t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,i,r){var o=r.grid;e.treeButtonClick=function(e,n){t.toggleRowTreeState(o,e,n)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,n,i,r){var o=e.col.grid;e.headerButtonClick=function(e,n){o.treeBase.expandAll?t.collapseAllRows(o,n):t.expandAllRows(o,n)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,i,r,o,a,s,l){var c={initializeGrid:function(e,t){i.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(c.adjustSorting,60);var n={treeView:{}},r={treeView:{}};e.api.registerEventsFromObject(n),e.api.registerMethodsFromObject(r)},defaultGridOptions:function(e){e.enableTreeView=!1!==e.enableTreeView},adjustSorting:function(e){return this.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return c}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){!1!==r.grid.options.enableTreeView&&t.initializeGrid(r.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,n,i,r){var o={validatorFactories:{},setExternalFactoryFunction:function(e){o.externalFactoryFunction=e},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,n){o.validatorFactories[e]={validatorFactory:t,messageFunction:n}},getValidator:function(e,t){if(o.externalFactoryFunction){var n=o.getValidatorFromExternalFactory(e,t);if(n)return n}if(!o.validatorFactories[e])throw"Invalid validator name: "+e;return o.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(o.externalFactoryFunction){var n=o.getMessageFromExternalFactory(e,t);if(n)return n}return o.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,n){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][n]=!0},clearError:function(e,t,n){e["$$errors"+t.name]&&n in e["$$errors"+t.name]&&delete e["$$errors"+t.name][n]},getErrorMessages:function(e,t){var n=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){n.push(o.getMessage(e,t.validators[e]))}),n):n},getFormattedErrors:function(t,n){var r="",a=o.getErrorMessages(t,n);if(a.length)return a.forEach(function(e){r+=e+"<br/>"}),e.trustAsHtml("<p><b>"+i.getSafeText("validate.error")+"</b></p>"+r)},getTitleFormattedErrors:function(t,n){var r="",a=o.getErrorMessages(t,n);if(a.length)return a.forEach(function(e){r+=e+"\n"}),e.trustAsHtml(i.getSafeText("validate.error")+"\n"+r)},runValidators:function(e,n,i,r,a){if(i!==r){if(void 0===n.name||!n.name)throw new Error("colDef.name is required to perform validation");o.setValid(e,n);var s=[];for(var l in n.validators){o.clearError(e,n,l);var c=o.getValidator(l,n.validators[l]),u=t.when(c(r,i,e,n)).then(function(e,t,n){return function(s){s||(o.setInvalid(e,t),o.setError(e,t,n),a&&a.api.validate.raise.validationFailed(e,t,i,r))}}(e,n,l));s.push(u)}return t.all(s)}},createDefaultValidators:function(){o.setValidator("minLength",function(e){return function(t,n,i,r){return void 0===n||null===n||""===n||n.length>=e}},function(e){return i.getSafeText("validate.minLength").replace("THRESHOLD",e)}),o.setValidator("maxLength",function(e){return function(t,n,i,r){return void 0===n||null===n||""===n||n.length<=e}},function(e){return i.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),o.setValidator("required",function(e){return function(t,n,i,r){return!e||!(void 0===n||null===n||""===n)}},function(e){return i.getSafeText("validate.required")})},initializeGrid:function(e,t){t.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var n={events:{validate:{validationFailed:function(e,t,n,i){}}},methods:{validate:{isInvalid:function(e,n){return t.validate.isInvalid(e,n)},getErrorMessages:function(e,n){return t.validate.getErrorMessages(e,n)},getFormattedErrors:function(e,n){return t.validate.getFormattedErrors(e,n)},getTitleFormattedErrors:function(e,n){return t.validate.getTitleFormattedErrors(e,n)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,n,i,r){t.validate.runValidators(e,n,i,r,t)}),o.createDefaultValidators()}};return o}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(e,t,n,i){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row">\x3c!-- tfooter --\x3e<div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header">\x3c!-- theader --\x3e<div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid">\x3c!-- TODO (c0bra): add "scoped" attr here, eventually? --\x3e<style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ (((grid.getVisibleRowCount() * grid.options.rowHeight) < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper" role="grid"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems">\x3c!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --\x3e</div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable, \'ui-grid-header-cell-last-col\': isLastCol }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" ng-keydown="handleKeyDown($event)" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-keydown="headerCellArrowKeyDown($event)" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ label() }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"presentation\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\">\x3c!-- All of these dom elements are replaced in place --\x3e<div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()">\x3c!-- tbody --\x3e<div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!(row.groupHeader==true || row.entity.subGridOptions.disableRowExpandable)" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><span class="ui-grid-cell-empty" ng-if="!grid.options.showExpandAllButton"></span> <button type="button" class="ui-grid-icon-button" ng-if="grid.options.showExpandAllButton" ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></button></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div>\x3c!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --\x3e<div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll" role="checkbox" ng-model="grid.selection.selectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)" ng-keydown="selectButtonKeyDown(row, $event)" role="checkbox" ng-model="row.isSelected">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div role="button" class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}])},function(e,t,n){n(286),e.exports="angular-loading-bar"},function(e,t){!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,i,r,o,a){function s(){i.cancel(c),a.complete(),d=0,u=0}function l(t){var i,r=n.get("$http"),o=e.defaults;!t.cache&&!o.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(i=angular.isObject(t.cache)?t.cache:angular.isObject(o.cache)?o.cache:r);var a=void 0!==i&&void 0!==i.get(t.url);return void 0!==t.cached&&a!==t.cached?t.cached:(t.cached=a,a)}var c,u=0,d=0,p=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||l(e)||(r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===u&&(c=i(function(){a.start()},p)),u++,a.set(d/u)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=u?s():a.set(d/u)),e):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=u?s():a.set(d/u)),t.reject(e)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,i){function r(e){if(f){var t=100*e+"%";h.css("width",t),g=e,v&&(n.cancel(c),c=n(function(){o()},250))}}function o(){if(!(a()>=1)){var e=0,t=a();e=t>=0&&t<.25?(3*Math.random()+3)/100:t>=.25&&t<.65?3*Math.random()/100:t>=.65&&t<.9?2*Math.random()/100:t>=.9&&t<.99?.005:0,r(a()+e)}}function a(){return g}function s(){g=0,f=!1}var l,c,u,d=this.parentSelector,p=angular.element(this.loadingBarTemplate),h=p.find("div").eq(0),m=angular.element(this.spinnerTemplate),f=!1,g=0,v=this.autoIncrement,b=this.includeSpinner,y=this.includeBar,w=this.startSize;return{start:function(){if(l||(l=e.get("$animate")),n.cancel(u),!f){var o=t[0],a=o.querySelector?o.querySelector(d):t.find(d)[0];a||(a=o.getElementsByTagName("body")[0]);var s=angular.element(a),c=a.lastChild&&angular.element(a.lastChild);i.$broadcast("cfpLoadingBar:started"),f=!0,y&&l.enter(p,s,c),b&&l.enter(m,s,p),r(w)}},set:r,status:a,inc:o,complete:function(){l||(l=e.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),r(1),n.cancel(u),u=n(function(){var e=l.leave(p,s);e&&e.then&&e.then(s),l.leave(m)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},function(e,t){},function(e,t,n){n(289),e.exports="ui.tree"},function(e,t){!function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",dropzoneClass:"angular-ui-tree-dropzone",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$allowNodeDrop=!1,e.collapsed=!1,e.expandOnHover=!1,e.init=function(n){var i=n[0];e.$treeScope=n[1]?n[1].scope:null,e.$parentNodeScope=i.scope.$nodeScope,e.$modelValue=i.scope.$modelValue[e.$index],e.$parentNodesScope=i.scope,i.scope.initSubNode(e),t.on("$destroy",function(){i.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.isSibling=function(t){return e.$parentNodesScope==t.$parentNodesScope},e.isChild=function(t){var n=e.childNodes();return n&&n.indexOf(t)>-1},e.prev=function(){var t=e.index();return t>0?e.siblings()[t-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(t,n){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(t,n)},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed,e.$treeScope.$callbacks.toggle(e.collapsed,e)},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var t=e.$parentNodeScope;return t?t.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?function e(t){if(!t)return 0;var n,i,r=0,o=t.childNodes();if(!o||0===o.length)return 0;for(i=o.length-1;i>=0;i--)n=1+e(o[i]),r=Math.max(r,n);return r}(e.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element","$timeout",function(e,t,n){this.scope=e,e.$element=t,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(t){if(!t.$modelValue)return null;e.$nodesMap[t.$modelValue.$$hashKey]=t},e.destroySubNode=function(t){if(!t.$modelValue)return null;e.$nodesMap[t.$modelValue.$$hashKey]=null},e.accept=function(t,n){return e.$treeScope.$callbacks.accept(t,e,n)},e.beforeDrag=function(t){return e.$treeScope.$callbacks.beforeDrag(t)},e.isParent=function(t){return t.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.removeNode=function(t){var i=e.$modelValue.indexOf(t.$modelValue);return i>-1?(n(function(){e.$modelValue.splice(i,1)[0]}),e.$treeScope.$callbacks.removed(t)):null},e.insertNode=function(t,i){n(function(){e.$modelValue.splice(t,0,i)})},e.childNodes=function(){var t,n=[];if(e.$modelValue)for(t=0;t<e.$modelValue.length;t++)n.push(e.$nodesMap[e.$modelValue[t].$$hashKey]);return n},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(t){var n=e.maxDepth||e.$treeScope.maxDepth;return n>0&&e.depth()+t.maxSubDepth()+1>n}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$dropzoneElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.dropzoneEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(t){e.$nodesScope.$element.append(t),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():t.append(e.$emptyElm)},this.resetDropzoneElement=function(){e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length||!e.dropzoneEnabled?e.$dropzoneElm.remove():t.append(e.$dropzoneElm)},e.resetEmptyElement=this.resetEmptyElement,e.resetDropzoneElement=this.resetDropzoneElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,t){return{restrict:"A",scope:!0,controller:"TreeController",link:function(n,i,r,o){var a,s,l,c={accept:null,beforeDrag:null},u={};angular.extend(u,e),u.treeClass&&i.addClass(u.treeClass),"table"===i.prop("tagName").toLowerCase()?(n.$emptyElm=angular.element(t.document.createElement("tr")),l=(s=i.find("tr")).length>0?angular.element(s).children().length:1e6,a=angular.element(t.document.createElement("td")).attr("colspan",l),n.$emptyElm.append(a)):(n.$emptyElm=angular.element(t.document.createElement("div")),n.$dropzoneElm=angular.element(t.document.createElement("div"))),u.emptyTreeClass&&n.$emptyElm.addClass(u.emptyTreeClass),u.dropzoneClass&&n.$dropzoneElm.addClass(u.dropzoneClass),n.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&(o.resetEmptyElement(),o.resetDropzoneElement())},!0),n.$watch(r.dragEnabled,function(e){"boolean"==typeof e&&(n.dragEnabled=e)}),n.$watch(r.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(n.emptyPlaceholderEnabled=e,o.resetEmptyElement())}),n.$watch(r.nodropEnabled,function(e){"boolean"==typeof e&&(n.nodropEnabled=e)}),n.$watch(r.dropzoneEnabled,function(e){"boolean"==typeof e&&(n.dropzoneEnabled=e,o.resetDropzoneElement())}),n.$watch(r.cloneEnabled,function(e){"boolean"==typeof e&&(n.cloneEnabled=e)}),n.$watch(r.maxDepth,function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(r.dragDelay,function(e){"number"==typeof e&&(n.dragDelay=e)}),c.accept=function(e,t,n){return!(t.nodropEnabled||t.$treeScope.nodropEnabled||t.outOfDepth(e))},c.beforeDrag=function(e){return!0},c.expandTimeoutStart=function(){},c.expandTimeoutCancel=function(){},c.expandTimeoutEnd=function(){},c.removed=function(e){},c.dropped=function(e){},c.dragStart=function(e){},c.dragMove=function(e){},c.dragStop=function(e){},c.beforeDrop=function(e){},c.toggle=function(e,t){},n.$watch(r.uiTree,function(e,t){angular.forEach(e,function(e,t){c[t]&&"function"==typeof e&&(c[t]=e)}),n.$callbacks=c},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(t,n,i,r){var o={};angular.extend(o,e),o.handleClass&&n.addClass(o.handleClass),t!=r.scope&&(t.$nodeScope=r.scope,r.scope.$handleScope=t)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(e,t,n,i,r,o){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(a,s,l,c){var u,d,p,h,m,f,g,v,b,y,w,C,E,x,S,_,T,A,k,$,M,P,R,O,D,N,I,L,F={},H="ontouchstart"in window,j=null,B=document.body,z=document.documentElement;angular.extend(F,e),F.nodeClass&&s.addClass(F.nodeClass),a.init(c),a.collapsed=!!t.getNodeAttribute(a,"collapsed")||e.defaultCollapsed,a.expandOnHover=!!t.getNodeAttribute(a,"expandOnHover"),a.scrollContainer=t.getNodeAttribute(a,"scrollContainer")||l.scrollContainer||null,a.sourceOnly=a.nodropEnabled||a.$treeScope.nodropEnabled,a.$watch(l.collapsed,function(e){"boolean"==typeof e&&(a.collapsed=e)}),a.$watch("collapsed",function(e){t.setNodeAttribute(a,"collapsed",e),l.$set("collapsed",e)}),a.$watch(l.expandOnHover,function(e){"boolean"!=typeof e&&"number"!=typeof e||(a.expandOnHover=e)}),a.$watch("expandOnHover",function(e){t.setNodeAttribute(a,"expandOnHover",e),l.$set("expandOnHover",e)}),l.$observe("scrollContainer",function(e){"string"==typeof e&&(a.scrollContainer=e)}),a.$watch("scrollContainer",function(e){t.setNodeAttribute(a,"scrollContainer",e),l.$set("scrollContainer",e),g=document.querySelector(e)}),a.$on("angular-ui-tree:collapse-all",function(){a.collapsed=!0}),a.$on("angular-ui-tree:expand-all",function(){a.collapsed=!1}),C=function(e){if((H||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var r,o,l,c,g,v,C,E,x,S=angular.element(e.target);if((r=t.treeNodeHandlerContainerOfElement(S))&&(S=angular.element(r)),o=s.clone(),E=t.elementIsTreeNode(S),x=t.elementIsTreeNodeHandle(S),(E||x)&&!(E&&t.elementContainsTreeNodeHandler(S)||"input"==(l=S.prop("tagName").toLowerCase())||"textarea"==l||"button"==l||"select"==l)){for(D=angular.element(e.target),N=D[0].attributes["ui-tree"];D&&D[0]&&D[0]!==s&&!N;){if(D[0].attributes&&(N=D[0].attributes["ui-tree"]),t.nodrag(D))return;D=D.parent()}a.beforeDrag(a)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),g=t.eventObj(e),u=!0,d=t.dragInfo(a),I=d.source.$treeScope.$id,"tr"===(c=s.prop("tagName")).toLowerCase()?(h=angular.element(n.document.createElement(c)),v=angular.element(n.document.createElement("td")).addClass(F.placeholderClass).attr("colspan",s[0].children.length),h.append(v)):h=angular.element(n.document.createElement(c)).addClass(F.placeholderClass),m=angular.element(n.document.createElement(c)),F.hiddenClass&&m.addClass(F.hiddenClass),p=t.positionStarted(g,s),h.css("height",s.prop("offsetHeight")+"px"),(f=angular.element(n.document.createElement(a.$parentNodesScope.$element.prop("tagName"))).addClass(a.$parentNodesScope.$element.attr("class")).addClass(F.dragClass)).css("width",t.width(s)+"px"),f.css("z-index",9999),(C=(s[0].querySelector(".angular-ui-tree-handle")||s[0]).currentStyle)&&(document.body.setAttribute("ui-tree-cursor",i.find("body").css("cursor")||""),i.find("body").css({cursor:C.cursor+"!important"})),a.sourceOnly&&h.css("display","none"),s.after(h),s.after(m),d.isClone()&&a.sourceOnly?f.append(o):f.append(s),i.find("body").append(f),f.css({left:g.pageX-p.offsetX+"px",top:g.pageY-p.offsetY+"px"}),b={placeholder:h,dragging:f},M(),a.$apply(function(){a.$treeScope.$callbacks.dragStart(d.eventArgs(b,p))}),y=Math.max(B.scrollHeight,B.offsetHeight,z.clientHeight,z.scrollHeight,z.offsetHeight),w=Math.max(B.scrollWidth,B.offsetWidth,z.clientWidth,z.scrollWidth,z.offsetWidth))}}},E=function(e){var i,o,s,l,c,m,C,E,x,S,_,T,A,k,$,M,P,R,D,N,L,H=t.eventObj(e);if(f){if(e.preventDefault(),n.getSelection?n.getSelection().removeAllRanges():n.document.selection&&n.document.selection.empty(),o=H.pageX-p.offsetX,s=H.pageY-p.offsetY,o<0&&(o=0),s<0&&(s=0),s+10>y&&(s=y-10),o+10>w&&(o=w-10),f.css({left:o+"px",top:s+"px"}),g?(m=g.getBoundingClientRect(),c=(l=g.scrollTop)+g.clientHeight,m.bottom<H.clientY&&c<g.scrollHeight&&(k=Math.min(g.scrollHeight-c,10),g.scrollTop+=k),m.top>H.clientY&&l>0&&($=Math.min(l,10),g.scrollTop-=$)):((c=(l=window.pageYOffset||n.document.documentElement.scrollTop)+(window.innerHeight||n.document.clientHeight||n.document.clientHeight))<H.pageY&&c<y&&(k=Math.min(y-c,10),window.scrollBy(0,k)),l>H.pageY&&($=Math.min(l,10),window.scrollBy(0,-$))),t.positionMoved(e,p,u),u)return void(u=!1);if(E=H.pageX-(n.pageXOffset||n.document.body.scrollLeft||n.document.documentElement.scrollLeft)-(n.document.documentElement.clientLeft||0),x=H.pageY-(n.pageYOffset||n.document.body.scrollTop||n.document.documentElement.scrollTop)-(n.document.documentElement.clientTop||0),angular.isFunction(f.hide)?f.hide():(S=f[0].style.display,f[0].style.display="none"),n.document.elementFromPoint(E,x),T=angular.element(n.document.elementFromPoint(E,x)),(O=t.treeNodeHandlerContainerOfElement(T))&&(T=angular.element(O)),angular.isFunction(f.show)?f.show():f[0].style.display=S,t.elementIsTree(T)?_=T.controller("uiTree").scope:t.elementIsTreeNodeHandle(T)?_=T.controller("uiTreeHandle").scope:t.elementIsTreeNode(T)?_=T.controller("uiTreeNode").scope:t.elementIsTreeNodes(T)?_=T.controller("uiTreeNodes").scope:t.elementIsPlaceholder(T)?_=T.controller("uiTreeNodes").scope:t.elementIsDropzone(T)?(_=T.controller("uiTree").scope,L=!0):T.controller("uiTreeNode")&&(_=T.controller("uiTreeNode").scope),_&&_.$treeScope&&_.$treeScope.$id&&_.$treeScope.$id===I&&p.dirAx)p.distX>0&&(i=d.prev())&&!i.collapsed&&i.accept(a,i.childNodesCount())&&(i.$childNodesScope.$element.append(h),d.moveTo(i.$childNodesScope,i.childNodes(),i.childNodesCount())),p.distX<0&&(d.next()||(C=d.parentNode())&&C.$parentNodesScope.accept(a,C.index()+1)&&(C.$element.after(h),d.moveTo(C.$parentNodesScope,C.siblings(),C.index()+1)));else{if(A=!1,!_)return;if(!_.$treeScope||_.$parent.nodropEnabled||_.$treeScope.nodropEnabled||h.css("display",""),"uiTree"===_.$type&&_.dragEnabled&&(A=_.isEmpty()),"uiTreeHandle"===_.$type&&(_=_.$nodeScope),"uiTreeNode"!==_.$type&&!A&&!L)return void(F.appendChildOnHover&&!d.next()&&v&&((C=d.parentNode()).$element.after(h),d.moveTo(C.$parentNodesScope,C.siblings(),C.index()+1),v=!1));j&&h.parent()[0]!=j.$element[0]&&(j.resetEmptyElement(),j.resetDropzoneElement(),j=null),A?(j=_,_.$nodesScope.accept(a,0)&&d.moveTo(_.$nodesScope,_.$nodesScope.childNodes(),0)):L?(j=_,_.$nodesScope.accept(a,_.$nodesScope.childNodes().length)&&d.moveTo(_.$nodesScope,_.$nodesScope.childNodes(),_.$nodesScope.childNodes().length)):_.dragEnabled()&&(angular.isDefined(a.expandTimeoutOn)&&a.expandTimeoutOn!==_.id&&(r.cancel(a.expandTimeout),delete a.expandTimeout,delete a.expandTimeoutOn,a.$callbacks.expandTimeoutCancel()),_.collapsed&&(!0===a.expandOnHover||angular.isNumber(a.expandOnHover)&&0===a.expandOnHover?(_.collapsed=!1,_.$treeScope.$callbacks.toggle(!1,_)):!1!==a.expandOnHover&&angular.isNumber(a.expandOnHover)&&a.expandOnHover>0&&angular.isUndefined(a.expandTimeoutOn)&&(a.expandTimeoutOn=_.$id,a.$callbacks.expandTimeoutStart(),a.expandTimeout=r(function(){a.$callbacks.expandTimeoutEnd(),_.collapsed=!1,_.$treeScope.$callbacks.toggle(!1,_)},a.expandOnHover))),T=_.$element,M=t.offset(T),D=t.height(T),D-=(N=_.$childNodesScope?_.$childNodesScope.$element:null)?t.height(N):0,R=F.appendChildOnHover?.25*D:t.height(T)/2,P=H.pageY<M.top+R,_.$parentNodesScope.accept(a,_.index())?P?(T[0].parentNode.insertBefore(h[0],T[0]),d.moveTo(_.$parentNodesScope,_.siblings(),_.index())):F.appendChildOnHover&&_.accept(a,_.childNodesCount())?(_.$childNodesScope.$element.prepend(h),d.moveTo(_.$childNodesScope,_.childNodes(),0),v=!0):(T.after(h),d.moveTo(_.$parentNodesScope,_.siblings(),_.index()+1)):!P&&_.accept(a,_.childNodesCount())&&(_.$childNodesScope.$element.append(h),d.moveTo(_.$childNodesScope,_.childNodes(),_.childNodesCount())))}a.$apply(function(){a.$treeScope.$callbacks.dragMove(d.eventArgs(b,p))})}},x=function(e){var t=d.eventArgs(b,p);e.preventDefault(),P(),r.cancel(a.expandTimeout),a.$treeScope.$apply(function(){o.when(a.$treeScope.$callbacks.beforeDrop(t)).then(function(e){!1!==e&&a.$$allowNodeDrop?(d.apply(),a.$treeScope.$callbacks.dropped(t)):$()}).catch(function(){$()}).finally(function(){m.replaceWith(a.$element),h.remove(),f&&(f.remove(),f=null),a.$treeScope.$callbacks.dragStop(t),a.$$allowNodeDrop=!1,d=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(i.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},S=function(e){a.dragEnabled()&&C(e)},_=function(e){E(e)},T=function(e){a.$$allowNodeDrop=!0,x(e)},A=function(e){x(e)},k={exec:function(e,t){t||(t=0),this.cancel(),L=r(e,t)},cancel:function(){r.cancel(L)}},R=function(e){27===e.keyCode&&T(e)},($=function(){s.bind("touchstart mousedown",function(e){a.dragDelay>0?k.exec(function(){S(e)},a.dragDelay):S(e)}),s.bind("touchend touchcancel mouseup",function(){a.dragDelay>0&&k.cancel()})})(),M=function(){angular.element(i).bind("touchend",T),angular.element(i).bind("touchcancel",T),angular.element(i).bind("touchmove",_),angular.element(i).bind("mouseup",T),angular.element(i).bind("mousemove",_),angular.element(i).bind("mouseleave",A),angular.element(i).bind("keydown",R)},P=function(){angular.element(i).unbind("touchend",T),angular.element(i).unbind("touchcancel",T),angular.element(i).unbind("touchmove",_),angular.element(i).unbind("mouseup",T),angular.element(i).unbind("mousemove",_),angular.element(i).unbind("mouseleave",A),angular.element(i).unbind("keydown",R)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(t,n,i,r){var o={},a=r[0],s=r[1],l=r[2];angular.extend(o,e),o.nodesClass&&n.addClass(o.nodesClass),s?(s.scope.$childNodesScope=t,t.$nodeScope=s.scope):l.scope.$nodesScope=t,t.$treeScope=l.scope,a&&(a.$render=function(){t.$modelValue=a.$modelValue}),t.$watch(function(){return i.maxDepth},function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(function(){return i.nodropEnabled},function(e){void 0!==e&&(t.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(e,t,n){return{nodesData:{},setNodeAttribute:function(e,t,n){if(!e.$modelValue)return null;var i=this.nodesData[e.$modelValue.$$hashKey];i||(i={},this.nodesData[e.$modelValue.$$hashKey]=i),i[t]=n},getNodeAttribute:function(e,t){if(!e.$modelValue)return null;var n=this.nodesData[e.$modelValue.$$hashKey];return n?n[t]:null},nodrag:function(e){return void 0!==e.attr("data-nodrag")&&"false"!==e.attr("data-nodrag")},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:!0===e.$treeScope.cloneEnabled?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,resetParent:function(){this.parent=e.$parentNodesScope},moveTo:function(e,t,n){this.parent=e,this.siblings=t.slice(0);var i=this.siblings.indexOf(this.source);i>-1&&(this.siblings.splice(i,1),this.source.index()<n&&n--),this.siblings.splice(n,0,this.source),this.index=n},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return!0===this.source.$treeScope.cloneEnabled},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,t){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:t}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}},positionStarted:function(e,t){var n={},i=e.pageX,r=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i=e.originalEvent.touches[0].pageX,r=e.originalEvent.touches[0].pageY),n.offsetX=i-this.offset(t).left,n.offsetY=r-this.offset(t).top,n.startX=n.lastX=i,n.startY=n.lastY=r,n.nowX=n.nowY=n.distX=n.distY=n.dirAx=0,n.dirX=n.dirY=n.lastDirX=n.lastDirY=n.distAxX=n.distAxY=0,n},positionMoved:function(e,t,n){var i,r=e.pageX,o=e.pageY;if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(r=e.originalEvent.touches[0].pageX,o=e.originalEvent.touches[0].pageY),t.lastX=t.nowX,t.lastY=t.nowY,t.nowX=r,t.nowY=o,t.distX=t.nowX-t.lastX,t.distY=t.nowY-t.lastY,t.lastDirX=t.dirX,t.lastDirY=t.dirY,t.dirX=0===t.distX?0:t.distX>0?1:-1,t.dirY=0===t.distY?0:t.distY>0?1:-1,i=Math.abs(t.distX)>Math.abs(t.distY)?1:0,n)return t.dirAx=i,void(t.moving=!0);t.dirAx!==i?(t.distAxX=0,t.distAxY=0):(t.distAxX+=Math.abs(t.distX),0!==t.dirX&&t.dirX!==t.lastDirX&&(t.distAxX=0),t.distAxY+=Math.abs(t.distY),0!==t.dirY&&t.dirY!==t.lastDirY&&(t.distAxY=0)),t.dirAx=i},elementIsTreeNode:function(e){return void 0!==e.attr("ui-tree-node")},elementIsTreeNodeHandle:function(e){return void 0!==e.attr("ui-tree-handle")},elementIsTree:function(e){return void 0!==e.attr("ui-tree")},elementIsTreeNodes:function(e){return void 0!==e.attr("ui-tree-nodes")},elementIsPlaceholder:function(e){return e.hasClass(n.placeholderClass)},elementIsDropzone:function(e){return e.hasClass(n.dropzoneClass)},elementContainsTreeNodeHandler:function(e){return e[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(e){return function(e,t){if(void 0===t)return null;for(var n=t.parentNode,i="function"==typeof n.setAttribute&&n.hasAttribute(e)?n:null;n&&"function"==typeof n.setAttribute&&!n.hasAttribute(e);)if(n=n.parentNode,i=n,n===document.documentElement){i=null;break}return i}("ui-tree-handle",e[0])}}}])}()},function(e,t){!function(){"use strict";angular.module("ui.grid.draggable-rows",["ui.grid"]).constant("uiGridDraggableRowsConstants",{featureName:"draggableRows",ROW_TARGET_CLASS:"ui-grid-draggable-row-target",ROW_OVER_CLASS:"ui-grid-draggable-row-over",ROW_OVER_ABOVE_CLASS:"ui-grid-draggable-row-over--above",ROW_OVER_BELOW_CLASS:"ui-grid-draggable-row-over--below",ROW_HANDLE_CLASS:"ui-grid-draggable-row-handle",POSITION_ABOVE:"above",POSITION_BELOW:"below",publicEvents:{draggableRows:{rowDragged:function(e,t,n){},rowDropped:function(e,t,n){},rowOverRow:function(e,t,n){},rowEnterRow:function(e,t,n){},rowLeavesRow:function(e,t,n){},rowFinishDrag:function(e){},beforeRowMove:function(e,t,n,i){}}}}).factory("uiGridDraggableRowsCommon",[function(){return{draggedRow:null,draggedRowEntity:null,targetRow:null,targetRowEntity:null,position:null,fromIndex:null,toIndex:null,dragDisabled:!1}}]).factory("uiGridDraggableRowsSettings",[function(){return{dragDisabled:!1}}]).service("uiGridDraggableRowsService",["uiGridDraggableRowsConstants","uiGridDraggableRowsCommon","uiGridDraggableRowsSettings",function(e,t,n){var i={dragndrop:{setDragDisabled:function(e){n.dragDisabled=~~e}}};this.initializeGrid=function(t,n,r){t.api.registerEventsFromObject(e.publicEvents),t.api.registerMethodsFromObject(i),t.api.draggableRows.on.rowFinishDrag(n,function(){angular.forEach(r[0].querySelectorAll("."+e.ROW_OVER_CLASS),function(t){t.classList.remove(e.ROW_OVER_CLASS),t.classList.remove(e.ROW_OVER_ABOVE_CLASS),t.classList.remove(e.ROW_OVER_BELOW_CLASS)}),angular.forEach(r[0].querySelectorAll("."+e.ROW_TARGET_CLASS),function(t){t.classList.remove(e.ROW_TARGET_CLASS)})})}}]).service("uiGridDraggableRowService",["uiGridDraggableRowsConstants","uiGridDraggableRowsCommon","uiGridDraggableRowsSettings","$parse",function(e,t,n,i){this.prepareDraggableRow=function(r,o){var a,s=r.grid,l=o[0],c=r.grid.options.useUiGridDraggableRowsHandle,u=null,d=null,p=function(){return angular.isString(s.options.data)?i(s.options.data)(s.appScope):s.options.data};a=null,s.api.hasOwnProperty("edit")&&(s.api.edit.on.beginCellEdit(null,function(){a=l.getAttribute("draggable"),l.setAttribute("draggable",!1)}),s.api.edit.on.afterCellEdit(null,function(){l.setAttribute("draggable",a),a=null}));var h=function(t){u=angular.element(t.target),d=u.closest("."+e.ROW_HANDLE_CLASS,o)[0]},m=function(e){u=null,d=null},f=function(n){n.preventDefault&&n.preventDefault();var i=n.dataTransfer||n.originalEvent.dataTransfer;i.effectAllowed="copyMove",i.dropEffect="move";var r=n.offsetY||n.layerY||(n.originalEvent?n.originalEvent.offsetY:0);o.addClass(e.ROW_OVER_CLASS),r<this.offsetHeight/2?(t.position=e.POSITION_ABOVE,o.removeClass(e.ROW_OVER_BELOW_CLASS),o.addClass(e.ROW_OVER_ABOVE_CLASS)):(t.position=e.POSITION_BELOW,o.removeClass(e.ROW_OVER_ABOVE_CLASS),o.addClass(e.ROW_OVER_BELOW_CLASS)),s.api.draggableRows.raise.rowOverRow(t,this)},g=function(i){if(n.dragDisabled||c&&!d)return i.preventDefault(),i.stopPropagation(),!1;this.classList.add(e.ROW_TARGET_CLASS),i.dataTransfer.setData("Text","move"),t.draggedRow=this,t.draggedRowEntity=r.$parent.$parent.row.entity,t.position=null,t.fromIndex=p().indexOf(t.draggedRowEntity),t.toIndex=null,s.api.draggableRows.raise.rowDragged(t,this)},v=function(){this.classList.remove(e.ROW_TARGET_CLASS),this.classList.remove(e.ROW_OVER_CLASS),this.classList.remove(e.ROW_OVER_ABOVE_CLASS),this.classList.remove(e.ROW_OVER_BELOW_CLASS),s.api.draggableRows.raise.rowLeavesRow(t,this)},b=function(){s.api.draggableRows.raise.rowEnterRow(t,this)},y=function(){s.api.draggableRows.raise.rowFinishDrag()},w=function(n){var i=t.draggedRow;if(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),i===this)return!1;t.toIndex=p().indexOf(r.$parent.$parent.row.entity),t.targetRow=this,t.targetRowEntity=r.$parent.$parent.row.entity,t.position===e.POSITION_ABOVE?t.fromIndex<t.toIndex&&(t.toIndex-=1):t.fromIndex>=t.toIndex&&(t.toIndex+=1),r.$apply(function(){(function(e,t,n){n.api.draggableRows.raise.beforeRowMove(e,t,this),this.splice(t,0,this.splice(e,1)[0])}).apply(p(),[t.fromIndex,t.toIndex,s])}),s.api.draggableRows.raise.rowDropped(t,this),n.preventDefault()};l.addEventListener("dragover",f,!1),l.addEventListener("dragstart",g,!1),l.addEventListener("dragleave",v,!1),l.addEventListener("dragenter",b,!1),l.addEventListener("dragend",y,!1),l.addEventListener("drop",w),c&&(l.addEventListener("mousedown",h,!1),l.addEventListener("mouseup",m,!1))}}]).directive("uiGridDraggableRow",["uiGridDraggableRowService",function(e){return{restrict:"ACE",scope:{grid:"="},compile:function(){return{pre:function(t,n){e.prepareDraggableRow(t,n)}}}}}]).directive("uiGridDraggableRows",["uiGridDraggableRowsService",function(e){return{restrict:"A",replace:!0,priority:0,require:"uiGrid",scope:!1,compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid,t,n)}}}}}])}()},function(e,t){},function(e,t,n){n(0),n(293),e.exports="hj.modal"},function(e,t){!function(){"use strict";angular.module("hj.modal",[]).factory("ModalService",["$document","$compile","$controller","$http","$rootScope","$q","$templateCache","$timeout",function(e,t,n,i,r,o,a,s){var l=angular.element(e[0].body);return new function(){this.showModal=function(c){c.showingClass=c.showingClass||"hj-modal--showing";var u=o.defer();return function(e,t){var n=o.defer();if(e)n.resolve(e);else if(t){var r=a.get(t);r?n.resolve(r):i.get(t).then(function(e){a.put(t,e.data),n.resolve(e.data)},function(e){n.reject(e)})}else n.reject("No template or templateUrl has been specified.");return n.promise}(c.template,c.templateUrl).then(function(i){var a=r.$new();a.$scope=a;var d=o.defer(),p=function(e,t){t=t||0,m(),s(function(){d.resolve(e),f()},t)},h=function(e){e=e||0,m(),s(function(){d.reject(),f()},e)},m=function(){s(c.appendElement?function(){c.appendElement.removeClass(c.showingClass)}:function(){l.removeClass(c.showingClass)})},f=function(){a.$destroy(),C.remove(),e.off("keydown",g)};a.$modal={close:p,dismiss:h};var g=function(e){27===e.keyCode&&h()};e.on("keydown",g);var v,b=c.inputs||{},y=c.controller;a=angular.extend(a,b),y&&"string"==typeof y&&c.controllerAs&&(y=y+" as "+c.controllerAs),y&&"string"!=typeof y&&angular.injector.$$annotate(y),v=n(y||function(){},a),c.controllerAs&&(y&&"string"!=typeof y&&(a[c.controllerAs]=v),y||(a[c.controllerAs]=b));var w=angular.element(i),C=t(w)(a);a.$element=C;var E=c.appendElement?c.appendElement:l;E.append(C),s(function(){E.addClass(c.showingClass)});var x={controller:v,scope:a,element:C,result:d.promise,close:p,dismiss:h};u.resolve(x)}).then(null,function(e){u.reject(e)}),u.promise}}}])}()},function(e,t,n){var i,r;r=function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){function t(e,t,n,a,s,u,d){function p(e,t){o===n&&(angular.forEach(e,function(n,i){t[i]?angular.isArray(t[i])&&(e[i].length=t[i].length):delete e[i]}),angular.forEach(t,function(n,i){angular.isArray(t[i])||angular.isObject(t[i])?(e[i]||(e[i]=angular.isArray(t[i])?[]:{}),p(e[i],t[i])):e[i]=t[i]}))}if(c[n])return o=n,c[n];var h,m=s.defer();return n===o?m.resolve(t):(h=u.get(n))?(o=n,a.$evalAsync(function(){p(t,h),r.put(l,n),a.$broadcast("$localeChangeSuccess",n,t),m.resolve(t)})):(o=n,c[n]=m.promise,function(e,t,n,r){var o=document.createElement("script"),a=i||document.getElementsByTagName("body")[0],s=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,r(function(){s||(s=!0,a.removeChild(o),t())},30,!1))}:(o.onload=function(){s||(s=!0,a.removeChild(o),t())},o.onerror=function(){s||(s=!0,a.removeChild(o),n())}),o.src=e,o.async=!0,a.appendChild(o)}(e,function(){var e=angular.injector(["ngLocale"]).get("$locale");p(t,e),u.put(n,e),delete c[n],a.$applyAsync(function(){r.put(l,n),a.$broadcast("$localeChangeSuccess",n,t),m.resolve(t)})},function(){delete c[n],a.$applyAsync(function(){o===n&&(o=t.id),a.$broadcast("$localeChangeError",n),m.reject(n)})},d)),m.promise}var n,i,r,o,a="angular/i18n/angular-locale_{{locale}}.js",s="tmhDynamicLocaleStorageCache",l=e,c={},u={};this.localeLocationPattern=function(e){return e?(a=e,this):a},this.appendScriptTo=function(e){i=e},this.useStorage=function(e){s=e},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(e){n=e},this.storageKey=function(e){return e?(l=e,this):l},this.addLocalePatternValue=function(e,t){u[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,i,c,d,p,h,m){function f(n){var i={locale:n,angularVersion:angular.version.full};return t(g(angular.extend({},u,i)),d,n,e,p,h,m)}var g=c(a);return r=i.get(s),e.$evalAsync(function(){var e;(e=r.get(l)||n)&&f(e)}),{set:f,get:function(){return o}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"},void 0===(i=function(){return r()}.apply(t,[]))||(e.exports=i)},function(e,t,n){n(296),e.exports="iso-3166-country-codes"},function(e,t,n){"use strict";angular.module("iso-3166-country-codes",[]).factory("ISO3166",function(){var e={codeToCountry:{AF:"Afghanistan",AX:"Åland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic of The",CK:"Cook Islands",CR:"Costa Rica",CI:"Côte D'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and Mcdonald Islands",VA:"Holy See (vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, The Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Réunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthélemy",SH:"Saint Helena, Ascension and Tristan Da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French Part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and The Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch Part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and The South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.s.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},countryToCode:{},countryCodes:[]};for(var t in e.codeToCountry)e.countryToCode[e.codeToCountry[t]]=t,e.countryCodes.push(t);return e.isCountryCode=function(e){return angular.isString(e)&&(e=e.toUpperCase()),angular.isDefined(this.codeToCountry[e])},e.getCountryCode=function(e,t){var n=this.countryToCode[e.toUpperCase()];return t=t||"toUpperCase",n&&n[t]()},e.getCountryName=function(e,t){return t=t||"toString",this.codeToCountry[e]&&this.codeToCountry[e][t]()},e.getCountryNames=function(t,n){n=n||"toString";var i={};return angular.forEach(t,function(t){e.isCountryCode(t)&&(i[t]=e.getCountryName(t,n))}),i},e}).filter("isoCountry",["ISO3166",function(e){return function(t){var n=e.getCountryName(t);return angular.isUndefined(n)?t:n}}]).filter("isoCountryCode",["ISO3166",function(e){return function(t){var n=e.getCountryCode(t);return angular.isUndefined(n)?t:n}}]).directive("countryCode",["ISO3166",function(e){return{require:"ngModel",link:function(t,n,i,r){r.$parsers.unshift(function(t){return e.isCountryCode(t)?(r.$setValidity("countrycode",!0),t):void r.$setValidity("countrycode",!1)})}}}])},function(e,t,n){var i;i=function(){"use strict";function t(e,t){return/^(?:[a-z]+:)?\/\//i.test(t)?t:[e,t].join("/").replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}function i(e){var t="https:"===e.protocol;return e.protocol+"//"+e.hostname+":"+(e.port||(t?"443":"80"))+(/^\//.test(e.pathname)?e.pathname:"/"+e.pathname)}function r(e){var t,n,i={};return angular.forEach((e||"").split("&"),function(e){e&&(n=e.split("="),t=decodeURIComponent(n[0]),i[t]=!angular.isDefined(n[1])||decodeURIComponent(n[1]))}),i}function o(t){var i;if(void 0!==e&&e.exports)try{i=n(28).Buffer}catch(e){}var r=String.fromCharCode,o=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),a=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return r(55296+(t>>>10))+r(56320+(1023&t));case 3:return r((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return r((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}};return(i?function(e){return(e.constructor===i.constructor?e:new i(e,"base64")).toString()}:function(e){return atob(e).replace(o,a)})(String(t).replace(/[-_]/g,function(e){return"-"===e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}var a=function(){function e(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}return Object.defineProperty(e,"getConstant",{get:function(){return new e},enumerable:!0,configurable:!0}),e}(),s=function(){function e(e){this.SatellizerConfig=e}return Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(e){this.SatellizerConfig.baseUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(e){this.SatellizerConfig.loginUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(e){this.SatellizerConfig.signupUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(e){this.SatellizerConfig.unlinkUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(e){this.SatellizerConfig.tokenRoot=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(e){this.SatellizerConfig.tokenName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(e){this.SatellizerConfig.tokenPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(e){this.SatellizerConfig.tokenHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(e){this.SatellizerConfig.tokenType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(e){this.SatellizerConfig.withCredentials=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(e){this.SatellizerConfig.storageType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(e){this.SatellizerConfig.httpInterceptor="function"==typeof e?e:function(){return e}},enumerable:!0,configurable:!0}),e.prototype.facebook=function(e){angular.extend(this.SatellizerConfig.providers.facebook,e)},e.prototype.google=function(e){angular.extend(this.SatellizerConfig.providers.google,e)},e.prototype.github=function(e){angular.extend(this.SatellizerConfig.providers.github,e)},e.prototype.instagram=function(e){angular.extend(this.SatellizerConfig.providers.instagram,e)},e.prototype.linkedin=function(e){angular.extend(this.SatellizerConfig.providers.linkedin,e)},e.prototype.twitter=function(e){angular.extend(this.SatellizerConfig.providers.twitter,e)},e.prototype.twitch=function(e){angular.extend(this.SatellizerConfig.providers.twitch,e)},e.prototype.live=function(e){angular.extend(this.SatellizerConfig.providers.live,e)},e.prototype.yahoo=function(e){angular.extend(this.SatellizerConfig.providers.yahoo,e)},e.prototype.bitbucket=function(e){angular.extend(this.SatellizerConfig.providers.bitbucket,e)},e.prototype.spotify=function(e){angular.extend(this.SatellizerConfig.providers.spotify,e)},e.prototype.oauth1=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"1.0"})},e.prototype.oauth2=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"2.0"})},e.prototype.$get=function(e,t,n){return{login:function(e,n){return t.login(e,n)},signup:function(e,n){return t.signup(e,n)},logout:function(){return e.logout()},authenticate:function(e,t){return n.authenticate(e,t)},link:function(e,t){return n.authenticate(e,t)},unlink:function(e,t){return n.unlink(e,t)},isAuthenticated:function(){return e.isAuthenticated()},getPayload:function(){return e.getPayload()},getToken:function(){return e.getToken()},setToken:function(t){return e.setToken({access_token:t})},removeToken:function(){return e.removeToken()},setStorageType:function(t){return e.setStorageType(t)}}},e.$inject=["SatellizerConfig"],e}();s.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];var l=function(){function e(e,t,n,i){this.$q=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerStorage=i;var r=this.SatellizerConfig,o=r.tokenName,a=r.tokenPrefix;this.prefixedTokenName=a?[a,o].join("_"):o}return e.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},e.prototype.getPayload=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e&&3===e.split(".").length)try{var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(o(t))}catch(e){}},e.prototype.setToken=function(e){var t,n=this.SatellizerConfig.tokenRoot,i=this.SatellizerConfig.tokenName,r=e&&e.access_token;if(r&&(angular.isObject(r)&&angular.isObject(r.data)?e=r:angular.isString(r)&&(t=r)),!t&&e){var o=n&&n.split(".").reduce(function(e,t){return e[t]},e.data);t=o?o[i]:e.data&&e.data[i]}t&&this.SatellizerStorage.set(this.prefixedTokenName,t)},e.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},e.prototype.isAuthenticated=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e){if(3===e.split(".").length)try{var t=e.split(".")[1].replace("-","+").replace("_","/"),n=JSON.parse(this.$window.atob(t)).exp;if("number"==typeof n)return Math.round((new Date).getTime()/1e3)<n}catch(e){return!0}return!0}return!1},e.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},e.prototype.setStorageType=function(e){this.SatellizerConfig.storageType=e},e.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"],e}(),c=function(){function e(e,t,n){this.$http=e,this.SatellizerConfig=t,this.SatellizerShared=n}return e.prototype.login=function(e,n){var i=this;return void 0===n&&(n={}),n.url=n.url?n.url:t(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),n.data=e||n.data,n.method=n.method||"POST",n.withCredentials=n.withCredentials||this.SatellizerConfig.withCredentials,this.$http(n).then(function(e){return i.SatellizerShared.setToken(e),e})},e.prototype.signup=function(e,n){return void 0===n&&(n={}),n.url=n.url?n.url:t(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),n.data=e||n.data,n.method=n.method||"POST",n.withCredentials=n.withCredentials||this.SatellizerConfig.withCredentials,this.$http(n)},e.$inject=["$http","SatellizerConfig","SatellizerShared"],e}(),u=function(){function e(e,t,n){this.$interval=e,this.$window=t,this.$q=n,this.popup=null,this.defaults={redirectUri:null}}return e.prototype.stringifyOptions=function(e){var t=[];return angular.forEach(e,function(e,n){t.push(n+"="+e)}),t.join(",")},e.prototype.open=function(e,t,n,i,r){var o=n.width||500,a=n.height||500,s=this.stringifyOptions({width:o,height:a,top:this.$window.screenY+(this.$window.outerHeight-a)/2.5,left:this.$window.screenX+(this.$window.outerWidth-o)/2}),l=this.$window.cordova||this.$window.navigator.userAgent.indexOf("CriOS")>-1?"_blank":t;if(this.popup=this.$window.open(e,l,s),this.popup&&this.popup.focus&&this.popup.focus(),!r)return this.$window.cordova?this.eventListener(i):("about:blank"===e&&(this.popup.location=e),this.polling(i))},e.prototype.polling=function(e){var t=this;return this.$q(function(n,o){var a=document.createElement("a");a.href=e;var s=i(a),l=t.$interval(function(){t.popup&&!t.popup.closed&&void 0!==t.popup.closed||(t.$interval.cancel(l),o(new Error("The popup window was closed")));try{if(i(t.popup.location)===s){if(t.popup.location.search||t.popup.location.hash){var e=r(t.popup.location.search.substring(1).replace(/\/$/,"")),a=r(t.popup.location.hash.substring(1).replace(/[\/$]/,"")),c=angular.extend({},e,a);c.error?o(new Error(c.error)):n(c)}else o(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removed—typically by a routing library—before Satellizer could read it."));t.$interval.cancel(l),t.popup.close()}}catch(e){}},500)})},e.prototype.eventListener=function(e){var t=this;return this.$q(function(n,i){t.popup.addEventListener("loadstart",function(o){if(0===o.url.indexOf(e)){var a=document.createElement("a");if(a.href=o.url,a.search||a.hash){var s=r(a.search.substring(1).replace(/\/$/,"")),l=r(a.hash.substring(1).replace(/[\/$]/,"")),c=angular.extend({},s,l);c.error?i(new Error(c.error)):n(c),t.popup.close()}}}),t.popup.addEventListener("loaderror",function(){i(new Error("Authorization failed"))}),t.popup.addEventListener("exit",function(){i(new Error("The popup window was closed"))})})},e.$inject=["$interval","$window","$q"],e}(),d=function(){function e(e,t,n,i){this.$http=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerPopup=i,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}return e.prototype.init=function(e,t){var n=this;angular.extend(this.defaults,e);var i=e.name,r=e.popupOptions,o=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",i,r,o,!0),this.getRequestToken().then(function(i){return n.openPopup(e,i).then(function(e){return n.exchangeForToken(e,t)})})},e.prototype.openPopup=function(e,t){var n=[e.authorizationEndpoint,this.buildQueryString(t.data)].join("?"),i=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(n,e.name,e.popupOptions,i):(this.SatellizerPopup.popup.location=n,this.SatellizerPopup.polling(i))},e.prototype.getRequestToken=function(){var e=this.SatellizerConfig.baseUrl?t(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(e,this.defaults)},e.prototype.exchangeForToken=function(e,n){var i=angular.extend({},n,e),r=this.SatellizerConfig.baseUrl?t(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(r,i,{withCredentials:this.SatellizerConfig.withCredentials})},e.prototype.buildQueryString=function(e){var t=[];return angular.forEach(e,function(e,n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.join("&")},e.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"],e}(),p=function(){function e(e,t,n,i,r,o,a){this.$http=e,this.$window=t,this.$timeout=n,this.$q=i,this.SatellizerConfig=r,this.SatellizerPopup=o,this.SatellizerStorage=a,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}return e.camelCase=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,i){return i?n.toUpperCase():n})},e.prototype.init=function(e,t){var n=this;return this.$q(function(i,r){angular.extend(n.defaults,e);var o=n.defaults.name+"_state",a=n.defaults,s=a.name,l=a.state,c=a.popupOptions,u=a.redirectUri,d=a.responseType;"function"==typeof l?n.SatellizerStorage.set(o,l()):"string"==typeof l&&n.SatellizerStorage.set(o,l);var p=[n.defaults.authorizationEndpoint,n.buildQueryString()].join("?");n.SatellizerPopup.open(p,s,c,u).then(function(e){return"token"!==d&&p?e.state&&e.state!==n.SatellizerStorage.get(o)?r(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void i(n.exchangeForToken(e,t)):i(e)}).catch(function(e){return r(e)})})},e.prototype.exchangeForToken=function(e,n){var i=this,r=angular.extend({},n);angular.forEach(this.defaults.responseParams,function(t,n){switch(n){case"code":r[t]=e.code;break;case"clientId":r[t]=i.defaults.clientId;break;case"redirectUri":r[t]=i.defaults.redirectUri;break;default:r[t]=e[n]}}),e.state&&(r.state=e.state);var o=this.SatellizerConfig.baseUrl?t(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(o,r,{withCredentials:this.SatellizerConfig.withCredentials})},e.prototype.buildQueryString=function(){var t=this,n=[];return angular.forEach(["defaultUrlParams","requiredUrlParams","optionalUrlParams"],function(i){angular.forEach(t.defaults[i],function(i){var r=e.camelCase(i),o=angular.isFunction(t.defaults[i])?t.defaults[i]():t.defaults[r];if("redirect_uri"!==i||o){if("state"===i){var a=t.defaults.name+"_state";o=encodeURIComponent(t.SatellizerStorage.get(a))}"scope"===i&&Array.isArray(o)&&(o=o.join(t.defaults.scopeDelimiter),t.defaults.scopePrefix&&(o=[t.defaults.scopePrefix,o].join(t.defaults.scopeDelimiter))),n.push([i,o])}})}),n.map(function(e){return e.join("=")}).join("&")},e.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"],e}(),h=function(){function e(e,t,n,i,r,o,a,s,l,c){this.$http=e,this.$window=t,this.$timeout=n,this.$q=i,this.SatellizerConfig=r,this.SatellizerPopup=o,this.SatellizerStorage=a,this.SatellizerShared=s,this.SatellizerOAuth1=l,this.SatellizerOAuth2=c}return e.prototype.authenticate=function(e,t){var n=this;return this.$q(function(i,r){var o=n.SatellizerConfig.providers[e],a=null;switch(o.oauthType){case"1.0":a=new d(n.$http,n.$window,n.SatellizerConfig,n.SatellizerPopup);break;case"2.0":a=new p(n.$http,n.$window,n.$timeout,n.$q,n.SatellizerConfig,n.SatellizerPopup,n.SatellizerStorage);break;default:return r(new Error("Invalid OAuth Type"))}return a.init(o,t).then(function(e){o.url&&n.SatellizerShared.setToken(e),i(e)}).catch(function(e){r(e)})})},e.prototype.unlink=function(e,n){return void 0===n&&(n={}),n.url=n.url?n.url:t(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),n.data={provider:e}||n.data,n.method=n.method||"POST",n.withCredentials=n.withCredentials||this.SatellizerConfig.withCredentials,this.$http(n)},e.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"],e}(),m=function(){function e(e,t){this.$window=e,this.SatellizerConfig=t,this.memoryStore={}}return e.prototype.get=function(e){try{return this.$window[this.SatellizerConfig.storageType].getItem(e)}catch(t){return this.memoryStore[e]}},e.prototype.set=function(e,t){try{this.$window[this.SatellizerConfig.storageType].setItem(e,t)}catch(n){this.memoryStore[e]=t}},e.prototype.remove=function(e){try{this.$window[this.SatellizerConfig.storageType].removeItem(e)}catch(t){delete this.memoryStore[e]}},e.$inject=["$window","SatellizerConfig"],e}(),f=function(){function e(e,t,n){var i=this;this.SatellizerConfig=e,this.SatellizerShared=t,this.SatellizerStorage=n,this.request=function(e){if(e.skipAuthorization)return e;if(i.SatellizerShared.isAuthenticated()&&i.SatellizerConfig.httpInterceptor()){var t=i.SatellizerConfig.tokenPrefix?[i.SatellizerConfig.tokenPrefix,i.SatellizerConfig.tokenName].join("_"):i.SatellizerConfig.tokenName,n=i.SatellizerStorage.get(t);i.SatellizerConfig.tokenHeader&&i.SatellizerConfig.tokenType&&(n=i.SatellizerConfig.tokenType+" "+n),e.headers[i.SatellizerConfig.tokenHeader]=n}return e}}return e.Factory=function(t,n,i){return new e(t,n,i)},e.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"],e}();f.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var g=function(){function e(e){this.$httpProvider=e,e.interceptors.push(f.Factory)}return e.$inject=["$httpProvider"],e}();return angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(e){return new s(e)}]).constant("SatellizerConfig",a.getConstant).service("SatellizerShared",l).service("SatellizerLocal",c).service("SatellizerPopup",u).service("SatellizerOAuth",h).service("SatellizerOAuth2",p).service("SatellizerOAuth1",d).service("SatellizerStorage",m).service("SatellizerInterceptor",f).config(["$httpProvider",function(e){return new g(e)}]),"satellizer"},e.exports=i()},function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e,t,n){for(var i,r,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(o[(r=i)>>18&63]+o[r>>12&63]+o[r>>6&63]+o[63&r]);return a.join("")}t.byteLength=function(e){return 3*e.length/4-i(e)},t.toByteArray=function(e){var t,n,r,o,l,c=e.length;o=i(e),l=new s(3*c/4-o),n=o>0?c-4:c;var u=0;for(t=0;t<n;t+=4)r=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)],l[u++]=r>>16&255,l[u++]=r>>8&255,l[u++]=255&r;return 2===o?(r=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4,l[u++]=255&r):1===o&&(r=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2,l[u++]=r>>8&255,l[u++]=255&r),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a="",s=[],l=0,c=n-i;l<c;l+=16383)s.push(r(e,l,l+16383>c?c:l+16383));return 1===i?(t=e[n-1],a+=o[t>>2],a+=o[t<<4&63],a+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],a+=o[t>>10],a+=o[t>>4&63],a+=o[t<<2&63],a+="="),s.push(a),s.join("")};for(var o=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)o[c]=l[c],a[l.charCodeAt(c)]=c;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=c}return(h?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,m=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=m,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+h]=255&a,h+=m,a/=256,c-=8);e[n+h-m]|=128*f}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){angular.module("md5",[]).constant("md5",function(){function e(e){return n(t(i(e)))}function t(e){return o(a(r(e),8*e.length))}function n(e){for(var t,n=h?"0123456789ABCDEF":"0123456789abcdef",i="",r=0;r<e.length;r++)t=e.charCodeAt(r),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function i(e){for(var t,n,i="",r=-1;++r<e.length;)t=e.charCodeAt(r),n=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),r++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function r(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function o(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function a(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,h=i,m=r,f=o;i=d(i=d(i=d(i=d(i=u(i=u(i=u(i=u(i=c(i=c(i=c(i=c(i=l(i=l(i=l(i=l(i,r=l(r,o=l(o,n=l(n,i,r,o,e[a+0],7,-680876936),i,r,e[a+1],12,-389564586),n,i,e[a+2],17,606105819),o,n,e[a+3],22,-1044525330),r=l(r,o=l(o,n=l(n,i,r,o,e[a+4],7,-176418897),i,r,e[a+5],12,1200080426),n,i,e[a+6],17,-1473231341),o,n,e[a+7],22,-45705983),r=l(r,o=l(o,n=l(n,i,r,o,e[a+8],7,1770035416),i,r,e[a+9],12,-1958414417),n,i,e[a+10],17,-42063),o,n,e[a+11],22,-1990404162),r=l(r,o=l(o,n=l(n,i,r,o,e[a+12],7,1804603682),i,r,e[a+13],12,-40341101),n,i,e[a+14],17,-1502002290),o,n,e[a+15],22,1236535329),r=c(r,o=c(o,n=c(n,i,r,o,e[a+1],5,-165796510),i,r,e[a+6],9,-1069501632),n,i,e[a+11],14,643717713),o,n,e[a+0],20,-373897302),r=c(r,o=c(o,n=c(n,i,r,o,e[a+5],5,-701558691),i,r,e[a+10],9,38016083),n,i,e[a+15],14,-660478335),o,n,e[a+4],20,-405537848),r=c(r,o=c(o,n=c(n,i,r,o,e[a+9],5,568446438),i,r,e[a+14],9,-1019803690),n,i,e[a+3],14,-187363961),o,n,e[a+8],20,1163531501),r=c(r,o=c(o,n=c(n,i,r,o,e[a+13],5,-1444681467),i,r,e[a+2],9,-51403784),n,i,e[a+7],14,1735328473),o,n,e[a+12],20,-1926607734),r=u(r,o=u(o,n=u(n,i,r,o,e[a+5],4,-378558),i,r,e[a+8],11,-2022574463),n,i,e[a+11],16,1839030562),o,n,e[a+14],23,-35309556),r=u(r,o=u(o,n=u(n,i,r,o,e[a+1],4,-1530992060),i,r,e[a+4],11,1272893353),n,i,e[a+7],16,-155497632),o,n,e[a+10],23,-1094730640),r=u(r,o=u(o,n=u(n,i,r,o,e[a+13],4,681279174),i,r,e[a+0],11,-358537222),n,i,e[a+3],16,-722521979),o,n,e[a+6],23,76029189),r=u(r,o=u(o,n=u(n,i,r,o,e[a+9],4,-640364487),i,r,e[a+12],11,-421815835),n,i,e[a+15],16,530742520),o,n,e[a+2],23,-995338651),r=d(r,o=d(o,n=d(n,i,r,o,e[a+0],6,-198630844),i,r,e[a+7],10,1126891415),n,i,e[a+14],15,-1416354905),o,n,e[a+5],21,-57434055),r=d(r,o=d(o,n=d(n,i,r,o,e[a+12],6,1700485571),i,r,e[a+3],10,-1894986606),n,i,e[a+10],15,-1051523),o,n,e[a+1],21,-2054922799),r=d(r,o=d(o,n=d(n,i,r,o,e[a+8],6,1873313359),i,r,e[a+15],10,-30611744),n,i,e[a+6],15,-1560198380),o,n,e[a+13],21,1309151649),r=d(r,o=d(o,n=d(n,i,r,o,e[a+4],6,-145523070),i,r,e[a+11],10,-1120210379),n,i,e[a+2],15,718787259),o,n,e[a+9],21,-343485551),n=p(n,s),i=p(i,h),r=p(r,m),o=p(o,f)}return Array(n,i,r,o)}function s(e,t,n,i,r,o){return p((a=p(p(t,e),p(i,o)))<<(s=r)|a>>>32-s,n);var a,s}function l(e,t,n,i,r,o,a){return s(t&n|~t&i,e,t,r,o,a)}function c(e,t,n,i,r,o,a){return s(t&i|n&~i,e,t,r,o,a)}function u(e,t,n,i,r,o,a){return s(t^n^i,e,t,r,o,a)}function d(e,t,n,i,r,o,a){return s(n^(t|~i),e,t,r,o,a)}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var h=0;return e}()),function(){var e;e=function(e){return["gravatarService",function(t){var n;return n=function(e,t){var n,i,r;for(n in i={},t)r=t[n],0===n.indexOf(e)&&(n=n.substr(e.length).toLowerCase()).length>0&&(i[n]=r);return i},{restrict:"A",link:function(i,r,o){var a,s,l,c;s=o[a=e?"gravatarSrcOnce":"gravatarSrc"],delete o[a],l=n("gravatar",o),c=i.$watch(s,function(n){if(r.attr("src",t.url(n,l)),e){if(null==n)return;c()}})}}}]},angular.module("ui.gravatar",["md5"]).provider("gravatarService",["md5",function(e){var t,n,i;return n=this,t=/^[0-9a-f]{32}$/i,i=function(e){var t,n,i;for(t in n=[],e)i=e[t],n.push(t+"="+encodeURIComponent(i));return n.join("&")},this.defaults={},this.secure=!1,this.protocol=null,this.urlFunc=function(n){var r,o,a;return a=n.protocol?n.protocol+":":"",o=[n.secure?"https://secure":a+"//www",".gravatar.com/avatar/",t.test(n.src)?n.src:e(n.src)],(r=i(n.params)).length>0&&o.push("?"+r),o.join("")},this.$get=[function(){return{url:function(e,t){return null==e&&(e=""),null==t&&(t={}),n.urlFunc({params:angular.extend(angular.copy(n.defaults),t),protocol:n.protocol,secure:n.secure,src:e})}}}],this}]).directive("gravatarSrc",e()).directive("gravatarSrcOnce",e(!0))}.call(this)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(303)),s=i(n(368)),l=i(n(369)),c=i(n(370)),u=i(n(371)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(375)),p=[a.default.name,s.default.name];r.default.forEach(d,function(e){p.push(e.name)});var h=o.default.module("app.common",p).controller("DefaultModalController",l.default).factory("BatchFactory",c.default).factory("HelperFactory",u.default);t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(31)),a=i(n(304)),s=(i(n(1)),i(n(44))),l=i(n(305)),c=r.default.module("generalFilters",[]);c.filter("encodeURI",["$window",function(e){"ngInject";return function(t){return e.encodeURI(t)}}]),c.filter("encodeURIComponent",["$window",function(e){"ngInject";return function(t){return e.encodeURIComponent(t)}}]),c.filter("fromNow",function(){return function(e){return(0,o.default)(e).fromNow()}}),c.filter("pad",function(){return function(e,t,n){return n=n||"0",(e=""+e).length>=(t=t||2)?e:new Array(t-e.length+1).join(n)+e}}),c.filter("simplifyText",function(){return function(e){return e?e=(e=e.replace(/<\/(p|h1|h2|h3|h4|h5|h6)\b[^>]*>/gi,"&#13;&#10").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi," ").replace(/\s{2,}/g," ")).replace(/&#13;&#10[^$]/gi,"<br>"):""}}),c.filter("stripTags",function(){return function(e,t){return e?(t=((""+(t||"")).toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})):""}}),c.filter("truncateWords",function(){return function(e,t){if(!e)return"";var n=e.split(" ");return n.length<=t?e:n.slice(0,t).join(" ")+"…"}}),c.filter("pluralize",function(){return function(e){if(!e)return"";var t=e;return"us"===e.substr(e.length-2)?t=t.substr(0,t.length-2)+"i":"ch"===e.substr(e.length-2)||"x"===e.charAt(e.length-1)||"s"===e.charAt(e.length-1)?t+="es":"y"===e.charAt(e.length-1)&&-1===["a","e","i","o","u"].indexOf(e.charAt(e.length-2))?t=t.substr(0,t.length-1)+"ies":"is"===e.substr(e.length-2)?t=t.substr(0,t.length-2)+"es":t+="s",t}}),c.filter("camelCase",function(){return function(e){return e.replace(/-\w/g,function(e){return e[1].toUpperCase()})}}),c.filter("fileSize",function(){return function(e){var t=0;if(!e)return t;try{t=(0,a.default)(e)}catch(e){}return t}}),c.filter("trimify",function(){return function(e){return e.replace(/^(-|–|—|\/|:|\s)+/,"").replace(/(-|–|—|\/|:|\s)+$/,"")}}),c.filter("toTitleCase",function(){return function(e){return e?e.replace(/\w\S*/g,function(e){return/^(and|of)$/i.test(e)?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):e}}),c.filter("toFixed",function(){return function(e,t){return t=void 0!==t?t:2,void 0===e?e:("number"!=typeof e&&(e=Number(e)),e.toFixed(t))}}),c.filter("parseDate",["$filter",function(e){"ngInject";return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";return t?e("date")(Date.parse(t),n):"-"}}]),c.filter("decodeEntities",function(){return function(e){return s.default.decode(e)}}),c.filter("cleanHTML",function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,l.default)(e,{allowedTags:["p","a","h2","h3","h4","h5","h6","blockquote","caption","strike","code","pre","ul","ol","li","u","b","i","strong","em","sub","sup","hr","br","table","thead","tbody","tr","th","td","entity"],allowedSchemes:["http","https","ftp","mailto","tel","urn"],parser:{lowerCaseTags:!0},transformTags:{a:function(e,t){var n=/https?:\/\//.test(t.href),i={tagName:e,attribs:{href:t.href||""}};return n&&(i.attribs.target="_blank"),i}},exclusiveFilter:function(e){return/^(a|p)$/.test(e.tag)&&!e.text.trim()}});return t&&(n=n.replace(/&nbsp;/gi," ")),n}}),t.default=c},function(e,t,n){"use strict";(function(t){!function(t){function n(e){var t,n,a,s,l,c,u,d,p,h,m,f,g,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=[],y=0,w=void 0,C=void 0;if(isNaN(e))throw new Error("Invalid arguments");return n=!0===v.bits,p=!0===v.unix,t=v.base||2,d=void 0!==v.round?v.round:p?1:2,h=void 0!==v.separator&&v.separator||"",m=void 0!==v.spacer?v.spacer:p?"":" ",g=v.symbols||v.suffixes||{},f=2===t&&v.standard||"jedec",u=v.output||"string",s=!0===v.fullform,l=v.fullforms instanceof Array?v.fullforms:[],w=void 0!==v.exponent?v.exponent:-1,c=(C=Number(e))<0,a=t>2?1e3:1024,c&&(C=-C),(-1===w||isNaN(w))&&(w=Math.floor(Math.log(C)/Math.log(a)))<0&&(w=0),w>8&&(w=8),0===C?(b[0]=0,b[1]=p?"":r[f][n?"bits":"bytes"][w]):(y=C/(2===t?Math.pow(2,10*w):Math.pow(1e3,w)),n&&(y*=8)>=a&&w<8&&(y/=a,w++),b[0]=Number(y.toFixed(w>0?d:0)),b[1]=10===t&&1===w?n?"kb":"kB":r[f][n?"bits":"bytes"][w],p&&(b[1]="jedec"===f?b[1].charAt(0):w>0?b[1].replace(/B$/,""):b[1],i.test(b[1])&&(b[0]=Math.floor(b[0]),b[1]=""))),c&&(b[0]=-b[0]),b[1]=g[b[1]]||b[1],"array"===u?b:"exponent"===u?w:"object"===u?{value:b[0],suffix:b[1],symbol:b[1]}:(s&&(b[1]=l[w]?l[w]:o[f][w]+(n?"bit":"byte")+(1===b[0]?"":"s")),h.length>0&&(b[0]=b[0].toString().replace(".",h)),b.join(m))}var i=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},o={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};n.partial=function(e){return function(t){return n(t,e)}},e.exports=n}("undefined"!=typeof window&&window)}).call(t,n(8))},function(e,t,n){"use strict";function i(e,t){e&&Object.keys(e).forEach(function(n){t(e[n],n)})}function r(e,t){return{}.hasOwnProperty.call(e,t)}function o(e,t){var n=[];return i(e,function(e){t(e)&&n.push(e)}),n}function a(e,t,n){function y(e){return"string"!=typeof e&&(e+=""),e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function w(e,n){var i=(n=(n=n.replace(/[\x00-\x20]+/g,"")).replace(/<\!\-\-.*?\-\-\>/g,"")).match(/^([a-zA-Z]+)\:/);if(!i)return!!n.match(/^[\/\\]{2}/)&&!t.allowProtocolRelative;var o=i[1].toLowerCase();return r(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(o):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(o)}var C="";t?(t=l(a.defaults,t)).parser?t.parser=l(b,t.parser):t.parser=b:(t=a.defaults).parser=b;var E,x,S=t.nonTextTags||["script","style","textarea"];t.allowedAttributes&&(E={},x={},i(t.allowedAttributes,function(e,t){E[t]=[];var n=[];e.forEach(function(e){p(e)&&e.indexOf("*")>=0?n.push(c(e).replace(/\\\*/g,".*")):E[t].push(e)}),x[t]=new RegExp("^("+n.join("|")+")$")}));var _={};i(t.allowedClasses,function(e,t){E&&(r(E,t)||(E[t]=[]),E[t].push("class")),_[t]=e});var T,A={};i(t.transformTags,function(e,t){var n;"function"==typeof e?n=e:"string"==typeof e&&(n=a.simpleTransform(e)),"*"===t?T=n:A[t]=n});var k=0,$=[],M={},P={},R=!1,O=0,D=new s.Parser({onopentag:function(e,n){if(R)O++;else{var a=new function(e,t){var n=this;this.tag=e,this.attribs=t||{},this.tagPosition=C.length,this.text="",this.updateParentNodeText=function(){$.length&&($[$.length-1].text+=n.text)}}(e,n);$.push(a);var s,l=!1,c=!!a.text;r(A,e)&&(s=A[e](e,n),a.attribs=n=s.attribs,void 0!==s.text&&(a.innerText=s.text),e!==s.tagName&&(a.name=e=s.tagName,P[k]=s.tagName)),T&&(s=T(e,n),a.attribs=n=s.attribs,e!==s.tagName&&(a.name=e=s.tagName,P[k]=s.tagName)),t.allowedTags&&-1===t.allowedTags.indexOf(e)&&(l=!0,-1!==S.indexOf(e)&&(R=!0,O=1),M[k]=!0),k++,l||(C+="<"+e,(!E||r(E,e)||E["*"])&&i(n,function(n,s){if(v.test(s)){var l,c=!1;if(!E||r(E,e)&&-1!==E[e].indexOf(s)||E["*"]&&-1!==E["*"].indexOf(s)||r(x,e)&&x[e].test(s)||x["*"]&&x["*"].test(s))c=!0;else if(E&&E[e]){var p=!0,b=!1,S=void 0;try{for(var T,A=E[e][Symbol.iterator]();!(p=(T=A.next()).done);p=!0){var k=T.value;if(h(k)&&k.name&&k.name===s){c=!0;var $="";if(!0===k.multiple){var M=n.split(" "),P=!0,R=!1,O=void 0;try{for(var D,N=M[Symbol.iterator]();!(P=(D=N.next()).done);P=!0){var I=D.value;-1!==k.values.indexOf(I)&&(""===$?$=I:$+=" "+I)}}catch(e){R=!0,O=e}finally{try{!P&&N.return&&N.return()}finally{if(R)throw O}}}else k.values.indexOf(n)>=0&&($=n);n=$}}}catch(e){b=!0,S=e}finally{try{!p&&A.return&&A.return()}finally{if(b)throw S}}}if(c){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(s)&&w(e,n))return void delete a.attribs[s];if("iframe"===e&&"src"===s){"//"===n.substring(0,2)&&(n="https:".concat(n));try{if(l=g.parse(n),t.allowedIframeHostnames&&!t.allowedIframeHostnames.find(function(e){return e===l.hostname}))return void delete a.attribs[s]}catch(e){return void delete a.attribs[s]}}if("srcset"===s)try{if(i(l=m.parse(n),function(e){w("srcset",e.url)&&(e.evil=!0)}),!(l=o(l,function(e){return!e.evil})).length)return void delete a.attribs[s];n=m.stringify(o(l,function(e){return!e.evil})),a.attribs[s]=n}catch(e){return void delete a.attribs[s]}if("class"===s&&!(n=function(e,t){return t?(e=e.split(/\s+/)).filter(function(e){return-1!==t.indexOf(e)}).join(" "):e}(n,_[e])).length)return void delete a.attribs[s];if("style"===s)try{if(0===(n=function(e){return e.nodes[0].nodes.reduce(function(e,t){return e.push(t.prop+":"+t.value+";"),e},[]).join("")}(function(e,t){if(!t)return e;var n,i=u(e),r=e.nodes[0];return n=t[r.selector]&&t["*"]?d(u(t[r.selector]),t["*"],function(e,t){if(Array.isArray(e))return e.concat(t)}):t[r.selector]||t["*"],n&&(i.nodes[0].nodes=r.nodes.reduce(function(e){return function(t,n){if(e.hasOwnProperty(n.prop)){e[n.prop].some(function(e){return e.test(n.value)})&&t.push(n)}return t}}(n),[])),i}(f.parse(e+" {"+n+"}"),t.allowedStyles))).length)return void delete a.attribs[s]}catch(e){return void delete a.attribs[s]}C+=" "+s,n.length&&(C+='="'+y(n)+'"')}else delete a.attribs[s]}else delete a.attribs[s]}),-1!==t.selfClosing.indexOf(e)?C+=" />":(C+=">",!a.innerText||c||t.textFilter||(C+=a.innerText)))}},ontext:function(e){if(!R){var n,i=$[$.length-1];if(i&&(n=i.tag,e=void 0!==i.innerText?i.innerText:e),"script"===n||"style"===n)C+=e;else{var r=y(e);t.textFilter?C+=t.textFilter(r):C+=r}$.length&&($[$.length-1].text+=e)}},onclosetag:function(e){if(R){if(--O)return;R=!1}var n=$.pop();if(n){if(R=!1,M[--k])return delete M[k],void n.updateParentNodeText();P[k]&&(e=P[k],delete P[k]),t.exclusiveFilter&&t.exclusiveFilter(n)?C=C.substr(0,n.tagPosition):(n.updateParentNodeText(),-1===t.selfClosing.indexOf(e)&&(C+="</"+e+">"))}}},t.parser);return D.write(e),D.end(),C}var s=n(45),l=n(337),c=n(338),u=n(339),d=n(340),p=n(341),h=n(342),m=n(343),f=n(346),g=n(362);e.exports=a;var v=/^[^\0\t\n\f\r \/<=>]+$/,b={decodeEntities:!0};a.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","iframe"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0},a.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(i,r){var o;if(n)for(o in t)r[o]=t[o];else r=t;return{tagName:e,attribs:r}}}},function(e,t){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){function i(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=l),this._callback=e,this._options=t||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var r=n(46),o=/\s+/g,a=n(164),s=n(308),l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};i.prototype.onparserinit=function(e){this._parser=e},i.prototype.onreset=function(){i.call(this,this._callback,this._options,this._elementCB)},i.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},i.prototype._handleCallback=i.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},i.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},i.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(s):Object.create(a),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},i.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,i=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),i?(e.prev=i,i.next=e):e.prev=null,n.push(e),e.parent=t||null},i.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},i.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)n?t.data=(t.data+e).replace(o," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)n?t.data=(t.data+e).replace(o," "):t.data+=e;else{n&&(e=e.replace(o," "));var i=this._createDomElement({data:e,type:r.Text});this._addDomElement(i)}},i.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)t.data+=e;else{var n={data:e,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)}},i.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},i.prototype.oncommentend=i.prototype.oncdataend=function(){this._tagStack.pop()},i.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(n)},e.exports=i},function(e,t,n){var i=n(164),r=e.exports=Object.create(i),o={tagName:"name"};Object.keys(o).forEach(function(e){var t=o[e];Object.defineProperty(r,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){function i(e,t){this.init(e,t)}function r(e,t){return u.getElementsByTagName(e,t,!0)}function o(e,t){return u.getElementsByTagName(e,t,!0,1)[0]}function a(e,t,n){return u.getText(u.getElementsByTagName(e,t,n,1)).trim()}function s(e,t,n,i,r){var o=a(n,i,r);o&&(e[t]=o)}var l=n(45),c=l.DomHandler,u=l.DomUtils;n(17)(i,c),i.prototype.init=c;var d=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};i.prototype.onend=function(){var e,t,n={},i=o(d,this.dom);i&&("feed"===i.name?(t=i.children,n.type="atom",s(n,"id","id",t),s(n,"title","title",t),(e=o("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),s(n,"description","subtitle",t),(e=a("updated",t))&&(n.updated=new Date(e)),s(n,"author","email",t,!0),n.items=r("entry",t).map(function(e){var t,n={};return s(n,"id","id",e=e.children),s(n,"title","title",e),(t=o("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=a("summary",e)||a("content",e))&&(n.description=t),(t=a("updated",e))&&(n.pubDate=new Date(t)),n})):(t=o("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",s(n,"title","title",t),s(n,"link","link",t),s(n,"description","description",t),(e=a("lastBuildDate",t))&&(n.updated=new Date(e)),s(n,"author","managingEditor",t,!0),n.items=r("item",i.children).map(function(e){var t,n={};return s(n,"id","guid",e=e.children),s(n,"title","title",e),s(n,"link","link",e),s(n,"description","description",e),(t=a("pubDate",e))&&(n.pubDate=new Date(t)),n}))),this.dom=n,c.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},e.exports=i},function(e,t,n){function i(e){o.call(this,new r(this),e)}function r(e){this.scope=e}e.exports=i;var o=n(165);n(17)(i,o),i.prototype.readable=!0;var a=n(45).EVENTS;Object.keys(a).forEach(function(e){if(0===a[e])r.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===a[e])r.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==a[e])throw Error("wrong number of arguments!");r.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}})},function(e,t,n){function i(){r.call(this)}e.exports=i;var r=n(61).EventEmitter;n(17)(i,r),i.Readable=n(91),i.Writable=n(318),i.Duplex=n(319),i.Transform=n(320),i.PassThrough=n(321),i.Stream=i,i.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function i(){c.readable&&c.resume&&c.resume()}function o(){u||(u=!0,e.end())}function a(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){c.removeListener("data",n),e.removeListener("drain",i),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",l),c.removeListener("close",l),e.removeListener("close",l)}var c=this;c.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(c.on("end",o),c.on("close",a));var u=!1;return c.on("error",s),e.on("error",s),c.on("end",l),c.on("close",l),e.on("close",l),e.emit("pipe",c),e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var i=n(63).Buffer,r=n(315);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,o=i.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,r=s,t.copy(n,r),s+=a.data.length,a=a.next;return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(t,n(8))},function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.exports=i;var r=n(169),o=n(47);o.inherits=n(17),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(92)},function(e,t,n){e.exports=n(29)},function(e,t,n){e.exports=n(91).Transform},function(e,t,n){e.exports=n(91).PassThrough},function(e,t){},function(e,t,n){function i(e){this._cbs=e||{}}e.exports=i;var r=n(45).EVENTS;Object.keys(r).forEach(function(e){if(0===r[e])e="on"+e,i.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,i.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,i.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}})},function(e,t,n){var i=e.exports;[n(325),n(331),n(332),n(333),n(334),n(335)].forEach(function(e){Object.keys(e).forEach(function(t){i[t]=e[t].bind(i)})})},function(e,t,n){var i=n(46),r=n(326),o=i.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map(function(e){return r(e,t)}).join(""):""},getOuterHTML:r,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):o(t)?"br"===t.name?"\n":e(t.children):t.type===i.CDATA?e(t.children):t.type===i.Text?t.data:""}}},function(e,t,n){function i(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,i=function(e,t){if(e){var n,i="";for(var r in e)n=e[r],i&&(i+=" "),!n&&u[r]?i+=r:i+=r+'="'+(t.decodeEntities?c.encodeXML(n):n)+'"';return i}}(e.attribs,t);return i&&(n+=" "+i),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=h(e.children,t)),p[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function r(e){return"<"+e.data+">"}function o(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in d||(n=c.encodeXML(n)),n}function a(e){return"<![CDATA["+e.children[0].data+"]]>"}function s(e){return"\x3c!--"+e.data+"--\x3e"}var l=n(327),c=n(328),u={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},d={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},p={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},h=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",c=0;c<e.length;c++){var u=e[c];"root"===u.type?n+=h(u.children,t):l.isTag(u)?n+=i(u,t):u.type===l.Directive?n+=r(u):u.type===l.Comment?n+=s(u):u.type===l.CDATA?n+=a(u):n+=o(u,t)}return n}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var i=n(329),r=n(330);t.decode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.XML:r.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.encodeXML=i.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=i.HTML,t.decodeXML=t.decodeXMLStrict=r.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=r.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=r.HTMLStrict,t.escape=i.escape},function(e,t,n){function i(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function r(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}function o(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function a(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function s(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(h,a).replace(p,o)}}var l=i(n(90)),c=r(l);t.XML=s(l,c);var u=i(n(89)),d=r(u);t.HTML=s(u,d);var p=/[^\0-\x7F]/g,h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r(l);t.escape=function(e){return e.replace(m,o).replace(h,a).replace(p,o)}},function(e,t,n){function i(e){var t=Object.keys(e).join("|"),n=o(e),i=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(i,n)}}function r(e,t){return e<t?1:-1}function o(e){return function(t){return"#"===t.charAt(1)?c("X"===t.charAt(2)||"x"===t.charAt(2)?parseInt(t.substr(3),16):parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}var a=n(89),s=n(163),l=n(90),c=n(162),u=i(l),d=i(a),p=function(){function e(e){return";"!==e.substr(-1)&&(e+=";"),u(e)}for(var t=Object.keys(s).sort(r),n=Object.keys(a).sort(r),i=0,l=0;i<n.length;i++)t[l]===n[i]?(n[i]+=";?",l++):n[i]+=";";var c=new RegExp("&(?:"+n.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),u=o(a);return function(t){return String(t).replace(c,e)}}();e.exports={XML:u,HTML:p,HTMLStrict:d}},function(e,t){var n=t.getChildren=function(e){return e.children},i=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=i(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var i=t.next=e.next;i&&(i.prev=t);var r=t.parent=e.parent;if(r){var o=r.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=n,i){if(i.prev=t,n){var r=n.children;r.splice(r.lastIndexOf(i),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var i=n.children;i.splice(i.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){function i(e,t,n,r){for(var o,a=[],s=0,l=t.length;s<l&&!(e(t[s])&&(a.push(t[s]),--r<=0))&&(o=t[s].children,!(n&&o&&o.length>0&&(o=i(e,o,n,r),a=a.concat(o),(r-=o.length)<=0)));s++);return a}var r=n(46).isTag;e.exports={filter:function(e,t,n,r){return Array.isArray(t)||(t=[t]),"number"==typeof r&&isFinite(r)||(r=1/0),i(e,t,!1!==n,r)},find:i,findOneChild:function(e,t){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){for(var i=null,o=0,a=n.length;o<a&&!i;o++)r(n[o])&&(t(n[o])?i=n[o]:n[o].children.length>0&&(i=e(t,n[o].children)));return i},existsOne:function e(t,n){for(var i=0,o=n.length;i<o;i++)if(r(n[i])&&(t(n[i])||n[i].children.length>0&&e(t,n[i].children)))return!0;return!1},findAll:function(e,t){for(var n=[],i=t.slice();i.length;){var o=i.shift();r(o)&&(o.children&&o.children.length>0&&i.unshift.apply(i,o.children),e(o)&&n.push(o))}return n}}},function(e,t,n){function i(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function r(e,t){return function(n){return e(n)||t(n)}}var o=n(46),a=t.isTag=o.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n))if("tag_name"===n){if(!a(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(a(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1;return!0};var s={tag_name:function(e){return"function"==typeof e?function(t){return a(t)&&e(t.name)}:"*"===e?a:function(t){return a(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!a(t)&&e(t.data)}:function(t){return!a(t)&&t.data===e}}};t.getElements=function(e,t,n,o){var a=Object.keys(e).map(function(t){var n=e[t];return t in s?s[t](n):i(t,n)});return 0===a.length?[]:this.filter(a.reduce(r),t,n,o)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(i("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,i){return this.filter(s.tag_name(e),t,n,i)},t.getElementsByTagType=function(e,t,n,i){return this.filter(s.tag_type(e),t,n,i)}},function(e,t){t.removeSubsets=function(e){for(var t,n,i,r=e.length;--r>-1;){for(t=n=e[r],e[r]=null,i=!0;n;){if(e.indexOf(n)>-1){i=!1,e.splice(r,1);break}n=n.parent}i&&(e[r]=t)}return e};var n=t.compareDocumentPosition=function(e,t){var n,i,r,o,a,s,l=[],c=[];if(e===t)return 0;for(n=e;n;)l.unshift(n),n=n.parent;for(n=t;n;)c.unshift(n),n=n.parent;for(s=0;l[s]===c[s];)s++;return 0===s?1:(r=(i=l[s-1]).children,o=l[s],a=c[s],r.indexOf(o)>r.indexOf(a)?i===t?20:4:i===e?10:2)};t.uniqueSort=function(e){var t,i,r=e.length;for(e=e.slice();--r>-1;)t=e[r],(i=e.indexOf(t))>-1&&i<r&&e.splice(r,1);return e.sort(function(e,t){var i=n(e,t);return 2&i?-1:4&i?1:0}),e}},function(e,t,n){function i(e){this._cbs=e||{},this.events=[]}e.exports=i;var r=n(45).EVENTS;Object.keys(r).forEach(function(e){if(0===r[e])e="on"+e,i.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,i.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,i.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}}),i.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},i.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){(function(t){function n(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&u.call(e)==r}(e))return h?h.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}var i=1/0,r="[object Symbol]",o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source),s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=c.Symbol,p=d?d.prototype:void 0,h=p?p.toString:void 0;e.exports=function(e){var t;return(e=null==(t=e)?"":n(t))&&a.test(e)?e.replace(o,"\\$&"):e}}).call(t,n(8))},function(e,t,n){(function(e,n){function i(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function o(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function a(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function s(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function l(e,t){return function(n){return e(t(n))}}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function u(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function d(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function h(e){this.__data__=new d(e)}function m(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&A(e)}(e)&&ye.call(e,"callee")&&(!Ae.call(e,"callee")||we.call(e)==O)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!ye.call(e,o)||r&&("length"==o||x(o,i))||n.push(o);return n}function f(e,t,n){var i=e[t];ye.call(e,t)&&T(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function g(e,t){for(var n=e.length;n--;)if(T(e[n][0],t))return n;return-1}function v(e,t,n,l,u,d,p){var m;if(l&&(m=d?l(e,u,d,p):l(e)),void 0!==m)return m;if(!$(e))return e;var g=We(e);if(g){if(m=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ye.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e,m)}else{var b=Ge(e),C=b==I||b==L;if(Ke(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(b==j||b==O||C&&!d){if(a(e))return d?e:{};if(m=function(e){return"function"!=typeof e.constructor||S(e)?{}:(t=_e(e),$(t)?Te(t):{});var t}(C?{}:e),!t)return function(e,t){return w(e,Ve(e),t)}(e,function(e,t){return e&&w(t,M(t),e)}(m,e))}else{if(!oe[b])return d?e:{};m=function(e,t,n,a){var l=e.constructor;switch(t){case V:return y(e);case D:case N:return new l(+e);case G:return function(e,t){var n=t?y(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,a);case W:case K:case Y:case X:case Z:case J:case Q:case ee:case te:return function(e,t){var n=t?y(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,a);case F:return function(e,t,n){return o(t?n(s(e),!0):s(e),i,new e.constructor)}(e,a,n);case H:case U:return new l(e);case B:return(p=new(d=e).constructor(d.source,ne.exec(d))).lastIndex=d.lastIndex,p;case z:return function(e,t,n){return o(t?n(c(e),!0):c(e),r,new e.constructor)}(e,a,n);case q:return u=e,qe?Object(qe.call(u)):{}}var u,d,p}(e,b,v,t)}}p||(p=new h);var E=p.get(e);if(E)return E;if(p.set(e,m),!g)var x=n?function(e){return function(e,t,n){var i=t(e);return We(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,M,Ve)}(e):M(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==function(r,o){x&&(r=e[o=r]),f(m,o,v(r,t,n,i,o,e,p))}(e[n],n););}(x||e),m}function b(e){return!(!$(e)||ve&&ve in e)&&(k(e)||a(e)?Ce:ie).test(_(e))}function y(e){var t=new e.constructor(e.byteLength);return new Se(t).set(new Se(e)),t}function w(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):void 0;f(n,a,void 0===s?e[a]:s)}return n}function C(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function E(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return b(n)?n:void 0}function x(e,t){return!!(t=null==t?R:t)&&("number"==typeof e||re.test(e))&&e>-1&&e%1==0&&e<t}function S(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fe)}function _(e){if(null!=e){try{return be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function T(e,t){return e===t||e!=e&&t!=t}function A(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=R}(e.length)&&!k(e)}function k(e){var t=$(e)?we.call(e):"";return t==I||t==L}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function M(e){return A(e)?m(e):function(e){if(!S(e))return Pe(e);var t=[];for(var n in Object(e))ye.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var P="__lodash_hash_undefined__",R=9007199254740991,O="[object Arguments]",D="[object Boolean]",N="[object Date]",I="[object Function]",L="[object GeneratorFunction]",F="[object Map]",H="[object Number]",j="[object Object]",B="[object RegExp]",z="[object Set]",U="[object String]",q="[object Symbol]",V="[object ArrayBuffer]",G="[object DataView]",W="[object Float32Array]",K="[object Float64Array]",Y="[object Int8Array]",X="[object Int16Array]",Z="[object Int32Array]",J="[object Uint8Array]",Q="[object Uint8ClampedArray]",ee="[object Uint16Array]",te="[object Uint32Array]",ne=/\w*$/,ie=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,oe={};oe[O]=oe["[object Array]"]=oe[V]=oe[G]=oe[D]=oe[N]=oe[W]=oe[K]=oe[Y]=oe[X]=oe[Z]=oe[F]=oe[H]=oe[j]=oe[B]=oe[z]=oe[U]=oe[q]=oe[J]=oe[Q]=oe[ee]=oe[te]=!0,oe["[object Error]"]=oe[I]=oe["[object WeakMap]"]=!1;var ae,se="object"==typeof e&&e&&e.Object===Object&&e,le="object"==typeof self&&self&&self.Object===Object&&self,ce=se||le||Function("return this")(),ue="object"==typeof t&&t&&!t.nodeType&&t,de=ue&&"object"==typeof n&&n&&!n.nodeType&&n,pe=de&&de.exports===ue,he=Array.prototype,me=Function.prototype,fe=Object.prototype,ge=ce["__core-js_shared__"],ve=(ae=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||""))?"Symbol(src)_1."+ae:"",be=me.toString,ye=fe.hasOwnProperty,we=fe.toString,Ce=RegExp("^"+be.call(ye).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=pe?ce.Buffer:void 0,xe=ce.Symbol,Se=ce.Uint8Array,_e=l(Object.getPrototypeOf,Object),Te=Object.create,Ae=fe.propertyIsEnumerable,ke=he.splice,$e=Object.getOwnPropertySymbols,Me=Ee?Ee.isBuffer:void 0,Pe=l(Object.keys,Object),Re=E(ce,"DataView"),Oe=E(ce,"Map"),De=E(ce,"Promise"),Ne=E(ce,"Set"),Ie=E(ce,"WeakMap"),Le=E(Object,"create"),Fe=_(Re),He=_(Oe),je=_(De),Be=_(Ne),ze=_(Ie),Ue=xe?xe.prototype:void 0,qe=Ue?Ue.valueOf:void 0;u.prototype.clear=function(){this.__data__=Le?Le(null):{}},u.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},u.prototype.get=function(e){var t=this.__data__;if(Le){var n=t[e];return n===P?void 0:n}return ye.call(t,e)?t[e]:void 0},u.prototype.has=function(e){var t=this.__data__;return Le?void 0!==t[e]:ye.call(t,e)},u.prototype.set=function(e,t){return this.__data__[e]=Le&&void 0===t?P:t,this},d.prototype.clear=function(){this.__data__=[]},d.prototype.delete=function(e){var t=this.__data__,n=g(t,e);return!(n<0||(n==t.length-1?t.pop():ke.call(t,n,1),0))},d.prototype.get=function(e){var t=this.__data__,n=g(t,e);return n<0?void 0:t[n][1]},d.prototype.has=function(e){return g(this.__data__,e)>-1},d.prototype.set=function(e,t){var n=this.__data__,i=g(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},p.prototype.clear=function(){this.__data__={hash:new u,map:new(Oe||d),string:new u}},p.prototype.delete=function(e){return C(this,e).delete(e)},p.prototype.get=function(e){return C(this,e).get(e)},p.prototype.has=function(e){return C(this,e).has(e)},p.prototype.set=function(e,t){return C(this,e).set(e,t),this},h.prototype.clear=function(){this.__data__=new d},h.prototype.delete=function(e){return this.__data__.delete(e)},h.prototype.get=function(e){return this.__data__.get(e)},h.prototype.has=function(e){return this.__data__.has(e)},h.prototype.set=function(e,t){var n=this.__data__;if(n instanceof d){var i=n.__data__;if(!Oe||i.length<199)return i.push([e,t]),this;n=this.__data__=new p(i)}return n.set(e,t),this};var Ve=$e?l($e,Object):function(){return[]},Ge=function(e){return we.call(e)};(Re&&Ge(new Re(new ArrayBuffer(1)))!=G||Oe&&Ge(new Oe)!=F||De&&"[object Promise]"!=Ge(De.resolve())||Ne&&Ge(new Ne)!=z||Ie&&"[object WeakMap]"!=Ge(new Ie))&&(Ge=function(e){var t=we.call(e),n=t==j?e.constructor:void 0,i=n?_(n):void 0;if(i)switch(i){case Fe:return G;case He:return F;case je:return"[object Promise]";case Be:return z;case ze:return"[object WeakMap]"}return t});var We=Array.isArray,Ke=Me||function(){return!1};n.exports=function(e){return v(e,!0,!0)}}).call(t,n(8),n(18)(e))},function(e,t,n){(function(e,n){function i(e,t){return"__proto__"==t?void 0:e[t]}function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function s(e){var t=this.__data__=new o(e);this.size=t.size}function l(e,t){var n=Me(e),i=!n&&$e(e),r=!n&&!i&&Pe(e),o=!n&&!i&&!r&&Re(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!ae.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||w(c,l))||s.push(c);return s}function c(e,t,n){(void 0===n||E(e[t],n))&&(void 0!==n||t in e)||p(e,t,n)}function u(e,t,n){var i=e[t];ae.call(e,t)&&E(i,n)&&(void 0!==n||t in e)||p(e,t,n)}function d(e,t){for(var n=e.length;n--;)if(E(e[n][0],t))return n;return-1}function p(e,t,n){"__proto__"==t&&ye?ye(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function h(e){return null==e?void 0===e?H:I:be&&be in Object(e)?function(e){var t=ae.call(e,be),n=e[be];try{e[be]=void 0;var i=!0}catch(e){}var r=le.call(e);return i&&(t?e[be]=n:delete e[be]),r}(e):function(e){return le.call(e)}(e)}function m(e){return A(e)&&h(e)==R}function f(e){return!(!T(e)||se&&se in e)&&(S(e)?ue:j).test(function(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function g(e){if(!T(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=C(e),n=[];for(var i in e)("constructor"!=i||!t&&ae.call(e,i))&&n.push(i);return n}function v(e,t,n,r,o){e!==t&&Ae(t,function(a,l){if(T(a))o||(o=new s),function(e,t,n,r,o,a,s){var l=i(e,n),d=i(t,n),m=s.get(d);if(m)return void c(e,n,m);var f=a?a(l,d,n+"",e,t,s):void 0,g=void 0===f;if(g){var v=Me(d),b=!v&&Pe(d),y=!v&&!b&&Re(d);f=d,v||b||y?Me(l)?f=l:A(M=l)&&x(M)?f=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(l):b?(g=!1,f=function(e,t){return e.slice()}(d)):y?(g=!1,w=d,_=w.buffer,$=new _.constructor(_.byteLength),new he($).set(new he(_)),E=$,f=new w.constructor(E,w.byteOffset,w.length)):f=[]:function(e){if(!A(e)||h(e)!=L)return!1;var t=me(e);if(null===t)return!0;var n=ae.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&oe.call(n)==ce}(d)||$e(d)?(f=l,$e(l)?f=function(e){return function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?p(n,s,l):u(n,s,l)}return n}(e,k(e))}(l):(!T(l)||r&&S(l))&&(f=function(e){return"function"!=typeof e.constructor||C(e)?{}:_e(me(e))}(d))):g=!1}var w,E,_,$,M;g&&(s.set(d,f),o(f,d,r,a,s),s.delete(d)),c(e,n,f)}(e,t,l,n,v,r,o);else{var d=r?r(i(e,l),a,l+"",e,t,o):void 0;void 0===d&&(d=a),c(e,l,d)}},k)}function b(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function y(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return f(n)?n:void 0}function w(e,t){var n=typeof e;return!!(t=null==t?P:t)&&("number"==n||"symbol"!=n&&B.test(e))&&e>-1&&e%1==0&&e<t}function C(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ie)}function E(e,t){return e===t||e!=e&&t!=t}function x(e){return null!=e&&_(e.length)&&!S(e)}function S(e){if(!T(e))return!1;var t=h(e);return t==D||t==N||t==O||t==F}function _(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function T(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function A(e){return null!=e&&"object"==typeof e}function k(e){return x(e)?l(e,!0):g(e)}function $(e){return e}var M="__lodash_hash_undefined__",P=9007199254740991,R="[object Arguments]",O="[object AsyncFunction]",D="[object Function]",N="[object GeneratorFunction]",I="[object Null]",L="[object Object]",F="[object Proxy]",H="[object Undefined]",j=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,z={};z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z[R]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object Boolean]"]=z["[object DataView]"]=z["[object Date]"]=z["[object Error]"]=z[D]=z["[object Map]"]=z["[object Number]"]=z[L]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object WeakMap]"]=!1;var U,q,V,G="object"==typeof e&&e&&e.Object===Object&&e,W="object"==typeof self&&self&&self.Object===Object&&self,K=G||W||Function("return this")(),Y="object"==typeof t&&t&&!t.nodeType&&t,X=Y&&"object"==typeof n&&n&&!n.nodeType&&n,Z=X&&X.exports===Y,J=Z&&G.process,Q=function(){try{return J&&J.binding&&J.binding("util")}catch(e){}}(),ee=Q&&Q.isTypedArray,te=Array.prototype,ne=Function.prototype,ie=Object.prototype,re=K["__core-js_shared__"],oe=ne.toString,ae=ie.hasOwnProperty,se=(U=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",le=ie.toString,ce=oe.call(Object),ue=RegExp("^"+oe.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),de=Z?K.Buffer:void 0,pe=K.Symbol,he=K.Uint8Array,me=(de&&de.allocUnsafe,q=Object.getPrototypeOf,V=Object,function(e){return q(V(e))}),fe=Object.create,ge=ie.propertyIsEnumerable,ve=te.splice,be=pe?pe.toStringTag:void 0,ye=function(){try{var e=y(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),we=de?de.isBuffer:void 0,Ce=Math.max,Ee=Date.now,xe=y(K,"Map"),Se=y(Object,"create"),_e=function(){function e(){}return function(t){if(!T(t))return{};if(fe)return fe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();r.prototype.clear=function(){this.__data__=Se?Se(null):{},this.size=0},r.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},r.prototype.get=function(e){var t=this.__data__;if(Se){var n=t[e];return n===M?void 0:n}return ae.call(t,e)?t[e]:void 0},r.prototype.has=function(e){var t=this.__data__;return Se?void 0!==t[e]:ae.call(t,e)},r.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Se&&void 0===t?M:t,this},o.prototype.clear=function(){this.__data__=[],this.size=0},o.prototype.delete=function(e){var t=this.__data__,n=d(t,e);return!(n<0||(n==t.length-1?t.pop():ve.call(t,n,1),--this.size,0))},o.prototype.get=function(e){var t=this.__data__,n=d(t,e);return n<0?void 0:t[n][1]},o.prototype.has=function(e){return d(this.__data__,e)>-1},o.prototype.set=function(e,t){var n=this.__data__,i=d(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},a.prototype.clear=function(){this.size=0,this.__data__={hash:new r,map:new(xe||o),string:new r}},a.prototype.delete=function(e){var t=b(this,e).delete(e);return this.size-=t?1:0,t},a.prototype.get=function(e){return b(this,e).get(e)},a.prototype.has=function(e){return b(this,e).has(e)},a.prototype.set=function(e,t){var n=b(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},s.prototype.clear=function(){this.__data__=new o,this.size=0},s.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},s.prototype.get=function(e){return this.__data__.get(e)},s.prototype.has=function(e){return this.__data__.has(e)},s.prototype.set=function(e,t){var n=this.__data__;if(n instanceof o){var i=n.__data__;if(!xe||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this};var Te,Ae=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[++i];if(!1===t(r[s],s,r))break}return e},ke=function(e){var t=0,n=0;return function(){var i=Ee(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ye?function(e,t){return ye(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:$),$e=m(function(){return arguments}())?m:function(e){return A(e)&&ae.call(e,"callee")&&!ge.call(e,"callee")},Me=Array.isArray,Pe=we||function(){return!1},Re=ee?function(e){return function(t){return e(t)}}(ee):function(e){return A(e)&&_(e.length)&&!!z[h(e)]},Oe=(Te=function(e,t,n,i){v(e,t,n,i)},function(e,t){return ke(function(e,t,n){return t=Ce(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=Ce(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,$),e+"")}(function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for((r=Te.length>3&&"function"==typeof r?(i--,r):void 0,o&&function(e,t,n){if(!T(n))return!1;var i=typeof t;return!!("number"==i?x(n)&&w(t,n.length):"string"==i&&t in n)&&E(n[t],e)}(t[0],t[1],o)&&(r=i<3?void 0:r,i=1),e=Object(e));++n<i;){var a=t[n];a&&Te(e,a,n,r)}return e}));n.exports=Oe}).call(t,n(8),n(18)(e))},function(e,t){var n=Object.prototype.toString,i=Array.isArray;e.exports=function(e){return"string"==typeof e||!i(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==n.call(e)}},function(e,t){var n,i,r=Function.prototype,o=Object.prototype,a=r.toString,s=o.hasOwnProperty,l=a.call(Object),c=o.toString,u=(n=Object.getPrototypeOf,i=Object,function(e){return n(i(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=c.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=u(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==l}},function(e,t,n){"use strict";var i=n(344),r=n(345),o=/^\d+$/;t.parse=function(e){return(t=e.split(",").map(function(e){var t={};return e.trim().split(/\s+/).forEach(function(e,n){if(0===n)return t.url=e;var r=e.substring(0,e.length-1),a=e[e.length-1],s=parseInt(r,10),l=parseFloat(r);if("w"===a&&o.test(r))t.width=s;else if("h"===a&&o.test(r))t.height=s;else{if("x"!==a||i(l))throw new Error("Invalid srcset descriptor: "+e+".");t.density=l}}),t})).sort().filter(function(e,n){return JSON.stringify(e)!==JSON.stringify(t[n-1])});var t},t.stringify=function(e){return r(e.map(function(e){if(!e.url)throw new Error("URL is required.");var t=[e.url];return e.width&&t.push(e.width+"w"),e.height&&t.push(e.height+"h"),e.density&&t.push(e.density+"x"),t.join(" ")})).join(", ")}},function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},function(e,t,n){"use strict";(function(t){var n;"Set"in t?"function"==typeof Set.prototype.forEach&&(n=!1,new Set([!0]).forEach(function(e){n=e}),!0===n)?e.exports=function(e){var t=[];return new Set(e).forEach(function(e){t.push(e)}),t}:e.exports=function(e){var t=new Set;return e.filter(function(e){return!t.has(e)&&(t.add(e),!0)})}:e.exports=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}}).call(t,n(8))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new a.default(t)}t.__esModule=!0;var o=i(n(94)),a=i(n(180)),s=i(n(97)),l=i(n(99)),c=i(n(64)),u=i(n(361)),d=i(n(98)),p=i(n(182)),h=i(n(65)),m=i(n(101));r.plugin=function(e,t){var n=function(){var n=t.apply(void 0,arguments);return n.postcssPlugin=e,n.postcssVersion=(new a.default).version,n},i=void 0;return Object.defineProperty(n,"postcss",{get:function(){return i||(i=n()),i}}),n.process=function(e,t,i){return r([n(i)]).process(e,t)},n},r.stringify=s.default,r.parse=d.default,r.vendor=u.default,r.list=p.default,r.comment=function(e){return new l.default(e)},r.atRule=function(e){return new c.default(e)},r.decl=function(e){return new o.default(e)},r.rule=function(e){return new h.default(e)},r.root=function(e){return new m.default(e)},t.default=r,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(171)),o=i(n(172)),a=i(n(173)),s={brackets:r.default.cyan,"at-word":r.default.cyan,call:r.default.cyan,comment:r.default.gray,string:r.default.green,class:r.default.yellow,hash:r.default.magenta,"(":r.default.cyan,")":r.default.cyan,"{":r.default.yellow,"}":r.default.yellow,"[":r.default.yellow,"]":r.default.yellow,":":r.default.yellow,";":r.default.yellow};t.default=function(e){for(var t=(0,o.default)(new a.default(e),{ignoreErrors:!0}),n="";!t.endOfFile();)!function(){var e=t.nextToken(),i=s[function(e,t){var n=e[0],i=e[1];if("word"===n){if("."===i[0])return"class";if("#"===i[0])return"hash"}if(!t.endOfFile()){var r=t.nextToken();if(t.back(r),"brackets"===r[0]||"("===r[0])return"call"}return n}(e,t)];n+=i?e[1].split(/\r?\n/).map(function(e){return i(e)}).join("\n"):e[1]}();return n},e.exports=t.default},function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(n(174)),s=r(n(96)),l=r(n(356)),c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");var i=n.map?n.map.prev:void 0,r=this.loadMap(n.from,i);r&&(this.text=r)}return e.prototype.consumer=function(){return this.consumerCache||(this.consumerCache=new a.default.SourceMapConsumer(this.text)),this.consumerCache},e.prototype.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e.prototype.startWith=function(e,t){return!!e&&e.substr(0,t.length)===t},e.prototype.loadAnnotation=function(e){var t=e.match(/\/\*\s*# sourceMappingURL=(.*)\s*\*\//);t&&(this.annotation=t[1].trim())},e.prototype.decodeInline=function(e){var t="data:application/json,";if(this.startWith(e,t))return decodeURIComponent(e.substr(t.length));if(/^data:application\/json;(?:charset=utf-?8;)?base64,/.test(e))return n=e.substr(RegExp.lastMatch.length),i?i.from&&i.from!==Uint8Array.from?i.from(n,"base64").toString():new i(n,"base64").toString():window.atob(n);var n,r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)},e.prototype.loadMap=function(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){var n=t(e);if(n&&l.default.existsSync&&l.default.existsSync(n))return l.default.readFileSync(n,"utf-8").toString().trim();throw new Error("Unable to load previous source map: "+n.toString())}if(t instanceof a.default.SourceMapConsumer)return a.default.SourceMapGenerator.fromSourceMap(t).toString();if(t instanceof a.default.SourceMapGenerator)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var i=this.annotation;return e&&(i=s.default.join(s.default.dirname(e),i)),this.root=s.default.dirname(i),!(!l.default.existsSync||!l.default.existsSync(i))&&l.default.readFileSync(i,"utf-8").toString().trim()}},e.prototype.isMap=function(e){return"object"===(void 0===e?"undefined":o(e))&&("string"==typeof e.mappings||"string"==typeof e._mappings)},e}();t.default=c,e.exports=t.default}).call(t,n(28).Buffer)},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var r=n(48);i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,n,i,o,a,s;t=this._last,n=e,i=t.generatedLine,o=n.generatedLine,a=t.generatedColumn,s=n.generatedColumn,o>i||o==i&&s>=a||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=i},function(e,t,n){function i(e,t){var n=e;return"string"==typeof e&&(n=s.parseSourceMapInput(e)),null!=n.sections?new a(n,t):new r(n,t)}function r(e,t){var n=e;"string"==typeof e&&(n=s.parseSourceMapInput(e));var i=s.getArg(n,"version"),r=s.getArg(n,"sources"),o=s.getArg(n,"names",[]),a=s.getArg(n,"sourceRoot",null),l=s.getArg(n,"sourcesContent",null),u=s.getArg(n,"mappings"),d=s.getArg(n,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);a&&(a=s.normalize(a)),r=r.map(String).map(s.normalize).map(function(e){return a&&s.isAbsolute(a)&&s.isAbsolute(e)?s.relative(a,e):e}),this._names=c.fromArray(o.map(String),!0),this._sources=c.fromArray(r,!0),this._absoluteSources=this._sources.toArray().map(function(e){return s.computeSourceURL(a,e,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=u,this._sourceMapURL=t,this.file=d}function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(e,t){var n=e;"string"==typeof e&&(n=s.parseSourceMapInput(e));var r=s.getArg(n,"version"),o=s.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new c,this._names=new c;var a={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=s.getArg(e,"offset"),r=s.getArg(n,"line"),o=s.getArg(n,"column");if(r<a.line||r===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new i(s.getArg(e,"map"),t)}})}var s=n(48),l=n(353),c=n(177).ArraySet,u=n(176),d=n(354).quickSort;i.fromSourceMap=function(e,t){return r.fromSourceMap(e,t)},i.prototype._version=3,i.prototype.__generatedMappings=null,Object.defineProperty(i.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),i.prototype.__originalMappings=null,Object.defineProperty(i.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),i.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},i.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},i.GENERATED_ORDER=1,i.ORIGINAL_ORDER=2,i.GREATEST_LOWER_BOUND=1,i.LEAST_UPPER_BOUND=2,i.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||i.GENERATED_ORDER){case i.GENERATED_ORDER:r=this._generatedMappings;break;case i.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;r.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=s.computeSourceURL(a,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},i.prototype.allGeneratedPositionsFor=function(e){var t=s.getArg(e,"line"),n={source:s.getArg(e,"source"),originalLine:t,originalColumn:s.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,l.LEAST_UPPER_BOUND);if(r>=0){var o=this._originalMappings[r];if(void 0===e.column)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++r];else for(var c=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==c;)i.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++r]}return i},t.SourceMapConsumer=i,r.prototype=Object.create(i.prototype),r.prototype.consumer=i,r.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=s.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},r.fromSourceMap=function(e,t){var n=Object.create(r.prototype),i=n._names=c.fromArray(e._names.toArray(),!0),a=n._sources=c.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(e){return s.computeSourceURL(n.sourceRoot,e,t)});for(var l=e._mappings.toArray().slice(),u=n.__generatedMappings=[],p=n.__originalMappings=[],h=0,m=l.length;h<m;h++){var f=l[h],g=new o;g.generatedLine=f.generatedLine,g.generatedColumn=f.generatedColumn,f.source&&(g.source=a.indexOf(f.source),g.originalLine=f.originalLine,g.originalColumn=f.originalColumn,f.name&&(g.name=i.indexOf(f.name)),p.push(g)),u.push(g)}return d(n.__originalMappings,s.compareByOriginalPositions),n},r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),r.prototype._parseMappings=function(e,t){for(var n,i,r,a,l,c=1,p=0,h=0,m=0,f=0,g=0,v=e.length,b=0,y={},w={},C=[],E=[];b<v;)if(";"===e.charAt(b))c++,b++,p=0;else if(","===e.charAt(b))b++;else{for((n=new o).generatedLine=c,a=b;a<v&&!this._charIsMappingSeparator(e,a);a++);if(r=y[i=e.slice(b,a)])b+=i.length;else{for(r=[];b<a;)u.decode(e,b,w),l=w.value,b=w.rest,r.push(l);if(2===r.length)throw new Error("Found a source, but no line and column");if(3===r.length)throw new Error("Found a source and line, but no column");y[i]=r}n.generatedColumn=p+r[0],p=n.generatedColumn,r.length>1&&(n.source=f+r[1],f+=r[1],n.originalLine=h+r[2],h=n.originalLine,n.originalLine+=1,n.originalColumn=m+r[3],m=n.originalColumn,r.length>4&&(n.name=g+r[4],g+=r[4])),E.push(n),"number"==typeof n.originalLine&&C.push(n)}d(E,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,d(C,s.compareByOriginalPositions),this.__originalMappings=C},r.prototype._findMapping=function(e,t,n,i,r,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return l.search(e,t,r,o)},r.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},r.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",s.compareByGeneratedPositionsDeflated,s.getArg(e,"bias",i.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=s.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=s.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var a=s.getArg(r,"name",null);return null!==a&&(a=this._names.at(a)),{source:o,line:s.getArg(r,"originalLine",null),column:s.getArg(r,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},r.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i,r=e;if(null!=this.sourceRoot&&(r=s.relative(this.sourceRoot,r)),null!=this.sourceRoot&&(i=s.urlParse(this.sourceRoot))){var o=r.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!i.path||"/"==i.path)&&this._sources.has("/"+r))return this.sourcesContent[this._sources.indexOf("/"+r)]}if(t)return null;throw new Error('"'+r+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(e){var t=s.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:s.getArg(e,"line"),originalColumn:s.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,s.getArg(e,"bias",i.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=r,a.prototype=Object.create(i.prototype),a.prototype.constructor=i,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),a.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},n=l.search(t,this._sections,function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var i=this._sections[n].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(s.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},a.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],r=i.consumer._generatedMappings,o=0;o<r.length;o++){var a=r[o],l=i.consumer._sources.at(a.source);l=s.computeSourceURL(i.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;a.name&&(c=i.consumer._names.at(a.name),this._names.add(c),c=this._names.indexOf(c));var u={source:l,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(u),"number"==typeof u.originalLine&&this.__originalMappings.push(u)}d(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),d(this.__originalMappings,s.compareByOriginalPositions)},t.IndexedSourceMapConsumer=a},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,i,r){if(0===n.length)return-1;var o=function e(n,i,r,o,a,s){var l=Math.floor((i-n)/2)+n,c=a(r,o[l],!0);return 0===c?l:c>0?i-l>1?e(l,i,r,o,a,s):s==t.LEAST_UPPER_BOUND?i<o.length?i:-1:l:l-n>1?e(n,l,r,o,a,s):s==t.LEAST_UPPER_BOUND?l:n<0?-1:n}(-1,n.length,e,n,i,r||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===i(n[o],n[o-1],!0);)--o;return o}},function(e,t){function n(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function i(e,t,r,o){if(r<o){var a=r-1;n(e,(u=r,d=o,Math.round(u+Math.random()*(d-u))),o);for(var s=e[o],l=r;l<o;l++)t(e[l],s)<=0&&n(e,a+=1,l);n(e,a+1,l);var c=a+1;i(e,t,r,c-1),i(e,t,c+1,o)}var u,d}t.quickSort=function(e,t){i(e,t,0,e.length-1)}},function(e,t,n){function i(e,t,n,i,r){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==r?null:r,this[s]=!0,null!=i&&this.add(i)}var r=n(175).SourceMapGenerator,o=n(48),a=/(\r?\n)/,s="$$$isSourceNode$$$";i.fromStringWithSourceMap=function(e,t,n){function r(e,t){if(null===e||void 0===e.source)s.add(t);else{var r=n?o.join(n,e.source):e.source;s.add(new i(e.originalLine,e.originalColumn,r,t,e.name))}}var s=new i,l=e.split(a),c=0,u=function(){function e(){return c<l.length?l[c++]:void 0}return e()+(e()||"")},d=1,p=0,h=null;return t.eachMapping(function(e){if(null!==h){if(!(d<e.generatedLine)){var t=(n=l[c]||"").substr(0,e.generatedColumn-p);return l[c]=n.substr(e.generatedColumn-p),p=e.generatedColumn,r(h,t),void(h=e)}r(h,u()),d++,p=0}for(;d<e.generatedLine;)s.add(u()),d++;if(p<e.generatedColumn){var n=l[c]||"";s.add(n.substr(0,e.generatedColumn)),l[c]=n.substr(e.generatedColumn),p=e.generatedColumn}h=e},this),c<l.length&&(h&&r(h,u()),s.add(l.splice(c).join(""))),t.sources.forEach(function(e){var i=t.sourceContentFor(e);null!=i&&(null!=n&&(e=o.join(n,e)),s.setSourceContent(e,i))}),s},i.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},i.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},i.prototype.walk=function(e){for(var t,n=0,i=this.children.length;n<i;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},i.prototype.join=function(e){var t,n,i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},i.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},i.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},i.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var i=Object.keys(this.sourceContents);for(t=0,n=i.length;t<n;t++)e(o.fromSetString(i[t]),this.sourceContents[i[t]])},i.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},i.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,o=null,a=null,s=null,l=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&a===r.line&&s===r.column&&l===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,a=r.line,s=r.column,l=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var c=0,u=e.length;c<u;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=i},function(e,t){},function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(n(174)),a=r(n(96)),s=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stringify=t,this.mapOpts=i.map||{},this.root=n,this.opts=i}return e.prototype.isMap=function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0},e.prototype.previous=function(){var e=this;return this.previousMaps||(this.previousMaps=[],this.root.walk(function(t){if(t.source&&t.source.input.map){var n=t.source.input.map;-1===e.previousMaps.indexOf(n)&&e.previousMaps.push(n)}})),this.previousMaps},e.prototype.isInline=function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))},e.prototype.isSourcesContent=function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})},e.prototype.clearAnnotation=function(){if(!1!==this.mapOpts.annotation)for(var e=void 0,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)},e.prototype.setSourcesContent=function(){var e=this,t={};this.root.walk(function(n){if(n.source){var i=n.source.input.from;if(i&&!t[i]){t[i]=!0;var r=e.relative(i);e.map.setSourceContent(r,n.source.input.css)}}})},e.prototype.applyPrevMaps=function(){var e=this.previous(),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var r=i,s=this.relative(r.file),l=r.root||a.default.dirname(r.file),c=void 0;!1===this.mapOpts.sourcesContent?(c=new o.default.SourceMapConsumer(r.text)).sourcesContent&&(c.sourcesContent=c.sourcesContent.map(function(){return null})):c=r.consumer(),this.map.applySourceMap(c,s,this.relative(l))}},e.prototype.isAnnotation=function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))},e.prototype.toBase64=function(e){return i?i.from&&i.from!==Uint8Array.from?i.from(e).toString("base64"):new i(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))},e.prototype.addAnnotation=function(){var e=void 0;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.outputFile()+".map";var t="\n";-1!==this.css.indexOf("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"},e.prototype.outputFile=function(){return this.opts.to?this.relative(this.opts.to):this.opts.from?this.relative(this.opts.from):"to.css"},e.prototype.generateMap=function(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},e.prototype.relative=function(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;var t=this.opts.to?a.default.dirname(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=a.default.dirname(a.default.resolve(t,this.mapOpts.annotation))),e=a.default.relative(t,e),"\\"===a.default.sep?e.replace(/\\/g,"/"):e},e.prototype.sourcePath=function(e){return this.mapOpts.from?this.mapOpts.from:this.relative(e.source.input.from)},e.prototype.generateString=function(){var e=this;this.css="",this.map=new o.default.SourceMapGenerator({file:this.outputFile()});var t=1,n=1,i=void 0,r=void 0;this.stringify(this.root,function(o,a,s){e.css+=o,a&&"end"!==s&&(a.source&&a.source.start?e.map.addMapping({source:e.sourcePath(a),generated:{line:t,column:n-1},original:{line:a.source.start.line,column:a.source.start.column-1}}):e.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:t,column:n-1}})),(i=o.match(/\n/g))?(t+=i.length,r=o.lastIndexOf("\n"),n=o.length-r):n+=o.length,a&&"start"!==s&&(a.source&&a.source.end?e.map.addMapping({source:e.sourcePath(a),generated:{line:t,column:n-1},original:{line:a.source.end.line,column:a.source.end.column}}):e.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:t,column:n-1}}))})},e.prototype.generate=function(){if(this.clearAnnotation(),this.isMap())return this.generateMap();var e="";return this.stringify(this.root,function(t){e+=t}),[e]},e}();t.default=s,e.exports=t.default}).call(t,n(28).Buffer)},function(e,t,n){"use strict";t.__esModule=!0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(359),a=(i=o)&&i.__esModule?i:{default:i},s=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.processor=t,this.messages=[],this.root=n,this.opts=i,this.css=void 0,this.map=void 0}return e.prototype.toString=function(){return this.css},e.prototype.warn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var n=new a.default(e,t);return this.messages.push(n),n},e.prototype.warnings=function(){return this.messages.filter(function(e){return"warning"===e.type})},r(e,[{key:"content",get:function(){return this.css}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="warning",this.text=t,n.node&&n.node.source){var i=n.node.positionBy(n);this.line=i.line,this.column=i.column}for(var r in n)this[r]=n[r]}return e.prototype.toString=function(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(94)),o=i(n(172)),a=i(n(99)),s=i(n(64)),l=i(n(101)),c=i(n(65)),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=t,this.root=new l.default,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:t,start:{line:1,column:1}}}return e.prototype.createTokenizer=function(){this.tokenizer=(0,o.default)(this.input)},e.prototype.parse=function(){for(var e=void 0;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()},e.prototype.comment=function(e){var t=new a.default;this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{var i=n.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}},e.prototype.emptyRule=function(e){var t=new c.default;this.init(t,e[2],e[3]),t.selector="",t.raws.between="",this.current=t},e.prototype.other=function(e){for(var t=!1,n=null,i=!1,r=null,o=[],a=[],s=e;s;){if(n=s[0],a.push(s),"("===n||"["===n)r||(r=s),o.push("("===n?")":"]");else if(0===o.length){if(";"===n){if(i)return void this.decl(a);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(i=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(r=null));s=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(r),t&&i){for(;a.length&&("space"===(s=a[a.length-1][0])||"comment"===s);)this.tokenizer.back(a.pop());this.decl(a)}else this.unknownWord(a)},e.prototype.rule=function(e){e.pop();var t=new c.default;this.init(t,e[0][2],e[0][3]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t},e.prototype.decl=function(e){var t=new r.default;this.init(t);var n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),n[4]?t.source.end={line:n[4],column:n[5]}:t.source.end={line:n[2],column:n[3]};"word"!==e[0][0];)1===e.length&&this.unknownWord(e),t.raws.before+=e.shift()[1];for(t.source.start={line:e[0][2],column:e[0][3]},t.prop="";e.length;){var i=e[0][0];if(":"===i||"space"===i||"comment"===i)break;t.prop+=e.shift()[1]}t.raws.between="";for(var o=void 0;e.length;){if(":"===(o=e.shift())[0]){t.raws.between+=o[1];break}t.raws.between+=o[1]}"_"!==t.prop[0]&&"*"!==t.prop[0]||(t.raws.before+=t.prop[0],t.prop=t.prop.slice(1)),t.raws.between+=this.spacesAndCommentsFromStart(e),this.precheckMissedSemicolon(e);for(var a=e.length-1;a>0;a--){if("!important"===(o=e[a])[1].toLowerCase()){t.important=!0;var s=this.stringFrom(e,a);" !important"!==(s=this.spacesFromEnd(e)+s)&&(t.raws.important=s);break}if("important"===o[1].toLowerCase()){for(var l=e.slice(0),c="",u=a;u>0;u--){var d=l[u][0];if(0===c.trim().indexOf("!")&&"space"!==d)break;c=l.pop()[1]+c}0===c.trim().indexOf("!")&&(t.important=!0,t.raws.important=c,e=l)}if("space"!==o[0]&&"comment"!==o[0])break}this.raw(t,"value",e),-1!==t.value.indexOf(":")&&this.checkMissedSemicolon(e)},e.prototype.atrule=function(e){var t=new s.default;t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2],e[3]);for(var n=void 0,i=void 0,r=!1,o=!1,a=[];!this.tokenizer.endOfFile();){if(";"===(e=this.tokenizer.nextToken())[0]){t.source.end={line:e[2],column:e[3]},this.semicolon=!0;break}if("{"===e[0]){o=!0;break}if("}"===e[0]){if(a.length>0){for(n=a[i=a.length-1];n&&"space"===n[0];)n=a[--i];n&&(t.source.end={line:n[4],column:n[5]})}this.end(e);break}if(a.push(e),this.tokenizer.endOfFile()){r=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),r&&(e=a[a.length-1],t.source.end={line:e[4],column:e[5]},this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),o&&(t.nodes=[],this.current=t)},e.prototype.end=function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end={line:e[2],column:e[3]},this.current=this.current.parent):this.unexpectedClose(e)},e.prototype.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces},e.prototype.freeSemicolon=function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}},e.prototype.init=function(e,t,n){this.current.push(e),e.source={start:{line:t,column:n},input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)},e.prototype.raw=function(e,t,n){for(var i=void 0,r=void 0,o=n.length,a="",s=!0,l=void 0,c=void 0,u=/^([.|#])?([\w])+/i,d=0;d<o;d+=1)"comment"!==(r=(i=n[d])[0])||"rule"!==e.type?"comment"===r||"space"===r&&d===o-1?s=!1:a+=i[1]:(c=n[d-1],l=n[d+1],"space"!==c[0]&&"space"!==l[0]&&u.test(c[1])&&u.test(l[1])?a+=i[1]:s=!1);if(!s){var p=n.reduce(function(e,t){return e+t[1]},"");e.raws[t]={value:a,raw:p}}e[t]=a},e.prototype.spacesAndCommentsFromEnd=function(e){for(var t=void 0,n="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n},e.prototype.spacesAndCommentsFromStart=function(e){for(var t=void 0,n="";e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n},e.prototype.spacesFromEnd=function(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t},e.prototype.stringFrom=function(e,t){for(var n="",i=t;i<e.length;i++)n+=e[i][1];return e.splice(t,e.length-t),n},e.prototype.colon=function(e){for(var t=0,n=void 0,i=void 0,r=void 0,o=0;o<e.length;o++){if("("===(i=(n=e[o])[0]))t+=1;else if(")"===i)t-=1;else if(0===t&&":"===i){if(r){if("word"===r[0]&&"progid"===r[1])continue;return o}this.doubleColon(n)}r=n}return!1},e.prototype.unclosedBracket=function(e){throw this.input.error("Unclosed bracket",e[2],e[3])},e.prototype.unknownWord=function(e){throw this.input.error("Unknown word",e[0][2],e[0][3])},e.prototype.unexpectedClose=function(e){throw this.input.error("Unexpected }",e[2],e[3])},e.prototype.unclosedBlock=function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)},e.prototype.doubleColon=function(e){throw this.input.error("Double colon",e[2],e[3])},e.prototype.unnamedAtrule=function(e,t){throw this.input.error("At-rule without name",t[2],t[3])},e.prototype.precheckMissedSemicolon=function(e){},e.prototype.checkMissedSemicolon=function(e){var t=this.colon(e);if(!1!==t){for(var n=0,i=void 0,r=t-1;r>=0&&("space"===(i=e[r])[0]||2!==(n+=1));r--);throw this.input.error("Missed semicolon",i[2],i[3])}},e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={prefix:function(e){var t=e.match(/^(-\w+-)/);return t?t[0]:""},unprefixed:function(e){return e.replace(/^-\w+-/,"")}},e.exports=t.default},function(e,t,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&a.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}var o=n(363),a=n(364);t.parse=r,t.resolve=function(e,t){return r(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?r(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=r(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var s=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(u),p=["%","/","?",";","#"].concat(d),h=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(365);i.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),r=-1!==i&&i<e.indexOf("#")?"?":"#",l=e.split(r);l[0]=l[0].replace(/\\/g,"/");var u=e=l.join(r);if(u=u.trim(),!n&&1===e.split("#").length){var w=c.exec(u);if(w)return this.path=u,this.href=u,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var C=s.exec(u);if(C){var E=(C=C[0]).toLowerCase();this.protocol=E,u=u.substr(C.length)}if(n||C||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===u.substr(0,2);!x||C&&v[C]||(u=u.substr(2),this.slashes=!0)}if(!v[C]&&(x||C&&!b[C])){for(var S,_,T=-1,A=0;A<h.length;A++)-1!==(k=u.indexOf(h[A]))&&(-1===T||k<T)&&(T=k);for(-1!==(_=-1===T?u.lastIndexOf("@"):u.lastIndexOf("@",T))&&(S=u.slice(0,_),u=u.slice(_+1),this.auth=decodeURIComponent(S)),T=-1,A=0;A<p.length;A++){var k;-1!==(k=u.indexOf(p[A]))&&(-1===T||k<T)&&(T=k)}-1===T&&(T=u.length),this.host=u.slice(0,T),u=u.slice(T),this.parseHost(),this.hostname=this.hostname||"";var $="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!$)for(var M=this.hostname.split(/\./),P=(A=0,M.length);A<P;A++){var R=M[A];if(R&&!R.match(m)){for(var O="",D=0,N=R.length;D<N;D++)R.charCodeAt(D)>127?O+="x":O+=R[D];if(!O.match(m)){var I=M.slice(0,A),L=M.slice(A+1),F=R.match(f);F&&(I.push(F[1]),L.unshift(F[2])),L.length&&(u="/"+L.join(".")+u),this.hostname=I.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=o.toASCII(this.hostname));var H=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+H,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!g[E])for(A=0,P=d.length;A<P;A++){var B=d[A];if(-1!==u.indexOf(B)){var z=encodeURIComponent(B);z===B&&(z=escape(B)),u=u.split(B).join(z)}}var U=u.indexOf("#");-1!==U&&(this.hash=u.substr(U),u=u.slice(0,U));var q=u.indexOf("?");if(-1!==q?(this.search=u.substr(q),this.query=u.substr(q+1),t&&(this.query=y.parse(this.query)),u=u.slice(0,q)):t&&(this.search="",this.query={}),u&&(this.pathname=u),b[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var V=this.search||"";this.path=H+V}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+i},i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",g=n.search||"";n.path=f+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),C=w||y||n.host&&e.pathname,E=C,x=n.pathname&&n.pathname.split("/")||[],S=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),C=C&&(""===m[0]||""===x[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=x.shift(),($=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=$.shift(),n.host=n.hostname=$.shift())),n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=x.slice(-1)[0],T=(n.host||e.host||x.length>1)&&("."===_||".."===_)||""===_,A=0,k=x.length;k>=0;k--)"."===(_=x[k])?x.splice(k,1):".."===_?(x.splice(k,1),A++):A&&(x.splice(k,1),A--);if(!C&&!E)for(;A--;A)x.unshift("..");!C||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),T&&"/"!==x.join("/").substr(-1)&&x.push("");var $,M=""===x[0]||x[0]&&"/"===x[0].charAt(0);return S&&(n.hostname=n.host=M?"":x.length?x.shift():"",($=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=$.shift(),n.host=n.hostname=$.shift())),(C=C||n.host&&x.length)&&!M&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,i){var r;!function(i){function o(e){throw new RangeError(A[e])}function a(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function s(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+a((e=e.replace(T,".")).split("."),t).join(".")}function l(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function c(e){return a(e,function(e){var t="";return e>65535&&(t+=M((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=M(e)}).join("")}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var i=0;for(e=n?$(e/w):e>>1,e+=$(e/t);e>k*b>>1;i+=g)e=$(e/k);return $(i+(k+1)*e/(e+y))}function p(e){var t,n,i,r,a,s,l,u,p,h,m,y=[],w=e.length,S=0,_=E,T=C;for((n=e.lastIndexOf(x))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&o("not-basic"),y.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<w;){for(a=S,s=1,l=g;r>=w&&o("invalid-input"),((u=(m=e.charCodeAt(r++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:g)>=g||u>$((f-S)/s))&&o("overflow"),S+=u*s,!(u<(p=l<=T?v:l>=T+b?b:l-T));l+=g)s>$(f/(h=g-p))&&o("overflow"),s*=h;T=d(S-a,t=y.length+1,0==a),$(S/t)>f-_&&o("overflow"),_+=$(S/t),S%=t,y.splice(S++,0,_)}return c(y)}function h(e){var t,n,i,r,a,s,c,p,h,m,y,w,S,_,T,A=[];for(w=(e=l(e)).length,t=E,n=0,a=C,s=0;s<w;++s)(y=e[s])<128&&A.push(M(y));for(i=r=A.length,r&&A.push(x);i<w;){for(c=f,s=0;s<w;++s)(y=e[s])>=t&&y<c&&(c=y);for(c-t>$((f-n)/(S=i+1))&&o("overflow"),n+=(c-t)*S,t=c,s=0;s<w;++s)if((y=e[s])<t&&++n>f&&o("overflow"),y==t){for(p=n,h=g;!(p<(m=h<=a?v:h>=a+b?b:h-a));h+=g)T=p-m,_=g-m,A.push(M(u(m+T%_,0))),p=$(T/_);A.push(M(u(p,0))),a=d(n,S,i==r),n=0,++i}++n,++t}return A.join("")}"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var m,f=2147483647,g=36,v=1,b=26,y=38,w=700,C=72,E=128,x="-",S=/^xn--/,_=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=g-v,$=Math.floor,M=String.fromCharCode;m={version:"1.4.1",ucs2:{decode:l,encode:c},decode:p,encode:h,toASCII:function(e){return s(e,function(e){return _.test(e)?"xn--"+h(e):e})},toUnicode:function(e){return s(e,function(e){return S.test(e)?p(e.slice(4).toLowerCase()):e})}},void 0===(r=function(){return m}.call(t,n,t,e))||(e.exports=r)}()}).call(t,n(18)(e),n(8))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(366),t.encode=t.stringify=n(367)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,h,m,f=e[u].replace(s,"%20"),g=f.indexOf(n);g>=0?(d=f.substr(0,g),p=f.substr(g+1)):(d=f,p=""),h=decodeURIComponent(d),m=decodeURIComponent(p),i(a,h)?r(a[h])?a[h].push(m):a[h]=[a[h],m]:a[h]=m}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function i(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=((i=r)&&i.__esModule?i:{default:i}).default.module("proprietaryFilters",[]);o.filter("crossCheck",function(){return function(e){var t=!1;return!0!==e&&"true"!==e&&1!==e&&"1"!==e||(t=!0),t?"mdi mdi-lg mdi-check":"mdi mdi-lg mdi-close"}}),o.filter("status",function(){return function(e){var t=!1;return!0!==e&&"true"!==e&&1!==e&&"1"!==e||(t=!0),t?"Trashed":"Active"}}),o.filter("datePublished",["$filter",function(e){"ngInject";return function(t,n){return n.published?e("date")(Date.parse(t),"short"):"-"}}]),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=function e(t){(0,o.default)(this,e),this.cancel=function(){return t.cancel()},this.ok=function(e){return t.hide(e)}};a.$inject=["$mdDialog"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(){var e={},t=[];return e.setEntityIds=function(e){t=e},e.getEntityIds=function(){return t},e.consolidate=function(e){var t={fields:{}},n={};return e.forEach(function(e){o.default.forEach(e.fields,function(e,t){n[t]||(n[t]=[]),n[t].push(e)})}),o.default.forEach(n,function(n,i){var r=!0;n.forEach(function(t){o.default.equals(e[0].fields[i],t)||(r=!1)}),r&&(t.fields[i]=n[0])}),t},e}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(24)),o=i(n(1)),a=i(n(0)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(373)),l=function(e,t,n,i,l,c,u,d,p){"ngInject";var h={};return e.$helper=h,h.now=function(){return(0,r.default)(new Date).replace(/"/g,"")},h.testExp=function(e,t){return new RegExp(e).test(t)},h.move=function(e,t){this.splice(t,0,this.splice(e,1)[0])},h.replace=function(e,t,n){var i=o.default.findIndex(e,[n,t[n]]);return-1!==i&&e.splice(i,1,t),e},h.thumbnailSrc=function(t,n,i,r){if(!t)return"";var o=void 0;"string"==typeof n&&(o=n.split(/,|;/),n={},o.forEach(function(e){e=e.split(/_|:/),n[e[0]]=e[1]}));var s=!!t.crops&&t.crops[i];s?(n.x=s[0],n.y=s[1],n.x2=s[2],n.y2=s[3]):r&&(n.g=r),o=[],a.default.forEach(n,function(e,t){o.push([t,e].join(":"))});var l=o.join(";");if(/(image)/.test(t.thumbnailType))return"svg"===t.ext?[e.assistUrl,e.assetSlug,t.name+t.ext].join("/"):[e.assistUrl,e.assetSlug,"transform",l,t.name+t.ext].join("/");if(/(video)/.test(t.thumbnailType))return[e.assistUrl,e.assetSlug,"transform",l,t.name,"thumb.jpg"].join("/");if(/(oembed|proxy)/.test(t.thumbnailType)){var c=t.thumbnailUrl.replace(/https?:\/\//,"");return[e.assistUrl,e.assetSlug,"proxy","transform",l,c].join("/")}return""},h.videoSrc=function(t,n){if(!t)return"";var i=void 0;"string"==typeof n&&(i=n.split(/,|;/),n={},i.forEach(function(e){e=e.split(/_|:/),n[e[0]]=e[1]})),i=[],a.default.forEach(n,function(e,t){i.push([t,e].join(":"))});var r=i.join(";");return[e.assistUrl,e.assetSlug,"transform",r,t.name+t.ext].join("/")},h.oembedThumbnailUrl=function(e,t){return e?h.proxyThumbnailUrl(e.oembed.thumbnail_url,t):""},h.proxyThumbnailUrl=function(e,t){return h.thumbnailSrc({thumbnailType:"proxy",thumbnailUrl:e},t)},h.fieldThumbnailSrc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h:200;q:60";if(!e||!e.value)return null;var n=d.field(e.type).thumbnail(e.value);return h.thumbnailSrc(n,t)},h.getColumnOptions=function(e){if(!e)return null;var t={fieldOptions:e,name:"fields."+e.slug,displayName:e.name,allowCellFocus:!1};return o.default.extend(t,d.field(e.type).gridOptions),"string"===t.style&&(t.cellTemplate='\n        <div class="ui-grid-cell-contents">\n          <span>{{ grid.getCellValue(row, col) | field2String : col.colDef.fieldOptions }}</span>\n        </div>\n      '),"thumbnail"===t.style&&(t.enableSorting=!1,t.cellTemplate='\n        <div class="ui-grid-cell-contents ui-grid-cell--image">\n          <img ace-src-change ng-if="$root.$helper.fieldThumbnailSrc(grid.getCellValue(row, col))" ng-src="{{ $root.$helper.fieldThumbnailSrc(grid.getCellValue(row, col)) }}">\n        </div>\n      '),"boolean"===t.style&&(t.cellTemplate='\n        <div class="ui-grid-cell-contents">\n          <span class="{{grid.getCellValue(row, col).value | crossCheck}}"></span>\n        </div>\n      '),t},h.postPayload=function(e,t){var i=t;o.default.isString(t)||(i=(0,r.default)(i));var s='<form method="POST" action="'+e+'" target="_blank"><input type="hidden" name="payload" value=\''+(i=i.replace(/'/gi,"’"))+"' /></form>";s=a.default.element(s),a.default.element(n[0].body).append(s),s[0].submit(),s.remove()},h.mediaPreview=function(e,t){var n={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.mediaPreview,multiple:!0,locals:{media:e,index:t}};u.show(n)},h.oembed=function(e){return l(function(t,n){i({method:"GET",url:p.apiUrl+"/embedly/oembed",params:{url:e}}).then(function(e){var i=e.data[0];if(i.error_message)return u.show(u.alert().title("Error").textContent(i.error_message).ok("Close")),void n(i);t(i)},n)})},h.getMdChipCollection=function(e){return e.$parent.$mdChipsCtrl.items},h.getMdChipIndex=function(e){e.$parent.$mdChipsCtrl.items.indexOf(e.$parent.$chip)},h};l.$inject=["$rootScope","$window","$document","$http","$q","$timeout","$mdDialog","FieldFactory","appConfig"],t.default=l},function(e,t,n){var i=n(9),r=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaPreview=void 0;var i,r=n(374),o=(i=r)&&i.__esModule?i:{default:i};t.mediaPreview=o.default},function(e,t){e.exports='<md-dialog aria-label="Media Preview"><md-toolbar><div class="md-toolbar-tools"><h2>Media Preview</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div layout="column" layout-margin="layout-margin"><div class="media-wrapper"><span ng-show="vm.media[vm.index].type === \'none\'">No preview available</span><span ng-show="vm.media[vm.index].type === \'image\'"><img style="max-width: 100%; vertical-align: bottom;" ng-src="{{vm.media[vm.index].src}}" ng-click="vm.index = vm.index &lt; vm.media.length - 1 ? vm.index + 1 : 0"/></span><span ng-show="vm.media[vm.index].type === \'video\'"><video style="max-width: 100%;" controls="controls"><source ng-repeat="variant in vm.media[vm.index].variants" ng-src="{{variant.src}}" type="{{variant.mimeType}}"/></video></span></div></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button class="md-icon-button" ng-show="vm.media.length &gt; 1" ng-click="vm.index = vm.index &gt; 0 ? vm.index - 1 : vm.media.length - 1"><md-icon md-font-set="material-icons">keyboard_arrow_left</md-icon></md-button><md-button class="md-icon-button" ng-show="vm.media.length &gt; 1" ng-click="vm.index = vm.index &lt; vm.media.length - 1 ? vm.index + 1 : 0"><md-icon md-font-set="material-icons">keyboard_arrow_right</md-icon></md-button></md-dialog-actions></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.aceFlow=t.aceC3=t.aceSortable=t.aceRichText=t.aceVideoPreview=t.aceSyncFocus=t.aceStopPropagation=t.aceSrcChange=t.aceSmartFloat=t.aceOpenSeadragon=t.aceMethodEventAnimate=t.aceFileChange=t.aceBindHtml=void 0;var r=i(n(376)),o=i(n(377)),a=i(n(378)),s=i(n(379)),l=i(n(381)),c=i(n(382)),u=i(n(383)),d=i(n(384)),p=i(n(385)),h=i(n(386)),m=i(n(389)),f=i(n(390)),g=i(n(392));t.aceBindHtml=r.default,t.aceFileChange=o.default,t.aceMethodEventAnimate=a.default,t.aceOpenSeadragon=s.default,t.aceSmartFloat=l.default,t.aceSrcChange=c.default,t.aceStopPropagation=u.default,t.aceSyncFocus=d.default,t.aceVideoPreview=p.default,t.aceRichText=h.default,t.aceSortable=m.default,t.aceC3=f.default,t.aceFlow=g.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.bindHtml",[]).directive("aceBindHtml",["$compile",function(e){return{restrict:"A",link:function(t,n,i){t.$watch(function(){return t.$eval(i.aceBindHtml)},function(r){n.html(r&&r.toString());var o=t;i.aceBindHtmlScope&&(o=t.$eval(i.aceBindHtmlScope)),e(n.contents())(o)})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.fileChange",[]).directive("aceFileChange",["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=e(i.aceFileChange);n[0].addEventListener("change",function(e){t.$apply(function(){r(t,{$event:e,files:e.target.files})})},!1)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.mea",[]).directive("aceMea",[function(){return{restrict:"A",link:function(e,t,n){t.on(n.aceMeaEvent||"click touchend",function(){var i=e.$eval(n.aceMea);t.addClass("animated"),i?t.addClass(n.aceMeaTrue):t.addClass(n.aceMeaFalse),e.$apply()}),t.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated"),t.removeClass(n.aceMeaTrue),t.removeClass(n.aceMeaFalse)})}}}])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(380));t.default=r.default.module("ace.openSeadragon",[]).directive("aceOpenSeadragon",function(){return{restrict:"AE",template:'<div class="ace-open-seadragon"></div>',replace:!0,link:function(e,t,n){(0,o.default)({element:t[0],tileSources:n.aceOpenSeadragon||n.src,prefixUrl:n.prefixUrl||""})}}})},function(module,exports,__webpack_require__){function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory,$,fullScreenApi;!function(e){e.version={versionStr:"2.3.1",major:parseInt("2",10),minor:parseInt("3",10),revision:parseInt("1",10)};var t,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},i=Object.prototype.toString,r=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null===e||void 0===e?String(e):n[i.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!r.call(t,"constructor")&&!r.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var i in t)n=i;return void 0===n||r.call(t,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=(t=document.createElement("canvas"),!(!e.isFunction(t.getContext)||!t.getContext("2d"))),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(n,1)/i}return 1}()}(OpenSeadragon),function($){function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=arguments.length,l=!1,c=1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},c=2),"object"==typeof a||OpenSeadragon.isFunction(a)||(a={}),s===c&&(a=this,--c);c<s;c++)if(null!==(e=arguments[c])||void 0!==e)for(t in e)n=a[t],a!==(i=e[t])&&(l&&i&&(OpenSeadragon.isPlainObject(i)||(r=OpenSeadragon.isArray(i)))?(r?(r=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},a[t]=OpenSeadragon.extend(l,o,i)):void 0!==i&&(a[t]=i));return a};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,degrees:0,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,n,i=new $.Point;for(n=getOffsetParent(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position);n;)i.x+=e.offsetLeft,i.y+=e.offsetTop,t&&(i=i.plus($.getPageScroll())),n=getOffsetParent(e=n,t="fixed"==$.getElementStyle(e).position);return i},getElementOffset:function(e){var t,n,i=(e=$.getElement(e))&&e.ownerDocument,r={top:0,left:0};return i?(t=i.documentElement,void 0!==e.getBoundingClientRect&&(r=e.getBoundingClientRect()),n=i==i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new $.Point(r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0),r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var t={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var n=document.createElement("div").style,i=null;if(void 0!==n[e])i=e;else for(var r=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(e),a=0;a<r.length;a++){var s=r[a]+o;if(void 0!==n[s]){i=s;break}}return t[e]=i,i},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(e,t){e=$.getElement(e);var n=$.getElementOffset(e),i=$.getElementSize(e);return t.x>=n.x&&t.x<n.x+i.x&&t.y<n.y+i.y&&t.y>=n.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if(void 0!==window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var n=$.getPageScroll();if(n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,(n=$.getPageScroll()).x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),n=null;return(n=$.makeNeutralElement("span")).style.display="inline-block",t.onload=function(){n.style.width=n.style.width||t.width+"px",n.style.height=n.style.height||t.height+"px",t.onload=null,t=null},t.src=e,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",n}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,n){var i;e=$.getElement(e),n&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(i="alpha(opacity="+Math.round(100*t)+")",e.style.filter=i):e.style.filter=""},setElementTouchActionNone:function(e){void 0!==(e=$.getElement(e)).style.touchAction?e.style.touchAction="none":void 0!==e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var i,r,o=n||0;if(!e)throw new TypeError;if(0===(r=e.length)||o>=r)return-1;for(o<0&&(o=r-Math.abs(o)),i=o;i<r;i++)if(e[i]===t)return i;return-1},this.indexOf(e,t,n)},removeClass:function(e,t){var n,i,r=[];for(n=(e=$.getElement(e)).className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==t&&r.push(n[i]);e.className=r.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,n,i){(e=$.getElement(e)).addEventListener(t,n,i)};if(window.attachEvent)return function(e,t,n,i){(e=$.getElement(e)).attachEvent("on"+t,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,n,i){(e=$.getElement(e)).removeEventListener(t,n,i)};if(window.detachEvent)return function(e,t,n,i){(e=$.getElement(e)).detachEvent("on"+t,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0},$.stopEvent(e)},createCallback:function(e,t){var n,i=[];for(n=2;n<arguments.length;n++)i.push(arguments[n]);return function(){var n,r=i.concat([]);for(n=0;n<arguments.length;n++)r.push(arguments[n]);return t.apply(e,r)}},getUrlParameter:function(e){return URLPARAMS[e]||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,n){var i,r,o;$.isPlainObject(e)&&(t=e.success,n=e.error,i=e.withCredentials,r=e.headers,o=e.responseType||null,e=e.url);var a=$.getUrlProtocol(e),s=$.createAjaxRequest("file:"===a);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=function(){},s.status>=200&&s.status<300||0===s.status&&"http:"!==a&&"https:"!==a?t(s):($.console.log("AJAX request returned %d: %s",s.status,e),$.isFunction(n)&&n(s)))};try{if(s.open("GET",e,!0),o&&(s.responseType=o),r)for(var l in r)r.hasOwnProperty(l)&&r[l]&&s.setRequestHeader(l,r[l]);i&&(s.withCredentials=!0),s.send(null)}catch(i){var c=i.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&void 0!==i.number&&-2147024891==i.number&&(c+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",i.name,c),s.onreadystatechange=function(){},window.XDomainRequest){var u=new XDomainRequest;if(u){u.onload=function(e){$.isFunction(t)&&t({responseText:u.responseText,status:200,statusText:"OK"})},u.onerror=function(e){$.isFunction(n)&&n({responseText:u.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{u.open("GET",e),u.send()}catch(e){$.isFunction(n)&&n(s,i)}}}else $.isFunction(n)&&n(s,i)}return s},jsonp:function(e){var t,n=e.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=e.callbackName||"openseadragon"+$.now(),o=window[r],a="$1"+r+"$2",s=e.param||"callback",l=e.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+s+"="+r,window[r]=function(e){if(o)window[r]=o;else try{delete window[r]}catch(e){}l&&$.isFunction(l)&&l(e)},t=document.createElement("script"),void 0===e.async&&!1===e.async||(t.async="async"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=n,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0)},i.insertBefore(t,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(t.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):t.indexOf("Safari")>=0?($.Browser.vendor=t.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e)}var n,i,r,o=window.location.search.substring(1).split("&");for(r=0;r<o.length;r++)(i=(n=o[r]).indexOf("="))>0&&(URLPARAMS[n.substring(0,i)]=decodeURIComponent(n.substring(i+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(e){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&n)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return n.apply(e,arguments)};else{var i,r=[],o=[],a=0;$.requestAnimationFrame=function(e){return r.push([++a,e]),i||(i=setInterval(function(){if(r.length){var e=$.now(),t=o;for(o=r,r=t;o.length;)o.shift()[1](e)}else clearInterval(i),i=void 0},20)),a},$.cancelAnimationFrame=function(e){var t,n;for(t=0,n=r.length;t<n;t+=1)if(r[t][0]===e)return void r.splice(t,1);for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(OpenSeadragon),factory=function(){return OpenSeadragon},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),$=OpenSeadragon,fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.fullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.requestFullscreen()},fullScreenApi.exitFullScreen=function(){document.exitFullscreen()},fullScreenApi.fullScreenEventName="fullscreenchange",fullScreenApi.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.msFullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.msRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.msExitFullscreen()},fullScreenApi.fullScreenEventName="MSFullscreenChange",fullScreenApi.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitFullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.webkitRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.webkitExitFullscreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},fullScreenApi.requestFullScreen=function(e){return e.webkitRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.webkitCancelFullScreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.mozFullScreenElement},fullScreenApi.requestFullScreen=function(e){return e.mozRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.mozCancelFullScreen()},fullScreenApi.fullScreenEventName="mozfullscreenchange",fullScreenApi.fullScreenErrorEventName="mozfullscreenerror"),fullScreenApi.isFullScreen=function(){return null!==fullScreenApi.getFullScreenElement()},fullScreenApi.cancelFullScreen=function(){$.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),fullScreenApi.exitFullScreen()},$.extend($,fullScreenApi),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,n,i){var r=this;i=i||1;var o=0,a=function(n){++o===i&&r.removeHandler(e,a),t(n)};this.addHandler(e,a,n)},addHandler:function(t,n,i){var r=this.events[t];r||(this.events[t]=r=[]),n&&e.isFunction(n)&&(r[r.length]={handler:n,userData:i||null})},removeHandler:function(t,n){var i,r=this.events[t],o=[];if(r&&e.isArray(r)){for(i=0;i<r.length;i++)r[i].handler!==n&&o.push(r[i]);this.events[t]=o}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var i,r=t.length;for(i=0;i<r;i++)t[i]&&(n.eventSource=e,n.userData=t[i].userData,t[i].handler(n))}):null},raiseEvent:function(e,t){var n=this.getHandler(e);n&&(t||(t={}),n(this,t))}}}(OpenSeadragon),function(e){function t(t){var n,i=V[t.hash],r=i.activePointersLists.length;for(n=0;n<r;n++)i.activePointersLists[n].captureCount>0&&(e.removeEvent(e.MouseTracker.captureElement,"mousemove",i.mousemovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"mouseup",i.mouseupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",i.pointermovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",i.pointerupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchmove",i.touchmovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchend",i.touchendcaptured,!0),i.activePointersLists[n].captureCount=0);for(n=0;n<r;n++)i.activePointersLists.pop()}function n(n){var i,r,o=V[n.hash];if(o.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)i=e.MouseTracker.subscribeEvents[r],e.removeEvent(n.element,i,o[i],!1);t(n),o.tracking=!1}}function i(t,n){var i=V[t.hash];if("pointerevent"===n)return{upName:e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:i.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:i.pointermovecaptured};if("mouse"===n)return{upName:"mouseup",upHandler:i.mouseupcaptured,moveName:"mousemove",moveHandler:i.mousemovecaptured};if("touch"===n)return{upName:"touchend",upHandler:i.touchendcaptured,moveName:"touchmove",moveHandler:i.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function r(t,n,r){var o,a=t.getActivePointersListByType(n);a.captureCount+=r||1,1===a.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.setCapture(!0):(o=i(t,e.MouseTracker.havePointerEvents?"pointerevent":n),G&&L(window.top)&&e.addEvent(window.top,o.upName,o.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0)))}function o(t,n,r){var o,a=t.getActivePointersListByType(n);a.captureCount-=r||1,0===a.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.releaseCapture():(o=i(t,e.MouseTracker.havePointerEvents?"pointerevent":n),G&&L(window.top)&&e.removeEvent(window.top,o.upName,o.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0)))}function a(t){var n;if(e.MouseTracker.unprefixedPointerEvents)n=t.pointerType;else switch(t.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function s(t){return e.getMousePosition(t)}function l(e,t){return c(s(e),t)}function c(t,n){var i=e.getElementOffset(n);return t.minus(i)}function u(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function d(t,n){var i={target:(n=e.getEvent(n)).target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==e.MouseTracker.wheelEventName?i.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:i.deltaY=n.detail,p(t,i,n)}function p(t,n,i){var r;r=n.deltaY<0?1:-1,t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:"mouse",position:l(n,t.element),scroll:r,shift:n.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}function h(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function m(t,n){R(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:s(n),currentTime:e.now()}])}function f(t,n){O(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:s(n),currentTime:e.now()}])}function g(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function v(t,n){N(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:s(n),currentTime:e.now()}],g(n.button))&&o(t,"mouse")}function b(t,n){I(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:s(n),currentTime:e.now()}])}function y(e,t,n){var i,r=n.getLength(),a=[];if("touch"===n.type||n.contacts>0){for(i=0;i<r;i++)a.push(n.getByIndex(i));a.length>0&&(N(e,t,a,0),n.captureCount=1,o(e,n.type),O(e,t,a))}}function w(t,n){var i,r,a,l,c=n.changedTouches.length,u=[];for(i=e.now(),r=0;r<c;r++)u.push({id:n.changedTouches[r].identifier,type:"touch",currentPos:s(n.changedTouches[r]),currentTime:i});for(N(t,n,u,0)&&o(t,"touch",c),O(t,n,u),r=0;r<q.length;r++)if(q[r]!==t&&q[r].isTracking()&&h(q[r].element,t.element)){for(l=[],a=0;a<c;a++)l.push({id:n.changedTouches[a].identifier,type:"touch",currentPos:s(n.changedTouches[a]),currentTime:i});O(q[r],n,l)}e.cancelEvent(n)}function C(t,n){var i,r=n.changedTouches.length,o=[];for(i=0;i<r;i++)o.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:s(n.changedTouches[i]),currentTime:e.now()});I(t,n,o),e.cancelEvent(n)}function E(t,n){n.currentTarget===n.relatedTarget||h(n.currentTarget,n.relatedTarget)||R(t,n,[{id:n.pointerId,type:a(n),isPrimary:n.isPrimary,currentPos:s(n),currentTime:e.now()}])}function x(t,n){n.currentTarget===n.relatedTarget||h(n.currentTarget,n.relatedTarget)||O(t,n,[{id:n.pointerId,type:a(n),isPrimary:n.isPrimary,currentPos:s(n),currentTime:e.now()}])}function S(t,n){var i;D(t,n,[i={id:n.pointerId,type:a(n),isPrimary:n.isPrimary,currentPos:s(n),currentTime:e.now()}],n.button)&&(e.stopEvent(n),r(t,i.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(n)}function _(e,t){T(e,t)}function T(t,n){var i;N(t,n,[i={id:n.pointerId,type:a(n),isPrimary:n.isPrimary,currentPos:s(n),currentTime:e.now()}],n.button)&&o(t,i.type)}function A(e,t){k(e,t)}function k(t,n){I(t,n,[{id:n.pointerId,type:a(n),isPrimary:n.isPrimary,currentPos:s(n),currentTime:e.now()}])}function $(e,t){!function(e,t,n){N(e,t,n,0),O(e,t,n)}(e,t,[{id:t.pointerId,type:a(t)}])}function M(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function P(e,t){var n,i;return e.getById(t.id)?(n=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(i=e.getPrimary())||(i=e.getByIndex(0))&&(i.isPrimary=!0)):n=e.getLength(),n}function R(t,n,i){var r,o,a,s=t.getActivePointersListByType(i[0].type),l=i.length;for(r=0;r<l;r++)o=i[r],(a=s.getById(o.id))?(a.insideElement=!0,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime,o=a):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,M(s,o)),t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:o.type,position:c(o.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function O(t,n,i){var r,o,a,s=t.getActivePointersListByType(i[0].type),l=i.length;for(r=0;r<l;r++)o=i[r],(a=s.getById(o.id))&&(a.captured?(a.insideElement=!1,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):P(s,a),o=a),t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:o.type,position:c(o.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!a&&a.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function D(t,n,i,r){var o,a,s,l=V[t.hash],d=t.getActivePointersListByType(i[0].type),p=i.length;void 0!==n.buttons?d.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===r?d.buttons+=1:1===r?d.buttons+=4:2===r?d.buttons+=2:3===r?d.buttons+=8:4===r?d.buttons+=16:5===r&&(d.buttons+=32):0===r?d.buttons|=1:1===r?d.buttons|=4:2===r?d.buttons|=2:3===r?d.buttons|=8:4===r?d.buttons|=16:5===r&&(d.buttons|=32);var h=t.getActivePointersListsExceptType(i[0].type);for(o=0;o<h.length;o++)y(t,n,h[o]);if(0!==r)return t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:i[0].type,position:c(i[0].currentPos,t.element),button:r,buttons:d.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),!1;for(o=0;o<p;o++)a=i[o],(s=d.getById(a.id))?(s.captured=!0,s.insideElementPressed=!0,s.insideElement=!0,s.contactPos=a.currentPos,s.contactTime=a.currentTime,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=a.currentPos,s.currentTime=a.currentTime,a=s):(a.captured=!0,a.insideElementPressed=!0,a.insideElement=!0,M(d,a)),d.addContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,a),1===d.contacts?t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:a.type,position:c(a.contactPos,t.element),buttons:d.buttons,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n):2===d.contacts&&t.pinchHandler&&"touch"===a.type&&(l.pinchGPoints=d.asArray(),l.lastPinchDist=l.currentPinchDist=l.pinchGPoints[0].currentPos.distanceTo(l.pinchGPoints[1].currentPos),l.lastPinchCenter=l.currentPinchCenter=u(l.pinchGPoints[0].currentPos,l.pinchGPoints[1].currentPos));return!0}function N(t,n,i,r){var o,a,s,l,d,p,h=V[t.hash],m=t.getActivePointersListByType(i[0].type),f=i.length,g=!1,v=!1;if(void 0!==n.buttons?m.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===r?m.buttons-=1:1===r?m.buttons-=4:2===r?m.buttons-=2:3===r?m.buttons-=8:4===r?m.buttons-=16:5===r&&(m.buttons-=32):0===r?m.buttons^=-2:1===r?m.buttons^=-5:2===r?m.buttons^=-3:3===r?m.buttons^=-9:4===r?m.buttons^=-17:5===r&&(m.buttons^=-33),0!==r)return t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:i[0].type,position:c(i[0].currentPos,t.element),button:r,buttons:m.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),y(t,n,t.getActivePointersListByType("mouse")),!1;for(s=0;s<f;s++)l=i[s],(d=m.getById(l.id))&&(d.captured&&(d.captured=!1,g=!0,v=!0),d.lastPos=d.currentPos,d.lastTime=d.currentTime,d.currentPos=l.currentPos,d.currentTime=l.currentTime,d.insideElement||P(m,d),o=d.currentPos,a=d.currentTime,v?(m.removeContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,d),0===m.contacts?(t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:d.type,position:c(o,t.element),buttons:m.buttons,insideElementPressed:d.insideElementPressed,insideElementReleased:d.insideElement,isTouchEvent:"touch"===d.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),t.dragEndHandler&&!d.currentPos.equals(d.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:d.type,position:c(d.currentPos,t.element),speed:d.speed,direction:d.direction,shift:n.shiftKey,isTouchEvent:"touch"===d.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),(t.clickHandler||t.dblClickHandler)&&d.insideElement&&(p=a-d.contactTime<=t.clickTimeThreshold&&d.contactPos.distanceTo(o)<=t.clickDistThreshold,t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:d.type,position:c(d.currentPos,t.element),quick:p,shift:n.shiftKey,isTouchEvent:"touch"===d.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),t.dblClickHandler&&p&&(m.clicks++,1===m.clicks?(h.lastClickPos=o,h.dblClickTimeOut=setTimeout(function(){m.clicks=0},t.dblClickTimeThreshold)):2===m.clicks&&(clearTimeout(h.dblClickTimeOut),m.clicks=0,h.lastClickPos.distanceTo(o)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:d.type,position:c(d.currentPos,t.element),shift:n.shiftKey,isTouchEvent:"touch"===d.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),h.lastClickPos=null)))):2===m.contacts&&t.pinchHandler&&"touch"===d.type&&(h.pinchGPoints=m.asArray(),h.lastPinchDist=h.currentPinchDist=h.pinchGPoints[0].currentPos.distanceTo(h.pinchGPoints[1].currentPos),h.lastPinchCenter=h.currentPinchCenter=u(h.pinchGPoints[0].currentPos,h.pinchGPoints[1].currentPos))):t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:d.type,position:c(o,t.element),buttons:m.buttons,insideElementPressed:d.insideElementPressed,insideElementReleased:d.insideElement,isTouchEvent:"touch"===d.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n));return g}function I(t,n,i){var r,o,a,s,d,p=V[t.hash],h=t.getActivePointersListByType(i[0].type),m=i.length;for(void 0!==n.buttons&&(h.buttons=n.buttons),r=0;r<m;r++)o=i[r],(a=h.getById(o.id))?(o.hasOwnProperty("isPrimary")&&(a.isPrimary=o.isPrimary),a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,M(h,o));t.stopHandler&&"mouse"===i[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){!function(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:l(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}(t,n,i[0].type)},t.stopDelay)),0===h.contacts?t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:i[0].type,position:c(i[0].currentPos,t.element),buttons:h.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n):1===h.contacts?(t.moveHandler&&(a=h.asArray()[0],!1===t.moveHandler({eventSource:t,pointerType:a.type,position:c(a.currentPos,t.element),buttons:h.buttons,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)),t.dragHandler&&(d=(a=h.asArray()[0]).currentPos.minus(a.lastPos),!1===t.dragHandler({eventSource:t,pointerType:a.type,position:c(a.currentPos,t.element),buttons:h.buttons,delta:d,speed:a.speed,direction:a.direction,shift:n.shiftKey,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))):2===h.contacts&&(t.moveHandler&&(s=h.asArray(),!1===t.moveHandler({eventSource:t,pointerType:s[0].type,position:c(u(s[0].currentPos,s[1].currentPos),t.element),buttons:h.buttons,isTouchEvent:"touch"===s[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)),t.pinchHandler&&"touch"===i[0].type&&(d=p.pinchGPoints[0].currentPos.distanceTo(p.pinchGPoints[1].currentPos))!=p.currentPinchDist&&(p.lastPinchDist=p.currentPinchDist,p.currentPinchDist=d,p.lastPinchCenter=p.currentPinchCenter,p.currentPinchCenter=u(p.pinchGPoints[0].currentPos,p.pinchGPoints[1].currentPos),!1===t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:p.pinchGPoints,lastCenter:c(p.lastPinchCenter,t.element),center:c(p.currentPinchCenter,t.element),lastDistance:p.lastPinchDist,distance:p.currentPinchDist,shift:n.shiftKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)))}function L(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}var F,H,j,B,z,U,q=[],V={};e.MouseTracker=function(t){q.push(this);var n=arguments;e.isPlainObject(t)||(t={element:n[0],clickTimeThreshold:n[1],clickDistThreshold:n[2]}),this.hash=Math.random(),this.element=e.getElement(t.element),this.clickTimeThreshold=t.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=t.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=t.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=t.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=t.userData||null,this.stopDelay=t.stopDelay||50,this.enterHandler=t.enterHandler||null,this.exitHandler=t.exitHandler||null,this.pressHandler=t.pressHandler||null,this.nonPrimaryPressHandler=t.nonPrimaryPressHandler||null,this.releaseHandler=t.releaseHandler||null,this.nonPrimaryReleaseHandler=t.nonPrimaryReleaseHandler||null,this.moveHandler=t.moveHandler||null,this.scrollHandler=t.scrollHandler||null,this.clickHandler=t.clickHandler||null,this.dblClickHandler=t.dblClickHandler||null,this.dragHandler=t.dragHandler||null,this.dragEndHandler=t.dragEndHandler||null,this.pinchHandler=t.pinchHandler||null,this.stopHandler=t.stopHandler||null,this.keyDownHandler=t.keyDownHandler||null,this.keyUpHandler=t.keyUpHandler||null,this.keyHandler=t.keyHandler||null,this.focusHandler=t.focusHandler||null,this.blurHandler=t.blurHandler||null;var i=this;V[this.hash]={click:function(t){!function(t,n){t.clickHandler&&e.cancelEvent(n)}(i,t)},dblclick:function(t){!function(t,n){t.dblClickHandler&&e.cancelEvent(n)}(i,t)},keydown:function(t){!function(t,n){t.keyDownHandler&&(n=e.getEvent(n),t.keyDownHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(i,t)},keyup:function(t){!function(t,n){t.keyUpHandler&&(n=e.getEvent(n),t.keyUpHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(i,t)},keypress:function(t){!function(t,n){t.keyHandler&&(n=e.getEvent(n),t.keyHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(i,t)},focus:function(t){!function(t,n){t.focusHandler&&(n=e.getEvent(n),!1===t.focusHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}(i,t)},blur:function(t){!function(t,n){t.blurHandler&&(n=e.getEvent(n),!1===t.blurHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}(i,t)},wheel:function(e){!function(e,t){p(e,t,t)}(i,e)},mousewheel:function(e){d(i,e)},DOMMouseScroll:function(e){d(i,e)},MozMousePixelScroll:function(e){d(i,e)},mouseenter:function(t){!function(t,n){n=e.getEvent(n),m(t,n)}(i,t)},mouseleave:function(t){!function(t,n){n=e.getEvent(n),f(t,n)}(i,t)},mouseover:function(t){!function(t,n){(n=e.getEvent(n)).currentTarget===n.relatedTarget||h(n.currentTarget,n.relatedTarget)||m(t,n)}(i,t)},mouseout:function(t){!function(t,n){(n=e.getEvent(n)).currentTarget===n.relatedTarget||h(n.currentTarget,n.relatedTarget)||f(t,n)}(i,t)},mousedown:function(t){!function(t,n){var i;n=e.getEvent(n),i={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:s(n),currentTime:e.now()},D(t,n,[i],g(n.button))&&(e.stopEvent(n),r(t,"mouse")),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(n)}(i,t)},mouseup:function(e){!function(e,t){v(e,t)}(i,e)},mouseupcaptured:function(t){!function(t,n){v(t,n),e.stopEvent(n)}(i,t)},mousemove:function(e){!function(e,t){b(e,t)}(i,e)},mousemovecaptured:function(t){!function(t,n){b(t,n),e.stopEvent(n)}(i,t)},touchstart:function(t){!function(t,n){var i,o,a,l,c=n.changedTouches.length,u=[],d=t.getActivePointersListByType("touch");for(i=e.now(),d.getLength()>n.touches.length-c&&(e.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),y(t,n,d)),o=0;o<c;o++)u.push({id:n.changedTouches[o].identifier,type:"touch",currentPos:s(n.changedTouches[o]),currentTime:i});for(R(t,n,u),o=0;o<q.length;o++)if(q[o]!==t&&q[o].isTracking()&&h(q[o].element,t.element)){for(l=[],a=0;a<c;a++)l.push({id:n.changedTouches[a].identifier,type:"touch",currentPos:s(n.changedTouches[a]),currentTime:i});R(q[o],n,l)}D(t,n,u,0)&&(e.stopEvent(n),r(t,"touch",c)),e.cancelEvent(n)}(i,t)},touchend:function(e){!function(e,t){w(e,t)}(i,e)},touchendcaptured:function(t){!function(t,n){w(t,n),e.stopEvent(n)}(i,t)},touchmove:function(e){!function(e,t){C(e,t)}(i,e)},touchmovecaptured:function(t){!function(t,n){C(t,n),e.stopEvent(n)}(i,t)},touchcancel:function(e){!function(e,t){y(e,t,e.getActivePointersListByType("touch"))}(i,e)},gesturestart:function(e){!function(e,t){t.stopPropagation(),t.preventDefault()}(0,e)},gesturechange:function(e){!function(e,t){t.stopPropagation(),t.preventDefault()}(0,e)},pointerover:function(e){E(i,e)},MSPointerOver:function(e){E(i,e)},pointerout:function(e){x(i,e)},MSPointerOut:function(e){x(i,e)},pointerdown:function(e){S(i,e)},MSPointerDown:function(e){S(i,e)},pointerup:function(e){_(i,e)},MSPointerUp:function(e){_(i,e)},pointermove:function(e){A(i,e)},MSPointerMove:function(e){A(i,e)},pointercancel:function(e){$(i,e)},MSPointerCancel:function(e){$(i,e)},pointerupcaptured:function(t){!function(t,n){t.getActivePointersListByType(a(n)).getById(n.pointerId)&&T(t,n),e.stopEvent(n)}(i,t)},pointermovecaptured:function(t){!function(t,n){t.getActivePointersListByType(a(n)).getById(n.pointerId)&&k(t,n),e.stopEvent(n)}(i,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},t.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(n(this),this.element=null,e=0;e<q.length;e++)if(q[e]===this){q.splice(e,1);break}V[this.hash]=null,delete V[this.hash]},isTracking:function(){return V[this.hash].tracking},setTracking:function(i){return i?function(n){var i,r,o=V[n.hash];if(!o.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)i=e.MouseTracker.subscribeEvents[r],e.addEvent(n.element,i,o[i],!1);t(n),o.tracking=!0}}(this):n(this),this},getActivePointersListsExceptType:function(e){for(var t=V[this.hash],n=[],i=0;i<t.activePointersLists.length;++i)t.activePointersLists[i].type!==e&&n.push(t.activePointersLists[i]);return n},getActivePointersListByType:function(t){var n,i,r=V[this.hash],o=r.activePointersLists.length;for(n=0;n<o;n++)if(r.activePointersLists[n].type===t)return r.activePointersLists[n];return i=new e.MouseTracker.GesturePointList(t),r.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=V[this.hash],n=t.activePointersLists.length,i=0;for(e=0;e<n;e++)i+=t.activePointersLists[e].getLength();return i},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},e.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<q.length;e++)q[e].isTracking()&&(q[e].setTracking(!1),q[e].setTracking(!0))},e.MouseTracker.gesturePointVelocityTracker=(F=[],H=0,j=0,B=function(e,t){return e.hash.toString()+t.type+t.id.toString()},z=function(){var t,n,i,r,o,a,s=F.length,l=e.now();for(r=l-j,j=l,t=0;t<s;t++)(i=(n=F[t]).gPoint).direction=Math.atan2(i.currentPos.y-n.lastPos.y,i.currentPos.x-n.lastPos.x),o=n.lastPos.distanceTo(i.currentPos),n.lastPos=i.currentPos,a=1e3*o/(r+1),i.speed=.75*a+.25*i.speed},{addPoint:function(t,n){var i=B(t,n);F.push({guid:i,gPoint:n,lastPos:n.currentPos}),1===F.length&&(j=e.now(),H=window.setInterval(z,50))},removePoint:function(e,t){var n,i=B(e,t),r=F.length;for(n=0;n<r;n++)if(F[n].guid===i){F.splice(n,1),0==--r&&window.clearInterval(H);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.supportsMouseCapture=(U=document.createElement("div"),e.isFunction(U.setCapture)&&e.isFunction(U.releaseCapture)),e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",e.MouseTracker.wheelEventName],"DOMMouseScroll"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),e.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):(e.MouseTracker.havePointerEvents=!1,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?(e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),e.MouseTracker.haveMouseEnter=!0):(e.MouseTracker.subscribeEvents.push("mouseover","mouseout"),e.MouseTracker.haveMouseEnter=!1),e.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.maxTouchPoints=10),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts<0&&(this.contacts=0)}};var G=function(){try{return window.self!==window.top}catch(e){return!0}}()}(OpenSeadragon),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,i){var r=t.parentNode;"number"==typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer=void 0===n.attachToViewer||n.attachToViewer,this.autoFade=void 0===n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=i,this.anchor==e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):r.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(e){function t(e,t){var n,i=e.controls;for(n=i.length-1;n>=0;n--)if(i[n].element==t)return n;return-1}e.ControlDock=function(t){var n,i,r=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<r.length;i++)n=r[i],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(n,i){var r=null;if(!(t(this,n=e.getElement(n))>=0)){switch(i.anchor){case e.ControlAnchor.TOP_RIGHT:r=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:r=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:r=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:r=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:r=this.container,n.style.margin="0px",n.style.padding="0px";break;default:case e.ControlAnchor.NONE:r=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new e.Control(n,i,r)),n.style.display="inline-block"}},removeControl:function(n){var i=t(this,n=e.getElement(n));return i>=0&&(this.controls[i].destroy(),this.controls.splice(i,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(e){function t(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function n(t,n){if(n instanceof e.Overlay)return n;var i=null;if(n.element)i=e.getElement(n.element);else{var r=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(i=e.getElement(n.id))||((i=document.createElement("a")).href="#/overlay/"+r),i.id=r,e.addClass(i,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,s=n.height;if(!o){var l=n.x,c=n.y;if(void 0!==n.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,a||0,s||0));l=u.x,c=u.y,a=void 0!==a?u.width:void 0,s=void 0!==s?u.height:void 0}o=new e.Point(l,c)}var d=n.placement;return d&&"string"===e.type(d)&&(d=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:i,location:o,placement:d,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:s,rotationMode:n.rotationMode})}function i(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function r(t,n){return e.requestAnimationFrame(function(){n(t)})}function o(t){e.requestAnimationFrame(function(){!function(t){var n,i,r,a;if(t.controlsShouldFade){for(n=e.now(),i=n-t.controlsFadeBeginTime,r=1-i/t.controlsFadeLength,r=Math.min(1,r),r=Math.max(0,r),a=t.controls.length-1;a>=0;a--)t.controls[a].autoFade&&t.controls[a].setOpacity(r);r>0&&o(t)}}(t)})}function a(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout(function(){o(t)},t.controlsFadeDelay))}function s(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function l(){s(this)}function c(){a(this)}function u(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 40:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 37:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 39:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function d(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 115:case 83:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 97:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 100:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function p(e){document.activeElement==this.canvas||this.canvas.focus();var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",t),!t.preventDefaultAction&&this.viewport&&e.quick&&this.gestureSettingsByDeviceType(e.pointerType).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints())}function h(e){!e.preventDefaultAction&&this.viewport&&this.gestureSettingsByDeviceType(e.pointerType).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-double-click",{tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent})}function m(e){var t,n={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.constrainDuringPan){var i=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=i.x,this.viewport.centerSpringY.target.value+=i.y;var r=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=i.x,this.viewport.centerSpringY.target.value-=i.y,r.x!=o.x&&(e.delta.x=0),r.y!=o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function f(t){if(!t.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(t.pointerType);if(n.flickEnabled&&t.speed>=n.flickMinSpeed){var i=0;this.panHorizontal&&(i=n.flickMomentum*t.speed*Math.cos(t.direction));var r=0;this.panVertical&&(r=n.flickMomentum*t.speed*Math.sin(t.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),a=this.viewport.pointFromPixel(new e.Point(o.x-i,o.y-r));this.viewport.panTo(a,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function g(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function v(t){window.location!=window.parent.location&&e.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function b(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function y(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function w(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function C(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function E(e){var t,n,i;if(!e.preventDefaultAction&&this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(n=this.viewport.pointFromPixel(e.center,!0),i=this.viewport.pointFromPixel(e.lastCenter,!0).minus(n),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),this.viewport.panBy(i,!0),this.viewport.applyConstraints()),t.pinchRotate)){var r=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),o=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(r-o)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function x(t){var n,i,r;if((r=e.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=r,!t.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(i=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(i,this.viewport.pointFromPixel(t.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),n&&n.scrollToZoom)return!1}else if((n=this.gestureSettingsByDeviceType(t.pointerType))&&n.scrollToZoom)return!1}function S(e){z[this.hash].mouseInside=!0,s(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function _(e){e.pointers<1&&(z[this.hash].mouseInside=!1,z[this.hash].animating||a(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function T(e){!function(e){if(!e._opening){if(e.autoResize){var n=t(e.container),i=z[e.hash].prevContainerSize;if(!n.equals(i)){var r=e.viewport;if(e.preserveImageSizeOnResize){var o=i.x/n.x,l=r.getZoom()*o,c=r.getCenter();r.resize(n,!1),r.zoomTo(l,null,!0),r.panTo(c,!0)}else{var u=r.getBounds();r.resize(n,!0),r.fitBoundsWithConstraints(u,!0)}z[e.hash].prevContainerSize=n,z[e.hash].forceRedraw=!0}}var d=e.viewport.update(),p=e.world.update()||d;d&&e.raiseEvent("viewport-change"),e.referenceStrip&&(p=e.referenceStrip.update(e.viewport)||p),!z[e.hash].animating&&p&&(e.raiseEvent("animation-start"),s(e)),(p||z[e.hash].forceRedraw||e.world.needsDraw())&&(function(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),z[e.hash].forceRedraw=!1,p&&e.raiseEvent("animation")),z[e.hash].animating&&!p&&(e.raiseEvent("animation-finish"),z[e.hash].mouseInside||a(e)),z[e.hash].animating=p}}(e),e.isOpen()?e._updateRequestId=r(e,T):e._updateRequestId=!1}function A(e,t){return e?e+t:t}function k(){z[this.hash].lastZoomTime=e.now(),z[this.hash].zoomFactor=this.zoomPerSecond,z[this.hash].zooming=!0,P(this)}function $(){z[this.hash].lastZoomTime=e.now(),z[this.hash].zoomFactor=1/this.zoomPerSecond,z[this.hash].zooming=!0,P(this)}function M(){z[this.hash].zooming=!1}function P(t){e.requestAnimationFrame(e.delegate(t,R))}function R(){var t,n,i;z[this.hash].zooming&&this.viewport&&(n=(t=e.now())-z[this.hash].lastZoomTime,i=Math.pow(z[this.hash].zoomFactor,n/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),z[this.hash].lastZoomTime=t,P(this))}function O(){this.viewport&&(z[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function D(){this.viewport&&(z[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function N(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function I(){this.viewport&&this.viewport.goHome()}function L(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function F(){if(this.viewport){var e=this.viewport.getRotation();0===e?e=270:e-=90,this.viewport.setRotation(e)}}function H(){if(this.viewport){var e=this.viewport.getRotation();270===e?e=0:e+=90,this.viewport.setRotation(e)}}function j(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function B(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}var z={},U=1;e.Viewer=function(n){var i,o,s=arguments,l=this;if(e.isPlainObject(n)||(n={id:s[0],xmlPath:s.length>1?s[1]:void 0,prefixUrl:s.length>2?s[2]:void 0,controls:s.length>3?s[3]:void 0,overlays:s.length>4?s[4]:void 0}),n.config&&(e.extend(!0,n,n.config),delete n.config),e.extend(!0,this,{id:n.id,hash:n.hash||U++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,n),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==z[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),z[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);l._showMessage(n)}),e.ControlDock.call(this,n),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(o=this.canvas.style).width="100%",o.height="100%",o.overflow="hidden",o.position="absolute",o.top="0px",o.left="0px",e.setElementTouchActionNone(this.canvas),""!==n.tabIndex&&(this.canvas.tabIndex=void 0===n.tabIndex?0:n.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,u),keyHandler:e.delegate(this,d),clickHandler:e.delegate(this,p),dblClickHandler:e.delegate(this,h),dragHandler:e.delegate(this,m),dragEndHandler:e.delegate(this,f),enterHandler:e.delegate(this,g),exitHandler:e.delegate(this,v),pressHandler:e.delegate(this,b),releaseHandler:e.delegate(this,y),nonPrimaryPressHandler:e.delegate(this,w),nonPrimaryReleaseHandler:e.delegate(this,C),scrollHandler:e.delegate(this,x),pinchHandler:e.delegate(this,E)}),this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,S),exitHandler:e.delegate(this,_)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),z[this.hash].prevContainerSize=t(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(e){l.source=l.world.getItemAt(0).source,z[l.hash].forceRedraw=!0,l._updateRequestId||(l._updateRequestId=r(l,T))}),this.world.addHandler("remove-item",function(e){l.world.getItemCount()?l.source=l.world.getItemAt(0).source:l.source=null,z[l.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(e){l.viewport&&l.viewport._setContentBounds(l.world.getHomeBounds(),l.world.getContentFactor())}),this.world.addHandler("item-index-change",function(e){l.source=l.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:z[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:n.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(i=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(i,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(i=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(i,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),i=0;i<this.customControls.length;i++)this.addControl(this.customControls[i].id,{anchor:this.customControls[i].anchor});e.requestAnimationFrame(function(){a(l)})},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t,i){var r=this;if(this.close(),t){if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===i||isNaN(i)||(this.initialPage=i),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(e.isArray(t)||(t=[t]),t.length){this._opening=!0;for(var o,a=t.length,s=0,l=0,c=function(){if(s+l===a)if(s){!r._firstOpen&&r.preserveViewport||(r.viewport.goHome(!0),r.viewport.update()),r._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),r.overlays&&!r.preserveOverlays)for(var i=0;i<r.overlays.length;i++)r.currentOverlays[i]=n(r,r.overlays[i]);r._drawOverlays(),r._opening=!1,r.raiseEvent("open",{source:e})}else r._opening=!1,r.raiseEvent("open-failed",o)},u=0;u<t.length;u++)!function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(s++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)r.addOverlay(t.tileSource.overlays[i]);n&&n(e),c()};var i=t.error;t.error=function(e){l++,o||(o=e),i&&i(e),c()},r.addTiledImage(t)}(t[u]);return this}}},close:function(){return z[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),z[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(z[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),z[this.hash]=null,delete z[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){return e?s(this):a(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return z[this.hash].fullPage},setFullPage:function(t){var n,i,r=document.body,o=r.style,a=document.documentElement.style,s=this;if(t==this.isFullPage())return this;var l={fullPage:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",l),l.preventDefaultAction)return this;if(t){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=o.margin,this.docMargin=a.margin,o.margin="0",a.margin="0",this.bodyPadding=o.padding,this.docPadding=a.padding,o.padding="0",a.padding="0",this.bodyWidth=o.width,this.docWidth=a.width,o.width="100%",a.width="100%",this.bodyHeight=o.height,this.docHeight=a.height,o.height="100%",a.height="100%",this.previousBody=[],z[this.hash].prevElementParent=this.element.parentNode,z[this.hash].prevNextSibling=this.element.nextSibling,z[this.hash].prevElementWidth=this.element.style.width,z[this.hash].prevElementHeight=this.element.style.height,n=r.childNodes.length,i=0;i<n;i++)this.previousBody.push(r.childNodes[0]),r.removeChild(r.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,r.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),r.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),z[this.hash].fullPage=!0,e.delegate(this,S)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,o.margin=this.bodyMargin,a.margin=this.docMargin,o.padding=this.bodyPadding,a.padding=this.docPadding,o.width=this.bodyWidth,a.width=this.docWidth,o.height=this.bodyHeight,a.height=this.docHeight,r.removeChild(this.element),n=this.previousBody.length,i=0;i<n;i++)r.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),z[this.hash].prevElementParent.insertBefore(this.element,z[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(r.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=z[this.hash].prevElementWidth,this.element.style.height=z[this.hash].prevElementHeight;var c=0,u=function(){e.setPageScroll(s.pageScroll);var t=e.getPageScroll();++c<10&&(t.x!==s.pageScroll.x||t.y!==s.pageScroll.y)&&e.requestAnimationFrame(u)};e.requestAnimationFrame(u),z[this.hash].fullPage=!1,e.delegate(this,_)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:t}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var i={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var r=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,r),e.removeEvent(document,e.fullScreenErrorEventName,r),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&n.navigator.update(n.viewport),n.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,r),e.addEvent(document,e.fullScreenErrorEventName,r),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){function n(e){for(var n=0;n<o._loadQueue.length;n++)if(o._loadQueue[n]===a){o._loadQueue.splice(n,1);break}0===o._loadQueue.length&&i(a),o.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function i(e){o.collectionMode&&(o.world.arrange({immediately:e.options.collectionImmediately,rows:o.collectionRows,columns:o.collectionColumns,layout:o.collectionLayout,tileSize:o.collectionTileSize,tileMargin:o.collectionTileMargin}),o.world.setAutoRefigureSizes(!0))}function r(){for(var t,n,r;o._loadQueue.length&&(t=o._loadQueue[0]).tileSource;){if(o._loadQueue.splice(0,1),t.options.replace){var a=o.world.getIndexOfItem(t.options.replaceItem);-1!=a&&(t.options.index=a),o.world.removeItem(t.options.replaceItem)}n=new e.TiledImage({viewer:o,source:t.tileSource,viewport:o.viewport,drawer:o.drawer,tileCache:o.tileCache,imageLoader:o.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:o.springStiffness,animationTime:o.animationTime,minZoomImageRatio:o.minZoomImageRatio,wrapHorizontal:o.wrapHorizontal,wrapVertical:o.wrapVertical,immediateRender:o.immediateRender,blendTime:o.blendTime,alwaysBlend:o.alwaysBlend,minPixelRatio:o.minPixelRatio,smoothTileEdgesMinZoom:o.smoothTileEdgesMinZoom,iOSDevice:o.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:o.debugMode}),o.collectionMode&&o.world.setAutoRefigureSizes(!1),o.world.addItem(n,{index:t.options.index}),0===o._loadQueue.length&&i(t),1!==o.world.getItemCount()||o.preserveViewport||o.viewport.goHome(!0),o.navigator&&(r=e.extend({},t.options,{replace:!1,originalTiledImage:n,tileSource:t.tileSource}),o.navigator.addTiledImage(r)),t.options.success&&t.options.success({item:n})}}e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var o=this;t.replace&&(t.replaceItem=o.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var a={options:t};e.isArray(t.tileSource)?setTimeout(function(){n({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})}):(this._loadQueue.push(a),function(t,n,i,r,o){function a(e,t){e.ready?r(e):(e.addHandler("ready",function(){r(e)}),e.addHandler("open-failed",function(e){o({message:e.message,source:t})}))}var s=t;if("string"==e.type(n))if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var l=e.parseJSON(n);n=l}catch(e){}setTimeout(function(){if("string"==e.type(n))(n=new e.TileSource({url:n,crossOriginPolicy:void 0!==i.crossOriginPolicy?i.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){r(e.tileSource)}})).addHandler("open-failed",function(e){o(e)});else if(e.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===i.crossOriginPolicy&&void 0===t.crossOriginPolicy||(n.crossOriginPolicy=void 0!==i.crossOriginPolicy?i.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=t.useCanvas),e.isFunction(n.getTileUrl)){var l=new e.TileSource(n);l.getTileUrl=n.getTileUrl,r(l)}else{var c=e.TileSource.determineType(s,n);if(!c)return void o({message:"Unable to load TileSource",source:n});var u=c.prototype.configure.apply(s,[n]);a(new c(u),n)}else a(n,n)})}(this,t.tileSource,t,function(e){a.tileSource=e,r()},function(e){e.options=t,n(e),r()}))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var i=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(i),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return z[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,l),n=e.delegate(this,c),i=e.delegate(this,B),r=e.delegate(this,j),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:A(this.prefixUrl,o.previous.REST),srcGroup:A(this.prefixUrl,o.previous.GROUP),srcHover:A(this.prefixUrl,o.previous.HOVER),srcDown:A(this.prefixUrl,o.previous.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:A(this.prefixUrl,o.next.REST),srcGroup:A(this.prefixUrl,o.next.GROUP),srcHover:A(this.prefixUrl,o.next.HOVER),srcDown:A(this.prefixUrl,o.next.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,k),n=e.delegate(this,M),i=e.delegate(this,O),r=e.delegate(this,$),o=e.delegate(this,D),a=e.delegate(this,I),s=e.delegate(this,L),u=e.delegate(this,F),d=e.delegate(this,H),p=e.delegate(this,l),h=e.delegate(this,c),m=this.navImages,f=[],g=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton)&&(g=!1),this.showZoomControl&&(f.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:A(this.prefixUrl,m.zoomIn.REST),srcGroup:A(this.prefixUrl,m.zoomIn.GROUP),srcHover:A(this.prefixUrl,m.zoomIn.HOVER),srcDown:A(this.prefixUrl,m.zoomIn.DOWN),onPress:t,onRelease:n,onClick:i,onEnter:t,onExit:n,onFocus:p,onBlur:h})),f.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:A(this.prefixUrl,m.zoomOut.REST),srcGroup:A(this.prefixUrl,m.zoomOut.GROUP),srcHover:A(this.prefixUrl,m.zoomOut.HOVER),srcDown:A(this.prefixUrl,m.zoomOut.DOWN),onPress:r,onRelease:n,onClick:o,onEnter:r,onExit:n,onFocus:p,onBlur:h}))),this.showHomeControl&&f.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:A(this.prefixUrl,m.home.REST),srcGroup:A(this.prefixUrl,m.home.GROUP),srcHover:A(this.prefixUrl,m.home.HOVER),srcDown:A(this.prefixUrl,m.home.DOWN),onRelease:a,onFocus:p,onBlur:h})),this.showFullPageControl&&f.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:A(this.prefixUrl,m.fullpage.REST),srcGroup:A(this.prefixUrl,m.fullpage.GROUP),srcHover:A(this.prefixUrl,m.fullpage.HOVER),srcDown:A(this.prefixUrl,m.fullpage.DOWN),onRelease:s,onFocus:p,onBlur:h})),this.showRotationControl&&(f.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:A(this.prefixUrl,m.rotateleft.REST),srcGroup:A(this.prefixUrl,m.rotateleft.GROUP),srcHover:A(this.prefixUrl,m.rotateleft.HOVER),srcDown:A(this.prefixUrl,m.rotateleft.DOWN),onRelease:u,onFocus:p,onBlur:h})),f.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:A(this.prefixUrl,m.rotateright.REST),srcGroup:A(this.prefixUrl,m.rotateright.GROUP),srcHover:A(this.prefixUrl,m.rotateright.HOVER),srcDown:A(this.prefixUrl,m.rotateright.DOWN),onRelease:d,onFocus:p,onBlur:h}))),g&&(this.buttons=new e.ButtonGroup({buttons:f,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",e.delegate(this,N)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this.raiseEvent("page",{page:e}),this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e)),this},addOverlay:function(t,r,o,a){var s;if(s=e.isPlainObject(t)?t:{element:t,location:r,placement:o,onDraw:a},t=e.getElement(s.element),i(this.currentOverlays,t)>=0)return this;var l=n(this,s);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:s.location,placement:s.placement}),this},updateOverlay:function(t,n,r){var o;return t=e.getElement(t),(o=i(this.currentOverlays,t))>=0&&(this.currentOverlays[o].update(n,r),z[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:t,location:n,placement:r})),this},removeOverlay:function(t){var n;return t=e.getElement(t),(n=i(this.currentOverlays,t))>=0&&(this.currentOverlays[n].destroy(),this.currentOverlays.splice(n,1),z[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:t})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return z[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),(n=i(this.currentOverlays,t))>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(e){function t(e){e.quick&&this.viewer.viewport&&(this.viewer.viewport.panTo(this.viewport.pointFromPixel(e.position)),this.viewer.viewport.applyConstraints())}function n(e){this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function i(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function r(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function o(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.mozTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.oTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"}e.Navigator=function(a){function s(e){o(h.displayRegionContainer,e),o(h.displayRegion,-e),h.viewport.setRotation(e)}var l,c,u,d,p=a.viewer,h=this;a.id?(this.element=document.getElementById(a.id),a.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(a.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),a.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:a.autoFade},a.position&&("BOTTOM_RIGHT"==a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"==a.position&&(a.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,a.controlOptions.top=a.top,a.controlOptions.left=a.left,a.controlOptions.height=a.height,a.controlOptions.width=a.width))),this.element.id=a.id,this.element.className+=" navigator",(a=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},a,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:a.autoResize,minZoomImageRatio:1})).minPixelRatio=this.minPixelRatio=p.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),a.controlOptions.anchor!=e.ControlAnchor.NONE&&(u=this.element.style,d=this.borderWidth,u.margin="0px",u.border=d+"px solid #555",u.padding="0px",u.background="#000",u.opacity=.8,u.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid #900",e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",p.addControl(this.element,a.controlOptions),this._resizeWithViewer=a.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&a.controlOptions.anchor!=e.ControlAnchor.NONE,this._resizeWithViewer&&(a.width&&a.height?(this.element.style.height="number"==typeof a.height?a.height+"px":a.height,this.element.style.width="number"==typeof a.width?a.width+"px":a.width):(l=e.getElementSize(p.element),this.element.style.height=Math.round(l.y*a.sizeRatio)+"px",this.element.style.width=Math.round(l.x*a.sizeRatio)+"px",this.oldViewerSize=l),c=e.getElementSize(this.element),this.elementArea=c.x*c.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[a]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),a.navigatorRotate&&(s(a.viewer.viewport?a.viewer.viewport.getRotation():a.viewer.degrees||0),a.viewer.addHandler("rotate",function(e){s(e.degrees)})),this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,i),scrollHandler:e.delegate(this,r)}),this.addHandler("reset-size",function(){h.viewport&&h.viewport.goHome(!0)}),p.world.addHandler("item-index-change",function(e){window.setTimeout(function(){var t=h.world.getItemAt(e.previousIndex);h.world.setItemIndex(t,e.newIndex)},1)}),p.world.addHandler("remove-item",function(e){var t=e.item,n=h._getMatchingItem(t);n&&h.world.removeItem(n)}),this.update(p.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},update:function(t){var n,i,r,o,a,s;if(n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(i=n.x*this.sizeRatio,r=n.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(n.x/n.y)),r=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(r)+"px",this.elementArea||(this.elementArea=i*r),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(a.y)+"px",l.left=Math.round(a.x)+"px";var c=Math.abs(a.x-s.x),u=Math.abs(a.y-s.y);l.width=Math.round(Math.max(c,0))+"px",l.height=Math.round(Math.max(u,0))+"px"}},addTiledImage:function(t){var n=this,i=t.originalTiledImage;delete t.original;var r=e.extend({},t,{success:function(e){function t(){n._matchBounds(r,i)}var r=e.item;r._originalForNavigator=i,n._matchBounds(r,i,!0),i.addHandler("bounds-change",t),i.addHandler("clip-change",t),i.addHandler("opacity-change",function(){n._matchOpacity(r,i)}),i.addHandler("composite-operation-change",function(){n._matchCompositeOperation(r,i)})}});return e.Viewer.prototype.addTiledImage.apply(this,[r])},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),i=0;i<n;i++)if((t=this.world.getItemAt(i))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var i=t.getBoundsNoRotate();e.setPosition(i.getTopLeft(),n),e.setWidth(i.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right"}};e.extend(e,{getString:function(n){var i,r=n.split("."),o=null,a=arguments,s=t;for(i=0;i<r.length-1;i++)s=s[r[i]]||{};return"string"!=typeof(o=s[r[i]])&&(e.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""})},setString:function(e,n){var i,r=e.split("."),o=t;for(i=0;i<r.length-1;i++)o[r[i]]||(o[r[i]]={}),o=o[r[i]];o[r[i]]=n}})}(OpenSeadragon),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){var i,r;if(n=n||new e.Point(0,0),t%90==0)switch(e.positiveModulo(t,360)){case 0:i=1,r=0;break;case 90:i=0,r=1;break;case 180:i=-1,r=0;break;case 270:i=0,r=-1}else{var o=t*Math.PI/180;i=Math.cos(o),r=Math.sin(o)}var a=i*(this.x-n.x)-r*(this.y-n.y)+n.x,s=r*(this.x-n.x)+i*(this.y-n.y)+n.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(e){e.TileSource=function(t,n,i,r,o,a){var s,l,c=this,u=arguments;if(s=e.isPlainObject(t)?t:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},e.EventSource.call(this),e.extend(!0,this,s),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",function(e){c.success(e)}),"string"==e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new e.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,n={};for(t=0;t<=this.maxLevel;t++)n[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return n[e]},this.getLevelScale(e)},getNumTiles:function(t){var n=this.getLevelScale(t),i=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),r=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(i,r)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),i=1/n.x,r=1/n.y;return new e.Point(i,r)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,n){var i=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(i,"[TileSource.getTileAtPoint] must be called with a valid point.");var r=this.dimensions.x*this.getLevelScale(t),o=n.x*r,a=n.y*r,s=Math.floor(o/this.getTileWidth(t)),l=Math.floor(a/this.getTileHeight(t));return n.x>=1&&(s=this.getNumTiles(t).x-1),n.y>=1/this.aspectRatio-1e-16&&(l=this.getNumTiles(t).y-1),new e.Point(s,l)},getTileBounds:function(t,n,i){var r=this.dimensions.times(this.getLevelScale(t)),o=this.getTileWidth(t),a=this.getTileHeight(t),s=0===n?0:o*n-this.tileOverlap,l=0===i?0:a*i-this.tileOverlap,c=o+(0===n?1:2)*this.tileOverlap,u=a+(0===i?1:2)*this.tileOverlap,d=1/r.x;return c=Math.min(c,r.x-s),u=Math.min(u,r.y-l),new e.Rect(s*d,l*d,c*d,u*d)},getImageInfo:function(t){var n,i,r,o,a,s,l,c=this;t&&(l=(s=(a=t.split("/"))[a.length-1]).lastIndexOf("."))>-1&&(a[a.length-1]=s.slice(0,l)),i=function(n){"string"==typeof n&&(n=e.parseXml(n));var i=e.TileSource.determineType(c,n,t);i?(void 0===(o=i.prototype.configure.apply(c,[n,t])).ajaxWithCredentials&&(o.ajaxWithCredentials=c.ajaxWithCredentials),r=new i(o),c.ready=!0,c.raiseEvent("ready",{tileSource:r})):c.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(n=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:n,callback:i})):e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var n=function(t){var n,i,r=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw o=t.status,n=404==o?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(r.match(/\s*<.*/))try{i=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(r)}catch(e){i=t.responseText}else if(r.match(/\s*[\{\[].*/))try{i=e.parseJSON(r)}catch(e){i=r}else i=r;return i}(t);i(n)},error:function(e,n){var i;try{i="HTTP "+e.status+" attempting to load TileSource"}catch(e){i=(void 0!==n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource"}c.raiseEvent("open-failed",{message:i,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(e,t,n){return{}},tileExists:function(e,t,n){var i=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<i.x&&n<i.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,n,i){var r;for(r in OpenSeadragon)if(r.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[r])&&e.isFunction(OpenSeadragon[r].prototype.supports)&&OpenSeadragon[r].prototype.supports.call(t,n,i))return OpenSeadragon[r];e.console.error("No TileSource was able to open %s %s",i,n)}}(OpenSeadragon),function(e){function t(t,n){var i,r,o=n.Image,a=o.Url,s=o.Format,l=o.Size,c=o.DisplayRect||[],u=parseInt(l.Width,10),d=parseInt(l.Height,10),p=parseInt(o.TileSize,10),h=parseInt(o.Overlap,10),m=[];for(r=0;r<c.length;r++)i=c[r].Rect,m.push(new e.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return e.extend(!0,{width:u,height:d,tileSize:p,tileOverlap:h,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:m},n)}e.DziTileSource=function(t,n,i,r,o,a,s,l,c){var u,d,p,h;if(h=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=h.tilesUrl,this.fileFormat=h.fileFormat,this.displayRects=h.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(p=(d=this.displayRects[u]).minLevel;p<=d.maxLevel;p++)this._levelRects[p]||(this._levelRects[p]=[]),this._levelRects[p].push(d);e.TileSource.apply(this,[h])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(n=e.documentElement.namespaceURI)),-1!==(n=(n||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,i){var r;return r=e.isPlainObject(n)?t(this,n):function(n,i){if(!i||!i.documentElement)throw new Error(e.getString("Errors.Xml"));var r,o,a,s,l,c=i.documentElement,u=c.localName||c.tagName,d=i.documentElement.namespaceURI,p=null,h=[];if("Image"==u)try{if(void 0===(s=c.getElementsByTagName("Size")[0])&&(s=c.getElementsByTagNameNS(d,"Size")[0]),p={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(s.getAttribute("Height"),10),Width:parseInt(s.getAttribute("Width"),10)}}},!e.imageFormatSupported(p.Image.Format))throw new Error(e.getString("Errors.ImageFormat",p.Image.Format.toUpperCase()));for(void 0===(r=c.getElementsByTagName("DisplayRect"))&&(r=c.getElementsByTagNameNS(d,"DisplayRect")[0]),l=0;l<r.length;l++)o=r[l],void 0===(a=o.getElementsByTagName("Rect")[0])&&(a=o.getElementsByTagNameNS(d,"Rect")[0]),h.push({Rect:{X:parseInt(a.getAttribute("X"),10),Y:parseInt(a.getAttribute("Y"),10),Width:parseInt(a.getAttribute("Width"),10),Height:parseInt(a.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return h.length&&(p.Image.DisplayRect=h),t(n,p)}catch(n){throw n instanceof Error?n:new Error(e.getString("Errors.Dzi"))}else{if("Collection"==u)throw new Error(e.getString("Errors.Dzc"));if("Error"==u){var m=c.getElementsByTagName("Message")[0],f=m.firstChild.nodeValue;throw new Error(f)}}throw new Error(e.getString("Errors.Dzi"))}(this,n),i&&!r.tilesUrl&&(r.tilesUrl=i.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=i.search(/\.(dzi|xml|js)\?/)?r.queryParams=i.match(/\?.*/):r.queryParams=""),r},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var i,r,o,a,s,l,c,u=this._levelRects[e];if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(!(e<(i=u[c]).minLevel||e>i.maxLevel)&&(r=this.getLevelScale(e),o=i.x*r,a=i.y*r,s=o+i.width*r,l=a+i.height*r,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=t&&t<s&&a<=n&&n<l))return!0;return!1}})}(OpenSeadragon),function(e){e.IIIFTileSource=function(t){if(e.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var n=0;n<this.tiles.length;n++)for(var i=0;i<this.tiles[n].scaleFactors.length;i++){var r=this.tiles[n].scaleFactors[i];this.scale_factors.push(r),t.tileSizePerScaleFactor[r]={width:this.tiles[n].width,height:this.tiles[n].height||this.tiles[n].width}}}else if(c=t.profile,-1==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(c[0])||-1!=c.indexOf("sizeByW")){for(var o=Math.min(this.height,this.width),a=[256,512,1024],s=[],l=0;l<a.length;l++)a[l]<=o&&s.push(a[l]);s.length>0?t.tileSize=Math.max.apply(null,s):t.tileSize=o}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=function(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e["@id"]+"/full/"+e.sizes[n].width+",/0/default.jpg",width:e.sizes[n].width,height:e.sizes[n].height});return t.sort(function(e,t){return e.width-t.width})}(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");var c;t.maxLevel||this.emulateLegacyImagePyramid||(this.scale_factors?t.maxLevel=Math.floor(Math.pow(Math.max.apply(null,this.scale_factors),.5)):t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)))),e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!!(e.protocol&&"http://iiif.io/api/image"==e.protocol||e["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"==e["@context"]||"http://iiif.io/api/image/1/context.json"==e["@context"])||e.profile&&0===e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||e.identifier&&e.width&&e.height||e.documentElement&&"info"==e.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"==e.documentElement.namespaceURI)},configure:function(t,n){if(e.isPlainObject(t))return t["@context"]?t:(t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json",""),t);var i=function(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,i=null;if("info"==n.tagName)try{return function t(n,i,r){var o,a;if(3==n.nodeType&&r)(a=n.nodeValue.trim()).match(/^\d*$/)&&(a=Number(a)),i[r]?(e.isArray(i[r])||(i[r]=[i[r]]),i[r].push(a)):i[r]=a;else if(1==n.nodeType)for(o=0;o<n.childNodes.length;o++)t(n.childNodes[o],i,n.nodeName)}(n,i={}),i}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}(t);return i["@context"]="http://iiif.io/api/image/1.0/context.json",i["@id"]=n.replace("/info.xml",""),i},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}var r,o,a,s,l,c,u,d,p,h,m,f=Math.pow(.5,this.maxLevel-e),g=Math.ceil(this.width*f),v=Math.ceil(this.height*f);return r=this.getTileWidth(e),o=this.getTileHeight(e),a=Math.ceil(r/f),s=Math.ceil(o/f),m=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1?"native.jpg":"default.jpg",g<r&&v<o?(h=g+",",l="full"):(c=t*a,u=n*s,d=Math.min(a,this.width-c),p=Math.min(s,this.height-u),h=Math.ceil(d*f)+",",l=[c,u,d,p].join(",")),[this["@id"],l,h,"0",m].join("/")}})}(OpenSeadragon),function(e){e.OsmTileSource=function(t,n,i,r,o){var a;(a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(OpenSeadragon),function(e){e.TmsTileSource=function(t,n,i,r,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,l=256*Math.ceil(a.width/256),c=256*Math.ceil(a.height/256);s=l>c?l/256:c/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=c,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var i=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(i-n)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var i=0,r={},o=0;o<e;o++)i+=(r=this.gridSize[o]).x*r.y;return i+=(r=this.gridSize[e]).x*n+t},supports:function(e,t){return e.type&&"zoomifytileservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var i,r=this._calculateAbsoluteTileNumber(e,t,n);return i=Math.floor(r/256),this.tilesUrl+"TileGroup"+i+"/"+e+"-"+t+"-"+n+".jpg"}})}(OpenSeadragon),function(e){function t(e,t){return t.levels}e.LegacyTileSource=function(t){var n,i,r;e.isArray(t)&&(n={type:"legacy-image-pyramid",levels:t}),n.levels=function(t){var n,i,r=[];for(i=0;i<t.length;i++)(n=t[i]).height&&n.width&&n.url?r.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return r.sort(function(e,t){return e.height-t.height})}(n.levels),n.levels.length>0?(i=n.levels[n.levels.length-1].width,r=n.levels[n.levels.length-1].height):(i=0,r=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:i,height:r,tileSize:Math.max(r,i),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(n,i){return e.isPlainObject(n)?t(this,n):function(n,i){if(!i||!i.documentElement)throw new Error(e.getString("Errors.Xml"));var r,o,a=i.documentElement,s=a.tagName,l=null,c=[];if("image"==s)try{for(l={type:a.getAttribute("type"),levels:[]},c=a.getElementsByTagName("level"),o=0;o<c.length;o++)r=c[o],l.levels.push({url:r.getAttribute("url"),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10)});return t(n,l)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==s)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==s)throw new Error("Error: "+i)}throw new Error("Unknown element "+s)}(this,n)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}})}(OpenSeadragon),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var n=this._image=new Image,i=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",function(){i.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,i.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,i.aspectRatio=i.width/i.height,i.dimensions=new e.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})}),e.addEvent(n,"error",function(){i.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})}),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i},getContext2D:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].context2D),i},_buildLevels:function(){var t=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,i=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,r=document.createElement("canvas"),o=r.getContext("2d");if(r.width=n,r.height=i,o.drawImage(this._image,0,0,n,i),t[0].context2D=o,delete this._image,e.isCanvasTainted(r))return t;for(;n>=2&&i>=2;){n=Math.floor(n/2),i=Math.floor(i/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n,a.height=i,s.drawImage(r,0,0,n,i),t.splice(0,0,{context2D:s,width:n,height:i}),r=a,o=s}return t}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(t,n,i,r){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(e){function t(n){e.requestAnimationFrame(function(){!function(n){var i,r,o;n.shouldFade&&(i=e.now(),r=i-n.fadeBeginTime,o=1-r/n.fadeLength,o=Math.min(1,o),o=Math.max(0,o),n.imgGroup&&e.setElementOpacity(n.imgGroup,o,!0),o>0&&t(n))}(n)})}function n(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST&&(function(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function i(n,i){n.element.disabled||(i<=e.ButtonState.HOVER&&n.currentState==e.ButtonState.DOWN&&(n.imgDown&&(n.imgDown.style.visibility="hidden"),n.currentState=e.ButtonState.HOVER),i<=e.ButtonState.GROUP&&n.currentState==e.ButtonState.HOVER&&(n.imgHover&&(n.imgHover.style.visibility="hidden"),n.currentState=e.ButtonState.GROUP),i<=e.ButtonState.REST&&n.currentState==e.ButtonState.GROUP&&(function(n){n.shouldFade=!0,n.fadeBeginTime=e.now()+n.fadeDelay,window.setTimeout(function(){t(n)},n.fadeDelay)}(n),n.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var r=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(n(r,e.ButtonState.DOWN),r.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||n(r,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),r.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(t){i(r,e.ButtonState.GROUP),t.insideElementPressed&&r.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e),r.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){n(r,e.ButtonState.DOWN),r.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(i(r,e.ButtonState.HOVER),r.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?i(r,e.ButtonState.GROUP):n(r,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&r.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(r.raiseEvent("click",{originalEvent:e.originalEvent}),r.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),i(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){n(this,e.ButtonState.GROUP)},notifyGroupExit:function(){i(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,i=this.buttons.concat([]),r=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.label=e.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),n=0;n<i.length;n++)this.element.appendChild(i[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(e){e.Rect=function(t,n,i,r,o){var a,s;this.x="number"==typeof t?t:0,this.y="number"==typeof n?n:0,this.width="number"==typeof i?i:0,this.height="number"==typeof r?r:0,this.degrees="number"==typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},e.Rect.fromSummits=function(t,n,i){var r=t.distanceTo(n),o=t.distanceTo(i),a=n.minus(t),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new e.Rect(t.x,t.y,r,o,s/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),i=t.getBoundingBox(),r=Math.min(n.x,i.x),o=Math.min(n.y,i.y),a=Math.max(n.x+n.width,i.x+i.width),s=Math.max(n.y+n.height,i.y+i.height);return new e.Rect(r,o,a-r,s-o)},intersection:function(t){var n=1e-10,i=[],r=this.getTopLeft();t.containsPoint(r,n)&&i.push(r);var o=this.getTopRight();t.containsPoint(o,n)&&i.push(o);var a=this.getBottomLeft();t.containsPoint(a,n)&&i.push(a);var s=this.getBottomRight();t.containsPoint(s,n)&&i.push(s);var l=t.getTopLeft();this.containsPoint(l,n)&&i.push(l);var c=t.getTopRight();this.containsPoint(c,n)&&i.push(c);var u=t.getBottomLeft();this.containsPoint(u,n)&&i.push(u);var d=t.getBottomRight();this.containsPoint(d,n)&&i.push(d);for(var p=this._getSegments(),h=t._getSegments(),m=0;m<p.length;m++)for(var f=p[m],g=0;g<h.length;g++){var v=h[g],b=function(t,i,r,o){var a=i.minus(t),s=o.minus(r),l=-s.x*a.y+a.x*s.y;if(0===l)return null;var c=(a.x*(t.y-r.y)-a.y*(t.x-r.x))/l,u=(s.x*(t.y-r.y)-s.y*(t.x-r.x))/l;return-n<=c&&c<=1-n&&-n<=u&&u<=1-n?new e.Point(t.x+u*a.x,t.y+u*a.y):null}(f[0],f[1],v[0],v[1]);b&&i.push(b)}if(0===i.length)return null;for(var y=i[0].x,w=i[0].x,C=i[0].y,E=i[0].y,x=1;x<i.length;x++){var S=i[x];S.x<y&&(y=S.x),S.x>w&&(w=S.x),S.y<C&&(C=S.y),S.y>E&&(E=S.y)}return new e.Rect(y,C,w-y,E-C)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[e,t],[t,i],[i,n],[n,e]]},rotate:function(t,n){if(0===(t=e.positiveModulo(t,360)))return this.clone();n=n||this.getCenter();var i=this.getTopLeft().rotate(t,n),r=this.getTopRight().rotate(t,n).minus(i);r=r.apply(function(e){return Math.abs(e)<1e-15?0:e});var o=Math.atan(r.y/r.x);return r.x<0?o+=Math.PI:r.y<0&&(o+=2*Math.PI),new e.Rect(i.x,i.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),r=this.getBottomRight(),o=Math.min(t.x,n.x,i.x,r.x),a=Math.max(t.x,n.x,i.x,r.x),s=Math.min(t.y,n.y,i.y,r.y),l=Math.max(t.y,n.y,i.y,r.y);return new e.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),i=Math.floor(t.y),r=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-i);return new e.Rect(n,i,r,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),i=this.getTopRight(),r=this.getBottomLeft(),o=i.minus(n),a=r.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-i.x)*o.x+(e.y-i.y)*o.y<=t&&(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-r.x)*a.x+(e.y-r.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(e){function t(t){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-t.delta.x>0?n>-(o-s.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",i(this,s.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",i(this,s.x,n+2*t.delta.x)):-t.delta.y>0?r>-(a-s.y)&&(this.element.style.marginTop=r+2*t.delta.y+"px",i(this,s.y,r+2*t.delta.y)):-t.delta.y<0&&r<0&&(this.element.style.marginTop=r+2*t.delta.y+"px",i(this,s.y,r+2*t.delta.y))),!1}function n(t){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?t.scroll>0?n>-(o-s.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",i(this,s.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",i(this,s.x,n-60*t.scroll)):t.scroll<0?r>s.y-a&&(this.element.style.marginTop=r+60*t.scroll+"px",i(this,s.y,r+60*t.scroll)):t.scroll>0&&r<0&&(this.element.style.marginTop=r+60*t.scroll+"px",i(this,s.y,r+60*t.scroll))),!1}function i(t,n,i){var r,o,a,s,l,c,u;for(r="horizontal"==t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/r)+5,c=o=(o=(a=Math.ceil((Math.abs(i)+n)/r)+1)-o)<0?0:o;c<a&&c<t.panels.length;c++)if(!(u=t.panels[c]).activePanel){var d,p=t.viewer.tileSources[c];d=p.referenceStripThumbnailUrl?{type:"image",url:p.referenceStripThumbnailUrl}:p,(s=new e.Viewer({id:u.id,tileSources:[d],element:u,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=e.makeNeutralElement("div"),s.displayRegion.id=u.id+"-displayregion",s.displayRegion.className="displayregion",(l=s.displayRegion.style).position="relative",l.top="0px",l.left="0px",l.fontSize="0px",l.overflow="hidden",l.float="left",l.cssFloat="left",l.styleFloat="left",l.zIndex=999999999,l.cursor="default",l.width=t.panelWidth-4+"px",l.height=t.panelHeight-4+"px",s.displayRegion.innerTracker=new e.MouseTracker({element:s.displayRegion,startDisabled:!0}),u.getElementsByTagName("div")[0].appendChild(s.displayRegion),t.miniViewers[u.id]=s,u.activePanel=!0}}function r(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function o(t){var n=t.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px",!1}function a(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return n.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function s(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return n.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return n.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}var l={};e.ReferenceStrip=function(c){var u,d,p,h=c.viewer,m=e.getElementSize(h.element);for(c.id||(c.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=c.id,this.element.className="referencestrip"),c=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},c,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),e.extend(this,c),l[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(d=this.element.style).marginTop="0px",d.marginRight="0px",d.marginBottom="0px",d.marginLeft="0px",d.left="0px",d.bottom="0px",d.border="0px",d.background="#000",d.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=h,this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,t),scrollHandler:e.delegate(this,n),enterHandler:e.delegate(this,r),exitHandler:e.delegate(this,o),keyDownHandler:e.delegate(this,a),keyHandler:e.delegate(this,s)}),c.width&&c.height?(this.element.style.width=c.width+"px",this.element.style.height=c.height+"px",h.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"==c.scroll?(this.element.style.width=m.x*c.sizeRatio*h.tileSources.length+12*h.tileSources.length+"px",this.element.style.height=m.y*c.sizeRatio+"px",h.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=m.y*c.sizeRatio*h.tileSources.length+12*h.tileSources.length+"px",this.element.style.width=m.x*c.sizeRatio+"px",h.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=m.x*this.sizeRatio+8,this.panelHeight=m.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},p=0;p<h.tileSources.length;p++)(u=e.makeNeutralElement("div")).id=this.element.id+"-"+p,u.style.width=this.panelWidth+"px",u.style.height=this.panelHeight+"px",u.style.display="inline",u.style.float="left",u.style.cssFloat="left",u.style.styleFloat="left",u.style.padding="2px",e.setElementTouchActionNone(u),u.innerTracker=new e.MouseTracker({element:u,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var n=t.eventSource,i=n.element.id,r=Number(i.split("-")[2]),o=e.now();t.insideElementPressed&&t.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,h.goToPage(r))}}),this.element.appendChild(u),u.activePanel=!1,this.panels.push(u);i(this,"vertical"==this.scroll?m.y:m.x,0),this.setFocus(0)},e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var n,o=e.getElement(this.element.id+"-"+t),a=e.getElementSize(this.viewer.canvas),s=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==o&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=o,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(t)*(this.panelWidth+3))>c+a.x-this.panelWidth?(n=Math.min(n,s-a.x),this.element.style.marginLeft=-n+"px",i(this,a.x,-n)):n<c&&(n=Math.max(0,n-a.x/2),this.element.style.marginLeft=-n+"px",i(this,a.x,-n)):(n=Number(t)*(this.panelHeight+3))>u+a.y-this.panelHeight?(n=Math.min(n,l-a.y),this.element.style.marginTop=-n+"px",i(this,a.y,-n)):n<u&&(n=Math.max(0,n-a.y/2),this.element.style.marginTop=-n+"px",i(this,a.y,-n)),this.currentPage=t,r.call(this,{eventSource:this.innerTracker}))},update:function(){return!!l[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(e){e.DisplayRect=function(t,n,i,r,o,a){e.Rect.apply(this,[t,n,i,r]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon),function(e){e.Spring=function(t){var n=arguments;"object"!=typeof t&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,n;this.current.time=e.now(),this._exponential?(t=this.start._logValue,n=this.target._logValue):(t=this.start.value,n=this.target.value);var i,r,o=this.current.time>=this.target.time?n:t+(n-t)*(i=this.springStiffness,r=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(i*-r))/(1-Math.exp(-i))),a=this.current.value;return this._exponential?this.current.value=Math.exp(o):this.current.value=o,a!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}t.prototype={errorMsg:null,start:function(){var t=this,n=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout(function(){t.errorMsg="Image load exceeded timeout",t.finish(!1)},this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var n;try{n=new window.Blob([e.response])}catch(t){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&i){var r=new i;r.append(e.response),n=r.getBlob()}}0===n.size&&(t.errorMsg="Empty image response.",t.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);t.image.src=o},error:function(e){t.errorMsg="Image load aborted - XHR error",t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"==typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var n=this,i=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(t){!function(e,t,n){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(e.jobQueue.shift().start(),e.jobsInProgress++),n(t.image,t.errorMsg,t.request)}(n,t,e.callback)},abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(i.start(),this.jobsInProgress++):this.jobQueue.push(i)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(e){e.Tile=function(e,t,n,i,r,o,a,s,l){this.level=e,this.x=t,this.y=n,this.bounds=i,this.exists=r,this.url=o,this.context2D=a,this.loadWithAjax=s,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,n,i,r){var o,a=this.position.times(e.pixelDensityRatio),s=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(t.save(),t.globalAlpha=this.opacity,"number"==typeof i&&1!==i&&(a=a.times(i),s=s.times(i)),r instanceof e.Point&&(a=a.plus(r)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(a.x+1,a.y+1,s.x-2,s.y-2),n({context:t,tile:this,rendered:o}),t.drawImage(o.canvas,0,0,o.canvas.width,o.canvas.height,a.x,a.y,s.x,s.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,i){var r=Math.max(1,Math.ceil((i.x-n.x)/2)),o=Math.max(1,Math.ceil((i.y-n.y)/2));return new e.Point(r,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,i){var r;r=e.isPlainObject(t)?t:{element:t,location:n,placement:i},this.element=r.element,this.style=r.element.style,this._init(r)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var i=e.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?t.x-=n.x/2:i.isRight&&(t.x-=n.x),i.isVerticallyCentered?t.y-=n.y/2:i.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var i=e.getCssPropertyWithVendorPrefix("transformOrigin"),r=e.getCssPropertyWithVendorPrefix("transform");i&&r&&(n[i]="",n[r]="")},drawHTML:function(t,n){var i=this.element;i.parentNode!==t&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,t.appendChild(i),this.style.position="absolute",this.size=e.getElementSize(i));var r=this._getOverlayPositionAndSize(n),o=r.position,a=this.size=r.size,s=r.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=a.x+"px"),null!==this.height&&(l.height=a.y+"px");var c=e.getCssPropertyWithVendorPrefix("transformOrigin"),u=e.getCssPropertyWithVendorPrefix("transform");c&&u&&(s?(l[c]=this._getTransformOrigin(),l[u]="rotate("+s+"deg)"):(l[c]="",l[u]="")),"none"!==l.display&&(l.display="block")}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(t);this.adjust(n,i);var r=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,i.x,i.y),a=this._getBoundingBox(o,t.degrees);n=a.getTopLeft(),i=a.getSize()}else r=t.degrees;return{position:n,size:i,rotate:r}},_getSizeInPixels:function(t){var n=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var r=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=r.x),null!==this.height&&(i=r.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(i=o.y)}return new e.Point(n,i)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),i=e.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?n.x+=t.width/2:i.isRight&&(n.x+=t.width),i.isVerticallyCentered?n.y+=t.height/2:i.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n?(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom"),t):t},update:function(t,n){var i=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,i=this.height;if(null===n||null===i){var r=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=r.x),null===i&&(i=r.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,i)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,i))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var i=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}return n.rotate(-t.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var n=arguments;if(e.isPlainObject(t)||(t={source:n[0],viewport:n[1],element:n[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},e.Drawer.prototype={addOverlay:function(t,n,i,r){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,n,i,r),this},updateOverlay:function(t,n,i){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,n,i),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,i=0;i<n.getItemCount();i++)n.getItemAt(i).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,n=0,i=0;i<t.getItemCount();i++){var r=t.getItemAt(i).getOpacity();r>n&&(n=r)}return n},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y}this._clear()}},_clear:function(e,t){if(this.useCanvas){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}},viewportToDrawerRectangle:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio)},drawTile:function(t,n,i,r,o){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var a=this._getContext(i);r=r||1,t.drawCanvas(a,n,r,o)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",function e(){if(0!==i.viewport.getRotation()){i.viewer.removeHandler("rotate",e);var t=i._calculateSketchCanvasSize();i.sketchCanvas.width=t.x,i.sketchCanvas.height=t.y}})}}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},drawRectangle:function(e,t,n){if(this.useCanvas){var i=this._getContext(n);i.save(),i.fillStyle=t,i.fillRect(e.x,e.y,e.width,e.height),i.restore()}},blendSketch:function(t,n,i,r){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:n,translate:i,compositeOperation:r}),this.useCanvas&&this.sketchCanvas){t=o.opacity,r=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,r&&(this.context.globalCompositeOperation=r),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1;var s=(i=o.translate)instanceof e.Point?i:new e.Point(0,0),l=0,c=0;if(i){var u=this.sketchCanvas.width-this.canvas.width,d=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(d/2)}this.context.drawImage(this.sketchCanvas,s.x-l*n,s.y-c*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*c)*n,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(t,n,i,r){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(r)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),r.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:r.getRotation(!0),point:r.viewport.pixelFromPointNoRotate(r._getRotationPoint(!0),!0)}),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,l),a.rotate(Math.PI/180*-this.viewport.degrees),a.translate(-s,-l),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+i+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),r.getRotation(!0)%360!=0&&this._restoreRotationChanges(),a.restore()}},debugRect:function(t){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},getCanvasSize:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(t.useSketch);i.save(),i.translate(n.x,n.y),i.rotate(Math.PI/180*t.degrees),i.translate(-n.x,-n.y)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:n.x*t,y:n.y*t}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),i=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-i/2,n,i)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var n=this.getCenter(t),i=1/this.getZoom(t),r=i/this.getAspectRatio();return new e.Rect(n.x-i/2,n.y-r/2,i,r)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,i,r,o,a,s,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),c=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?l:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),o=(r=1/(i=this.getZoom()))/this.getAspectRatio(),a=new e.Rect(l.x-r/2,l.y-o/2,r,o),s=this._pixelFromPoint(this.zoomPoint,a).minus(n).divide(this._containerInnerSize.x*i),c.plus(s)):c},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var n=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var i=this.visibilityRatio*n.width,r=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,a=this._contentBoundsNoRotate.x-r+i,s=o-n.x-i;i>this._contentBoundsNoRotate.width?n.x+=(a+s)/2:s<0?n.x+=s:a>0&&(n.x+=a)}if(this.wrapVertical);else{var l=this.visibilityRatio*n.height,c=n.y+n.height,u=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,d=this._contentBoundsNoRotate.y-c+l,p=u-n.y-l;l>this._contentBoundsNoRotate.height?n.y+=(d+p)/2:p<0?n.y+=p:d>0&&(n.y+=d)}return n},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var i=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(i);return this._raiseConstraintsEvent(e),(i.x!==r.x||i.y!==r.y||e)&&this.fitBounds(r.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){var i=(n=n||{}).immediately||!1,r=n.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),s=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(r){var c=s.getAspectRatio(),u=this._applyZoomConstraints(l);l!==u&&(l=u,s.width=1/l,s.x=a.x-s.width/2,s.height=s.width/c,s.y=a.y-s.height/2),a=(s=this._applyBoundaryConstraints(s)).getCenter(),this._raiseConstraintsEvent(i)}if(i)return this.panTo(a,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var d=this.getBounds(),p=this.getZoom();if(0===p||Math.abs(l/p-1)<1e-8)return this.zoomTo(l,!0),this.panTo(a,i);var h=(s=s.rotate(-this.getRotation())).getTopLeft().times(l).minus(d.getTopLeft().times(p)).divide(l-p);return this.zoomTo(l,h,i)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,n){var i=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,i){var r=this;return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,i?this._adjustCenterSpringsForZoomPoint(function(){r.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:i}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var n,i=this.getBoundsNoRotate(),r=i;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,r.width=i.width*n,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(r,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(t),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var i=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,n){var i=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/i,n*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,n,!0)}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var i=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*i,n/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,n,!0)}var r=this._imageToViewportDelta(t,n);return r.x+=this._contentBoundsNoRotate.x,r.y+=this._contentBoundsNoRotate.y,r},imageToViewportRectangle:function(t,n,i,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,i,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,n,i,r,!0)}var s=this.imageToViewportCoordinates(o.x,o.y),l=this._imageToViewportDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewportToImageRectangle:function(t,n,i,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,i,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,n,i,r,!0)}var s=this.viewportToImageCoordinates(o.x,o.y),l=this._viewportToImageDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n)return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}var i=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/i*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n)return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)}}}(OpenSeadragon),function(e){function t(e,t,i,r,o,a,l,c,u){var d=l.getBoundingBox().getTopLeft(),p=l.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:r,opacity:o,visibility:a,drawArea:l,topleft:d,bottomright:p,currenttime:c,best:u}),s(e.coverage,r),s(e.loadingCoverage,r);for(var h=e._getCornerTiles(r,d,p),m=h.topLeft,f=h.bottomRight,g=e.source.getNumTiles(r),v=e.viewport.pixelFromPoint(e.viewport.getCenter()),b=m.x;b<=f.x;b++)for(var y=m.y;y<=f.y;y++){if(!e.wrapHorizontal&&!e.wrapVertical){var w=e.source.getTileBounds(r,b,y);if(null===l.intersection(w))continue}u=n(e,i,t,b,y,r,o,a,v,g,c,u)}return u}function n(t,n,r,s,l,c,u,d,p,h,m,f){var g=function(t,n,i,r,o,a,s,l,c,u){var d,p,h,m,f,g,v,b;return a[i]||(a[i]={}),a[i][t]||(a[i][t]={}),a[i][t][n]||(d=(l.x+t%l.x)%l.x,p=(l.y+n%l.y)%l.y,h=o.getTileBounds(i,d,p),m=o.tileExists(i,d,p),f=o.getTileUrl(i,d,p),r.loadTilesWithAjax?(g=o.getTileAjaxHeaders(i,d,p),e.isPlainObject(r.ajaxHeaders)&&(g=e.extend({},r.ajaxHeaders,g))):g=null,v=o.getContext2D?o.getContext2D(i,d,p):void 0,h.x+=(t-d)/l.x,h.y+=u/c*((n-p)/l.y),b=new e.Tile(i,t,n,h,m,f,v,r.loadTilesWithAjax,g),d===l.x-1&&(b.isRightMost=!0),p===l.y-1&&(b.isBottomMost=!0),a[i][t][n]=b),(b=a[i][t][n]).lastTouchTime=s,b}(s,l,c,t,t.source,t.tilesMatrix,m,h,t._worldWidthCurrent,t._worldHeightCurrent),v=r;t.viewer&&t.viewer.raiseEvent("update-tile",{tiledImage:t,tile:g}),a(t.coverage,c,s,l,!1);var b=g.loaded||g.loading||o(t.loadingCoverage,c,s,l);if(a(t.loadingCoverage,c,s,l,b),!g.exists)return f;if(n&&!v&&(o(t.coverage,c,s,l)?a(t.coverage,c,s,l,!0):v=!0),!v)return f;if(function(t,n,i,r,o,a){var s=t.bounds.getTopLeft();s.x*=a._scaleSpring.current.value,s.y*=a._scaleSpring.current.value,s.x+=a._xSpring.current.value,s.y+=a._ySpring.current.value;var l=t.bounds.getSize();l.x*=a._scaleSpring.current.value,l.y*=a._scaleSpring.current.value;var c=i.pixelFromPointNoRotate(s,!0),u=i.pixelFromPointNoRotate(s,!1),d=i.deltaPixelsFromPointsNoRotate(l,!0),p=i.deltaPixelsFromPointsNoRotate(l,!1),h=u.plus(p.divide(2)),m=r.squaredDistanceTo(h);n||(d=d.plus(new e.Point(1,1))),t.isRightMost&&a.wrapHorizontal&&(d.x+=.75),t.isBottomMost&&a.wrapVertical&&(d.y+=.75),t.position=c,t.size=d,t.squaredDistance=m,t.visibility=o}(g,t.source.tileOverlap,t.viewport,p,d,t),!g.loaded)if(g.context2D)i(t,g);else{var y=t._tileCache.getImageRecord(g.cacheKey);y&&i(t,g,y.getImage())}return g.loaded?function(e,t,n,i,r,o,s){var l,c,u=1e3*e.blendTime;if(t.blendStart||(t.blendStart=s),l=s-t.blendStart,c=u?Math.min(1,l/u):1,e.alwaysBlend&&(c*=o),t.opacity=c,e.lastDrawn.push(t),1==c)a(e.coverage,r,n,i,!0),e._hasOpaqueTile=!0;else if(l<u)return!0;return!1}(t,g,s,l,c,u,m)&&(t._needsDraw=!0):g.loading?t._tilesLoading++:b||(f=function(e,t){return e?t.visibility>e.visibility?t:t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance?t:e:t}(f,g)),f}function i(e,t,n,i,r){function o(){return s++,a}function a(){0==--s&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:n,tile:t,cutoff:i,tiledImage:e}),e._needsDraw=!0)}var s=0;e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:r,image:n,getCompletionCallback:o}),o()()}function r(e,t,n,i){var r,o,a,s;if(!e[t])return!1;if(void 0===n||void 0===i){for(a in r=e[t])if(r.hasOwnProperty(a))for(s in o=r[a])if(o.hasOwnProperty(s)&&!o[s])return!1;return!0}return void 0===e[t][n]||void 0===e[t][n][i]||!0===e[t][n][i]}function o(e,t,n,i){return void 0===n||void 0===i?r(e,t+1):r(e,t+1,2*n,2*i)&&r(e,t+1,2*n,2*i+1)&&r(e,t+1,2*n+1,2*i)&&r(e,t+1,2*n+1,2*i+1)}function a(t,n,i,r,o){t[n]?(t[n][i]||(t[n][i]={}),t[n][i][r]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function s(e,t){e[t]={}}e.TiledImage=function(t){var n=this;e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var i=t.x||0;delete t.x;var r=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var o=1;t.width?(o=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(o=t.height/this.normHeight,delete t.height);var a=t.fitBounds;delete t.fitBounds;var s=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var l=t.degrees||0;delete t.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),a&&this.fitBounds(a,s,!0),this._drawingHandler=function(t){n.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:n},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update();return!!(e||t||n||i)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){(0!==this.opacity||this._preload)&&(this._midDraw=!0,this._updateViewport(),this._midDraw=!1)},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBoundsNoRotate(t);if(this._clip){var i=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,r=this._clip.times(i);n=new e.Rect(n.x+r.x,n.y+r.y,r.width,r.height)}return n.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/r),n*(this.source.dimensions.y*this.contentAspectX/r))},viewportToImageCoordinates:function(t,n,i){var r;return t instanceof e.Point?(i=n,r=t):r=new e.Point(t,n),r=r.rotate(-this.getRotation(i),this._getRotationPoint(i)),i?this._viewportToImageDelta(r.x-this._xSpring.current.value,r.y-this._ySpring.current.value):this._viewportToImageDelta(r.x-this._xSpring.target.value,r.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*r,n/this.source.dimensions.y/this.contentAspectX*r)},imageToViewportCoordinates:function(t,n,i){t instanceof e.Point&&(i=n,n=t.y,t=t.x);var r=this._imageToViewportDelta(t,n);return i?(r.x+=this._xSpring.current.value,r.y+=this._ySpring.current.value):(r.x+=this._xSpring.target.value,r.y+=this._ySpring.target.value),r.rotate(this.getRotation(i),this._getRotationPoint(i))},imageToViewportRectangle:function(t,n,i,r,o){var a=t;a instanceof e.Rect?o=n:a=new e.Rect(t,n,i,r);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,n,i,r,o){var a=t;t instanceof e.Rect?o=n:a=new e.Rect(t,n,i,r);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var n=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/n,(t.y-this._ySpring.current.value)/n,t.width/n,t.height/n,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(t,n,i){n=n||e.Placement.CENTER;var r=e.Placement.properties[n],o=this.contentAspectX,a=0,s=0,l=1,c=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,s=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,s=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var u=t.height/c,d=0;r.isHorizontallyCentered?d=(t.width-t.height*o)/2:r.isRight&&(d=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+d,t.y-s),i),this.setHeight(u,i)}else{var p=t.width/l,h=0;r.isVerticallyCentered?h=(t.height-t.width/o)/2:r.isBottom&&(h=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-s+h),i),this.setWidth(p,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return{lowestLevel:e=Math.min(e,n),highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;)this.lastDrawn.pop().beingDrawn=!1;var n=this.viewport,o=this._viewportToTiledImageRectangle(n.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var a=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(o=o.intersection(a)))return}for(var s=this._getLevelsInterval(),l=s.lowestLevel,c=s.highestLevel,u=null,d=!1,p=e.now(),h=c;h>=l;h--){var m=!1,f=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!0).x*this._scaleSpring.current.value;if(h===l||!d&&f>=this.minPixelRatio)m=!0,d=!0;else if(!d)continue;var g=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!1).x*this._scaleSpring.current.value,v=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,b=this.immediateRender?1:v;if(u=t(this,d,m,h,Math.min(1,(f-.5)/.5),b/Math.abs(b-g),o,p,u),r(this.coverage,h))break}!function(t,n){if(0!==t.opacity&&(0!==n.length||t.placeholderFillStyle)){var i,r,o,a=n[0];a&&(i=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&a._hasTransparencyChannel());var s,l=t.viewport.getZoom(!0),c=t.viewportToImageZoom(l);n.length>1&&c>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&e.supportsCanvas&&(i=!0,r=a.getScaleForEdgeSmoothing(),o=a.getTranslationForEdgeSmoothing(r,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0))),i&&(r||(s=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(e.pixelDensityRatio)),t._drawer._clear(!0,s)),r||(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:i}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:i}));var u=!1;if(t._clip){t._drawer.saveContext(i);var d=t.imageToViewportRectangle(t._clip,!0);d=d.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var p=t._drawer.viewportToDrawerRectangle(d);r&&(p=p.times(r)),o&&(p=p.translate(o)),t._drawer.setClip(p,i),u=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var h=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));r&&(h=h.times(r)),o&&(h=h.translate(o));var m=null;m="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(h,m,i)}for(var f=n.length-1;f>=0;f--)a=n[f],t._drawer.drawTile(a,t._drawingHandler,i,r,o),a.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:a});u&&t._drawer.restoreContext(i),r||(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(i),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(i)),i&&(r&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:r,translate:o,compositeOperation:t.compositeOperation,bounds:s}),r&&(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1))),function(t,n){if(t.debugMode)for(var i=n.length-1;i>=0;i--){var r=n[i];try{t._drawer.drawDebugInfo(r,n.length,i,t)}catch(t){e.console.error(t)}}}(t,n)}}(this,this.lastDrawn),u&&!u.context2D?(function(t,n,r){n.loading=!0,t._imageLoader.addJob({src:n.url,loadWithAjax:n.loadWithAjax,ajaxHeaders:n.ajaxHeaders,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(o,a,s){!function(t,n,r,o,a,s){if(!o)return e.console.log("Tile %s failed to load: %s - error: %s",n,n.url,a),t.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:t,time:r,message:a,tileRequest:s}),n.loading=!1,void(n.exists=!1);if(r<t.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var l=function(){var e=t.source.getClosestLevel();i(t,n,o,e,s)};t._midDraw?window.setTimeout(l,1):l()}(t,n,r,o,a,s)},abort:function(){n.loading=!1}})}(this,u,p),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,n,i){var r,o,a,s;this.wrapHorizontal?(r=e.positiveModulo(n.x,1),o=e.positiveModulo(i.x,1)):(r=Math.max(0,n.x),o=Math.min(1,i.x));var l=1/this.source.aspectRatio;this.wrapVertical?(a=e.positiveModulo(n.y,l),s=e.positiveModulo(i.y,l)):(a=Math.max(0,n.y),s=Math.min(l,i.y));var c=this.source.getTileAtPoint(t,new e.Point(r,a)),u=this.source.getTileAtPoint(t,new e.Point(o,s)),d=this.source.getNumTiles(t);return this.wrapHorizontal&&(c.x+=d.x*Math.floor(n.x),u.x+=d.x*Math.floor(i.x)),this.wrapVertical&&(c.y+=d.y*Math.floor(n.y/l),u.y+=d.y*Math.floor(i.y/l)),{topLeft:c,bottomRight:u}}})}(OpenSeadragon),function(e){var t=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};t.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(n){e.console.assert(n,"[TileCache.cacheTile] options is required"),e.console.assert(n.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(n.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(n.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=n.cutoff||0,r=this._tilesLoaded.length,o=this._imagesLoaded[n.tile.cacheKey];if(o||(e.console.assert(n.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),o=this._imagesLoaded[n.tile.cacheKey]=new t({image:n.image}),this._imagesLoadedCount++),o.addTile(n.tile),n.tile.cacheImageRecord=o,this._imagesLoadedCount>this._maxImageCacheCount){for(var a,s,l,c,u,d,p=null,h=-1,m=null,f=this._tilesLoaded.length-1;f>=0;f--)(a=(d=this._tilesLoaded[f]).tile).level<=i||a.beingDrawn||(p?(c=a.lastTouchTime,s=p.lastTouchTime,u=a.level,l=p.level,(c<s||c==s&&u>l)&&(p=a,h=f,m=d)):(p=a,h=f,m=d));p&&h>=0&&(this._unloadTile(m),r=h)}this._tilesLoaded[r]=new function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage}({tile:n.tile,tiledImage:n.tiledImage})},clearTilesFor:function(t){var n;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)(n=this._tilesLoaded[i]).tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,i=t.tiledImage;n.unload(),n.cacheImageRecord=null;var r=this._imagesLoaded[n.cacheKey];r.removeTile(n),r.getTileCount()||(r.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:i})}}}(OpenSeadragon),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(n=n||{}).index){var i=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(i,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==i&&-1!==i&&(this._items.splice(i,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:i,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);-1!==n&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var n,i=(t=t||{}).immediately||!1,r=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=s+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);n=!t.rows&&a?a:Math.ceil(this._items.length/o);var c,u,d,p,h,m=0,f=0;this.setAutoRefigureSizes(!1);for(var g=0;g<this._items.length;g++)g&&g%n==0&&("horizontal"===r?(f+=l,m=0):(m+=l,f=0)),p=(d=(u=(c=this._items[g]).getBounds()).width>u.height?s:s*(u.width/u.height))*(u.height/u.width),h=new e.Point(m+(s-d)/2,f+(s-p)/2),c.setPosition(h,i),c.setWidth(d,i),"horizontal"===r?m+=l:f+=l;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var r=this._items[0],o=r.getBounds();this._contentFactor=r.getContentSize().x/o.width;for(var a=r.getClippedBounds().getBoundingBox(),s=a.x,l=a.y,c=a.x+a.width,u=a.y+a.height,d=1;d<this._items.length;d++)o=(r=this._items[d]).getBounds(),this._contentFactor=Math.max(this._contentFactor,r.getContentSize().x/o.width),a=r.getClippedBounds().getBoundingBox(),s=Math.min(s,a.x),l=Math.min(l,a.y),c=Math.max(c,a.x+a.width),u=Math.max(u,a.y+a.height);this._homeBounds=new e.Rect(s,l,c-s,u-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(t)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.smartFloat",[]).directive("aceSmartFloat",["$filter","$timeout",function(e,t){var n=/^\$?\d+.(\d{3})*(,\d*)$/,i=/^\$?\d+,(\d{3})*(\.\d*)$/,r=/^\$?\d+(\.\d*)?$/,o=/^\$?\d+(,\d*)?$/;return{require:"ngModel",link:function(a,s,l,c){var u=void 0;a.$watch(function(){return c.$viewValue},function(e){t.cancel(u),u=t(function(){c.$modelValue=e},1e3)}),c.$parsers.unshift(function(e){return n.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(".","").replace(",","."))):i.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(",",""))):r.test(e)?(c.$setValidity("float",!0),parseFloat(e)):o.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(",","."))):void c.$setValidity("float",!1)}),c.$formatters.unshift(function(t){return e("number")(parseFloat(t),2)})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.srcChange",[]).directive("aceSrcChange",["$timeout",function(e){return{priority:0,restrict:"A",link:function(e,t,n){var i=void 0;t.on("load",function(){t.css("opacity",1)}),t.on("error",function(){t.css("opacity",1)}),n.$observe("src",function(e){i&&e!==i&&!t[0].complete&&t.css("opacity",0),i=e})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.stopPropagation",[]).directive("aceStopPropagation",[function(){return{priority:0,restrict:"A",link:function(e,t){t.on("keydown keyup keypress",function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation())})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.syncFocus",[]).directive("aceSyncFocus",["$timeout",function(e){return{restrict:"A",scope:{focusValue:"=aceSyncFocus"},link:function(t,n){t.$watch("focusValue",function(t){e(function(){!0===t?n[0].focus():!1===t&&n[0].blur()})})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.videoPreview",[]).directive("aceVideoPreview",["$rootScope","$http","$timeout","appConfig",function(e,t,n,i){return{restrict:"EA",replace:!0,template:'<div class="ace-video-preview"><div class="ace-video-preview--message" ng-show="encoding">Encoding in progress</div><img class="ace-video-preview--thumbnail" ng-show="!encoding" ng-src={{thumbnail}}></div>',scope:{video:"="},link:function(r){r.$watch("video",function(e){e&&e.metadata&&("Complete"!==e.metadata.job.status?a(e.metadata.job.id):o(e))});var o=function(t){r.encoding=!1,r.thumbnail="https://"+t.bucket+".s3.amazonaws.com/"+e.assetSlug+"/"+t.mediaType+"/"+t.thumbnail},a=function e(a){r.encoding=!0,t({url:i.apiUrl+"/transcode/job/"+a,method:"GET"}).success(function(t){"Complete"!==t.Status?n(function(){e(a)},5e3):(r.video.metadata.job.status=t.Status,r.video.variants=r.video.variants.map(function(e,n){return e.duration=t.Outputs[n].Duration,e.width=t.Outputs[n].Width,e.height=t.Outputs[n].Height,e}),o(r.video))})}}}}])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0));n(387),n(388);var o=i(n(102)),a=function(e,t){for(var n="",i=0;i<t;i++)n+=e;return n},s=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,i,e[i])},l=function(e){e=e.replace(/(?:\r\n|\r|\n|\t)/g,"");var t=r.default.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",s(t,function(t,n){var i=n.nodeName.toLowerCase();"#comment"!==i?"#text"!==i?n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===i||"ol"===i?""+function e(t,n){var i="";return i+=a("\t",++n-1)+t.outerHTML.substring(0,4),s(t.childNodes,function(t,r){var o=r.nodeName.toLowerCase();"#comment"!==o?"#text"!==o?r.outerHTML&&(i+="ul"===o||"ol"===o?"\n"+e(r,n):"\n"+a("\t",n)+r.outerHTML):i+=r.textContent:i+="\x3c!--"+r.nodeValue+"--\x3e"}),i+="\n"+a("\t",n-1)+t.outerHTML.substring(t.outerHTML.lastIndexOf("<"))}(n,0):""+n.outerHTML):e+=n.textContent:e+="\x3c!--"+n.nodeValue+"--\x3e"})),e};t.default=r.default.module("ace.richText",[]).filter("prettyHtml",function(){return function(e){return l(e)}}).directive("aceRichText",function(){return{restrict:"EA",require:["aceRichText","ngModel"],scope:{options:"=?",showHtml:"=?"},bindToController:!0,controllerAs:"vm",link:function(e,t,n,i){i[0].ngModel=i[1]},controller:["$scope","$element","$document","$timeout",function(e,t,n,i){"ngInject";function a(e){c&&(e&&(r.default.forEach(c.elements,function(e){return r.default.element(e).css("display","none")}),r.default.forEach(c.origElements,function(e){return r.default.element(e).css("display","block")}),t.val(l(s.ngModel.$viewValue))),e||(r.default.forEach(c.origElements,function(e){return r.default.element(e).css("display","none")}),r.default.forEach(c.elements,function(e){return r.default.element(e).css("display","block")}),c.setContent(l(t.val()))))}var s=this,c=void 0;e.$watch(function(){return s.showHtml},a),e.$watch(function(){return s.ngModel},function(){c=new o.default(t,s.options||{}),s.ngModel.$render=function(){t.html(s.ngModel.$viewValue||""),c.setContent(s.ngModel.$viewValue||"");var e=c.getExtensionByName("placeholder");e&&e.updatePlaceholder(t[0])},s.ngModel.$isEmpty=function(e){return/[<>]/.test(e)?0===function(e){var t=n[0].createElement("div");return t.innerHTML=e,(t.textContent||"").trim()}(e).length:!e||0===e.length},c.subscribe("editableInput",function(e,t){s.ngModel.$setViewValue(l(t.innerHTML.trim()))}),a(!1),e.$emit("aceRichText:init",c)}),s.$onDestroy=function(){c&&c.destroy()}}]}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default.module("ace.sortable",[]).directive("aceSortable",function(){return{restrict:"A",controller:["$document","$scope","$element","$timeout","$attrs","$parse",function(e,t,n,i,r,a){var s=this;s.collection=a(r.collection)(t),s.item=a(r.item)(t),s.index=a(r.index)(t),s.axis=a(r.axis)(t),s.draggableSelector=a(r.draggableSelector)(t),s.handleSelector=a(r.handleSelector)(t);var l=void 0,c=void 0,u=!1,d=!1,p=void 0,h=void 0,m=function(){return o.default.isFunction(s.collection)?s.collection(t):s.collection},f=function(){return s.item?m().indexOf(s.item):o.default.isFunction(s.index)?s.index(t):a(r.index)(t)};(l=s.draggableSelector?o.default.element(n[0].closest(s.draggableSelector)):n).attr("draggable",!0),l.on("mousedown",function(e){c=s.handleSelector?o.default.element(n[0].querySelectorAll(s.handleSelector)):n,d=!0,o.default.forEach(c,function(t){e.target===t&&(d=!1)})}),e.on("mouseup",function(){d=!1}),l.on("dragstart",function(e){if(d)e.preventDefault();else{u=!0,l.addClass("dragging");var t=e.dataTransfer||e.originalEvent.dataTransfer,n=f();t.effectAllowed="copyMove",t.dropEffect="move",t.setData("text/plain",n)}}),l.on("dragend",function(){u=!1,l.removeClass("dragging")});var g=function(e){if(!u){e.preventDefault();var t=l[0].getBoundingClientRect(),n={width:t.right-t.left,height:t.bottom-t.top,x:(e.originalEvent||e).clientX-t.left,y:(e.originalEvent||e).clientY-t.top},i="y"===s.axis?n.y:n.x,r=("y"===s.axis?n.height:n.width)/2;l.addClass("dropping"),i<r?(p="before",l.removeClass("dropping--after"),l.addClass("dropping--before")):(p="after",l.removeClass("dropping--before"),l.addClass("dropping--after"))}},v=function e(n){n.preventDefault();var r=parseInt((n.dataTransfer||n.originalEvent.dataTransfer).getData("text/plain"),10),o=f(),a=null;"before"===p?a=r<o?o-1:o:"after"===p&&(a=r<o?o:o+1),i.cancel(h),h=i(function(){p=null,t.$parent.$apply(function(){var e=m();t.$emit("aceSortable:change",{collection:e,item:e[r],from:r,to:a}).defaultPrevented||function(e,t){this.splice(t,0,this.splice(e,1)[0])}.apply(e,[r,a])}),l.removeClass("dropping"),l.removeClass("dropping--before"),l.removeClass("dropping--after"),l.off("drop",e)},1e3/60)};l.on("dragenter",function(){u||(l.off("dragover",g),l.off("drop",v),l.on("dragover",g),l.on("drop",v))}),l.on("dragleave",function(e){l.removeClass("dropping"),l.removeClass("dropping--before"),l.removeClass("dropping--after")})}]}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(110));n(391),t.default=r.default.module("ace.c3",[]).component("aceC3",{bindings:{options:"<"},controller:["$scope","$element","$window","$timeout",function(e,t,n,i){function a(){!l.options||l.options.width||l.options.height||c.resize({width:t[0].clientWidth,height:t[0].clientHeight})}function s(){i.cancel(u),u=i(a,50)}var l=this,c=void 0,u=void 0;l.$onChanges=function(){l.options&&(l.options.bindto=t[0],c=o.default.generate(l.options),i(a))},r.default.element(n).on("resize",s),l.$onDestroy=function(){r.default.element(n).off("resize",s)}}]})},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(183));t.default=r.default.module("ace.flow",[]).directive("aceFlow",function(){return{restrict:"EA",scope:{options:"="},bindToController:!0,controllerAs:"vm",controller:["$scope","$element","$timeout",function(e,t,n){var i=this,a=new o.default(i.options);i.options.events&&r.default.forEach(i.options.events,function(e,t){a.on(t,function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];i.unshift(a),n(function(){e.apply(void 0,i)})})}),i.$onInit=function(){n(function(){var e=t[0].querySelectorAll("[ace-flow-browse]");a.assignBrowse(e);var n=t[0].querySelectorAll("[ace-flow-drop]");a.assignDrop(n),i.options.onInit&&i.options.onInit(a)})},i.$onDestroy=function(){a.cancel()}}]}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(394)),a=i(n(399)),s=i(n(404)),l=i(n(410)),c=i(n(416)),u=i(n(425)),d=i(n(432)),p=i(n(444)),h=i(n(455)),m=i(n(463)),f=i(n(469)),g=i(n(662)),v=i(n(675)),b=i(n(681)),y=r.default.module("app.components",[o.default.name,a.default.name,s.default.name,l.default.name,c.default.name,u.default.name,d.default.name,p.default.name,h.default.name,m.default.name,f.default.name,g.default.name,v.default.name,b.default.name]);t.default=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(395)),s=r.default.module("menu",[o.default]).directive("menu",a.default).filter("batchUploadSchemas",function(){return function(e){return e?e.filter(function(e){return!e.settings.singular&&0!==e.fields.filter(function(e){return/^(image)$/.test(e.type)}).length}):[]}});t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(396)),o=i(n(397));n(398),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar title="{{$root.slug}}"><div class="md-toolbar-tools"><h3 title="{{$root.slug}}">{{$root.$config.client.name || \'Fokus\'}}</h3></div></md-toolbar><md-content><md-list><md-list-item ui-sref="dashboard" ui-sref-active="active"><md-icon md-font-set="material-icons">dashboard</md-icon><p>Dashboard</p></md-list-item><md-menu md-offset="220 0" ng-show="$root.$config.schemas.length"><md-list-item ng-click="$mdMenu.open()" ng-class="{active: $root.$helper.testExp(\'new|entity|view\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">create</md-icon><p>Content</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="schema in $root.$config.schemas" ng-if="!schema.settings.hidden"><md-button ng-if="schema.settings.singular" ui-sref="singularEntity({id: schema.slug})">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button><md-button ng-if="!schema.settings.singular" ui-sref="entityGrid({schemaSlug: schema.slug})">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name | pluralize }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="$root.$config.taxonomies.length || $root.$isSuperUser"><md-list-item ng-click="$mdMenu.open()" ng-class="{active: $root.$helper.testExp(\'taxonomy\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">format_list_bulleted</md-icon><p>Taxonomy</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="taxonomy in $root.$config.taxonomies | orderBy: \'name\'"><md-button ui-sref="taxonomy({taxonomySlug: taxonomy.slug})">{{ taxonomy.name }}</md-button></md-menu-item><md-menu-divider ng-if="::$root.$isSuperUser"></md-menu-divider><md-menu-item ng-if="::$root.$isSuperUser"><md-button ng-click="vm.newTaxonomy($event)"><md-icon md-font-set="material-icons">add</md-icon><span>New Taxonomy</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="($root.$permissions.ecommerce || $root.$isSuperUser) &amp;&amp; $root.$config.moduleEnabled.ecommerce"><md-list-item ng-click="$mdMenu.open()" ng-class="{active: $root.$helper.testExp(\'ecommerce\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">shopping_cart</md-icon><p>E-commerce</p></md-list-item><md-menu-content width="4"><md-menu-item><md-button ui-sref="ecommerceOrders">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Orders</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="ecommerceDiscounts">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Discounts</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="ecommerceSettings">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Settings</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="uploadSchemas.length"><md-list-item ng-click="$mdMenu.open()" ng-class="{active: $root.$helper.testExp(\'batchUpload\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">file_upload</md-icon><p>Upload</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="schema in $root.$config.schemas | batchUploadSchemas as uploadSchemas"><md-button ui-sref="batchUploadEntity({schemaSlug: schema.slug})">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><hr/><md-list-item ui-sref="trash" ui-sref-active="active"><md-icon md-font-set="material-icons">delete</md-icon><p>Trash</p></md-list-item><md-list-item ui-sref="user" ui-sref-active="active" ng-show="$root.$permissions.user || $root.$isSuperUser"><md-icon md-font-set="material-icons">people</md-icon><p>Users</p></md-list-item><md-list-item ui-sref="settings" ui-sref-active="active" ng-show="$root.$permissions.settings || $root.$isSuperUser"><md-icon md-font-set="material-icons">settings</md-icon><p>Settings</p></md-list-item><hr/><md-list-item ng-show="$root.$config.client.baseUrl" ng-click="vm.preview()"><md-icon md-font-set="material-icons">desktop_mac</md-icon><p>Preview</p></md-list-item><md-list-item ng-href="{{:: $root.clientBasePath + $root.slug }}/logout" target="_self"><md-icon md-font-set="material-icons">exit_to_app</md-icon><p>Logout</p></md-list-item><hr/><md-menu md-offset="220 0" ng-if="::$root.$isSuperUser"><md-list-item ng-click="$mdMenu.open()" ui-sref-active="ui-sref-active" ng-class="{active: $root.$helper.testExp(\'schemas|tools\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">settings_applications</md-icon><p>Admin</p></md-list-item><md-menu-content width="4"><md-menu-item><md-button ui-sref="config">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Config</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="schemas">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Schemas</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="tools">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Tools</span></md-button></md-menu-item></md-menu-content></md-menu></md-list></md-content>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(2)),s=function e(t,n,i,s,l,c,u){var d=this;(0,a.default)(this,e);var p;s.onSuccess({to:"*"},function(e){i.previous=""===e.from().name?null:e.from(),i.previousParams=e.params("from"),l("mainMenu").close()}),t.toggleMainMenu=function(){l("mainMenu").toggle()},this.newTaxonomy=(p=(0,o.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.editTaxonomy(null,t);case 2:(n=e.sent)&&i.go("taxonomy",{taxonomySlug:n.slug});case 4:case"end":return e.stop()}},e,d)})),function(e){return p.apply(this,arguments)}),this.preview=function(){n.open(c.getConfig().client.baseUrl+"?apiToken="+t.apiToken)}};s.$inject=["$rootScope","$window","$state","$transitions","$mdSidenav","ConfigFactory","TaxonomyFactory"],t.default=s},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(400)),s=r.default.module("dashboard",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("dashboard",{url:"/",views:{content:{template:"<dashboard></dashboard>"}}})}]).directive("dashboard",a.default);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(401)),o=i(n(402));n(403),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Dashboard</h3></div></md-toolbar><md-content><div layout="row" layout-padding="layout-padding" layout-wrap="layout-wrap"><div flex="100"><md-card><md-card-title><md-card-title-text><h4 class="md-headline">Hi {{$root.$user.firstName || $root.$user.id}}!</h4></md-card-title-text></md-card-title></md-card></div><div flex-gt-xs="60" flex="100"><md-card><md-card-title><md-card-title-text><h4 class="md-title">Sessions</h4></md-card-title-text></md-card-title><md-card-content><p ng-if="!vm.gaAuthorised || !vm.gaView"><a ui-sref="settings">Setup Google Analytics</a></p><div class="chart chart--sessions" ng-if="vm.sessionsChart &amp;&amp; vm.gaView"><div class="chart__wrapper"><ace-c3 options="vm.sessionsChart"></ace-c3></div></div></md-card-content></md-card></div><div flex-gt-xs="40" flex="100"><md-card><md-card-title><md-card-title-text><h4 class="md-title">Top Referrals</h4></md-card-title-text></md-card-title><md-card-content><p ng-if="!vm.gaAuthorised || !vm.gaView"><a ui-sref="settings">Setup Google Analytics</a></p><md-table-container ng-if="vm.referrals &amp;&amp; vm.gaView"><table md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Source</th><th md-column="md-column">Sessions</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="referral in vm.referrals"><td md-cell="md-cell"><a href="http://{{referral.fullReferrer}}" target="_blank">{{referral.source}}</a></td><td md-cell="md-cell">{{referral.sessions}}</td></tr></tbody></table></md-table-container></md-card-content></md-card></div></div></md-content>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(2)),s=i(n(1)),l=i(n(31)),c=function e(t,n,i,c){var u=this;(0,a.default)(this,e);var d,p=this,h=c.getConfig();p.gaAuthorised=!!s.default.get(h,"provider.google.access_token")&&!!s.default.get(h,"provider.google.refresh_token"),p.gaView=h.client.gaView,p.gaAuthorised&&p.gaView&&(d=(0,o.default)(r.default.mark(function e(){var t,o,a,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(h.provider.google.expires<Math.floor(+new Date/1e3))){e.next=5;break}return e.next=4,c.refreshProvider("google");case 4:h=e.sent;case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0.data.message),e.abrupt("return");case 11:t=new n.URL(h.client.baseUrl||""),o=(o=t.hostname.split(".")).length>=3?o.splice(1).join("."):o.join("."),a=(a=n.location.hostname.split(".")).length>=3?a.splice(1).join("."):a.join("."),s=[a,"localhost"].map(function(e){return"ga:source!~"+e}).join(";"),i.get("https://www.googleapis.com/analytics/v3/data/ga?access_token="+h.provider.google.access_token,{cache:!0,params:{ids:"ga:"+h.client.gaView,"start-date":"7daysAgo","end-date":"today",dimensions:"ga:date,ga:nthDay",metrics:"ga:sessions",filters:s}}).then(function(e){var t=e.data;if(0!==t.totalResults){var n=t.rows.map(function(e){return{sessions:e[2],date:(0,l.default)(e[0],"YYYYMMDD").format("DD/MM")}});p.sessionsChart={data:{x:"x ",json:n,keys:{x:"date",value:["sessions"]},names:{sessions:"Sessions"}},axis:{x:{type:"category"}}}}}),i.get("https://www.googleapis.com/analytics/v3/data/ga?access_token="+h.provider.google.access_token,{cache:!0,params:{ids:"ga:"+h.client.gaView,"start-date":"7daysAgo","end-date":"today",dimensions:"ga:source,ga:referralPath",metrics:"ga:sessions",filters:"ga:medium==referral;"+s,sort:"-ga:sessions"}}).then(function(e){var t=e.data;if(0!==t.totalResults){var n=t.rows.map(function(e){return{source:e[0],fullReferrer:e[0]+e[1],sessions:e[2]}});p.referrals=n.slice(0,5)}else p.referrals=[]});case 20:case"end":return e.stop()}},e,u,[[0,7]])})),function(){return d.apply(this,arguments)})()};c.$inject=["$rootScope","$window","$http","ConfigFactory"],t.default=c},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(405)),s=i(n(409)),l=r.default.module("settings",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("settings",{url:"/settings",views:{content:{template:"<settings></settings>"}},data:{permissions:"settings"}})}]).factory("SettingsFactory",s.default).directive("settings",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(406)),o=i(n(407));n(408),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Settings</h2><span flex="flex"></span><md-button ng-click="vm.save()" ng-disabled="vm.form.$invalid">Save</md-button></div></md-toolbar><md-content><form name="vm.form" role="form" novalidate="novalidate"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>General</h3></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><br/><md-input-container><label>Metadata Description</label><textarea ng-model="vm.config.client.metadata.description"></textarea></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Google</h3><span flex="flex"></span><md-button href="https://myaccount.google.com/permissions" target="_blank">Revoke Access</md-button><md-button ng-click="vm.authenticateWithProvider(\'google\')">{{ vm.config.provider.google.access_token ? \'Reconnect\' : \'Connect\' }}</md-button></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><div class="md-subhead" ng-show="!vm.config.provider.google.access_token">Connect your Google account</div><md-list-item ng-show="vm.config.provider.google.access_token"><img class="md-avatar" ng-src="{{vm.config.provider.google.user.image.url}}"/><div class="md-list-item-text"><a href="{{vm.config.provider.google.user.url}}" target="_blank">{{vm.config.provider.google.user.displayName}}</a></div></md-list-item></div><div ng-show="vm.config.provider.google.access_token" flex="flex" layout="row" layout-margin="layout-margin"><md-input-container class="md-block"><label>Analytics View</label><md-select ng-model="vm.config.client.gaView"><md-option ng-repeat="view in vm.gaViews" value="{{view.id}}">{{view.websiteUrl}} ({{view.name}})</md-option></md-select></md-input-container></div><span ng-show="vm.config.providerEnabled.instagram"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Instagram</h3><span flex="flex"></span><md-button ng-click="vm.authenticateWithProvider(\'instagram\')">{{ vm.config.provider.instagram.access_token ? \'Reconnect\' : \'Connect\' }}</md-button></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><div class="md-subhead" ng-show="!vm.config.provider.instagram.access_token">Connect your Instagram account</div><md-list-item ng-show="vm.config.provider.instagram.access_token"><img class="md-avatar" ng-src="{{vm.config.provider.instagram.user.profile_picture}}"/><div class="md-list-item-text"><a href="https://instagram.com/{{vm.config.provider.instagram.user.username}}" target="_blank">@{{vm.config.provider.instagram.user.username}}</a></div></md-list-item></div></span><span ng-show="vm.config.providerEnabled.vimeo"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Vimeo</h3><span flex="flex"></span><md-button ng-click="vm.authenticateWithProvider(\'vimeo\')">{{ vm.config.provider.vimeo ? \'Reconnect\' : \'Connect\' }}</md-button></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><div class="md-subhead" ng-show="!vm.config.provider.vimeo.access_token">Connect your Vimeo account</div><md-list-item ng-show="vm.config.provider.vimeo.access_token"><img class="md-avatar" ng-src="{{vm.config.provider.vimeo.user.pictures[3].link}}"/><div class="md-list-item-text"><a href="{{vm.config.provider.vimeo.user.link}}" target="_blank">{{vm.config.provider.vimeo.user.name}}</a></div></md-list-item></div></span></form></md-content>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(2)),s=function e(t,n,i){var s=this;(0,a.default)(this,e);var l=this;l.config=n.getConfig(),l.gaViews=[];var c,u,d=(c=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?access_token="+l.config.provider.google.access_token);case 2:return l.gaViews=e.sent.data.items,e.abrupt("return",l.gaViews);case 4:case"end":return e.stop()}},e,s)})),function(){return c.apply(this,arguments)});l.save=function(){i.save(l.config.client)},l.authenticateWithProvider=(u=(0,o.default)(r.default.mark(function e(t){var i,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.authenticateWithProvider(t);case 2:if(i=e.sent,l.config=i,"google"!==t){e.next=9;break}return e.next=7,d();case 7:(o=e.sent).length&&(l.config.client.gaView=o[0].id);case 9:n.setConfig(l.config);case 10:case"end":return e.stop()}},e,s)})),function(e){return u.apply(this,arguments)}),l.config.provider.google&&d()};s.$inject=["$http","ConfigFactory","SettingsFactory"],t.default=s},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=function(e,t,n){"ngInject";var i,a={};return a.save=(i=(0,o.default)(r.default.mark(function i(o){var a;return r.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.post(n.apiUrl+"/settings",{settings:o});case 2:a=i.sent.data,t.setConfig(a);case 4:case"end":return i.stop()}},i,void 0)})),function(e){return i.apply(this,arguments)}),a};a.$inject=["$http","ConfigFactory","appConfig"],t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(411)),s=i(n(415)),l=r.default.module("config",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("config",{url:"/config",views:{content:{template:"<config></config>"}},data:{permissions:"super"}})}]).factory("ConfigFactory",s.default).directive("config",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(412)),o=i(n(413));n(414),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Config</h2><span flex="flex"></span><md-button ng-click="vm.save()" ng-disabled="vm.form.$invalid">Save</md-button></div></md-toolbar><md-content><form name="vm.form" role="form" novalidate="novalidate"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>General</h3></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><br/><md-input-container><label>Client Name</label><input ng-model="vm.config.client.name" aria-label="Client Name"/></md-input-container><md-input-container><label>Website URL</label><input ng-model="vm.config.client.baseUrl" aria-label="Website URL"/></md-input-container><md-input-container><label>Google Analytics View ID</label><input ng-model="vm.config.client.gaView" aria-label="Google Analytics View ID"/></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Assets</h3></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><br/><md-input-container><label>Slug</label><input ng-model="vm.config.assets.slug" aria-label="Assets Slug"/></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Modules / Providers</h3></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><md-input-container><md-checkbox ng-model="vm.config.moduleEnabled.ecommerce" aria-label="E-commerce module">E-commerce module</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.config.providerEnabled.instagram" aria-label="Instagram">Instagram provider</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.config.providerEnabled.vimeo" aria-label="Vimeo">Vimeo provider</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.config.providerEnabled.createsend" aria-label="CreateSend">CreateSend provider</md-checkbox></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>CreateSend</h3></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><br/><md-input-container><label>Client ID</label><input ng-model="vm.config.provider.createsend.clientId" aria-label="CreateSend Client ID"/></md-input-container><md-input-container><label>Client API Key</label><input ng-model="vm.config.provider.createsend.clientApiKey" aria-label="CreateSend Client API Key"/></md-input-container></div></form></md-content>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=function e(t){(0,o.default)(this,e);var n=this;n.config=t.getConfig(),n.save=function(){t.saveConfig(n.config)}};a.$inject=["ConfigFactory"],t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=function(e,t,n,i,s,l,c,u,d,p){"ngInject";var h={},m=void 0,f=void 0,g=[];h.registerObserverCallback=function(e){g.push(e)};var v,b,y=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(m=t,e.$config=m,n){var i=n("x-user-id");(f=a.default.find(m.users,{id:i}))||(f={id:i}),e.$user=f;var r=n("x-role");e.$isSuperUser="super"===r,"super"!==r&&(e.$permissions=a.default.find(m.roles,{slug:r}).permissions)}return g.forEach(function(e){e()}),m};return h.loadConfig=(0,o.default)(r.default.mark(function e(){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(u.apiUrl+"/config");case 2:return n=e.sent,e.abrupt("return",y(n.data,n.headers));case 4:case"end":return e.stop()}},e,void 0)})),h.saveConfig=(v=(0,o.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post(u.apiUrl+"/config",{config:n});case 2:return i=e.sent,e.abrupt("return",y(i.data,i.headers));case 4:case"end":return e.stop()}},e,void 0)})),function(e){return v.apply(this,arguments)}),h.getConfig=function(){return a.default.merge({},m)},h.setConfig=function(e){y(e)},h.getUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?m.users.filter(function(t){return t.id===e})[0]:a.default.merge({},f)},h.getSchema=function(e){return m.schemas.filter(function(t){return t.slug===e})[0]},h.getField=function(e,t){return(h.getSchema(e)||{fields:[]}).fields.filter(function(e){return e.slug===t})[0]},h.getAction=function(e,t){return(h.getSchema(e)||{actions:[]}).actions.filter(function(e){return e.slug===t})[0]},h.getTaxonomy=function(e){return m.taxonomies.filter(function(t){return t.slug===e})[0]},h.getRole=function(e){return m.roles.filter(function(t){return t.slug===e})[0]},h.authenticateWithProvider=function(e){return n(function(n,r){t({method:"GET",url:u.apiUrl+"/auth/"+e+"/config",cache:!0}).then(function(t){p.providers[e].clientId=t.data.clientId,p.providers[e].redirectUri=i.location.origin+u.clientBasePath+"_auth/"+e,p.providers[e].url=u.apiUrl+"/auth/"+e,p.providers[e].popupOptions={},d.authenticate(e,{clientSecret:t.data.clientSecret}).then(function(e){n(e.data)},r)},r)})},h.refreshProvider=(b=(0,o.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.put(u.apiUrl+"/auth/"+n,{refresh_token:m.provider[n].refresh_token});case 2:return i=e.sent.data,h.setConfig(i),e.abrupt("return",i);case 5:case"end":return e.stop()}},e,void 0)})),function(e){return b.apply(this,arguments)}),h};s.$inject=["$rootScope","$http","$q","$window","$document","$mdDialog","HelperFactory","appConfig","$auth","SatellizerConfig"],t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(13)),s=i(n(417)),l=i(n(421)),c=o.default.module("schema",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("schemas",{url:"/schemas",views:{content:{template:"<schema></schema>"}},data:{permissions:"schema"}})}]).filter("fieldTypeName",["FieldFactory",function(e){"ngInject";return function(t){return e.field(t).name}}]).filter("actionTypeName",["ActionFactory",function(e){"ngInject";return function(t){return e.action(t).name}}]).filter("schemaName",["ConfigFactory",function(e){"ngInject";return function(t){return t?(t=(t=r.default.isArray(t)?t:[t]).map(function(t){return e.getSchema(t.slug||t).name})).join(", "):""}}]).factory("SchemaFactory",l.default).directive("schema",s.default);t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(418)),o=i(n(419));n(420),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Schemas</h2><span flex="flex"></span><md-button class="md-fab md-mini" ng-click="vm.new($event)" aria-label="New"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar><md-content><md-table-container><table class="md-table-expanded" md-table="md-table" md-row-select="md-row-select" multiple="multiple" ng-model="vm.selected"><thead md-head="md-head" md-order="vm.order" md-on-reorder="vm.changeOrder"><tr md-row="md-row"><th md-column="md-column" md-order-by="name">Name</th><th md-column="md-column" md-order-by="slug">Slug</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" md-select="schema" md-select-id="slug" ng-click="vm.edit($event, schema)" ng-repeat="schema in vm.schemas" ace-sortable="ace-sortable" collection="vm.schemas" index="$index" axis="\'y\'"><td md-cell="md-cell">{{schema.name}}</td><td md-cell="md-cell">{{schema.slug}}</td></tr></tbody></table></md-table-container></md-content>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(2));i(n(1));var s=function e(t,n,i){var s=this;(0,a.default)(this,e);var l,c,u,d=this;d.schemas=n.getConfig().schemas,d.selected=[],d.changeOrder=function(e){if(e){var t=/-/.test(e);e=/[a-z]+/i.exec(e)[0],d.schemas.sort(function(n,i){return n[e]<i[e]?t?1:-1:n[e]>i[e]?t?-1:1:0})}},d.edit=(l=(0,o.default)(r.default.mark(function e(o,a){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.editSchema(a,o);case 2:d.schemas=n.getConfig().schemas,d.changeOrder(d.order),t.$apply();case 5:case"end":return e.stop()}},e,s)})),function(e,t){return l.apply(this,arguments)}),d.new=(c=(0,o.default)(r.default.mark(function e(o){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.editSchema(null,o);case 2:d.schemas=n.getConfig().schemas,d.changeOrder(d.order),t.$apply();case 5:case"end":return e.stop()}},e,s)})),function(e){return c.apply(this,arguments)}),d.delete=(u=(0,o.default)(r.default.mark(function e(o,a){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.deleteSchemas(a,o);case 2:e.sent&&(d.schemas=n.getConfig().schemas,d.changeOrder(d.order),t.$apply());case 4:case"end":return e.stop()}},e,s)})),function(e,t){return u.apply(this,arguments)}),t.$on("aceSortable:change",function(e,t){var n=t.collection;i.updateSchemas(n)})};s.$inject=["$scope","ConfigFactory","SchemaFactory"],t.default=s},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(422)),l=i(n(423)),c=i(n(424)),u=function(e,t,n,i,u,d,p,h,m){"ngInject";var f,g,v,b,y,w,C,E,x,S=this,_={name:"",slug:"",fields:[],actions:[],settings:{}},T={name:"",slug:"",settings:{}},A={name:"",slug:"",settings:{}},k={},$=function(e,t){return{test:function(e,t,n){var i=new RegExp("^("+e.join("|")+")$");return/^[^\d][a-zA-Z0-9]*$/.test(n)&&(!i.test(n)||n===t)}.bind(null,e,t)}},M=function(e){e.slug=a.default.camelCase(e.name)},P=(f=(0,o.default)(r.default.mark(function t(n,o,s){var c,u;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=!n,u={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:l.default,targetEvent:s,clickOutsideToClose:!0,multiple:!0,locals:{field:a.default.merge({},T,n),createNew:c,slugPattern:$(o.fields.map(function(e){return e.slug}),n?n.slug:null),slugify:M}},t.prev=2,t.next=5,i.show(u);case 5:n=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return c?o.fields.push(n):h.replace(o.fields,n,"slug"),e.$apply(),t.abrupt("return",n);case 14:case"end":return t.stop()}},t,S,[[2,8]])})),function(e,t,n){return f.apply(this,arguments)}),R=(g=(0,o.default)(r.default.mark(function e(t,n,i){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.field(t.type).editSettings(t,i);case 2:(o=e.sent)&&(t.settings=o);case 4:case"end":return e.stop()}},e,S)})),function(e,t,n){return g.apply(this,arguments)}),O=(v=(0,o.default)(r.default.mark(function t(n,o,s){var l;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=i.confirm({title:"Delete field?",textContent:"Are you sure you want to delete "+n.name+"?",targetEvent:s,ok:"Confirm",cancel:"Cancel",multiple:!0}),t.prev=1,t.next=4,i.show(l);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",!1);case 9:return a.default.remove(o.fields,{slug:n.slug}),e.$apply(),t.abrupt("return",!0);case 12:case"end":return t.stop()}},t,S,[[1,6]])})),function(e,t,n){return v.apply(this,arguments)}),D=(b=(0,o.default)(r.default.mark(function t(n,o,s){var l,u;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=!n,u={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:c.default,targetEvent:s,clickOutsideToClose:!0,multiple:!0,locals:{action:a.default.merge({},A,n),createNew:l,slugPattern:$(o.actions.map(function(e){return e.slug}),n?n.slug:null),slugify:M}},t.prev=2,t.next=5,i.show(u);case 5:n=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return l?o.actions.push(n):h.replace(o.actions,n,"slug"),e.$apply(),t.abrupt("return",n);case 14:case"end":return t.stop()}},t,S,[[2,8]])})),function(e,t,n){return b.apply(this,arguments)}),N=(y=(0,o.default)(r.default.mark(function e(t,n,i){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.action(t.type).editSettings(t,i);case 2:(o=e.sent)&&(t.settings=o);case 4:case"end":return e.stop()}},e,S)})),function(e,t,n){return y.apply(this,arguments)}),I=(w=(0,o.default)(r.default.mark(function t(n,o,s){var l;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=i.confirm({title:"Delete action?",textContent:"Are you sure you want to delete "+n.name+"?",targetEvent:s,ok:"Confirm",cancel:"Cancel",multiple:!0}),t.prev=1,t.next=4,i.show(l);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",!1);case 9:return a.default.remove(o.actions,{slug:n.slug}),e.$apply(),t.abrupt("return",!0);case 12:case"end":return t.stop()}},t,S,[[1,6]])})),function(e,t,n){return w.apply(this,arguments)});return k.editSchema=(C=(0,o.default)(r.default.mark(function e(n,o){var l,c,p,h,f;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=!n,c=u.getConfig(),p={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{schema:a.default.merge({},_,n),createNew:l,slugPattern:$(c.schemas.map(function(e){return e.slug}),n?n.slug:null),slugify:M,editField:P,editFieldSettings:R,deleteField:O,editAction:D,editActionSettings:N,deleteAction:I}},h=void 0,e.prev=4,e.next=7,i.show(p);case 7:h=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",!1);case 13:if(h){e.next=17;break}return e.next=16,k.deleteSchemas([n]);case 16:return e.abrupt("return",!1);case 17:if(f=h.fields.filter(function(e){return d.field(e.type).thumbnailField}),h.thumbnailFields=f.map(function(e){return e.slug}),!l){e.next=25;break}return e.next=22,t.post(m.apiUrl+"/schema",{schema:h});case 22:c=e.sent.data,e.next=28;break;case 25:return e.next=27,t.put(m.apiUrl+"/schema",{schema:h});case 27:c=e.sent.data;case 28:return u.setConfig(c),e.abrupt("return",h);case 30:case"end":return e.stop()}},e,S,[[4,10]])})),function(e,t){return C.apply(this,arguments)}),k.deleteSchemas=(E=(0,o.default)(r.default.mark(function e(n,o){var a,s,l,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.map(function(e){return e.name}),s=n.map(function(e){return e.slug}),l=i.confirm({title:"Delete Schema(s)?",textContent:"Are you sure you want to delete "+a.join(",")+"?",targetEvent:o,ok:"Confirm",cancel:"Cancel"}),e.prev=3,e.next=6,i.show(l);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",!1);case 11:return e.next=13,t.delete(m.apiUrl+"/schema",{data:{schemaSlugs:s}});case 13:return c=e.sent.data,u.setConfig(c),e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,S,[[3,8]])})),function(e,t){return E.apply(this,arguments)}),k.updateSchemas=(x=(0,o.default)(r.default.mark(function e(n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.put(m.apiUrl+"/schemas",{schemas:n});case 2:return i=e.sent.data,u.setConfig(i),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,S)})),function(e){return x.apply(this,arguments)}),k};u.$inject=["$rootScope","$http","$filter","$mdDialog","ConfigFactory","FieldFactory","ActionFactory","HelperFactory","appConfig"],t.default=u},function(e,t){e.exports='<md-dialog aria-label="Schema"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Schema</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label><input ng-model="vm.schema.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.schema)"/></md-input-container><md-input-container class="md-block"><label>Slug</label><input ng-model="vm.schema.slug" required="required" ng-pattern="vm.slugPattern" ng-disabled="!vm.createNew"/></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.schema.settings.singular" aria-label="Singular?">Singular</md-checkbox></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.schema.settings.hidden" aria-label="Hidden?">Hidden</md-checkbox></md-input-container><br/><md-input-container class="md-block"><label ng-non-bindable="ng-non-bindable">Title Template {{handlebars}}</label><input ng-model="vm.schema.titleTemplate" aria-label="Title template"/></md-input-container><md-input-container class="md-block"><label ng-non-bindable="ng-non-bindable">Slug Template {{handlebars}}</label><input ng-model="vm.schema.slugTemplate" aria-label="Slug template"/></md-input-container><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Fields<span flex="flex"></span><md-button ng-click="vm.editField(null, vm.schema, $event)">Add Field</md-button></div></md-toolbar><md-table-container ng-show="vm.schema.fields.length"><table class="md-table-sortable" md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Name</th><th md-column="md-column">Slug</th><th md-column="md-column">Type</th><th md-column="md-column">Required</th><th md-column="md-column">Grid Column</th><th md-column="md-column"></th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="field in vm.schema.fields" ace-sortable="ace-sortable" collection="vm.schema.fields" index="$index" handle-selector="\'.handle\'" axis="\'y\'"><td class="handle" md-cell="md-cell">{{ field.name }}</td><td class="handle" md-cell="md-cell">{{ field.slug }}</td><td class="handle" md-cell="md-cell">{{ field.type | fieldTypeName }}</td><td class="handle" md-cell="md-cell"><span class="{{ field.settings.required | crossCheck }}"></span></td><td class="handle" md-cell="md-cell"><span class="{{ field.settings.gridColumn | crossCheck }}"></span></td><td class="align-right" md-cell="md-cell"><md-button class="md-icon-button" ng-show="$root.$field.field(field.type).editSettings" ng-click="vm.editFieldSettings(field, vm.schema, $event)"><md-icon md-font-set="material-icons">settings</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.editField(field, vm.schema, $event)"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.deleteField(field, vm.schema, $event)"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container><br/><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Actions<span flex="flex"></span><md-button ng-click="vm.editAction(null, vm.schema, $event)">Add Action</md-button></div></md-toolbar><md-table-container ng-show="vm.schema.actions.length"><table class="md-table-sortable" md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Name</th><th md-column="md-column">Slug</th><th md-column="md-column">Type</th><th md-column="md-column"></th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="action in vm.schema.actions" ace-sortable="ace-sortable" collection="vm.schema.actions" index="$index" handle-selector="\'.handle\'" axis="\'y\'"><td class="handle" md-cell="md-cell">{{ action.name }}</td><td class="handle" md-cell="md-cell">{{ action.slug }}</td><td class="handle" md-cell="md-cell">{{ action.type | actionTypeName }}</td><td class="align-right" md-cell="md-cell"><md-button class="md-icon-button" ng-show="$root.$action.action(action.type).editSettings" ng-click="vm.editActionSettings(action, vm.schema, $event)"><md-icon md-font-set="material-icons">settings</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.editAction(action, vm.schema, $event)"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.deleteAction(action, vm.schema, $event)"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-warn" ng-click="vm.ok(null)">Delete</md-button><md-button class="md-accent" ng-click="vm.ok(vm.schema)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Field"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label><input ng-model="vm.field.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.field)"/></md-input-container><md-input-container class="md-block"><label>Slug</label><input ng-model="vm.field.slug" required="required" ng-pattern="vm.slugPattern" ng-disabled="!vm.createNew"/></md-input-container><md-input-container class="md-block"><label>Type</label><md-select ng-model="vm.field.type" required="required"><md-option ng-repeat="(type, field) in $root.$field.fields()" value="{{type}}">{{field.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.field.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.field.settings.gridColumn" aria-label="Grid column?">Grid Column</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.field)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Action"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Action</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label><input ng-model="vm.action.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.action)"/></md-input-container><md-input-container class="md-block"><label>Slug</label><input ng-model="vm.action.slug" required="required" ng-pattern="vm.slugPattern" ng-disabled="!vm.createNew"/></md-input-container><md-input-container class="md-block"><label>Type</label><md-select ng-model="vm.action.type" required="required"><md-option ng-repeat="(type, action) in $root.$action.actions()" value="{{type}}">{{action.name}}</md-option></md-select></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.action)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(426)),s=i(n(430)),l=r.default.module("user",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("user",{url:"/users",views:{content:{template:"<user></user>"}},data:{permissions:"user"}})}]).filter("roleName",["ConfigFactory",function(e){"ngInject";return function(t){var n=e.getRole(t);return n?n.name:""}}]).factory("UserFactory",s.default).directive("user",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(427)),o=i(n(428));n(429),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Users</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.delete($event, vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button class="md-fab md-mini" ng-click="vm.new($event)" aria-label="New"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar><md-content><md-table-container><table class="md-table-expanded" md-table="md-table" md-row-select="md-row-select" multiple="multiple" ng-model="vm.selected"><thead md-head="md-head" md-order="vm.order" md-on-reorder="vm.changeOrder"><tr md-row="md-row"><th md-column="md-column" md-order-by="firstName">First Name</th><th md-column="md-column" md-order-by="lastName">Last Name</th><th md-column="md-column" md-order-by="email" flex="20">Email</th><th md-column="md-column" md-order-by="role">Role</th><th md-column="md-column" md-order-by="active">Active</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" md-select="user" md-select-id="id" ng-click="vm.edit($event, user)" ng-repeat="user in vm.users"><td md-cell="md-cell">{{user.firstName}}</td><td md-cell="md-cell">{{user.lastName}}</td><td md-cell="md-cell" flex="20">{{user.email}}</td><td md-cell="md-cell">{{user.role | roleName}}</td><td md-cell="md-cell"><span class="{{user.active | crossCheck}}"></span></td></tr></tbody></table></md-table-container></md-content>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(2)),s=i(n(1)),l=function e(t,n,i){var l=this;(0,a.default)(this,e);var c,u,d,p=this;p.users=t.getConfig().users,p.selected=[],p.order="lastName",p.changeOrder=function(e){if(e){var t=/-/.test(e);e=/[a-z]+/i.exec(e)[0],p.users.sort(function(n,i){return n[e]<i[e]?t?1:-1:n[e]>i[e]?t?-1:1:0})}},p.edit=(c=(0,o.default)(r.default.mark(function e(t,o){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.editUser((o[0]||o).id,t);case 2:(a=e.sent)&&(p.users=i.replace(p.users,a,"id"),p.changeOrder(p.order));case 4:case"end":return e.stop()}},e,l)})),function(e,t){return c.apply(this,arguments)}),p.new=(u=(0,o.default)(r.default.mark(function e(t){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.editUser(null,t);case 2:(i=e.sent)&&(p.users.push(i),p.changeOrder(p.order));case 4:case"end":return e.stop()}},e,l)})),function(e){return u.apply(this,arguments)}),p.delete=(d=(0,o.default)(r.default.mark(function e(t,i){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.map(function(e){return e.id}),e.next=3,n.deleteUsers(o,t);case 3:e.sent&&(p.users=s.default.remove(p.users,function(e){return-1===o.indexOf(e.id)}));case 5:case"end":return e.stop()}},e,l)})),function(e,t){return d.apply(this,arguments)})};l.$inject=["ConfigFactory","UserFactory","HelperFactory"],t.default=l},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(431)),l=function(e,t,n,i,l){"ngInject";var c,u,d=this,p={email:"",firstName:"",lastName:"",active:!0,role:"admin"},h={};return h.editUser=(c=(0,o.default)(r.default.mark(function i(o,c){var u,h,m,f;return r.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=!o,h=o?n.getUser(o):{},m=n.getConfig(),f={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:c,clickOutsideToClose:!0,locals:{user:a.default.merge({},p,h)}},i.prev=4,i.next=7,t.show(f);case 7:h=i.sent,i.next=13;break;case 10:return i.prev=10,i.t0=i.catch(4),i.abrupt("return",!1);case 13:if(!u){i.next=20;break}return h.id=h.email,i.next=17,e.post(l.apiUrl+"/user",{user:h});case 17:m=i.sent.data,i.next=23;break;case 20:return i.next=22,e.put(l.apiUrl+"/user",{user:h});case 22:m=i.sent.data;case 23:return n.setConfig(m),i.abrupt("return",h);case 25:case"end":return i.stop()}},i,d,[[4,10]])})),function(e,t){return c.apply(this,arguments)}),h.deleteUsers=(u=(0,o.default)(r.default.mark(function i(o,a){var s,c;return r.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=t.confirm({title:"Delete User?",textContent:"Are you sure you want to delete the selected users?",targetEvent:a,ok:"Confirm",cancel:"Cancel"}),i.prev=1,i.next=4,t.show(s);case 4:i.next=9;break;case 6:return i.prev=6,i.t0=i.catch(1),i.abrupt("return",!1);case 9:return i.next=11,e.delete(l.apiUrl+"/user",{data:{userIds:o}});case 11:return c=i.sent.data,n.setConfig(c),i.abrupt("return",!0);case 14:case"end":return i.stop()}},i,d,[[1,6]])})),function(e,t){return u.apply(this,arguments)}),h};l.$inject=["$http","$mdDialog","ConfigFactory","HelperFactory","appConfig"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="User"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>User</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Email</label><input type="email" ng-model="vm.user.email" required="required"/></md-input-container><md-input-container><label>First Name</label><input ng-model="vm.user.firstName" required="required" ng-minlength="2" ng-maxlength="20" ng-pattern="/^[a-zA-ZÀ-ſs-]*$/"/></md-input-container><md-input-container><label>Last Name</label><input ng-model="vm.user.lastName" required="required" ng-minlength="2" ng-maxlength="20" ng-pattern="/^[a-zA-ZÀ-ſs-]*$/"/></md-input-container><md-input-container class="md-block"><label>Role</label><md-select ng-model="vm.user.role"><md-option ng-repeat="role in $root.$config.roles" value="{{role.slug}}">{{role.name}}</md-option></md-select></md-input-container><md-input-container><md-checkbox ng-model="vm.user.active" aria-label="Active?">Active</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.user)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(433)),s=i(n(439)),l=r.default.module("ecommerce",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("ecommerceOrders",{url:"/ecommerce/orders",views:{content:{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"order",permissions:"ecommerce"}}),e.state("ecommerceDiscounts",{url:"/ecommerce/discounts",views:{content:{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"discount",permissions:"ecommerce"}}),e.state("ecommerceSettings",{url:"/ecommerce/settings",views:{content:{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"settings",permissions:"ecommerce"}})}]).filter("currency",["$filter","$rootScope",function(e,t){"ngInject";return function(n,i){return(i=i||t.$config.module.ecommerce.currency.symbol)+e("toFixed")(n)}}]).filter("chargeStatus",["$filter","$rootScope",function(e,t){"ngInject";return function(n){if(!n)return"";var i=t.$config.module.ecommerce.currency.symbol;return"failed"===n.status?"Unpaid":0===n.amountRefunded?"Paid in full":n.amount===n.amountRefunded?"Full refund":i+e("toFixed")(n.amountRefunded/100)+" refunded"}}]).factory("EcommerceFactory",s.default).directive("ecommerce",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(434)),o=i(n(435)),a=i(n(436)),s=i(n(437));n(438);var l=function(e){"ngInject";var t={order:r.default,discount:o.default,settings:a.default};return{restrict:"E",scope:{template:"="},link:function(n,i){i.html(t[n.template]),e(i.contents())(n)},controller:s.default,controllerAs:"vm",bindToController:!0}};l.$inject=["$compile"],t.default=l},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%;"><md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Orders {{vm.config.module.ecommerce.testMode ? \'(Test mode)\' : \'\'}}</h3><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.editOrder(vm.selected[0])" ng-disabled="vm.selected.length !== 1" aria-label="Edit"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button class="md-fab md-mini" aria-label="Search" ng-click="vm.showSearch = !vm.showSearch"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></md-toolbar><md-list flex="nogrow" ng-show="vm.showSearch"><md-list-item layout="row"><md-input-container flex="flex"><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"/></md-input-container></md-list-item></md-list><div flex="flex"><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection="ui-grid-selection" ui-grid-infinite-scroll="ui-grid-infinite-scroll" ng-class="{disabled: vm.searching}"></div></div></div></div>'},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%;"><md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Discounts</h3><span flex="flex"></span><md-button ng-click="vm.editDiscount()">New</md-button><md-button class="md-icon-button" ng-click="vm.editDiscount(vm.selected[0])" ng-disabled="vm.selected.length !== 1" aria-label="Edit"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.deleteDiscounts(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button class="md-fab md-mini" aria-label="Search" ng-click="vm.showSearch = !vm.showSearch"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></md-toolbar><md-list flex="nogrow" ng-show="vm.showSearch"><md-list-item layout="row"><md-input-container flex="flex"><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"/></md-input-container></md-list-item></md-list><div flex="flex"><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection="ui-grid-selection" ui-grid-infinite-scroll="ui-grid-infinite-scroll" ng-class="{disabled: vm.searching}"></div></div></div></div>'},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>E-commerce Settings</h2><span flex="flex"></span><md-button ng-click="vm.save()" ng-disabled="vm.form.$invalid">Save</md-button></div></md-toolbar><md-content><form name="vm.form" role="form" novalidate="novalidate"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>General</h3></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><br/><md-input-container><label>Store Name</label><input ng-model="vm.config.module.ecommerce.storeName" aria-label="Store Name"/></md-input-container><md-input-container><label>Email Sender Name</label><input ng-model="vm.config.module.ecommerce.emailSenderName" aria-label="Email Sender Name"/></md-input-container><md-input-container><label>Email Sender Address</label><input ng-model="vm.config.module.ecommerce.emailSenderAddress" aria-label="Email Sender Address"/></md-input-container><md-input-container><label>Currency</label><md-select ng-model="vm.config.module.ecommerce.currency" ng-model-options="{trackBy: \'$value.iso\'}"><md-option ng-repeat="currency in vm.currencies" ng-value="currency">{{currency.iso}} ({{currency.symbol}})</md-option></md-select></md-input-container><md-input-container ng-if="::$root.$isSuperUser"><md-checkbox ng-model="vm.config.module.ecommerce.testMode" aria-label="Test mode?">Test Mode</md-checkbox></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Stripe</h3><span flex="flex"></span><md-button ng-click="vm.authenticateWithProvider(\'stripe\')">{{ vm.config.provider.stripe ? \'Reconnect\' : \'Connect\' }}</md-button><span ng-show="vm.config.provider.stripe"><md-button ng-click="vm.config.provider.stripe = null">Disconnect</md-button></span></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><div class="md-subhead" ng-show="!vm.config.provider.stripe">Connect your Stripe account</div><md-list-item ng-show="vm.config.provider.stripe"><img class="md-avatar" gravatar-src="vm.config.provider.stripe.account.email" gravatar-size="100"/><div class="md-list-item-text"><a href="https://dashboard.stripe.com" target="_blank">{{vm.config.provider.stripe.account.display_name}}</a></div></md-list-item></div><span ng-if="::$root.$isSuperUser"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>CreateSend</h3></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><br/><md-input-container><label>Checkout Subscriber List ID</label><input ng-model="vm.config.module.ecommerce.createsend.checkoutSubscriberListId" aria-label="CreateSend Checkout Subscriber List ID"/></md-input-container></div></span></form></md-content>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(0)),a=function e(t,n,i,a,s,l,c,u,d,p,h,m,f,g){(0,r.default)(this,e);var v=this,b=i.current.data.ecommerceType;n.template=b,v.config=h.getConfig(),v.save=function(){h.saveConfig(v.config)},v.authenticateWithProvider=function(e){h.authenticateWithProvider(e).then(function(t){"stripe"!==e?(v.config=t,h.setConfig(t)):s.get(g.apiUrl+"/stripe/account").then(function(e){t.provider.stripe.account=e.data,v.config=t,h.saveConfig(t)})})},v.currencies=[{iso:"GBP",symbol:"£"}],v.selected=[],v.items=[];var y={page:0},w={},C={},E=function(e){e.length&&(y.sort=e.map(function(e){var t=e.sort.direction===f.ASC?"-":"",n="";return C[b].forEach(function(e){e.sortType&&(n="<"+e.sortType+">")}),t+"sort."+e.name+n})[0]),x(b,!0)},x=function(e,t){var n=c.defer();t&&(y.page=0,w={});var i=[];if("order"===b&&i.push("test:"+(v.config.module.ecommerce.testMode?"true":"false")),v.searchTerm&&""!==v.searchTerm){var r=[];"order"===b&&(r.push("orderId:"+v.searchTerm+"*"),r.push("customer.email:"+v.searchTerm+"*"),r.push("customer.name:"+v.searchTerm+"*")),"discount"===b&&(r.push("name:"+v.searchTerm+"*"),r.push("code:"+v.searchTerm+"*")),i.push("("+r.join(" OR ")+")")}return y.bookmark=w[y.page-1]||null,y.q=i.join(" AND "),v.searching=!0,p.search(e,y).then(function(e){w[y.page]=e.bookmark,v.total=e.total,v.items=t?e.results:v.items.concat(e.results),v.grid.data=v.items,n.resolve()}).finally(function(){v.searching=!1}),n.promise};v.search=function(e,t){void 0!==e&&"keypress"===e.type&&13!==e.keyCode||(v.searchTerm=t||"",x(b,!0))};var S=function(e,t,n){return e=e.map(function(e){var i=e;return t.forEach(function(t){e[n]===t[n]&&(i=t)}),i})};C.order=[{name:"orderId",displayName:"Order ID",enableSorting:!1},{name:"customer.name",sortType:"string",displayName:"Customer Name"},{name:"customer.email",sortType:"string",displayName:"Customer Email"},{name:"createdAt",sortType:"number",displayName:"Created",cellFilter:"parseDate"},{name:"status",sortType:"string",displayName:"Order Status",cellFilter:"toTitleCase"},{name:"total",sortType:"number",displayName:"Total",cellFilter:"currency"},{name:"charge",displayName:"Charge Status",cellFilter:"chargeStatus",enableSorting:!1}],v.editOrder=function(e){p.editOrder(e).then(function(e){v.items=S(v.items,[e],"_id"),l(function(){v.grid.data=v.items})})},C.discount=[{name:"name",sortType:"string",displayName:"Name"},{name:"code",sortType:"string",displayName:"Code"},{name:"discountType",sortType:"string",displayName:"Type"},{name:"amount",sortType:"number",displayName:"Amount"},{name:"dateStart",sortType:"number",displayName:"Start Date",cellFilter:"parseDate"},{name:"dateEnd",sortType:"number",displayName:"End Date",cellFilter:"parseDate"}],v.editDiscount=function(e){var t=!e;e&&(e=o.default.copy(e)),p.editDiscount(e).then(function(e){t?v.items.push(e):v.items=S(v.items,[e],"_id"),l(function(){v.grid.data=v.items})})},v.deleteDiscounts=function(e){var t=e.map(function(e){return e.name}),n=d.confirm().textContent("Are you sure you want to delete "+t.join(", ")+"?").cancel("Cancel").ok("Delete");d.show(n).then(function(){p.delete("discount",e).then(function(){var t,n,i;v.items=(t=v.items,n=e,i="_id",t=t.filter(function(e){return n.filter(function(t){return t[i]!==e[i]}).length})),l(function(){v.grid.data=v.items})})})},v.grid={data:v.items,rowHeight:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:C[b],infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:f.scrollbars.NEVER,appScopeProvider:v,excessRows:20,onRegisterApi:function(e){v.gridApi=e,e.core.on.sortChanged(null,function(e,t){E(t)});var t=0,i=void 0;e.selection.on.rowSelectionChanged(null,function(n,r){r.timeStamp-t<300&&n===i&&("order"===b&&v.editOrder(n.entity),"discount"===b&&v.editDiscount(n.entity)),t=r.timeStamp,i=n,v.selected=e.selection.getSelectedRows()}),e.selection.on.rowSelectionChangedBatch(n,function(t,n){v.selected=e.selection.getSelectedRows()}),e.infiniteScroll.on.needLoadMoreData(null,function(){v.items.length<v.total&&(y.page++,x(b).then(function(){e.infiniteScroll.dataLoaded()}))})}},/orders|discounts/i.test(i.current.name)&&("order"===b?E([{name:"createdAt",sort:{direction:f.ASC}}]):"discount"===b&&E([{name:"dateEnd",sort:{direction:f.ASC}},{name:"dateStart",sort:{direction:f.ASC}},{name:"name",sort:{direction:f.ASC}}]))};a.$inject=["$rootScope","$scope","$state","$window","$http","$timeout","$q","$log","$mdDialog","EcommerceFactory","ConfigFactory","HelperFactory","uiGridConstants","appConfig"],t.default=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(440)),s=function(e,t,n,i,r,s,l,c,u,d){"ngInject";var p={search:function(e,t){return i(function(i,r){var o={q:t.q||"*:*",sort:t.sort||"<score>",limit:t.limit||200,include_docs:!0};t.bookmark&&(o.bookmark=t.bookmark),n({method:"GET",url:d.apiUrl+"/ecommerce/"+e,params:o}).then(function(e){if(e.data.error)i({});else{var t={total:e.data.total_rows,bookmark:e.data.bookmark,results:e.data.rows.map(function(e){return e.doc})};i(t)}},r)})},save:function(e,t){return i(function(i,r){(t=o.default.fromJson(o.default.toJson(t))).modifiedBy=l.getUser().id,t.modifiedAt=c.now(),n({method:"POST",url:d.apiUrl+"/ecommerce/"+e,data:{item:t}}).then(function(e){t._rev=e.data._rev,i(t)},r)})},delete:function(e,t){return i(function(i,r){n({method:"DELETE",url:d.apiUrl+"/ecommerce/"+e,data:{items:t}}).then(i,r)})},editOrder:function(n){return i(function(i,r){u.showModal({template:a.order,controller:["$scope","$modal","HelperFactory","EcommerceFactory","order",function(n,i,r,o,a){var s=this;s.order=a,n.$watch(function(){return s.order.status},function(e,t){e!==t&&o.save("order",s.order).then(function(e){s.order=e})}),s.close=function(){i.close(s.order)},s.refund=function(){o.refundOrder(s.order).then(function(e){s.order=e})},s.previewEmailTemplate=function(n){t.open(d.apiUrl+"/ecommerce/order/message/"+n+"?orderId="+s.order.orderId+"&apiToken="+e.apiToken)}}],controllerAs:"vm",inputs:{order:n}}).then(function(e){e.result.then(i,r)})})},editDiscount:function(e){return i(function(t,n){e=e||{discountType:"percentage",dateStart:new Date,usageLimit:0},u.showModal({template:a.discount,controller:["HelperFactory","discount",function(e,t){this.discount=t}],controllerAs:"vm",inputs:{HelperFactory:c,discount:e}}).then(function(e){e.result.then(function(e){p.save("discount",e).then(t,n)})})})},refundOrder:function(e){return i(function(t,n){u.showModal({template:a.refund,controller:["HelperFactory","order",function(e,t){var n=this;n.order=t,n.amount=(n.order.charge.amount-n.order.charge.amountRefunded)/100,n.maxAmount=n.amount}],controllerAs:"vm",inputs:{HelperFactory:c,order:e}}).then(function(n){n.result.then(function(n){p.stripeRefund(e,n).then(function(e){t(e.data)}).catch(function(e){s.show(s.alert().title("Refund Error").textContent(e.data.message).ok("Close"))})})})})},stripeRefund:function(e,t){return i(function(i,r){n({method:"POST",url:d.apiUrl+"/stripe/refund",data:{order:e,amount:t}}).then(i,r)})}};return p};s.$inject=["$rootScope","$window","$http","$q","$log","$mdDialog","ConfigFactory","HelperFactory","ModalService","appConfig"],t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.refund=t.order=t.discount=void 0;var r=i(n(441)),o=i(n(442)),a=i(n(443));t.discount=r.default,t.order=o.default,t.refund=a.default},function(e,t){e.exports='<div class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Discount</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="$modal.dismiss()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div class="modal-body" style="padding: 16px 0;"><form name="vm.discountForm" novalidate="novalidate"><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex"><label>Name</label><input aria-label="Name" ng-model="vm.discount.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"/></md-input-container><md-input-container flex="flex"><label>Code</label><input aria-label="Code" ng-model="vm.discount.code" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"/></md-input-container></div><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><div class="md-caption">Start Date</div><md-datepicker ng-model="vm.discount.dateStart" md-placeholder="Start Date"></md-datepicker></div><div flex="flex"><div class="md-caption">End Date</div><md-datepicker ng-model="vm.discount.dateEnd" md-placeholder="End Date"></md-datepicker></div></div><br/><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="50"><label>Type</label><md-select ng-model="vm.discount.discountType"><md-option value="percentage">Percentage</md-option><md-option value="fixed">Fixed Amount</md-option><md-option value="shipping">Free Shipping</md-option></md-select></md-input-container><md-input-container flex="flex" ng-show="vm.discount.discountType !== \'shipping\'"><label>Amount</label><input type="number" aria-label="Amount" ng-model="vm.discount.amount" ng-required="vm.discount.discountType !== \'shipping\'" min="0" max="{{vm.discount.discountType === \'percentage\' ? 100 : 99999}}"/></md-input-container></div>\x3c!-- div(flex, layout="row", layout-margin)--\x3e\x3c!--   md-input-container(flex)--\x3e\x3c!--     label Usage Limit--\x3e\x3c!--     input(type=\'number\', aria-label=\'Usage Limit\', ng-model=\'vm.discount.usageLimit\', required, min=\'0\')--\x3e</form></div><div class="modal-footer" layout="row"><span flex="flex"></span><md-button class="md-accent" ng-click="$modal.close(vm.discount)" ng-disabled="vm.discountForm.$invalid">Save & Close</md-button></div></div></div></div>'},function(e,t){e.exports='<div class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><md-toolbar><div class="md-toolbar-tools"><h2>Order</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="$modal.dismiss()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-content><div flex="flex" layout="column" layout-margin="layout-margin"><br/><md-input-container flex="flex"><label>Status</label><md-select ng-model="vm.order.status"><md-option ng-value="\'pending\'">Pending</md-option><md-option ng-value="\'fulfilled\'">Fulfilled</md-option><md-option ng-value="\'refunded\'">Refunded</md-option></md-select></md-input-container></div><hr/><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><div class="md-caption">Order ID</div><div class="md-subhead">{{vm.order.orderId}}</div></div><div flex="flex"><div class="md-caption">Created</div><div class="md-subhead">{{vm.order.created | date: \'short\'}}</div></div></div><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><div class="md-caption">Charge Status</div><div class="md-subhead">{{vm.order.charge | chargeStatus}}</div></div><div flex="flex"><div class="md-caption">Shipping Method</div><div class="md-subhead">{{vm.order.shippingMethod.name}}</div></div></div><hr/><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><div class="md-caption">Customer Name</div><div class="md-subhead">{{vm.order.customer.name}}</div></div><div flex="flex"><div class="md-caption">Customer Email</div><div class="md-subhead"><a ng-href="mailto:{{vm.order.customer.email}}">{{vm.order.customer.email}}</a></div><span ng-show="::vm.order.customer.phone"><div class="md-caption">Customer Phone Number</div><div class="md-subhead">{{vm.order.customer.phone}}</div><br/></span></div></div><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><div class="md-caption">Shipping Address</div><div class="md-subhead">{{vm.order.shippingAddress.street1}}<br ng-show="::vm.order.shippingAddress.street2">{{vm.order.shippingAddress.street2}}<br>{{vm.order.shippingAddress.city}}<br>{{vm.order.shippingAddress.zip}}<br>{{vm.order.shippingAddress.country | isoCountry}}</div></div><div flex="flex"><div class="md-caption">Billing Address</div><div class="md-subhead">{{vm.order.billingAddress.street1}}<br ng-show="::vm.order.billingAddress.street2">{{vm.order.billingAddress.street2}}<br>{{vm.order.billingAddress.city}}<br>{{vm.order.billingAddress.zip}}<br>{{vm.order.billingAddress.country | isoCountry}}</div></div></div><br/><hr/><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><div class="md-caption">Shipping Amount</div><div class="md-subhead">{{vm.order.shippingMethod.amount | toFixed | currency}}</div><br/><span ng-show="::vm.order.tax.total"><div class="md-caption">Tax</div><div class="md-subhead">{{vm.order.tax.total | toFixed | currency}}</div></span></div><div flex="flex"><div class="md-caption">Subtotal</div><div class="md-subhead">{{vm.order.subtotal | toFixed | currency}}</div><br/><span ng-show="::vm.order.discount.total"><div class="md-caption">Discount</div><div class="md-subhead">-{{vm.order.discount.total | toFixed | currency}} ({{vm.order.discount.name}})</div></span></div></div><br/><hr/><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><div class="md-caption">Total</div><div class="md-headline">{{vm.order.total | toFixed | currency}}</div></div></div><br/><md-toolbar class="md-table-toolbar md-primary"><div class="md-toolbar-tools">Items</div></md-toolbar><md-table-container><table md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Product</th><th md-column="md-column">Variant</th><th md-column="md-column">Quantity</th><th md-column="md-column">Price</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="item in vm.order.items"><td md-cell="md-cell"><a ui-sref="entity({id: item.metadata.product.id})">{{item.metadata.product.title || item.title}}</a></td><td md-cell="md-cell"><a ui-sref="entity({id: item.metadata.variant.id})">{{item.metadata.variant.title || \'-\'}}</a></td><td md-cell="md-cell">{{item.quantity}}</td><td md-cell="md-cell">{{item.price | toFixed | currency}}</td></tr></tbody></table></md-table-container><br/></md-content></div><div class="modal-footer" layout="row"><md-button class="md-raised md-primary" ng-click="vm.refund()" ng-disabled="vm.order.charge.amountRefunded === vm.order.charge.amount">Refund</md-button><md-button ng-if="::$root.$isSuperUser" ng-click="vm.previewEmailTemplate(\'orderReceipt\')">Receipt</md-button><md-button ng-if="::$root.$isSuperUser" ng-click="vm.previewEmailTemplate(\'orderNotification\')">Notification</md-button></div></div></div></div>'},function(e,t){e.exports='<div class="modal-backdrop" ng-click="$modal.dismiss()"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Refund</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="$modal.dismiss()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div class="modal-body" style="padding: 16px 0;"><form name="vm.refundForm" novalidate="novalidate"><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex"><label>Amount ({{:: $root.$config.module.ecommerce.currencySymbol }})</label><input type="number" aria-label="Amount" ng-model="vm.amount" ng-pattern="/^[0-9]+(.[0-9]{1,2})?$/" required="required" min="0" max="{{vm.maxAmount}}" step="0.01" ace-smart-float="ace-smart-float"/></md-input-container></div></form></div><div class="modal-footer" layout="row"><span flex="flex"></span><md-button class="md-accent" ng-click="$modal.close(vm.amount)" ng-disabled="vm.refundForm.$invalid">Refund</md-button><md-button class="md-warn" ng-click="$modal.dismiss()">Cancel</md-button></div></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(445)),s=i(n(450)),l=r.default.module("taxonomy",[o.default]).config(["$stateProvider","treeConfig",function(e,t){"ngInject";t.defaultCollapsed=!0,t.appendChildOnHover=!1,e.state("taxonomy",{url:"/taxonomy/{taxonomySlug:[a-zA-Z0-9_-]{2,200}}",views:{content:{template:"<taxonomy></taxonomy>"}},data:{permissions:"taxonomyRead"}})}]).factory("TaxonomyFactory",s.default).directive("taxonomy",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(446)),o=i(n(447));n(449),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>{{vm.taxonomy.name || "Taxonomy"}}</h2><span flex="flex"></span><md-button class="md-icon-button" ng-if="::$root.$isSuperUser" ng-click="vm.delete($event)" aria-label="Delete"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.sort(\'desc\')" aria-label="Sort Descending"><md-icon md-font-set="mdi" md-font-icon="mdi-sort-descending"></md-icon></md-button><md-button class="md-icon-button" ng-click="vm.expandAll()" aria-label="Expand All"><md-icon md-font-set="mdi" md-font-icon="mdi-playlist-plus"></md-icon></md-button><md-button class="md-icon-button" ng-click="vm.collapseAll()" aria-label="Collapse All"><md-icon md-font-set="mdi" md-font-icon="mdi-playlist-minus"></md-icon></md-button><md-button class="md-fab md-mini" ng-click="vm.newTerm()" aria-label="New Term"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar><md-content><div flex="flex" layout="column" layout-margin="layout-margin"><div ui-tree="vm.treeOptions"><ol ui-tree-nodes="ui-tree-nodes" ng-model="vm.taxonomy.terms"><li ng-repeat="node in vm.taxonomy.terms" ui-tree-node="ui-tree-node" data-expand-on-hover="500" ace-bind-html="vm.termTemplate"></li></ol></div></div></md-content>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(2)),s=i(n(1)),l=i(n(0)),c=i(n(448)),u=function e(t,n,i,u,d,p,h,m,f,g,v,b){var y=this;(0,a.default)(this,e);var w=this;w.taxonomy=v.getTaxonomy(d.taxonomySlug),w.termTemplate=c.default,w.taxonomy.terms||(w.taxonomy.terms=[]);var C=l.default.copy(w.taxonomy.terms);w.newTerm=function(){var e=b.getNewTerm();w.taxonomy.terms.unshift(e),h(function(){i[0].querySelector(".angular-ui-tree input").focus()})},w.newNode=function(e,t){var n=b.getNewTerm();t.$modelValue.terms||(t.$modelValue.terms=[]),t.$modelValue.terms.unshift(n),t.expand(),h(function(){!function(e,t){var n=e.childNodes()[0];n.prevTitle=n.$modelValue.title,n.$handleScope.$editTitle=!0}(t)})};var E=function(e,t){return e=e.filter(function(e){return function e(n){return n.id!==t&&(n.terms=(n.terms||[]).filter(function(t){return e(t)}),!0)}(e)})};w.removeNode=function(e,t){var n=g.confirm().title("Delete Term").textContent("Are you sure you want to delete "+t.$modelValue.title+", it will also be removed from all entities?").cancel("Cancel").ok("Delete");g.show(n).then(function(){b.deleteTerm({id:t.$modelValue.id}).then(function(e){w.taxonomy.terms=E(w.taxonomy.terms,t.$modelValue.id),w.save()},function(e){m.error(e)})})},w.toggleNode=function(e,t){t.toggle()},w.editNode=function(e,t){t.prevTitle=t.$modelValue.title,t.$handleScope.$editTitle=!0},w.revertNode=function(e,t){h(function(){t.$saving||(""===t.prevTitle?t.remove():(t.$modelValue.title=t.prevTitle,t.$handleScope.$editTitle=!1))},300)},w.saveNode=function(e,t){"keypress"===e.type&&13!==e.keyCode||""!==t.$modelValue.title&&t.$modelValue.id&&(t.$saving=!0,b.updateTerm({id:t.$modelValue.id,title:t.$modelValue.title,slug:s.default.kebabCase(t.$modelValue.title)}).then(function(e){t.prevTitle=t.$modelValue.title,t.$handleScope.$editTitle=!1,w.save(),t.$saving=!1},function(e){m.error(e),t.$modelValue.title=t.prevTitle,t.$saving=!1}))},w.treeOptions={defaultCollapsed:!0,accept:function(){return!0},dropped:function(){h(function(){l.default.equals(C,w.taxonomy.terms)||w.save()})}},w.collapseAll=function(){n.$broadcast("angular-ui-tree:collapse-all")},w.expandAll=function(){n.$broadcast("angular-ui-tree:expand-all")},w.sort=function(e){!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc";(t=t.sort(function(e,t){return("desc"===n?e.title>t.title:e.title<t.title)?1:-1})).forEach(function(t){t.terms&&e(t.terms)})}(w.taxonomy.terms,e),w.save()};var x,S=function(e){return e.forEach(function(e){!function e(t){t.slug=s.default.kebabCase(t.title),(t.terms||[]).forEach(function(t){e(t)})}(e)}),e};w.save=function(){w.taxonomy.terms=S(w.taxonomy.terms);var e=l.default.fromJson(l.default.toJson(w.taxonomy));b.updateTaxonomy(e).then(function(e){C=l.default.copy(w.taxonomy.terms)},function(e){m.error(e),w.taxonomy.terms=C})},w.delete=(x=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.deleteTaxonomy(w.taxonomy,t);case 2:e.sent&&u.go("dashboard");case 4:case"end":return e.stop()}},e,y)})),function(e){return x.apply(this,arguments)})};u.$inject=["$rootScope","$scope","$document","$state","$stateParams","$transitions","$timeout","$log","$q","$mdDialog","ConfigFactory","TaxonomyFactory"],t.default=u},function(e,t){e.exports='<div class="tree-node" ng-class="{leaf: !node.terms || node.terms.length === 0, active: $handleScope.$active}"><div class="tree-node-contents"><md-button class="md-icon-button tree-node-toggle" ng-show="node.terms.length &gt; 0" aria-label="Toggle collapse" ng-click="vm.toggleNode($event, this)"><md-icon ng-show="collapsed" md-font-set="material-icons">keyboard_arrow_right</md-icon><md-icon ng-show="!collapsed" md-font-set="material-icons">keyboard_arrow_down</md-icon></md-button><md-input-container flex="flex" md-no-float="true" ui-tree-handle="ui-tree-handle"><input class="tree-node-title" ng-class="{edit: $handleScope.$editTitle}" ng-model="node.title" ace-sync-focus="$handleScope.$editTitle" placeholder="Input term... (enter to save)" ng-blur="vm.revertNode($event, this)" ng-focus="vm.editNode($event, this)" ng-keypress="vm.saveNode($event, this)"/></md-input-container><div class="tree-node-controls"><md-button class="md-icon-button remove-node" ng-click="vm.removeNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button class="md-icon-button edit-node" ng-click="vm.editNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button class="md-icon-button new-node" ng-click="vm.newNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></div></div><ol ui-tree-nodes="ui-tree-nodes" ng-if="!collapsed" ng-model="node.terms"><li ng-repeat="node in node.terms" ui-tree-node="ui-tree-node" data-expand-on-hover="500" ace-bind-html="vm.termTemplate"></li></ol>'},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(451)),l=i(n(454)),c=function(e,t,n,i,c,u,d,p,h){"ngInject";var m={};e.$taxonomy=m;var f,g,v,b={name:"",slug:"",terms:[]},y=function(e){e.slug=a.default.camelCase(e.name)};return m.editTaxonomy=(f=(0,o.default)(r.default.mark(function e(n,i){var o,s,u,p;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=!n,s=n?d.getTaxonomy(n):{},u=d.getConfig(),p={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:l.default,targetEvent:i,clickOutsideToClose:!0,locals:{taxonomy:a.default.merge({},b,s),createNew:o,slugPattern:(r=u.taxonomies.map(function(e){return e.slug}),m=s?s.slug:null,{test:function(e,t,n){var i=new RegExp("^("+e.join("|")+")$");return/^[^\d][a-zA-Z0-9]*$/.test(n)&&(!i.test(n)||n===t)}.bind(null,r,m)}),slugify:y}},e.prev=4,e.next=7,c.show(p);case 7:s=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",!1);case 13:if(!o){e.next=19;break}return e.next=16,t.post(h.apiUrl+"/taxonomy",{taxonomy:s});case 16:u=e.sent.data,e.next=22;break;case 19:return e.next=21,t.put(h.apiUrl+"/taxonomy",{taxonomy:s});case 21:u=e.sent.data;case 22:return d.setConfig(u),e.abrupt("return",s);case 24:case"end":return e.stop()}var r,m},e,void 0,[[4,10]])})),function(e,t){return f.apply(this,arguments)}),m.deleteTaxonomy=(g=(0,o.default)(r.default.mark(function e(n,i){var o,a,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.confirm({title:"Delete Taxonomy?",textContent:"Are you sure you want to delete "+n.name+"?",targetEvent:i,ok:"Confirm",cancel:"Cancel"}),e.prev=1,e.next=4,c.show(o);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",!1);case 9:return a=[n.slug],e.next=12,t.delete(h.apiUrl+"/taxonomy",{data:{taxonomySlugs:a}});case 12:return s=e.sent.data,d.setConfig(s),e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,void 0,[[1,6]])})),function(e,t){return g.apply(this,arguments)}),m.getNewTerm=function(){return{id:s.default.v4(),title:"",slug:"",terms:[],parents:[]}},m.updateTaxonomy=function(e){return t.put(h.apiUrl+"/taxonomy",{taxonomy:e})},m.createTerm=(v=(0,o.default)(r.default.mark(function e(n,i){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post(h.apiUrl+"/taxonomy/term",{taxonomySlug:n,term:i});case 2:o=e.sent.data,d.setConfig(o);case 4:case"end":return e.stop()}},e,void 0)})),function(e,t){return v.apply(this,arguments)}),m.updateTerm=function(e){return t.put(h.apiUrl+"/taxonomy/term",{term:e})},m.deleteTerm=function(e){return t.delete(h.apiUrl+"/taxonomy/term",{data:{term:e}})},m};c.$inject=["$rootScope","$http","$q","$timeout","$mdDialog","$log","ConfigFactory","HelperFactory","appConfig"],t.default=c},function(e,t,n){var i=n(452),r=n(453),o=r;o.v1=i,o.v4=r,e.exports=o},function(e,t,n){var i,r,o=n(184),a=n(185),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==p){var h=o();null==d&&(d=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=r=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:l+1,g=m-s+(f-l)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||m>s)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,l=f,r=p;var v=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var b=m/4294967296*1e4&268435455;u[c++]=b>>>8&255,u[c++]=255&b,u[c++]=b>>>24&15|16,u[c++]=b>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var y=0;y<6;++y)u[c+y]=d[y];return t||a(u)}},function(e,t,n){var i=n(184),r=n(185);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},function(e,t){e.exports='<md-dialog aria-label="Taxonomy"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Taxonomy</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label><input ng-model="vm.taxonomy.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.taxonomy)"/></md-input-container><md-input-container class="md-block"><label>Slug</label><input ng-model="vm.taxonomy.slug" required="required" ng-pattern="vm.slugPattern" ng-disabled="!vm.createNew"/></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.taxonomy)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(456)),s=i(n(460)),l=r.default.module("entity",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("newEntity",{url:"/entity/new/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams",function(e){return[{schema:e.schemaSlug}]}]},views:{"content@":{template:'<entity mode="new" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityCreate"}}),e.state("entity",{url:"/entity/{id:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams","EntityFactory",function(e,t){return t.getById({id:e.id,children:2})}]},views:{content:{template:'<entity mode="normal" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityRead"}}),e.state("singularEntity",{url:"/entity/singular/{id:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams","EntityFactory",function(e,t){return t.getById({id:"entity."+e.id,children:2})}]},views:{content:{template:'<entity mode="singular" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityRead"}}),e.state("batchUploadEntity",{url:"/entity/batch-upload/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams",function(e){return[{schema:e.schemaSlug}]}]},views:{content:{template:'<entity mode="batchUpload" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},onEnter:["$state","BatchUploadFactory",function(e,t){t.inProgress&&e.go("batchUpload",{schemaSlug:t.schema.slug,fieldSlug:t.field.slug})}],data:{permissions:"entityCreate"}})}]).factory("EntityFactory",s.default).directive("entity",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(457)),o=i(n(458));n(459),t.default=function(){"ngInject";return{restrict:"E",scope:{mode:"@",entity:"=?",entities:"=?",schema:"=?",options:"=?",entityForm:"=?",modal:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar ng-if="::!vm.entity.trashed"><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><div class="entity-title" flex="flex"><h2><span ng-show="::vm.modeBreadcrumb" hide-xs="hide-xs" hide-sm="hide-sm">{{::vm.modeBreadcrumb}}</span><a ng-if=":: !vm.schema.settings.singular &amp;&amp; vm.mode !== \'new\'" ui-sref="entityGrid({schemaSlug: vm.schema.slug})" hide-xs="hide-xs" hide-sm="hide-sm">{{::vm.schema.name | pluralize}}</a><span ng-if=":: vm.schema.settings.singular || vm.mode === \'new\'">{{::vm.schema.name}}</span><span ng-if="vm.title" ng-bind-html="vm.title"></span></h2></div><md-button ng-if="vm.mode !== \'batchUpload\'" ng-click="vm.saveEntity()" ng-disabled="vm.entityForm.$invalid">Save</md-button><md-button class="md-icon-button" hide="hide" show-gt-xs="show-gt-xs" ng-show=":: vm.mode === \'normal\' &amp;&amp; vm.modal &amp;&amp; vm.prevEntityId" ng-click="vm.prevEntity()" aria-label="Previous Entity"><md-icon md-font-set="material-icons">navigate_before</md-icon></md-button><md-button class="md-icon-button" hide="hide" show-gt-xs="show-gt-xs" ng-show=":: vm.mode === \'normal\' &amp;&amp; vm.modal &amp;&amp; vm.nextEntityId" ng-click="vm.nextEntity()" aria-label="Next Entity"><md-icon md-font-set="material-icons">navigate_next</md-icon></md-button><md-menu ng-show=":: vm.mode === \'normal\' || vm.mode === \'singular\'"><md-button class="md-icon-button" ng-click="$mdMenu.open()" aria-label="More"><md-icon md-font-set="material-icons">more_vert</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="item in vm.dropdownMore"><md-button ng-click="item.click()"><span>{{ item.text }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar><md-toolbar ng-if="::vm.entity.trashed"><div class="md-toolbar-tools"><h2><a ui-sref="trash">Trash</a><span ng-bind-html="vm.title"></span></h2><span flex="flex"></span><md-button ng-click="vm.restoreEntity()">Restore</md-button><md-button ng-click="vm.deleteEntity(true)">Delete Forever</md-button></div></md-toolbar><md-content mode="{{vm.mode}}"><section ng-show="vm.revisions.length"><md-content style="max-height: 20rem;"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Revisions</h3></div></md-toolbar></md-subheader><md-list><md-list-item class="secondary-button-padding" ng-repeat="revision in vm.revisions" md-colors="{background: \'{{revision._rev === vm.currentRevId ? \'default-primary\' : \'default-background-50\'}}\'}"><div class="md-body-1">{{revision.modifiedAt | date: \'short\'}} by {{revision.modifiedBy}}</div><md-button class="md-secondary" ng-click="vm.restoreRevision(revision)" ng-disabled="revision._rev === vm.currentRevId">{{revision._rev === vm.currentRevId ? \'Current\' : \'Restore\'}}</md-button></md-list-item></md-list></md-content></section><section ng-class="::{disabled: vm.entity.trashed}"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-if="::vm.mode === \'batchEdit\'" ng-model="vm.options.batchPublish" aria-label="Apply to all?"></md-checkbox><h3>Published</h3></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><md-input-container><md-checkbox ng-model="vm.entity.published" ng-change="vm.options.batchPublish = true" aria-label="Published?">Published</md-checkbox></md-input-container><md-datepicker ng-model="vm.entity.publishedAt" md-placeholder="Choose date" ng-disabled="!vm.entity.published" ng-change="vm.options.batchPublish = true"></md-datepicker></div></section><form name="vm.entityForm" novalidate="novalidate" role="form"><section ng-repeat="field in vm.schema.fields" ng-class="{disabled: field.disabled || vm.fieldDisabled(field)}"><field field-type="field.type" field-options="vm.fieldOptions(field.slug)" field-model="vm.entity.fields[field.slug]" field-apply="field.apply" field-disabled="field.disabled"></field></section></form></md-content>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(1)),a=i(n(0)),s=i(n(186)),l=function e(t,n,i,l,c,u,d,p,h,m,f,g,v,b){(0,r.default)(this,e);var y=this;if(y.entity=y.entities[0]||{},y.entity.schema&&h.getSchema(y.entity.schema)&&(y.schema=o.default.cloneDeep(h.getSchema(y.entity.schema))),"singular"===y.mode&&u.id&&h.getSchema(u.id)&&(y.schema=o.default.cloneDeep(h.getSchema(u.id)),y.entity._id="entity."+y.schema.slug),y.schema.fields=y.schema.fields||[],y.schema.actions=y.schema.actions||[],"batchEdit"===y.mode){if(0===y.entities.length)return void c.go("^");y.entity=v.consolidate(y.entities),y.schema.fields.forEach(function(e){e.apply=!1})}if(y.entity.fields||(y.entity.fields={}),y.entity.published=void 0===y.entity.published||null===y.entity.published||y.entity.published,y.entity.publishedAt=void 0===y.entity.publishedAt||null===y.entity.publishedAt?new Date:y.entity.publishedAt,y.options={batchPublish:!1},l.log("schema",y.schema),l.log("entity",y.entity),y.fieldDisabled=function(e){return!!y.entity.trashed||g.field(e.type).modeDisabled[y.mode]},y.modeBreadcrumb={batchUpload:"Batch Upload",batchEdit:"Batch Edit",new:"New"}[y.mode],"batchUpload"!==y.mode)var w=d.onStart({to:"*"},function(e){if(y.entityForm&&y.entityForm.$dirty){var t=p.confirm().textContent("You have unsaved changes, are you sure?").cancel("Cancel").ok("Confirm");return p.show(t).then(function(){w(),c.go(e.to().name,e.params("to"))}),!1}w()});if(y.currentRevId=y.entity._rev,y.revisions=[],y.restoreRevision=function(e){y.currentRevId=e._rev,y.entity.fields=e.fields},y.showRevisions=function(){m.getRevisions({id:y.entity._id}).then(function(e){y.revisions=e.reverse()})},n.$watch(function(){return y.entity.published},function(e,t){!0===e&&!1===t&&(void 0!==y.entity.publishedAt&&null!==y.entity.publishedAt||(y.entity.publishedAt=new Date))}),y.schema.settings.singular||"batchEdit"===y.mode||n.$watch(function(){return y.entity.fields},function(){y.title=m.getTitleSlug(y.entity).title},!0),y.action=function(e){if("url"===e.type){var n=s.default.compile(e.settings.url)(o.default.merge({},{slug:t.slug,assistUrl:t.assistUrl,apiUrl:t.apiUrl},y.entity)),r=h.getConfig().client.baseUrl||"";!/https?:\/\//.test(n)&&r&&(n=r+n);var a=new i.URL(n);a.search+=(/^\?/.test(a.search)?"&":"?")+"apiToken="+t.apiToken,i.open(a)}},y.saveEntity=function(){!y.entity._rev&&y.entities.length<=1?y.createEntity():y.updateEntity()},y.createEntity=function(){y.entityForm.$invalid||m.createEntity(y.schema.slug,y.entity).then(function(e){y.entityForm.$setPristine(),y.entity._id=e._id,y.entity._rev=e._rev,"newEntity"===c.$current.name&&c.go("entity",{id:e._id})},l.error)},y.updateEntity=function(){y.entityForm.$invalid||m.updateEntities(y.entities,y.entity,y.schema,y.options).then(function(e){y.entityForm.$setPristine(),y.entity._id=e[0].id||e[0]._id,y.entity._rev=e[0].rev||e[0]._rev},l.error)},y.cloneEntity=function(){if(!y.entityForm.$invalid){var e=a.default.copy(y.entity);delete e._id,delete e._rev,delete e.createdBy,m.createEntity(y.schema.slug,e).then(function(e){y.modal&&y.modal.close(),c.go("entity",{id:e._id})},l.error)}},y.deleteEntity=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=p.confirm().textContent(e?"Delete entity forever? You cannot undo this.":"Delete entity?").cancel("Cancel").ok("Delete");p.show(t).then(function(){m.deleteEntities(y.entity,e).then(function(){e||""===c.previous.name?c.go("trash"):c.go("entityGrid",{schemaSlug:y.schema.slug})})})},y.restoreEntity=function(){m.restoreEntities(y.entity).then(function(){c.go("entity",{id:y.entity._id},{reload:!0})})},y.back=function(){y.entity.trashed?c.go("trash"):(y.mode,c.go("entityGrid",{schemaSlug:y.schema.slug}))},y.nextEntityId=null,y.prevEntityId=null,"normal"===y.mode&&f.states[y.entity.schema]){var C=f.states[y.entity.schema].data;C.forEach(function(e,t){e._id===y.entity._id&&(y.nextEntityId=C[t<C.length-1?t+1:0]._id,y.prevEntityId=C[t>0?t-1:C.length-1]._id)})}y.nextEntity=function(){y.modal&&y.modal.close(),m.editEntities([{id:y.nextEntityId}])},y.prevEntity=function(){y.modal&&y.modal.close(),m.editEntities([{id:y.prevEntityId}])},y.dropdownMore=(y.schema.actions||[]).map(function(e){return{text:e.name,click:function(){y.action(e)}}}),y.schema.settings.singular||y.dropdownMore.push({text:"Clone",click:function(){y.entityForm.$valid?y.cloneEntity():p.show(p.alert().title("Cannot clone entity").textContent("Please check all fields are valid and retry").ok("Close"))}}),y.dropdownMore.push({text:"History",click:function(){y.showRevisions()}}),n.$on("fieldCtrl:batchUpload",function(e,t,n){b.init(y.entity,n,y.schema,t),c.go("batchUpload",{schemaSlug:y.schema.slug,fieldSlug:t.slug})});var E=o.default.reduce(y.schema.fields,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return e[t.slug]=o.default.merge({},h.getField(y.schema.slug,t.slug),{entityId:y.entity._id,entityMode:y.mode}),e},{});y.fieldOptions=function(e){return E[e]}};l.$inject=["$rootScope","$scope","$window","$log","$state","$stateParams","$transitions","$mdDialog","ConfigFactory","EntityFactory","EntityGridFactory","FieldFactory","BatchFactory","BatchUploadFactory"],t.default=l},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(24)),s=i(n(1)),l=i(n(0)),c=i(n(44)),u=i(n(186)),d=i(n(461)),p=i(n(462)),h=function(e,t,n,i,h,m,f,g,v,b,y,w){"ngInject";function C(e){return e.map(function(e){return e.published&&(e.publishedAt=new Date(Date.parse(e.publishedAt))),e.fields=s.default.mapValues(e.fields,function(t,n){var i=b.getField(e.schema,n);return i?(t.value=v.field(t.type).fromDb(t.value,i.settings),t):t}),e})}function E(e,t){e=l.default.copy(e);var n=(0,a.default)(new Date).replace(/"/g,""),i=b.getSchema(t||e.schema);if(!i)throw Error("Schema not found");e.createdBy||(e.createdBy=b.getUser().id,e.created=n),e.modifiedBy=b.getUser().id,e.modifiedAt=n,e.published&&(e.publishedAt=(0,a.default)(e.publishedAt).replace(/"/g,"")),e.schema=i.slug;var r=x.getTitleSlug(e),o=r.title,c=r.slug;return e.title=o,e.slug=c,e.fields=s.default.mapValues(e.fields,function(e,t){var n=b.getField(i.slug,t);return s.default.find(i.fields,function(e){return e.slug===t})?(e.fieldType=n.type,e.type=n.type,e.value=v.field(n.type).toDb(e.value,n.settings),e):null}),e.fields=s.default.pickBy(e.fields,function(e){return e}),e.thumbnail=x.getEntityThumbnail(e),e=s.default.pick(e,["_id","_rev","type","schema","title","slug","fields","createdAt","createdBy","modifiedAt","modifiedBy","published","publishedAt","thumbnail"])}var x={};e.$entity=x,x.getTitleSlug=function(e){var t=void 0,n=void 0,i=b.getSchema(e.schema),r=i.titleTemplate?i.titleTemplate:i.settings.singular?i.name:"{{"+i.fields[0].slug+"}}",o=i.slugTemplate?i.slugTemplate:i.settings.singular?i.name:"{{"+i.fields[0].slug+"}}",a=s.default.mapValues(e.fields,function(e,t){var n=i.fields.filter(function(e){return e.slug===t})[0];return n?h("field2String")(e,n,10):null}),l=s.default.mapValues(a,function(e,t){return e?e.replace(/'|"|&|<|>|`/g,""):e});return t=u.default.compile(r)(a),n=u.default.compile(o)(l),n=s.default.kebabCase(n),t=h("trimify")(t),n=h("trimify")(n),{title:t=c.default.decode(t),slug:n=c.default.decode(n)}},x.getFieldThumbnail=function(e){if(!e||!e.value)return null;var t=v.field(e.type).thumbnail(e.value);return t&&(t.ratio=s.default.isNaN(t.width/t.height)?0:t.width/t.height),t};var S,_,T,A,k=function(e){var t=b.getSchema(e.schema).thumbnailFields;if(!t)return null;var n=null;return t.forEach(function(t){var i=e.fields&&e.fields[t];if(!n&&i&&i.value){if(!(s.default.isArray(i.value)?i.value[0]:i.value))return;n=i}}),n};return x.getEntityThumbnail=function(e){return x.getFieldThumbnail(k(e))},x.getEntityThumbnailSrc=function(e,t){return y.fieldThumbnailSrc(k(e),t)},x.fieldValues=(S=(0,o.default)(r.default.mark(function e(n,i){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(w.apiUrl+"/entities/field",{params:{slug:n,searchTerm:i}});case 2:return e.abrupt("return",e.sent.data.rows);case 3:case"end":return e.stop()}},e,void 0)})),function(e,t){return S.apply(this,arguments)}),x.search=function(e){return n(function(n,i){t({method:"GET",url:w.apiUrl+"/entities/search",params:e||{}}).then(function(e){n(e.data.rows)},i)})},x.getRevisions=function(e){return n(function(n,i){t({method:"GET",url:w.apiUrl+"/entity/revisions",params:e||{}}).then(function(e){n(C(e.data))},i)})},x.getById=function(e){return n(function(i,r){e.id||r(new Error("Missing id param")),function(e){return n(function(n,i){var r=l.default.isArray(e.id),o=!l.default.isArray(e.id)&&b.getSchema(e.id.split(".")[1]),a={method:r?"POST":"GET",url:w.apiUrl+"/entities"};a[r?"data":"params"]=e,t(a).then(function(e){var t=e.data.map(function(e){return e.doc});if(!t.length&&!o)return i(new Error("Entity(s) not found"));var r=C(t);n(r)},i)})}(e).then(i,r)})},x.createEntity=function(e,i){return n(function(n,r){i=E(i,e),t({method:"POST",url:w.apiUrl+"/entity",data:{entity:i}}).then(function(e){i=e.data,g.states[i.schema]&&(g.states[i.schema].data.unshift(i),g.states[i.schema].state.selection=[{row:0,identity:!1}]),n(i)},r)})},x.updateEntities=function(i,r,o,a){return n(function(n,s){i=i.map(function(e){return r&&o&&(l.default.forEach(o.fields,function(t){t.apply&&r.fields[t.slug]&&(e.fields[t.slug]||(e.fields[t.slug]={}),e.fields[t.slug].type=t.type,e.fields[t.slug].fieldType=t.type,e.fields[t.slug].value=r.fields[t.slug].value)}),a&&a.batchPublish&&(e.published=r.published,e.publishedAt=r.publishedAt)),E(e)}),t({method:"PUT",url:w.apiUrl+"/entity",data:{entities:i}}).then(function(t){i.forEach(function(e){t.data.forEach(function(t){e._id===t.id&&(e._rev=t.rev)})}),e.$broadcast("EntityFactory:updateEntities",i),n(i)},s)})},x.deleteEntities=function(e,i){return n(function(n,r){e=(e=l.default.isArray(e)?e:[e]).map(function(e){return e._id}),t({method:"DELETE",url:w.apiUrl+"/entity",data:{entities:e,forever:i}}).then(function(e){n(e.data)},r)})},x.restoreEntities=function(e){return n(function(n,i){e=(e=l.default.isArray(e)?e:[e]).map(function(e){return e._id}),t({method:"PUT",url:w.apiUrl+"/entity",data:{restore:!0,entities:e}}).then(function(e){n(e.data)},i)})},x.emptyTrash=function(){return n(function(e,n){t({method:"DELETE",url:w.apiUrl+"/entity/trashed"}).then(function(t){e(t.data)},n)})},x.editEntities=(_=(0,o.default)(r.default.mark(function e(t){var n,i,o,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>1?"batchEdit":t[0].trashed?"trash":"normal",i=t.map(function(e){return e.id||e._id}),e.prev=2,e.next=5,x.getById({id:i,children:2});case 5:return t=e.sent,o={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:p.default,multiple:!0,locals:{mode:n,entities:t}},e.next=9,f.show(o);case 9:return a=e.sent,e.next=12,x.updateEntities(t,a.entity,a.schema,a.options);case 12:t=e.sent,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",!1);case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e,void 0,[[2,15]])})),function(e){return _.apply(this,arguments)}),x.newEntity=(T=(0,o.default)(r.default.mark(function e(t){var n,i,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:p.default,multiple:!0,locals:{mode:"new",entities:[{schema:t}]}},e.prev=1,e.next=4,f.show(n);case 4:return i=e.sent,e.next=7,x.createEntity(t,i.entity);case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,void 0,[[1,11]])})),function(e){return T.apply(this,arguments)}),x.selectEntity=(A=(0,o.default)(r.default.mark(function e(t){var n,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:d.default,multiple:!0,locals:{schemaSlug:t}},e.prev=1,e.next=4,f.show(n);case 4:return i=e.sent,e.abrupt("return",i);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,void 0,[[1,8]])})),function(e){return A.apply(this,arguments)}),x};h.$inject=["$rootScope","$http","$q","$log","$filter","$timeout","$mdDialog","EntityGridFactory","FieldFactory","ConfigFactory","HelperFactory","appConfig"],t.default=h},function(e,t){e.exports='<md-dialog aria-label="Select Entity"><md-dialog-content><entity-grid mode="modal" schema="vm.schemaSlug" selected="vm.selected"></entity-grid></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.selected)">Select</md-button></md-dialog-actions></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Entity"><md-dialog-content><entity is-modal="is-modal" mode="{{vm.mode}}" entity="vm.entity" entities="vm.entities" schema="vm.schema" options="vm.options" entity-form="vm.entityForm"></entity></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-disabled="vm.entityForm.$invalid || vm.entity.trashed" ng-click="vm.ok(vm)">Save & Close</md-button></md-dialog-actions></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(464)),s=i(n(468)),l=r.default.module("entityGrid",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("entityGrid",{url:"/entities/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",views:{content:{template:'<entity-grid mode="normal"></entity-grid>'}},data:{permissions:"entityGrid"}}),e.state("trash",{url:"/trash",views:{content:{template:'<entity-grid mode="trash"></entity-grid>'}},data:{permissions:"entityGrid"}})}]).filter("filterFields",function(){return function(e){return(e||[]).filter(function(e){return/text|select|number|date|entity/.test(e.type)})}}).filter("schemaSlug2Name",["ConfigFactory",function(e){"ngInject";return function(t){return e.getSchema(t).name}}]).factory("EntityGridFactory",s.default).directive("entityGrid",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(465)),o=i(n(466));n(467),t.default=function(){"ngInject";return{restrict:"E",scope:{mode:"@",schema:"=?",selected:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><span ng-show="::vm.mode !== \'modal\'"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button></span><h3><span hide="hide" show-gt-xs="show-gt-xs" ng-show="vm.selected.length &gt; 0">{{vm.selected.length}}/</span><span>{{vm.totalItems}} &nbsp;</span><span>{{vm.heading}}</span></h3><span flex="flex"></span><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button class="md-icon-button" ng-click="vm.editSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Edit"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.deleteSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete"><md-icon md-font-set="material-icons">delete</md-icon></md-button></span><span ng-show="::vm.mode === \'trash\'"><md-button class="md-icon-button" ng-click="vm.restoreSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Restore"><md-icon md-font-set="material-icons">settings_backup_restore</md-icon></md-button><md-button class="md-icon-button" hide="hide" show-gt-xs="show-gt-xs" ng-click="vm.deleteSelected(vm.selected, true)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete Forever"><md-icon md-font-set="material-icons">delete_forever</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.emptyTrash()" aria-label="Empty Trash"><md-icon md-font-set="material-icons">delete_sweep</md-icon></md-button></span><md-button class="md-icon-button" hide="hide" show-gt-xs="show-gt-xs" ng-click="vm.selectAll()" aria-label="Select all"><md-icon md-font-set="mdi" md-font-icon="mdi-select"></md-icon></md-button><md-button class="md-icon-button" hide="hide" show-gt-xs="show-gt-xs" ng-click="vm.selectNone()" aria-label="Select none"><md-icon md-font-set="mdi" md-font-icon="mdi-select-off"></md-icon></md-button><md-menu hide="hide" show-gt-xs="show-gt-xs" ng-show="::vm.filterFields.length"><md-button class="md-icon-button" ng-click="$mdMenu.open()" aria-label="Filter"><md-icon md-font-set="material-icons">filter_list</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="field in vm.filterFields"><md-button ng-click="vm.addFilter(field)"><span>{{ field.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button class="md-icon-button" aria-label="Search" ng-click="vm.showSearch = !vm.showSearch; vm.searchTerm = \'\'; vm.search()"><md-icon md-font-set="material-icons">search</md-icon></md-button></span><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button class="md-fab md-mini" ng-click="vm.newEntity()" aria-label="New entity"><md-icon md-font-set="material-icons">add</md-icon></md-button></span><span ng-show="::vm.mode === \'trash\' || vm.mode === \'modal\'"><md-button class="md-fab md-mini" ng-click="vm.showSearch = !vm.showSearch; vm.searchTerm = \'\'; vm.search()" aria-label="Search"><md-icon md-font-set="material-icons">search</md-icon></md-button></span></div></md-toolbar><div flex="nogrow" ng-show="vm.showSearch"><div class="search" layout="row" layout-padding="layout-padding"><md-input-container flex="flex" md-no-float="true"><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"/></md-input-container><md-button class="md-icon-button" aria-label="Search" ng-click="vm.search($event, vm.searchTerm)"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></div><div flex="nogrow" ng-show="vm.filters.length &gt; 0"><br/><div class="filter" layout="row" layout-padding="layout-padding" ng-repeat="filter in vm.filters track by $index"><md-autocomplete flex="flex" md-no-cache="true" md-selected-item-change="vm.selectFilter()" md-selected-item="filter.value" md-search-text="searchTerm" md-delay="200" md-items="item in vm.filterOptions(filter, searchTerm)" md-item-text="item" md-floating-label="{{filter.name}}" md-input-name="{{filter.fieldSlug}}" md-min-length="0"><md-item-template><span md-highlight-text="searchTerm" md-highlight-flags="^i">{{item}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete><md-button class="md-icon-button" aria-label="Remove filter" ng-click="vm.removeFilter($index)"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></div><div flex="flex"><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection="ui-grid-selection" ui-grid-infinite-scroll="ui-grid-infinite-scroll" ui-grid-cellNav="ui-grid-cellNav" ui-grid-save-state="ui-grid-save-state" ng-class="{disabled: vm.searching}"></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(2)),s=(i(n(1)),i(n(0)));i(n(44));var l=function e(t,n,i,l,c,u,d,p,h,m,f,g,v,b,y,w,C){function E(e){if(_.searching)return!1;var t=u.defer();e&&(_.page=0,k={},_.selectNone());var n={query:[],sort:[],page:_.page,bookmark:k[_.page-1]||null,trashed:"trash"===_.mode};if("trash"!==_.mode){var i=T.map(function(e){return"schema:"+e});n.query.push("("+i.join(" OR ")+")")}if(""!==_.searchTerm){var r=[],o=new RegExp("\\b("+["a","and","at","in","is","of","on","or","the","to"].join("|")+")\\b","gi"),a=(_.searchTerm||"").replace(o,"").replace(/[ ]{2,}/," ");$.forEach(function(e){e.fields.forEach(function(e){/image|video/.test(e.type)?(r.push("fields."+e.slug+".fileName:"+a+"*"),r.push("fields."+e.slug+".original.fileName:"+a+"*")):r.push("fields."+e.slug+":"+a+"*")})}),n.query.push("("+r.join(" OR ")+")")}return _.filters.forEach(function(e){e.value&&n.query.push("fields."+e.fieldSlug+':"'+e.value.toLowerCase()+'"')}),n.query=n.query.join(" AND "),_.sortColumns.forEach(function(e){var t=e.sort.direction===C.ASC?"-":"",i="",r=e.name.replace(/fields\.|\.value/g,"");/^(modifiedAt|publishedAt)$/.test(r)?i="<number>":/^(slug|title|schema)$/.test(r)?i="<string>":(r="fields."+r,i="<string>"),n.sort.push(t+"sort."+r+i)}),_.searching=!0,v.search(n).then(function(i){k[n.page]=i.bookmark,_.totalItems=i.total,_.items=e?i.results:_.items.concat(i.results),_.grid.data=_.items,x(),t.resolve()}).finally(function(){_.searching=!1}),t.promise}function x(){T[0]&&(v.states[T[0]]={bookmarks:k,data:_.grid.data,totalItems:_.totalItems,searchTerm:_.searchTerm,showSearch:_.showSearch,page:_.page,sortColumns:_.sortColumns,filters:_.filters,state:_.gridApi.saveState.save()})}var S=this;(0,a.default)(this,e);var _=this;_.items=[],_.selected=[],_.totalItems=0,_.searchTerm="",_.showSearch=!1,_.page=0,_.filters=[],_.sortColumns=[{name:"modifiedAt",sort:{direction:C.ASC}}],_.columnDefs=[],_.sortFields=[],_.searching=!1;var T=_.schema?[_.schema]:"trash"===_.mode?[]:l.schemaSlug?[l.schemaSlug]:[],A=!1,k={},$=b.getConfig().schemas.filter(function(e){return T.indexOf(e.slug)>-1});if("trash"!==_.mode&&!$[0])return p.error("Schema not found: "+T[0]),void i.go("dashboard");_.heading="trash"===_.mode?"Trash":d("pluralize")($[0]?$[0].name:""),_.sortFields=[],$.forEach(function(e){e.fields.forEach(function(e){e.settings.gridColumn&&_.sortFields.push(e)})}),_.filterFields=d("filterFields")(_.sortFields),"trash"!==_.mode&&0!==_.sortFields.length||_.columnDefs.push({name:"title",displayName:"Title",allowCellFocus:!1},{name:"schema",displayName:"Schema",cellFilter:"schemaSlug2Name",allowCellFocus:!1}),"trash"!==_.mode&&_.sortFields.length>0&&_.sortFields.forEach(function(e){var t=g.getColumnOptions(e);"thumbnail"===t.style&&(A=!0),_.columnDefs.push(t)}),_.columnDefs.push({name:"modifiedAt",displayName:"Modified",cellFilter:"parseDate",allowCellFocus:!1}),_.columnDefs.push({name:"publishedAt",displayName:"Published",cellFilter:"datePublished : row.entity",allowCellFocus:!1});var M,P=v.states[T[0]];_.grid={data:_.items,rowHeight:A?100:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:_.columnDefs,infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:C.scrollbars.NEVER,appScopeProvider:_,excessRows:20,saveSelection:!0,onRegisterApi:function(e){_.gridApi=e,e.core.on.renderingComplete(n,function(t){P?(k=P.bookmarks,_.grid.data=P.data,_.items=P.data,_.totalItems=P.totalItems,_.searchTerm=P.searchTerm,_.showSearch=P.showSearch,_.page=P.page,_.sortColumns=P.sortColumns,_.filters=P.filters,_.showSearch=""!==_.searchTerm,h(function(){e.core.handleWindowResize(),P&&(e.saveState.restore(_,P.state),P.state.scrollFocus.rowVal&&h(function(){e.core.scrollTo(_.grid.data[P.state.scrollFocus.rowVal.row+5])}))},100)):E(!0),h(function(){e.core.handleWindowResize()},2e3)}),e.core.on.sortChanged(n,function(e,t){!function(e){_.sortColumns=e,E(!0)}(t)});var t=0,i=void 0;e.selection.on.rowSelectionChanged(n,function(n,r){r&&(r.timeStamp-t<300&&n===i&&"modal"!==_.mode&&_.editSelected([n.entity]),t=r.timeStamp,i=n),_.selected=e.selection.getSelectedRows()}),e.selection.on.rowSelectionChangedBatch(n,function(){_.selected=e.selection.getSelectedRows()}),e.infiniteScroll.on.needLoadMoreData(n,function(){_.items.length<_.totalItems&&(_.page++,E().then(function(){e.infiniteScroll.dataLoaded()}))})}},_.search=function(e,t){void 0!==e&&"keypress"===e.type&&13!==e.keyCode||function(e){_.searchTerm=e||"",E(!0)}(t)},_.selectAll=function(){_.gridApi.selection.selectAllRows(),_.selected=_.gridApi.selection.getSelectedRows()},_.selectNone=function(){_.gridApi.selection.clearSelectedRows(),_.selected=_.gridApi.selection.getSelectedRows()},_.newEntity=function(){i.go("newEntity",{schemaSlug:T[0]})},n.$on("EntityFactory:updateEntities",function(e,t){_.items.forEach(function(e){t.forEach(function(t){e._id&&e._id===t._id&&s.default.extend(e,t)})}),_.grid.data=_.items}),_.editSelected=function(e){y.editEntities(e)},_.deleteSelected=function(e,t){t=t||!1;var n=f.confirm().textContent("Delete selected entities?").cancel("Cancel").ok("Delete");f.show(n).then(function(){y.deleteEntities(e,t).then(function(e){e.error||E(!0)})})},_.restoreSelected=function(e){var t=f.confirm().textContent("Restore selected entities?").cancel("Cancel").ok("Restore");f.show(t).then(function(){y.restoreEntities(e).then(function(e){e.error||E(!0)})})},_.emptyTrash=function(){var e=f.confirm().textContent("Empty the trash?").cancel("Cancel").ok("Confirm");f.show(e).then(function(){y.emptyTrash().then(function(e){e.error||E(!0)})})},_.addFilter=function(e){_.filters.push({name:e.name,value:null,fieldSlug:e.slug})},_.removeFilter=function(e){_.filters.splice(e,1),E(!0)},_.selectFilter=function(){E(!0)},_.filterOptions=(M=(0,o.default)(r.default.mark(function e(t,n){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.fieldValues(t.fieldSlug,n);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e,S)})),function(e,t){return M.apply(this,arguments)}),_.$onDestroy=function(){x()},n.$watch(function(){return _.showSearch},function(){h(function(){_.gridApi.core.handleWindowResize()})}),n.$watch(function(){return _.filters.length},function(){h(function(){_.gridApi.core.handleWindowResize()})})};l.$inject=["$rootScope","$scope","$state","$stateParams","$transitions","$q","$filter","$log","$timeout","$window","$mdDialog","HelperFactory","EntityGridFactory","ConfigFactory","EntityFactory","BatchFactory","uiGridConstants"],t.default=l},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i},a=function(e,t,n){"ngInject";return{states:{},lastResult:{total:0,bookmark:null,results:[]},search:function(i){return t(function(t,r){e({method:"GET",url:n.apiUrl+"/entities/search",params:o.default.extend({query:"*:*",sort:"<score>",limit:100,include_docs:!0},i)}).then(function(e){if(e.data.error)t({});else{var n={total:e.data.total_rows,bookmark:e.data.bookmark,results:e.data.rows.map(function(e){return e.doc})};t(n)}},r)})}}};a.$inject=["$http","$q","appConfig"],t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(44)),a=i(n(470)),s=i(n(473)),l=i(n(481)),c=i(n(486)),u=i(n(494)),d=i(n(499)),p=i(n(504)),h=i(n(511)),m=i(n(516)),f=i(n(523)),g=i(n(530)),v=i(n(537)),b=i(n(594)),y=i(n(599)),w=i(n(604)),C=i(n(622)),E=i(n(629)),x=i(n(636)),S=i(n(643)),_=i(n(648)),T=i(n(657)),A=r.default.module("field",[l.default.name,c.default.name,u.default.name,d.default.name,p.default.name,h.default.name,m.default.name,f.default.name,g.default.name,v.default.name,b.default.name,y.default.name,w.default.name,C.default.name,E.default.name,x.default.name,S.default.name,_.default.name,T.default.name]).config(function(){"ngInject"}).filter("field2String",["$window","$filter","FieldFactory",function(e,t,n){"ngInject";return function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a="";if("string"!=typeof(a=n.field(i.type).toString(e?e.value:null)))throw Error("Cannot convert "+i.type+" field to string");return a=t("simplifyText")(a),a=t("truncateWords")(a,r),a=o.default.decode(a)}}]).factory("FieldFactory",s.default).directive("field",a.default);t.default=A},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(471));n(472);var a=function(e){"ngInject";return{restrict:"E",scope:{fieldType:"=",fieldOptions:"=",fieldModel:"=",fieldApply:"=?",fieldDisabled:"=?"},link:function(t,n){var i=r.default.kebabCase(t.vm.fieldType);n.html("<field-"+i+'\n      field-model="vm.fieldModel"\n      field-options="vm.fieldOptions"\n      field-apply="vm.fieldApply"\n      field-disabled="vm.fieldDisabled"\n      ></field-'+i+">"),e(n.contents())(t)},controller:o.default,controllerAs:"vm",bindToController:!0}};a.$inject=["$compile"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e),this.fieldModel||(this.fieldModel={}),this.fieldModel.type=this.fieldType}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(474),o=(i=r)&&i.__esModule?i:{default:i},a=function(e){"ngInject";var t={},n={registerField:function(e,n){t[e]=new o.default(n)},field:function(e){return t[e]},fields:function(){return t}};return e.$field=n,n};a.$inject=["$rootScope"],t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(103)),o=i(n(2)),a=i(n(187)),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),this.name="Field Name",this.thumbnailField=!1,this.gridOptions={style:"string",enableSorting:!0},this.modeDisabled={new:!1,batchEdit:!1,batchUpload:!1},(0,r.default)(this,t)}return(0,a.default)(e,[{key:"toString",value:function(e){return e||""}},{key:"toDb",value:function(e,t){return e}},{key:"fromDb",value:function(e,t){return e}},{key:"thumbnail",value:function(e){return null}}]),e}();t.default=s},function(e,t,n){n(476),e.exports=n(9).Object.assign},function(e,t,n){var i=n(15);i(i.S+i.F,"Object",{assign:n(477)})},function(e,t,n){"use strict";var i=n(39),r=n(80),o=n(55),a=n(54),s=n(117),l=Object.assign;e.exports=!l||n(32)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=a(e),l=arguments.length,c=1,u=r.f,d=o.f;l>c;)for(var p,h=s(arguments[c++]),m=u?i(h).concat(u(h)):i(h),f=m.length,g=0;f>g;)d.call(h,p=m[g++])&&(n[p]=h[p]);return n}:l},function(e,t,n){e.exports={default:n(479),__esModule:!0}},function(e,t,n){n(480);var i=n(9).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){var i=n(15);i(i.S+i.F*!n(22),"Object",{defineProperty:n(20).f})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(482)),a=r.default.module("fieldAttachment",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("attachment",{name:"Attachment",modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e&&e.original?e.original.fileName:""}})}]).directive("fieldAttachment",o.default);t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(483)),o=i(n(484));n(485),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<div class="field-wrapper" ace-flow="ace-flow" options="vm.flowOptions"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button class="md-icon-button" aria-label="Upload" ace-flow-browse="ace-flow-browse"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button class="md-icon-button" aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.value"><md-icon md-font-set="material-icons">file_download</md-icon></md-button><md-button class="md-icon-button" aria-label="File URL" ng-click="vm.fileUrl($event)" ng-disabled="!vm.fieldModel.value"><md-icon md-font-set="mdi" md-font-icon="mdi-link-variant"></md-icon></md-button></div></md-toolbar></md-subheader><div flex="grow" layout="row" layout-margin="layout-margin"><div class="dropzone" flex="flex" layout="row" layout-align="center center" ng-show="!vm.uploading &amp;&amp; !vm.fieldModel.value" ace-flow-drop="ace-flow-drop" ace-flow-browse="ace-flow-browse"><span>Drop file(s) here</span></div><div flex="flex" layout="row" layout-align="center center" ng-show="vm.uploading"><span>Uploading {{ vm.progress || 0 }}%</span></div><div flex="flex" layout="row" layout-margin="layout-margin" ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><div flex="flex"><table><tr><td>Filename</td><td title="{{vm.fieldModel.value.original.fileName}}">{{vm.fieldModel.value.original.fileName}}</td></tr><tr><td>Type</td><td>{{vm.fieldModel.value.original.mimeType}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.value.file.size | fileSize}}</td></tr></table></div></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(24)),s=i(n(2)),l=function e(t,n,i,l,c,u,d,p){var h=this;(0,s.default)(this,e);var m=this,f=m.fieldOptions;m.flowOptions={target:t.assistUrl+"/"+t.assetSlug+"/file/upload",query:{options:(0,a.default)(f)},headers:{Authorization:"Basic "+t.assistCredentials},singleFile:!0,events:{fileAdded:function(e,t){var n="pdf,doc,docx,csv,xls,txt".indexOf(t.getExtension())>-1;return n||d.show(d.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=n,n},fileSuccess:function(e,t,n){var i=JSON.parse(n),r={format:i.file.ext.replace(".","")};m.fieldModel.value={file:i.file,original:i.original,metadata:r}},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){m.uploading=!0},complete:function(){m.uploading=!1},progress:function(e){m.progress=Math.round(100*e.progress())},error:function(e,t){e.cancel(),d.show(d.alert().title("Upload Error").textContent(t.message||t).ok("Close"))}}},m.download=function(){i.open(p.assistUrl+"/"+t.assetSlug+"/file/download/"+m.fieldModel.value.file.name+m.fieldModel.value.file.ext+"/"+m.fieldModel.value.original.fileName)},m.fileUrl=(0,o.default)(r.default.mark(function e(){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=p.assistUrl+"/"+t.assetSlug+"/file/view/"+m.fieldModel.value.file.name+m.fieldModel.value.file.ext+"/"+m.fieldModel.value.original.fileName,d.show(d.prompt().title("File URL").placeholder("File URL").ariaLabel("File URL").initialValue(n).ok("Close"));case 2:case"end":return e.stop()}},e,h)}))};l.$inject=["$rootScope","$scope","$window","$http","$timeout","$location","$mdDialog","appConfig"],t.default=l},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(487)),a=i(n(491)),s=r.default.module("fieldAudio",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldAudioSettingsFactory",function(e,t){"ngInject";e.registerField("audio",{name:"Audio",editSettings:t.edit,modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e&&e.original?e.original.fileName:""}})}]).factory("FieldAudioSettingsFactory",a.default).directive("fieldAudio",o.default);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(488)),o=i(n(489));n(490),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<div class="field-wrapper" ace-flow="ace-flow" options="vm.flowOptions"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button class="md-icon-button" aria-label="Upload" ace-flow-browse="ace-flow-browse"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button class="md-icon-button" aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.value"><md-icon md-font-set="material-icons">file_download</md-icon></md-button></div></md-toolbar></md-subheader><div flex="grow" layout="row" layout-margin="layout-margin"><div class="dropzone" flex="flex" layout="row" layout-align="center center" ng-show="!vm.uploading &amp;&amp; !vm.fieldModel.value" ace-flow-drop="ace-flow-drop" ace-flow-browse="ace-flow-browse"><span>Drop file(s) here</span></div><div flex="flex" layout="row" layout-align="center center" ng-show="vm.uploading"><span>Uploading {{ vm.progress || 0 }}%</span></div><div flex="flex" layout="row" layout-margin="layout-margin" ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><div flex="flex"><table><tr><td>Filename</td><td title="{{vm.fieldModel.value.original.fileName}}">{{vm.fieldModel.value.original.fileName}}</td></tr><tr><td>Type</td><td>{{vm.fieldModel.value.original.mimeType}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.value.file.size | fileSize}}</td></tr></table></div></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(24)),o=i(n(2)),a=function e(t,n,i,a,s,l,c){(0,o.default)(this,e);var u=this,d=u.fieldOptions;u.flowOptions={target:t.assistUrl+"/"+t.assetSlug+"/file/upload",query:{options:(0,r.default)(d)},headers:{Authorization:"Basic "+t.assistCredentials},singleFile:!0,events:{fileAdded:function(e,t){var n="mp3,aac,wav,flac,ogg,wma".indexOf(t.getExtension())>-1;return n||l.show(l.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=n,n},fileSuccess:function(e,t,n){var i=JSON.parse(n),r=(i.metadata.streams.filter(function(e){return"audio"===e.codec_type})[0],{duration:1e3*Number(i.metadata.format.duration),format:i.file.ext.replace(".","")});u.fieldModel.value={file:i.file,original:i.original,metadata:r}},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){u.uploading=!0},complete:function(){u.uploading=!1},progress:function(e){u.progress=Math.round(100*e.progress())},error:function(e,t){e.cancel(),l.show(l.alert().title("Upload Error").textContent(t.message||t).ok("Close"))}}},u.download=function(){i.open(c.assistUrl+"/"+t.assetSlug+"/file/download/"+u.fieldModel.value.file.name+u.fieldModel.value.file.ext+"/"+u.fieldModel.value.original.fileName)}};a.$inject=["$rootScope","$scope","$window","$http","$timeout","$mdDialog","appConfig"],t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(492)),l=i(n(493)),c=function(e,t,n){"ngInject";var i,c,u,d=this,p={},h={audioOutputs:[]},m={name:"",slug:"",format:"mp3",audioQuality:3},f=[{value:"mp3",name:"mp3"},{value:"aac",name:"aac"}],g=[{value:1,name:"Mediocre"},{value:2,name:"Acceptable"},{value:3,name:"Good"},{value:4,name:"Great"},{value:5,name:"Lossless"}],v=function(e){e.slug=a.default.camelCase(e.name)},b=(i=(0,o.default)(r.default.mark(function i(o,s,c){var u,p;return r.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=!o,p={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:l.default,targetEvent:c,clickOutsideToClose:!0,multiple:!0,locals:{output:a.default.merge({},m,o),createNew:u,slugify:v,formatOptions:f,qualityOptions:g}},i.prev=2,i.next=5,t.show(p);case 5:o=i.sent,i.next=11;break;case 8:return i.prev=8,i.t0=i.catch(2),i.abrupt("return",!1);case 11:return u?s.push(o):n.replace(s,o,"slug"),e.$apply(),i.abrupt("return",o);case 14:case"end":return i.stop()}},i,d,[[2,8]])})),function(e,t,n){return i.apply(this,arguments)}),y=(c=(0,o.default)(r.default.mark(function n(i,o,s){var l;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.confirm({title:"Delete output?",textContent:"Are you sure you want to delete "+i.name+"?",targetEvent:s,ok:"Confirm",cancel:"Cancel",multiple:!0}),n.prev=1,n.next=4,t.show(l);case 4:n.next=9;break;case 6:return n.prev=6,n.t0=n.catch(1),n.abrupt("return",!1);case 9:return a.default.remove(o,{slug:i.slug}),e.$apply(),n.abrupt("return",!0);case 12:case"end":return n.stop()}},n,d,[[1,6]])})),function(e,t,n){return c.apply(this,arguments)});return p.edit=(u=(0,o.default)(r.default.mark(function e(n,i){var o,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:i,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},h,n.settings),editOutput:b,deleteOutput:y}},l=void 0,e.prev=2,e.next=5,t.show(o);case 5:l=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:return e.abrupt("return",l);case 12:case"end":return e.stop()}},e,d,[[2,8]])})),function(e,t){return u.apply(this,arguments)}),p};c.$inject=["$rootScope","$mdDialog","HelperFactory"],t.default=c},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Audio Outputs<span flex="flex"></span><md-button ng-click="vm.editOutput(null, vm.settings.audioOutputs, $event)">Add Output</md-button></div></md-toolbar><md-table-container ng-show="vm.settings.audioOutputs.length"><table md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Name</th><th md-column="md-column">Slug</th><th md-column="md-column">Format</th><th md-column="md-column">Quality</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="output in vm.settings.audioOutputs"><td md-cell="md-cell">{{output.name}}</td><td md-cell="md-cell">{{output.slug}}</td><td md-cell="md-cell">{{output.format}}</td><td md-cell="md-cell">{{output.audioQuality}}</td><td md-cell="md-cell"><md-button class="md-icon-button" ng-click="vm.editOutput(output, vm.settings.audioOutputs, $event)"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.deleteOutput(output, vm.settings.audioOutputs, $event)"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Output Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Output Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Name</label><input ng-model="vm.output.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_src|&quot;)).*$/i" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.output)"/></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.output.slug" required="required" disabled="disabled" ng-pattern="/^(?!.*?(_src|&quot;)).*$/i"/></md-input-container><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.output.format"><md-option ng-repeat="option in vm.formatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><label>Quality</label><md-select ng-model="vm.output.audioQuality"><md-option ng-repeat="option in vm.qualityOptions" value="{{option.value}}">{{option.value}}: {{option.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><label>Compression Ratio (1.0 - 30.0)</label><input type="number" ng-model="vm.output.audioCompressionRatio" min="0" max="30"/></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.output.audioPreNormalize">Pre-normalize</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.output)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(495)),a=r.default.module("fieldCheckbox",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("checkbox",{name:"Checkbox",gridOptions:{style:"boolean"},toString:function(e){return e?"✓":"✗"}})}]).directive("fieldCheckbox",o.default);t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(496)),o=i(n(497));n(498),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container><md-checkbox ng-model="vm.fieldModel.value" aria-label="{{vm.fieldOptions.name}}?" ng-required="vm.fieldOptions.settings.required"></md-checkbox></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e)}},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(500)),a=r.default.module("fieldColor",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("color",{name:"Color"})}]).directive("fieldColor",o.default);t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(501)),o=i(n(502));n(503),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex">\x3c!-- div(md-color-picker, ng-model="vm.fieldModel.value", ng-required="vm.fieldOptions.settings.required && vm.fieldApply === undefined", aria-label="{{vm.fieldOptions.name}}")--\x3e<input type="color" ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"/></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e)}},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(505)),s=i(n(509)),l=o.default.module("fieldDate",[]).config(function(){"ngInject"}).run(["$filter","FieldFactory","FieldDateSettingsFactory",function(e,t,n){"ngInject";t.registerField("date",{name:"Date",editSettings:n.edit,toString:function(t){return e("date")(t,"short")},toDb:function(e,t){return(0,r.default)(e).replace(/"/g,"")},fromDb:function(e,t){return new Date(Date.parse(e))}})}]).factory("FieldDateSettingsFactory",s.default).directive("fieldDate",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(506)),o=i(n(507));n(508),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><md-datepicker ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" md-placeholder="{{vm.fieldOptions.name}}"></md-datepicker></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(1));t.default=function e(){(0,r.default)(this,e);var t=this;o.default.isDate(t.fieldModel.value)&&!o.default.isNaN(t.fieldModel.value.getTime())||(t.fieldModel.value=new Date),!t.fieldModel.value&&t.fieldOptions.settings.required&&(t.fieldModel.value=new Date)}},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(510)),l=function(e){"ngInject";var t,n=this,i={},l={format:"dd/MM/yyyy"},c=[{name:"dd/MM/yyyy",value:"dd/MM/yyyy"},{name:"MM/dd/yyyy",value:"MM/dd/yyyy"}];return i.edit=(t=(0,o.default)(r.default.mark(function t(i,o){var u,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},l,i.settings),formats:c}},d=void 0,t.prev=2,t.next=5,e.show(u);case 5:d=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.abrupt("return",d);case 12:case"end":return t.stop()}},t,n,[[2,8]])})),function(e,n){return t.apply(this,arguments)}),i};l.$inject=["$mdDialog"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.settings.format" placeholder="Format"><md-option ng-repeat="format in vm.formats" ng-value="format.value">{{format.name}}</md-option></md-select></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(512)),a=r.default.module("fieldEmbedly",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("embedly",{name:"Embed.ly",thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e&&e.url?e.url:""},thumbnail:function(e){if(!e||!e.oembed)return null;var t={thumbnailType:"oembed",thumbnailUrl:e.oembed.thumbnail_url,width:e.oembed.thumbnail_width,height:e.oembed.thumbnail_height,oembed:e.oembed};return t.oembed&&(t.oembed.ratio=e.oembed.width/e.oembed.height),t}})}]).directive("fieldEmbedly",o.default);t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(513)),o=i(n(514));n(515),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button class="md-icon-button" aria-label="Delete" ng-show="vm.fieldModel.value.oembed" ng-click="vm.fieldModel.value = null"><md-icon md-font-set="material-icons">delete</md-icon></md-button></div></md-toolbar></md-subheader><div ng-show="!vm.fieldModel.value.oembed" flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex" md-no-float="true"><input ng-model="vm.fieldModel.value.url" ng-paste="vm.submitUrl()" ng-keypress="($event.charCode === 13) ? vm.submitUrl() : return" placeholder="Source URL" ng-pattern="vm.embedlyRegex" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined"/></md-input-container><md-button class="md-icon-button" aria-label="Submit" ng-click="vm.submitUrl()"><md-icon md-font-set="material-icons">get_app</md-icon></md-button></div><div ng-show="vm.fieldModel.value.oembed" flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><img ng-src="{{ vm.fieldModel.value.oembed.thumbnail_url }}"/></div><div flex="flex"><table><tr><td>Provider</td><td>{{vm.fieldModel.value.oembed.provider_name}}</td></tr><tr><td>URL</td><td><span>{{vm.fieldModel.value.oembed.url}}</span></td></tr><tr><td>Title</td><td>{{vm.fieldModel.value.oembed.title}}</td></tr><tr><td>Author</td><td>{{vm.fieldModel.value.oembed.author_name}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.value.oembed.width}}&times;{{vm.fieldModel.value.oembed.height}}</td></tr></table></div></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=function e(t,n){(0,o.default)(this,e);var i=this;i.embedlyRegex=/((http:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*\.youtube\.com\/view_play_list.*|.*\.youtube\.com\/playlist.*|www\.youtube\.com\/embed\/.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|player\.vimeo\.com\/.*))|(https:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|www\.youtube\.com\/embed\/.*|www\.vimeo\.com\/.*|vimeo\.com\/.*|player\.vimeo\.com\/.*)))/i;var r=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/,a=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/;i.submitUrl=function(){t(function(){n.oembed(i.fieldModel.value.url).then(function(e){e.url=e.url||i.fieldModel.value.url,/youtube/i.test(e.provider_name)&&(e.id=e.url.match(r)[1]),/vimeo/i.test(e.provider_name)&&(e.id=e.url.match(a)[3]),i.fieldModel.value.oembed=e,i.fieldModel.value.url=e.url})})}};a.$inject=["$timeout","HelperFactory"],t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(517)),s=i(n(521)),l=o.default.module("fieldEntity",[]).config(function(){"ngInject"}).run(["FieldFactory","EntityFactory","FieldEntitySettingsFactory","ConfigFactory",function(e,t,n,i){"ngInject";e.registerField("entity",{name:"Entity",editSettings:n.edit,thumbnailField:!1,toString:function(e){return r.default.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):r.default.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?(n.multiple||(e=r.default.isObject(e)?[e]:e),e=e.map(function(e){var i={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(i.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(i.groupBefore=e.groupBefore||!1,i.groupAfter=e.groupAfter||!1),i})):e},fromDb:function(e,t){return e=e||[],t.multiple?e:e.length?e[0]:null},thumbnail:function(t){if(!t||!t[0])return null;if(t[0].thumbnail&&t[0].thumbnail.thumbnailUrl)return t[0].thumbnail;var n=i.getSchema(t[0].schema).thumbnailFields[0];if(!n)return null;var r=i.getField(t[0].schema,n).type;return e.field(r).thumbnail(t[0].thumbnail)}})}]).factory("FieldEntitySettingsFactory",s.default).directive("fieldEntity",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(518)),o=i(n(519));n(520),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)" aria-label="New entity">Create New</md-button><md-menu ng-if="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdMenu.open()">Create New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button ng-if="!vm.fieldOptions.settings.multiple &amp;&amp; vm.searchText" ng-click="vm.searchText = vm.fieldModel.value = null" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex" layout="row"><div flex="flex" ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex="flex" md-no-cache="true" md-selected-item="vm.fieldModel.value" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex="flex" ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel.value" md-autocomplete-snap="md-autocomplete-snap" md-require-match="true"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.title}}</span></md-autocomplete><md-chip-template><span ace-sortable="ace-sortable" item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{$chip.title}}</span></md-chip-template></md-chips></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(1)),a=i(n(44)),s=function e(t,n,i,s,l){(0,r.default)(this,e);var c=this;t.$on("aceSortable:change",function(e,t){console.log(e,t)}),!c.fieldModel.value&&c.fieldOptions.settings.multiple&&(c.fieldModel.value=[]);var u=o.default.get(c.fieldOptions,"settings.schemas",[]);u.length||i.error("No schemas specified for '"+c.fieldOptions.name+"' field"),c.schemas=u.map(function(e){return{name:s.getSchema(e).name,slug:e}}),c.newEntity=function(e){l.newEntity(e).then(function(e){c.fieldOptions.settings.multiple?c.fieldModel.value.push(e):c.fieldModel.value=e})},c.search=function(e){return n(function(t,n){var r=o.default.get(c.fieldOptions,"settings.schemas",[]);if(!r.length)return i.error("No schemas specified for '"+c.fieldOptions.name+"' field"),void t([]);var s=["!trashed:true","("+(r=r.map(function(e){return"schema:"+e})).join(" OR ")+")"];""!==e&&s.push("title:"+e+"*"),l.search({q:s.join(" AND "),sort:"sort.title<string>",include_docs:!0}).then(function(e){var n=e.map(function(e){var t=e.doc;return t.id=t._id,t.title=a.default.decode(t.title),t});t(n)})})}};s.$inject=["$scope","$q","$log","ConfigFactory","EntityFactory"],t.default=s},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(522)),l=function(e,t,n){"ngInject";var i,l,c=this,u={},d={schemas:[],multiple:!1},p=(i=(0,o.default)(r.default.mark(function e(t,i){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.editSchema(null,i);case 2:(o=e.sent)&&t.push(o.slug);case 4:case"end":return e.stop()}},e,c)})),function(e,t){return i.apply(this,arguments)});return u.edit=(l=(0,o.default)(r.default.mark(function n(i,o){var l,u;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},d,i.settings),schemas:t.getConfig().schemas,transformChip:function(e){return e.slug},newSchema:p}},u=void 0,n.prev=2,n.next=5,e.show(l);case 5:u=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:return n.abrupt("return",u);case 12:case"end":return n.stop()}},n,c,[[2,8]])})),function(e,t){return l.apply(this,arguments)}),u};l.$inject=["$mdDialog","ConfigFactory","SchemaFactory"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row"><md-chips flex="flex" ng-model="vm.settings.schemas" md-transform-chip="vm.transformChip($chip)" md-require-match="true" md-autocomplete-snap="md-autocomplete-snap"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="schema in vm.schemas" md-item-text="schema.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{schema.name}}</span></md-autocomplete><md-chip-template><span ace-sortable="ace-sortable" item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{ $chip | schemaName }}</span></md-chip-template></md-chips><md-button class="md-icon-button" aria-label="New schema" ng-click="vm.newSchema(vm.settings.schemas, $event)"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br/><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(524)),s=i(n(528)),l=o.default.module("fieldEntityGrid",[]).config(function(){"ngInject"}).run(["FieldFactory","EntityFactory","FieldEntityGridSettingsFactory",function(e,t,n){"ngInject";e.registerField("entityGrid",{name:"Entity Grid",editSettings:n.edit,thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return r.default.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):r.default.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?e=e.map(function(e){var i={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(i.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(i.groupBefore=e.groupBefore||!1,i.groupAfter=e.groupAfter||!1),i}):e},fromDb:function(e,t){return e||[]},thumbnail:function(t){return e.field("entity").thumbnail(t)}})}]).factory("FieldEntityGridSettingsFactory",s.default).directive("fieldEntityGrid",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(525)),o=i(n(526));n(527),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button aria-label="Insert entity" ng-show="::vm.schemas.length === 1" ng-click="vm.insertEntity(vm.schemas[0].slug)">Insert</md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="Insert entity" ng-click="$mdMenu.open()">Insert</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.insertEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button aria-label="New entity" ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)">Create New</md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdMenu.open()">Create New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar></md-subheader><div ui-grid="vm.getGrid()" ui-grid-draggable-rows="ui-grid-draggable-rows"></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(1)),a=i(n(0)),s=function e(t,n,i,s,l,c){(0,r.default)(this,e);var u=this;u.fieldModel.value||(u.fieldModel.value=[]);var d=o.default.get(u.fieldOptions,"settings.schemas",[]);d.length||n.error("No schemas specified for '"+u.fieldOptions.name+"' field"),u.schemas=d.map(function(e){return{name:s.getSchema(e).name,slug:e}}),u.newEntity=function(e){i.newEntity(e).then(function(e){u.fieldModel.value.push(e)})},u.insertEntity=function(e){i.selectEntity(e).then(function(e){e.forEach(function(e){u.fieldModel.value.push(e)})})},u.entityEdit=function(e,t){i.editEntities([t]).then(function(e){e=e.map(function(e){return e.id=e._id,delete e._id,delete e._rev,e});var n=o.default.findIndex(u.fieldModel.value,{id:t.id});u.fieldModel.value.splice(n,1,e[0])})},u.entityRemove=function(e,t){u.fieldModel.value.splice(u.fieldModel.value.indexOf(t),1)};var p=void 0;u.getGrid=function(){if(p)return p;var e=[],n=[],i=[];return u.fieldOptions.settings.schemas.forEach(function(e){(e=s.getSchema(e)).fields.forEach(function(e){e.settings.gridColumn&&n.push(e)})}),0===n.length?e.push({name:"title",displayName:"Title"}):n.forEach(function(t){var n=l.getColumnOptions(t);e.push(n)}),i.push('<md-button class="md-icon-button" ng-click="grid.appScope.entityEdit($event, row.entity)"><md-icon md-icon-set="material-icons">create</md-icon></md-button>'),i.push('<md-button class="md-icon-button" ng-click="grid.appScope.entityRemove($event, row.entity)"><md-icon md-icon-set="material-icons">close</md-icon></md-button>'),e.push({name:" ",cellTemplate:'<div class="ui-grid-cell-contents ui-grid-cell--actions">'+i.join("")+"</div>",enableHiding:!1}),p={data:u.fieldModel.value,rowHeight:70,headerRowHeight:45,enableGridMenu:!0,enableSorting:!1,useExternalSorting:!1,enableColumnMenus:!1,columnDefs:e,enableRowHeaderSelection:!1,enableHorizontalScrollbar:c.scrollbars.NEVER,enableVerticalScrollbar:c.scrollbars.NEVER,appScopeProvider:u,excessRows:1/0,rowTemplate:'<div grid="grid" class="ui-grid-draggable-row" draggable="true"><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader, \'custom\': true }" ui-grid-cell></div></div>',onRegisterApi:function(e){t(function(){var t=e.grid.element[0].querySelector(".ui-grid-render-container");a.default.element(t).off("wheel")}),u.gridApi=e}}}};s.$inject=["$timeout","$log","EntityFactory","ConfigFactory","HelperFactory","uiGridConstants"],t.default=s},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(529)),l=function(e,t,n){"ngInject";var i,l,c=this,u={},d={schemas:[],insertDisabled:!1},p=(i=(0,o.default)(r.default.mark(function e(t,i){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.editSchema(null,i);case 2:(o=e.sent)&&t.push(o.slug);case 4:case"end":return e.stop()}},e,c)})),function(e,t){return i.apply(this,arguments)});return u.edit=(l=(0,o.default)(r.default.mark(function n(i,o){var l,u;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},d,i.settings),schemas:t.getConfig().schemas,transformChip:function(e){return e.slug},newSchema:p}},u=void 0,n.prev=2,n.next=5,e.show(l);case 5:u=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:return n.abrupt("return",u);case 12:case"end":return n.stop()}},n,c,[[2,8]])})),function(e,t){return l.apply(this,arguments)}),u};l.$inject=["$mdDialog","ConfigFactory","SchemaFactory"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row"><md-chips flex="flex" ng-model="vm.settings.schemas" md-transform-chip="vm.transformChip($chip)" md-require-match="true" md-autocomplete-snap="md-autocomplete-snap"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="schema in vm.schemas" md-item-text="schema.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{schema.name}}</span></md-autocomplete><md-chip-template><span ace-sortable="ace-sortable" item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{ $chip | schemaName }}</span></md-chip-template></md-chips><md-button class="md-icon-button" aria-label="New schema" ng-click="vm.newSchema(vm.settings.schemas, $event)"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br/><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.insertDisabled" aria-label="Insert disabled?">Insert Disabled</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(531)),s=i(n(535)),l=o.default.module("fieldEntityTile",[]).config(["$mdThemingProvider",function(e){"ngInject";e.theme("selected").backgroundPalette("light-blue").dark(),e.theme("grouped").primaryPalette("teal").dark(),e.theme("ungrouped").primaryPalette("blue-grey").dark()}]).run(["FieldFactory","EntityFactory","FieldEntityTileSettingsFactory",function(e,t,n){"ngInject";e.registerField("entityTile",{name:"Entity Tile",editSettings:n.edit,thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return r.default.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):r.default.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?e=e.map(function(e){var i={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(i.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(i.groupBefore=e.groupBefore||!1,i.groupAfter=e.groupAfter||!1),i}):e},fromDb:function(e,t){return e||[]},thumbnail:function(t){return e.field("entity").thumbnail(t)}})}]).factory("FieldEntityTileSettingsFactory",s.default).directive("fieldEntityTile",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(532)),o=i(n(533));n(534),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button aria-label="Insert entity" ng-show="::vm.schemas.length === 1" ng-click="vm.insertEntity(vm.schemas[0].slug)">Insert</md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="Insert entity" ng-click="$mdMenu.open()">Insert</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.insertEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button aria-label="Remove selected" ng-disabled="vm.selected.length &lt; 1" ng-click="vm.removeSelected()">Remove</md-button><md-button aria-label="New entity" ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)">Create New</md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdMenu.open()">Create New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-padding="layout-padding" layout-wrap="layout-wrap"><div class="tile" flex="flex" layout="column" ng-repeat="item in vm.fieldModel.value track by $index" ace-sortable="ace-sortable" index="$index" collection="vm.fieldModel.value" handle-selector="\'[ace-sortable-handle]\'"><md-card flex="flex" ng-click="vm.clickItem($event, item)" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch="md-theme-watch"><div class="md-card-image" ng-show="$root.$entity.getEntityThumbnailSrc(item, \'w:500;q:60\')" ng-style="{backgroundImage: \'url(\' + $root.$entity.getEntityThumbnailSrc(item, \'w:500;q:60\') + \')\'}"></div><md-card-content flex="flex"><div class="md-caption" ng-repeat="fieldOptions in vm.getGridColumnFieldSlugs(item.schema)"><span>{{ fieldOptions.name }}:&nbsp;</span><span ng-bind-html="item.fields[fieldOptions.slug] | field2String : fieldOptions : 20"></span></div></md-card-content><md-card-actions layout="row"><md-card-icon-actions><div ace-sortable-handle="ace-sortable-handle"><md-button class="md-icon-button" md-no-ink="md-no-ink" aria-label="Move"><md-icon md-font-set="mdi" md-font-icon="mdi-cursor-move" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch="md-theme-watch"></md-icon></md-button></div><md-button class="md-icon-button" ng-click="vm.entityEdit($event, item, $index)" aria-label="Edit"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch="md-theme-watch">create</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.preview($event, item, $index)" aria-label="Preview"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch="md-theme-watch">zoom_in</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.entityRemove($event, item, $index)" aria-label="Remove"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch="md-theme-watch">close</md-icon></md-button></md-card-icon-actions></md-card-actions><div class="group group--left" ng-show="vm.fieldOptions.settings.groupEnabled &amp;&amp; !$first" ng-class="{active: item.groupBefore}"><md-button class="md-fab md-mini md-primary" ng-click="vm.toggleGroupBefore($event, item)" aria-label="Group" md-theme="{{item.groupBefore ? \'grouped\' : \'ungrouped\'}}" md-theme-watch="md-theme-watch" ng-disabled="item.$groupBeforeDisabled"><md-icon md-font-set="mdi" md-font-icon="mdi-arrow-left-drop-circle-outline"></md-icon></md-button></div><div class="group group--right" ng-show="vm.fieldOptions.settings.groupEnabled &amp;&amp; !$last" ng-class="{active: item.groupAfter}"><md-button class="md-fab md-mini md-primary" ng-click="vm.toggleGroupAfter($event, item)" aria-label="Group" md-theme="{{item.groupAfter ? \'grouped\' : \'ungrouped\'}}" md-theme-watch="md-theme-watch" ng-disabled="item.$groupAfterDisabled"><md-icon md-font-set="mdi" md-font-icon="mdi-arrow-right-drop-circle-outline"></md-icon></md-button></div></md-card></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(2)),s=i(n(1)),l=function e(t,n,i,l,c,u){function d(){var e=-1;return h.fieldModel.value.forEach(function(t,n){-1===e&&t.$selected&&(e=n)}),e}var p=this;(0,a.default)(this,e);var h=this;h.fieldModel.value||(h.fieldModel.value=[]);var m,f,g=s.default.get(h.fieldOptions,"settings.schemas",[]);g.length||i.error("No schemas specified for '"+h.fieldOptions.name+"' field"),h.schemas=g.map(function(e){return{name:l.getSchema(e).name,slug:e}}),h.selected=[],h.newEntity=(m=(0,o.default)(r.default.mark(function e(t){var n,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.newEntity(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:(i=d())>-1?h.fieldModel.value.splice(i,0,n):h.fieldModel.value.push(n);case 7:case"end":return e.stop()}},e,p)})),function(e){return m.apply(this,arguments)}),h.insertEntity=(f=(0,o.default)(r.default.mark(function e(t){var i,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.selectEntity(t);case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return");case 5:o=d(),i=s.default.reverse(i),n.$apply(function(){i.forEach(function(e){o>-1?h.fieldModel.value.splice(o,0,e):h.fieldModel.value.push(e)})});case 8:case"end":return e.stop()}},e,p)})),function(e){return f.apply(this,arguments)}),h.entityEdit=function(e,t,n){e.stopPropagation(),c.editEntities([t]).then(function(e){e&&(e=e.map(function(e){return e.id=e._id,delete e._id,delete e._rev,e}),h.fieldModel.value.splice(n,1,e[0]))})},h.entityRemove=function(e,t,n){e.stopPropagation(),h.fieldModel.value.splice(n,1)},h.removeSelected=function(){h.fieldModel.value=h.fieldModel.value.filter(function(e){return!e.$selected}),h.selected=[]},h.getGridColumnFieldSlugs=function(e){var t=l.getSchema(e);return t?t.fields.filter(function(e){return e.settings.gridColumn}):[]},h.hasPreview=function(e){return!!h.fieldModel.value[e]&&l.getSchema(h.fieldModel.value[e].schema).thumbnailFields[0]},h.preview=function(e,t,n){e.stopPropagation();var i=[];h.fieldModel.value.forEach(function(e){c.getEntityThumbnail(e)?i.push({type:"image",src:c.getEntityThumbnailSrc(e,"h:1000;q:80")}):i.push({type:"none"})}),u.mediaPreview(i,n)};var v=function(e){var t=h.fieldModel.value.indexOf(e),n=0,i=0,r=void 0;for(r=t-1;r>-1&&h.fieldModel.value[r].groupAfter;r--)n++;for(r=t+1;r<h.fieldModel.value.length&&h.fieldModel.value[r].groupBefore;r++)i++;e.$groupSize=n+i+1},b=function(e){var t=h.fieldOptions.settings.groupSizeLimit||1/0,n=h.fieldModel.value.indexOf(e),i=void 0,r=void 0;n>0&&(i=h.fieldModel.value[n-1]),n<h.fieldModel.value.length-1&&(r=h.fieldModel.value[n+1]),i&&e.$groupSize+i.$groupSize>t&&!e.groupBefore?(e.$groupBeforeDisabled=!0,e.groupBefore=!1,i.$groupAfterDisabled=!0,i.groupAfter=!1):r&&e.$groupSize+r.$groupSize>t&&!e.groupAfter?(e.$groupAfterDisabled=!0,e.groupAfter=!1,r.$groupBeforeDisabled=!0,r.groupBefore=!1):(e.$groupBeforeDisabled=!1,e.$groupAfterDisabled=!1),i&&(e.groupBefore&&!i.groupAfter||!e.groupBefore&&i.groupAfter)&&(e.groupBefore=!1,i.groupAfter=!1)};h.toggleGroupBefore=function(e,t){e.stopPropagation(),t.groupBefore=!t.groupBefore,h.fieldModel.value[h.fieldModel.value.indexOf(t)-1].groupAfter=t.groupBefore},h.toggleGroupAfter=function(e,t){e.stopPropagation(),t.groupAfter=!t.groupAfter,h.fieldModel.value[h.fieldModel.value.indexOf(t)+1].groupBefore=t.groupAfter},n.$watch(function(){return h.fieldModel.value},function(e){h.fieldModel.value.forEach(v),h.fieldModel.value.forEach(b)},!0),n.$on("aceSortable:change",function(e,t){var n=[];if(t.collection.forEach(function(e,t){e.$selected&&n.push(t)}),n.length){e.preventDefault();var i=!1;n[0]<t.to&&(i=!0,n.reverse()),n.forEach(function(e,n){u.move.apply(h.fieldModel.value,[e,i?t.to-n:t.to+n])})}}),h.clickItem=function(e,t){if(!e.metaKey&&!e.ctrlKey&&!e.shiftKey){var n=t.$selected;return h.fieldModel.value.forEach(function(e,t){e.$selected=!1}),t.$selected=!n,void(h.selected=h.fieldModel.value.filter(function(e){return e.$selected}))}if(e.shiftKey){h.selected=h.fieldModel.value.filter(function(e){return e.$selected});var i=void 0,r=h.fieldModel.value.indexOf(t),o=[];if(h.fieldModel.value.forEach(function(e,t){e.$selected&&o.push(t)}),r<o[0])for(i=r;i<o[0];i++)h.fieldModel.value[i].$selected=!0;else if(r>o[o.length-1])for(i=o[0];i<=r;i++)h.fieldModel.value[i].$selected=!0}else t.$selected=!t.$selected}};l.$inject=["$rootScope","$scope","$log","ConfigFactory","EntityFactory","HelperFactory"],t.default=l},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(536)),l=function(e,t,n){"ngInject";var i,l,c=this,u={},d={schemas:[],groupEnabled:!1},p=(i=(0,o.default)(r.default.mark(function e(t,i){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.editSchema(null,i);case 2:(o=e.sent)&&t.push(o.slug);case 4:case"end":return e.stop()}},e,c)})),function(e,t){return i.apply(this,arguments)});return u.edit=(l=(0,o.default)(r.default.mark(function n(i,o){var l,u;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},d,i.settings),schemas:t.getConfig().schemas,transformChip:function(e){return e.slug},newSchema:p}},u=void 0,n.prev=2,n.next=5,e.show(l);case 5:u=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:return n.abrupt("return",u);case 12:case"end":return n.stop()}},n,c,[[2,8]])})),function(e,t){return l.apply(this,arguments)}),u};l.$inject=["$mdDialog","ConfigFactory","SchemaFactory"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row"><md-chips flex="flex" ng-model="vm.settings.schemas" md-transform-chip="vm.transformChip($chip)" md-require-match="true" md-autocomplete-snap="md-autocomplete-snap"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="schema in vm.schemas" md-item-text="schema.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{schema.name}}</span></md-autocomplete><md-chip-template><span ace-sortable="ace-sortable" item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{ $chip | schemaName }}</span></md-chip-template></md-chips><md-button class="md-icon-button" aria-label="New schema" ng-click="vm.newSchema(vm.settings.schemas, $event)"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br/><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.groupEnabled" aria-label="Grouping enabled?">Grouping Enabled</md-checkbox></md-input-container><md-input-container ng-show="vm.settings.groupEnabled"><label>Group Size Limit</label><input type="number" ng-model="vm.settings.groupSizeLimit" ng-required="vm.settings.groupEnabled" min="2"/></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(538)),a=i(n(541)),s=i(n(591)),l=r.default.module("fieldImage",[o.default]).config(function(){"ngInject"}).run(["$rootScope","FieldFactory","FieldImageSettingsFactory",function(e,t,n){"ngInject";t.registerField("image",{name:"Image",editSettings:n.edit,thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0},toString:function(e){return e&&e.original?e.original.fileName:""},thumbnail:function(t){if(!t)return null;var n=t.fileName||(t.name||t.file.name)+(t.ext||t.file.ext),i={thumbnailType:"image",thumbnailUrl:e.assistUrl+"/"+e.assetSlug+"/"+n,fileName:n,name:t.name||t.file.name,ext:t.ext||t.file.ext,width:t.metadata?t.metadata.width||0:t.width||0,height:t.metadata?t.metadata.height||0:t.height||0};return t.crops&&(i.crops=t.crops),t.dzi&&(i.dzi=t.dzi),i}})}]).factory("FieldImageSettingsFactory",s.default).directive("fieldImage",a.default);t.default=l},function(e,t,n){n(0),n(539),n(540),e.exports="hj.cropify"},function(e,t){!function(){"use strict";angular.module("hj.cropify",[]).directive("hjCropify",function(){return{restrict:"EA",transclude:!0,scope:{coords:"=",aspectRatio:"=",options:"=?"},bindToController:!0,template:function(e,t){return'<div class="hj-cropify"><div class="hj-cropify__container hj-cropify__container--'+(t.containerStyle||"block")+'" ng-transclude></div><div class="hj-cropify__selection"><div class="hj-cropify__crop"></div><div class="hj-cropify__shade hj-cropify__shade--left"></div><div class="hj-cropify__shade hj-cropify__shade--right"></div><div class="hj-cropify__shade hj-cropify__shade--top"></div><div class="hj-cropify__shade hj-cropify__shade--bottom"></div></div></div>'},controllerAs:"ctrl",controller:["$scope","$element","$attrs","$window","$document","$timeout",function(e,t,n,i,r,o){var a=this,s={id:"hjCropify"+ +new Date,precision:3,selectBuffer:10};s=angular.extend(s,a.options||{});var l,c=angular.element(t[0].querySelector(".hj-cropify__container")),u=angular.element(t[0].querySelector(".hj-cropify__crop")),d=angular.element(t[0].querySelector(".hj-cropify__selection")),p=angular.element(t[0].querySelector(".hj-cropify__shade--left")),h=angular.element(t[0].querySelector(".hj-cropify__shade--right")),m=angular.element(t[0].querySelector(".hj-cropify__shade--top")),f=angular.element(t[0].querySelector(".hj-cropify__shade--bottom")),g=!0,v=!1,b=!1,y=!1;l=a.coords?a.coords:{left:0,right:0,top:0,bottom:0,height:0,width:0};var w={start:{x:0,y:0},end:{x:0,y:0},el:{left:0,right:0,top:0,bottom:0},select:{left:0,right:0,top:0,bottom:0,width:0,height:0}},C={top:0,left:0},E={top:0,left:0},x={left:0,right:0,top:0,bottom:0,height:0,width:0},S=function(){l={left:Number(((w.select.left-C.left)/x.width).toFixed(s.precision)),top:Number(((w.select.top-C.top)/x.height).toFixed(s.precision)),right:Number(((w.select.right-C.left)/x.width).toFixed(s.precision)),bottom:Number(((w.select.bottom-C.top)/x.height).toFixed(s.precision)),height:Number(((w.select.bottom-w.select.top)/x.height).toFixed(s.precision)),width:Number(((w.select.right-w.select.left)/x.width).toFixed(s.precision))},g=0!==l.width||0!==l.height,p.css({top:0,left:0,width:w.select.left-w.el.left+"px",height:"100%"}),h.css({top:0,right:0,width:w.el.right-w.select.right+"px",height:"100%"}),m.css({top:0,left:w.select.left-w.el.left+"px",width:w.select.right-w.select.left+"px",height:w.select.top-w.el.top+"px"}),f.css({bottom:0,left:w.select.left-w.el.left+"px",width:w.select.right-w.select.left+"px",height:w.el.bottom-w.select.bottom+"px"}),u.css({top:x.height*l.top+"px",left:x.width*l.left+"px",width:x.width*l.width+"px",height:x.height*l.height+"px"}),g?d.css("display","block"):d.css("display","none")},_=function(){for(var e=!1,n=t[0];n&&n.offsetParent||n&&n.parentNode;)"fixed"===i.getComputedStyle(n).position&&(e=!0),n=n.offsetParent;return e},T=function(e){if(v){var t,n;y?(t=e.pageX,n=e.pageY):(t=e.pageX-i.scrollX,n=e.pageY-i.scrollY),t>w.el.right?t=w.el.right:t<w.el.left&&(t=w.el.left),n>w.el.bottom?n=w.el.bottom:n<w.el.top&&(n=w.el.top),w.end.x=t,w.end.y=n;var r={};if(w.end.x<w.start.x?(r.left=w.end.x,r.right=w.start.x):(r.left=w.start.x,r.right=w.end.x),w.end.y<w.start.y?(r.top=w.end.y,r.bottom=w.start.y):(r.top=w.start.y,r.bottom=w.end.y),a.aspectRatio>0){var o=r.right-r.left,s=r.bottom-r.top;o/s>a.aspectRatio?w.end.x<w.start.x?r.left=r.right-s*a.aspectRatio:r.right=r.left+s*a.aspectRatio:w.end.y<w.start.y?r.top=r.bottom-o/a.aspectRatio:r.bottom=r.top+o/a.aspectRatio}w.select={top:r.top,left:r.left,bottom:r.bottom,right:r.right},w.select.width=r.right-r.left,w.select.height=r.bottom-r.top}},A=function(e){e=e||l;var n=c[0].getBoundingClientRect(),o=function(e){for(var t=e,n=0,o=0;e&&e.offsetParent||e&&e.parentNode;){var a=i.getComputedStyle(e);for("fixed"===a.position?(n+=parseInt(a.left,10)+r[0].body.scrollLeft,o+=parseInt(a.top,10)+r[0].body.scrollTop):(n+=e.offsetLeft-e.scrollLeft,o+=e.offsetTop-e.scrollTop),e=e.offsetParent,t=t.parentNode;t!==e&&"fixed"!==a.position;)n-=isNaN(t.scrollLeft)?0:t.scrollLeft,o-=isNaN(t.scrollTop)?0:t.scrollTop,t=t.parentNode}return[n,o]}(t[0].parentElement===r[0].body?t[0]:t[0].parentElement),a=o[0],s=o[1],u={left:a,right:a+n.width,top:s,bottom:s+n.height};w.el={left:u.left,right:u.right,top:u.top,bottom:u.bottom},C={top:u.top,left:u.left},x={left:0,top:0,right:u.right-u.left,bottom:u.bottom-u.top,height:u.bottom-u.top,width:u.right-u.left},0===Object.keys(e).length?w.select={left:u.left,right:u.left,top:u.top,bottom:u.top,width:0,height:0}:w.select={left:x.width*e.left+C.left,right:x.width*e.right+C.left,top:x.height*e.top+C.top,bottom:x.height*e.bottom+C.top,width:x.width*e.width,height:x.height*e.height}},k=function(){A(),S()};u.on("mousedown touchstart",function(e){e.stopPropagation(),function(e){y=_(),b=!0,E.left=e.offsetX,E.top=e.offsetY,y?(E.left=e.offsetX,E.top=e.offsetY):(E.left=e.offsetX+i.scrollX,E.top=e.offsetY+i.scrollY)}(e)}),u.on("mousemove touchmove",function(e){e.stopPropagation(),function(e){if(b){var t=C.left+x.width-w.select.width,n=C.left,i=C.top+x.height-w.select.height,r=C.top,o=e.pageX-E.left,a=e.pageY-E.top;o=Math.min(o,t),o=Math.max(o,n),a=Math.min(a,i),a=Math.max(a,r),w.select.top=a,w.select.left=o,w.select.bottom=a+w.select.height,w.select.right=o+w.select.width}}(e),S()}),c.on("mousedown touchstart",function(e){A(),function(e){var t,n;(y=_())?(t=e.pageX,n=e.pageY):(t=e.pageX-i.scrollX,n=e.pageY-i.scrollY),t>=w.el.left-s.selectBuffer&&t<=w.el.right+s.selectBuffer&&n>=w.el.top-s.selectBuffer&&n<=w.el.bottom+s.selectBuffer&&(t<w.el.left?t=w.el.left:t>w.el.right&&(t=w.el.right),n<w.el.top?n=w.el.top:n>w.el.bottom&&(n=w.el.bottom),w.start.x=t,w.start.y=n,v=!0)}(e)}),c.on("mousemove touchmove",function(e){T(e),S()}),r.on("mouseup touchend",function(e){!function(e){T(e),(v||b)&&o(function(){a.coords=l}),v=!1,b=!1,S()}(e)});var $="onorientationchange"in i?"orientationchange":"resize";angular.element(i).on($,k),e.$watch(function(){return a.coords},function(e){void 0!==e&&(l=e,o(k))}),e.$on("hjCropify:init",function(e,t){if(t&&t.id&&t.id!==s.id)return!1;k()}),e.$on("hjCropify:toggleSelection",function(e,t){if(t&&t.id&&t.id!==s.id)return!1;g=!g,S()}),e.$on("hjCropify:showSelection",function(e,t){if(t&&t.id&&t.id!==s.id)return!1;g=!0,S()}),e.$on("hjCropify:hideSelection",function(e,t){if(t&&t.id&&t.id!==s.id)return!1;g=!1,S()})}]}})}()},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(542)),o=i(n(543));n(590),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<div class="field-wrapper" ace-flow="ace-flow" options="vm.flowOptions"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button class="md-icon-button" aria-label="Upload" ace-flow-browse="ace-flow-browse"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button class="md-icon-button" aria-label="Preview" ng-click="vm.preview($event)" ng-disabled="!vm.fieldModel.value"><md-icon md-font-set="material-icons">zoom_in</md-icon></md-button><md-button class="md-icon-button" aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.value"><md-icon md-font-set="material-icons">file_download</md-icon></md-button><md-button class="md-icon-button" ng-show="vm.fieldOptions.settings.crops" aria-label="Crop" ng-click="vm.crop($event)" ng-disabled="!vm.fieldModel.value"><md-icon md-font-set="material-icons">crop</md-icon></md-button><md-button class="md-icon-button" ng-show="vm.fieldModel.value.dzi" aria-label="Deep Zoom" ng-click="vm.dzi($event)" ng-disabled="!vm.fieldModel.value"><md-icon md-font-set="material-icons">zoom_out_map</md-icon></md-button></div></md-toolbar></md-subheader><div flex="grow" layout="row" layout-margin="layout-margin"><div class="dropzone" flex="flex" layout="row" layout-align="center center" ng-show="!vm.uploading &amp;&amp; !vm.fieldModel.value" ace-flow-drop="ace-flow-drop" ace-flow-browse="ace-flow-browse"><span>Drop file(s) here</span></div><div flex="flex" layout="row" layout-align="center center" ng-show="vm.uploading"><span>Uploading {{ vm.progress || 0 }}%</span></div><div flex="flex" layout="row" layout-margin="layout-margin" ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><div flex="flex"><img ng-src="{{vm.getThumbnail(\'h:500;q:60\')}}"/></div><div flex="flex"><table><tr><td>Type</td><td>{{vm.fieldModel.value.original.mimeType}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.value.metadata ? vm.fieldModel.value.metadata.width + \'&times;\' + vm.fieldModel.value.metadata.height : \'\'}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.value.original.fileName}}">{{vm.fieldModel.value.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.value.file.size | fileSize}}</td></tr><tr ng-if="vm.fieldModel.value.dzi"><td>DZI</td><td>{{vm.fieldModel.value.dzi.fileSize | fileSize}}</td></tr></table></div></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(24)),o=i(n(4)),a=i(n(5)),s=i(n(2)),l=i(n(544)),c=i(n(545)),u=i(n(546)),d=i(n(188)),p=function e(t,n,i,p,h,m,f){var g=this;(0,s.default)(this,e);var v=this,b="normal";i.is("batchUploadEntity")&&(b="batchUpload"),v.download=function(){var e=v.fieldModel.value.original.fileName.replace(/^(#|\?)/,"_");p.open(t.assistUrl+"/"+t.assetSlug+"/file/download/"+(v.fieldModel.value.file.name+v.fieldModel.value.file.ext)+"/"+e)},v.dzi=(0,a.default)(o.default.mark(function e(){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,multiple:!0,locals:{image:[t.assistUrl,t.assetSlug,v.fieldModel.value.file.name,v.fieldModel.value.dzi.fileName].join("/")}},e.prev=1,e.next=4,h.show(n);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,g,[[1,7]])})),v.crop=(0,a.default)(o.default.mark(function e(){var t,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={controller:c.default,bindToController:!0,controllerAs:"vm",template:l.default,multiple:!0,locals:{availableCrops:v.fieldOptions.settings.crops,image:v.fieldModel.value}},e.prev=1,e.next=4,h.show(t);case 4:return n=e.sent,v.fieldModel.value.crops=n,e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,g,[[1,9]])})),v.preview=function(){f.mediaPreview([{type:"image",src:[t.assistUrl,t.assetSlug,"transform","h:1000;q:80",v.fieldModel.value.file.name+v.fieldModel.value.file.ext].join("/")}],0)},v.getThumbnail=function(e){return v.fieldModel.value?[t.assistUrl,t.assetSlug,"transform",e,v.fieldModel.value.file.name+v.fieldModel.value.file.ext].join("/"):null};var y=v.fieldOptions.settings||{},w={slug:t.assetSlug};w.resize={maxWidth:0===y.maxWidth?1/0:y.maxWidth||3e3,maxHeight:0===y.maxHeight?1/0:y.maxHeight||2e3,quality:95},y.dzi&&(w.dzi={size:256,overlap:0}),v.flowOptions={target:t.assistUrl+"/"+t.assetSlug+"/file/upload",query:{options:(0,r.default)(w)},headers:{Authorization:"Basic "+t.assistCredentials},singleFile:"batchUpload"!==b,initFileFn:function(e){if("batchUpload"!==b&&!e._prepared){var t=e.file.name;/^(svg)$/i.test(e.getExtension())||(e.pause(),new d.default({maxWidth:w.resize.maxWidth,maxHeight:w.resize.maxHeight,quality:w.resize.quality}).loadImage(e.file).then(function(n){function i(){e._status="uploading",e.resume()}function r(){e._status="canceled",e.cancel()}e._prepared=!0,e.file=n.blob,e.file.name=t,e.size=e.file.size,e.bootstrap(),n.profile?n.profile&&"RGB"!==n.profile.colorSpace?h.show(h.confirm().multiple(!0).title("Upload Warning").textContent(t+" is in "+n.profile.colorSpace+" colour space, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(i,r):!n.profile||"RGB"!==n.profile.colorSpace||/sRGB/i.test(n.profile.description)?i():h.show(h.confirm().multiple(!0).title("Upload Warning").textContent(t+" has "+n.profile.description+" profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(i,r):h.show(h.confirm().multiple(!0).title("Upload Warning").textContent(t+" has no colour profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(i,r)}))}},events:{fileAdded:function(e,t){var n="jpg,jpeg,png,svg".indexOf(t.getExtension())>-1;return n||h.show(h.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=n,n},fileSuccess:function(e,t,n){var i=JSON.parse(n),r={width:i.metadata.width,height:i.metadata.height,format:i.metadata.format};v.fieldModel.value={file:i.file,original:i.original,dzi:i.metadata.dzi,metadata:r}},filesSubmitted:function(e,t){if("batchUpload"!==b)e.upload();else if(t.filter(function(e){return e.valid}).length){var i=t.map(function(e){return e.file});e.cancel(),n.$emit("fieldCtrl:batchUpload",v.fieldOptions,i)}},uploadStart:function(){v.uploading=!0},complete:function(){v.uploading=!1},progress:function(e){v.progress=Math.round(100*e.progress())},error:function(e,t){e.cancel(),h.show(h.alert().title("Upload Error").textContent(t).ok("Close"))}}}};p.$inject=["$rootScope","$scope","$state","$window","$mdDialog","BatchUploadFactory","HelperFactory"],t.default=p},function(e,t){e.exports='<md-dialog aria-label="Crop"><md-toolbar><div class="md-toolbar-tools"><h2>Crop</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row" layout-margin="layout-margin"><md-input-container flex="flex"><label>Crop</label><md-select ng-model="vm.activeCrop"><md-option ng-repeat="crop in vm.availableCrops" ng-value="$index">{{crop.name}}</md-option></md-select></md-input-container><md-button ng-click="vm.coords = {}" aria-label="Clear">Clear</md-button></div><div layout="row" layout-margin="layout-margin"><hj-cropify coords="vm.coords" aspect-ratio="vm.cropSettings.ratio"><img ng-style="vm.cropSize()" ng-src="{{vm.getThumbnail()}}"/></hj-cropify></div></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Cancel</md-button><md-button class="md-accent" ng-click="vm.ok(vm.crops)">Ok</md-button></md-dialog-actions></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(129)),o=i(n(2)),a=i(n(1)),s=i(n(0)),l=function e(t,n,i,l,c,u,d){(0,o.default)(this,e);var p=this;p.cancel=function(){return l.cancel()},p.ok=function(e){return l.hide(e)},p.crops=d.crops?s.default.copy(d.crops):{},p.availableCrops=u,p.activeCrop=0;var h=function(){p.cropSettings=p.availableCrops[p.activeCrop];var e=p.crops[p.cropSettings.slug];p.coords=e?{left:e[0],top:e[1],right:e[2],bottom:e[3],width:e[2]-e[0],height:e[3]-e[1]}:{}};n.$watch(function(){return p.activeCrop},h),n.$watch(function(){return p.coords},function(e){e&&(!(0,r.default)(e).length||a.default.isNaN(e.top)||a.default.isNaN(e.left)||a.default.isNaN(e.right)||a.default.isNaN(e.bottom)||a.default.isNaN(e.width)||a.default.isNaN(e.height)?p.crops[p.cropSettings.slug]=null:p.crops[p.cropSettings.slug]=[e.left,e.top,e.right,e.bottom])}),p.cropSize=function(){var e=.5*i.innerWidth-100,t=i.innerHeight-250,n=void 0,r=void 0;return d.metadata.width/d.metadata.height>e/t?r=(n=e)*(d.metadata.height/d.metadata.width):n=(r=t)*(d.metadata.width/d.metadata.height),{width:n,height:r,"vertical-align":"top"}},p.getThumbnail=function(){return[t.assistUrl,t.assetSlug,"transform","h:500;q:60",d.file.name+d.file.ext].join("/")},c(h,500)};l.$inject=["$rootScope","$scope","$window","$mdDialog","$timeout","availableCrops","image"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Deep Zoom"><md-toolbar><div class="md-toolbar-tools"><h2>Deep Zoom</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><ace-open-seadragon src="{{vm.image}}" prefix-url="./img/openseadragon/images/"></ace-open-seadragon></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button></md-dialog-actions></md-dialog>'},function(e,t,n){e.exports=n(548)},function(e,t,n){var i=n(549),r=n(559),o=n(568),a=r(function(e,t){i(t,o(t),e)});e.exports=a},function(e,t,n){var i=n(550),r=n(189);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?r(n,c,u):i(n,c,u)}return n}},function(e,t,n){var i=n(189),r=n(194),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t,n){var i=n(552),r=n(558);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},function(e,t,n){var i=n(191),r=n(555),o=n(66),a=n(557),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?p:s).test(a(e))}},function(e,t,n){var i=n(192),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i,r=n(556),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var i=n(105)["__core-js_shared__"];e.exports=i},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var i=n(560),r=n(567);e.exports=function(e){return i(function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var l=n[i];l&&e(t,l,i,a)}return t})}},function(e,t,n){var i=n(195),r=n(561),o=n(563);e.exports=function(e,t){return o(r(e,t,i),e+"")}},function(e,t,n){var i=n(562),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),i(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var i=n(564),r=n(566)(i);e.exports=r},function(e,t,n){var i=n(565),r=n(190),o=n(195),a=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,i=0;return function(){var r=n(),o=16-(r-i);if(i=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var i=n(194),r=n(196),o=n(198),a=n(66);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&o(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},function(e,t,n){var i=n(569),r=n(580),o=n(196);e.exports=function(e){return o(e)?i(e,!0):r(e)}},function(e,t,n){var i=n(570),r=n(571),o=n(573),a=n(574),s=n(198),l=n(576),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),d=!n&&!u&&a(e),p=!n&&!u&&!d&&l(e),h=n||u||d||p,m=h?i(e.length,String):[],f=m.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,f))||m.push(g);return m}},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t,n){var i=n(572),r=n(106),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var i=n(104),r=n(106);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var i=n(105),r=n(575),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l}).call(t,n(18)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(577),r=n(578),o=n(579),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(104),r=n(197),o=n(106),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var i=n(193),r="object"==typeof t&&t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(t,n(18)(e))},function(e,t,n){var i=n(66),r=n(581),o=n(582),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){e.exports=function(){var e=0,t=null;for(var n in arguments)t=arguments[n],e+=t.byteLength;var i=new Uint8Array(e),r=0;for(var n in arguments)t=arguments[n],i.set(new Uint8Array(t),r),r+=t.byteLength;return i.buffer}},function(e,t,n){"use strict";var i={33554432:"2.0",34603008:"2.1",37748736:"2.4",67108864:"4.0",69206016:"4.2"},r={0:"Perceptual",1:"Relative",2:"Saturation",3:"Absolute"},o={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Link",abst:"Abstract",spac:"Space",nmcl:"Named color",appl:"Apple",adbe:"Adobe",msft:"Microsoft",sunw:"Sun Microsystems",sgi:"Silicon Graphics",tgnt:"Taligent"},a={desc:"description",cprt:"copyright",dmdd:"deviceModelDescription",vued:"viewingConditionsDescription"},s=function(e,t){var n=e.slice(t,t+4).toString().trim();return n.toLowerCase()in o?o[n.toLowerCase()]:n};e.exports.parse=function(e){if(e.readUInt32BE(0)!==e.length)throw new Error("Invalid ICC profile: length mismatch");if("acsp"!==e.slice(36,40).toString())throw new Error("Invalid ICC profile: missing signature");var t={version:i[e.readUInt32BE(8)],intent:r[e.readUInt32BE(64)]};[[4,"cmm"],[12,"deviceClass"],[16,"colorSpace"],[20,"connectionSpace"],[40,"platform"],[48,"manufacturer"],[52,"model"],[80,"creator"]].forEach(function(n){(function(e,t){return 0!==e.readUInt32BE(t)})(e,n[0])&&(t[n[1]]=s(e,n[0]))});for(var n=e.readUInt32BE(128),o=132,l=0;l<n;l++){var c=s(e,o);if(c in a){var u=e.readUInt32BE(o+4),d=e.readUInt32BE(o+8);if(u>e.length)throw new Error("Invalid ICC profile: Tag offset out of bounds");var p=s(e,u);if("desc"===p){var h=e.readUInt32BE(u+8);if(h>d)throw new Error("Invalid ICC profile: Description tag value size out of bounds for "+c);t[a[c]]=e.slice(u+12,u+h+11).toString()}"text"===p&&(t[a[c]]=e.slice(u+8,u+d-7).toString())}o+=12}return t}},function(e,t,n){e.exports=n(30),n(199),n(67),n(586),n(200),n(587),n(588)},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(30),n(67)],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}(function(e){"use strict";"undefined"!=typeof fetch&&"undefined"!=typeof Request&&(e.fetchBlob=function(t,n,i){if(e.hasMetaOption(i))return fetch(new Request(t,i)).then(function(e){return e.blob()}).then(n).catch(function(e){console.log(e),n()});n()})})},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(30),n(200)],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,i=e.map;for(t in n)n.hasOwnProperty(t)&&(i[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}})},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(30),n(199),n(67)],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)}(function(e){"use strict";var t=e.hasCanvasOption,n=e.hasMetaOption,i=e.transformCoordinates,r=e.getTransformedOptions;e.hasCanvasOption=function(n){return!!n.orientation||t.call(e,n)},e.hasMetaOption=function(t){return t&&!0===t.orientation||n.call(e,t)},e.transformCoordinates=function(t,n){i.call(e,t,n);var r=t.getContext("2d"),o=t.width,a=t.height,s=t.style.width,l=t.style.height,c=n.orientation;if(c&&!(c>8))switch(c>4&&(t.width=a,t.height=o,t.style.width=l,t.style.height=s),c){case 2:r.translate(o,0),r.scale(-1,1);break;case 3:r.translate(o,a),r.rotate(Math.PI);break;case 4:r.translate(0,a),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-a);break;case 7:r.rotate(.5*Math.PI),r.translate(o,-a),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-o,0)}},e.getTransformedOptions=function(t,n,i){var o,a,s=r.call(e,t,n),l=s.orientation;if(!0===l&&i&&i.exif&&(l=i.exif.get("Orientation")),!l||l>8||1===l)return s;for(a in o={},s)s.hasOwnProperty(a)&&(o[a]=s[a]);switch(o.orientation=l,l){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o}})},function(e,t,n){var i;!function(r){"use strict";var o=r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype,a=r.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),s=a&&r.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),l=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(a||l)&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&function(e){var t,n,i,r,o,u,d,p,h;if(!(t=e.match(c)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),i=!!t[4],r=e.slice(t[0].length),o=i?atob(r):decodeURIComponent(r),u=new ArrayBuffer(o.length),d=new Uint8Array(u),p=0;p<o.length;p+=1)d[p]=o.charCodeAt(p);return a?new Blob([s?d:u],{type:n}):((h=new l).append(u),h.getBlob(n))};r.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(e,t,n){var i=this;setTimeout(function(){e(n&&o.toDataURL&&u?u(i.toDataURL(t,n)):i.mozGetAsFile("blob",t))})}:o.toDataURL&&u&&(o.toBlob=function(e,t,n){var i=this;setTimeout(function(){e(u(i.toDataURL(t,n)))})})),void 0===(i=function(){return u}.call(t,n,t,e))||(e.exports=i)}(window)},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(592)),l=i(n(593)),c=function(e,t,n){"ngInject";var i,c,u,d=this,p={},h={minWidth:0,minHeight:0,maxWidth:3e3,maxHeight:2e3,dzi:!1,crops:[]},m={minWidth:0,minHeight:0,ratio:1,gravity:"center"},f=[{value:"Center",name:"Center"},{value:"North",name:"North"},{value:"East",name:"East"},{value:"South",name:"South"},{value:"West",name:"West"}],g=function(e){e.slug=a.default.camelCase(e.name)},v=(i=(0,o.default)(r.default.mark(function i(o,s,c){var u,p;return r.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=!o,p={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:l.default,targetEvent:c,clickOutsideToClose:!0,multiple:!0,locals:{crop:a.default.merge({},m,o),createNew:u,gravityOptions:f,slugify:g}},i.prev=2,i.next=5,t.show(p);case 5:o=i.sent,i.next=11;break;case 8:return i.prev=8,i.t0=i.catch(2),i.abrupt("return",!1);case 11:return u?s.push(o):n.replace(s,o,"slug"),e.$apply(),i.abrupt("return",o);case 14:case"end":return i.stop()}},i,d,[[2,8]])})),function(e,t,n){return i.apply(this,arguments)}),b=(c=(0,o.default)(r.default.mark(function n(i,o,s){var l;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.confirm({title:"Delete Crop?",textContent:"Are you sure you want to delete "+i.name+"?",targetEvent:s,ok:"Confirm",cancel:"Cancel",multiple:!0}),n.prev=1,n.next=4,t.show(l);case 4:n.next=9;break;case 6:return n.prev=6,n.t0=n.catch(1),n.abrupt("return",!1);case 9:return a.default.remove(o,{slug:i.slug}),e.$apply(),n.abrupt("return",!0);case 12:case"end":return n.stop()}},n,d,[[1,6]])})),function(e,t,n){return c.apply(this,arguments)});return p.edit=(u=(0,o.default)(r.default.mark(function e(n,i){var o,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:i,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},h,n.settings),editCrop:v,deleteCrop:b}},l=void 0,e.prev=2,e.next=5,t.show(o);case 5:l=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:return e.abrupt("return",l);case 12:case"end":return e.stop()}},e,d,[[2,8]])})),function(e,t){return u.apply(this,arguments)}),p};c.$inject=["$rootScope","$mdDialog","HelperFactory"],t.default=c},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Min. Width</label><input type="number" ng-model="vm.settings.minWidth"/></md-input-container><md-input-container><label>Min. Height</label><input type="number" ng-model="vm.settings.minHeight"/></md-input-container><br/><md-input-container><label>Max. Width</label><input type="number" required="required" ng-model="vm.settings.maxWidth"/></md-input-container><md-input-container><label>Max. Height</label><input type="number" required="required" ng-model="vm.settings.maxHeight"/></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.dzi" aria-label="Deep Zoom Image?">Deep Zoom Image</md-checkbox></md-input-container><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Crops<span flex="flex"></span><md-button ng-click="vm.editCrop(null, vm.settings.crops, $event)">Add Crop</md-button></div></md-toolbar><md-table-container ng-show="vm.settings.crops.length"><table md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Name</th><th md-column="md-column">Slug</th><th md-column="md-column">Min. Size</th><th md-column="md-column">Ratio</th><th md-column="md-column">Gravity</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="crop in vm.settings.crops"><td md-cell="md-cell">{{crop.name}}</td><td md-cell="md-cell">{{crop.slug}}</td><td md-cell="md-cell">{{crop.minWidth}}×{{crop.minHeight}}</td><td md-cell="md-cell">{{crop.ratio}}</td><td md-cell="md-cell">{{crop.gravity}}</td><td md-cell="md-cell"><md-button class="md-icon-button" ng-click="vm.editCrop(crop, vm.settings.crops, $event)"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.deleteCrop(crop, vm.settings.crops, $event)"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Crop Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Crop Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Name</label><input ng-model="vm.crop.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.crop)"/></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.crop.slug" required="required" disabled="disabled"/></md-input-container><br/><md-input-container><label>Minimum Width</label><input type="number" ng-model="vm.crop.minWidth" min="0"/></md-input-container><md-input-container><label>Minimum Height</label><input type="number" ng-model="vm.crop.minHeight" min="0"/></md-input-container><md-input-container class="md-block"><label>Gravity</label><md-select ng-model="vm.crop.gravity"><md-option ng-repeat="option in vm.gravityOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container><label>Ratio</label><input type="number" ng-model="vm.crop.ratio" min="0" max="99"/></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.crop)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(595)),s=o.default.module("fieldKeyValue",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("keyValue",{name:"Key/Value",toString:function(e){return r.default.isArray(e)?e.map(function(e){return e.key+": "+e.value}).join(", "):e||""}})}]).directive("fieldKeyValue",a.default);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(596)),o=i(n(597));n(598),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button class="md-icon-button" aria-label="Add key/value" ng-click="vm.fieldModel.value.push({key: \'\', value: \'\'})"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar></md-subheader><div flex="flex" layout="column" layout-margin="layout-margin"><table style="width: 100%;"><tbody><tr ng-repeat="keyValue in vm.fieldModel.value" ace-sortable="ace-sortable" axis="\'y\'" index="$index" collection="vm.fieldModel.value" handle-selector="\'[ace-sortable-handle]\'"><td><md-icon md-font-set="material-icons" ace-sortable-handle="ace-sortable-handle">more_horiz</md-icon></td><td><md-input-container style="width: 100%;"><label>Key</label><input ng-model="keyValue.key"/></md-input-container></td><td><md-input-container style="width: 100%;"><label>Value</label><input ng-model="keyValue.value"/></md-input-container></td><td><md-button class="md-icon-button" aria-label="Remove key/value" ng-click="vm.fieldModel.value.splice($index, 1)"><md-icon style="display: inline-block;" md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e),this.fieldModel.value||(this.fieldModel.value=[])}},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(600)),a=r.default.module("fieldNumber",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("number",{name:"Number",toString:function(e){return void 0===e||null===e?"":e.toString()}})}]).directive("fieldNumber",o.default);t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(601)),o=i(n(602));n(603),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex"><input type="number" ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"/></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e)}},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(605)),a=i(n(620)),s=r.default.module("fieldRichText",[]).config(function(){"ngInject"}).run(["$filter","FieldFactory","FieldRichTextSettingsFactory",function(e,t,n){"ngInject";t.registerField("richText",{name:"Rich Text",editSettings:n.edit,toString:function(t){return t?e("cleanHTML")(t.html):""},toDb:function(e,t){e||(e={html:"",entities:[]});var n="href=[\"']urn:entity:(\\S+)[\"']",i=new RegExp(n,"gim"),r=e.html.match(i);return r&&(e.entities=r.map(function(e){return{id:(i=new RegExp(n,"gim")).exec(e)[1]}})),e}})}]).factory("FieldRichTextSettingsFactory",a.default).directive("fieldRichText",o.default);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(606)),o=i(n(607));n(619),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-if="vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button class="md-icon-button" aria-label="Toggle HTML" ng-click="vm.showHtml = !vm.showHtml"><md-icon md-font-set="material-icons">code</md-icon></md-button></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex"><textarea class="md-input" ace-rich-text="ace-rich-text" options="vm.options" show-html="vm.showHtml" ng-model="vm.fieldModel.value.html" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></textarea></md-input-container></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(0)),a=i(n(608)),s=i(n(618)),l=function e(t,n,i,l,c,u,d){function p(e,t){t.thumbnail&&e.append('\n          <img src="'+d.thumbnailSrc(t.thumbnail,"h:200;q:60")+'">\n        '),e.append('\n        <div class="md-body-1">'+t.title+"</div>\n      ")}(0,r.default)(this,e);var h=this,m={name:"insertEntity",buttonTitle:"Insert Entity",buttonHtml:'<i class="mdi mdi-bookmark-outline"></i>',bookmarkHtml:function(e){return i(function(t,n){u.selectEntity(h.fieldOptions.settings.schemas[0]).then(function(n){t('<a href="urn:entity:'+n[0]._id+'">'+e+"</a>")},n)})}},f={name:"createEntity",buttonTitle:"Create Entity",buttonHtml:'<i class="mdi mdi-bookmark-plus-outline"></i>',bookmarkHtml:function(e){return i(function(t,n){u.newEntity(h.fieldOptions.settings.schemas[0]).then(function(n){t('<a href="urn:entity:'+n._id+'">'+e+"</a>")},n)})}},g=[{name:"bold",contentDefault:'<i class="mdi mdi-format-bold"></i>'},{name:"italic",contentDefault:'<i class="mdi mdi-format-italic"></i>'},{name:"underline",contentDefault:'<i class="mdi mdi-format-underline"></i>'},{name:"anchor",contentDefault:'<i class="mdi mdi-link-variant"></i>'},{name:"h2",contentDefault:'<i class="mdi mdi-format-header-1"></i>'},{name:"h3",contentDefault:'<i class="mdi mdi-format-header-2"></i>'},{name:"h4",contentDefault:'<i class="mdi mdi-format-header-3"></i>'},{name:"h5",contentDefault:'<i class="mdi mdi-format-header-4"></i>'},{name:"superscript",contentDefault:'<i class="mdi mdi-format-superscript"></i>'},{name:"subscript",contentDefault:'<i class="mdi mdi-format-subscript"></i>'},{name:"quote",contentDefault:'<i class="mdi mdi-format-quote-open"></i>'},{name:"unorderedlist",contentDefault:'<i class="mdi mdi-format-list-bulleted"></i>'},{name:"orderedlist",contentDefault:'<i class="mdi mdi-format-list-numbers"></i>'},{name:"removeFormat",contentDefault:'<i class="mdi mdi-format-clear"></i>'}];h.fieldOptions.settings&&h.fieldOptions.settings.schemas&&h.fieldOptions.settings.schemas.length&&(g.push("insertEntity"),g.push("createEntity"));var v={};h.options={autoLink:!0,imageDragging:!1,anchorPreview:!1,extensions:{imageDragging:{},insertEntity:new a.default(m),createEntity:new a.default(f),bookmarkPreview:new s.default({showPreviewCallback:function(e,t){var n=o.default.element(t.querySelector(".medium-editor-toolbar-anchor-preview-inner"));if(/href=["']urn:entity:(\S+)["']/.test(e.outerHTML)){n.empty();var i=/href=["']urn:entity:(\S+)["']/.exec(e.outerHTML)[1];v[i]?p(n,v[i]):u.getById({id:i}).then(function(e){v[i]=e[0],p(n,v[i])})}}})},toolbar:{buttons:g},paste:{forcePlainText:!0,cleanPastedHTML:!0,cleanAttrs:["class","style"],cleanTags:["meta","div","span"]}};var b=n.find("md-input-container");t.$watch(function(){return h.showHtml},function(){h.fieldModel.value&&(h.fieldModel.value.html=l("cleanHTML")(h.fieldModel.value.html))}),t.$on("aceRichText:init",function(e,t){t.subscribe("editablePaste",function(){c(function(){h.fieldModel.value.html=l("cleanHTML")(h.fieldModel.value.html,!0)})}),t.subscribe("focus",function(){b.addClass("md-input-focused")}),t.subscribe("blur",function(){b.removeClass("md-input-focused")})})};l.$inject=["$scope","$element","$q","$filter","$timeout","EntityFactory","HelperFactory"],t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(201)),o=i(n(2)),a=i(n(202)),s=i(n(203)),l=i(n(102)),c=function(e){function t(e){(0,o.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return n.options=e,n}return(0,s.default)(t,e),t}(l.default.Extension.extend({name:"bookmark",init:function(){this.options.name&&(this.name=this.options.name),this.button=this.document.createElement("button"),this.button.classList.add("medium-editor-action"),this.button.innerHTML=this.options.buttonHtml,this.button.title=this.options.buttonTitle,this.button.setAttribute("aria-label",this.options.buttonTitle),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},handleClick:function(e){var t=this,n=l.default.selection.getSelectionHtml(document),i=window.getSelection(),r=i.getRangeAt(0);this.base.trigger("blur",{},this.base.elements[0]),this.options.bookmarkHtml(n).then(function(e){t.insertHtml(e,i,r),t.base.checkContentChanged()})},insertHtml:function(e,t,n){n.deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var r=document.createDocumentFragment(),o=void 0,a=void 0;o=i.firstChild;)a=r.appendChild(o);n.insertNode(r),a&&((n=n.cloneRange()).setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}));t.default=c},function(e,t,n){n(610),e.exports=n(9).Object.getPrototypeOf},function(e,t,n){var i=n(54),r=n(120);n(130)("getPrototypeOf",function(){return function(e){return r(i(e))}})},function(e,t,n){e.exports={default:n(612),__esModule:!0}},function(e,t,n){n(613),e.exports=n(9).Object.setPrototypeOf},function(e,t,n){var i=n(15);i(i.S,"Object",{setPrototypeOf:n(614).set})},function(e,t,n){var i=n(21),r=n(19),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(37)(Function.call,n(128).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(616),__esModule:!0}},function(e,t,n){n(617);var i=n(9).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){var i=n(15);i(i.S,"Object",{create:n(72)})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(103)),o=i(n(201)),a=i(n(2)),s=i(n(202)),l=i(n(203)),c=i(n(102)),u=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return(0,r.default)(n.options,e),n}return(0,l.default)(t,e),t}(c.default.Extension.extend({name:"anchor-preview",options:{hideDelay:500,previewValueSelector:".medium-editor-toolbar-anchor-preview-inner",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!1,showPreviewCallback:function(e,t){},getPreviewTemplate:function(){return'\n        <div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">\n          <div class="medium-editor-toolbar-anchor-preview-inner"></div>\n        </div>\n      '}},init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.options.getPreviewTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){if(this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||e.getAttribute("data-disable-preview"))return!0;if(this.options.previewValueSelector){var t=this.anchorPreview.querySelector(this.options.previewValueSelector);t.innerHTML="";var n=this.document.createElement("a");n.textContent=e.attributes.href.value,n.href=e.attributes.href.value,t.appendChild(n)}return this.options.showPreviewCallback(e,this.anchorPreview),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this},positionPreview:function(e){e=e||this.activeAnchor;var t=this.window.innerWidth,n=this.anchorPreview.offsetHeight,i=e.getBoundingClientRect(),r=this.diffLeft,o=this.diffTop,a=this.getEditorOption("elementsContainer"),s=["absolute","fixed"].indexOf(window.getComputedStyle(a).getPropertyValue("position"))>-1,l={},c=void 0,u=void 0,d=this.anchorPreview.offsetWidth/2,p=this.base.getExtensionByName("toolbar");p&&(r=p.diffLeft,o=p.diffTop);var h=r-d;s?(c=a.getBoundingClientRect(),["top","left"].forEach(function(e){l[e]=i[e]-c[e]}),l.width=i.width,l.height=i.height,i=l,t=c.width,u=a.scrollTop):u=this.window.pageYOffset;var m=i.left+i.width/2;u+=n+i.top+i.height-o-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(u)+"px",this.anchorPreview.style.right="initial",m<d?(this.anchorPreview.style.left=h+d+"px",this.anchorPreview.style.right="initial"):t-m<d?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=h+m+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.options.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}})),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.activeAnchor&&this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(e){var t=this,n=c.default.util.getClosestTag(e.target,"a");if(!1!==n&&(this.options.showOnEmptyLinks||/href=["']\S+["']/.test(n.outerHTML)&&!/href=["']#\S+["']/.test(n.outerHTML))){var i=this.base.getExtensionByName("toolbar");!this.options.showWhenToolbarIsVisible&&i&&i.isDisplayed&&i.isDisplayed()||(this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){t.anchorToPreview&&t.showPreview(t.anchorToPreview)}))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){this.hovering||(new Date).getTime()-this.lastOver>this.options.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}));t.default=u},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(621)),l=function(e,t,n){"ngInject";var i,l,c=this,u={},d={schemas:[]},p=(i=(0,o.default)(r.default.mark(function e(t,i){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.editSchema(null,i);case 2:(o=e.sent)&&t.push(o.slug);case 4:case"end":return e.stop()}},e,c)})),function(e,t){return i.apply(this,arguments)});return u.edit=(l=(0,o.default)(r.default.mark(function n(i,o){var l,u;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},d,i.settings),schemas:t.getConfig().schemas,transformChip:function(e){return e.slug},newSchema:p}},u=void 0,n.prev=2,n.next=5,e.show(l);case 5:u=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:return n.abrupt("return",u);case 12:case"end":return n.stop()}},n,c,[[2,8]])})),function(e,t){return l.apply(this,arguments)}),u};l.$inject=["$mdDialog","ConfigFactory","SchemaFactory"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row"><md-chips flex="flex" ng-model="vm.settings.schemas" md-transform-chip="vm.transformChip($chip)" md-require-match="true" md-autocomplete-snap="md-autocomplete-snap"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="schema in vm.schemas" md-item-text="schema.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{schema.name}}</span></md-autocomplete><md-chip-template><span ace-sortable="ace-sortable" item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{ $chip | schemaName }}</span></md-chip-template></md-chips><md-button class="md-icon-button" aria-label="New schema" ng-click="vm.newSchema(vm.settings.schemas, $event)"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(623)),s=i(n(627)),l=o.default.module("fieldSelect",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldSelectSettingsFactory",function(e,t){"ngInject";e.registerField("select",{name:"Select",editSettings:t.edit,toString:function(e){return e?r.default.isArray(e)?e.map(function(e){return e?e.title:void 0}).filter(function(e){return e}).join(", "):r.default.isObject(e)?e.title||"":e||"":""}})}]).factory("FieldSelectSettingsFactory",s.default).directive("fieldSelect",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(624)),o=i(n(625));n(626),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button ng-if="!vm.fieldOptions.settings.multiple &amp;&amp; vm.fieldModel.value[0]" ng-click="vm.clear()" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex" layout="row"><div flex="flex" ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex="flex" md-autoselect="md-autoselect" md-no-cache="true" md-selected-item="vm.fieldModel.value[0]" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex="flex" ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel.value" md-autocomplete-snap="md-autocomplete-snap" md-require-match="true"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.title}}</span></md-autocomplete><md-chip-template><span ace-sortable="ace-sortable" item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{$chip.title}}</span></md-chip-template></md-chips></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(1)),a=function e(t){(0,r.default)(this,e);var n=this;n.fieldModel.value||(n.fieldModel.value=[]),n.clear=function(){n.searchText="",n.fieldModel.value[0]=void 0},n.search=function(e){return t(function(e,t){e((n.fieldOptions.settings.options||[]).map(function(e){return{slug:o.default.kebabCase(e),title:e,type:"option"}}))})},n.transformChip=function(e){return o.default.isObject(e)?e:{title:e,type:"new"}}};a.$inject=["$q"],t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(628)),l=function(e){"ngInject";var t,n=this,i={},l={options:[],multiple:!1};return i.edit=(t=(0,o.default)(r.default.mark(function t(i,o){var c,u;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},l,i.settings)}},u=void 0,t.prev=2,t.next=5,e.show(c);case 5:u=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.abrupt("return",u);case 12:case"end":return t.stop()}},t,n,[[2,8]])})),function(e,n){return t.apply(this,arguments)}),i};l.$inject=["$mdDialog"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-chips ng-model="vm.settings.options" placeholder="Options" secondary-placeholder="+Option"><md-chip-template><span ace-sortable="ace-sortable" item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{$chip}}</span></md-chip-template></md-chips><br/><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(630)),s=i(n(634)),l=o.default.module("fieldTaxonomy",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldTaxonomySettingsFactory",function(e,t){"ngInject";e.registerField("taxonomy",{name:"Taxonomy",editSettings:t.edit,toString:function(e){return e&&e.terms?r.default.isArray(e.terms)?e.terms.map(function(e){return e?e.title:void 0}).filter(function(e){return e}).join(", "):r.default.isObject(e.terms)?e.terms.title:e||"":""},toDb:function(e,t){var n=e.terms[0]?e.terms:[];return n=n.map(function(e){return e.slug=r.default.kebabCase(e.title),e.parents=(e.parents||[]).map(function(e){return e.slug=r.default.kebabCase(e.title),r.default.pick(e,["id","title","slug"])}),r.default.pick(e,["id","title","slug","parents"])}),{taxonomy:t.taxonomy,terms:n}}})}]).factory("FieldTaxonomySettingsFactory",s.default).directive("fieldTaxonomy",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(631)),o=i(n(632));n(633),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button ng-if="!vm.fieldOptions.settings.multiple &amp;&amp; vm.fieldModel.value.terms[0]" ng-click="vm.clear()" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex" layout="row"><div flex="flex" ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex="flex" md-no-cache="true" md-selected-item="vm.fieldModel.value.terms[0]" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex="flex" ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel.value.terms" md-autocomplete-snap="md-autocomplete-snap" md-transform-chip="vm.transformChip($chip)" md-require-match="vm.fieldOptions.settings.existingOnly"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><div class="md-caption" md-highlight-text="vm.searchText">{{vm.getParents(item)}}</div><div class="md-body-1" md-highlight-text="vm.searchText">{{item.title}}</div></md-autocomplete><md-chip-template><div ace-sortable="ace-sortable" item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'"><div class="md-caption">{{vm.getParents($chip)}}</div><div class="md-body-1">{{$chip.title}}</div></div></md-chip-template></md-chips></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),o=i(n(1)),a=function e(t,n,i){(0,r.default)(this,e);var a=this;a.fieldModel.value||(a.fieldModel.value={}),a.fieldModel.value.taxonomy=a.fieldOptions.settings.taxonomy,a.fieldModel.value.terms||(a.fieldModel.value.terms=[]);var s=[],l=n.getTaxonomy(a.fieldOptions.settings.taxonomy);l&&((l.terms||[]).forEach(function(e){s.push(function e(t,n,i){if(t.terms&&t.terms.length){var r=n.slice(0);return r.push({id:t.id,title:t.title,slug:t.slug}),t.terms.forEach(function(t){i.push(e(t,r,i))}),{id:t.id,title:t.title,slug:t.slug,parents:n,hasChildren:!0}}return{id:t.id,title:t.title,slug:t.slug,parents:n}}(e,[],s))}),s=s.filter(function(e){return!e.hasChildren})),a.clear=function(){a.searchText="",a.fieldModel.value.terms[0]=void 0},a.search=function(e){return t(function(t,n){var i=o.default.isArray(a.fieldModel.value.terms)?a.fieldModel.value.terms.map(function(e){return e?e.id:void 0}):[];t(s.filter(function(t){if(i.indexOf(t.id)>-1)return!1;var n=t.parents.map(function(e){return e.title});n.unshift(t.title);var r=n.join(" ");return new RegExp(e,"gi").test(r)}))})},a.getParents=function(e){return e.parents?e.parents.map(function(e){return e.title}).join(" / "):""},a.transformChip=function(e){if(o.default.isObject(e))return e;var t=i.getNewTerm();return t.title=e,t.slug=o.default.kebabCase(e),i.createTerm(a.fieldOptions.settings.taxonomy,t),s.push(t),t}};a.$inject=["$q","ConfigFactory","TaxonomyFactory"],t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(635)),l=function(e,t){"ngInject";var n,i=this,l={},c={multiple:!1,existingOnly:!1};return l.edit=(n=(0,o.default)(r.default.mark(function n(o,l){var u,d;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:l,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},c,o.settings),taxonomies:t.getConfig().taxonomies}},d=void 0,n.prev=2,n.next=5,e.show(u);case 5:d=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:return n.abrupt("return",d);case 12:case"end":return n.stop()}},n,i,[[2,8]])})),function(e,t){return n.apply(this,arguments)}),l};l.$inject=["$mdDialog","ConfigFactory"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Taxonomy</label><md-select ng-model="vm.settings.taxonomy" placeholder="Taxonomy"><md-option ng-repeat="taxonomy in vm.taxonomies" ng-value="taxonomy.slug">{{taxonomy.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.existingOnly" aria-label="Existing terms only?">Existing terms only</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(637)),a=i(n(641)),s=r.default.module("fieldText",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldTextSettingsFactory",function(e,t){"ngInject";e.registerField("text",{name:"Text",editSettings:t.edit})}]).factory("FieldTextSettingsFactory",a.default).directive("fieldText",o.default);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(638)),o=i(n(639));n(640),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex"><input ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"/></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e)}},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(642)),l=function(e){"ngInject";var t,n=this,i={},l={format:"default"},c=[{name:"Default",value:"default"},{name:"URL",value:"url"},{name:"Email",value:"email"}];return i.edit=(t=(0,o.default)(r.default.mark(function t(i,o){var u,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},l,i.settings),formats:c}},d=void 0,t.prev=2,t.next=5,e.show(u);case 5:d=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.abrupt("return",d);case 12:case"end":return t.stop()}},t,n,[[2,8]])})),function(e,n){return t.apply(this,arguments)}),i};l.$inject=["$mdDialog"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.settings.format" placeholder="Format"><md-option ng-repeat="format in vm.formats" ng-value="format.value">{{format.name}}</md-option></md-select></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(644)),a=r.default.module("fieldTextArea",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("textArea",{name:"Text Area"})}]).directive("fieldTextArea",o.default);t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(645)),o=i(n(646));n(647),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex"><textarea ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></textarea></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e)}},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(649)),a=i(n(653)),s=r.default.module("fieldVideo",[]).config(function(){"ngInject"}).run(["$rootScope","FieldFactory","FieldVideoSettingsFactory",function(e,t,n){"ngInject";t.registerField("video",{name:"Video",editSettings:n.edit,thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e&&e.original?e.original.fileName:""},thumbnail:function(t){if(!t)return null;var n=t.fileName||t.file.name+t.file.ext;return{thumbnailType:"video",thumbnailUrl:e.assistUrl+"/"+e.assetSlug+"/"+(t.name||t.file.name)+"/thumb.jpg",fileName:n,name:t.name||t.file.name,ext:t.ext||t.file.ext,width:t.metadata?t.metadata.width||0:t.width||0,height:t.metadata?t.metadata.height||0:t.height||0,duration:t.metadata?t.metadata.duration||0:t.duration||0}}})}]).factory("FieldVideoSettingsFactory",a.default).directive("fieldVideo",o.default);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(650)),o=i(n(651));n(652),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<div class="field-wrapper" ace-flow="ace-flow" options="vm.flowOptions"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button class="md-icon-button" aria-label="Upload" ace-flow-browse="ace-flow-browse"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button class="md-icon-button" aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.value"><md-icon md-font-set="material-icons">file_download</md-icon></md-button></div></md-toolbar></md-subheader><div flex="grow" layout="row" layout-margin="layout-margin"><div class="dropzone" flex="flex" layout="row" layout-align="center center" ng-show="!vm.uploading &amp;&amp; !vm.fieldModel.value" ace-flow-drop="ace-flow-drop" ace-flow-browse="ace-flow-browse"><span>Drop file(s) here</span></div><div flex="flex" layout="row" layout-align="center center" ng-show="vm.uploading"><span>Uploading {{ vm.progress || 0 }}%</span></div><div flex="flex" layout="row" layout-margin="layout-margin" ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><div flex="flex"><video controls="controls" ng-src="{{ $root.$helper.videoSrc(vm.fieldModel.value.file, \'f:mp4;h:360;bv:1000\') }}"></video></div><div flex="flex"><table><tr><td>Filename</td><td title="{{vm.fieldModel.value.original.fileName}}">{{vm.fieldModel.value.original.fileName}}</td></tr><tr><td>Type</td><td>{{vm.fieldModel.value.original.mimeType}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.value.original.fileSize | fileSize}}</td></tr></table></div></div></div></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(24)),o=i(n(2)),a=function e(t,n,i,a,s,l,c){(0,o.default)(this,e);var u=this,d=u.fieldOptions;u.flowOptions={target:t.assistUrl+"/"+t.assetSlug+"/file/upload",query:{options:(0,r.default)(d)},headers:{Authorization:"Basic "+t.assistCredentials},singleFile:!0,events:{fileAdded:function(e,t){var n="gif,mp4,avi,mov,webm,mkv,flv,ogg,ogv,qt,wmv,mpg,m4v".indexOf(t.getExtension())>-1;return n||l.show(l.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=n,n},fileSuccess:function(e,t,n){var i=JSON.parse(n),r=i.metadata.streams.filter(function(e){return"video"===e.codec_type})[0],o=(i.metadata.streams.filter(function(e){return"audio"===e.codec_type})[0],{duration:1e3*Number(i.metadata.format.duration),width:r.width,height:r.height,format:i.file.ext.replace(".","")});u.fieldModel.value={file:i.file,original:i.original,metadata:o}},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){u.uploading=!0},complete:function(){u.uploading=!1},progress:function(e){u.progress=Math.round(100*e.progress())},error:function(e,t){e.cancel(),l.show(l.alert().title("Upload Error").textContent(t.message||t).ok("Close"))}}},u.download=function(){i.open(c.assistUrl+"/"+t.assetSlug+"/file/download/"+u.fieldModel.value.file.name+u.fieldModel.value.file.ext+"/"+u.fieldModel.value.original.fileName)}};a.$inject=["$rootScope","$scope","$window","$http","$timeout","$mdDialog","appConfig"],t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(654)),l=i(n(655)),c=i(n(656)),u=function(e,t,n){"ngInject";var i,u,d,p,h,m=this,f={},g={videoOutputs:[]},v={name:"",slug:"",format:"mp4",quality:3,thumbnails:[]},b={name:"",slug:"",format:"jpg"},y=[{value:"mp4",name:"mp4"},{value:"webm",name:"webm"}],w=[{value:1,name:"Mediocre"},{value:2,name:"Acceptable"},{value:3,name:"Good"},{value:4,name:"Great"},{value:5,name:"Lossless"}],C=[{value:"jpg",name:"jpg"},{value:"png",name:"png"}],E=function(e){e.slug=a.default.camelCase(e.name)},x=(i=(0,o.default)(r.default.mark(function i(o,s,l){var u,d;return r.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=!o,d={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:c.default,targetEvent:l,clickOutsideToClose:!0,multiple:!0,locals:{thumbnail:a.default.merge({},b,o),createNew:u,slugify:E,thumbnailFormatOptions:C}},i.prev=2,i.next=5,t.show(d);case 5:o=i.sent,i.next=11;break;case 8:return i.prev=8,i.t0=i.catch(2),i.abrupt("return",!1);case 11:return u?s.push(o):n.replace(s,o,"slug"),e.$apply(),i.abrupt("return",o);case 14:case"end":return i.stop()}},i,m,[[2,8]])})),function(e,t,n){return i.apply(this,arguments)}),S=(u=(0,o.default)(r.default.mark(function n(i,o,s){var l;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.confirm({title:"Delete thumbnail?",textContent:"Are you sure you want to delete "+i.name+"?",targetEvent:s,ok:"Confirm",cancel:"Cancel",multiple:!0}),n.prev=1,n.next=4,t.show(l);case 4:n.next=9;break;case 6:return n.prev=6,n.t0=n.catch(1),n.abrupt("return",!1);case 9:return a.default.remove(o,{slug:i.slug}),e.$apply(),n.abrupt("return",!0);case 12:case"end":return n.stop()}},n,m,[[1,6]])})),function(e,t,n){return u.apply(this,arguments)}),_=(d=(0,o.default)(r.default.mark(function i(o,s,c){var u,d;return r.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=!o,d={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:l.default,targetEvent:c,clickOutsideToClose:!0,multiple:!0,locals:{output:a.default.merge({},v,o),createNew:u,slugify:E,formatOptions:y,qualityOptions:w,editThumbnail:x,deleteThumbnail:S}},i.prev=2,i.next=5,t.show(d);case 5:o=i.sent,i.next=11;break;case 8:return i.prev=8,i.t0=i.catch(2),i.abrupt("return",!1);case 11:return u?s.push(o):n.replace(s,o,"slug"),e.$apply(),i.abrupt("return",o);case 14:case"end":return i.stop()}},i,m,[[2,8]])})),function(e,t,n){return d.apply(this,arguments)}),T=(p=(0,o.default)(r.default.mark(function n(i,o,s){var l;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.confirm({title:"Delete output?",textContent:"Are you sure you want to delete "+i.name+"?",targetEvent:s,ok:"Confirm",cancel:"Cancel",multiple:!0}),n.prev=1,n.next=4,t.show(l);case 4:n.next=9;break;case 6:return n.prev=6,n.t0=n.catch(1),n.abrupt("return",!1);case 9:return a.default.remove(o,{slug:i.slug}),e.$apply(),n.abrupt("return",!0);case 12:case"end":return n.stop()}},n,m,[[1,6]])})),function(e,t,n){return p.apply(this,arguments)});return f.edit=(h=(0,o.default)(r.default.mark(function e(n,i){var o,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:i,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},g,n.settings),editOutput:_,deleteOutput:T}},l=void 0,e.prev=2,e.next=5,t.show(o);case 5:l=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:return e.abrupt("return",l);case 12:case"end":return e.stop()}},e,m,[[2,8]])})),function(e,t){return h.apply(this,arguments)}),f};u.$inject=["$rootScope","$mdDialog","HelperFactory"],t.default=u},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Video Outputs<span flex="flex"></span><md-button ng-click="vm.editOutput(null, vm.settings.videoOutputs, $event)">Add Output</md-button></div></md-toolbar><md-table-container ng-show="vm.settings.videoOutputs.length"><table md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Name</th><th md-column="md-column">Slug</th><th md-column="md-column">Format</th><th md-column="md-column">Resolution</th><th md-column="md-column">Quality</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="output in vm.settings.videoOutputs"><td md-cell="md-cell">{{output.name}}</td><td md-cell="md-cell">{{output.slug}}</td><td md-cell="md-cell">{{output.format}}</td><td md-cell="md-cell">{{output.maxWidth}}×{{output.maxHeight}}</td><td md-cell="md-cell">{{output.quality}}</td><td md-cell="md-cell"><md-button class="md-icon-button" ng-click="vm.editOutput(output, vm.settings.videoOutputs, $event)"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.deleteOutput(output, vm.settings.videoOutputs, $event)"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Output Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Output Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Name</label><input ng-model="vm.output.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_src|&quot;)).*$/i" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.output)"/></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.output.slug" required="required" disabled="disabled" ng-pattern="/^(?!.*?(_src|&quot;)).*$/i"/></md-input-container><br/><md-input-container><label>Maximum Width</label><input type="number" ng-model="vm.output.maxWidth" min="0"/></md-input-container><md-input-container><label>Maximum Height</label><input type="number" ng-model="vm.output.maxHeight" min="0"/></md-input-container><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.output.format"><md-option ng-repeat="option in vm.formatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><label>Quality</label><md-select ng-model="vm.output.quality"><md-option ng-repeat="option in vm.qualityOptions" value="{{option.value}}">{{option.value}}: {{option.name}}</md-option></md-select></md-input-container><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Thumbnails<span flex="flex"></span><md-button ng-click="vm.editThumbnail(null, vm.output.thumbnails, $event)">Add Thumbnail</md-button></div></md-toolbar><md-table-container ng-show="vm.output.thumbnails.length"><table md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Name</th><th md-column="md-column">Slug</th><th md-column="md-column">Format</th><th md-column="md-column">Number</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="thumbnail in vm.output.thumbnails"><td md-cell="md-cell">{{thumbnail.name}}</td><td md-cell="md-cell">{{thumbnail.slug}}</td><td md-cell="md-cell">{{thumbnail.format}}</td><td md-cell="md-cell">{{thumbnail.number}}</td><td md-cell="md-cell"><md-button class="md-icon-button" ng-click="vm.editThumbnail(thumbnail, vm.output.thumbnails, $event)"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button class="md-icon-button" ng-click="vm.deleteThumbnail(thumbnail, vm.output.thumbnails, $event)"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.output)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Thumbnail Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Thumbnail Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Name</label><input ng-model="vm.thumbnail.name" required="required" ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_thumb|&quot;)).*$/i" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.thumbnail)"/></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.thumbnail.slug" required="required" disabled="disabled" ng-pattern="/^(?!.*?(_thumb|&quot;)).*$/i"/></md-input-container><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.thumbnail.format"><md-option ng-repeat="option in vm.thumbnailFormatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container><label>Number</label><input type="number" ng-model="vm.thumbnail.number" min="1"/></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.thumbnail)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(658)),a=r.default.module("fieldVimeo",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("vimeo",{name:"Vimeo",thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return e&&e.url?e.url:""},thumbnail:function(e){return e&&e.video?{thumbnailType:"oembed",thumbnailUrl:e.video.thumbnail.url,width:e.video.thumbnail.width,height:e.video.thumbnail.height}:null}})}]).directive("fieldVimeo",o.default);t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(659)),o=i(n(660));n(661),t.default=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?",fieldDisabled:"=?"},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox class="md-primary field-apply" ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex="flex"></span><md-button class="md-icon-button" aria-label="Delete" ng-show="vm.fieldModel.value.video" ng-click="vm.fieldModel.value = null"><md-icon md-font-set="material-icons">delete</md-icon></md-button></div></md-toolbar></md-subheader><div ng-show="!vm.fieldModel.value.video" flex="flex" layout="row" layout-margin="layout-margin"><md-input-container flex="flex" md-no-float="true"><input ng-model="vm.fieldModel.value.url" ng-paste="vm.submitUrl()" ng-keypress="($event.charCode === 13) ? vm.submitUrl() : return" placeholder="Source URL" ng-pattern="vm.embedlyRegex" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined"/></md-input-container><md-button class="md-icon-button" aria-label="Submit" ng-click="vm.submitUrl()"><md-icon md-font-set="material-icons">get_app</md-icon></md-button></div><div ng-show="vm.fieldModel.value.video" flex="flex" layout="row" layout-margin="layout-margin"><div flex="flex"><img ng-src="{{ vm.fieldModel.value.video.thumbnail.url }}"/></div><div flex="flex"><table><tr><td>Provider</td><td>{{vm.fieldModel.value.video.provider}}</td></tr><tr><td>URL</td><td><span>{{vm.fieldModel.value.url}}</span></td></tr><tr><td>Title</td><td>{{vm.fieldModel.value.video.title}}</td></tr><tr><td>Author</td><td>{{vm.fieldModel.value.video.user.name}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.value.video.width}}&times;{{vm.fieldModel.value.video.height}}</td></tr></table></div></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=function e(t,n,i,r,a){(0,o.default)(this,e);var s=this,l=void 0;try{l=a.getConfig().provider.vimeo.access_token}catch(t){}if(!l)return i.error("Required access_token for '"+s.fieldOptions.name+"' field is missing"),void(s.fieldDisabled=!0);s.embedlyRegex=/(https?:\/\/)?(www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|player\.vimeo\.com\/.*)/i;var c=/(?:https?:\/\/)?(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/;s.submitUrl=function(){t(function(){if(s.fieldModel.value&&s.fieldModel.value.url){var e=s.fieldModel.value.url.match(c)[3];n.get("https://api.vimeo.com/me/videos/"+e,{params:{access_token:l},headers:{Accept:"application/vnd.vimeo.*+json;version=3.2","X-Api-Token":void 0}}).then(function(t){var n=t.data;if(/pro/i.test(n.user.account))if(n.pictures){var i=n.pictures.sizes[n.pictures.sizes.length-1],o=new URL(i.link);if(n.files){var a=n.files.map(function(e){return{width:e.width?e.width:null,height:e.height?e.height:null,fileSize:e.size,mimeType:e.type,url:e.link_secure}}).sort(function(e,t){return e.width?e.width*e.height>t.width*t.height?-1:e.width*e.height<t.width*t.height?1:0:1});s.fieldModel.value.video={provider:"Vimeo",id:e,title:n.name,description:n.description,tags:n.tags,user:{id:n.user.uri.replace("/users/",""),name:n.user.name},duration:n.duration,width:n.width,height:n.height,thumbnail:{url:o.protocol+"//"+o.host+o.pathname,width:i.width,height:i.height},files:a}}else r.show(r.alert().title("Error").textContent("Files not found").ok("Close"))}else r.show(r.alert().title("Error").textContent("Thumbnail not found").ok("Close"));else r.show(r.alert().title("Error").textContent("Please upgrade to Vimeo Pro").ok("Close"))},function(e){r.show(r.alert().title("Error").textContent(e.data.error||"Please try again").ok("Close"))})}})}};a.$inject=["$timeout","$http","$log","$mdDialog","ConfigFactory"],t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(663)),a=i(n(666)),s=i(n(668)),l=r.default.module("action",[s.default.name]).config(function(){"ngInject"}).factory("ActionFactory",a.default).directive("action",o.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(664),o=(i=r)&&i.__esModule?i:{default:i};n(665),t.default=function(){"ngInject";return{restrict:"E",scope:{},controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e)}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(667),o=(i=r)&&i.__esModule?i:{default:i},a=function(e){"ngInject";var t={},n={registerAction:function(e,n){t[e]=new o.default(n)},action:function(e){return t[e]},actions:function(){return t}};return e.$action=n,n};a.$inject=["$rootScope"],t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(103)),o=i(n(2));t.default=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),this.name="Action Name",(0,r.default)(this,t)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(669)),a=i(n(673)),s=r.default.module("actionUrl",[]).config(function(){"ngInject"}).run(["ActionFactory","ActionUrlSettingsFactory",function(e,t){"ngInject";e.registerAction("url",{name:"URL",editSettings:t.edit})}]).factory("ActionUrlSettingsFactory",a.default).directive("actionUrl",o.default);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(670)),o=i(n(671));n(672),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports=""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.default=function e(){(0,o.default)(this,e)}},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(674)),l=function(e){"ngInject";var t,n=this,i={},l={url:""};return i.edit=(t=(0,o.default)(r.default.mark(function t(i,o){var c,u;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:s.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:a.default.merge({},l,i.settings)}},u=void 0,t.prev=2,t.next=5,e.show(c);case 5:u=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.abrupt("return",u);case 12:case"end":return t.stop()}},t,n,[[2,8]])})),function(e,n){return t.apply(this,arguments)}),i};l.$inject=["$mdDialog"],t.default=l},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate="novalidate" ng-cloak="ng-cloak"><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex="flex"></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>URL</label><input placeholder="URL (handlebars)" ng-model="vm.settings.url"/></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex="flex"></span><md-button ng-click="vm.cancel()">Close</md-button><md-button class="md-accent" ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(676)),s=i(n(680)),l=r.default.module("batchUpload",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("batchUpload",{url:"/batch-upload/{schemaSlug:[a-zA-Z0-9_-]{2,50}}/{fieldSlug:[a-zA-Z0-9_-]{2,50}}",views:{content:{template:"<batch-upload></batch-upload>"}},onEnter:["$state","BatchUploadFactory",function(e,t){}],data:{permissions:"entityCreate"}})}]).factory("BatchUploadFactory",s.default).directive("batchUpload",a.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(677)),o=i(n(678));n(679),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Batch Upload</h2><span flex="flex"></span><md-button ng-click="vm.cancel()" ng-disabled="vm.uploadComplete">Cancel</md-button><md-button ng-click="vm.continue()" ng-disabled="!vm.uploadComplete">Continue</md-button></div></md-toolbar><md-content><md-table-container><table md-table="md-table"><thead md-head="md-head"><tr md-row="md-row"><th md-column="md-column">Name</th><th md-column="md-column">Size</th><th md-column="md-column">Type</th><th md-column="md-column">Profile</th><th md-column="md-column">Progress</th><th md-column="md-column">Status</th></tr></thead><tbody md-body="md-body"><tr md-row="md-row" ng-repeat="file in vm.files"><td md-cell="md-cell">{{file.name}}</td><td md-cell="md-cell">{{file.size | fileSize}}</td><td md-cell="md-cell">{{file.file.type}}</td><td md-cell="md-cell"><span class="{{file._validProfile | crossCheck}}"></span></td><td md-cell="md-cell">{{file.progress() * 100 | toFixed: 0}}%</td><td md-cell="md-cell">{{file._status}}</td></tr></tbody></table></md-table-container></md-content>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=function e(t,n,i,r){(0,o.default)(this,e);var a=this;a.uploadComplete=!1,a.isUploading=r.isUploading(),a.files=r.uploader()?r.uploader().files:[],r.onComplete(function(e){e.files.filter(function(e){return"complete"!==e._status}).length||(a.uploadComplete=!0)}),a.cancel=function(){r.cancel()},a.continue=function(){n.go("entityGrid",{schemaSlug:i.schemaSlug})}};a.$inject=["$scope","$state","$stateParams","BatchUploadFactory"],t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(183)),s=i(n(188)),l=function(e,t,n,i,l){"ngInject";var c={},u={image:"jpg,jpeg,png,svg"},d=void 0,p=!1,h={start:[],progress:[],complete:[]};return c.onStart=function(e){return h.start.push(e)},c.onProgress=function(e){return h.progress.push(e)},c.onComplete=function(e){return h.complete.push(e)},c.init=function(t,n,m,f){h={start:[],progress:[],complete:[]},c.cancel(),p=!0;var g={slug:e.assetSlug},v=f.settings||{};"image"===f.type&&(g.resize={maxWidth:0===v.maxWidth?1/0:v.maxWidth||3e3,maxHeight:0===v.maxHeight?1/0:v.maxHeight||2e3,quality:95},v.dzi&&(g.dzi={size:256,overlap:0})),(d=new a.default({target:e.assistUrl+"/"+e.assetSlug+"/file/upload",query:{options:(0,r.default)(g)},headers:{Authorization:"Basic "+e.assistCredentials},initFileFn:function(e){if("image"===f.type&&!e._prepared){var t=e.file.name;/^(svg)$/i.test(e.getExtension())||(e.pause(),new s.default({maxWidth:g.resize.maxWidth,maxHeight:g.resize.maxHeight,quality:g.resize.quality}).loadImage(e.file).then(function(n){e._prepared=!0,e.file=n.blob,e.file.name=t,e.size=e.file.size,e.bootstrap(),!n.profile||n.profile&&"RGB"!==n.profile.colorSpace||n.profile&&"RGB"===n.profile.colorSpace&&!/sRGB/i.test(n.profile.description)?e._validProfile=!1:e._validProfile=!0,e._status="uploading",e.resume()}))}}})).on("fileAdded",function(e){var t=u[f.type].indexOf(e.getExtension())>-1;return t||i.show(i.alert().title("Upload Error").textContent(e.name+" is not a valid file type.").ok("Close")),e.valid=t,t}),d.on("fileSuccess",function(e,n){var i=JSON.parse(n),r=o.default.copy(t);if(r.fields[f.slug]||(r.fields[f.slug]={}),"image"===f.type){var a={width:i.metadata.width,height:i.metadata.height,format:i.metadata.format};r.fields[f.slug].value={file:i.file,original:i.original,dzi:i.metadata.dzi,metadata:a}}l.createEntity(m.slug,r).then(function(){e._status="complete",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];h.complete.forEach(function(e){return e.apply(void 0,t)})}(d,e,r)})}),d.on("uploadStart",function(){!function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];h.start.forEach(function(e){return e.apply(void 0,t)})}(d)}),d.on("complete",function(){}),d.on("progress",function(){!function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];h.progress.forEach(function(e){return e.apply(void 0,t)})}(d)}),d.on("error",function(e,t){t._status="error",i.show(i.alert().title("Upload Error").textContent(e).ok("Close"))}),n.forEach(function(e){d.addFile(e)}),d.upload()},c.cancel=function(){d&&(d.cancel(),d=null),p=!1},c.uploader=function(){return d},c.isUploading=function(){return p},c};l.$inject=["$rootScope","$document","$timeout","$mdDialog","EntityFactory"],t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(682)),s=r.default.module("tools",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("tools",{url:"/tools",views:{content:{template:"<tools></tools>"}},data:{permissions:"super"}})}]).directive("tools",a.default);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(683)),o=i(n(684));n(685),t.default=function(){"ngInject";return{restrict:"E",scope:{},template:r.default,controller:o.default,controllerAs:"vm",bindToController:!0}}},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button class="md-icon-button menu-toggle" hide-gt-md="hide-gt-md" ng-click="$root.toggleMainMenu()" aria-label="Toggle menu"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Tools</h2></div></md-toolbar><md-content><div flex="flex" layout="row" layout-margin="layout-margin"><md-button class="md-raised md-primary" href="{{ $root.apiUrl + \'/tools/export-db?apiToken=\' + $root.apiToken }}" target="_blank">Export Database</md-button></div><div flex="flex" layout="row" layout-margin="layout-margin"><form action="{{ $root.apiUrl + \'/tools/import-db?apiToken=\' + $root.apiToken }}" method="post" enctype="multipart/form-data"><label for="import-db"><md-button class="md-raised md-primary">Import Database</md-button></label><input id="import-db" name="payload" type="file" ace-file-change="vm.importDbSelected($event, files)"/></form></div></md-content>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=function e(t,n){(0,o.default)(this,e),this.importDbSelected=function(e,t){e.target.form.submit()}};a.$inject=["HelperFactory","appConfig"],t.default=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(687),o=(i=r)&&i.__esModule?i:{default:i};n(688),t.default=function(){return{template:o.default,restrict:"E"}}},function(e,t){e.exports='<md-sidenav class="md-sidenav-left" md-component-id="mainMenu" md-is-locked-open="$mdMedia(\'gt-md\')" md-whiteframe="4"><menu></menu></md-sidenav><section flex="flex" ui-view="content"></section>'},function(e,t){}],[207]);
//# sourceMappingURL=bundle.ce42d1478cdce367ea75.js.map