!function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var t={};__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=250)}([function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function hooks(){return t.apply(null,arguments)}function isArray(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function isObjectEmpty(e){var t;for(t in e)return!1;return!0}function isUndefined(e){return void 0===e}function isNumber(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function isDate(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function map(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function extend(e,t){for(var n in t)hasOwnProp(t,n)&&(e[n]=t[n]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,n,r){return createLocalOrUTC(e,t,n,r,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(e){return null==e._pf&&(e._pf=defaultParsingFlags()),e._pf}function isValid(e){if(null==e._isValid){var t=getParsingFlags(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function createInvalid(e){var t=createUTC(NaN);return null!=e?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}function copyConfig(e,t){var n,r,i;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),o.length>0)for(n=0;n<o.length;n++)r=o[n],i=t[r],isUndefined(i)||(e[r]=i);return e}function Moment(e){copyConfig(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===a&&(a=!0,hooks.updateOffset(this),a=!1)}function isMoment(e){return e instanceof Moment||null!=e&&null!=e._isAMomentObject}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=absFloor(t)),n}function compareArrays(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&toInt(e[r])!==toInt(t[r]))&&a++;return a+o}function warn(e){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var n=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,e),n){for(var r,i=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){r+="\n["+o+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];i.push(r)}warn(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}function deprecateSimple(e,t){null!=hooks.deprecationHandler&&hooks.deprecationHandler(e,t),s[e]||(warn(t),s[e]=!0)}function isFunction(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function set(e){var t,n;for(n in e)t=e[n],isFunction(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var n,r=extend({},e);for(n in t)hasOwnProp(t,n)&&(isObject(e[n])&&isObject(t[n])?(r[n]={},extend(r[n],e[n]),extend(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)hasOwnProp(e,n)&&!hasOwnProp(t,n)&&isObject(e[n])&&(r[n]=extend({},r[n]));return r}function Locale(e){null!=e&&this.set(e)}function calendar(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return isFunction(r)?r.call(t,n):r}function longDateFormat(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function invalidDate(){return this._invalidDate}function ordinal(e){return this._ordinal.replace("%d",e)}function relativeTime(e,t,n,r){var i=this._relativeTime[n];return isFunction(i)?i(e,t,n,r):i.replace(/%d/i,e)}function pastFuture(e,t){var n=this._relativeTime[e>0?"future":"past"];return isFunction(n)?n(t):n.replace(/%s/i,t)}function addUnitAlias(e,t){var n=e.toLowerCase();f[n]=f[n+"s"]=f[t]=e}function normalizeUnits(e){return"string"==typeof e?f[e]||f[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t,n,r={};for(n in e)hasOwnProp(e,n)&&(t=normalizeUnits(n))&&(r[t]=e[n]);return r}function addUnitPriority(e,t){g[e]=t}function getPrioritizedUnits(e){var t=[];for(var n in e)t.push({unit:n,priority:g[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function makeGetSet(e,t){return function(n){return null!=n?(set$1(this,e,n),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function set$1(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function stringGet(e){return e=normalizeUnits(e),isFunction(this[e])?this[e]():this}function stringSet(e,t){if("object"==typeof e){e=normalizeObjectUnits(e);for(var n=getPrioritizedUnits(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=normalizeUnits(e),isFunction(this[e]))return this[e](t);return this}function zeroFill(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function addFormatToken(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(b[e]=i),t&&(b[t[0]]=function(){return zeroFill(i.apply(this,arguments),t[1],t[2])}),n&&(b[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t,n,r=e.match(v);for(t=0,n=r.length;t<n;t++)b[r[t]]?r[t]=b[r[t]]:r[t]=removeFormattingTokens(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=isFunction(r[i])?r[i].call(t,e):r[i];return o}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),_[t]=_[t]||makeFormatFunction(t),_[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){function replaceLongDateFormatTokens(e){return t.longDateFormat(e)||e}var n=5;for(y.lastIndex=0;n>=0&&y.test(e);)e=e.replace(y,replaceLongDateFormatTokens),y.lastIndex=0,n-=1;return e}function addRegexToken(e,t,n){N[e]=isFunction(t)?t:function(e,r){return e&&n?n:t}}function getParseRegexForToken(e,t){return hasOwnProp(N,e)?N[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),isNumber(t)&&(r=function(e,n){n[t]=toInt(e)}),n=0;n<e.length;n++)H[e[n]]=r}function addWeekParseToken(e,t){addParseToken(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function addTimeToArrayFromToken(e,t,n){null!=t&&hasOwnProp(H,e)&&H[e](t,n._a,n,e)}function daysInMonth(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function localeMonths(e,t){return e?isArray(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||X).test(t)?"format":"standalone"][e.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(e,t){return e?isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[X.test(t)?"format":"standalone"][e.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=createUTC([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=K.call(this._shortMonthsParse,a),-1!==i?i:null):(i=K.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=K.call(this._shortMonthsParse,a))?i:(i=K.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=K.call(this._longMonthsParse,a))?i:(i=K.call(this._shortMonthsParse,a),-1!==i?i:null)}function localeMonthsParse(e,t,n){var r,i,o;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=createUTC([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function setMonth(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=toInt(t);else if(t=e.localeData().monthsParse(t),!isNumber(t))return e;return n=Math.min(e.date(),daysInMonth(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function getSetMonth(e){return null!=e?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=Q),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=ee),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,n=[],r=[],i=[];for(e=0;e<12;e++)t=createUTC([2e3,e]),n.push(this.monthsShort(t,"")),r.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(cmpLenRev),r.sort(cmpLenRev),i.sort(cmpLenRev),e=0;e<12;e++)n[e]=regexEscape(n[e]),r[e]=regexEscape(r[e]);for(e=0;e<24;e++)i[e]=regexEscape(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function daysInYear(e){return isLeapYear(e)?366:365}function isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}function getIsLeapYear(){return isLeapYear(this.year())}function createDate(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function createUTCDate(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function firstWeekOffset(e,t,n){var r=7+t-n;return-(7+createUTCDate(e,0,r).getUTCDay()-t)%7+r-1}function dayOfYearFromWeeks(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=firstWeekOffset(e,r,i),c=1+7*(t-1)+s+l;return c<=0?(o=e-1,a=daysInYear(o)+c):c>daysInYear(e)?(o=e+1,a=c-daysInYear(e)):(o=e,a=c),{year:o,dayOfYear:a}}function weekOfYear(e,t,n){var r,i,o=firstWeekOffset(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+weeksInYear(i,t,n)):a>weeksInYear(e.year(),t,n)?(r=a-weeksInYear(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function weeksInYear(e,t,n){var r=firstWeekOffset(e,t,n),i=firstWeekOffset(e+1,t,n);return(daysInYear(e)-r+i)/7}function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function parseWeekday(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function parseIsoWeekday(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function localeWeekdays(e,t){return e?isArray(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone}function localeWeekdaysShort(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function localeWeekdaysMin(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=createUTC([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=K.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=K.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=K.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=K.call(this._weekdaysParse,a))?i:-1!==(i=K.call(this._shortWeekdaysParse,a))?i:(i=K.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=K.call(this._shortWeekdaysParse,a))?i:-1!==(i=K.call(this._weekdaysParse,a))?i:(i=K.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=K.call(this._minWeekdaysParse,a))?i:-1!==(i=K.call(this._weekdaysParse,a))?i:(i=K.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function localeWeekdaysParse(e,t,n){var r,i,o;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=createUTC([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function getSetDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=ae),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=se),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=le),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,n,r,i,o=[],a=[],s=[],l=[];for(e=0;e<7;e++)t=createUTC([2e3,1]).day(e),n=this.weekdaysMin(t,""),r=this.weekdaysShort(t,""),i=this.weekdays(t,""),o.push(n),a.push(r),s.push(i),l.push(n),l.push(r),l.push(i);for(o.sort(cmpLenRev),a.sort(cmpLenRev),s.sort(cmpLenRev),l.sort(cmpLenRev),e=0;e<7;e++)a[e]=regexEscape(a[e]),s[e]=regexEscape(s[e]),l[e]=regexEscape(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(e){return"p"===(e+"").toLowerCase().charAt(0)}function localeMeridiem(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function chooseLocale(e){for(var t,n,r,i,o=0;o<e.length;){for(i=normalizeLocale(e[o]).split("-"),t=i.length,n=normalizeLocale(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=loadLocale(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&compareArrays(i,n,!0)>=t-1)break;t--}o++}return null}function loadLocale(t){var r=null;if(!pe[t]&&void 0!==e&&e&&e.exports)try{r=ce._abbr,n(296)("./"+t),getSetGlobalLocale(r)}catch(e){}return pe[t]}function getSetGlobalLocale(e,t){var n;return e&&(n=isUndefined(t)?getLocale(e):defineLocale(e,t))&&(ce=n),ce._abbr}function defineLocale(e,t){if(null!==t){var n=he;if(t.abbr=e,null!=pe[e])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=pe[e]._config;else if(null!=t.parentLocale){if(null==pe[t.parentLocale])return me[t.parentLocale]||(me[t.parentLocale]=[]),me[t.parentLocale].push({name:e,config:t}),null;n=pe[t.parentLocale]._config}return pe[e]=new Locale(mergeConfigs(n,t)),me[e]&&me[e].forEach(function(e){defineLocale(e.name,e.config)}),getSetGlobalLocale(e),pe[e]}return delete pe[e],null}function updateLocale(e,t){if(null!=t){var n,r=he;null!=pe[e]&&(r=pe[e]._config),t=mergeConfigs(r,t),n=new Locale(t),n.parentLocale=pe[e],pe[e]=n,getSetGlobalLocale(e)}else null!=pe[e]&&(null!=pe[e].parentLocale?pe[e]=pe[e].parentLocale:null!=pe[e]&&delete pe[e]);return pe[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ce;if(!isArray(e)){if(t=loadLocale(e))return t;e=[e]}return chooseLocale(e)}function listLocales(){return u(pe)}function checkOverflow(e){var t,n=e._a;return n&&-2===getParsingFlags(e).overflow&&(t=n[B]<0||n[B]>11?B:n[V]<1||n[V]>daysInMonth(n[j],n[B])?V:n[Y]<0||n[Y]>24||24===n[Y]&&(0!==n[z]||0!==n[q]||0!==n[U])?Y:n[z]<0||n[z]>59?z:n[q]<0||n[q]>59?q:n[U]<0||n[U]>999?U:-1,getParsingFlags(e)._overflowDayOfYear&&(t<j||t>V)&&(t=V),getParsingFlags(e)._overflowWeeks&&-1===t&&(t=G),getParsingFlags(e)._overflowWeekday&&-1===t&&(t=W),getParsingFlags(e).overflow=t),e}function configFromISO(e){var t,n,r,i,o,a,s=e._i,l=fe.exec(s)||ge.exec(s);if(l){for(getParsingFlags(e).iso=!0,t=0,n=ye.length;t<n;t++)if(ye[t][1].exec(l[1])){i=ye[t][0],r=!1!==ye[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=_e.length;t<n;t++)if(_e[t][1].exec(l[3])){o=(l[2]||" ")+_e[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ve.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),configFromStringAndFormat(e)}else e._isValid=!1}function configFromRFC2822(e){var t,n,r,i,o,a,s,l,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},u="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=we.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var d=new Date(n[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][d.getDay()];if(n[1].substr(0,3)!==h)return getParsingFlags(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":(l=u.indexOf(n[5][1].toUpperCase())-12,s=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=c[n[5]];break;default:s=c[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),a=" ZZ",e._f=r+i+o+a,configFromStringAndFormat(e),getParsingFlags(e).rfc2822=!0}else e._isValid=!1}function configFromString(e){var t=be.exec(e._i);if(null!==t)return void(e._d=new Date(+t[1]));configFromISO(e),!1===e._isValid&&(delete e._isValid,configFromRFC2822(e),!1===e._isValid&&(delete e._isValid,hooks.createFromInputFallback(e)))}function defaults(e,t,n){return null!=e?e:null!=t?t:n}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,n,r,i,o=[];if(!e._d){for(r=currentDateArray(e),e._w&&null==e._a[V]&&null==e._a[B]&&dayOfYearFromWeekInfo(e),null!=e._dayOfYear&&(i=defaults(e._a[j],r[j]),(e._dayOfYear>daysInYear(i)||0===e._dayOfYear)&&(getParsingFlags(e)._overflowDayOfYear=!0),n=createUTCDate(i,0,e._dayOfYear),e._a[B]=n.getUTCMonth(),e._a[V]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Y]&&0===e._a[z]&&0===e._a[q]&&0===e._a[U]&&(e._nextDay=!0,e._a[Y]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Y]=24)}}function dayOfYearFromWeekInfo(e){var t,n,r,i,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=defaults(t.GG,e._a[j],weekOfYear(createLocal(),1,4).year),r=defaults(t.W,1),((i=defaults(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=weekOfYear(createLocal(),o,a);n=defaults(t.gg,e._a[j],c.year),r=defaults(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>weeksInYear(n,o,a)?getParsingFlags(e)._overflowWeeks=!0:null!=l?getParsingFlags(e)._overflowWeekday=!0:(s=dayOfYearFromWeeks(n,r,i,o,a),e._a[j]=s.year,e._dayOfYear=s.dayOfYear)}function configFromStringAndFormat(e){if(e._f===hooks.ISO_8601)return void configFromISO(e);if(e._f===hooks.RFC_2822)return void configFromRFC2822(e);e._a=[],getParsingFlags(e).empty=!0;var t,n,r,i,o,a=""+e._i,s=a.length,l=0;for(r=expandFormat(e._f,e._locale).match(v)||[],t=0;t<r.length;t++)i=r[t],n=(a.match(getParseRegexForToken(i,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&getParsingFlags(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),b[i]?(n?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(i),addTimeToArrayFromToken(i,n,e)):e._strict&&!n&&getParsingFlags(e).unusedTokens.push(i);getParsingFlags(e).charsLeftOver=s-l,a.length>0&&getParsingFlags(e).unusedInput.push(a),e._a[Y]<=12&&!0===getParsingFlags(e).bigHour&&e._a[Y]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[Y]=meridiemFixWrap(e._locale,e._a[Y],e._meridiem),configFromArray(e),checkOverflow(e)}function meridiemFixWrap(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function configFromStringAndArray(e){var t,n,r,i,o;if(0===e._f.length)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],configFromStringAndFormat(t),isValid(t)&&(o+=getParsingFlags(t).charsLeftOver,o+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=o,(null==r||o<r)&&(r=o,n=t));extend(e,n||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i);e._a=map([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,n=e._f;return e._locale=e._locale||getLocale(e._l),null===t||void 0===n&&""===t?createInvalid({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isDate(t)?e._d=t:isArray(n)?configFromStringAndArray(e):n?configFromStringAndFormat(e):configFromInput(e),isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;isUndefined(t)?e._d=new Date(hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):"string"==typeof t?configFromString(e):isArray(t)?(e._a=map(t.slice(0),function(e){return parseInt(e,10)}),configFromArray(e)):isObject(t)?configFromObject(e):isNumber(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,n,r,i){var o={};return!0!==n&&!1!==n||(r=n,n=void 0),(isObject(e)&&isObjectEmpty(e)||isArray(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,createFromConfig(o)}function createLocal(e,t,n,r){return createLocalOrUTC(e,t,n,r,!1)}function pickBy(e,t){var n,r;if(1===t.length&&isArray(t[0])&&(t=t[0]),!t.length)return createLocal();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function min(){return pickBy("isBefore",[].slice.call(arguments,0))}function max(){return pickBy("isAfter",[].slice.call(arguments,0))}function isDurationValid(e){for(var t in e)if(-1===Ee.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Ee.length;++r)if(e[Ee[r]]){if(n)return!1;parseFloat(e[Ee[r]])!==toInt(e[Ee[r]])&&(n=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(e){var t=normalizeObjectUnits(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=isDurationValid(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function offset(e,t){addFormatToken(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+zeroFill(~~(e/60),2)+t+zeroFill(~~e%60,2)})}function offsetFromString(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Te)||["-",0,0],o=60*i[1]+toInt(i[2]);return 0===o?0:"+"===i[0]?o:-o}function cloneWithOffset(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),hooks.updateOffset(n,!1),n):createLocal(e).local()}function getDateOffset(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function getSetOffset(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=offsetFromString(O,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=getDateOffset(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:getDateOffset(this)}function getSetZone(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=offsetFromString(R,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(e){return!!this.isValid()&&(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={};if(copyConfig(e,this),e=prepareConfig(e),e._a){var t=e._isUTC?createUTC(e._a):createLocal(e._a);this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function createDuration(e,t){var n,r,i,o=e,a=null;return isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:isNumber(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Me.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:toInt(a[V])*n,h:toInt(a[Y])*n,m:toInt(a[z])*n,s:toInt(a[q])*n,ms:toInt(absRound(1e3*a[U]))*n}):(a=ke.exec(e))?(n="-"===a[1]?-1:1,o={y:parseIso(a[2],n),M:parseIso(a[3],n),w:parseIso(a[4],n),d:parseIso(a[5],n),h:parseIso(a[6],n),m:parseIso(a[7],n),s:parseIso(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=momentsDifference(createLocal(o.from),createLocal(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Duration(o),isDuration(e)&&hasOwnProp(e,"_locale")&&(r._locale=e._locale),r}function parseIso(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function positiveMomentsDifference(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function momentsDifference(e,t){var n;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?n=positiveMomentsDifference(e,t):(n=positiveMomentsDifference(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function createAdder(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=createDuration(n,r),addSubtract(this,i,e),this}}function addSubtract(e,t,n,r){var i=t._milliseconds,o=absRound(t._days),a=absRound(t._months);e.isValid()&&(r=null==r||r,i&&e._d.setTime(e._d.valueOf()+i*n),o&&set$1(e,"Date",get(e,"Date")+o*n),a&&setMonth(e,get(e,"Month")+a*n),r&&hooks.updateOffset(e,o||a))}function getCalendarFormat(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function calendar$1(e,t){var n=e||createLocal(),r=cloneWithOffset(n,this).startOf("day"),i=hooks.calendarFormat(this,r)||"sameElse",o=t&&(isFunction(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,createLocal(n)))}function clone(){return new Moment(this)}function isAfter(e,t){var n=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!n.isValid())&&(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function isBefore(e,t){var n=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!n.isValid())&&(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function isBetween(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function isSame(e,t){var n,r=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!r.isValid())&&(t=normalizeUnits(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,n){var r,i,o,a;return this.isValid()?(r=cloneWithOffset(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=normalizeUnits(t),"year"===t||"month"===t||"quarter"===t?(a=monthDiff(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:absFloor(a)):NaN):NaN}function monthDiff(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?formatMoment(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function format(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return void 0===e?this._locale._abbr:(t=getLocale(e),null!=t&&(this._locale=t),this)}function localeData(){return this._locale}function startOf(e){switch(e=normalizeUnits(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function endOf(e){return void 0===(e=normalizeUnits(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,n,r,i){var o;return null==e?weekOfYear(this,r,i).year:(o=weeksInYear(e,r,i),t>o&&(t=o),setWeekAll.call(this,e,t,n,r,i))}function setWeekAll(e,t,n,r,i){var o=dayOfYearFromWeeks(e,t,n,r,i),a=createUTCDate(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function getSetQuarter(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function parseMs(e,t){t[U]=toInt(1e3*("0."+e))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function createUnix(e){return createLocal(1e3*e)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}function get$1(e,t,n,r){var i=getLocale(),o=createUTC().set(r,t);return i[n](o,e)}function listMonthsImpl(e,t,n){if(isNumber(e)&&(t=e,e=void 0),e=e||"",null!=t)return get$1(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=get$1(e,r,n,"month");return i}function listWeekdaysImpl(e,t,n,r){"boolean"==typeof e?(isNumber(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,isNumber(t)&&(n=t,t=void 0),t=t||"");var i=getLocale(),o=e?i._week.dow:0;if(null!=n)return get$1(t,(n+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=get$1(t,(a+o)%7,r,"day");return s}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,n){return listWeekdaysImpl(e,t,n,"weekdays")}function listWeekdaysShort(e,t,n){return listWeekdaysImpl(e,t,n,"weekdaysShort")}function listWeekdaysMin(e,t,n){return listWeekdaysImpl(e,t,n,"weekdaysMin")}function abs(){var e=this._data;return this._milliseconds=He(this._milliseconds),this._days=He(this._days),this._months=He(this._months),e.milliseconds=He(e.milliseconds),e.seconds=He(e.seconds),e.minutes=He(e.minutes),e.hours=He(e.hours),e.months=He(e.months),e.years=He(e.years),this}function addSubtract$1(e,t,n,r){var i=createDuration(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*absCeil(monthsToDays(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=absFloor(o/1e3),l.seconds=e%60,t=absFloor(e/60),l.minutes=t%60,n=absFloor(t/60),l.hours=n%24,a+=absFloor(n/24),i=absFloor(daysToMonths(a)),s+=i,a-=absCeil(monthsToDays(i)),r=absFloor(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function daysToMonths(e){return 4800*e/146097}function monthsToDays(e){return 146097*e/4800}function as(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=normalizeUnits(e))||"year"===e)return t=this._days+r/864e5,n=this._months+daysToMonths(t),"month"===e?n:n/12;switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function valueOf$1(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN}function makeAs(e){return function(){return this.as(e)}}function get$2(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN}function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function relativeTime$1(e,t,n){var r=createDuration(e).abs(),i=tt(r.as("s")),o=tt(r.as("m")),a=tt(r.as("h")),s=tt(r.as("d")),l=tt(r.as("M")),c=tt(r.as("y")),u=i<=nt.ss&&["s",i]||i<nt.s&&["ss",i]||o<=1&&["m"]||o<nt.m&&["mm",o]||a<=1&&["h"]||a<nt.h&&["hh",a]||s<=1&&["d"]||s<nt.d&&["dd",s]||l<=1&&["M"]||l<nt.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,substituteTimeAgo.apply(null,u)}function getSetRelativeTimeRounding(e){return void 0===e?tt:"function"==typeof e&&(tt=e,!0)}function getSetRelativeTimeThreshold(e,t){return void 0!==nt[e]&&(void 0===t?nt[e]:(nt[e]=t,"s"===e&&(nt.ss=t-1),!0))}function humanize(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=relativeTime$1(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=rt(this._milliseconds)/1e3,i=rt(this._days),o=rt(this._months);e=absFloor(r/60),t=absFloor(e/60),r%=60,e%=60,n=absFloor(o/12),o%=12;var a=n,s=o,l=i,c=t,u=e,d=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var t,r;r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var i=r,o=hooks.momentProperties=[],a=!1,s={};hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var l;l=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)hasOwnProp(e,t)&&n.push(t);return n};var c,u=l,d={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},p=/\d{1,2}/,m={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},f={},g={},v=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_={},b={},w=/\d/,x=/\d\d/,S=/\d{3}/,C=/\d{4}/,E=/[+-]?\d{6}/,T=/\d\d?/,M=/\d\d\d\d?/,k=/\d\d\d\d\d\d?/,A=/\d{1,3}/,D=/\d{1,4}/,$=/[+-]?\d{1,6}/,P=/\d+/,L=/[+-]?\d+/,R=/Z|[+-]\d\d:?\d\d/gi,O=/Z|[+-]\d\d(?::?\d\d)?/gi,I=/[+-]?\d+(\.\d{1,3})?/,F=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,N={},H={},j=0,B=1,V=2,Y=3,z=4,q=5,U=6,G=7,W=8;c=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var K=c;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",T),addRegexToken("MM",T,x),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[B]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[B]=i:getParsingFlags(n).invalidMonth=e});var X=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,J="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Z="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Q=F,ee=F;addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",L),addRegexToken("YY",T,x),addRegexToken("YYYY",D,C),addRegexToken("YYYYY",$,E),addRegexToken("YYYYYY",$,E),addParseToken(["YYYYY","YYYYYY"],j),addParseToken("YYYY",function(e,t){t[j]=2===e.length?hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[j]=hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[j]=parseInt(e,10)}),hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var te=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",T),addRegexToken("ww",T,x),addRegexToken("W",T),addRegexToken("WW",T,x),addWeekParseToken(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=toInt(e)});var ne={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",T),addRegexToken("e",T),addRegexToken("E",T),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:getParsingFlags(n).invalidWeekday=e}),addWeekParseToken(["d","e","E"],function(e,t,n,r){t[r]=toInt(e)});var re="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ie="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ae=F,se=F,le=F;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",T),addRegexToken("h",T),addRegexToken("k",T),addRegexToken("HH",T,x),addRegexToken("hh",T,x),addRegexToken("kk",T,x),addRegexToken("hmm",M),addRegexToken("hmmss",k),addRegexToken("Hmm",M),addRegexToken("Hmmss",k),addParseToken(["H","HH"],Y),addParseToken(["k","kk"],function(e,t,n){var r=toInt(e);t[Y]=24===r?0:r}),addParseToken(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),addParseToken(["h","hh"],function(e,t,n){t[Y]=toInt(e),getParsingFlags(n).bigHour=!0}),addParseToken("hmm",function(e,t,n){var r=e.length-2;t[Y]=toInt(e.substr(0,r)),t[z]=toInt(e.substr(r)),getParsingFlags(n).bigHour=!0}),addParseToken("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Y]=toInt(e.substr(0,r)),t[z]=toInt(e.substr(r,2)),t[q]=toInt(e.substr(i)),getParsingFlags(n).bigHour=!0}),addParseToken("Hmm",function(e,t,n){var r=e.length-2;t[Y]=toInt(e.substr(0,r)),t[z]=toInt(e.substr(r))}),addParseToken("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Y]=toInt(e.substr(0,r)),t[z]=toInt(e.substr(r,2)),t[q]=toInt(e.substr(i))});var ce,ue=/[ap]\.?m?\.?/i,de=makeGetSet("Hours",!0),he={calendar:d,longDateFormat:h,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:p,relativeTime:m,months:J,monthsShort:Z,week:ne,weekdays:re,weekdaysMin:oe,weekdaysShort:ie,meridiemParse:ue},pe={},me={},fe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/Z|[+-]\d\d(?::?\d\d)?/,ye=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_e=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],be=/^\/?Date\((\-?\d+)/i,we=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var xe=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),Se=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()}),Ce=function(){return Date.now?Date.now():+new Date},Ee=["year","quarter","month","week","day","hour","minute","second","millisecond"];offset("Z",":"),offset("ZZ",""),addRegexToken("Z",O),addRegexToken("ZZ",O),addParseToken(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=offsetFromString(O,e)});var Te=/([\+\-]|\d\d)/gi;hooks.updateOffset=function(){};var Me=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ke=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var Ae=createAdder(1,"add"),De=createAdder(-1,"subtract");hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $e=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",L),addRegexToken("g",L),addRegexToken("GG",T,x),addRegexToken("gg",T,x),addRegexToken("GGGG",D,C),addRegexToken("gggg",D,C),addRegexToken("GGGGG",$,E),addRegexToken("ggggg",$,E),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,n,r){t[r]=hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",w),addParseToken("Q",function(e,t){t[B]=3*(toInt(e)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",T),addRegexToken("DD",T,x),addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],V),addParseToken("Do",function(e,t){t[V]=toInt(e.match(T)[0],10)});var Pe=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",A),addRegexToken("DDDD",S),addParseToken(["DDD","DDDD"],function(e,t,n){n._dayOfYear=toInt(e)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",T),addRegexToken("mm",T,x),addParseToken(["m","mm"],z);var Le=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",T),addRegexToken("ss",T,x),addParseToken(["s","ss"],q);var Re=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",A,w),addRegexToken("SS",A,x),addRegexToken("SSS",A,S);var Oe;for(Oe="SSSS";Oe.length<=9;Oe+="S")addRegexToken(Oe,P);for(Oe="S";Oe.length<=9;Oe+="S")addParseToken(Oe,parseMs);var Ie=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var Fe=Moment.prototype;Fe.add=Ae,Fe.calendar=calendar$1,Fe.clone=clone,Fe.diff=diff,Fe.endOf=endOf,Fe.format=format,Fe.from=from,Fe.fromNow=fromNow,Fe.to=to,Fe.toNow=toNow,Fe.get=stringGet,Fe.invalidAt=invalidAt,Fe.isAfter=isAfter,Fe.isBefore=isBefore,Fe.isBetween=isBetween,Fe.isSame=isSame,Fe.isSameOrAfter=isSameOrAfter,Fe.isSameOrBefore=isSameOrBefore,Fe.isValid=isValid$2,Fe.lang=$e,Fe.locale=locale,Fe.localeData=localeData,Fe.max=Se,Fe.min=xe,Fe.parsingFlags=parsingFlags,Fe.set=stringSet,Fe.startOf=startOf,Fe.subtract=De,Fe.toArray=toArray,Fe.toObject=toObject,Fe.toDate=toDate,Fe.toISOString=toISOString,Fe.inspect=inspect,Fe.toJSON=toJSON,Fe.toString=toString,Fe.unix=unix,Fe.valueOf=valueOf,Fe.creationData=creationData,Fe.year=te,Fe.isLeapYear=getIsLeapYear,Fe.weekYear=getSetWeekYear,Fe.isoWeekYear=getSetISOWeekYear,Fe.quarter=Fe.quarters=getSetQuarter,Fe.month=getSetMonth,Fe.daysInMonth=getDaysInMonth,Fe.week=Fe.weeks=getSetWeek,Fe.isoWeek=Fe.isoWeeks=getSetISOWeek,Fe.weeksInYear=getWeeksInYear,Fe.isoWeeksInYear=getISOWeeksInYear,Fe.date=Pe,Fe.day=Fe.days=getSetDayOfWeek,Fe.weekday=getSetLocaleDayOfWeek,Fe.isoWeekday=getSetISODayOfWeek,Fe.dayOfYear=getSetDayOfYear,Fe.hour=Fe.hours=de,Fe.minute=Fe.minutes=Le,Fe.second=Fe.seconds=Re,Fe.millisecond=Fe.milliseconds=Ie,Fe.utcOffset=getSetOffset,Fe.utc=setOffsetToUTC,Fe.local=setOffsetToLocal,Fe.parseZone=setOffsetToParsedOffset,Fe.hasAlignedHourOffset=hasAlignedHourOffset,Fe.isDST=isDaylightSavingTime,Fe.isLocal=isLocal,Fe.isUtcOffset=isUtcOffset,Fe.isUtc=isUtc,Fe.isUTC=isUtc,Fe.zoneAbbr=getZoneAbbr,Fe.zoneName=getZoneName,Fe.dates=deprecate("dates accessor is deprecated. Use date instead.",Pe),Fe.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),Fe.years=deprecate("years accessor is deprecated. Use year instead",te),Fe.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),Fe.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var Ne=Locale.prototype;Ne.calendar=calendar,Ne.longDateFormat=longDateFormat,Ne.invalidDate=invalidDate,Ne.ordinal=ordinal,Ne.preparse=preParsePostFormat,Ne.postformat=preParsePostFormat,Ne.relativeTime=relativeTime,Ne.pastFuture=pastFuture,Ne.set=set,Ne.months=localeMonths,Ne.monthsShort=localeMonthsShort,Ne.monthsParse=localeMonthsParse,Ne.monthsRegex=monthsRegex,Ne.monthsShortRegex=monthsShortRegex,Ne.week=localeWeek,Ne.firstDayOfYear=localeFirstDayOfYear,Ne.firstDayOfWeek=localeFirstDayOfWeek,Ne.weekdays=localeWeekdays,Ne.weekdaysMin=localeWeekdaysMin,Ne.weekdaysShort=localeWeekdaysShort,Ne.weekdaysParse=localeWeekdaysParse,Ne.weekdaysRegex=weekdaysRegex,Ne.weekdaysShortRegex=weekdaysShortRegex,Ne.weekdaysMinRegex=weekdaysMinRegex,Ne.isPM=localeIsPM,Ne.meridiem=localeMeridiem,getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===toInt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var He=Math.abs,je=makeAs("ms"),Be=makeAs("s"),Ve=makeAs("m"),Ye=makeAs("h"),ze=makeAs("d"),qe=makeAs("w"),Ue=makeAs("M"),Ge=makeAs("y"),We=makeGetter("milliseconds"),Ke=makeGetter("seconds"),Xe=makeGetter("minutes"),Je=makeGetter("hours"),Ze=makeGetter("days"),Qe=makeGetter("months"),et=makeGetter("years"),tt=Math.round,nt={ss:44,s:45,m:45,h:22,d:26,M:11},rt=Math.abs,it=Duration.prototype;return it.isValid=isValid$1,it.abs=abs,it.add=add$1,it.subtract=subtract$1,it.as=as,it.asMilliseconds=je,it.asSeconds=Be,it.asMinutes=Ve,it.asHours=Ye,it.asDays=ze,it.asWeeks=qe,it.asMonths=Ue,it.asYears=Ge,it.valueOf=valueOf$1,it._bubble=bubble,it.get=get$2,it.milliseconds=We,it.seconds=Ke,it.minutes=Xe,it.hours=Je,it.days=Ze,it.weeks=weeks,it.months=Qe,it.years=et,it.humanize=humanize,it.toISOString=toISOString$1,it.toString=toISOString$1,it.toJSON=toISOString$1,it.locale=locale,it.localeData=localeData,it.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),it.lang=$e,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",L),addRegexToken("X",I),addParseToken("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),addParseToken("x",function(e,t,n){n._d=new Date(toInt(e))}),hooks.version="2.18.1",function(e){t=e}(createLocal),hooks.fn=Fe,hooks.min=min,hooks.max=max,hooks.now=Ce,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=Fe,hooks})}).call(t,n(17)(e))},function(e,t,n){n(286),e.exports=angular},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){(function(e,r){var i;(function(){function addMapEntry(e,t){return e.set(t[0],t[1]),e}function addSetEntry(e,t){return e.add(t),e}function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function arrayAggregator(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function arrayEachRight(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function arrayEvery(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function arrayFilter(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function arrayIncludes(e,t){return!!(null==e?0:e.length)&&baseIndexOf(e,t,0)>-1}function arrayIncludesWith(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function arrayPush(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function arrayReduce(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function arrayReduceRight(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function arraySome(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function asciiToArray(e){return e.split("")}function asciiWords(e){return e.match(Be)||[]}function baseFindKey(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function baseFindIndex(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function baseIndexOf(e,t,n){return t===t?strictIndexOf(e,t,n):baseFindIndex(e,baseIsNaN,n)}function baseIndexOfWith(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function baseIsNaN(e){return e!==e}function baseMean(e,t){var n=null==e?0:e.length;return n?baseSum(e,t)/n:I}function baseProperty(e){return function(t){return null==t?o:t[e]}}function basePropertyOf(e){return function(t){return null==e?o:e[t]}}function baseReduce(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function baseSortBy(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function baseSum(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function baseToPairs(e,t){return arrayMap(t,function(t){return[t,e[t]]})}function baseUnary(e){return function(t){return e(t)}}function baseValues(e,t){return arrayMap(t,function(t){return e[t]})}function cacheHas(e,t){return e.has(t)}function charsStartIndex(e,t){for(var n=-1,r=e.length;++n<r&&baseIndexOf(t,e[n],0)>-1;);return n}function charsEndIndex(e,t){for(var n=e.length;n--&&baseIndexOf(t,e[n],0)>-1;);return n}function countHolders(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function escapeStringChar(e){return"\\"+kt[e]}function getValue(e,t){return null==e?o:e[t]}function hasUnicode(e){return _t.test(e)}function hasUnicodeWord(e){return bt.test(e)}function iteratorToArray(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function overArg(e,t){return function(n){return e(t(n))}}function replaceHolders(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==d||(e[n]=d,o[i++]=n)}return o}function setToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function setToPairs(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function strictIndexOf(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function strictLastIndexOf(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function stringSize(e){return hasUnicode(e)?unicodeSize(e):qt(e)}function stringToArray(e){return hasUnicode(e)?unicodeToArray(e):asciiToArray(e)}function unicodeSize(e){for(var t=vt.lastIndex=0;vt.test(e);)++t;return t}function unicodeToArray(e){return e.match(vt)||[]}function unicodeWords(e){return e.match(yt)||[]}var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",h=1,p=2,m=4,f=1,g=2,v=1,y=2,_=4,b=8,w=16,x=32,S=64,C=128,E=256,T=512,M=30,k="...",A=800,D=16,$=1,P=2,L=1/0,R=9007199254740991,O=1.7976931348623157e308,I=NaN,F=4294967295,N=F-1,H=F>>>1,j=[["ary",C],["bind",v],["bindKey",y],["curry",b],["curryRight",w],["flip",T],["partial",x],["partialRight",S],["rearg",E]],B="[object Arguments]",V="[object Array]",Y="[object AsyncFunction]",z="[object Boolean]",q="[object Date]",U="[object DOMException]",G="[object Error]",W="[object Function]",K="[object GeneratorFunction]",X="[object Map]",J="[object Number]",Z="[object Null]",Q="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",le="[object ArrayBuffer]",ce="[object DataView]",ue="[object Float32Array]",de="[object Float64Array]",he="[object Int8Array]",pe="[object Int16Array]",me="[object Int32Array]",fe="[object Uint8Array]",ge="[object Uint8ClampedArray]",ve="[object Uint16Array]",ye="[object Uint32Array]",_e=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Ce=RegExp(xe.source),Ee=RegExp(Se.source),Te=/<%-([\s\S]+?)%>/g,Me=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,$e=/^\./,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Le.source),Oe=/^\s+|\s+$/g,Ie=/^\s+/,Fe=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/\\(\\)?/g,Ye=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,Ge=/^\[object .+?Constructor\]$/,We=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tt="["+et+"]",nt="["+Qe+"]",rt="[a-z\\xdf-\\xf6\\xf8-\\xff]",it="[^\\ud800-\\udfff"+et+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ot="\\ud83c[\\udffb-\\udfff]",at="(?:\\ud83c[\\udde6-\\uddff]){2}",st="[\\ud800-\\udbff][\\udc00-\\udfff]",lt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ct="(?:"+rt+"|"+it+")",ut="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",dt="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",at,st].join("|")+")[\\ufe0e\\ufe0f]?"+ut+")*",ht="[\\ufe0e\\ufe0f]?"+ut+dt,pt="(?:"+["[\\u2700-\\u27bf]",at,st].join("|")+")"+ht,mt="(?:"+["[^\\ud800-\\udfff]"+nt+"?",nt,at,st,"[\\ud800-\\udfff]"].join("|")+")",ft=RegExp("['’]","g"),gt=RegExp(nt,"g"),vt=RegExp(ot+"(?="+ot+")|"+mt+ht,"g"),yt=RegExp([lt+"?"+rt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,lt,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,lt+ct,"$"].join("|")+")",lt+"?"+ct+"+(?:['’](?:d|ll|m|re|s|t|ve))?",lt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",pt].join("|"),"g"),_t=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),bt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt=-1,St={};St[ue]=St[de]=St[he]=St[pe]=St[me]=St[fe]=St[ge]=St[ve]=St[ye]=!0,St[B]=St[V]=St[le]=St[z]=St[ce]=St[q]=St[G]=St[W]=St[X]=St[J]=St[Q]=St[te]=St[ne]=St[re]=St[ae]=!1;var Ct={};Ct[B]=Ct[V]=Ct[le]=Ct[ce]=Ct[z]=Ct[q]=Ct[ue]=Ct[de]=Ct[he]=Ct[pe]=Ct[me]=Ct[X]=Ct[J]=Ct[Q]=Ct[te]=Ct[ne]=Ct[re]=Ct[ie]=Ct[fe]=Ct[ge]=Ct[ve]=Ct[ye]=!0,Ct[G]=Ct[W]=Ct[ae]=!1;var Et={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Tt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},At=parseFloat,Dt=parseInt,$t="object"==typeof e&&e&&e.Object===Object&&e,Pt="object"==typeof self&&self&&self.Object===Object&&self,Lt=$t||Pt||Function("return this")(),Rt="object"==typeof t&&t&&!t.nodeType&&t,Ot=Rt&&"object"==typeof r&&r&&!r.nodeType&&r,It=Ot&&Ot.exports===Rt,Ft=It&&$t.process,Nt=function(){try{return Ft&&Ft.binding&&Ft.binding("util")}catch(e){}}(),Ht=Nt&&Nt.isArrayBuffer,jt=Nt&&Nt.isDate,Bt=Nt&&Nt.isMap,Vt=Nt&&Nt.isRegExp,Yt=Nt&&Nt.isSet,zt=Nt&&Nt.isTypedArray,qt=baseProperty("length"),Ut=basePropertyOf(Et),Gt=basePropertyOf(Tt),Wt=basePropertyOf(Mt),Kt=function runInContext(e){function lodash(e){if(isObjectLike(e)&&!Ar(e)&&!(e instanceof LazyWrapper)){if(e instanceof LodashWrapper)return e;if(lt.call(e,"__wrapped__"))return wrapperClone(e)}return new LodashWrapper(e)}function baseLodash(){}function LodashWrapper(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function lazyClone(){var e=new LazyWrapper(this.__wrapped__);return e.__actions__=copyArray(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=copyArray(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=copyArray(this.__views__),e}function lazyReverse(){if(this.__filtered__){var e=new LazyWrapper(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function lazyValue(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ar(e),r=t<0,i=n?e.length:0,o=getView(0,i,this.__views__),a=o.start,s=o.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,d=u.length,h=0,p=on(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return baseWrapperValue(e,this.__actions__);var m=[];e:for(;l--&&h<p;){c+=t;for(var f=-1,g=e[c];++f<d;){var v=u[f],y=v.iteratee,_=v.type,b=y(g);if(_==P)g=b;else if(!b){if(_==$)continue e;break e}}m[h++]=g}return m}function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hashClear(){this.__data__=fn?fn(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function hashGet(e){var t=this.__data__;if(fn){var n=t[e];return n===c?o:n}return lt.call(t,e)?t[e]:o}function hashHas(e){var t=this.__data__;return fn?t[e]!==o:lt.call(t,e)}function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fn&&t===o?c:t,this}function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[],this.size=0}function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);return!(n<0)&&(n==t.length-1?t.pop():kt.call(t,n,1),--this.size,!0)}function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?o:t[n][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(dn||ListCache),string:new Hash}}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new MapCache;++t<n;)this.add(e[t])}function setCacheAdd(e){return this.__data__.set(e,c),this}function setCacheHas(e){return this.__data__.has(e)}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}function stackSet(e,t){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!dn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(e,t),this.size=n.size,this}function arrayLikeKeys(e,t){var n=Ar(e),r=!n&&kr(e),i=!n&&!r&&$r(e),o=!n&&!r&&!i&&Ir(e),a=n||r||i||o,s=a?baseTimes(e.length,tt):[],l=s.length;for(var c in e)!t&&!lt.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex(c,l))||s.push(c);return s}function arraySample(e){var t=e.length;return t?e[baseRandom(0,t-1)]:o}function arraySampleSize(e,t){return shuffleSelf(copyArray(e),baseClamp(t,0,e.length))}function arrayShuffle(e){return shuffleSelf(copyArray(e))}function assignMergeValue(e,t,n){(n===o||eq(e[t],n))&&(n!==o||t in e)||baseAssignValue(e,t,n)}function assignValue(e,t,n){var r=e[t];lt.call(e,t)&&eq(r,n)&&(n!==o||t in e)||baseAssignValue(e,t,n)}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}function baseAggregator(e,t,n,r){return Mn(e,function(e,i,o){t(r,e,n(e),o)}),r}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseAssignIn(e,t){return e&&copyObject(t,keysIn(t),e)}function baseAssignValue(e,t,n){"__proto__"==t&&Ot?Ot(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function baseAt(e,n){for(var r=-1,i=n.length,a=t(i),s=null==e;++r<i;)a[r]=s?o:get(e,n[r]);return a}function baseClamp(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function baseClone(e,t,n,r,i,a){var s,l=t&h,c=t&p,u=t&m;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!isObject(e))return e;var d=Ar(e);if(d){if(s=initCloneArray(e),!l)return copyArray(e,s)}else{var f=Hn(e),g=f==W||f==K;if($r(e))return cloneBuffer(e,l);if(f==Q||f==B||g&&!i){if(s=c||g?{}:initCloneObject(e),!l)return c?copySymbolsIn(e,baseAssignIn(s,e)):copySymbols(e,baseAssign(s,e))}else{if(!Ct[f])return i?e:{};s=initCloneByTag(e,f,baseClone,l)}}a||(a=new Stack);var v=a.get(e);if(v)return v;a.set(e,s);var y=u?c?getAllKeysIn:getAllKeys:c?keysIn:keys,_=d?o:y(e);return arrayEach(_||e,function(r,i){_&&(i=r,r=e[i]),assignValue(s,i,baseClone(r,t,n,i,e,a))}),s}function baseConforms(e){var t=keys(e);return function(n){return baseConformsTo(n,e,t)}}function baseConformsTo(e,t,n){var r=n.length;if(null==e)return!r;for(e=Qe(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function baseDelay(e,t,n){if("function"!=typeof e)throw new nt(l);return Vn(function(){e.apply(o,n)},t)}function baseDifference(e,t,n,r){var i=-1,o=arrayIncludes,s=!0,l=e.length,c=[],u=t.length;if(!l)return c;n&&(t=arrayMap(t,baseUnary(n))),r?(o=arrayIncludesWith,s=!1):t.length>=a&&(o=cacheHas,s=!1,t=new SetCache(t));e:for(;++i<l;){var d=e[i],h=null==n?d:n(d);if(d=r||0!==d?d:0,s&&h===h){for(var p=u;p--;)if(t[p]===h)continue e;c.push(d)}else o(t,h,r)||c.push(d)}return c}function baseEvery(e,t){var n=!0;return Mn(e,function(e,r,i){return n=!!t(e,r,i)}),n}function baseExtremum(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(l===o?s===s&&!isSymbol(s):n(s,l)))var l=s,c=a}return c}function baseFill(e,t,n,r){var i=e.length;for(n=toInteger(n),n<0&&(n=-n>i?0:i+n),r=r===o||r>i?i:toInteger(r),r<0&&(r+=i),r=n>r?0:toLength(r);n<r;)e[n++]=t;return e}function baseFilter(e,t){var n=[];return Mn(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function baseFlatten(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=isFlattenable),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?baseFlatten(s,t-1,n,r,i):arrayPush(i,s):r||(i[i.length]=s)}return i}function baseForOwn(e,t){return e&&An(e,t,keys)}function baseForOwnRight(e,t){return e&&Dn(e,t,keys)}function baseFunctions(e,t){return arrayFilter(t,function(t){return isFunction(e[t])})}function baseGet(e,t){t=castPath(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[toKey(t[n++])];return n&&n==r?e:o}function baseGetAllKeys(e,t,n){var r=t(e);return Ar(e)?r:arrayPush(r,n(e))}function baseGetTag(e){return null==e?e===o?oe:Z:Rt&&Rt in Qe(e)?getRawTag(e):objectToString(e)}function baseGt(e,t){return e>t}function baseHas(e,t){return null!=e&&lt.call(e,t)}function baseHasIn(e,t){return null!=e&&t in Qe(e)}function baseInRange(e,t,n){return e>=on(t,n)&&e<rn(t,n)}function baseIntersection(e,n,r){for(var i=r?arrayIncludesWith:arrayIncludes,a=e[0].length,s=e.length,l=s,c=t(s),u=1/0,d=[];l--;){var h=e[l];l&&n&&(h=arrayMap(h,baseUnary(n))),u=on(h.length,u),c[l]=!r&&(n||a>=120&&h.length>=120)?new SetCache(l&&h):o}h=e[0];var p=-1,m=c[0];e:for(;++p<a&&d.length<u;){var f=h[p],g=n?n(f):f;if(f=r||0!==f?f:0,!(m?cacheHas(m,g):i(d,g,r))){for(l=s;--l;){var v=c[l];if(!(v?cacheHas(v,g):i(e[l],g,r)))continue e}m&&m.push(g),d.push(f)}}return d}function baseInverter(e,t,n,r){return baseForOwn(e,function(e,i,o){t(r,n(e),i,o)}),r}function baseInvoke(e,t,n){t=castPath(t,e),e=parent(e,t);var r=null==e?e:e[toKey(last(t))];return null==r?o:apply(r,e,n)}function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==B}function baseIsArrayBuffer(e){return isObjectLike(e)&&baseGetTag(e)==le}function baseIsDate(e){return isObjectLike(e)&&baseGetTag(e)==q}function baseIsEqual(e,t,n,r,i){return e===t||(null==e||null==t||!isObjectLike(e)&&!isObjectLike(t)?e!==e&&t!==t:baseIsEqualDeep(e,t,n,r,baseIsEqual,i))}function baseIsEqualDeep(e,t,n,r,i,o){var a=Ar(e),s=Ar(t),l=a?V:Hn(e),c=s?V:Hn(t);l=l==B?Q:l,c=c==B?Q:c;var u=l==Q,d=c==Q,h=l==c;if(h&&$r(e)){if(!$r(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new Stack),a||Ir(e)?equalArrays(e,t,n,r,i,o):equalByTag(e,t,l,n,r,i,o);if(!(n&f)){var p=u&&lt.call(e,"__wrapped__"),m=d&&lt.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return o||(o=new Stack),i(g,v,n,r,o)}}return!!h&&(o||(o=new Stack),equalObjects(e,t,n,r,i,o))}function baseIsMap(e){return isObjectLike(e)&&Hn(e)==X}function baseIsMatch(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Qe(e);i--;){var l=n[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===o&&!(c in e))return!1}else{var h=new Stack;if(r)var p=r(u,d,c,e,t,h);if(!(p===o?baseIsEqual(d,u,f|g,r,h):p))return!1}}return!0}function baseIsNative(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?mt:Ge).test(toSource(e))}function baseIsRegExp(e){return isObjectLike(e)&&baseGetTag(e)==te}function baseIsSet(e){return isObjectLike(e)&&Hn(e)==ne}function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!St[baseGetTag(e)]}function baseIteratee(e){return"function"==typeof e?e:null==e?identity:"object"==typeof e?Ar(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}function baseKeys(e){if(!isPrototype(e))return nn(e);var t=[];for(var n in Qe(e))lt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function baseKeysIn(e){if(!isObject(e))return nativeKeysIn(e);var t=isPrototype(e),n=[];for(var r in e)("constructor"!=r||!t&&lt.call(e,r))&&n.push(r);return n}function baseLt(e,t){return e<t}function baseMap(e,n){var r=-1,i=isArrayLike(e)?t(e.length):[];return Mn(e,function(e,t,o){i[++r]=n(e,t,o)}),i}function baseMatches(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(n){return n===e||baseIsMatch(n,e,t)}}function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(n){var r=get(n,e);return r===o&&r===t?hasIn(n,e):baseIsEqual(t,r,f|g)}}function baseMerge(e,t,n,r,i){e!==t&&An(t,function(a,s){if(isObject(a))i||(i=new Stack),baseMergeDeep(e,t,s,n,baseMerge,r,i);else{var l=r?r(e[s],a,s+"",e,t,i):o;l===o&&(l=a),assignMergeValue(e,s,l)}},keysIn)}function baseMergeDeep(e,t,n,r,i,a,s){var l=e[n],c=t[n],u=s.get(c);if(u)return void assignMergeValue(e,n,u);var d=a?a(l,c,n+"",e,t,s):o,h=d===o;if(h){var p=Ar(c),m=!p&&$r(c),f=!p&&!m&&Ir(c);d=c,p||m||f?Ar(l)?d=l:isArrayLikeObject(l)?d=copyArray(l):m?(h=!1,d=cloneBuffer(c,!0)):f?(h=!1,d=cloneTypedArray(c,!0)):d=[]:isPlainObject(c)||kr(c)?(d=l,kr(l)?d=toPlainObject(l):(!isObject(l)||r&&isFunction(l))&&(d=initCloneObject(c))):h=!1}h&&(s.set(c,d),i(d,c,r,a,s),s.delete(c)),assignMergeValue(e,n,d)}function baseNth(e,t){var n=e.length;if(n)return t+=t<0?n:0,isIndex(t,n)?e[t]:o}function baseOrderBy(e,t,n){var r=-1;return t=arrayMap(t.length?t:[identity],baseUnary(getIteratee())),baseSortBy(baseMap(e,function(e,n,i){return{criteria:arrayMap(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return compareMultiple(e,t,n)})}function basePick(e,t){return basePickBy(e,t,function(t,n){return hasIn(e,n)})}function basePickBy(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=baseGet(e,a);n(s,a)&&baseSet(o,castPath(a,e),s)}return o}function basePropertyDeep(e){return function(t){return baseGet(t,e)}}function basePullAll(e,t,n,r){var i=r?baseIndexOfWith:baseIndexOf,o=-1,a=t.length,s=e;for(e===t&&(t=copyArray(t)),n&&(s=arrayMap(e,baseUnary(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(s,u,l,r))>-1;)s!==e&&kt.call(s,l,1),kt.call(e,l,1);return e}function basePullAt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;isIndex(i)?kt.call(e,i,1):baseUnset(e,i)}}return e}function baseRandom(e,t){return e+Jt(ln()*(t-e+1))}function baseRange(e,n,r,i){for(var o=-1,a=rn(Xt((n-e)/(r||1)),0),s=t(a);a--;)s[i?a:++o]=e,e+=r;return s}function baseRepeat(e,t){var n="";if(!e||t<1||t>R)return n;do{t%2&&(n+=e),(t=Jt(t/2))&&(e+=e)}while(t);return n}function baseRest(e,t){return Yn(overRest(e,t,identity),e+"")}function baseSample(e){return arraySample(values(e))}function baseSampleSize(e,t){var n=values(e);return shuffleSelf(n,baseClamp(t,0,n.length))}function baseSet(e,t,n,r){if(!isObject(e))return e;t=castPath(t,e);for(var i=-1,a=t.length,s=a-1,l=e;null!=l&&++i<a;){var c=toKey(t[i]),u=n;if(i!=s){var d=l[c];u=r?r(d,c,l):o,u===o&&(u=isObject(d)?d:isIndex(t[i+1])?[]:{})}assignValue(l,c,u),l=l[c]}return e}function baseShuffle(e){return shuffleSelf(values(e))}function baseSlice(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=t(o);++i<o;)a[i]=e[i+n];return a}function baseSome(e,t){var n;return Mn(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function baseSortedIndex(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=H){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!isSymbol(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return baseSortedIndexBy(e,t,identity,n)}function baseSortedIndexBy(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,s=t!==t,l=null===t,c=isSymbol(t),u=t===o;i<a;){var d=Jt((i+a)/2),h=n(e[d]),p=h!==o,m=null===h,f=h===h,g=isSymbol(h);if(s)var v=r||f;else v=u?f&&(r||p):l?f&&p&&(r||!m):c?f&&p&&!m&&(r||!g):!m&&!g&&(r?h<=t:h<t);v?i=d+1:a=d}return on(a,N)}function baseSortedUniq(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!eq(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function baseToNumber(e){return"number"==typeof e?e:isSymbol(e)?I:+e}function baseToString(e){if("string"==typeof e)return e;if(Ar(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-L?"-0":t}function baseUniq(e,t,n){var r=-1,i=arrayIncludes,o=e.length,s=!0,l=[],c=l;if(n)s=!1,i=arrayIncludesWith;else if(o>=a){var u=t?null:On(e);if(u)return setToArray(u);s=!1,i=cacheHas,c=new SetCache}else c=t?[]:l;e:for(;++r<o;){var d=e[r],h=t?t(d):d;if(d=n||0!==d?d:0,s&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),l.push(d)}else i(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}function baseUnset(e,t){return t=castPath(t,e),null==(e=parent(e,t))||delete e[toKey(last(t))]}function baseUpdate(e,t,n,r){return baseSet(e,t,n(baseGet(e,t)),r)}function baseWhile(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?baseSlice(e,r?0:o,r?o+1:i):baseSlice(e,r?o+1:0,r?i:o)}function baseWrapperValue(e,t){var n=e;return n instanceof LazyWrapper&&(n=n.value()),arrayReduce(t,function(e,t){return t.func.apply(t.thisArg,arrayPush([e],t.args))},n)}function baseXor(e,n,r){var i=e.length;if(i<2)return i?baseUniq(e[0]):[];for(var o=-1,a=t(i);++o<i;)for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=baseDifference(a[o]||s,e[l],n,r));return baseUniq(baseFlatten(a,1),n,r)}function baseZipObject(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var l=r<a?t[r]:o;n(s,e[r],l)}return s}function castArrayLikeObject(e){return isArrayLikeObject(e)?e:[]}function castFunction(e){return"function"==typeof e?e:identity}function castPath(e,t){return Ar(e)?e:isKey(e,t)?[e]:zn(toString(e))}function castSlice(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:baseSlice(e,t,n)}function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,r=bt?bt(n):new e.constructor(n);return e.copy(r),r}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new _t(t).set(new _t(e)),t}function cloneDataView(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function cloneMap(e,t,n){return arrayReduce(t?n(mapToArray(e),h):mapToArray(e),addMapEntry,new e.constructor)}function cloneRegExp(e){var t=new e.constructor(e.source,ze.exec(e));return t.lastIndex=e.lastIndex,t}function cloneSet(e,t,n){return arrayReduce(t?n(setToArray(e),h):setToArray(e),addSetEntry,new e.constructor)}function cloneSymbol(e){return Cn?Qe(Cn.call(e)):{}}function cloneTypedArray(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function compareAscending(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,a=isSymbol(e),s=t!==o,l=null===t,c=t===t,u=isSymbol(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}function compareMultiple(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=compareAscending(i[r],o[r]);if(l){if(r>=s)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index}function composeArgs(e,n,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,c=n.length,u=rn(a-s,0),d=t(c+u),h=!i;++l<c;)d[l]=n[l];for(;++o<s;)(h||o<a)&&(d[r[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function composeArgsRight(e,n,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,c=-1,u=n.length,d=rn(a-l,0),h=t(d+u),p=!i;++o<d;)h[o]=e[o];for(var m=o;++c<u;)h[m+c]=n[c];for(;++s<l;)(p||o<a)&&(h[m+r[s]]=e[o++]);return h}function copyArray(e,n){var r=-1,i=e.length;for(n||(n=t(i));++r<i;)n[r]=e[r];return n}function copyObject(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=r?r(n[l],e[l],l,n,e):o;c===o&&(c=e[l]),i?baseAssignValue(n,l,c):assignValue(n,l,c)}return n}function copySymbols(e,t){return copyObject(e,Fn(e),t)}function copySymbolsIn(e,t){return copyObject(e,Nn(e),t)}function createAggregator(e,t){return function(n,r){var i=Ar(n)?arrayAggregator:baseAggregator,o=t?t():{};return i(n,e,getIteratee(r,2),o)}}function createAssigner(e){return baseRest(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&isIterateeCall(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Qe(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t})}function createBaseEach(e,t){return function(n,r){if(null==n)return n;if(!isArrayLike(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Qe(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function createBaseFor(e){return function(t,n,r){for(var i=-1,o=Qe(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function createBind(e,t,n){function wrapper(){return(this&&this!==Lt&&this instanceof wrapper?i:e).apply(r?n:this,arguments)}var r=t&v,i=createCtor(e);return wrapper}function createCaseFirst(e){return function(t){t=toString(t);var n=hasUnicode(t)?stringToArray(t):o,r=n?n[0]:t.charAt(0),i=n?castSlice(n,1).join(""):t.slice(1);return r[e]()+i}}function createCompounder(e){return function(t){return arrayReduce(words(deburr(t).replace(ft,"")),e,"")}}function createCtor(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Tn(e.prototype),r=e.apply(n,t);return isObject(r)?r:n}}function createCurry(e,n,r){function wrapper(){for(var a=arguments.length,s=t(a),l=a,c=getHolder(wrapper);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:replaceHolders(s,c);return(a-=u.length)<r?createRecurry(e,n,createHybrid,wrapper.placeholder,o,s,u,o,o,r-a):apply(this&&this!==Lt&&this instanceof wrapper?i:e,this,s)}var i=createCtor(e);return wrapper}function createFind(e){return function(t,n,r){var i=Qe(t);if(!isArrayLike(t)){var a=getIteratee(n,3);t=keys(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function createFlow(e){return flatRest(function(t){var n=t.length,r=n,i=LodashWrapper.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new nt(l);if(i&&!s&&"wrapper"==getFuncName(a))var s=new LodashWrapper([],!0)}for(r=s?r:n;++r<n;){a=t[r];var c=getFuncName(a),u="wrapper"==c?In(a):o;s=u&&isLaziable(u[0])&&u[1]==(C|b|x|E)&&!u[4].length&&1==u[9]?s[getFuncName(u[0])].apply(s,u[3]):1==a.length&&isLaziable(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ar(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function createHybrid(e,n,r,i,a,s,l,c,u,d){function wrapper(){for(var o=arguments.length,v=t(o),y=o;y--;)v[y]=arguments[y];if(f)var b=getHolder(wrapper),w=countHolders(v,b);if(i&&(v=composeArgs(v,i,a,f)),s&&(v=composeArgsRight(v,s,l,f)),o-=w,f&&o<d){var x=replaceHolders(v,b);return createRecurry(e,n,createHybrid,wrapper.placeholder,r,v,x,c,u,d-o)}var S=p?r:this,C=m?S[e]:e;return o=v.length,c?v=reorder(v,c):g&&o>1&&v.reverse(),h&&u<o&&(v.length=u),this&&this!==Lt&&this instanceof wrapper&&(C=_||createCtor(C)),C.apply(S,v)}var h=n&C,p=n&v,m=n&y,f=n&(b|w),g=n&T,_=m?o:createCtor(e);return wrapper}function createInverter(e,t){return function(n,r){return baseInverter(n,e,t(r),{})}}function createMathOperation(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=baseToString(n),r=baseToString(r)):(n=baseToNumber(n),r=baseToNumber(r)),i=e(n,r)}return i}}function createOver(e){return flatRest(function(t){return t=arrayMap(t,baseUnary(getIteratee())),baseRest(function(n){var r=this;return e(t,function(e){return apply(e,r,n)})})})}function createPadding(e,t){t=t===o?" ":baseToString(t);var n=t.length;if(n<2)return n?baseRepeat(t,e):t;var r=baseRepeat(t,Xt(e/stringSize(t)));return hasUnicode(t)?castSlice(stringToArray(r),0,e).join(""):r.slice(0,e)}function createPartial(e,n,r,i){function wrapper(){for(var n=-1,s=arguments.length,l=-1,c=i.length,u=t(c+s),d=this&&this!==Lt&&this instanceof wrapper?a:e;++l<c;)u[l]=i[l];for(;s--;)u[l++]=arguments[++n];return apply(d,o?r:this,u)}var o=n&v,a=createCtor(e);return wrapper}function createRange(e){return function(t,n,r){return r&&"number"!=typeof r&&isIterateeCall(t,n,r)&&(n=r=o),t=toFinite(t),n===o?(n=t,t=0):n=toFinite(n),r=r===o?t<n?1:-1:toFinite(r),baseRange(t,n,r,e)}}function createRelationalOperation(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=toNumber(t),n=toNumber(n)),e(t,n)}}function createRecurry(e,t,n,r,i,a,s,l,c,u){var d=t&b,h=d?s:o,p=d?o:s,m=d?a:o,f=d?o:a;t|=d?x:S,(t&=~(d?S:x))&_||(t&=~(v|y));var g=[e,t,i,m,h,f,p,l,c,u],w=n.apply(o,g);return isLaziable(e)&&Bn(w,g),w.placeholder=r,setWrapToString(w,e,t)}function createRound(e){var t=Be[e];return function(e,n){if(e=toNumber(e),n=null==n?0:on(toInteger(n),292)){var r=(toString(e)+"e").split("e");return r=(toString(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function createToPairs(e){return function(t){var n=Hn(t);return n==X?mapToArray(t):n==ne?setToPairs(t):baseToPairs(t,e(t))}}function createWrap(e,t,n,r,i,a,s,c){var u=t&y;if(!u&&"function"!=typeof e)throw new nt(l);var d=r?r.length:0;if(d||(t&=~(x|S),r=i=o),s=s===o?s:rn(toInteger(s),0),c=c===o?c:toInteger(c),d-=i?i.length:0,t&S){var h=r,p=i;r=i=o}var m=u?o:In(e),f=[e,t,n,r,i,h,p,a,s,c];if(m&&mergeData(f,m),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],c=f[9]=f[9]===o?u?0:e.length:rn(f[9]-d,0),!c&&t&(b|w)&&(t&=~(b|w)),t&&t!=v)g=t==b||t==w?createCurry(e,t,c):t!=x&&t!=(v|x)||i.length?createHybrid.apply(o,f):createPartial(e,t,n,r);else var g=createBind(e,t,n);return setWrapToString((m?$n:Bn)(g,f),e,t)}function customDefaultsAssignIn(e,t,n,r){return e===o||eq(e,ot[n])&&!lt.call(r,n)?t:e}function customDefaultsMerge(e,t,n,r,i,a){return isObject(e)&&isObject(t)&&(a.set(t,e),baseMerge(e,t,o,customDefaultsMerge,a),a.delete(t)),e}function customOmitClone(e){return isPlainObject(e)?o:e}function equalArrays(e,t,n,r,i,a){var s=n&f,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var d=-1,h=!0,p=n&g?new SetCache:o;for(a.set(e,t),a.set(t,e);++d<l;){var m=e[d],v=t[d];if(r)var y=s?r(v,m,d,t,e,a):r(m,v,d,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!arraySome(t,function(e,t){if(!cacheHas(p,t)&&(m===e||i(m,e,n,r,a)))return p.push(t)})){h=!1;break}}else if(m!==v&&!i(m,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function equalByTag(e,t,n,r,i,o,a){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case le:return!(e.byteLength!=t.byteLength||!o(new _t(e),new _t(t)));case z:case q:case J:return eq(+e,+t);case G:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case X:var s=mapToArray;case ne:var l=r&f;if(s||(s=setToArray),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=g,a.set(e,t);var u=equalArrays(s(e),s(t),r,i,o,a);return a.delete(e),u;case ie:if(Cn)return Cn.call(e)==Cn.call(t)}return!1}function equalObjects(e,t,n,r,i,a){var s=n&f,l=getAllKeys(e),c=l.length;if(c!=getAllKeys(t).length&&!s)return!1;for(var u=c;u--;){var d=l[u];if(!(s?d in t:lt.call(t,d)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var p=!0;a.set(e,t),a.set(t,e);for(var m=s;++u<c;){d=l[u];var g=e[d],v=t[d];if(r)var y=s?r(v,g,d,t,e,a):r(g,v,d,e,t,a);if(!(y===o?g===v||i(g,v,n,r,a):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(e),a.delete(t),p}function flatRest(e){return Yn(overRest(e,o,flatten),e+"")}function getAllKeys(e){return baseGetAllKeys(e,keys,Fn)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,Nn)}function getFuncName(e){for(var t=e.name+"",n=vn[t],r=lt.call(vn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function getHolder(e){return(lt.call(lodash,"placeholder")?lodash:e).placeholder}function getIteratee(){var e=lodash.iteratee||iteratee;return e=e===iteratee?baseIteratee:e,arguments.length?e(arguments[0],arguments[1]):e}function getMapData(e,t){var n=e.__data__;return isKeyable(t)?n["string"==typeof t?"string":"hash"]:n.map}function getMatchData(e){for(var t=keys(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,isStrictComparable(i)]}return t}function getNative(e,t){var n=getValue(e,t);return baseIsNative(n)?n:o}function getRawTag(e){var t=lt.call(e,Rt),n=e[Rt];try{e[Rt]=o;var r=!0}catch(e){}var i=dt.call(e);return r&&(t?e[Rt]=n:delete e[Rt]),i}function getView(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=on(t,e+a);break;case"takeRight":e=rn(e,t-a)}}return{start:e,end:t}}function getWrapDetails(e){var t=e.match(He);return t?t[1].split(je):[]}function hasPath(e,t,n){t=castPath(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=toKey(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&isLength(i)&&isIndex(a,i)&&(Ar(e)||kr(e))}function initCloneArray(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&lt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:Tn(Et(e))}function initCloneByTag(e,t,n,r){var i=e.constructor;switch(t){case le:return cloneArrayBuffer(e);case z:case q:return new i(+e);case ce:return cloneDataView(e,r);case ue:case de:case he:case pe:case me:case fe:case ge:case ve:case ye:return cloneTypedArray(e,r);case X:return cloneMap(e,r,n);case J:case re:return new i(e);case te:return cloneRegExp(e);case ne:return cloneSet(e,r,n);case ie:return cloneSymbol(e)}}function insertWrapDetails(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ne,"{\n/* [wrapped with "+t+"] */\n")}function isFlattenable(e){return Ar(e)||kr(e)||!!($t&&e&&e[$t])}function isIndex(e,t){return!!(t=null==t?R:t)&&("number"==typeof e||Ke.test(e))&&e>-1&&e%1==0&&e<t}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;return!!("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n)&&eq(n[t],e)}function isKey(e,t){if(Ar(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!isSymbol(e))||(De.test(e)||!Ae.test(e)||null!=t&&e in Qe(t))}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function isLaziable(e){var t=getFuncName(e),n=lodash[t];if("function"!=typeof n||!(t in LazyWrapper.prototype))return!1;if(e===n)return!0;var r=In(n);return!!r&&e===r[0]}function isMasked(e){return!!ut&&ut in e}function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ot)}function isStrictComparable(e){return e===e&&!isObject(e)}function matchesStrictComparable(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Qe(n)))}}function mergeData(e,t){var n=e[1],r=t[1],i=n|r,o=i<(v|y|C),a=r==C&&n==b||r==C&&n==E&&e[7].length<=t[8]||r==(C|E)&&t[7].length<=t[8]&&n==b;if(!o&&!a)return e;r&v&&(e[2]=t[2],i|=n&v?0:_);var s=t[3];if(s){var l=e[3];e[3]=l?composeArgs(l,s,t[4]):s,e[4]=l?replaceHolders(e[3],d):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?composeArgsRight(l,s,t[6]):s,e[6]=l?replaceHolders(e[5],d):t[6]),s=t[7],s&&(e[7]=s),r&C&&(e[8]=null==e[8]?t[8]:on(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Qe(e))t.push(n);return t}function objectToString(e){return dt.call(e)}function overRest(e,n,r){return n=rn(n===o?e.length-1:n,0),function(){for(var i=arguments,o=-1,a=rn(i.length-n,0),s=t(a);++o<a;)s[o]=i[n+o];o=-1;for(var l=t(n+1);++o<n;)l[o]=i[o];return l[n]=r(s),apply(e,this,l)}}function parent(e,t){return t.length<2?e:baseGet(e,baseSlice(t,0,-1))}function reorder(e,t){for(var n=e.length,r=on(t.length,n),i=copyArray(e);r--;){var a=t[r];e[r]=isIndex(a,n)?i[a]:o}return e}function setWrapToString(e,t,n){var r=t+"";return Yn(e,insertWrapDetails(r,updateWrapDetails(getWrapDetails(r),n)))}function shortOut(e){var t=0,n=0;return function(){var r=an(),i=D-(r-n);if(n=r,i>0){if(++t>=A)return arguments[0]}else t=0;return e.apply(o,arguments)}}function shuffleSelf(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=baseRandom(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-L?"-0":t}function toSource(e){if(null!=e){try{return st.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function updateWrapDetails(e,t){return arrayEach(j,function(n){var r="_."+n[0];t&n[1]&&!arrayIncludes(e,r)&&e.push(r)}),e.sort()}function wrapperClone(e){if(e instanceof LazyWrapper)return e.clone();var t=new LodashWrapper(e.__wrapped__,e.__chain__);return t.__actions__=copyArray(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function chunk(e,n,r){n=(r?isIterateeCall(e,n,r):n===o)?1:rn(toInteger(n),0);var i=null==e?0:e.length;if(!i||n<1)return[];for(var a=0,s=0,l=t(Xt(i/n));a<i;)l[s++]=baseSlice(e,a,a+=n);return l}function compact(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function concat(){var e=arguments.length;if(!e)return[];for(var n=t(e-1),r=arguments[0],i=e;i--;)n[i-1]=arguments[i];return arrayPush(Ar(r)?copyArray(r):[r],baseFlatten(n,1))}function drop(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:toInteger(t),baseSlice(e,t<0?0:t,r)):[]}function dropRight(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:toInteger(t),t=r-t,baseSlice(e,0,t<0?0:t)):[]}function dropRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0,!0):[]}function dropWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0):[]}function fill(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(n=0,r=i),baseFill(e,t,n,r)):[]}function findIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:toInteger(n);return i<0&&(i=rn(r+i,0)),baseFindIndex(e,getIteratee(t,3),i)}function findLastIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=toInteger(n),i=n<0?rn(r+i,0):on(i,r-1)),baseFindIndex(e,getIteratee(t,3),i,!0)}function flatten(e){return(null==e?0:e.length)?baseFlatten(e,1):[]}function flattenDeep(e){return(null==e?0:e.length)?baseFlatten(e,L):[]}function flattenDepth(e,t){return(null==e?0:e.length)?(t=t===o?1:toInteger(t),baseFlatten(e,t)):[]}function fromPairs(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function head(e){return e&&e.length?e[0]:o}function indexOf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:toInteger(n);return i<0&&(i=rn(r+i,0)),baseIndexOf(e,t,i)}function initial(e){return(null==e?0:e.length)?baseSlice(e,0,-1):[]}function join(e,t){return null==e?"":tn.call(e,t)}function last(e){var t=null==e?0:e.length;return t?e[t-1]:o}function lastIndexOf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=toInteger(n),i=i<0?rn(r+i,0):on(i,r-1)),t===t?strictLastIndexOf(e,t,i):baseFindIndex(e,baseIsNaN,i,!0)}function nth(e,t){return e&&e.length?baseNth(e,toInteger(t)):o}function pullAll(e,t){return e&&e.length&&t&&t.length?basePullAll(e,t):e}function pullAllBy(e,t,n){return e&&e.length&&t&&t.length?basePullAll(e,t,getIteratee(n,2)):e}function pullAllWith(e,t,n){return e&&e.length&&t&&t.length?basePullAll(e,t,o,n):e}function remove(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=getIteratee(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return basePullAt(e,i),n}function reverse(e){return null==e?e:cn.call(e)}function slice(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)?(t=0,n=r):(t=null==t?0:toInteger(t),n=n===o?r:toInteger(n)),baseSlice(e,t,n)):[]}function sortedIndex(e,t){return baseSortedIndex(e,t)}function sortedIndexBy(e,t,n){return baseSortedIndexBy(e,t,getIteratee(n,2))}function sortedIndexOf(e,t){var n=null==e?0:e.length;if(n){var r=baseSortedIndex(e,t);if(r<n&&eq(e[r],t))return r}return-1}function sortedLastIndex(e,t){return baseSortedIndex(e,t,!0)}function sortedLastIndexBy(e,t,n){return baseSortedIndexBy(e,t,getIteratee(n,2),!0)}function sortedLastIndexOf(e,t){if(null==e?0:e.length){var n=baseSortedIndex(e,t,!0)-1;if(eq(e[n],t))return n}return-1}function sortedUniq(e){return e&&e.length?baseSortedUniq(e):[]}function sortedUniqBy(e,t){return e&&e.length?baseSortedUniq(e,getIteratee(t,2)):[]}function tail(e){var t=null==e?0:e.length;return t?baseSlice(e,1,t):[]}function take(e,t,n){return e&&e.length?(t=n||t===o?1:toInteger(t),baseSlice(e,0,t<0?0:t)):[]}function takeRight(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:toInteger(t),t=r-t,baseSlice(e,t<0?0:t,r)):[]}function takeRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!1,!0):[]}function takeWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3)):[]}function uniq(e){return e&&e.length?baseUniq(e):[]}function uniqBy(e,t){return e&&e.length?baseUniq(e,getIteratee(t,2)):[]}function uniqWith(e,t){return t="function"==typeof t?t:o,e&&e.length?baseUniq(e,o,t):[]}function unzip(e){if(!e||!e.length)return[];var t=0;return e=arrayFilter(e,function(e){if(isArrayLikeObject(e))return t=rn(e.length,t),!0}),baseTimes(t,function(t){return arrayMap(e,baseProperty(t))})}function unzipWith(e,t){if(!e||!e.length)return[];var n=unzip(e);return null==t?n:arrayMap(n,function(e){return apply(t,o,e)})}function zipObject(e,t){return baseZipObject(e||[],t||[],assignValue)}function zipObjectDeep(e,t){return baseZipObject(e||[],t||[],baseSet)}function chain(e){var t=lodash(e);return t.__chain__=!0,t}function tap(e,t){return t(e),e}function thru(e,t){return t(e)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){this.__values__===o&&(this.__values__=toArray(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}}function wrapperToIterator(){return this}function wrapperPlant(e){for(var t,n=this;n instanceof baseLodash;){var r=wrapperClone(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function wrapperReverse(){var e=this.__wrapped__;if(e instanceof LazyWrapper){var t=e;return this.__actions__.length&&(t=new LazyWrapper(this)),t=t.reverse(),t.__actions__.push({func:thru,args:[reverse],thisArg:o}),new LodashWrapper(t,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(e,t,n){var r=Ar(e)?arrayEvery:baseEvery;return n&&isIterateeCall(e,t,n)&&(t=o),r(e,getIteratee(t,3))}function filter(e,t){return(Ar(e)?arrayFilter:baseFilter)(e,getIteratee(t,3))}function flatMap(e,t){return baseFlatten(map(e,t),1)}function flatMapDeep(e,t){return baseFlatten(map(e,t),L)}function flatMapDepth(e,t,n){return n=n===o?1:toInteger(n),baseFlatten(map(e,t),n)}function forEach(e,t){return(Ar(e)?arrayEach:Mn)(e,getIteratee(t,3))}function forEachRight(e,t){return(Ar(e)?arrayEachRight:kn)(e,getIteratee(t,3))}function includes(e,t,n,r){e=isArrayLike(e)?e:values(e),n=n&&!r?toInteger(n):0;var i=e.length;return n<0&&(n=rn(i+n,0)),isString(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&baseIndexOf(e,t,n)>-1}function map(e,t){return(Ar(e)?arrayMap:baseMap)(e,getIteratee(t,3))}function orderBy(e,t,n,r){return null==e?[]:(Ar(t)||(t=null==t?[]:[t]),n=r?o:n,Ar(n)||(n=null==n?[]:[n]),baseOrderBy(e,t,n))}function reduce(e,t,n){var r=Ar(e)?arrayReduce:baseReduce,i=arguments.length<3;return r(e,getIteratee(t,4),n,i,Mn)}function reduceRight(e,t,n){var r=Ar(e)?arrayReduceRight:baseReduce,i=arguments.length<3;return r(e,getIteratee(t,4),n,i,kn)}function reject(e,t){return(Ar(e)?arrayFilter:baseFilter)(e,negate(getIteratee(t,3)))}function sample(e){return(Ar(e)?arraySample:baseSample)(e)}function sampleSize(e,t,n){return t=(n?isIterateeCall(e,t,n):t===o)?1:toInteger(t),(Ar(e)?arraySampleSize:baseSampleSize)(e,t)}function shuffle(e){return(Ar(e)?arrayShuffle:baseShuffle)(e)}function size(e){if(null==e)return 0;if(isArrayLike(e))return isString(e)?stringSize(e):e.length;var t=Hn(e);return t==X||t==ne?e.size:baseKeys(e).length}function some(e,t,n){var r=Ar(e)?arraySome:baseSome;return n&&isIterateeCall(e,t,n)&&(t=o),r(e,getIteratee(t,3))}function after(e,t){if("function"!=typeof t)throw new nt(l);return e=toInteger(e),function(){if(--e<1)return t.apply(this,arguments)}}function ary(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,createWrap(e,C,o,o,o,o,t)}function before(e,t){var n;if("function"!=typeof t)throw new nt(l);return e=toInteger(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}function curry(e,t,n){t=n?o:t;var r=createWrap(e,b,o,o,o,o,o,t);return r.placeholder=curry.placeholder,r}function curryRight(e,t,n){t=n?o:t;var r=createWrap(e,w,o,o,o,o,o,t);return r.placeholder=curryRight.placeholder,r}function debounce(e,t,n){function invokeFunc(t){var n=r,a=i;return r=i=o,d=t,s=e.apply(a,n)}function leadingEdge(e){return d=e,c=Vn(timerExpired,t),h?invokeFunc(e):s}function remainingWait(e){var n=e-u,r=e-d,i=t-n;return p?on(i,a-r):i}function shouldInvoke(e){var n=e-u,r=e-d;return u===o||n>=t||n<0||p&&r>=a}function timerExpired(){var e=vr();if(shouldInvoke(e))return trailingEdge(e);c=Vn(timerExpired,remainingWait(e))}function trailingEdge(e){return c=o,m&&r?invokeFunc(e):(r=i=o,s)}function cancel(){c!==o&&Rn(c),d=0,r=u=i=c=o}function flush(){return c===o?s:trailingEdge(vr())}function debounced(){var e=vr(),n=shouldInvoke(e);if(r=arguments,i=this,u=e,n){if(c===o)return leadingEdge(u);if(p)return c=Vn(timerExpired,t),invokeFunc(u)}return c===o&&(c=Vn(timerExpired,t)),s}var r,i,a,s,c,u,d=0,h=!1,p=!1,m=!0;if("function"!=typeof e)throw new nt(l);return t=toNumber(t)||0,isObject(n)&&(h=!!n.leading,p="maxWait"in n,a=p?rn(toNumber(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),debounced.cancel=cancel,debounced.flush=flush,debounced}function flip(e){return createWrap(e,T)}function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new nt(l);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(memoize.Cache||MapCache),n}function negate(e){if("function"!=typeof e)throw new nt(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function once(e){return before(2,e)}function rest(e,t){if("function"!=typeof e)throw new nt(l);return t=t===o?t:toInteger(t),baseRest(e,t)}function spread(e,t){if("function"!=typeof e)throw new nt(l);return t=null==t?0:rn(toInteger(t),0),baseRest(function(n){var r=n[t],i=castSlice(n,0,t);return r&&arrayPush(i,r),apply(e,this,i)})}function throttle(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new nt(l);return isObject(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),debounce(e,t,{leading:r,maxWait:t,trailing:i})}function unary(e){return ary(e,1)}function wrap(e,t){return Sr(castFunction(t),e)}function castArray(){if(!arguments.length)return[];var e=arguments[0];return Ar(e)?e:[e]}function clone(e){return baseClone(e,m)}function cloneWith(e,t){return t="function"==typeof t?t:o,baseClone(e,m,t)}function cloneDeep(e){return baseClone(e,h|m)}function cloneDeepWith(e,t){return t="function"==typeof t?t:o,baseClone(e,h|m,t)}function conformsTo(e,t){return null==t||baseConformsTo(e,t,keys(t))}function eq(e,t){return e===t||e!==e&&t!==t}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isBoolean(e){return!0===e||!1===e||isObjectLike(e)&&baseGetTag(e)==z}function isElement(e){return isObjectLike(e)&&1===e.nodeType&&!isPlainObject(e)}function isEmpty(e){if(null==e)return!0;if(isArrayLike(e)&&(Ar(e)||"string"==typeof e||"function"==typeof e.splice||$r(e)||Ir(e)||kr(e)))return!e.length;var t=Hn(e);if(t==X||t==ne)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var n in e)if(lt.call(e,n))return!1;return!0}function isEqual(e,t){return baseIsEqual(e,t)}function isEqualWith(e,t,n){n="function"==typeof n?n:o;var r=n?n(e,t):o;return r===o?baseIsEqual(e,t,o,n):!!r}function isError(e){if(!isObjectLike(e))return!1;var t=baseGetTag(e);return t==G||t==U||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject(e)}function isFinite(e){return"number"==typeof e&&en(e)}function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==W||t==K||t==Y||t==ee}function isInteger(e){return"number"==typeof e&&e==toInteger(e)}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=R}function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function isObjectLike(e){return null!=e&&"object"==typeof e}function isMatch(e,t){return e===t||baseIsMatch(e,t,getMatchData(t))}function isMatchWith(e,t,n){return n="function"==typeof n?n:o,baseIsMatch(e,t,getMatchData(t),n)}function isNaN(e){return isNumber(e)&&e!=+e}function isNative(e){if(jn(e))throw new r(s);return baseIsNative(e)}function isNull(e){return null===e}function isNil(e){return null==e}function isNumber(e){return"number"==typeof e||isObjectLike(e)&&baseGetTag(e)==J}function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=Q)return!1;var t=Et(e);if(null===t)return!0;var n=lt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&st.call(n)==ht}function isSafeInteger(e){return isInteger(e)&&e>=-R&&e<=R}function isString(e){return"string"==typeof e||!Ar(e)&&isObjectLike(e)&&baseGetTag(e)==re}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==ie}function isUndefined(e){return e===o}function isWeakMap(e){return isObjectLike(e)&&Hn(e)==ae}function isWeakSet(e){return isObjectLike(e)&&baseGetTag(e)==se}function toArray(e){if(!e)return[];if(isArrayLike(e))return isString(e)?stringToArray(e):copyArray(e);if(Pt&&e[Pt])return iteratorToArray(e[Pt]());var t=Hn(e);return(t==X?mapToArray:t==ne?setToArray:values)(e)}function toFinite(e){if(!e)return 0===e?e:0;if((e=toNumber(e))===L||e===-L){return(e<0?-1:1)*O}return e===e?e:0}function toInteger(e){var t=toFinite(e),n=t%1;return t===t?n?t-n:t:0}function toLength(e){return e?baseClamp(toInteger(e),0,F):0}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return I;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Oe,"");var n=Ue.test(e);return n||We.test(e)?Dt(e.slice(2),n?2:8):qe.test(e)?I:+e}function toPlainObject(e){return copyObject(e,keysIn(e))}function toSafeInteger(e){return e?baseClamp(toInteger(e),-R,R):0===e?e:0}function toString(e){return null==e?"":baseToString(e)}function create(e,t){var n=Tn(e);return null==t?n:baseAssign(n,t)}function findKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwn)}function findLastKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwnRight)}function forIn(e,t){return null==e?e:An(e,getIteratee(t,3),keysIn)}function forInRight(e,t){return null==e?e:Dn(e,getIteratee(t,3),keysIn)}function forOwn(e,t){return e&&baseForOwn(e,getIteratee(t,3))}function forOwnRight(e,t){return e&&baseForOwnRight(e,getIteratee(t,3))}function functions(e){return null==e?[]:baseFunctions(e,keys(e))}function functionsIn(e){return null==e?[]:baseFunctions(e,keysIn(e))}function get(e,t,n){var r=null==e?o:baseGet(e,t);return r===o?n:r}function has(e,t){return null!=e&&hasPath(e,t,baseHas)}function hasIn(e,t){return null!=e&&hasPath(e,t,baseHasIn)}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}function mapKeys(e,t){var n={};return t=getIteratee(t,3),baseForOwn(e,function(e,r,i){baseAssignValue(n,t(e,r,i),e)}),n}function mapValues(e,t){var n={};return t=getIteratee(t,3),baseForOwn(e,function(e,r,i){baseAssignValue(n,r,t(e,r,i))}),n}function omitBy(e,t){return pickBy(e,negate(getIteratee(t)))}function pickBy(e,t){if(null==e)return{};var n=arrayMap(getAllKeysIn(e),function(e){return[e]});return t=getIteratee(t),basePickBy(e,n,function(e,n){return t(e,n[0])})}function result(e,t,n){t=castPath(t,e);var r=-1,i=t.length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[toKey(t[r])];a===o&&(r=i,a=n),e=isFunction(a)?a.call(e):a}return e}function set(e,t,n){return null==e?e:baseSet(e,t,n)}function setWith(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:baseSet(e,t,n,r)}function transform(e,t,n){var r=Ar(e),i=r||$r(e)||Ir(e);if(t=getIteratee(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:isObject(e)&&isFunction(o)?Tn(Et(e)):{}}return(i?arrayEach:baseForOwn)(e,function(e,r,i){return t(n,e,r,i)}),n}function unset(e,t){return null==e||baseUnset(e,t)}function update(e,t,n){return null==e?e:baseUpdate(e,t,castFunction(n))}function updateWith(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:baseUpdate(e,t,castFunction(n),r)}function values(e){return null==e?[]:baseValues(e,keys(e))}function valuesIn(e){return null==e?[]:baseValues(e,keysIn(e))}function clamp(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=toNumber(n),n=n===n?n:0),t!==o&&(t=toNumber(t),t=t===t?t:0),baseClamp(toNumber(e),t,n)}function inRange(e,t,n){return t=toFinite(t),n===o?(n=t,t=0):n=toFinite(n),e=toNumber(e),baseInRange(e,t,n)}function random(e,t,n){if(n&&"boolean"!=typeof n&&isIterateeCall(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=toFinite(e),t===o?(t=e,e=0):t=toFinite(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ln();return on(e+i*(t-e+At("1e-"+((i+"").length-1))),t)}return baseRandom(e,t)}function capitalize(e){return li(toString(e).toLowerCase())}function deburr(e){return(e=toString(e))&&e.replace(Xe,Ut).replace(gt,"")}function endsWith(e,t,n){e=toString(e),t=baseToString(t);var r=e.length;n=n===o?r:baseClamp(toInteger(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function escape(e){return e=toString(e),e&&Ee.test(e)?e.replace(Se,Gt):e}function escapeRegExp(e){return e=toString(e),e&&Re.test(e)?e.replace(Le,"\\$&"):e}function pad(e,t,n){e=toString(e),t=toInteger(t);var r=t?stringSize(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return createPadding(Jt(i),n)+e+createPadding(Xt(i),n)}function padEnd(e,t,n){e=toString(e),t=toInteger(t);var r=t?stringSize(e):0;return t&&r<t?e+createPadding(t-r,n):e}function padStart(e,t,n){e=toString(e),t=toInteger(t);var r=t?stringSize(e):0;return t&&r<t?createPadding(t-r,n)+e:e}function parseInt(e,t,n){return n||null==t?t=0:t&&(t=+t),sn(toString(e).replace(Ie,""),t||0)}function repeat(e,t,n){return t=(n?isIterateeCall(e,t,n):t===o)?1:toInteger(t),baseRepeat(toString(e),t)}function replace(){var e=arguments,t=toString(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function split(e,t,n){return n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(t=n=o),(n=n===o?F:n>>>0)?(e=toString(e),e&&("string"==typeof t||null!=t&&!Rr(t))&&!(t=baseToString(t))&&hasUnicode(e)?castSlice(stringToArray(e),0,n):e.split(t,n)):[]}function startsWith(e,t,n){return e=toString(e),n=null==n?0:baseClamp(toInteger(n),0,e.length),t=baseToString(t),e.slice(n,n+t.length)==t}function template(e,t,n){var r=lodash.templateSettings;n&&isIterateeCall(e,t,n)&&(t=o),e=toString(e),t=Br({},t,r,customDefaultsAssignIn);var a,s,l=Br({},t.imports,r.imports,customDefaultsAssignIn),c=keys(l),u=baseValues(l,c),d=0,h=t.interpolate||Je,p="__p += '",m=et((t.escape||Je).source+"|"+h.source+"|"+(h===ke?Ye:Je).source+"|"+(t.evaluate||Je).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++xt+"]")+"\n";e.replace(m,function(t,n,r,i,o,l){return r||(r=i),p+=e.slice(d,l).replace(Ze,escapeStringChar),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),o&&(s=!0,p+="';\n"+o+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),p+="';\n";var g=t.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(_e,""):p).replace(be,"$1").replace(we,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=ci(function(){return i(c,f+"return "+p).apply(o,u)});if(v.source=p,isError(v))throw v;return v}function toLower(e){return toString(e).toLowerCase()}function toUpper(e){return toString(e).toUpperCase()}function trim(e,t,n){if((e=toString(e))&&(n||t===o))return e.replace(Oe,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e),i=stringToArray(t);return castSlice(r,charsStartIndex(r,i),charsEndIndex(r,i)+1).join("")}function trimEnd(e,t,n){if((e=toString(e))&&(n||t===o))return e.replace(Fe,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e);return castSlice(r,0,charsEndIndex(r,stringToArray(t))+1).join("")}function trimStart(e,t,n){if((e=toString(e))&&(n||t===o))return e.replace(Ie,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e);return castSlice(r,charsStartIndex(r,stringToArray(t))).join("")}function truncate(e,t){var n=M,r=k;if(isObject(t)){var i="separator"in t?t.separator:i;n="length"in t?toInteger(t.length):n,r="omission"in t?baseToString(t.omission):r}e=toString(e);var a=e.length;if(hasUnicode(e)){var s=stringToArray(e);a=s.length}if(n>=a)return e;var l=n-stringSize(r);if(l<1)return r;var c=s?castSlice(s,0,l).join(""):e.slice(0,l);if(i===o)return c+r;if(s&&(l+=c.length-l),Rr(i)){if(e.slice(l).search(i)){var u,d=c;for(i.global||(i=et(i.source,toString(ze.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var h=u.index;c=c.slice(0,h===o?l:h)}}else if(e.indexOf(baseToString(i),l)!=l){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function unescape(e){return e=toString(e),e&&Ce.test(e)?e.replace(xe,Wt):e}function words(e,t,n){return e=toString(e),t=n?o:t,t===o?hasUnicodeWord(e)?unicodeWords(e):asciiWords(e):e.match(t)||[]}function cond(e){var t=null==e?0:e.length,n=getIteratee();return e=t?arrayMap(e,function(e){if("function"!=typeof e[1])throw new nt(l);return[n(e[0]),e[1]]}):[],baseRest(function(n){for(var r=-1;++r<t;){var i=e[r];if(apply(i[0],this,n))return apply(i[1],this,n)}})}function conforms(e){return baseConforms(baseClone(e,h))}function constant(e){return function(){return e}}function defaultTo(e,t){return null==e||e!==e?t:e}function identity(e){return e}function iteratee(e){return baseIteratee("function"==typeof e?e:baseClone(e,h))}function matches(e){return baseMatches(baseClone(e,h))}function matchesProperty(e,t){return baseMatchesProperty(e,baseClone(t,h))}function mixin(e,t,n){var r=keys(t),i=baseFunctions(t,r);null!=n||isObject(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=baseFunctions(t,keys(t)));var o=!(isObject(n)&&"chain"in n&&!n.chain),a=isFunction(e);return arrayEach(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=copyArray(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,arrayPush([this.value()],arguments))})}),e}function noConflict(){return Lt._===this&&(Lt._=pt),this}function noop(){}function nthArg(e){return e=toInteger(e),baseRest(function(t){return baseNth(t,e)})}function property(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}function propertyOf(e){return function(t){return null==e?o:baseGet(e,t)}}function stubArray(){return[]}function stubFalse(){return!1}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}function times(e,t){if((e=toInteger(e))<1||e>R)return[];var n=F,r=on(e,F);t=getIteratee(t),e-=F;for(var i=baseTimes(r,t);++n<e;)t(n);return i}function toPath(e){return Ar(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray(zn(toString(e)))}function uniqueId(e){var t=++ct;return toString(e)+t}function max(e){return e&&e.length?baseExtremum(e,identity,baseGt):o}function maxBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t,2),baseGt):o}function mean(e){return baseMean(e,identity)}function meanBy(e,t){return baseMean(e,getIteratee(t,2))}function min(e){return e&&e.length?baseExtremum(e,identity,baseLt):o}function minBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t,2),baseLt):o}function sum(e){return e&&e.length?baseSum(e,identity):0}function sumBy(e,t){return e&&e.length?baseSum(e,getIteratee(t,2)):0}e=null==e?Lt:Kt.defaults(Lt.Object(),e,Kt.pick(Lt,wt));var t=e.Array,n=e.Date,r=e.Error,i=e.Function,Be=e.Math,Qe=e.Object,et=e.RegExp,tt=e.String,nt=e.TypeError,rt=t.prototype,it=i.prototype,ot=Qe.prototype,at=e["__core-js_shared__"],st=it.toString,lt=ot.hasOwnProperty,ct=0,ut=function(){var e=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),dt=ot.toString,ht=st.call(Qe),pt=Lt._,mt=et("^"+st.call(lt).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=It?e.Buffer:o,yt=e.Symbol,_t=e.Uint8Array,bt=vt?vt.allocUnsafe:o,Et=overArg(Qe.getPrototypeOf,Qe),Tt=Qe.create,Mt=ot.propertyIsEnumerable,kt=rt.splice,$t=yt?yt.isConcatSpreadable:o,Pt=yt?yt.iterator:o,Rt=yt?yt.toStringTag:o,Ot=function(){try{var e=getNative(Qe,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ft=e.clearTimeout!==Lt.clearTimeout&&e.clearTimeout,Nt=n&&n.now!==Lt.Date.now&&n.now,qt=e.setTimeout!==Lt.setTimeout&&e.setTimeout,Xt=Be.ceil,Jt=Be.floor,Zt=Qe.getOwnPropertySymbols,Qt=vt?vt.isBuffer:o,en=e.isFinite,tn=rt.join,nn=overArg(Qe.keys,Qe),rn=Be.max,on=Be.min,an=n.now,sn=e.parseInt,ln=Be.random,cn=rt.reverse,un=getNative(e,"DataView"),dn=getNative(e,"Map"),hn=getNative(e,"Promise"),pn=getNative(e,"Set"),mn=getNative(e,"WeakMap"),fn=getNative(Qe,"create"),gn=mn&&new mn,vn={},yn=toSource(un),_n=toSource(dn),bn=toSource(hn),wn=toSource(pn),xn=toSource(mn),Sn=yt?yt.prototype:o,Cn=Sn?Sn.valueOf:o,En=Sn?Sn.toString:o,Tn=function(){function object(){}return function(e){if(!isObject(e))return{};if(Tt)return Tt(e);object.prototype=e;var t=new object;return object.prototype=o,t}}();lodash.templateSettings={escape:Te,evaluate:Me,interpolate:ke,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=Tn(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=Tn(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var Mn=createBaseEach(baseForOwn),kn=createBaseEach(baseForOwnRight,!0),An=createBaseFor(),Dn=createBaseFor(!0),$n=gn?function(e,t){return gn.set(e,t),e}:identity,Pn=Ot?function(e,t){return Ot(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity,Ln=baseRest,Rn=Ft||function(e){return Lt.clearTimeout(e)},On=pn&&1/setToArray(new pn([,-0]))[1]==L?function(e){return new pn(e)}:noop,In=gn?function(e){return gn.get(e)}:noop,Fn=Zt?function(e){return null==e?[]:(e=Qe(e),arrayFilter(Zt(e),function(t){return Mt.call(e,t)}))}:stubArray,Nn=Zt?function(e){for(var t=[];e;)arrayPush(t,Fn(e)),e=Et(e);return t}:stubArray,Hn=baseGetTag;(un&&Hn(new un(new ArrayBuffer(1)))!=ce||dn&&Hn(new dn)!=X||hn&&"[object Promise]"!=Hn(hn.resolve())||pn&&Hn(new pn)!=ne||mn&&Hn(new mn)!=ae)&&(Hn=function(e){var t=baseGetTag(e),n=t==Q?e.constructor:o,r=n?toSource(n):"";if(r)switch(r){case yn:return ce;case _n:return X;case bn:return"[object Promise]";case wn:return ne;case xn:return ae}return t});var jn=at?isFunction:stubFalse,Bn=shortOut($n),Vn=qt||function(e,t){return Lt.setTimeout(e,t)},Yn=shortOut(Pn),zn=function(e){var t=memoize(e,function(e){return n.size===u&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return $e.test(e)&&t.push(""),e.replace(Pe,function(e,n,r,i){t.push(r?i.replace(Ve,"$1"):n||e)}),t}),qn=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0)):[]}),Un=baseRest(function(e,t){var n=last(t);return isArrayLikeObject(n)&&(n=o),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),getIteratee(n,2)):[]}),Gn=baseRest(function(e,t){var n=last(t);return isArrayLikeObject(n)&&(n=o),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),o,n):[]}),Wn=baseRest(function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]}),Kn=baseRest(function(e){var t=last(e),n=arrayMap(e,castArrayLikeObject);return t===last(n)?t=o:n.pop(),n.length&&n[0]===e[0]?baseIntersection(n,getIteratee(t,2)):[]}),Xn=baseRest(function(e){var t=last(e),n=arrayMap(e,castArrayLikeObject);return t="function"==typeof t?t:o,t&&n.pop(),n.length&&n[0]===e[0]?baseIntersection(n,o,t):[]}),Jn=baseRest(pullAll),Zn=flatRest(function(e,t){var n=null==e?0:e.length,r=baseAt(e,t);return basePullAt(e,arrayMap(t,function(e){return isIndex(e,n)?+e:e}).sort(compareAscending)),r}),Qn=baseRest(function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))}),er=baseRest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=o),baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),getIteratee(t,2))}),tr=baseRest(function(e){var t=last(e);return t="function"==typeof t?t:o,baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),o,t)}),nr=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,t):[]}),rr=baseRest(function(e){return baseXor(arrayFilter(e,isArrayLikeObject))}),ir=baseRest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=o),baseXor(arrayFilter(e,isArrayLikeObject),getIteratee(t,2))}),or=baseRest(function(e){var t=last(e);return t="function"==typeof t?t:o,baseXor(arrayFilter(e,isArrayLikeObject),o,t)}),ar=baseRest(unzip),sr=baseRest(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,unzipWith(e,n)}),lr=flatRest(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return baseAt(t,e)};return!(t>1||this.__actions__.length)&&r instanceof LazyWrapper&&isIndex(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:thru,args:[i],thisArg:o}),new LodashWrapper(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)}),cr=createAggregator(function(e,t,n){lt.call(e,n)?++e[n]:baseAssignValue(e,n,1)}),ur=createFind(findIndex),dr=createFind(findLastIndex),hr=createAggregator(function(e,t,n){lt.call(e,n)?e[n].push(t):baseAssignValue(e,n,[t])}),pr=baseRest(function(e,n,r){var i=-1,o="function"==typeof n,a=isArrayLike(e)?t(e.length):[];return Mn(e,function(e){a[++i]=o?apply(n,e,r):baseInvoke(e,n,r)}),a}),mr=createAggregator(function(e,t,n){baseAssignValue(e,n,t)}),fr=createAggregator(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),gr=baseRest(function(e,t){if(null==e)return[];var n=t.length;return n>1&&isIterateeCall(e,t[0],t[1])?t=[]:n>2&&isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),baseOrderBy(e,baseFlatten(t,1),[])}),vr=Nt||function(){return Lt.Date.now()},yr=baseRest(function(e,t,n){var r=v;if(n.length){var i=replaceHolders(n,getHolder(yr));r|=x}return createWrap(e,r,t,n,i)}),_r=baseRest(function(e,t,n){var r=v|y;if(n.length){var i=replaceHolders(n,getHolder(_r));r|=x}return createWrap(t,r,e,n,i)}),br=baseRest(function(e,t){return baseDelay(e,1,t)}),wr=baseRest(function(e,t,n){return baseDelay(e,toNumber(t)||0,n)});memoize.Cache=MapCache;var xr=Ln(function(e,t){t=1==t.length&&Ar(t[0])?arrayMap(t[0],baseUnary(getIteratee())):arrayMap(baseFlatten(t,1),baseUnary(getIteratee()));var n=t.length;return baseRest(function(r){for(var i=-1,o=on(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return apply(e,this,r)})}),Sr=baseRest(function(e,t){var n=replaceHolders(t,getHolder(Sr));return createWrap(e,x,o,t,n)}),Cr=baseRest(function(e,t){var n=replaceHolders(t,getHolder(Cr));return createWrap(e,S,o,t,n)}),Er=flatRest(function(e,t){return createWrap(e,E,o,o,o,t)}),Tr=createRelationalOperation(baseGt),Mr=createRelationalOperation(function(e,t){return e>=t}),kr=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&lt.call(e,"callee")&&!Mt.call(e,"callee")},Ar=t.isArray,Dr=Ht?baseUnary(Ht):baseIsArrayBuffer,$r=Qt||stubFalse,Pr=jt?baseUnary(jt):baseIsDate,Lr=Bt?baseUnary(Bt):baseIsMap,Rr=Vt?baseUnary(Vt):baseIsRegExp,Or=Yt?baseUnary(Yt):baseIsSet,Ir=zt?baseUnary(zt):baseIsTypedArray,Fr=createRelationalOperation(baseLt),Nr=createRelationalOperation(function(e,t){return e<=t}),Hr=createAssigner(function(e,t){if(isPrototype(t)||isArrayLike(t))return void copyObject(t,keys(t),e);for(var n in t)lt.call(t,n)&&assignValue(e,n,t[n])}),jr=createAssigner(function(e,t){copyObject(t,keysIn(t),e)}),Br=createAssigner(function(e,t,n,r){copyObject(t,keysIn(t),e,r)}),Vr=createAssigner(function(e,t,n,r){copyObject(t,keys(t),e,r)}),Yr=flatRest(baseAt),zr=baseRest(function(e){return e.push(o,customDefaultsAssignIn),apply(Br,o,e)}),qr=baseRest(function(e){return e.push(o,customDefaultsMerge),apply(Xr,o,e)}),Ur=createInverter(function(e,t,n){e[t]=n},constant(identity)),Gr=createInverter(function(e,t,n){lt.call(e,t)?e[t].push(n):e[t]=[n]},getIteratee),Wr=baseRest(baseInvoke),Kr=createAssigner(function(e,t,n){baseMerge(e,t,n)}),Xr=createAssigner(function(e,t,n,r){baseMerge(e,t,n,r)}),Jr=flatRest(function(e,t){var n={};if(null==e)return n;var r=!1;t=arrayMap(t,function(t){return t=castPath(t,e),r||(r=t.length>1),t}),copyObject(e,getAllKeysIn(e),n),r&&(n=baseClone(n,h|p|m,customOmitClone));for(var i=t.length;i--;)baseUnset(n,t[i]);return n}),Zr=flatRest(function(e,t){return null==e?{}:basePick(e,t)}),Qr=createToPairs(keys),ei=createToPairs(keysIn),ti=createCompounder(function(e,t,n){return t=t.toLowerCase(),e+(n?capitalize(t):t)}),ni=createCompounder(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ri=createCompounder(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),ii=createCaseFirst("toLowerCase"),oi=createCompounder(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),ai=createCompounder(function(e,t,n){return e+(n?" ":"")+li(t)}),si=createCompounder(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),li=createCaseFirst("toUpperCase"),ci=baseRest(function(e,t){try{return apply(e,o,t)}catch(e){return isError(e)?e:new r(e)}}),ui=flatRest(function(e,t){return arrayEach(t,function(t){t=toKey(t),baseAssignValue(e,t,yr(e[t],e))}),e}),di=createFlow(),hi=createFlow(!0),pi=baseRest(function(e,t){return function(n){return baseInvoke(n,e,t)}}),mi=baseRest(function(e,t){return function(n){return baseInvoke(e,n,t)}}),fi=createOver(arrayMap),gi=createOver(arrayEvery),vi=createOver(arraySome),yi=createRange(),_i=createRange(!0),bi=createMathOperation(function(e,t){return e+t},0),wi=createRound("ceil"),xi=createMathOperation(function(e,t){return e/t},1),Si=createRound("floor"),Ci=createMathOperation(function(e,t){return e*t},1),Ei=createRound("round"),Ti=createMathOperation(function(e,t){return e-t},0);return lodash.after=after,lodash.ary=ary,lodash.assign=Hr,lodash.assignIn=jr,lodash.assignInWith=Br,lodash.assignWith=Vr,lodash.at=Yr,lodash.before=before,lodash.bind=yr,lodash.bindAll=ui,lodash.bindKey=_r,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=cr,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=zr,lodash.defaultsDeep=qr,lodash.defer=br,lodash.delay=wr,lodash.difference=qn,lodash.differenceBy=Un,lodash.differenceWith=Gn,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatMapDeep=flatMapDeep,lodash.flatMapDepth=flatMapDepth,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=di,lodash.flowRight=hi,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=hr,lodash.initial=initial,lodash.intersection=Wn,lodash.intersectionBy=Kn,lodash.intersectionWith=Xn,lodash.invert=Ur,lodash.invertBy=Gr,lodash.invokeMap=pr,lodash.iteratee=iteratee,lodash.keyBy=mr,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=Kr,lodash.mergeWith=Xr,lodash.method=pi,lodash.methodOf=mi,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=Jr,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=fi,lodash.overArgs=xr,lodash.overEvery=gi,lodash.overSome=vi,lodash.partial=Sr,lodash.partialRight=Cr,lodash.partition=fr,lodash.pick=Zr,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=Jn,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=Zn,lodash.range=yi,lodash.rangeRight=_i,lodash.rearg=Er,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=gr,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=Qr,lodash.toPairsIn=ei,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=Qn,lodash.unionBy=er,lodash.unionWith=tr,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=nr,lodash.words=words,lodash.wrap=wrap,lodash.xor=rr,lodash.xorBy=ir,lodash.xorWith=or,lodash.zip=ar,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=sr,lodash.entries=Qr,lodash.entriesIn=ei,lodash.extend=jr,lodash.extendWith=Br,mixin(lodash,lodash),lodash.add=bi,lodash.attempt=ci,lodash.camelCase=ti,lodash.capitalize=capitalize,lodash.ceil=wi,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.conformsTo=conformsTo,lodash.deburr=deburr,lodash.defaultTo=defaultTo,lodash.divide=xi,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=ur,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=dr,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=Si,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=Tr,lodash.gte=Mr,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=Wr,lodash.isArguments=kr,lodash.isArray=Ar,lodash.isArrayBuffer=Dr,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=$r,lodash.isDate=Pr,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=Lr,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=Rr,lodash.isSafeInteger=isSafeInteger,lodash.isSet=Or,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=Ir,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=ni,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=ri,lodash.lowerFirst=ii,lodash.lt=Fr,lodash.lte=Nr,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.meanBy=meanBy,lodash.min=min,lodash.minBy=minBy,lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=stubObject,lodash.stubString=stubString,lodash.stubTrue=stubTrue,lodash.multiply=Ci,lodash.nth=nth,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=vr,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=Ei,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=oi,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=ai,lodash.startsWith=startsWith,lodash.subtract=Ti,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=si,lodash.upperFirst=li,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var e={};return baseForOwn(lodash,function(t,n){lt.call(lodash.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),lodash.VERSION="4.17.4",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){lodash[e].placeholder=lodash}),arrayEach(["drop","take"],function(e,t){LazyWrapper.prototype[e]=function(n){n=n===o?1:rn(toInteger(n),0);var r=this.__filtered__&&!t?new LazyWrapper(this):this.clone();return r.__filtered__?r.__takeCount__=on(n,r.__takeCount__):r.__views__.push({size:on(n,F),type:e+(r.__dir__<0?"Right":"")}),r},LazyWrapper.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),arrayEach(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==$||3==n;LazyWrapper.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:getIteratee(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),arrayEach(["head","last"],function(e,t){var n="take"+(t?"Right":"");LazyWrapper.prototype[e]=function(){return this[n](1).value()[0]}}),arrayEach(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");LazyWrapper.prototype[e]=function(){return this.__filtered__?new LazyWrapper(this):this[n](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(e){return this.filter(e).head()},LazyWrapper.prototype.findLast=function(e){return this.reverse().find(e)},LazyWrapper.prototype.invokeMap=baseRest(function(e,t){return"function"==typeof e?new LazyWrapper(this):this.map(function(n){return baseInvoke(n,e,t)})}),LazyWrapper.prototype.reject=function(e){return this.filter(negate(getIteratee(e)))},LazyWrapper.prototype.slice=function(e,t){e=toInteger(e);var n=this;return n.__filtered__&&(e>0||t<0)?new LazyWrapper(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=toInteger(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},LazyWrapper.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(F)},baseForOwn(LazyWrapper.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=lodash[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(lodash.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof LazyWrapper,c=s[0],u=l||Ar(t),d=function(e){var t=i.apply(lodash,arrayPush([e],s));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,m=a&&!h,f=l&&!p;if(!a&&u){t=f?t:new LazyWrapper(this);var g=e.apply(t,s);return g.__actions__.push({func:thru,args:[d],thisArg:o}),new LodashWrapper(g,h)}return m&&f?e.apply(this,s):(g=this.thru(d),m?r?g.value()[0]:g.value():g)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(e){var t=rt[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);lodash.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ar(i)?i:[],e)}return this[n](function(n){return t.apply(Ar(n)?n:[],e)})}}),baseForOwn(LazyWrapper.prototype,function(e,t){var n=lodash[t];if(n){var r=n.name+"";(vn[r]||(vn[r]=[])).push({name:t,func:n})}}),vn[createHybrid(o,y).name]=[{name:"wrapper",func:o}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=lr,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.first=lodash.prototype.head,Pt&&(lodash.prototype[Pt]=wrapperToIterator),lodash}();Lt._=Kt,(i=function(){return Kt}.call(t,n,t,r))!==o&&(r.exports=i)}).call(this)}).call(t,n(8),n(17)(e))},function(e,t,n){(function(t){var r="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(251),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}e.exports={default:e.exports,__esModule:!0}}).call(t,n(8))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(72),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,n){function step(r,o){try{var a=t[r](o),s=a.value}catch(e){return void n(e)}if(!a.done)return i.default.resolve(s).then(function(e){return step("next",e)},function(e){return step("throw",e)});e(s)}return step("next")})}}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){!function(e,r){r(t,n(1),n(295))}(0,function(e,t,n){"use strict";function getNg1ViewConfigFactory(){var e=null;return function(t,r){return e=e||n.services.$injector.get("$templateFactory"),[new s(t,r,e)]}}function ng1ViewsBuilder(e){if(!e.parent)return{};var t=["templateProvider","templateUrl","template","notify","async"],r=["controller","controllerProvider","controllerAs","resolveAs"],i=["component","bindings","componentProvider"],a=t.concat(r),s=i.concat(a);if(n.isDefined(e.views)&&o(s,e))throw new Error("State '"+e.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+s.filter(function(t){return n.isDefined(e[t])}).join(", "));var l={},c=e.views||{$default:n.pick(e,s)};return n.forEach(c,function(t,r){if(r=r||"$default",n.isString(t)&&(t={component:t}),t=n.extend({},t),o(i,t)&&o(a,t))throw new Error("Cannot combine: "+i.join("|")+" with: "+a.join("|")+" in stateview: '"+r+"@"+e.name+"'");t.resolveAs=t.resolveAs||"$resolve",t.$type="ng1",t.$context=e,t.$name=r;var s=n.ViewService.normalizeUIViewTarget(t.$context,t.$name);t.$uiViewName=s.uiViewName,t.$uiViewContextAnchor=s.uiViewContextAnchor,l[r]=t}),l}function getComponentBindings(e){var t=n.services.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(c).reduce(n.unnestR,[])}function $uiRouter(e){function $get(e,n,r,i,o,a){return t._runtimeServices(i,e,r,n),delete b.router,delete b.$get,b}b=this.router=new n.UIRouter,b.stateProvider=new d(b.stateRegistry,b.stateService),b.stateRegistry.decorator("views",ng1ViewsBuilder),b.stateRegistry.decorator("onExit",h("onExit")),b.stateRegistry.decorator("onRetain",h("onRetain")),b.stateRegistry.decorator("onEnter",h("onEnter")),b.viewService._pluginapi._viewConfigFactory("ng1",getNg1ViewConfigFactory());var t=b.locationService=b.locationConfig=new p(e);return p.monkeyPatchPathParameterType(b),b.router=b,b.$get=$get,$get.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],b}function runBlock(e,t,r){n.services.$injector=e,n.services.$q=t,r.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(n.unnestR,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn,e.strictDi)})}function watchDigests(e){e.$watch(function(){n.trace.approximateDigests++})}function parseStateRef(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function stateContext(e){var t=e.parent().inheritedData("$uiView"),r=n.parse("$cfg.path")(t);return r?n.tail(r).state.name:void 0}function processedDef(e,t,r){var i=r.uiState||e.current.name,o=n.extend(defaultOpts(t,e),r.uiStateOpts||{}),a=e.href(i,r.uiStateParams,o);return{uiState:i,uiStateParams:r.uiStateParams,uiStateOpts:o,href:a}}function getTypeInfo(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function clickHook(e,t,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var c=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function defaultOpts(e,t){return{relative:stateContext(e)||t.$current,inherit:!0,source:"sref"}}function bindEvents(e,t,r,i){var o;i&&(o=i.events),n.isArray(o)||(o=["click"]);for(var a=e.on?"on":"bind",s=0,l=o;s<l.length;s++){var c=l[s];e[a](c,r)}t.$on("$destroy",function(){for(var t=e.off?"off":"unbind",n=0,i=o;n<i.length;n++){var a=i[n];e[t](a,r)}})}function $IsStateFilter(e){var t=function(t,n,r){return e.is(t,n,r)};return t.$stateful=!0,t}function $IncludedByStateFilter(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}function $ViewDirectiveFill(e,r,o,a,s,l){var c=n.parse("viewDecl.controllerAs"),u=n.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(a){var l=a.html();return a.empty(),function(a,d){var h=d.data("$uiView");if(!h)return d.html(l),void e(d.contents())(a);var p=h.$cfg||{viewDecl:{},getTemplate:t.noop},m=p.path&&new n.ResolveContext(p.path);d.html(p.getTemplate(d,m)||l),n.trace.traceUIViewFill(h.$uiView,d.html());var f=e(d.contents()),g=p.controller,v=c(p),y=u(p),_=m&&E(m);if(a[y]=_,g){var b=r(g,n.extend({},_,{$scope:a,$element:d}));v&&(a[v]=b,a[v][y]=_),d.data("$ngControllerController",b),d.children().data("$ngControllerController",b),registerControllerCallbacks(s,o,b,a,p)}if(n.isString(p.viewDecl.component))var w=p.viewDecl.component,x=n.kebobString(w),S=new RegExp("^(x-|data-)?"+x+"$","i"),C=function(){var e=[].slice.call(d[0].children).filter(function(e){return e&&e.tagName&&S.exec(e.tagName)});return e&&i.element(e).data("$"+w+"Controller")},T=a.$watch(C,function(e){e&&(registerControllerCallbacks(s,o,e,a,p),T())});f(a)}}}}function registerControllerCallbacks(e,t,r,i,o){!n.isFunction(r.$onInit)||o.viewDecl.component&&A||r.$onInit();var a=n.tail(o.path).state.self,s={bind:r};if(n.isFunction(r.uiOnParamsChanged)){var l=new n.ResolveContext(o.path),c=l.getResolvable("$transition$").data,u=function(e){if(e!==c&&-1===e.exiting().indexOf(a)){var t=e.params("to"),i=e.params("from"),o=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(n.unnestR,[]),s=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(n.unnestR,[]),l=o.filter(function(e){var n=s.indexOf(e);return-1===n||!s[n].type.equals(t[e.id],i[e.id])});if(l.length){var u=l.map(function(e){return e.id}),d=n.filter(t,function(e,t){return-1!==u.indexOf(t)});r.uiOnParamsChanged(d,e)}}};i.$on("$destroy",t.onSuccess({},u,s))}if(n.isFunction(r.uiCanExit)){var d=D++,h=function(e){return!!e&&(e._uiCanExitIds&&!0===e._uiCanExitIds[d]||h(e.redirectedFrom()))},p=function(t){var n,i=t._uiCanExitIds=t._uiCanExitIds||{};return h(t)||(n=e.when(r.uiCanExit(t)),n.then(function(e){return i[d]=!1!==e})),n},m={exiting:a.name};i.$on("$destroy",t.onBefore(m,p,s))}}function $ViewScrollProvider(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}var r=angular,i=t&&t.module?t:r,o=function(e,t){return e.reduce(function(e,r){return e||n.isDefined(t[r])},!1)},a=0,s=function(){function Ng1ViewConfig(e,t,n){var r=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=a++,this.loaded=!1,this.getTemplate=function(e,t){return r.component?r.factory.makeComponentTemplate(e,t,r.component,r.viewDecl.bindings):r.template}}return Ng1ViewConfig.prototype.load=function(){var e=this,t=n.services.$q,r=new n.ResolveContext(this.path),i=this.path.reduce(function(e,t){return n.extend(e,t.paramValues)},{}),o={template:t.when(this.factory.fromConfig(this.viewDecl,i,r)),controller:t.when(this.getController(r))};return t.all(o).then(function(t){return n.trace.traceViewServiceEvent("Loaded",e),e.controller=t.controller,n.extend(e,t.template),e})},Ng1ViewConfig.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!n.isInjectable(t))return this.viewDecl.controller;var r=n.services.$injector.annotate(t),i=n.isArray(t)?n.tail(t):t;return new n.Resolvable("",i,r).get(e)},Ng1ViewConfig}(),l=function(){function TemplateFactory(){var e=this;this._useHttp=i.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,n,r){return e.$templateRequest=r.has&&r.has("$templateRequest")&&r.get("$templateRequest"),e.$http=t,e.$templateCache=n,e}]}return TemplateFactory.prototype.useHttpService=function(e){this._useHttp=e},TemplateFactory.prototype.fromConfig=function(e,t,r){var i=function(e){return n.services.$q.when(e).then(function(e){return{template:e}})},o=function(e){return n.services.$q.when(e).then(function(e){return{component:e}})};return n.isDefined(e.template)?i(this.fromString(e.template,t)):n.isDefined(e.templateUrl)?i(this.fromUrl(e.templateUrl,t)):n.isDefined(e.templateProvider)?i(this.fromProvider(e.templateProvider,t,r)):n.isDefined(e.component)?o(e.component):n.isDefined(e.componentProvider)?o(this.fromComponentProvider(e.componentProvider,t,r)):i("<ui-view></ui-view>")},TemplateFactory.prototype.fromString=function(e,t){return n.isFunction(e)?e(t):e},TemplateFactory.prototype.fromUrl=function(e,t){return n.isFunction(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},TemplateFactory.prototype.fromProvider=function(e,t,r){var i=n.services.$injector.annotate(e),o=n.isArray(e)?n.tail(e):e;return new n.Resolvable("",o,i).get(r)},TemplateFactory.prototype.fromComponentProvider=function(e,t,r){var i=n.services.$injector.annotate(e),o=n.isArray(e)?n.tail(e):e;return new n.Resolvable("",o,i).get(r)},TemplateFactory.prototype.makeComponentTemplate=function(e,t,r,o){o=o||{};var a=i.version.minor>=3?"::":"",s=function(e){var t=n.kebobString(e);return/^(x|data)-/.exec(t)?"x-"+t:t},l=function(r){var i=r.name,l=r.type,c=s(i);if(e.attr(c)&&!o[i])return c+"='"+e.attr(c)+"'";var u=o[i]||i;if("@"===l)return c+"='{{"+a+"$resolve."+u+"}}'";if("&"===l){var d=t.getResolvable(u),h=d&&d.data,p=h&&n.services.$injector.annotate(h)||[];return c+"='$resolve."+u+(n.isArray(h)?"["+(h.length-1)+"]":"")+"("+p.join(",")+")'"}return c+"='"+a+"$resolve."+u+"'"},c=getComponentBindings(r).map(l).join(" "),u=s(r);return"<"+u+" "+c+"></"+u+">"},TemplateFactory}(),c=function(e){return u(n.isObject(e.bindToController)?e.bindToController:e.scope)},u=function(e){return Object.keys(e||{}).map(function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]}).filter(function(e){return n.isDefined(e)&&n.isArray(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},d=function(){function StateProvider(e,t){this.stateRegistry=e,this.stateService=t,n.createProxyFunctions(n.val(StateProvider.prototype),this,n.val(this))}return StateProvider.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},StateProvider.prototype.state=function(e,t){return n.isObject(e)?t=e:t.name=e,this.stateRegistry.register(t),this},StateProvider.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},StateProvider}(),h=function(e){return function(t,r){function decoratedNg1Hook(e,t){var r=new n.ResolveContext(e.treeChanges(o)),a=n.extend(E(r),{$state$:t,$transition$:e});return n.services.$injector.invoke(i,this,a)}var i=t[e],o="onExit"===e?"from":"to";return i?decoratedNg1Hook:void 0}},p=function(){function Ng1LocationServices(e){this._urlListeners=[],this.$locationProvider=e;var t=n.val(e);n.createProxyFunctions(t,this,t,["hashPrefix"])}return Ng1LocationServices.prototype.dispose=function(){},Ng1LocationServices.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return n.removeFrom(t._urlListeners)(e)}},Ng1LocationServices.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=n.isObject(e)?e.enabled:e)&&this.$sniffer.history},Ng1LocationServices.prototype.url=function(e,t,n){return void 0===t&&(t=!1),e&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},Ng1LocationServices.prototype._runtimeServices=function(e,t,r,i){var o=this;this.$location=t,this.$sniffer=r,e.$on("$locationChangeSuccess",function(e){return o._urlListeners.forEach(function(t){return t(e)})});var a=n.val(t),s=n.val(i);n.createProxyFunctions(a,this,a,["replace","path","search","hash"]),n.createProxyFunctions(a,this,a,["port","protocol","host"]),n.createProxyFunctions(s,this,s,["baseHref"])},Ng1LocationServices.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},Ng1LocationServices}(),m=function(){function UrlRouterProvider(e){this._router=e,this._urlRouter=e.urlRouter}return UrlRouterProvider.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},UrlRouterProvider.prototype.rule=function(e){var t=this;if(!n.isFunction(e))throw new Error("'rule' must be a function");var r=function(){return e(n.services.$injector,t._router.locationService)},i=new n.BaseUrlRule(r,n.identity);return this._urlRouter.rule(i),this},UrlRouterProvider.prototype.otherwise=function(e){var t=this,r=this._urlRouter;if(n.isString(e))r.otherwise(e);else{if(!n.isFunction(e))throw new Error("'rule' must be a string or function");r.otherwise(function(){return e(n.services.$injector,t._router.locationService)})}return this},UrlRouterProvider.prototype.when=function(e,t){return(n.isArray(t)||n.isFunction(t))&&(t=UrlRouterProvider.injectableHandler(this._router,t)),this._urlRouter.when(e,t),this},UrlRouterProvider.injectableHandler=function(e,t){return function(r){return n.services.$injector.invoke(t,null,{$match:r,$stateParams:e.globals.params})}},UrlRouterProvider.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},UrlRouterProvider}();i.module("ui.router.angular1",[]);var f=i.module("ui.router.init",[]),g=i.module("ui.router.util",["ng","ui.router.init"]),v=i.module("ui.router.router",["ui.router.util"]),y=i.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),_=i.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),b=(i.module("ui.router.compat",["ui.router"]),null);$uiRouter.$inject=["$locationProvider"];var w=function(e){return["$uiRouterProvider",function(t){var n=t.router[e];return n.$get=function(){return n},n}]};runBlock.$inject=["$injector","$q","$uiRouter"];var x=function(e){return e.urlRouterProvider=new m(e)},S=function(){return n.extend(b.stateProvider,{$get:function(){return b.stateService}})};watchDigests.$inject=["$rootScope"],f.provider("$uiRouter",$uiRouter),v.provider("$urlRouter",["$uiRouterProvider",x]),g.provider("$urlService",w("urlService")),g.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return b.urlMatcherFactory}]),g.provider("$templateFactory",function(){return new l}),y.provider("$stateRegistry",w("stateRegistry")),y.provider("$uiRouterGlobals",w("globals")),y.provider("$transitions",w("transitionService")),y.provider("$state",["$uiRouterProvider",S]),y.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),_.factory("$view",function(){return b.viewService}),_.service("$trace",function(){return n.trace}),_.run(watchDigests),g.run(["$urlMatcherFactory",function(e){}]),y.run(["$state",function(e){}]),v.run(["$urlRouter",function(e){}]),f.run(runBlock);var C,E=function(e){return e.getTokens().filter(n.isString).map(function(t){var n=e.getResolvable(t);return[t,"NOWAIT"===e.getPolicy(n).async?n.promise:n.data]}).reduce(n.applyPairs,{})};C=["$uiRouter","$timeout",function(e,t){var r=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){function update(){var e=p();d&&d(),u&&(d=u.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&a.$set(c.attr,e.href)}var l,c=getTypeInfo(o),u=s[1]||s[0],d=null,h={},p=function(){return processedDef(r,o,h)},m=parseStateRef(a.uiSref);h.uiState=m.state,h.uiStateOpts=a.uiSrefOpts?i.$eval(a.uiSrefOpts):{},m.paramExpr&&(i.$watch(m.paramExpr,function(e){h.uiStateParams=n.extend({},e),update()},!0),h.uiStateParams=n.extend({},i.$eval(m.paramExpr))),update(),i.$on("$destroy",e.stateRegistry.onStatesChanged(update)),i.$on("$destroy",e.transitionService.onSuccess({},update)),c.clickable&&(l=clickHook(o,r,t,c,p),bindEvents(o,i,l,h.uiStateOpts))}}}];var T;T=["$uiRouter","$timeout",function(e,t){var r=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){function update(){var e=p();d&&d(),u&&(d=u.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&a.$set(c.attr,e.href)}var l,c=getTypeInfo(o),u=s[1]||s[0],d=null,h={},p=function(){return processedDef(r,o,h)},m=["uiState","uiStateParams","uiStateOpts"],f=m.reduce(function(e,t){return e[t]=n.noop,e},{});m.forEach(function(e){h[e]=a[e]?i.$eval(a[e]):null,a.$observe(e,function(t){f[e](),f[e]=i.$watch(t,function(t){h[e]=t,update()},!0)})}),update(),i.$on("$destroy",e.stateRegistry.onStatesChanged(update)),i.$on("$destroy",e.transitionService.onSuccess({},update)),c.clickable&&(l=clickHook(o,r,t,c,p),bindEvents(o,i,l,h.uiStateOpts))}}}];var M;M=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,r,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,o,a){function updateAfterTransition(e){e.promise.then(update,n.noop)}function addState(t,r,i){var a=e.get(t,stateContext(o)),s={state:a||{name:t},params:r,activeClass:i};return c.push(s),function(){n.removeFrom(c)(s)}}function update(){var r=function(e){return e.split(/\s/).filter(n.identity)},i=function(e){return e.map(function(e){return e.activeClass}).map(r).reduce(n.unnestR,[])},a=i(c).concat(r(s)).reduce(n.uniqR,[]),l=i(c.filter(function(t){return e.includes(t.state.name,t.params)})),u=!!c.filter(function(t){return e.is(t.state.name,t.params)}).length,d=u?r(s):[],h=l.concat(d).reduce(n.uniqR,[]),p=a.filter(function(e){return!n.inArray(h,e)});t.$evalAsync(function(){h.forEach(function(e){return o.addClass(e)}),p.forEach(function(e){return o.removeClass(e)})})}var s,l,c=[];s=r(a.uiSrefActiveEq||"",!1)(t);try{l=t.$eval(a.uiSrefActive)}catch(e){}l=l||r(a.uiSrefActive||"",!1)(t),n.isObject(l)&&n.forEach(l,function(e,r){if(n.isString(e)){var i=parseStateRef(e);addState(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!(n.isObject(l)&&c.length>0)){var r=addState(e,t,l);return update(),r}},t.$on("$stateChangeSuccess",update),t.$on("$destroy",i.transitionService.onStart({},updateAfterTransition)),i.globals.transition&&updateAfterTransition(i.globals.transition),update()}]}}],i.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",M).directive("uiSrefActiveEq",M).directive("uiState",T),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],i.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter);var k;k=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,r,o,a){function getRenderer(e,n){return{enter:function(e,n,r){i.version.minor>2?t.enter(e,null,n).then(r):t.enter(e,null,n,r)},leave:function(e,n){i.version.minor>2?t.leave(e).then(n):t.leave(e,n)}}}function configsEqual(e,t){return e===t}var l={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},c={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,i,u){return function(t,i,d){function configUpdatedCallback(e){(!e||e instanceof s)&&(configsEqual(_,e)||(n.trace.traceUIViewConfigUpdated(x,e&&e.viewDecl&&e.viewDecl.$context),_=e,updateView(e)))}function cleanupLastView(){if(h&&(n.trace.traceUIViewEvent("Removing (previous) el",h.data("$uiView")),h.remove(),h=null),m&&(n.trace.traceUIViewEvent("Destroying scope",x),m.$destroy(),m=null),p){var e=p.data("$uiViewAnim");n.trace.traceUIViewEvent("Animate out",e),y.leave(p,function(){e.$$animLeave.resolve(),h=null}),h=p,p=null}}function updateView(e){var o=t.$new(),s=a.defer(),l=a.defer(),c={$cfg:e,$uiView:x},d={$animEnter:s.promise,$animLeave:l.promise,$$animLeave:l};o.$emit("$viewContentLoading",w);var h=u(o,function(e){e.data("$uiViewAnim",d),e.data("$uiView",c),y.enter(e,i,function(){s.resolve(),m&&m.$emit("$viewContentAnimationEnded"),(n.isDefined(v)&&!v||t.$eval(v))&&r(e)}),cleanupLastView()});p=h,m=o,m.$emit("$viewContentLoaded",e||_),m.$eval(g)}var h,p,m,f,g=d.onload||"",v=d.autoscroll,y=getRenderer(d,t),_=void 0,b=i.inheritedData("$uiView")||l,w=o(d.uiView||d.name||"")(t)||"$default",x={$type:"ng1",id:c.count++,name:w,fqn:b.$uiView.fqn?b.$uiView.fqn+"."+w:w,config:null,configUpdated:configUpdatedCallback,get creationContext(){var e=n.parse("$cfg.viewDecl.$context")(b),t=n.parse("$uiView.creationContext")(b);return e||t}};n.trace.traceUIViewEvent("Linking",x),i.data("$uiView",{$uiView:x}),updateView(),f=e.registerUIView(x),t.$on("$destroy",function(){n.trace.traceUIViewEvent("Destroying/Unregistering",x),f()})}}};return c}],$ViewDirectiveFill.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var A="function"==typeof i.module("ui.router").component,D=0;i.module("ui.router.state").directive("uiView",k),i.module("ui.router.state").directive("uiView",$ViewDirectiveFill),i.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider);e.default="ui.router",e.core=n,e.watchDigests=watchDigests,e.getLocals=E,e.getNg1ViewConfigFactory=getNg1ViewConfigFactory,e.ng1ViewsBuilder=ng1ViewsBuilder,e.Ng1ViewConfig=s,e.StateProvider=d,e.UrlRouterProvider=m,Object.keys(n).forEach(function(t){e[t]=n[t]}),Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(55)("wks"),i=n(39),o=n(9).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(9),i=n(6),o=n(24),a=n(19),s=function(e,t,n){var l,c,u,d=e&s.F,h=e&s.G,p=e&s.S,m=e&s.P,f=e&s.B,g=e&s.W,v=h?i:i[t]||(i[t]={}),y=v.prototype,_=h?r:p?r[t]:(r[t]||{}).prototype;h&&(n=t);for(l in n)(c=!d&&_&&void 0!==_[l])&&l in v||(u=c?_[l]:n[l],v[l]=h&&"function"!=typeof _[l]?n[l]:f&&c?o(u,r):g&&_[l]==u?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):m&&"function"==typeof u?o(Function.call,u):u,m&&((v.virtual||(v.virtual={}))[l]=u,e&s.R&&y&&!y[l]&&a(y,l,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(14),i=n(75),o=n(51),a=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(20);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports={default:n(364),__esModule:!0}},function(e,t,n){e.exports=!n(25)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):l=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(o=a,a=[];++l<t;)o&&o[l].run();l=-1,t=a.length}o=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var n,r,i=e.exports={};!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o,a=[],s=!1,l=-1;i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(13),i=n(28);e.exports=n(16)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||r(onEndNT,this)}function onEndNT(e){e.end()}var r=n(44),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=Duplex;var o=n(36);o.inherits=n(12);var a=n(224),s=n(65);o.inherits(Duplex,a);for(var l=i(s.prototype),c=0;c<l.length;c++){var u=l[c];Duplex.prototype[u]||(Duplex.prototype[u]=s.prototype[u])}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex.prototype._destroy=function(e,t){this.push(null),this.end(),r(t,e)}},function(e,t,n){var r;!function(i){"use strict";function loadImage(e,t,n){var r,i=document.createElement("img");return i.onerror=function(r){return loadImage.onerror(i,r,e,t,n)},i.onload=function(r){return loadImage.onload(i,r,e,t,n)},"string"==typeof e?(loadImage.fetchBlob(e,function(t){t?(e=t,r=loadImage.createObjectURL(e)):(r=e,n&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin)),i.src=r},n),i):loadImage.isInstanceOf("Blob",e)||loadImage.isInstanceOf("File",e)?(r=i._objectURL=loadImage.createObjectURL(e),r?(i.src=r,i):loadImage.readFile(e,function(e){var n=e.target;n&&n.result?i.src=n.result:t&&t(e)})):void 0}function revokeHelper(e,t){!e._objectURL||t&&t.noRevoke||(loadImage.revokeObjectURL(e._objectURL),delete e._objectURL)}var o=i.createObjectURL&&i||i.URL&&URL.revokeObjectURL&&URL||i.webkitURL&&webkitURL;loadImage.fetchBlob=function(e,t,n){t()},loadImage.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},loadImage.transform=function(e,t,n,r,i){n(e,i)},loadImage.onerror=function(e,t,n,r,i){revokeHelper(e,i),r&&r.call(e,t)},loadImage.onload=function(e,t,n,r,i){revokeHelper(e,i),r&&loadImage.transform(e,i,r,n,{})},loadImage.createObjectURL=function(e){return!!o&&o.createObjectURL(e)},loadImage.revokeObjectURL=function(e){return!!o&&o.revokeObjectURL(e)},loadImage.readFile=function(e,t,n){if(i.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,n=n||"readAsDataURL",r[n])return r[n](e),r}return!1},void 0!==(r=function(){return loadImage}.call(t,n,t,e))&&(e.exports=r)}("undefined"!=typeof window&&window||this)},function(e,t,n){var r=n(38);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(78),i=n(49);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";(function(e){function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=Buffer.prototype):(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,n){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,n,r):"string"==typeof t?fromString(e,t,n):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,n,r){return assertSize(t),t<=0?createBuffer(e,t):void 0!==n?"string"==typeof r?createBuffer(e,t).fill(n,r):createBuffer(e,t).fill(n):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromString(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(t,n);e=createBuffer(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function fromArrayBuffer(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Buffer.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=Buffer.prototype):e=fromArrayLike(e,t),e}function fromObject(e,t){if(Buffer.isBuffer(t)){var n=0|checked(t.length);return e=createBuffer(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(r)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),r=!0}}function slowToString(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function swap(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function bidirectionalIndexOf(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Buffer.from(t,r)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,r,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,r,i){function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<a;l++)if(read(e,l)===read(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===s)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(n+s>a&&(n=a-s),l=n;l>=0;l--){for(var u=!0,d=0;d<s;d++)if(read(e,l+d)!==read(t,d)){u=!1;break}if(u)return l}return-1}function hexWrite(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function utf8Write(e,t,n,r){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,r)}function asciiWrite(e,t,n,r){return blitBuffer(asciiToBytes(t),e,n,r)}function latin1Write(e,t,n,r){return asciiWrite(e,t,n,r)}function base64Write(e,t,n,r){return blitBuffer(base64ToBytes(t),e,n,r)}function ucs2Write(e,t,n,r){return blitBuffer(utf16leToBytes(t,e.length-n),e,n,r)}function base64Slice(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var l,c,u,d;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[i+1],128==(192&l)&&(d=(31&o)<<6|63&l)>127&&(a=d);break;case 3:l=e[i+1],c=e[i+2],128==(192&l)&&128==(192&c)&&(d=(15&o)<<12|(63&l)<<6|63&c)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],128==(192&l)&&128==(192&c)&&128==(192&u)&&(d=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return decodeCodePointsArray(r)}function decodeCodePointsArray(e){var t=e.length;if(t<=a)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=a));return n}function asciiSlice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function latin1Slice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function hexSlice(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=toHex(e[o]);return i}function utf16leSlice(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function checkOffset(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,r,i,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function objectWriteUInt32(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function checkIEEE754(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,r,o){return o||checkIEEE754(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,t,n,r,23,4),n+4}function writeDouble(e,t,n,r,o){return o||checkIEEE754(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,t,n,r,52,8),n+8}function base64clean(e){if(e=stringtrim(e).replace(s,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function utf16leToBytes(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function base64ToBytes(e){return r.toByteArray(base64clean(e))}function blitBuffer(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function isnan(e){return e!==e}var r=n(321),i=n(322),o=n(217);t.Buffer=Buffer,t.SlowBuffer=SlowBuffer,t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,n){return from(null,e,t,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,n){return alloc(null,e,t,n)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function(e){return!(null==e||!e._isBuffer)},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Buffer.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,n,r,i){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return latin1Write(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;Buffer.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(Buffer.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=Buffer.prototype;else{var i=t-e;r=new Buffer(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},Buffer.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},Buffer.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},Buffer.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){checkInt(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},Buffer.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){checkInt(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},Buffer.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},Buffer.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g}).call(t,n(8))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports={}},function(e,t,n){var r=n(77),i=n(56);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(49);e.exports=function(e){return Object(r(e))}},function(e,t,n){(function(e,r){var i;!function(o){var a="object"==typeof t&&t,s=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,d=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,h={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},p=/["&'<>`]/g,m={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},f=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,g=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,y={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},_={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},b={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],x=String.fromCharCode,S={},C=S.hasOwnProperty,E=function(e,t){return C.call(e,t)},T=function(e,t){for(var n=-1,r=e.length;++n<r;)if(e[n]==t)return!0;return!1},M=function(e,t){if(!e)return t;var n,r={};for(n in t)r[n]=E(e,n)?e[n]:t[n];return r},k=function(e,t){var n="";return e>=55296&&e<=57343||e>1114111?(t&&$("character reference outside the permissible Unicode range"),"�"):E(b,e)?(t&&$("disallowed character reference"),b[e]):(t&&T(w,e)&&$("disallowed character reference"),e>65535&&(e-=65536,n+=x(e>>>10&1023|55296),e=56320|1023&e),n+=x(e))},A=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},D=function(e){return"&#"+e+";"},$=function(e){throw Error("Parse error: "+e)},P=function(e,t){t=M(t,P.options),t.strict&&g.test(e)&&$("forbidden code point");var n=t.encodeEverything,r=t.useNamedReferences,i=t.allowUnsafeSymbols,o=t.decimal?D:A,a=function(e){return o(e.charCodeAt(0))};return n?(e=e.replace(c,function(e){return r&&E(h,e)?"&"+h[e]+";":a(e)}),r&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(e=e.replace(d,function(e){return"&"+h[e]+";"}))):r?(i||(e=e.replace(p,function(e){return"&"+h[e]+";"})),e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),e=e.replace(d,function(e){return"&"+h[e]+";"})):i||(e=e.replace(p,a)),e.replace(l,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return o(1024*(t-55296)+n-56320+65536)}).replace(u,a)};P.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var L=function(e,t){t=M(t,L.options);var n=t.strict;return n&&f.test(e)&&$("malformed character reference"),e.replace(v,function(e,r,i,o,a,s,l,c){var u,d,h,p,m,f;return r?(h=r,d=i,n&&!d&&$("character reference was not terminated by a semicolon"),u=parseInt(h,10),k(u,n)):o?(p=o,d=a,n&&!d&&$("character reference was not terminated by a semicolon"),u=parseInt(p,16),k(u,n)):s?(m=s,E(y,m)?y[m]:(n&&$("named character reference was not terminated by a semicolon"),e)):(m=l,f=c,f&&t.isAttributeValue?(n&&"="==f&&$("`&` did not start a character reference"),e):(n&&$("named character reference was not terminated by a semicolon"),_[m]+(f||"")))})};L.options={isAttributeValue:!1,strict:!1};var R=function(e){return e.replace(p,function(e){return m[e]})},O={version:"1.1.1",encode:P,decode:L,escape:R,unescape:L};void 0!==(i=function(){return O}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(17)(e),n(8))},function(e,t,n){function defineProp(t,n){return delete e.exports[t],e.exports[t]=n,n}var r=n(218),i=n(329);e.exports={Parser:r,Tokenizer:n(219),ElementType:n(35),DomHandler:i,get FeedHandler(){return defineProp("FeedHandler",n(331))},get Stream(){return defineProp("Stream",n(332))},get WritableStream(){return defineProp("WritableStream",n(223))},get ProxyHandler(){return defineProp("ProxyHandler",n(344))},get DomUtils(){return defineProp("DomUtils",n(345))},get CollectingHandler(){return defineProp("CollectingHandler",n(357))},DefaultHandler:i,get RssHandler(){return defineProp("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var i=new e.exports.FeedHandler(n);return new r(i,n).end(t),i.dom},createDomStream:function(e,t,n){var o=new i(e,t,n);return new r(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){(function(e){function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===objectToString(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return"[object Date]"===objectToString(e)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=isNullOrUndefined,t.isNumber=isNumber,t.isString=isString,t.isSymbol=isSymbol,t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=isPrimitive,t.isBuffer=e.isBuffer}).call(t,n(27).Buffer)},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(13).f,i=n(21),o=n(10)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(94),i=_interopRequireDefault(r),o=n(95),a=_interopRequireDefault(o),s="function"==typeof a.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===s(i.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":void 0===e?"undefined":s(e)}},function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,r,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(isObject(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,o=0;o<r;o++)a[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";(function(t){function nextTick(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=nextTick:e.exports=t.nextTick}).call(t,n(18))},function(e,t){function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=isObject},function(e,t,n){var r,i,o;!function(a){"use strict";i=[n(23)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";var t="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,r,i){r=r||{},i=i||{};var o=this,a=r.maxMetaDataSize||262144;!!("undefined"!=typeof DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)&&e.readFile(e.blobSlice.call(t,0,a),function(t){if(t.target.error)return console.log(t.target.error),void n(i);var a,s,l,c,u=t.target.result,d=new DataView(u),h=2,p=d.byteLength-4,m=h;if(65496===d.getUint16(0)){for(;h<p&&((a=d.getUint16(h))>=65504&&a<=65519||65534===a);){if(s=d.getUint16(h+2)+2,h+s>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[a])for(c=0;c<l.length;c+=1)l[c].call(o,d,h,s,i,r);h+=s,m=h}!r.disableImageHead&&m>6&&(u.slice?i.imageHead=u.slice(0,m):i.imageHead=new Uint8Array(u).subarray(0,m))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(i)},"readAsArrayBuffer")||n(i)},e.hasMetaOption=function(e){return e&&e.meta};var n=e.transform;e.transform=function(t,r,i,o,a){e.hasMetaOption(r)?e.parseMetaData(o,function(a){n.call(e,t,r,i,o,a)},r,a):n.apply(e,arguments)}})},function(e,t,n){"use strict";var r=n(253)(!0);n(74)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(20),i=n(9).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(20);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(14),i=n(255),o=n(56),a=n(54)("IE_PROTO"),s=function(){},l=function(){var e,t=n(50)("iframe"),r=o.length;for(t.style.display="none",n(79).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(48),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(55)("keys"),i=n(39);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(9),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";function PromiseCapability(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}var r=n(38);e.exports.f=function(e){return new PromiseCapability(e)}},function(e,t,n){t.f=n(10)},function(e,t,n){var r=n(9),i=n(6),o=n(37),a=n(58),s=n(13).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},function(e,t){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){t=e.exports=n(224),t.Stream=t,t.Readable=t,t.Writable=n(65),t.Duplex=n(22),t.Transform=n(228),t.PassThrough=n(338)},function(e,t,n){function copyProps(e,t){for(var n in e)t[n]=e[n]}function SafeBuffer(e,t,n){return i(e,t,n)}var r=n(27),i=r.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(copyProps(r,t),t.Buffer=SafeBuffer),copyProps(i,SafeBuffer),SafeBuffer.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},SafeBuffer.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r,i){function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}function _uint8ArrayToBuffer(e){return d.from(e)}function _isUint8Array(e){return d.isBuffer(e)||e instanceof h}function nop(){}function WritableState(e,t){a=a||n(22),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(a=a||n(22),!(m.call(Writable,this)||this instanceof a))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function writeAfterEnd(e,t){var n=new Error("write after end");e.emit("error",n),o(t,n)}function validChunk(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o(r,a),i=!1),i}function decodeChunk(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}function writeOrBuffer(e,t,n,r,i,o){if(!n){var a=decodeChunk(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,s,r,i,o);return l}function doWrite(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function onwriteError(e,t,n,r,i){--t.pendingcb,n?(o(i,r),o(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(onwriteStateUpdate(n),t)onwriteError(e,n,r,t,i);else{var o=needFinish(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||clearBuffer(e,n),r?s(afterWrite,e,n,o,i):afterWrite(e,n,o,i)}}function afterWrite(e,t,n,r){n||onwriteDrain(e,t),t.pendingcb--,r(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,s=!0;n;)i[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;i.allBuffers=s,doWrite(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;n;){var l=n.chunk,c=n.encoding,u=n.callback;if(doWrite(e,t,!1,t.objectMode?1:l.length,l,c,u),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)})}function prefinish(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function finishMaybe(e,t){var n=needFinish(t);return n&&(prefinish(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function endWritable(e,t,n){t.ending=!0,finishMaybe(e,t),n&&(t.finished?o(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var o=n(44);e.exports=Writable;var a,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o;Writable.WritableState=WritableState;var l=n(36);l.inherits=n(12);var c={deprecate:n(337)},u=n(225),d=n(64).Buffer,h=i.Uint8Array||function(){},p=n(226);l.inherits(Writable,u),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var m;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!m.call(this,e)||e&&e._writableState instanceof WritableState}})):m=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=_isUint8Array(e)&&!r.objectMode;return o&&!d.isBuffer(e)&&(e=_uint8ArrayToBuffer(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=nop),r.ended?writeAfterEnd(this,n):(o||validChunk(this,r,e,n))&&(r.pendingcb++,i=writeOrBuffer(this,r,o,e,t,n)),i},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||endWritable(this,r,n)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=p.destroy,Writable.prototype._undestroy=p.undestroy,Writable.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(18),n(227).setImmediate,n(8))},function(e,t,n){function assertEncoding(e){if(e&&!i(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var r=n(27).Buffer,i=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};o.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},function(e,t,n){(function(r){var i;"classList"in document.createElement("_")||function(e){"use strict";if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(e,t)},s=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(o.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return e+="",-1!==a(this,e)},l.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(e=n[r]+"",t=a(this,e);-1!==t;)this.splice(t,1),o=!0,t=a(this,e)}while(++r<i);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(self),function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},i=n.prototype,o=r.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=e.URL||e.webkitURL||e,d=u.createObjectURL,h=u.revokeObjectURL,p=u,m=e.btoa,f=e.atob,g=e.ArrayBuffer,v=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=o.fake=!0;c--;)s.prototype[l[c]]=c+1;return u.createObjectURL||(p=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(y),n.origin=t&&t[1])),n}),p.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof r?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):m?t+";base64,"+m(e.data):t+","+encodeURIComponent(e.data)):d?d.call(u,e):void 0},p.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&h&&h.call(u,e)},i.append=function(e){var n=this.data;if(v&&(e instanceof g||e instanceof v)){for(var i="",o=new v(e),l=0,c=o.length;l<c;l++)i+=String.fromCharCode(o[l]);n.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&f?n.push(f(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var i=arguments.length;return i<3&&(n=null),new r(this.data.slice(e,i>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,n){var r=n?n.type||"":"",i=new t;if(e)for(var o=0,a=e.length;o<a;o++)Uint8Array&&e[o]instanceof Uint8Array?i.append(e[o].buffer):i.append(e[o]);var s=i.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(o,a){"use strict";"object"==typeof e&&void 0!==r&&r&&r.versions&&r.versions.electron||"object"!=typeof e?void 0!==(i=function(){return a}.call(t,n,t,e))&&(e.exports=i):e.exports=a}(0,function(){"use strict";function MediumEditor(e,t){return this.init(e,t)}return MediumEditor.extensions={},function(e){function copyInto(e,t){var n,r=Array.prototype.slice.call(arguments,2);t=t||{};for(var i=0;i<r.length;i++){var o=r[i];if(o)for(n in o)o.hasOwnProperty(n)&&void 0!==o[n]&&(e||!1===t.hasOwnProperty(n))&&(t[n]=o[n])}return t}var t=!1;try{var n=document.createElement("div"),r=document.createTextNode(" ");n.appendChild(r),t=n.contains(r)}catch(e){}var i={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:e.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(e){return!!(i.isMac&&e.metaKey||!i.isMac&&e.ctrlKey)},isKey:function(e,t){var n=i.getKeyCode(e);return!1===Array.isArray(t)?n===t:-1!==t.indexOf(n)},getKeyCode:function(e){var t=e.which;return null===t&&(t=null!==e.charCode?e.charCode:e.keyCode),t},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return copyInto.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return copyInto.apply(this,e)},createLink:function(e,t,n,r){var o=e.createElement("a");return i.moveTextRangeIntoElement(t[0],t[t.length-1],o),o.setAttribute("href",n),r&&("_blank"===r&&o.setAttribute("rel","noopener noreferrer"),o.setAttribute("target",r)),o},findOrCreateMatchingTextNodes:function(e,t,n){for(var r=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),o=[],a=0,s=!1,l=null,c=null;null!==(l=r.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!s&&n.start<a+l.nodeValue.length&&(s=!0,c=i.splitStartNodeIfNeeded(l,n.start,a)),s&&i.splitEndNodeIfNeeded(l,c,n.end,a),s&&a===n.end)break;if(s&&a>n.end+1)throw new Error("PerformLinking overshot the target!");s&&o.push(c||l),a+=l.nodeValue.length,null!==c&&(a+=c.nodeValue.length,r.nextNode()),c=null}else"img"===l.tagName.toLowerCase()&&(!s&&n.start<=a&&(s=!0),s&&o.push(l));return o},splitStartNodeIfNeeded:function(e,t,n){return t!==n?e.splitText(t-n):null},splitEndNodeIfNeeded:function(e,t,n,r){var i,o;i=r+e.nodeValue.length+(t?t.nodeValue.length:0)-1,o=n-r-(t?e.nodeValue.length:0),i>=n&&r!==i&&0!==o&&(t||e).splitText(o)},splitByBlockElements:function(e){if(3!==e.nodeType&&1!==e.nodeType)return[];var t=[],n=MediumEditor.util.blockContainerElementNames.join(",");if(3===e.nodeType||0===e.querySelectorAll(n).length)return[e];for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];if(3===i.nodeType)t.push(i);else if(1===i.nodeType){var o=i.querySelectorAll(n);0===o.length?t.push(i):t=t.concat(MediumEditor.util.splitByBlockElements(i))}}return t},findAdjacentTextNodeWithContent:function(e,t,n){var r,i=!1,o=n.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);for(r=o.nextNode();r;){if(r===t)i=!0;else if(i&&3===r.nodeType&&r.nodeValue&&r.nodeValue.trim().length>0)break;r=o.nextNode()}return r},findPreviousSibling:function(e){if(!e||i.isMediumEditorElement(e))return!1;for(var t=e.previousSibling;!t&&!i.isMediumEditorElement(e.parentNode);)e=e.parentNode,t=e.previousSibling;return t},isDescendant:function(e,n,r){if(!e||!n)return!1;if(e===n)return!!r;if(1!==e.nodeType)return!1;if(t||3!==n.nodeType)return e.contains(n);for(var i=n.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1},isElement:function(e){return!(!e||1!==e.nodeType)},throttle:function(e,t){var n,r,i,o=null,a=0,s=function(){a=Date.now(),o=null,i=e.apply(n,r),o||(n=r=null)};return t||0===t||(t=50),function(){var l=Date.now(),c=t-(l-a);return n=this,r=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),a=l,i=e.apply(n,r),o||(n=r=null)):o||(o=setTimeout(s,c)),i}},traverseUp:function(e,t){if(!e)return!1;do{if(1===e.nodeType){if(t(e))return e;if(i.isMediumEditorElement(e))return!1}e=e.parentNode}while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(e,t){var n,r,o,a,s,l,c,u=!1,d=["insertHTML",!1,t];if(!MediumEditor.util.isEdge&&e.queryCommandSupported("insertHTML"))try{return e.execCommand.apply(e,d)}catch(e){}if(n=e.getSelection(),n.rangeCount){if(r=n.getRangeAt(0),c=r.commonAncestorContainer,i.isMediumEditorElement(c)&&!c.firstChild)r.selectNode(c.appendChild(e.createTextNode("")));else if(3===c.nodeType&&0===r.startOffset&&r.endOffset===c.nodeValue.length||3!==c.nodeType&&c.innerHTML===r.toString()){for(;!i.isMediumEditorElement(c)&&c.parentNode&&1===c.parentNode.childNodes.length&&!i.isMediumEditorElement(c.parentNode);)c=c.parentNode;r.selectNode(c)}for(r.deleteContents(),o=e.createElement("div"),o.innerHTML=t,a=e.createDocumentFragment();o.firstChild;)s=o.firstChild,l=a.appendChild(s);r.insertNode(a),l&&(r=r.cloneRange(),r.setStartAfter(l),r.collapse(!0),MediumEditor.selection.selectRange(e,r)),u=!0}return e.execCommand.callListeners&&e.execCommand.callListeners(d,u),u},execFormatBlock:function(e,t){var n,r=i.getTopBlockContainer(MediumEditor.selection.getSelectionStart(e));if("blockquote"===t){if(r&&(n=Array.prototype.slice.call(r.childNodes),n.some(function(e){return i.isBlockContainer(e)})))return e.execCommand("outdent",!1,null);if(i.isIE)return e.execCommand("indent",!1,t)}if(r&&t===r.nodeName.toLowerCase()&&(t="p"),i.isIE&&(t="<"+t+">"),r&&"blockquote"===r.nodeName.toLowerCase()){if(i.isIE&&"<p>"===t)return e.execCommand("outdent",!1,t);if((i.isFF||i.isEdge)&&"p"===t)return n=Array.prototype.slice.call(r.childNodes),n.some(function(e){return!i.isBlockContainer(e)})&&e.execCommand("formatBlock",!1,t),e.execCommand("outdent",!1,t)}return e.execCommand("formatBlock",!1,t)},setTargetBlank:function(e,t){var n,r=t||!1;if("a"===e.nodeName.toLowerCase())e.target="_blank",e.rel="noopener noreferrer";else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)!1!==r&&r!==e[n].attributes.href.value||(e[n].target="_blank",e[n].rel="noopener noreferrer")},removeTargetBlank:function(e,t){var n;if("a"===e.nodeName.toLowerCase())e.removeAttribute("target"),e.removeAttribute("rel");else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)t===e[n].attributes.href.value&&(e[n].removeAttribute("target"),e[n].removeAttribute("rel"))},addClassToAnchors:function(e,t){var n,r,o=t.split(" ");if("a"===e.nodeName.toLowerCase())for(r=0;r<o.length;r+=1)e.classList.add(o[r]);else{var a=e.getElementsByTagName("a");if(0===a.length){var s=i.getClosestTag(e,"a");e=s?[s]:[]}else e=a;for(n=0;n<e.length;n+=1)for(r=0;r<o.length;r+=1)e[n].classList.add(o[r])}},isListItem:function(e){if(!e)return!1;if("li"===e.nodeName.toLowerCase())return!0;for(var t=e.parentNode,n=t.nodeName.toLowerCase();"li"===n||!i.isBlockContainer(t)&&"div"!==n;){if("li"===n)return!0;if(!(t=t.parentNode))return!1;n=t.nodeName.toLowerCase()}return!1},cleanListDOM:function(e,t){if("li"===t.nodeName.toLowerCase()){var n=t.parentElement;"p"===n.parentElement.nodeName.toLowerCase()&&(i.unwrap(n.parentElement,e),MediumEditor.selection.moveCursor(e,t.firstChild,t.firstChild.textContent.length))}},splitOffDOMTree:function(e,t,n){for(var r=t,i=null,o=!n;r!==e;){var a,s=r.parentNode,l=s.cloneNode(!1),c=o?r:s.firstChild;for(i&&(o?l.appendChild(i):a=i),i=l;c;){var u=c.nextSibling;c===r?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&i.appendChild(c),c=o?u:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&i.appendChild(c),c=u)}a&&i.appendChild(a),r=s}return i},moveTextRangeIntoElement:function(e,t,n){if(!e||!t)return!1;var r=i.findCommonRoot(e,t);if(!r)return!1;if(t===e){var o=e.parentNode,a=e.nextSibling;return o.removeChild(e),n.appendChild(e),a?o.insertBefore(n,a):o.appendChild(n),n.hasChildNodes()}for(var s,l,c,u=[],d=0;d<r.childNodes.length;d++)if(c=r.childNodes[d],s){if(i.isDescendant(c,t,!0)){l=c;break}u.push(c)}else i.isDescendant(c,e,!0)&&(s=c);var h=l.nextSibling,p=r.ownerDocument.createDocumentFragment();return s===e?(s.parentNode.removeChild(s),p.appendChild(s)):p.appendChild(i.splitOffDOMTree(s,e)),u.forEach(function(e){e.parentNode.removeChild(e),p.appendChild(e)}),l===t?(l.parentNode.removeChild(l),p.appendChild(l)):p.appendChild(i.splitOffDOMTree(l,t,!0)),n.appendChild(p),l.parentNode===r?r.insertBefore(n,l):h?r.insertBefore(n,h):r.appendChild(n),n.hasChildNodes()},depthOfNode:function(e){for(var t=0,n=e;null!==n.parentNode;)n=n.parentNode,t++;return t},findCommonRoot:function(e,t){for(var n=i.depthOfNode(e),r=i.depthOfNode(t),o=e,a=t;n!==r;)n>r?(o=o.parentNode,n-=1):(a=a.parentNode,r-=1);for(;o!==a;)o=o.parentNode,a=a.parentNode;return o},isElementAtBeginningOfBlock:function(e){for(var t,n;!i.isBlockContainer(e)&&!i.isMediumEditorElement(e);){for(n=e;n=n.previousSibling;)if(t=3===n.nodeType?n.nodeValue:n.textContent,t.length>0)return!1;e=e.parentNode}return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(e){return i.traverseUp(e,function(e){return i.isMediumEditorElement(e)})},isBlockContainer:function(e){return e&&3!==e.nodeType&&-1!==i.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())},getClosestBlockContainer:function(e){return i.traverseUp(e,function(e){return i.isBlockContainer(e)||i.isMediumEditorElement(e)})},getTopBlockContainer:function(e){var t=!!i.isBlockContainer(e)&&e;return i.traverseUp(e,function(e){return i.isBlockContainer(e)&&(t=e),!(t||!i.isMediumEditorElement(e))&&(t=e,!0)}),t},getFirstSelectableLeafNode:function(e){for(;e&&e.firstChild;)e=e.firstChild;if(e=i.traverseUp(e,function(e){return-1===i.emptyElementNames.indexOf(e.nodeName.toLowerCase())}),"table"===e.nodeName.toLowerCase()){var t=e.querySelector("th, td");t&&(e=t)}return e},getFirstTextNode:function(e){return i.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),i._getFirstTextNode(e)},_getFirstTextNode:function(e){if(3===e.nodeType)return e;for(var t=0;t<e.childNodes.length;t++){var n=i._getFirstTextNode(e.childNodes[t]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(e){return-1===e.indexOf("://")?"http://"+e:e},warn:function(){void 0!==e.console&&"function"==typeof e.console.warn&&e.console.warn.apply(e.console,arguments)},deprecated:function(e,t,n){var r=e+" is deprecated, please use "+t+" instead.";n&&(r+=" Will be removed in "+n),i.warn(r)},deprecatedMethod:function(e,t,n,r){i.deprecated(e,t,r),"function"==typeof this[t]&&this[t].apply(this,n)},cleanupAttrs:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},cleanupTags:function(e,t){-1!==t.indexOf(e.nodeName.toLowerCase())&&e.parentNode.removeChild(e)},unwrapTags:function(e,t){-1!==t.indexOf(e.nodeName.toLowerCase())&&MediumEditor.util.unwrap(e,document)},getClosestTag:function(e,t){return i.traverseUp(e,function(e){return e.nodeName.toLowerCase()===t.toLowerCase()})},unwrap:function(e,t){for(var n=t.createDocumentFragment(),r=Array.prototype.slice.call(e.childNodes),i=0;i<r.length;i++)n.appendChild(r[i]);n.childNodes.length?e.parentNode.replaceChild(n,e):e.parentNode.removeChild(e)},guid:function(){function _s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return _s4()+_s4()+"-"+_s4()+"-"+_s4()+"-"+_s4()+"-"+_s4()+_s4()+_s4()}};MediumEditor.util=i}(window),function(){var e=function(e){MediumEditor.util.extend(this,e)};e.extend=function(e){var t,n=this;t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},MediumEditor.util.extend(t,n);var r=function(){this.constructor=t};return r.prototype=n.prototype,t.prototype=new r,e&&MediumEditor.util.extend(t.prototype,e),t},e.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}},["execAction","on","off","subscribe","trigger"].forEach(function(t){e.prototype[t]=function(){return this.base[t].apply(this.base,arguments)}}),MediumEditor.Extension=e}(),function(){function filterOnlyParentElements(e){return MediumEditor.util.isBlockContainer(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var e={findMatchingSelectionParent:function(e,t){var n,r,i=t.getSelection();return 0!==i.rangeCount&&(n=i.getRangeAt(0),r=n.commonAncestorContainer,MediumEditor.util.traverseUp(r,e))},getSelectionElement:function(e){return this.findMatchingSelectionParent(function(e){return MediumEditor.util.isMediumEditorElement(e)},e)},exportSelection:function(e,t){if(!e)return null;var n=null,r=t.getSelection();if(r.rangeCount>0){var i,o=r.getRangeAt(0),a=o.cloneRange();a.selectNodeContents(e),a.setEnd(o.startContainer,o.startOffset),i=a.toString().length,n={start:i,end:i+o.toString().length},this.doesRangeStartWithImages(o,t)&&(n.startsWithImage=!0);var s=this.getTrailingImageCount(e,n,o.endContainer,o.endOffset);if(s&&(n.trailingImageCount=s),0!==i){var l=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,o.startContainer,o.startOffset);-1!==l&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(e,t,n,r){if(e&&t){var i=n.createRange();i.setStart(t,0),i.collapse(!0);var o,a=t,s=[],l=0,c=!1,u=!1,d=0,h=!1,p=!1,m=null;for((r||e.startsWithImage||void 0!==e.emptyBlocksIndex)&&(p=!0);!h&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if(e.trailingImageCount&&u&&("img"===a.nodeName.toLowerCase()&&d++,d===e.trailingImageCount)){for(var f=0;a.parentNode.childNodes[f]!==a;)f++;i.setEnd(a.parentNode,f+1),h=!0}if(!h&&1===a.nodeType)for(var g=a.childNodes.length-1;g>=0;)s.push(a.childNodes[g]),g-=1}else o=l+a.length,!c&&e.start>=l&&e.start<=o&&(p||e.start<o?(i.setStart(a,e.start-l),c=!0):m=a),c&&e.end>=l&&e.end<=o&&(e.trailingImageCount?u=!0:(i.setEnd(a,e.end-l),h=!0)),l=o;h||(a=s.pop())}!c&&m&&(i.setStart(m,m.length),i.setEnd(m,m.length)),void 0!==e.emptyBlocksIndex&&(i=this.importSelectionMoveCursorPastBlocks(n,t,e.emptyBlocksIndex,i)),r&&(i=this.importSelectionMoveCursorPastAnchor(e,i)),this.selectRange(n,i)}},importSelectionMoveCursorPastAnchor:function(e,t){var n=function(e){return"a"===e.nodeName.toLowerCase()};if(e.start===e.end&&3===t.startContainer.nodeType&&t.startOffset===t.startContainer.nodeValue.length&&MediumEditor.util.traverseUp(t.startContainer,n)){for(var r=t.startContainer,i=t.startContainer.parentNode;null!==i&&"a"!==i.nodeName.toLowerCase();)i.childNodes[i.childNodes.length-1]!==r?i=null:(r=i,i=i.parentNode);if(null!==i&&"a"===i.nodeName.toLowerCase()){for(var o=null,a=0;null===o&&a<i.parentNode.childNodes.length;a++)i.parentNode.childNodes[a]===i&&(o=a);t.setStart(i.parentNode,o+1),t.collapse(!0)}}return t},importSelectionMoveCursorPastBlocks:function(e,t,n,r){var i,o,a=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,filterOnlyParentElements,!1),s=r.startContainer,l=0;for(n=n||1,i=3===s.nodeType&&MediumEditor.util.isBlockContainer(s.previousSibling)?s.previousSibling:MediumEditor.util.getClosestBlockContainer(s);a.nextNode();)if(o){if(o=a.currentNode,++l===n)break;if(o.textContent.length>0)break}else i===a.currentNode&&(o=a.currentNode);return o||(o=i),r.setStart(MediumEditor.util.getFirstSelectableLeafNode(o),0),r},getIndexRelativeToAdjacentEmptyBlocks:function(e,t,n,r){if(n.textContent.length>0&&r>0)return-1;var i=n;if(3!==i.nodeType&&(i=n.childNodes[r]),i){if(!MediumEditor.util.isElementAtBeginningOfBlock(i))return-1;var o=MediumEditor.util.findPreviousSibling(i);if(!o)return-1;if(o.nodeValue)return-1}for(var a=MediumEditor.util.getClosestBlockContainer(n),s=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,filterOnlyParentElements,!1),l=0;s.nextNode();){var c=""===s.currentNode.textContent;if((c||l>0)&&(l+=1),s.currentNode===a)return l;c||(l=0)}return l},doesRangeStartWithImages:function(e,t){if(0!==e.startOffset||1!==e.startContainer.nodeType)return!1;if("img"===e.startContainer.nodeName.toLowerCase())return!0;var n=e.startContainer.querySelector("img");if(!n)return!1;for(var r=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);r.nextNode();){var i=r.currentNode;if(i===n)break;if(i.nodeValue)return!1}return!0},getTrailingImageCount:function(e,t,n,r){if(0===r||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var i=n.childNodes[r-1];i.hasChildNodes();)i=i.lastChild;for(var o,a=e,s=[],l=0,c=!1,u=!1,d=!1,h=0;!d&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if("img"===a.nodeName.toLowerCase()&&h++,a===i)d=!0;else if(1===a.nodeType)for(var p=a.childNodes.length-1;p>=0;)s.push(a.childNodes[p]),p-=1}else h=0,o=l+a.length,!c&&t.start>=l&&t.start<=o&&(c=!0),c&&t.end>=l&&t.end<=o&&(u=!0),l=o;d||(a=s.pop())}return h},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount)return!1;if(""!==t.toString().trim())return!0;var n=this.getSelectedParentElement(t.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(e){var t,n=this.findMatchingSelectionParent(function(e){var n=e&&e.getAttribute("contenteditable");return"true"===n&&(t=!0),"#text"!==e.nodeName&&"false"===n},e);return!t&&n},getSelectionHtml:function(e){var t,n,r,i="",o=e.getSelection();if(o.rangeCount){for(r=e.createElement("div"),t=0,n=o.rangeCount;t<n;t+=1)r.appendChild(o.getRangeAt(t).cloneContents());i=r.innerHTML}return i},getCaretOffsets:function(e,t){var n,r;return t||(t=window.getSelection().getRangeAt(0)),n=t.cloneRange(),r=t.cloneRange(),n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),r.selectNodeContents(e),r.setStart(t.endContainer,t.endOffset),{left:n.toString().length,right:r.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var t,n,r,i=e.getSelection();if(!i.rangeCount||i.isCollapsed||!i.getRangeAt(0).commonAncestorContainer)return[];if(t=i.getRangeAt(0),3===t.commonAncestorContainer.nodeType){for(n=[],r=t.commonAncestorContainer;r.parentNode&&1===r.parentNode.childNodes.length;)n.push(r.parentNode),r=r.parentNode;return n}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),function(e){return"function"!=typeof i.containsNode||i.containsNode(e,!0)})},selectNode:function(e,t){var n=t.createRange();n.selectNodeContents(e),this.selectRange(t,n)},select:function(e,t,n,r,i){var o=e.createRange();return o.setStart(t,n),r?o.setEnd(r,i):o.collapse(!0),this.selectRange(e,o),o},clearSelection:function(e,t){t?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,t,n){this.select(e,t,n)},getSelectionRange:function(e){var t=e.getSelection();return 0===t.rangeCount?null:t.getRangeAt(0)},selectRange:function(e,t){var n=e.getSelection();n.removeAllRanges(),n.addRange(t)},getSelectionStart:function(e){var t=e.getSelection().anchorNode;return t&&3===t.nodeType?t.parentNode:t}};MediumEditor.selection=e}(),function(){function isElementDescendantOfExtension(e,t){return e.some(function(e){if("function"!=typeof e.getInteractionElements)return!1;var n=e.getInteractionElements();return!!n&&(Array.isArray(n)||(n=[n]),n.some(function(e){return MediumEditor.util.isDescendant(e,t,!0)}))})}var e=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};e.prototype={InputEventOnContenteditableSupported:!MediumEditor.util.isIE&&!MediumEditor.util.isEdge,attachDOMEvent:function(e,t,n,r){var i=this.base.options.contentWindow,o=this.base.options.ownerDocument;e=MediumEditor.util.isElement(e)||[i,o].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n,r),this.events.push([e,t,n,r])}.bind(this))},detachDOMEvent:function(e,t,n,r){var i,o,a=this.base.options.contentWindow,s=this.base.options.ownerDocument;null!==e&&(e=MediumEditor.util.isElement(e)||[a,s].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(e){-1!==(i=this.indexOfListener(e,t,n,r))&&(o=this.events.splice(i,1)[0],o[0].removeEventListener(o[1],o[2],o[3]))}.bind(this)))},indexOfListener:function(e,t,n,r){var i,o,a;for(i=0,o=this.events.length;i<o;i+=1)if(a=this.events[i],a[0]===e&&a[1]===t&&a[2]===n&&a[3]===r)return i;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},detachAllEventsFromElement:function(e){for(var t=this.events.filter(function(t){return t&&t[0].getAttribute&&t[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")}),n=0,r=t.length;n<r;n++){var i=t[n];this.detachDOMEvent(i[0],i[1],i[2],i[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(t){this.attachDOMEvent(e,t.name,t.handler.bind(this))},this)},enableCustomEvent:function(e){void 0!==this.disabledEvents[e]&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var n=this.indexOfCustomListener(e,t);-1!==n&&this.customEvents[e].splice(n,1)},indexOfCustomListener:function(e,t){return this.customEvents[e]&&this.customEvents[e].length?this.customEvents[e].indexOf(t):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,n){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach(function(e){e(t,n)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(e){e.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(this.execCommandListener&&e.execCommand.listeners){var t=e.execCommand.listeners.indexOf(this.execCommandListener);-1!==t&&e.execCommand.listeners.splice(t,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var t=function(t,n){e.execCommand.listeners&&e.execCommand.listeners.forEach(function(e){e({command:t[0],value:t[2],args:t,result:n})})},n=function(){var n=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return n;var r=Array.prototype.slice.call(arguments);return t(r,n),n};n.orig=e.execCommand,n.listeners=[],n.callListeners=t,e.execCommand=n}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(e){this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":case"editableKeydownEnter":case"editableKeydownTab":case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[e]=!0}},attachToEachElement:function(e,t){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(n){this.attachDOMEvent(n,e,t.bind(this))},this),this.eventsCache.push({name:e,handler:t})},cleanupElement:function(e){var t=e.getAttribute("medium-editor-index");t&&(this.detachAllEventsFromElement(e),this.contentCache&&delete this.contentCache[t])},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(e,t){var n,r=this.base.getFocusedElement();r&&"click"===t.type&&this.lastMousedownTarget&&(MediumEditor.util.isDescendant(r,this.lastMousedownTarget,!0)||isElementDescendantOfExtension(this.base.extensions,this.lastMousedownTarget))&&(n=r),n||this.base.elements.some(function(t){return!n&&MediumEditor.util.isDescendant(t,e,!0)&&(n=t),!!n},this);var i=!MediumEditor.util.isDescendant(r,e,!0)&&!isElementDescendantOfExtension(this.base.extensions,e);n!==r&&(r&&i&&(r.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",t,r)),n&&(n.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",t,n))),i&&this.triggerCustomEvent("externalInteraction",t)},updateInput:function(e,t){if(this.contentCache){var n=e.getAttribute("medium-editor-index"),r=e.innerHTML;r!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",t,e),this.contentCache[n]=r}},handleDocumentSelectionChange:function(e){if(e.currentTarget&&e.currentTarget.activeElement){var t,n=e.currentTarget.activeElement;this.base.elements.some(function(e){return!!MediumEditor.util.isDescendant(e,n,!0)&&(t=e,!0)},this),t&&this.updateInput(t,{target:n,currentTarget:t})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(e){return this.triggerCustomEvent("editableKeydown",e,e.currentTarget),MediumEditor.util.isKey(e,MediumEditor.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",e,e.currentTarget):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.ENTER)||e.ctrlKey&&MediumEditor.util.isKey(e,MediumEditor.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",e,e.currentTarget):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",e,e.currentTarget):MediumEditor.util.isKey(e,[MediumEditor.util.keyCode.DELETE,MediumEditor.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",e,e.currentTarget):void 0}},MediumEditor.Events=e}(),function(){var e=MediumEditor.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(t){e.isBuiltInButton(t)?MediumEditor.Extension.call(this,this.defaults[t]):MediumEditor.Extension.call(this,t)},init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,n=this.getAria(),r=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(t){e.classList.add(t)}),e.setAttribute("data-action",this.getAction()),n&&(e.setAttribute("title",n),e.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach(function(t){e.setAttribute(t,this.attrs[t])},this),"fontawesome"===r&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getAction();t&&this.execAction(t)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var e=null;return this.useQueryState&&(e=this.base.queryCommandState(this.getAction())),e},isAlreadyApplied:function(e){var t,n,r=!1,i=this.getTagNames();return!1===this.knownState||!0===this.knownState?this.knownState:(i&&i.length>0&&(r=-1!==i.indexOf(e.nodeName.toLowerCase())),!r&&this.style&&(t=this.style.value.split("|"),n=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop),t.forEach(function(e){this.knownState||((r=-1!==n.indexOf(e))||"text-decoration"!==this.style.prop)&&(this.knownState=r)},this)),r)}});e.isBuiltInButton=function(e){return"string"==typeof e&&MediumEditor.extensions.button.prototype.defaults.hasOwnProperty(e)},MediumEditor.extensions.button=e}(),function(){MediumEditor.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var e=MediumEditor.extensions.button.extend({init:function(){MediumEditor.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.hideToolbarDefaultActions()},setToolbarPosition:function(){var e=this.base.getExtensionByName("toolbar");e&&e.setToolbarPosition()}});MediumEditor.extensions.form=e}(),function(){var e=MediumEditor.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){MediumEditor.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=MediumEditor.selection.getSelectionRange(this.document);return"a"===t.startContainer.nodeName.toLowerCase()||"a"===t.endContainer.nodeName.toLowerCase()||MediumEditor.util.getClosestTag(MediumEditor.selection.getSelectedParentElement(t),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(e){MediumEditor.util.isKey(e,MediumEditor.util.keyCode.K)&&MediumEditor.util.isMetaCtrlKey(e)&&!e.shiftKey&&this.handleClick(e)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return e.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),e.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),e.join("")},isDisplayed:function(){return MediumEditor.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){MediumEditor.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(e){var t=this.getInput(),n=this.getAnchorTargetCheckbox(),r=this.getAnchorButtonCheckbox();if(e=e||{value:""},"string"==typeof e&&(e={value:e}),this.base.saveSelection(),this.hideToolbarDefaultActions(),MediumEditor.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),t.value=e.value,t.focus(),n&&(n.checked="_blank"===e.target),r){var i=e.buttonClass?e.buttonClass.split(" "):[];r.checked=-1!==i.indexOf(this.customClassOption)}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var e=this.getAnchorTargetCheckbox(),t=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",e&&e.checked&&(n.target="_blank"),t&&t.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection(),this.execAction(this.action,e),this.base.checkSelection()},ensureEncodedUri:function(e){return e===decodeURI(e)?encodeURI(e):e},ensureEncodedUriComponent:function(e){return e===decodeURIComponent(e)?encodeURIComponent(e):e},ensureEncodedParam:function(e){var t=e.split("="),n=t[0],r=t[1];return n+(void 0===r?"":"="+this.ensureEncodedUriComponent(r))},ensureEncodedQuery:function(e){return e.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i,n=t.test(e),r="",i=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/,o=e.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),a=o[1],s=o[2],l=o[3];if(i.test(e))return"tel:"+e;if(!n){var c=a.split("/")[0];(c.match(/.+(\.|:).+/)||"localhost"===c)&&(r="http://")}return r+this.ensureEncodedUri(a)+(void 0===s?"":"?"+this.ensureEncodedQuery(s))+(void 0===l?"":"#"+l)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector(".medium-editor-toolbar-close"),n=e.querySelector(".medium-editor-toolbar-save"),r=e.querySelector(".medium-editor-toolbar-input");this.on(e,"click",this.handleFormClick.bind(this)),this.on(r,"keyup",this.handleTextboxKeyup.bind(this)),this.on(t,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var e=this.document,t=e.createElement("div");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),t.innerHTML=this.getTemplate(),this.attachFormEvents(t),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(e){if(e.keyCode===MediumEditor.util.keyCode.ENTER)return e.preventDefault(),void this.doFormSave();e.keyCode===MediumEditor.util.keyCode.ESCAPE&&(e.preventDefault(),this.doFormCancel())},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});MediumEditor.extensions.anchor=e}(),function(){var e=MediumEditor.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.getTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!e.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(e){e=e||this.activeAnchor;var t,n,r,i,o,a=this.window.innerWidth,s=this.anchorPreview.offsetHeight,l=e.getBoundingClientRect(),c=this.diffLeft,u=this.diffTop,d=this.getEditorOption("elementsContainer"),h=["absolute","fixed"].indexOf(window.getComputedStyle(d).getPropertyValue("position"))>-1,p={};t=this.anchorPreview.offsetWidth/2;var m=this.base.getExtensionByName("toolbar");m&&(c=m.diffLeft,u=m.diffTop),n=c-t,h?(i=d.getBoundingClientRect(),["top","left"].forEach(function(e){p[e]=l[e]-i[e]}),p.width=l.width,p.height=l.height,l=p,a=i.width,o=d.scrollTop):o=this.window.pageYOffset,r=l.left+l.width/2,o+=s+l.top+l.height-u-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(o)+"px",this.anchorPreview.style.right="initial",r<t?(this.anchorPreview.style.left=n+t+"px",this.anchorPreview.style.right="initial"):a-r<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+r+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(e){var t=MediumEditor.util.getClosestTag(e.target,"a");if(!1!==t){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(t.outerHTML)||/href=["']#\S+["']/.test(t.outerHTML)))return!0;var n=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&n&&n.isDisplayed&&n.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==t&&this.detachPreviewHandlers(),this.anchorToPreview=t,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;(new Date).getTime()-this.lastOver>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});MediumEditor.extensions.anchorPreview=e}(),function(){function nodeIsNotInsideAnchorTag(e){return!MediumEditor.util.getClosestTag(e,"a")}var e,t,n,r,i;e=[" ","\t","\n","\r"," "," "," "," "," ","\u2028","\u2029"],t="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",n="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+t+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+t+"))",r=new RegExp("^("+t+")$","i"),i=new RegExp(n,"gi");var o=MediumEditor.Extension.extend({init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var e=0,t=0;t<this.window._mediumEditors.length;t++){var n=this.window._mediumEditors[t];null!==n&&void 0!==n.getExtensionByName("autoLink")&&e++}return 1===e},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(e){this.disableEventHandling||MediumEditor.util.isKey(e,[MediumEditor.util.keyCode.SPACE,MediumEditor.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var t=this.base.exportSelection();this.performLinking(e.target)&&this.base.importSelection(t,!0)}catch(e){window.console&&window.console.error("Failed to perform linking",e),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(e){var t=MediumEditor.util.splitByBlockElements(e),n=!1;0===t.length&&(t=[e]);for(var r=0;r<t.length;r++)n=this.removeObsoleteAutoLinkSpans(t[r])||n,n=this.performLinkingWithinElement(t[r])||n;return this.base.events.updateInput(e,{target:e,currentTarget:e}),n},removeObsoleteAutoLinkSpans:function(e){if(!e||3===e.nodeType)return!1;for(var t=e.querySelectorAll('span[data-auto-link="true"]'),n=!1,r=0;r<t.length;r++){var i=t[r].textContent;if(-1===i.indexOf("://")&&(i=MediumEditor.util.ensureUrlHasProtocol(i)),t[r].getAttribute("data-href")!==i&&nodeIsNotInsideAnchorTag(t[r])){n=!0;var o=i.replace(/\s+$/,"");if(t[r].getAttribute("data-href")===o){var a=i.length-o.length,s=MediumEditor.util.splitOffDOMTree(t[r],this.splitTextBeforeEnd(t[r],a));t[r].parentNode.insertBefore(s,t[r].nextSibling)}else MediumEditor.util.unwrap(t[r],this.document)}}return n},splitTextBeforeEnd:function(e,t){for(var n=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r=!0;r;)r=null!==n.lastChild();for(var i,o,a;t>0&&null!==a;)i=n.currentNode,o=i.nodeValue,o.length>t?(a=i.splitText(o.length-t),t=0):(a=n.previousNode(),t-=o.length);return a},performLinkingWithinElement:function(e){for(var t=this.findLinkableText(e),n=0;n<t.length;n++){var r=MediumEditor.util.findOrCreateMatchingTextNodes(this.document,e,t[n]);this.shouldNotLink(r)||this.createAutoLink(r,t[n].href)}return!1},shouldNotLink:function(e){for(var t=!1,n=0;n<e.length&&!1===t;n++)t=!!MediumEditor.util.traverseUp(e[n],function(e){return"a"===e.nodeName.toLowerCase()||e.getAttribute&&"true"===e.getAttribute("data-auto-link")});return t},findLinkableText:function(t){for(var n=t.textContent,o=null,a=[];null!==(o=i.exec(n));){var s=!0,l=o.index+o[0].length;s=!(0!==o.index&&-1===e.indexOf(n[o.index-1])||l!==n.length&&-1===e.indexOf(n[l])),s=s&&(-1!==o[0].indexOf("/")||r.test(o[0].split(".").pop().split("?").shift())),s&&a.push({href:o[0],start:o.index,end:l})}return a},createAutoLink:function(e,t){t=MediumEditor.util.ensureUrlHasProtocol(t);var n=MediumEditor.util.createLink(this.document,e,t,this.getEditorOption("targetBlank")?"_blank":null),r=this.document.createElement("span");for(r.setAttribute("data-auto-link","true"),r.setAttribute("data-href",t),n.insertBefore(r,n.firstChild);n.childNodes.length>1;)r.appendChild(n.childNodes[1])}});MediumEditor.extensions.autoLink=o}(),function(){function clearClassNames(t){var n=MediumEditor.util.getContainerEditorElement(t);Array.prototype.slice.call(n.parentElement.querySelectorAll("."+e)).forEach(function(t){t.classList.remove(e)})}var e="medium-editor-dragover",t=MediumEditor.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var n=t.target.classList?t.target:t.target.parentElement;clearClassNames(n),"dragover"===t.type&&n.classList.add(e)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var t=this.base.exportSelection();t.start=t.end,this.base.importSelection(t),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files).forEach(function(e){this.isAllowedFile(e)&&e.type.match("image")&&this.insertImageFile(e)},this),clearClassNames(e.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(e){if("function"==typeof FileReader){var t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",function(e){var t=this.document.createElement("img");t.src=e.target.result,MediumEditor.util.insertHTMLCommand(this.document,t.outerHTML)}.bind(this))}}});MediumEditor.extensions.fileDragging=t}(),function(){var e=MediumEditor.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(e){var t=e.key.charCodeAt(0);this.keys[t]||(this.keys[t]=[]),this.keys[t].push(e)},this)},handleKeydown:function(e){var t=MediumEditor.util.getKeyCode(e);if(this.keys[t]){var n=MediumEditor.util.isMetaCtrlKey(e),r=!!e.shiftKey,i=!!e.altKey;this.keys[t].forEach(function(t){t.meta!==n||t.shift!==r||t.alt!==i&&void 0!==t.alt||(e.preventDefault(),e.stopPropagation(),"function"==typeof t.command?t.command.apply(this):!1!==t.command&&this.execAction(t.command))},this)}}});MediumEditor.extensions.keyboardCommands=e}(),function(){var e=MediumEditor.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){MediumEditor.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontName")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(e){var t=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var e,t=this.document,n=t.createElement("div"),r=t.createElement("select"),i=t.createElement("a"),o=t.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var a=0;a<this.fonts.length;a++)e=t.createElement("option"),e.innerHTML=this.fonts[a],e.value=this.fonts[a],r.appendChild(e);return r.className="medium-editor-toolbar-select",n.appendChild(r),this.on(r,"change",this.handleFontChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){MediumEditor.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("face")&&e.removeAttribute("face")})},handleFontChange:function(){var e=this.getSelect().value;""===e?this.clearFontName():this.execAction("fontName",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});MediumEditor.extensions.fontName=e}(),function(){var e=MediumEditor.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){MediumEditor.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontSize")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(e){var t=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var e=this.document,t=e.createElement("div"),n=e.createElement("input"),r=e.createElement("a"),i=e.createElement("a");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(t,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",t.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),i.setAttribute("href","#"),i.className="medium-editor-toobar-save",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",t.appendChild(i),this.on(i,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",t.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){MediumEditor.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("size")&&e.removeAttribute("size")})},handleSliderChange:function(){var e=this.getInput().value;"4"===e?this.clearFontSize():this.execAction("fontSize",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});MediumEditor.extensions.fontSize=e}(),function(){function createReplacements(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}function getClipboardContent(e,t,n){var r=e.clipboardData||t.clipboardData||n.dataTransfer,i={};if(!r)return i;if(r.getData){var o=r.getData("Text");o&&o.length>0&&(i["text/plain"]=o)}if(r.types)for(var a=0;a<r.types.length;a++){var s=r.types[a];i[s]=r.getData(s)}return i}var e=null,t=null,n=function(e){e.stopPropagation()},r=MediumEditor.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(e){this.on(e,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(e,t){this.on(t,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(e,t){if(!e.defaultPrevented){var n=getClipboardContent(e,this.window,this.document),r=n["text/html"],i=n["text/plain"];this.window.clipboardData&&void 0===e.clipboardData&&!r&&(r=i),(r||i)&&(e.preventDefault(),this.doPaste(r,i,t))}},doPaste:function(e,t,n){var r,i,o="";if(this.cleanPastedHTML&&e)return this.cleanPaste(e);if(this.getEditorOption("disableReturn")||n&&n.getAttribute("data-disable-return"))o=MediumEditor.util.htmlEntities(t);else if(r=t.split(/[\r\n]+/g),r.length>1)for(i=0;i<r.length;i+=1)""!==r[i]&&(o+="<p>"+MediumEditor.util.htmlEntities(r[i])+"</p>");else o=MediumEditor.util.htmlEntities(r[0]);MediumEditor.util.insertHTMLCommand(this.document,o)},handlePasteBinPaste:function(e){if(e.defaultPrevented)return void this.removePasteBin();var n=getClipboardContent(e,this.window,this.document),r=n["text/html"],i=n["text/plain"],o=t;if(!this.cleanPastedHTML||r)return e.preventDefault(),this.removePasteBin(),this.doPaste(r,i,o),void this.trigger("editablePaste",{currentTarget:o,target:o},o);setTimeout(function(){this.cleanPastedHTML&&(r=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(r,i,o),this.trigger("editablePaste",{currentTarget:o,target:o},o)}.bind(this),0)},handleKeydown:function(e,t){MediumEditor.util.isKey(e,MediumEditor.util.keyCode.V)&&MediumEditor.util.isMetaCtrlKey(e)&&(e.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(t))},createPasteBin:function(r){var i,o=MediumEditor.selection.getSelectionRange(this.document),a=this.window.pageYOffset;t=r,o&&(i=o.getClientRects(),i.length?a+=i[0].top:void 0!==o.startContainer.getBoundingClientRect?a+=o.startContainer.getBoundingClientRect().top:a+=o.getBoundingClientRect().top),e=o;var s=this.document.createElement("div");s.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),s.setAttribute("style","border: 1px red solid; position: absolute; top: "+a+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),s.setAttribute("contentEditable",!0),s.innerHTML="%ME_PASTEBIN%",this.document.body.appendChild(s),this.on(s,"focus",n),this.on(s,"focusin",n),this.on(s,"focusout",n),s.focus(),MediumEditor.selection.selectNode(s,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(s,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==e&&(MediumEditor.selection.selectRange(this.document,e),e=null),null!==t&&(t=null);var r=this.getPasteBin();r&&r&&(this.off(r,"focus",n),this.off(r,"focusin",n),this.off(r,"focusout",n),this.off(r,"paste",this.boundHandlePaste),r.parentElement.removeChild(r))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var e=this.getPasteBin();if(!e)return!1;if(e.firstChild&&"mcepastebin"===e.firstChild.id)return!1;var t=e.innerHTML;return!(!t||"%ME_PASTEBIN%"===t)&&t},cleanPaste:function(e){var t,n,r,i,o=/<p|<br|<div/.test(e),a=[].concat(this.preCleanReplacements||[],createReplacements(),this.cleanReplacements||[]);for(t=0;t<a.length;t+=1)e=e.replace(a[t][0],a[t][1]);if(!o)return this.pasteHTML(e);for(r=this.document.createElement("div"),r.innerHTML="<p>"+e.split("<br><br>").join("</p><p>")+"</p>",n=r.querySelectorAll("a,p,div,br"),t=0;t<n.length;t+=1)switch(i=n[t],i.innerHTML=i.innerHTML.replace(/\n/gi," "),i.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(i);break;case"br":this.filterLineBreak(i)}this.pasteHTML(r.innerHTML)},pasteHTML:function(e,t){t=MediumEditor.util.defaults({},t,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var n,r,i,o,a=this.document.createDocumentFragment();for(a.appendChild(this.document.createElement("body")),o=a.querySelector("body"),o.innerHTML=e,this.cleanupSpans(o),n=o.querySelectorAll("*"),i=0;i<n.length;i+=1)r=n[i],"a"===r.nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&MediumEditor.util.setTargetBlank(r),MediumEditor.util.cleanupAttrs(r,t.cleanAttrs),MediumEditor.util.cleanupTags(r,t.cleanTags),MediumEditor.util.unwrapTags(r,t.unwrapTags);MediumEditor.util.insertHTMLCommand(this.document,o.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.nodeName.toLowerCase()||"div"===e.nodeName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.textContent)&&e.parentNode&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?this.removeWithParent(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?e.parentNode&&1===e.parentNode.childElementCount&&""===e.parentNode.textContent&&this.removeWithParent(e):this.removeWithParent(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e))},cleanupSpans:function(e){var t,n,r,i=e.querySelectorAll(".replace-with"),o=function(e){return e&&"#text"!==e.nodeName&&"false"===e.getAttribute("contenteditable")};for(t=0;t<i.length;t+=1)n=i[t],r=this.document.createElement(n.classList.contains("bold")?"b":"i"),n.classList.contains("bold")&&n.classList.contains("italic")?r.innerHTML="<i>"+n.innerHTML+"</i>":r.innerHTML=n.innerHTML,n.parentNode.replaceChild(r,n);for(i=e.querySelectorAll("span"),t=0;t<i.length;t+=1){if(n=i[t],MediumEditor.util.traverseUp(n,o))return!1;MediumEditor.util.unwrap(n,this.document)}}});MediumEditor.extensions.paste=r}(),function(){var e=MediumEditor.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(e,t){this.initElement(t)},initElement:function(e){e.getAttribute("data-placeholder")||e.setAttribute("data-placeholder",this.text),this.updatePlaceholder(e)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(e,t){this.cleanupElement(t)},cleanupElement:function(e){e.getAttribute("data-placeholder")===this.text&&e.removeAttribute("data-placeholder")},showPlaceholder:function(e){e&&(MediumEditor.util.isFF&&0===e.childNodes.length?(e.classList.add("medium-editor-placeholder-relative"),e.classList.remove("medium-editor-placeholder")):(e.classList.add("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(e){e&&(e.classList.remove("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(e,t){if(e.querySelector("img, blockquote, ul, ol, table")||""!==e.textContent.replace(/^\s+|\s+$/g,""))return this.hidePlaceholder(e);t||this.showPlaceholder(e)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(e,t){var n=this.hideOnClick&&t===this.base.getFocusedElement();this.updatePlaceholder(t,n)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}});MediumEditor.extensions.placeholder=e}(),function(){var e=MediumEditor.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,t){return this.base.extensions.forEach(function(n){if(n!==this)return e.apply(t||this,arguments)},this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this.static?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension(function(t){t.hasForm&&e.appendChild(t.getForm())}),this.attachEventHandlers(),e},createToolbarButtons:function(){var e,t,n,r,i,o,a=this.document.createElement("ul");return a.id="medium-editor-toolbar-actions"+this.getEditorId(),a.className="medium-editor-toolbar-actions",a.style.display="block",this.buttons.forEach(function(n){"string"==typeof n?(i=n,o=null):(i=n.name,o=n),(r=this.base.addBuiltInExtension(i,o))&&"function"==typeof r.getButton&&(t=r.getButton(this.base),e=this.document.createElement("li"),MediumEditor.util.isElement(t)?e.appendChild(t):e.innerHTML=t,a.appendChild(e))},this),n=a.querySelectorAll("button"),n.length>0&&(n[0].classList.add(this.firstButtonClass),n[n.length-1].classList.add(this.lastButtonClass)),a},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=MediumEditor.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(e){if(e&&e.target&&MediumEditor.util.isDescendant(this.getToolbarElement(),e.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(e){e.hasForm&&e.isDisplayed()&&e.hideForm()})},multipleBlockElementsSelected:function(){var e=/<[^\/>][^>]*><\/[^>]+>/gim,t=new RegExp("<("+MediumEditor.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=MediumEditor.selection.getSelectionHtml(this.document).replace(e,""),r=n.match(t);return!!r&&r.length>1},modifySelection:function(){var e=this.window.getSelection(),t=e.getRangeAt(0);if(this.standardizeSelectionStart&&t.startContainer.nodeValue&&t.startOffset===t.startContainer.nodeValue.length){var n=MediumEditor.util.findAdjacentTextNodeWithContent(MediumEditor.selection.getSelectionElement(this.window),t.startContainer,this.document);if(n){for(var r=0;0===n.nodeValue.substr(r,1).trim().length;)r+=1;t=MediumEditor.selection.select(this.document,n,r,t.endContainer,t.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||MediumEditor.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var e=MediumEditor.selection.getSelectionElement(this.window);return!e||-1===this.getEditorElements().indexOf(e)||e.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!MediumEditor.selection.selectionContainsContent(this.document)||!1===this.allowMultiParagraphSelection&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(e){"function"==typeof e.isActive&&"function"==typeof e.setInactive&&e.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var e,t=[],n=null,r=MediumEditor.selection.getSelectionRange(this.document),i=function(t){"function"==typeof t.checkState?t.checkState(e):"function"==typeof t.isActive&&"function"==typeof t.isAlreadyApplied&&"function"==typeof t.setActive&&!t.isActive()&&t.isAlreadyApplied(e)&&t.setActive()};if(r&&(this.forEachExtension(function(e){if("function"==typeof e.queryCommandState&&null!==(n=e.queryCommandState()))return void(n&&"function"==typeof e.setActive&&e.setActive());t.push(e)}),e=MediumEditor.selection.getSelectedParentElement(r),this.getEditorElements().some(function(t){return MediumEditor.util.isDescendant(t,e,!0)})))for(;e&&(t.forEach(i),!MediumEditor.util.isMediumEditorElement(e));)e=e.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();if(!e)return this;!this.static&&t.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(e):this.positionToolbar(t)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(e){this.getToolbarElement().style.left="0";var t,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,r=this.window.innerWidth,i=this.getToolbarElement(),o=e.getBoundingClientRect(),a=o.top+n,s=o.left+o.width/2,l=i.offsetHeight,c=i.offsetWidth,u=c/2;switch(this.sticky?n>a+e.offsetHeight-l-this.stickyTopOffset?(i.style.top=a+e.offsetHeight-l+"px",i.classList.remove("medium-editor-sticky-toolbar")):n>a-l-this.stickyTopOffset?(i.classList.add("medium-editor-sticky-toolbar"),i.style.top=this.stickyTopOffset+"px"):(i.classList.remove("medium-editor-sticky-toolbar"),i.style.top=a-l+"px"):i.style.top=a-l+"px",this.align){case"left":t=o.left;break;case"right":t=o.right-c;break;case"center":t=s-u}t<0?t=0:t+c>r&&(t=r-Math.ceil(c)-1),i.style.left=t+"px"},positionToolbar:function(e){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var t=e.getRangeAt(0),n=t.getBoundingClientRect();(!n||0===n.height&&0===n.width&&t.startContainer===t.endContainer)&&(n=1===t.startContainer.nodeType&&t.startContainer.querySelector("img")?t.startContainer.querySelector("img").getBoundingClientRect():t.startContainer.getBoundingClientRect());var r,i,o=this.window.innerWidth,a=this.getToolbarElement(),s=a.offsetHeight,l=a.offsetWidth,c=l/2,u=this.diffLeft-c,d=this.getEditorOption("elementsContainer"),h=["absolute","fixed"].indexOf(window.getComputedStyle(d).getPropertyValue("position"))>-1,p={},m={};h?(i=d.getBoundingClientRect(),["top","left"].forEach(function(e){m[e]=n[e]-i[e]}),m.width=n.width,m.height=n.height,n=m,o=i.width,p.top=d.scrollTop):p.top=this.window.pageYOffset,r=n.left+n.width/2,p.top+=n.top-s,n.top<50?(a.classList.add("medium-toolbar-arrow-over"),a.classList.remove("medium-toolbar-arrow-under"),p.top+=50+n.height-this.diffTop):(a.classList.add("medium-toolbar-arrow-under"),a.classList.remove("medium-toolbar-arrow-over"),p.top+=this.diffTop),r<c?(p.left=u+c,p.right="initial"):o-r<c?(p.left="auto",p.right=0):(p.left=u+r,p.right="initial"),["top","left","right"].forEach(function(e){a.style[e]=p[e]+(isNaN(p[e])?"":"px")})}});MediumEditor.extensions.toolbar=e}(),function(){var e=MediumEditor.Extension.extend({init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy","dragover"===e.type?e.target.classList.add("medium-editor-dragover"):"dragleave"===e.type&&e.target.classList.remove("medium-editor-dragover")},handleDrop:function(e){var t;e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&(t=Array.prototype.slice.call(e.dataTransfer.files,0),t.some(function(e){if(e.type.match("image")){var t,n;t=new FileReader,t.readAsDataURL(e),n="medium-img-"+ +new Date,MediumEditor.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+n+'" />'),t.onload=function(){var e=this.document.getElementById(n);e&&(e.removeAttribute("id"),e.removeAttribute("class"),e.src=t.result)}.bind(this)}}.bind(this))),e.target.classList.remove("medium-editor-dragover")}});MediumEditor.extensions.imageDragging=e}(),function(){function handleDisableExtraSpaces(e){var t=MediumEditor.selection.getSelectionStart(this.options.ownerDocument),n=t.textContent,r=MediumEditor.selection.getCaretOffsets(t);(void 0===n[r.left-1]||""===n[r.left-1].trim()||void 0!==n[r.left]&&""===n[r.left].trim())&&e.preventDefault()}function handleDisabledEnterKeydown(e,t){if(this.options.disableReturn||t.getAttribute("data-disable-return"))e.preventDefault();else if(this.options.disableDoubleReturn||t.getAttribute("data-disable-double-return")){var n=MediumEditor.selection.getSelectionStart(this.options.ownerDocument);(n&&""===n.textContent.trim()&&"li"!==n.nodeName.toLowerCase()||n.previousElementSibling&&"br"!==n.previousElementSibling.nodeName.toLowerCase()&&""===n.previousElementSibling.textContent.trim())&&e.preventDefault()}}function handleTabKeydown(e){var t=MediumEditor.selection.getSelectionStart(this.options.ownerDocument);"pre"===(t&&t.nodeName.toLowerCase())&&(e.preventDefault(),MediumEditor.util.insertHTMLCommand(this.options.ownerDocument,"    ")),MediumEditor.util.isListItem(t)&&(e.preventDefault(),e.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function handleBlockDeleteKeydowns(e){var t,n=MediumEditor.selection.getSelectionStart(this.options.ownerDocument),r=n.nodeName.toLowerCase(),i=/^(\s+|<br\/?>)?$/i,o=/h\d/i;MediumEditor.util.isKey(e,[MediumEditor.util.keyCode.BACKSPACE,MediumEditor.util.keyCode.ENTER])&&n.previousElementSibling&&o.test(r)&&0===MediumEditor.selection.getCaretOffsets(n).left?MediumEditor.util.isKey(e,MediumEditor.util.keyCode.BACKSPACE)&&i.test(n.previousElementSibling.innerHTML)?(n.previousElementSibling.parentNode.removeChild(n.previousElementSibling),e.preventDefault()):!this.options.disableDoubleReturn&&MediumEditor.util.isKey(e,MediumEditor.util.keyCode.ENTER)&&(t=this.options.ownerDocument.createElement("p"),t.innerHTML="<br>",n.previousElementSibling.parentNode.insertBefore(t,n),e.preventDefault()):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.DELETE)&&n.nextElementSibling&&n.previousElementSibling&&!o.test(r)&&i.test(n.innerHTML)&&o.test(n.nextElementSibling.nodeName.toLowerCase())?(MediumEditor.selection.moveCursor(this.options.ownerDocument,n.nextElementSibling),n.previousElementSibling.parentNode.removeChild(n),e.preventDefault()):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.BACKSPACE)&&"li"===r&&i.test(n.innerHTML)&&!n.previousElementSibling&&!n.parentElement.previousElementSibling&&n.nextElementSibling&&"li"===n.nextElementSibling.nodeName.toLowerCase()?(t=this.options.ownerDocument.createElement("p"),t.innerHTML="<br>",n.parentElement.parentElement.insertBefore(t,n.parentElement),MediumEditor.selection.moveCursor(this.options.ownerDocument,t),n.parentElement.removeChild(n),e.preventDefault()):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.BACKSPACE)&&!1!==MediumEditor.util.getClosestTag(n,"blockquote")&&0===MediumEditor.selection.getCaretOffsets(n).left?(e.preventDefault(),MediumEditor.util.execFormatBlock(this.options.ownerDocument,"p")):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.ENTER)&&!1!==MediumEditor.util.getClosestTag(n,"blockquote")&&0===MediumEditor.selection.getCaretOffsets(n).right?(t=this.options.ownerDocument.createElement("p"),t.innerHTML="<br>",n.parentElement.insertBefore(t,n.nextSibling),MediumEditor.selection.moveCursor(this.options.ownerDocument,t),e.preventDefault()):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.BACKSPACE)&&MediumEditor.util.isMediumEditorElement(n.parentElement)&&!n.previousElementSibling&&n.nextElementSibling&&i.test(n.innerHTML)&&(e.preventDefault(),MediumEditor.selection.moveCursor(this.options.ownerDocument,n.nextSibling),n.parentElement.removeChild(n))}function handleKeyup(e){var t,n=MediumEditor.selection.getSelectionStart(this.options.ownerDocument);n&&(MediumEditor.util.isMediumEditorElement(n)&&0===n.children.length&&!MediumEditor.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!MediumEditor.util.isKey(e,MediumEditor.util.keyCode.ENTER)||MediumEditor.util.isListItem(n)||MediumEditor.util.isBlockContainer(n)||(t=n.nodeName.toLowerCase(),"a"===t?this.options.ownerDocument.execCommand("unlink",!1,null):e.shiftKey||e.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function handleEditableInput(e,t){var n=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=t.innerHTML.trim())}function addToEditors(e){e._mediumEditors||(e._mediumEditors=[null]),this.id||(this.id=e._mediumEditors.length),e._mediumEditors[this.id]=this}function removeFromEditors(e){e._mediumEditors&&e._mediumEditors[this.id]&&(e._mediumEditors[this.id]=null)}function createElementsArray(e,t,n){var r=[];if(e||(e=[]),"string"==typeof e&&(e=t.querySelectorAll(e)),MediumEditor.util.isElement(e)&&(e=[e]),n)for(var i=0;i<e.length;i++){var o=e[i];!MediumEditor.util.isElement(o)||o.getAttribute("data-medium-editor-element")||o.getAttribute("medium-editor-textarea-id")||r.push(o)}else r=Array.prototype.slice.apply(e);return r}function cleanupTextareaElement(e){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');t&&(t.classList.remove("medium-editor-hidden"),t.removeAttribute("medium-editor-textarea-id")),e.parentNode&&e.parentNode.removeChild(e)}function setExtensionDefaults(e,t){return Object.keys(t).forEach(function(n){void 0===e[n]&&(e[n]=t[n])}),e}function initExtension(e,t,n){return e=setExtensionDefaults(e,{window:n.options.contentWindow,document:n.options.ownerDocument,base:n}),"function"==typeof e.init&&e.init(),e.name||(e.name=t),e}function isToolbarEnabled(){return!this.elements.every(function(e){return!!e.getAttribute("data-disable-toolbar")})&&!1!==this.options.toolbar}function isAnchorPreviewEnabled(){return!!isToolbarEnabled.call(this)&&!1!==this.options.anchorPreview}function isPlaceholderEnabled(){return!1!==this.options.placeholder}function isAutoLinkEnabled(){return!1!==this.options.autoLink}function isImageDraggingEnabled(){return!1!==this.options.imageDragging}function isKeyboardCommandsEnabled(){return!1!==this.options.keyboardCommands}function shouldUseFileDraggingExtension(){return!this.options.extensions.imageDragging}function createContentEditable(e){for(var t=this.options.ownerDocument.createElement("div"),n=Date.now(),r="medium-editor-"+n,i=e.attributes;this.options.ownerDocument.getElementById(r);)n++,r="medium-editor-"+n;t.className=e.className,t.id=r,t.innerHTML=e.value,e.setAttribute("medium-editor-textarea-id",r);for(var o=0,a=i.length;o<a;o++)t.hasAttribute(i[o].nodeName)||t.setAttribute(i[o].nodeName,i[o].nodeValue);return e.form&&this.on(e.form,"reset",function(e){e.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(r))}.bind(this)),e.classList.add("medium-editor-hidden"),e.parentNode.insertBefore(t,e),t}function initElement(t,n){if(!t.getAttribute("data-medium-editor-element")){"textarea"===t.nodeName.toLowerCase()&&(t=createContentEditable.call(this,t),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=handleEditableInput.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||t.getAttribute("data-disable-editing")||(t.setAttribute("contentEditable",!0),t.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(t.getAttribute("data-disable-return")||t.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=handleDisabledEnterKeydown.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||t.getAttribute("data-disable-return")||this.on(t,"keyup",handleKeyup.bind(this));var r=MediumEditor.util.guid();t.setAttribute("data-medium-editor-element",!0),t.classList.add("medium-editor-element"),t.setAttribute("role","textbox"),t.setAttribute("aria-multiline",!0),t.setAttribute("data-medium-editor-editor-index",n),t.setAttribute("medium-editor-index",r),e[r]=t.innerHTML,this.events.attachAllEventsToElement(t)}return t}function attachHandlers(){this.subscribe("editableKeydownTab",handleTabKeydown.bind(this)),this.subscribe("editableKeydownDelete",handleBlockDeleteKeydowns.bind(this)),this.subscribe("editableKeydownEnter",handleBlockDeleteKeydowns.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",handleDisableExtraSpaces.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=handleDisabledEnterKeydown.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function initExtensions(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(e){"toolbar"!==e&&this.options.extensions[e]&&this.extensions.push(initExtension(this.options.extensions[e],e,this))},this),shouldUseFileDraggingExtension.call(this)){var e=this.options.fileDragging;e||(e={},isImageDraggingEnabled.call(this)||(e.allowedTypes=[])),this.addBuiltInExtension("fileDragging",e)}var t={paste:!0,"anchor-preview":isAnchorPreviewEnabled.call(this),autoLink:isAutoLinkEnabled.call(this),keyboardCommands:isKeyboardCommandsEnabled.call(this),placeholder:isPlaceholderEnabled.call(this)};Object.keys(t).forEach(function(e){t[e]&&this.addBuiltInExtension(e)},this);var n=this.options.extensions.toolbar;if(!n&&isToolbarEnabled.call(this)){var r=MediumEditor.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});n=new MediumEditor.extensions.toolbar(r)}n&&this.extensions.push(initExtension(n,"toolbar",this))}function mergeOptions(e,t){var n=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return t&&n.forEach(function(e){t.hasOwnProperty(e[0])&&void 0!==t[e[0]]&&MediumEditor.util.deprecated(e[0],e[1],"v6.0.0")}),MediumEditor.util.defaults({},t,e)}function execActionInternal(e,t){var n,r,i=/^append-(.+)$/gi,o=/justify([A-Za-z]*)$/g;if(n=i.exec(e))return MediumEditor.util.execFormatBlock(this.options.ownerDocument,n[1]);if("fontSize"===e)return t.size&&MediumEditor.util.deprecated(".size option for fontSize command",".value","6.0.0"),r=t.value||t.size,this.options.ownerDocument.execCommand("fontSize",!1,r);if("fontName"===e)return t.name&&MediumEditor.util.deprecated(".name option for fontName command",".value","6.0.0"),r=t.value||t.name,this.options.ownerDocument.execCommand("fontName",!1,r);if("createLink"===e)return this.createLink(t);if("image"===e){var a=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,a)}if("html"===e){var s=this.options.contentWindow.getSelection().toString().trim();return MediumEditor.util.insertHTMLCommand(this.options.ownerDocument,s)}if(o.exec(e)){var l=this.options.ownerDocument.execCommand(e,!1,null),c=MediumEditor.selection.getSelectedParentElement(MediumEditor.selection.getSelectionRange(this.options.ownerDocument));return c&&cleanupJustifyDivFragments.call(this,MediumEditor.util.getTopBlockContainer(c)),l}return r=t&&t.value,this.options.ownerDocument.execCommand(e,!1,r)}function cleanupJustifyDivFragments(e){if(e){var t,n=Array.prototype.slice.call(e.childNodes).filter(function(e){var n="div"===e.nodeName.toLowerCase();return n&&!t&&(t=e.style.textAlign),n});n.length&&(this.saveSelection(),n.forEach(function(e){if(e.style.textAlign===t){var n=e.lastChild;if(n){MediumEditor.util.unwrap(e,this.options.ownerDocument);var r=this.options.ownerDocument.createElement("BR");n.parentNode.insertBefore(r,n.nextSibling)}}},this),e.style.textAlign=t,this.restoreSelection())}}var e={};MediumEditor.prototype={init:function(e,t){return this.options=mergeOptions.call(this,this.defaults,t),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(addToEditors.call(this,this.options.contentWindow),this.events=new MediumEditor.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,initExtensions.call(this),attachHandlers.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(e){"function"==typeof e.destroy&&e.destroy()},this),this.events.destroy(),this.elements.forEach(function(e){this.options.spellcheck&&(e.innerHTML=e.innerHTML),e.removeAttribute("contentEditable"),e.removeAttribute("spellcheck"),e.removeAttribute("data-medium-editor-element"),e.classList.remove("medium-editor-element"),e.removeAttribute("role"),e.removeAttribute("aria-multiline"),e.removeAttribute("medium-editor-index"),e.removeAttribute("data-medium-editor-editor-index"),e.getAttribute("medium-editor-textarea-id")&&cleanupTextareaElement(e)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,removeFromEditors.call(this,this.options.contentWindow))},on:function(e,t,n,r){return this.events.attachDOMEvent(e,t,n,r),this},off:function(e,t,n,r){return this.events.detachDOMEvent(e,t,n,r),this},subscribe:function(e,t){return this.events.attachCustomEvent(e,t),this},unsubscribe:function(e,t){return this.events.detachCustomEvent(e,t),this},trigger:function(e,t,n){return this.events.triggerCustomEvent(e,t,n),this},delay:function(e){var t=this;return setTimeout(function(){t.isActive&&e()},this.options.delay)},serialize:function(){var e,t,n={},r=this.elements.length;for(e=0;e<r;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,n[t]={value:this.elements[e].innerHTML.trim()};return n},getExtensionByName:function(e){var t;return this.extensions&&this.extensions.length&&this.extensions.some(function(n){return n.name===e&&(t=n,!0)}),t},addBuiltInExtension:function(e,t){var n,r=this.getExtensionByName(e);if(r)return r;switch(e){case"anchor":n=MediumEditor.util.extend({},this.options.anchor,t),r=new MediumEditor.extensions.anchor(n);break;case"anchor-preview":r=new MediumEditor.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":r=new MediumEditor.extensions.autoLink;break;case"fileDragging":r=new MediumEditor.extensions.fileDragging(t);break;case"fontname":r=new MediumEditor.extensions.fontName(this.options.fontName);break;case"fontsize":r=new MediumEditor.extensions.fontSize(t);break;case"keyboardCommands":r=new MediumEditor.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":r=new MediumEditor.extensions.paste(this.options.paste);break;case"placeholder":r=new MediumEditor.extensions.placeholder(this.options.placeholder);break;default:MediumEditor.extensions.button.isBuiltInButton(e)&&(t?(n=MediumEditor.util.defaults({},t,MediumEditor.extensions.button.prototype.defaults[e]),r=new MediumEditor.extensions.button(n)):r=new MediumEditor.extensions.button(e))}return r&&this.extensions.push(initExtension(r,e,this)),r},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName("toolbar");return e&&e.checkState(),this},queryCommandState:function(e){var t,n=/^full-(.+)$/gi,r=null;(t=n.exec(e))&&(e=t[1]);try{r=this.options.ownerDocument.queryCommandState(e)}catch(e){r=null}return r},execAction:function(e,t){var n,r,i=/^full-(.+)$/gi;return n=i.exec(e),n?(this.saveSelection(),this.selectAllContents(),r=execActionInternal.call(this,n[1],t),this.restoreSelection()):r=execActionInternal.call(this,e,t),"insertunorderedlist"!==e&&"insertorderedlist"!==e||MediumEditor.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),r},getSelectedParentElement:function(e){return void 0===e&&(e=this.options.contentWindow.getSelection().getRangeAt(0)),MediumEditor.selection.getSelectedParentElement(e)},selectAllContents:function(){var e=MediumEditor.selection.getSelectionElement(this.options.contentWindow);if(e){for(;1===e.children.length;)e=e.children[0];this.selectElement(e)}},selectElement:function(e){MediumEditor.selection.selectNode(e,this.options.ownerDocument);var t=MediumEditor.selection.getSelectionElement(this.options.contentWindow);t&&this.events.focusElement(t)},getFocusedElement:function(){var e;return this.elements.some(function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e},this),e},exportSelection:function(){var e=MediumEditor.selection.getSelectionElement(this.options.contentWindow),t=this.elements.indexOf(e),n=null;return t>=0&&(n=MediumEditor.selection.exportSelection(e,this.options.ownerDocument)),null!==n&&0!==t&&(n.editableElementIndex=t),n},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(e,t){if(e){var n=this.elements[e.editableElementIndex||0];MediumEditor.selection.importSelection(e,n,this.options.ownerDocument,t)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(e){var t,n=MediumEditor.selection.getSelectionElement(this.options.contentWindow),r={};if(-1!==this.elements.indexOf(n)){try{if(this.events.disableCustomEvent("editableInput"),e.url&&MediumEditor.util.deprecated(".url option for createLink",".value","6.0.0"),(t=e.url||e.value)&&t.trim().length>0){var i=this.options.contentWindow.getSelection();if(i){var o,a,s,l,c=i.getRangeAt(0),u=c.commonAncestorContainer;if(3===c.endContainer.nodeType&&3!==c.startContainer.nodeType&&0===c.startOffset&&c.startContainer.firstChild===c.endContainer&&(u=c.endContainer),a=MediumEditor.util.getClosestBlockContainer(c.startContainer),s=MediumEditor.util.getClosestBlockContainer(c.endContainer),3!==u.nodeType&&0!==u.textContent.length&&a===s){var d=a||n,h=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),o=this.exportSelection(),h.appendChild(d.cloneNode(!0)),n===d?MediumEditor.selection.select(this.options.ownerDocument,d.firstChild,0,d.lastChild,3===d.lastChild.nodeType?d.lastChild.nodeValue.length:d.lastChild.childNodes.length):MediumEditor.selection.select(this.options.ownerDocument,d,0,d,d.childNodes.length);var p=this.exportSelection();l=MediumEditor.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,h,{start:o.start-p.start,end:o.end-p.start,editableElementIndex:o.editableElementIndex}),0===l.length&&(h=this.options.ownerDocument.createDocumentFragment(),h.appendChild(u.cloneNode(!0)),l=[h.firstChild.firstChild,h.firstChild.lastChild]),MediumEditor.util.createLink(this.options.ownerDocument,l,t.trim());var m=(h.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;MediumEditor.util.insertHTMLCommand(this.options.ownerDocument,h.firstChild.innerHTML.replace(/^\s+/,"")),o.start-=m,o.end-=m,this.importSelection(o)}else this.options.ownerDocument.execCommand("createLink",!1,t);this.options.targetBlank||"_blank"===e.target?MediumEditor.util.setTargetBlank(MediumEditor.selection.getSelectionStart(this.options.ownerDocument),t):MediumEditor.util.removeTargetBlank(MediumEditor.selection.getSelectionStart(this.options.ownerDocument),t),e.buttonClass&&MediumEditor.util.addClassToAnchors(MediumEditor.selection.getSelectionStart(this.options.ownerDocument),e.buttonClass)}}if(this.options.targetBlank||"_blank"===e.target||e.buttonClass){r=this.options.ownerDocument.createEvent("HTMLEvents"),r.initEvent("input",!0,!0,this.options.contentWindow);for(var f=0,g=this.elements.length;f<g;f+=1)this.elements[f].dispatchEvent(r)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",r,n)}},cleanPaste:function(e){this.getExtensionByName("paste").cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName("paste").pasteHTML(e,t)},setContent:function(e,t){if(t=t||0,this.elements[t]){var n=this.elements[t];n.innerHTML=e,this.checkContentChanged(n)}},getContent:function(e){return e=e||0,this.elements[e]?this.elements[e].innerHTML.trim():null},checkContentChanged:function(e){e=e||MediumEditor.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(e,{target:e,currentTarget:e})},resetContent:function(t){if(t){var n=this.elements.indexOf(t);return void(-1!==n&&this.setContent(e[t.getAttribute("medium-editor-index")],n))}this.elements.forEach(function(t,n){this.setContent(e[t.getAttribute("medium-editor-index")],n)},this)},addElements:function(e){var t=createElementsArray(e,this.options.ownerDocument,!0);if(0===t.length)return!1;t.forEach(function(e){e=initElement.call(this,e,this.id),this.elements.push(e),this.trigger("addElement",{target:e,currentTarget:e},e)},this)},removeElements:function(e){var t=createElementsArray(e,this.options.ownerDocument),n=t.map(function(e){return e.getAttribute("medium-editor-textarea-id")&&e.parentNode?e.parentNode.querySelector('div[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]'):e});this.elements=this.elements.filter(function(e){return-1===n.indexOf(e)||(this.events.cleanupElement(e),e.getAttribute("medium-editor-textarea-id")&&cleanupTextareaElement(e),this.trigger("removeElement",{target:e,currentTarget:e},e),!1)},this)}},MediumEditor.getEditorFromElement=function(e){var t=e.getAttribute("data-medium-editor-editor-index"),n=e&&e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[t]?n._mediumEditors[t]:null}}(),function(){MediumEditor.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),MediumEditor.parseVersionString=function(e){var t=e.split("-"),n=t[0].split("."),r=t.length>1?t[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:r,toString:function(){return[n[0],n[1],n[2]].join(".")+(r?"-"+r:"")}}},MediumEditor.version=MediumEditor.parseVersionString.call(this,{version:"5.23.2"}.version),MediumEditor}())}).call(t,n(18))},function(e,t,n){e.exports={default:n(474),__esModule:!0}},function(e,t,n){function baseGetTag(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}var r=n(238),i=n(553),o=n(554),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=baseGetTag},function(e,t,n){var r=n(239),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){function isObjectLike(e){return null!=e&&"object"==typeof e}e.exports=isObjectLike},function(e,t,n){e.exports={default:n(252),__esModule:!0}},function(e,t){},function(e,t,n){"use strict";var r=n(37),i=n(11),o=n(76),a=n(19),s=n(21),l=n(29),c=n(254),u=n(40),d=n(80),h=n(10)("iterator"),p=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,n,f,g,v,y){c(n,t,f);var _,b,w,x=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",C="values"==g,E=!1,T=e.prototype,M=T[h]||T["@@iterator"]||g&&T[g],k=M||x(g),A=g?C?x("entries"):k:void 0,D="Array"==t?T.entries||M:M;if(D&&(w=d(D.call(new e)))!==Object.prototype&&w.next&&(u(w,S,!0),r||s(w,h)||a(w,h,m)),C&&M&&"values"!==M.name&&(E=!0,k=function(){return M.call(this)}),r&&!y||!p&&!E&&T[h]||a(T,h,k),l[t]=k,l[S]=m,g)if(_={values:C?k:x("values"),keys:v?k:x("keys"),entries:A},y)for(b in _)b in T||o(T,b,_[b]);else i(i.P+i.F*(p||E),t,_);return _}},function(e,t,n){e.exports=!n(16)&&!n(25)(function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(19)},function(e,t,n){var r=n(21),i=n(26),o=n(256)(!1),a=n(54)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(9).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(21),i=n(32),o=n(54)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){n(258);for(var r=n(9),i=n(19),o=n(29),a=n(10)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],d=u&&u.prototype;d&&!d[a]&&i(d,a,c),o[c]=o.Array}},function(e,t,n){var r=n(31),i=n(10)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(14);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(29),i=n(10)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(82),i=n(10)("iterator"),o=n(29);e.exports=n(6).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(14),i=n(38),o=n(10)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(24),s=n(264),l=n(79),c=n(50),u=n(9),d=u.process,h=u.setImmediate,p=u.clearImmediate,m=u.MessageChannel,f=u.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){y.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==n(31)(d)?r=function(e){d.nextTick(a(y,e,1))}:f&&f.now?r=function(e){f.now(a(y,e,1))}:m?(i=new m,o=i.port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",_,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(14),i=n(20),o=n(57);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(10)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){e.exports={default:n(270),__esModule:!0}},function(e,t,n){var r=n(41),i=n(28),o=n(26),a=n(51),s=n(21),l=n(75),c=Object.getOwnPropertyDescriptor;t.f=n(16)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(273),__esModule:!0}},function(e,t,n){e.exports={default:n(275),__esModule:!0}},function(e,t,n){e.exports={default:n(276),__esModule:!0}},function(e,t,n){var r=n(77),i=n(56).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){e.exports={default:n(284),__esModule:!0}},function(e,t,n){var r=n(11),i=n(6),o=n(25);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){n(289),e.exports="ngAnimate"},function(e,t,n){n(292),e.exports="ngAria"},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(e){return function(t,n,o,a){var s=r(t),l=i[e][r(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},a=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];return e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ar-dz",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"أح_إث_ثلا_أر_خم_جم_سب".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,i,o,a){var s=n(t),l=r[e][n(t)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,t)}},o=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];return e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};return e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function plural(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function relativeTimeWithPlural(e,t,n){var r={mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+plural(r[n],+e)}return e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:relativeTimeWithPlural,hh:relativeTimeWithPlural,d:"дзень",dd:relativeTimeWithPlural,M:"месяц",MM:relativeTimeWithPlural,y:"год",yy:relativeTimeWithPlural},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};return e.defineLocale("bn",{months:"জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};return e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function relativeTimeWithMutation(e,t,n){return e+" "+mutation({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function specialMutationForYears(e){switch(lastNumber(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function lastNumber(e){return e>9?lastNumber(e%10):e}function mutation(e,t){return 2===t?softMutation(e):e}function softMutation(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}return e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:relativeTimeWithMutation,h:"un eur",hh:"%d eur",d:"un devezh",dd:relativeTimeWithMutation,M:"ur miz",MM:relativeTimeWithMutation,y:"ur bloaz",yy:specialMutationForYears},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function translate(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"[el] D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"[el] D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"[el] dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function plural(e){return e>1&&e<5&&1!=~~(e/10)}function translate(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(plural(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(plural(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(plural(e)?"dny":"dní"):i+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?i+(plural(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(plural(e)?"roky":"let"):i+"lety"}}var t="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=r[t]),e+n},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function processRelativeTime(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function processRelativeTime(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function processRelativeTime(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._März_April_Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH.mm",LLLL:"dddd, D. MMMM YYYY HH.mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];return e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function isFunction(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}return e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return isFunction(n)&&(n=n.apply(t)),n.replace("{}",r%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function processRelativeTime(e,t,n,r){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}return e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:"%d päeva",M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function translate(e,t,n,r){var i="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":i=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":i=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":i=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":i=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":i=r?"vuoden":"vuotta"}return i=verbalNumber(e,r)+" "+i}function verbalNumber(e,r){return e<10?r?n[e]:t[e]:e}var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],n=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],r=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],i=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"];return e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function processRelativeTime(e,t,n,r){var i={s:["thodde secondanim","thodde second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[n][0]:i[n][1]}return e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function translate(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function translate(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function week(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return week.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return week.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function plural(e){return e%100==11||e%10!=1}function translate(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return t?"mínúta":"mínútu";case"mm":return plural(e)?i+(t||r?"mínútur":"mínútum"):t?i+"mínúta":i+"mínútu";case"hh":return plural(e)?i+(t||r?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return t?"dagur":r?"dag":"degi";case"dd":return plural(e)?t?i+"dagar":i+(r?"daga":"dögum"):t?i+"dagur":i+(r?"dag":"degi");case"M":return t?"mánuður":r?"mánuð":"mánuði";case"MM":return plural(e)?t?i+"mánuðir":i+(r?"mánuði":"mánuðum"):t?i+"mánuður":i+(r?"mánuð":"mánuði");case"y":return t||r?"ár":"ári";case"yy":return plural(e)?i+(t||r?"ár":"árum"):i+(t||r?"ár":"ári")}}return e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:translate,m:translate,mm:translate,h:"klukkustund",hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის უკან"):/წელი/.test(e)?e.replace(/წელი$/,"წლის უკან"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};return e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};return e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬ_ಅಕ್ಟೋಬ_ನವೆಂಬ_ಡಿಸೆಂಬ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};return e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function processRelativeTime(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function processFutureTime(e){return eifelerRegelAppliesToNumber(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function processPastTime(e){return eifelerRegelAppliesToNumber(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function eifelerRegelAppliesToNumber(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,n=e/10;return eifelerRegelAppliesToNumber(0===t?n:t)}if(e<1e4){for(;e>=10;)e/=10;return eifelerRegelAppliesToNumber(e)}return e/=1e3,eifelerRegelAppliesToNumber(e)}return e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:processFutureTime,past:processPastTime,s:"e puer Sekonnen",m:processRelativeTime,mm:"%d Minutten",h:processRelativeTime,hh:"%d Stonnen",d:processRelativeTime,dd:"%d Deeg",M:processRelativeTime,MM:"%d Méint",y:processRelativeTime,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function translateSeconds(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"}function translateSingular(e,t,n,r){return t?forms(n)[0]:r?forms(n)[1]:forms(n)[2]}function special(e){return e%10==0||e>10&&e<20}function forms(e){return t[e].split("_")}function translate(e,t,n,r){var i=e+" ";return 1===e?i+translateSingular(e,t,n[0],r):t?i+(special(e)?forms(n)[1]:forms(n)[0]):r?i+forms(n)[1]:i+(special(e)?forms(n)[1]:forms(n)[2])}var t={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};return e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:translateSeconds,m:translateSingular,mm:translate,h:translateSingular,hh:translate,d:translateSingular,dd:translate,M:translateSingular,MM:translate,y:translateSingular,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function format(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function relativeTimeWithPlural(e,n,r){return e+" "+format(t[r],e,n)}function relativeTimeWithSingular(e,n,r){return format(t[r],e,n)}function relativeSeconds(e,t){return t?"dažas sekundes":"dažām sekundēm"}var t={m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};return e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:relativeSeconds,m:relativeTimeWithSingular,mm:relativeTimeWithPlural,h:relativeTimeWithSingular,hh:relativeTimeWithPlural,d:relativeTimeWithSingular,dd:relativeTimeWithPlural,M:relativeTimeWithSingular,MM:relativeTimeWithPlural,y:relativeTimeWithSingular,yy:relativeTimeWithPlural},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};return e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function relativeTimeMr(e,t,n,r){var i="";if(t)switch(n){case"s":i="काही सेकंद";break;case"m":i="एक मिनिट";break;case"mm":i="%d मिनिटे";break;case"h":i="एक तास";break;case"hh":i="%d तास";break;case"d":i="एक दिवस";break;case"dd":i="%d दिवस";break;case"M":i="एक महिना";break;case"MM":i="%d महिने";break;case"y":i="एक वर्ष";break;case"yy":i="%d वर्षे"}else switch(n){case"s":i="काही सेकंदां";break;case"m":i="एका मिनिटा";break;case"mm":i="%d मिनिटां";break;case"h":i="एका तासा";break;case"hh":i="%d तासां";break;case"d":i="एका दिवसा";break;case"dd":i="%d दिवसां";break;case"M":i="एका महिन्या";break;case"MM":i="%d महिन्यां";break;case"y":i="एका वर्षा";break;case"yy":i="%d वर्षां"}return i.replace(/%d/i,e)}var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:relativeTimeMr,m:relativeTimeMr,mm:relativeTimeMr,h:relativeTimeMr,hh:relativeTimeMr,d:relativeTimeMr,dd:relativeTimeMr,M:relativeTimeMr,MM:relativeTimeMr,y:relativeTimeMr,yy:relativeTimeMr},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?e<4?e:e+12:"सकाळी"===t?e:"दुपारी"===t?e>=10?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात्री":e<10?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};return e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};return e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function plural(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function translate(e,t,n){var r=e+" ";switch(n){case"m":return t?"minuta":"minutę";case"mm":return r+(plural(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(plural(e)?"godziny":"godzin");case"MM":return r+(plural(e)?"miesiące":"miesięcy");case"yy":return r+(plural(e)?"lata":"lat")}}var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,r){return e?""===r?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:translate,mm:translate,h:translate,hh:translate,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:translate,y:"rok",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº"})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function relativeTimeWithPlural(e,t,n){var r={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},i=" ";return(e%100>=20||e>=100&&e%100==0)&&(i=" de "),e+i+r[n]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:relativeTimeWithPlural,h:"o oră",hh:relativeTimeWithPlural,d:"o zi",dd:relativeTimeWithPlural,M:"o lună",MM:relativeTimeWithPlural,y:"un an",yy:relativeTimeWithPlural},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function plural(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function relativeTimeWithPlural(e,t,n){var r={mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===n?t?"минута":"минуту":e+" "+plural(r[n],+e)}var t=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];return e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:t,longMonthsParse:t,shortMonthsParse:t,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"час",hh:relativeTimeWithPlural,d:"день",dd:relativeTimeWithPlural,M:"месяц",MM:relativeTimeWithPlural,y:"год",yy:relativeTimeWithPlural},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];return e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function plural(e){return e>1&&e<5}function translate(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekúnd":"pár sekundami";case"m":return t?"minúta":r?"minútu":"minútou";case"mm":return t||r?i+(plural(e)?"minúty":"minút"):i+"minútami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(plural(e)?"hodiny":"hodín"):i+"hodinami";case"d":return t||r?"deň":"dňom";case"dd":return t||r?i+(plural(e)?"dni":"dní"):i+"dňami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?i+(plural(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?i+(plural(e)?"roky":"rokov"):i+"rokmi"}}var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function processRelativeTime(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};return e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};return e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};return e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t?e:"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function translateFuture(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function translatePast(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function translate(e,t,n,r){var i=numberAsNoun(e);switch(n){case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function numberAsNoun(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+t[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+t[i]),""===o?"pagh":o}var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");return e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:translateFuture,past:translatePast,s:"puS lup",m:"wa’ tup",mm:translate,h:"wa’ rep",hh:translate,d:"wa’ jaj",dd:translate,M:"wa’ jar",MM:translate,y:"wa’ DIS",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(0===e)return e+"'ıncı";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function processRelativeTime(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r?i[n][0]:t?i[n][0]:i[n][1]}return e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";function plural(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function relativeTimeWithPlural(e,t,n){var r={mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+plural(r[n],+e)}function weekdaysCaseReplace(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative}function processHoursFunction(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}return e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:weekdaysCaseReplace,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:processHoursFunction("[Сьогодні "),nextDay:processHoursFunction("[Завтра "),lastDay:processHoursFunction("[Вчора "),nextWeek:processHoursFunction("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return processHoursFunction("[Минулої] dddd [").call(this);case 1:case 2:case 4:return processHoursFunction("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"годину",hh:relativeTimeWithPlural,d:"день",dd:relativeTimeWithPlural,M:"місяць",MM:relativeTimeWithPlural,y:"рік",yy:relativeTimeWithPlural},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];return e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日 HH:mm",LLLL:"YYYY年MMMD日dddd HH:mm",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})})},function(e,t,n){!function(e,t){t(n(0))}(0,function(e){"use strict";return e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日 HH:mm",LLLL:"YYYY年MMMD日dddd HH:mm",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})})},function(e,t,n){n(1),n(99),n(100),n(300),e.exports="ngMaterial"},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){function Parser(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var r=n(219),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},s=/\s|\//;n(12)(Parser,n(43).EventEmitter),Parser.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},Parser.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},Parser.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in a||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},Parser.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},Parser.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},Parser.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},Parser.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},Parser.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},Parser.prototype.onattribdata=function(e){this._attribvalue+=e},Parser.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},Parser.prototype._getInstructionName=function(e){var t=e.search(s),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},Parser.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},Parser.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},Parser.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},Parser.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},Parser.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},Parser.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},Parser.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},Parser.prototype.parseComplete=function(e){this.reset(),this.end(e)},Parser.prototype.write=function(e){this._tokenizer.write(e)},Parser.prototype.end=function(e){this._tokenizer.end(e)},Parser.prototype.pause=function(){this._tokenizer.pause()},Parser.prototype.resume=function(){this._tokenizer.resume()},Parser.prototype.parseChunk=Parser.prototype.write,Parser.prototype.done=Parser.prototype.end,e.exports=Parser},function(e,t,n){function whitespace(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function ifElseState(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function consumeSpecialNameChar(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=u,this._index--)}}function Tokenizer(e,t){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ue,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}e.exports=Tokenizer;var r=n(220),i=n(61),o=n(221),a=n(62),s=0,l=s++,c=s++,u=s++,d=s++,h=s++,p=s++,m=s++,f=s++,g=s++,v=s++,y=s++,_=s++,b=s++,w=s++,x=s++,S=s++,C=s++,E=s++,T=s++,M=s++,k=s++,A=s++,D=s++,$=s++,P=s++,L=s++,R=s++,O=s++,I=s++,F=s++,N=s++,H=s++,j=s++,B=s++,V=s++,Y=s++,z=s++,q=s++,U=s++,G=s++,W=s++,K=s++,X=s++,J=s++,Z=s++,Q=s++,ee=s++,te=s++,ne=s++,re=s++,ie=s++,oe=s++,ae=s++,se=s++,le=s++,ce=0,ue=ce++,de=ce++,he=ce++;Tokenizer.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=c,this._sectionStart=this._index):this._decodeEntities&&this._special===ue&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=ie,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeTagName=function(e){"/"===e?this._state=h:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ue||whitespace(e)?this._state=l:"!"===e?(this._state=x,this._sectionStart=this._index+1):"?"===e?(this._state=C,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?u:N,this._sectionStart=this._index)},Tokenizer.prototype._stateInTagName=function(e){("/"===e||">"===e||whitespace(e))&&(this._emitToken("onopentagname"),this._state=f,this._index--)},Tokenizer.prototype._stateBeforeCloseingTagName=function(e){whitespace(e)||(">"===e?this._state=l:this._special!==ue?"s"===e||"S"===e?this._state=H:(this._state=l,this._index--):(this._state=p,this._sectionStart=this._index))},Tokenizer.prototype._stateInCloseingTagName=function(e){(">"===e||whitespace(e))&&(this._emitToken("onclosetag"),this._state=m,this._index--)},Tokenizer.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=l,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===e?this._state=d:whitespace(e)||(this._state=g,this._sectionStart=this._index)},Tokenizer.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):whitespace(e)||(this._state=f,this._index--)},Tokenizer.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||whitespace(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=v,this._index--)},Tokenizer.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=f,this._index--):whitespace(e)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=_,this._sectionStart=this._index+1):"'"===e?(this._state=b,this._sectionStart=this._index+1):whitespace(e)||(this._state=w,this._sectionStart=this._index,this._index--)},Tokenizer.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=f):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=f):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueNoQuotes=function(e){whitespace(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=f,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeDeclaration=function(e){this._state="["===e?A:"-"===e?E:S},Tokenizer.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},Tokenizer.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeComment=function(e){"-"===e?(this._state=T,this._sectionStart=this._index+1):this._state=S},Tokenizer.prototype._stateInComment=function(e){"-"===e&&(this._state=M)},Tokenizer.prototype._stateAfterComment1=function(e){this._state="-"===e?k:T},Tokenizer.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==e&&(this._state=T)},Tokenizer.prototype._stateBeforeCdata1=ifElseState("C",D,S),Tokenizer.prototype._stateBeforeCdata2=ifElseState("D",$,S),Tokenizer.prototype._stateBeforeCdata3=ifElseState("A",P,S),Tokenizer.prototype._stateBeforeCdata4=ifElseState("T",L,S),Tokenizer.prototype._stateBeforeCdata5=ifElseState("A",R,S),Tokenizer.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=O,this._sectionStart=this._index+1):(this._state=S,this._index--)},Tokenizer.prototype._stateInCdata=function(e){"]"===e&&(this._state=I)},Tokenizer.prototype._stateAfterCdata1=function(e,t){return function(n){n===e&&(this._state=t)}}("]",F),Tokenizer.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==e&&(this._state=O)},Tokenizer.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=j:"t"===e||"T"===e?this._state=X:(this._state=u,this._index--)},Tokenizer.prototype._stateBeforeSpecialEnd=function(e){this._special!==de||"c"!==e&&"C"!==e?this._special!==he||"t"!==e&&"T"!==e?this._state=l:this._state=ee:this._state=q},Tokenizer.prototype._stateBeforeScript1=consumeSpecialNameChar("R",B),Tokenizer.prototype._stateBeforeScript2=consumeSpecialNameChar("I",V),Tokenizer.prototype._stateBeforeScript3=consumeSpecialNameChar("P",Y),Tokenizer.prototype._stateBeforeScript4=consumeSpecialNameChar("T",z),Tokenizer.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||whitespace(e))&&(this._special=de),this._state=u,this._index--},Tokenizer.prototype._stateAfterScript1=ifElseState("R",U,l),Tokenizer.prototype._stateAfterScript2=ifElseState("I",G,l),Tokenizer.prototype._stateAfterScript3=ifElseState("P",W,l),Tokenizer.prototype._stateAfterScript4=ifElseState("T",K,l),Tokenizer.prototype._stateAfterScript5=function(e){">"===e||whitespace(e)?(this._special=ue,this._state=p,this._sectionStart=this._index-6,this._index--):this._state=l},Tokenizer.prototype._stateBeforeStyle1=consumeSpecialNameChar("Y",J),Tokenizer.prototype._stateBeforeStyle2=consumeSpecialNameChar("L",Z),Tokenizer.prototype._stateBeforeStyle3=consumeSpecialNameChar("E",Q),Tokenizer.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||whitespace(e))&&(this._special=he),this._state=u,this._index--},Tokenizer.prototype._stateAfterStyle1=ifElseState("Y",te,l),Tokenizer.prototype._stateAfterStyle2=ifElseState("L",ne,l),Tokenizer.prototype._stateAfterStyle3=ifElseState("E",re,l),Tokenizer.prototype._stateAfterStyle4=function(e){">"===e||whitespace(e)?(this._special=ue,this._state=p,this._sectionStart=this._index-5,this._index--):this._state=l},Tokenizer.prototype._stateBeforeEntity=ifElseState("#",oe,ae),Tokenizer.prototype._stateBeforeNumericEntity=ifElseState("X",le,se),Tokenizer.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},Tokenizer.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},Tokenizer.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},Tokenizer.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),o=parseInt(i,t);this._emitPartial(r(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},Tokenizer.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},Tokenizer.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},Tokenizer.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},Tokenizer.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},Tokenizer.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===l?this._stateText(e):this._state===c?this._stateBeforeTagName(e):this._state===u?this._stateInTagName(e):this._state===h?this._stateBeforeCloseingTagName(e):this._state===p?this._stateInCloseingTagName(e):this._state===m?this._stateAfterCloseingTagName(e):this._state===d?this._stateInSelfClosingTag(e):this._state===f?this._stateBeforeAttributeName(e):this._state===g?this._stateInAttributeName(e):this._state===v?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===_?this._stateInAttributeValueDoubleQuotes(e):this._state===b?this._stateInAttributeValueSingleQuotes(e):this._state===w?this._stateInAttributeValueNoQuotes(e):this._state===x?this._stateBeforeDeclaration(e):this._state===S?this._stateInDeclaration(e):this._state===C?this._stateInProcessingInstruction(e):this._state===E?this._stateBeforeComment(e):this._state===T?this._stateInComment(e):this._state===M?this._stateAfterComment1(e):this._state===k?this._stateAfterComment2(e):this._state===A?this._stateBeforeCdata1(e):this._state===D?this._stateBeforeCdata2(e):this._state===$?this._stateBeforeCdata3(e):this._state===P?this._stateBeforeCdata4(e):this._state===L?this._stateBeforeCdata5(e):this._state===R?this._stateBeforeCdata6(e):this._state===O?this._stateInCdata(e):this._state===I?this._stateAfterCdata1(e):this._state===F?this._stateAfterCdata2(e):this._state===N?this._stateBeforeSpecial(e):this._state===H?this._stateBeforeSpecialEnd(e):this._state===j?this._stateBeforeScript1(e):this._state===B?this._stateBeforeScript2(e):this._state===V?this._stateBeforeScript3(e):this._state===Y?this._stateBeforeScript4(e):this._state===z?this._stateBeforeScript5(e):this._state===q?this._stateAfterScript1(e):this._state===U?this._stateAfterScript2(e):this._state===G?this._stateAfterScript3(e):this._state===W?this._stateAfterScript4(e):this._state===K?this._stateAfterScript5(e):this._state===X?this._stateBeforeStyle1(e):this._state===J?this._stateBeforeStyle2(e):this._state===Z?this._stateBeforeStyle3(e):this._state===Q?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===se?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},Tokenizer.prototype.pause=function(){this._running=!1},Tokenizer.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},Tokenizer.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},Tokenizer.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},Tokenizer.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===O||this._state===I||this._state===F?this._cbs.oncdata(e):this._state===T||this._state===M||this._state===k?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==se||this._xmlMode?this._state!==le||this._xmlMode?this._state!==u&&this._state!==f&&this._state!==y&&this._state!==v&&this._state!==g&&this._state!==b&&this._state!==_&&this._state!==w&&this._state!==p&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},Tokenizer.prototype.reset=function(){Tokenizer.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},Tokenizer.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},Tokenizer.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},Tokenizer.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},Tokenizer.prototype._emitPartial=function(e){this._baseState!==l?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){function decodeCodePoint(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in r&&(e=r[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}var r=n(328);e.exports=decodeCodePoint},function(e,t){e.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){function Stream(e,t){var n=this._parser=new r(e,t),a=this._decoder=new o;i.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(a.end())})}e.exports=Stream;var r=n(218),i=n(333).Writable||n(343).Writable,o=n(66).StringDecoder,a=n(27).Buffer;n(12)(Stream,i),i.prototype._write=function(e,t,n){e instanceof a&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(e,t,n){"use strict";(function(t,r){function _uint8ArrayToBuffer(e){return c.from(e)}function _isUint8Array(e){return c.isBuffer(e)||e instanceof u}function prependListener(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function ReadableState(e,t){o=o||n(22),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(m||(m=n(66).StringDecoder),this.decoder=new m(e.encoding),this.encoding=e.encoding)}function Readable(e){if(o=o||n(22),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function readableAddChunk(e,t,n,r,i){var o=e._readableState;if(null===t)o.reading=!1,onEofChunk(e,o);else{var a;i||(a=chunkInvalid(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=_uint8ArrayToBuffer(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):addChunk(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?addChunk(e,o,t,!1):maybeReadMore(e,o)):addChunk(e,o,t,!1))):r||(o.reading=!1)}return needMoreData(o)}function addChunk(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var n;return _isUint8Array(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=y?e=y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){p("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,i(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){p("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(resume_,e,t))}function resume_(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=fromListPartial(e,t.buffer,t.decoder),n}function fromListPartial(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?copyFromBufferString(e,t):copyFromBuffer(e,t),r}function copyFromBufferString(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function copyFromBuffer(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function indexOf(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var i=n(44);e.exports=Readable;var o,a=n(217);Readable.ReadableState=ReadableState;var s=(n(43).EventEmitter,function(e,t){return e.listeners(t).length}),l=n(225),c=n(64).Buffer,u=t.Uint8Array||function(){},d=n(36);d.inherits=n(12);var h=n(334),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var m,f=n(335),g=n(226);d.inherits(Readable,l);var v=["error","close","destroy","pause","resume"];Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=g.destroy,Readable.prototype._undestroy=g.undestroy,Readable.prototype._destroy=function(e,t){this.push(null),t(e)},Readable.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=c.from(e,t),t=""),n=!0),readableAddChunk(this,e,t,!1,n)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return m||(m=n(66).StringDecoder),this._readableState.decoder=new m(e),this._readableState.encoding=e,this};var y=8388608;Readable.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var r=t.needReadable;p("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,p("length less than watermark",r)),t.ended||t.reading?(r=!1,p("reading or ended",r)):r&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(n,t)));var i;return i=e>0?fromList(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&endReadable(this)),null!==i&&this.emit("data",i),i},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,t){function onunpipe(e,t){p("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,cleanup())}function onend(){p("onend"),e.end()}function cleanup(){p("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),e.removeListener("drain",c),e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),n.removeListener("end",onend),n.removeListener("end",unpipe),n.removeListener("data",ondata),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function ondata(t){p("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==indexOf(o.pipes,e))&&!u&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function onerror(t){p("onerror",t),unpipe(),e.removeListener("error",onerror),0===s(e,"error")&&e.emit("error",t)}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){p("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){p("unpipe"),n.unpipe(e)}var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,l=a?onend:unpipe;o.endEmitted?i(l):n.once("end",l),e.on("unpipe",onunpipe);var c=pipeOnDrain(n);e.on("drain",c);var u=!1,d=!1;return n.on("data",ondata),prependListener(e,"error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=indexOf(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},Readable.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&emitReadable(this):i(nReadingNextTick,this))}return n},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(p("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(p("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){r.push(i)||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],r.emit.bind(r,v[o]));return r._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},r},Readable._fromList=fromList}).call(t,n(8),n(18))},function(e,t,n){e.exports=n(43).EventEmitter},function(e,t,n){"use strict";function destroy(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;if(i||o)return void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r(emitErrorNT,this,e));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r(emitErrorNT,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}var r=n(44);e.exports={destroy:destroy,undestroy:undestroy}},function(e,t,n){function Timeout(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new Timeout(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(336),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";function TransformState(e){this.afterTransform=function(t,n){return afterTransform(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);r.call(this,e),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){done(t,e,n)}):done(t)})}function done(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=Transform;var r=n(22),i=n(36);i.inherits=n(12),i.inherits(Transform,r),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){(function(e){var n,r;!function(i,o,a){"use strict";function Flow(e){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(i.navigator.userAgent)||/Firefox/.test(i.navigator.userAgent)||/Edge/.test(i.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:webAPIFileRead},this.opts={},this.events={};var t=this;this.onDrop=function(e){t.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var n=e.dataTransfer;n.items&&n.items[0]&&n.items[0].webkitGetAsEntry?t.webkitReadDataTransfer(e):t.addFiles(n.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=Flow.extend({},this.defaults,e||{})}}function FlowFile(e,t,n){this.flowObj=e,this.bytes=null,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=n===a?e.generateUniqueIdentifier(t):n,this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function webAPIFileRead(e,t,n,r,i){var o="slice";e.file.slice?o="slice":e.file.mozSlice?o="mozSlice":e.file.webkitSlice&&(o="webkitSlice"),i.readFinished(e.file[o](t,n,r))}function FlowChunk(e,t,n){this.flowObj=e,this.fileObj=t,this.offset=n,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.flowObj.opts.chunkSize,this.startByte=this.offset*this.chunkSize,this.computeEndByte=function(){var e=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-e<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(e=this.fileObj.size),e},this.endByte=this.computeEndByte(),this.xhr=null;var r=this;this.event=function(e,t){t=Array.prototype.slice.call(arguments),t.unshift(r),r.fileObj.chunkEvent.apply(r.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(r.loaded=e.loaded,r.total=e.total),r.event("progress",e)},this.testHandler=function(e){var t=r.status(!0);"error"===t?(r.event(t,r.message()),r.flowObj.uploadNextChunk()):"success"===t?(r.tested=!0,r.event(t,r.message()),r.flowObj.uploadNextChunk()):r.fileObj.paused||(r.tested=!0,r.send())},this.doneHandler=function(e){var t=r.status();if("success"===t||"error"===t)delete this.data,r.event(t,r.message()),r.flowObj.uploadNextChunk();else{r.event("retry",r.message()),r.pendingRetry=!0,r.abort(),r.retries++;var n=r.flowObj.opts.chunkRetryInterval;null!==n?setTimeout(function(){r.send()},n):r.send()}}}function arrayRemove(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function evalOpts(e,t){return"function"==typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function async(e,t){setTimeout(e.bind(t),0)}function extend(e,t){return each(arguments,function(t){t!==e&&each(t,function(t,n){e[n]=t})}),e}function each(e,t,n){if(e){var r;if(void 0!==e.length){for(r=0;r<e.length;r++)if(!1===t.call(n,e[r],r))return}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r))return}}var s=i.navigator.msPointerEnabled;Flow.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){e!==a?(e=e.toLowerCase(),t!==a?this.events.hasOwnProperty(e)&&arrayRemove(this.events[e],t):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var n=!1;return this.events.hasOwnProperty(e)&&each(this.events[e],function(e){n=!1===e.apply(this,t.slice(1))||n},this),"catchall"!=e&&(t.unshift("catchAll"),n=!1===this.fire.apply(this,t)||n),!n},webkitReadDataTransfer:function(e){function readDirectory(e){e.readEntries(function(t){t.length?(n+=t.length,each(t,function(e){if(e.isFile){var t=e.fullPath;e.file(function(e){fileReadSuccess(e,t)},readError)}else e.isDirectory&&readDirectory(e.createReader())}),readDirectory(e)):decrement()},readError)}function fileReadSuccess(e,t){e.relativePath=t.substring(1),r.push(e),decrement()}function readError(e){throw e}function decrement(){0==--n&&t.addFiles(r,e)}var t=this,n=e.dataTransfer.items.length,r=[];each(e.dataTransfer.items,function(e){var t=e.webkitGetAsEntry();if(!t)return void decrement();t.isFile?fileReadSuccess(e.getAsFile(),t.fullPath):readDirectory(t.createReader())})},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"==typeof t)return t(e);var n=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(each(this.files,function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0}),t))return t;if(each(this.files,function(e){if(e.paused||each(e.chunks,function(e){if("pending"===e.status())return e.send(),t=!0,!1}),t)return!1}),t)return!0;var n=!1;return each(this.files,function(e){if(!e.isComplete())return n=!0,!1}),n||e||async(function(){this.fire("complete")},this),!1},assignBrowse:function(e,t,n,r){e instanceof Element&&(e=[e]),each(e,function(e){var i;"INPUT"===e.tagName&&"file"===e.type?i=e:(i=o.createElement("input"),i.setAttribute("type","file"),extend(i.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(i),e.addEventListener("click",function(){i.click()},!1)),this.opts.singleFile||n||i.setAttribute("multiple","multiple"),t&&i.setAttribute("webkitdirectory","webkitdirectory"),each(r,function(e,t){i.setAttribute(t,e)});var a=this;i.addEventListener("change",function(e){e.target.value&&(a.addFiles(e.target.files,e),e.target.value="")},!1)},this)},assignDrop:function(e){void 0===e.length&&(e=[e]),each(e,function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(e){void 0===e.length&&(e=[e]),each(e,function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var e=!1;return each(this.files,function(t){if(t.isUploading())return e=!0,!1}),e},_shouldUploadNext:function(){var e=0,t=!0,n=this.opts.simultaneousUploads;return each(this.files,function(r){each(r.chunks,function(r){if("uploading"===r.status()&&++e>=n)return t=!1,!1})}),t&&e},upload:function(){var e=this._shouldUploadNext();if(!1!==e){this.fire("uploadStart");for(var t=!1,n=1;n<=this.opts.simultaneousUploads-e;n++)t=this.uploadNextChunk(!0)||t;t||async(function(){this.fire("complete")},this)}},resume:function(){each(this.files,function(e){e.isComplete()||e.resume()})},pause:function(){each(this.files,function(e){e.pause()})},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return each(this.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var n=[];each(e,function(e){if((!s||s&&e.size>0)&&(e.size%4096!=0||"."!==e.name&&"."!==e.fileName)){var r=this.generateUniqueIdentifier(e);if(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(r)){var i=new FlowFile(this,e,r);this.fire("fileAdded",i,t)&&n.push(i)}}},this),this.fire("filesAdded",n,t)&&(each(n,function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)},this),this.fire("filesSubmitted",n,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort(),this.fire("fileRemoved",e))},getFromUniqueIdentifier:function(e){var t=!1;return each(this.files,function(n){n.uniqueIdentifier===e&&(t=n)}),t},getSize:function(){var e=0;return each(this.files,function(t){e+=t.size}),e},sizeUploaded:function(){var e=0;return each(this.files,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){var e=0,t=0;return each(this.files,function(n){n.paused||n.error||(e+=n.size-n.sizeUploaded(),t+=n.averageSpeed)}),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},FlowFile.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,n=this.sizeUploaded();this.currentSpeed=Math.max((n-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=n}},chunkEvent:function(e,t,n){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,n,e),this.flowObj.fire("error",n,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,n,e));break;case"retry":this.flowObj.fire("fileRetry",this,e)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),each(t,function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"==typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;for(var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,t=Math.max(e(this.size/this.flowObj.opts.chunkSize),1),n=0;n<t;n++)this.chunks.push(new FlowChunk(this.flowObj,this,n))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;each(this.chunks,function(t){e+=t.progress()*(t.endByte-t.startByte)});var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return each(this.chunks,function(t){if("uploading"===t.status())return e=!0,!1}),e},isComplete:function(){var e=!1;return each(this.chunks,function(t){var n=t.status();if("pending"===n||"uploading"===n||"reading"===n||1===t.preprocessState||1===t.readState)return e=!0,!1}),!e},sizeUploaded:function(){var e=0;return each(this.chunks,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr(2+(~-this.name.lastIndexOf(".")>>>0)).toLowerCase()}},FlowChunk.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return e.indexOf("?")<0?e+="?":e+="&",e+t.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var e=evalOpts(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(e){this.readState=2,this.bytes=e,this.send()},send:function(){var e=this.flowObj.opts.preprocess,t=this.flowObj.opts.readFileFn;if("function"==typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void t(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(this.flowObj.opts.testChunks&&!this.tested)return void this.test();this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var n=evalOpts(this.flowObj.opts.uploadMethod,this.fileObj,this),r=this.prepareXhrRequest(n,!1,this.flowObj.opts.method,this.bytes);this.xhr.send(r)},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,n,r){var i=evalOpts(this.flowObj.opts.query,this.fileObj,this,t);i=extend(i,this.getParams());var o=evalOpts(this.flowObj.opts.target,this.fileObj,this,t),a=null;if("GET"===e||"octet"===n){var s=[];each(i,function(e,t){s.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))}),o=this.getTarget(o,s),a=r||null}else a=new FormData,each(i,function(e,t){a.append(t,e)}),void 0!==r&&a.append(this.flowObj.opts.fileParameterName,r,this.fileObj.file.name);return this.xhr.open(e,o,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,each(evalOpts(this.flowObj.opts.headers,this.fileObj,this,t),function(e,t){this.xhr.setRequestHeader(t,e)},this),a}},Flow.evalOpts=evalOpts,Flow.extend=extend,Flow.each=each,Flow.FlowFile=FlowFile,Flow.FlowChunk=FlowChunk,Flow.version="<%= version %>","object"==typeof e&&e&&"object"==typeof e.exports?e.exports=Flow:(i.Flow=Flow,n=[],(r=function(){return Flow}.apply(t,n))!==a&&(e.exports=r))}(window,document)}).call(t,n(17)(e))},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n(8))},function(e,t){function bytesToUuid(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=bytesToUuid},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,n){"use strict";function create(){var e=g();return e.compile=function(t,n){return c.compile(t,n,e)},e.precompile=function(t,n){return c.precompile(t,n,e)},e.AST=s.default,e.Compiler=c.Compiler,e.JavaScriptCompiler=d.default,e.Parser=l.parser,e.parse=l.parse,e}var r=n(1).default;t.__esModule=!0;var i=n(2),o=r(i),a=n(35),s=r(a),l=n(36),c=n(41),u=n(42),d=r(u),h=n(39),p=r(h),m=n(34),f=r(m),g=o.default.create,v=create();v.create=create,f.default(v),v.Visitor=p.default,v.default=v,t.default=v,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function create(){var e=new a.HandlebarsEnvironment;return h.extend(e,a),e.SafeString=l.default,e.Exception=u.default,e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var r=n(3).default,i=n(1).default;t.__esModule=!0;var o=n(4),a=r(o),s=n(21),l=i(s),c=n(6),u=i(c),d=n(5),h=r(d),p=n(22),m=r(p),f=n(34),g=i(f),v=create();v.create=create,g.default(v),v.default=v,t.default=v,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";function HandlebarsEnvironment(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=HandlebarsEnvironment;var i=n(5),o=n(6),a=r(o),s=n(10),l=n(18),c=n(20),u=r(c);t.VERSION="4.0.10";t.COMPILER_REVISION=7;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=d;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:u.default,log:u.default.log,registerHelper:function(e,t){if("[object Object]"===i.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===i.toString.call(e))i.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===i.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var h=u.default.log;t.log=h,t.createFrame=i.createFrame,t.logger=u.default},function(e,t){"use strict";function escapeChar(e){return n[e]}function extend(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function indexOf(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function escapeExpression(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return i.test(e)?e.replace(r,escapeChar):e}function isEmpty(e){return!e&&0!==e||!(!s(e)||0!==e.length)}function createFrame(e){var t=extend({},e);return t._parent=e,t}function blockParams(e,t){return e.path=t,e}function appendContextPath(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=extend,t.indexOf=indexOf,t.escapeExpression=escapeExpression,t.isEmpty=isEmpty,t.createFrame=createFrame,t.blockParams=blockParams,t.appendContextPath=appendContextPath;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,i=/[&<>"'`=]/,o=Object.prototype.toString;t.toString=o;var a=function(e){return"function"==typeof e};a(/x/)&&(t.isFunction=a=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)}),t.isFunction=a;var s=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===o.call(e)};t.isArray=s},function(e,t,n){"use strict";function Exception(e,t){var n=t&&t.loc,o=void 0,a=void 0;n&&(o=n.start.line,a=n.start.column,e+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=s[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{n&&(this.lineNumber=o,r?Object.defineProperty(this,"column",{value:a,enumerable:!0}):this.column=a)}catch(e){}}var r=n(7).default;t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,t.default=Exception,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var r=n(9);e.exports=function(e,t,n){return r.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function registerDefaultHelpers(e){o.default(e),s.default(e),c.default(e),d.default(e),p.default(e),f.default(e),v.default(e)}var r=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=registerDefaultHelpers;var i=n(11),o=r(i),a=n(12),s=r(a),l=n(13),c=r(l),u=n(14),d=r(u),h=n(15),p=r(h),m=n(16),f=r(m),g=n(17),v=r(g)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return i(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)})},e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;var i=n(5),o=n(6),a=r(o);t.default=function(e){e.registerHelper("each",function(e,t){function execIteration(t,r,o){l&&(l.key=t,l.index=r,l.first=0===r,l.last=!!o,c&&(l.contextPath=c+t)),s+=n(e[t],{data:l,blockParams:i.blockParams([e[t],t],[c+t,null])})}if(!t)throw new a.default("Must pass iterator to #each");var n=t.fn,r=t.inverse,o=0,s="",l=void 0,c=void 0;if(t.data&&t.ids&&(c=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(l=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var u=e.length;o<u;o++)o in e&&execIteration(o,o,o===e.length-1);else{var d=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==d&&execIteration(d,o-1),d=h,o++);void 0!==d&&execIteration(d,o-1,!0)}return 0===o&&(s=r(this)),s})},e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;var i=n(6),o=r(i);t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t.default=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t.default=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&(i=r.createFrame(t.data),i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";function registerDefaultDecorators(e){o.default(e)}var r=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=registerDefaultDecorators;var i=n(19),o=r(i)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t.default=function(e){e.registerDecorator("inline",function(e,t,n,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(i,o);return n.partials=a,s}),t.partials[i.args[0]]=i.fn,o})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[t].apply(console,r)}}};t.default=i,e.exports=t.default},function(e,t){"use strict";function SafeString(e){this.string=e}t.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},t.default=SafeString,e.exports=t.default},function(e,t,n){"use strict";function checkRevision(e){var t=e&&e[0]||1,n=u.COMPILER_REVISION;if(t!==n){if(t<n){var r=u.REVISION_CHANGES[n],i=u.REVISION_CHANGES[t];throw new c.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new c.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function template(e,t){function invokePartialWrapper(n,r,i){i.hash&&(r=s.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,i);var o=t.VM.invokePartial.call(this,n,r,i);if(null==o&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),o=i.partials[i.name](r,i)),null!=o){if(i.indent){for(var a=o.split("\n"),l=0,u=a.length;l<u&&(a[l]||l+1!==u);l++)a[l]=i.indent+a[l];o=a.join("\n")}return o}throw new c.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function ret(t){function main(t){return""+e.main(n,t,n.helpers,n.partials,i,a,o)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r.data;ret._setup(r),!r.partial&&e.useData&&(i=initData(t,i));var o=void 0,a=e.useBlockParams?[]:void 0;return e.useDepths&&(o=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(main=executeDecorators(e.main,main,n,r.depths||[],i,a))(t,r)}if(!t)throw new c.default("No environment passed to template");if(!e||!e.main)throw new c.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new c.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:s.escapeExpression,invokePartial:invokePartialWrapper,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,i){var o=this.programs[e],a=this.fn(e);return t||i||r||n?o=wrapProgram(this,e,a,t,n,r,i):o||(o=this.programs[e]=wrapProgram(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=s.extend({},t,e)),n},nullContext:r({}),noop:t.VM.noop,compilerInfo:e.compiler};return ret.isTop=!0,ret._setup=function(r){r.partial?(n.helpers=r.helpers,n.partials=r.partials,n.decorators=r.decorators):(n.helpers=n.merge(r.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(r.decorators,t.decorators)))},ret._child=function(t,r,i,o){if(e.useBlockParams&&!i)throw new c.default("must pass block params");if(e.useDepths&&!o)throw new c.default("must pass parent depths");return wrapProgram(n,t,e[t],r,0,i,o)},ret}function wrapProgram(e,t,n,r,i,o,a){function prog(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a)),n(e,t,e.helpers,e.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return prog=executeDecorators(n,prog,e,a,r,o),prog.program=t,prog.depth=a?a.length:0,prog.blockParams=i||0,prog}function resolvePartial(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function invokePartial(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==noop&&function(){n.data=u.createFrame(n.data);var e=n.fn;i=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=u.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=s.extend({},n.partials,e.partials))}(),void 0===e&&i&&(e=i),void 0===e)throw new c.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function noop(){return""}function initData(e,t){return t&&"root"in t||(t=t?u.createFrame(t):{},t.root=e),t}function executeDecorators(e,t,n,r,i,o){if(e.decorator){var a={};t=e.decorator(t,a,n,r&&r[0],i,o,r),s.extend(t,a)}return t}var r=n(23).default,i=n(3).default,o=n(1).default;t.__esModule=!0,t.checkRevision=checkRevision,t.template=template,t.wrapProgram=wrapProgram,t.resolvePartial=resolvePartial,t.invokePartial=invokePartial,t.noop=noop;var a=n(5),s=i(a),l=n(6),c=o(l),u=n(4)},function(e,t,n){e.exports={default:n(24),__esModule:!0}},function(e,t,n){n(25),e.exports=n(30).Object.seal},function(e,t,n){var r=n(26);n(27)("seal",function(e){return function(t){return e&&r(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(28),i=n(30),o=n(33);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(29),i=n(30),o=n(31),a=function(e,t,n){var s,l,c,u=e&a.F,d=e&a.G,h=e&a.S,p=e&a.P,m=e&a.B,f=e&a.W,g=d?i:i[t]||(i[t]={}),v=d?r:h?r[t]:(r[t]||{}).prototype;d&&(n=t);for(s in n)(l=!u&&v&&s in v)&&s in g||(c=l?v[s]:n[s],g[s]=d&&"function"!=typeof v[s]?n[s]:m&&l?o(c,r):f&&v[s]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((g.prototype||(g.prototype={}))[s]=c))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,e.exports=a},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(32);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function parse(e,t){return"Program"===e.type?e:(a.default.yy=h,h.locInfo=function(e){return new h.SourceLocation(t&&t.srcName,e)},new l.default(t).accept(a.default.parse(e)))}var r=n(1).default,i=n(3).default;t.__esModule=!0,t.parse=parse;var o=n(37),a=r(o),s=n(38),l=r(s),c=n(40),u=i(c),d=n(5);t.parser=a.default;var h={};d.extend(h,u)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function Parser(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:this.$=r.prepareProgram(o[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(o[s]),strip:r.stripFlags(o[s],o[s]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=r.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=r.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:r.stripFlags(o[s-5],o[s])};break;case 16:case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:r.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:r.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var l=r.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),c=r.prepareProgram([l],o[s-1].loc);c.chained=!0,this.$={strip:o[s-2].strip,program:c,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:r.stripFlags(o[s-2],o[s])};break;case 22:case 23:this.$=r.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],r.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:r.stripFlags(o[s-4],o[s]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:r.stripFlags(o[s-4],o[s])};break;case 27:case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(o[s-2]),value:o[s],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(o[s-1]);break;case 33:case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:case 41:this.$=o[s];break;case 42:this.$=r.preparePath(!0,o[s],this._$);break;case 43:this.$=r.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:r.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:r.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[o[s]];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;i.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,p,m,f,g,v,y,_,b,w={};;){if(m=n[n.length-1],this.defaultActions[m]?f=this.defaultActions[m]:(null!==h&&void 0!==h||(h=function(){var e;return e=t.lexer.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e}()),f=o[m]&&o[m][h]),void 0===f||!f.length||!f[0]){var x="";if(!c){b=[];for(v in o[m])this.terminals_[v]&&v>2&&b.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:u,expected:b})}}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+h);switch(f[0]){case 1:n.push(h),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(f[1]),h=null,p?(h=p,p=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[f[1]][1],w.$=r[r.length-y],w._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},d&&(w._$.range=[i[i.length-(y||1)].range[0],i[i.length-1].range[1]]),void 0!==(g=this.performAction.call(w,a,l,s,this.yy,f[1],r,i)))return g;y&&(n=n.slice(0,-1*y*2),r=r.slice(0,-1*y),i=i.slice(0,-1*y)),n.push(this.productions_[f[1]][0]),r.push(w.$),i.push(w._$),_=o[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(n=this._input.match(this.rules[o[a]]))||t&&!(n[0].length>t[0].length)||(t=n,r=a,this.options.flex));a++);return t?(i=t[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,r){function strip(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return e.lexer=t,Parser.prototype=e,e.Parser=Parser,new Parser}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";function WhitespaceControl(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function isPrevWhitespace(e,t,n){void 0===t&&(t=e.length);var r=e[t-1],i=e[t-2];return r?"ContentStatement"===r.type?(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function isNextWhitespace(e,t,n){void 0===t&&(t=-1);var r=e[t+1],i=e[t+2];return r?"ContentStatement"===r.type?(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function omitRight(e,t,n){var r=e[null==t?0:t+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var i=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==i}}function omitLeft(e,t,n){var r=e[null==t?e.length-1:t-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var i=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==i,r.leftStripped}}var r=n(1).default;t.__esModule=!0;var i=n(39),o=r(i);WhitespaceControl.prototype=new o.default,WhitespaceControl.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=e.body,i=0,o=r.length;i<o;i++){var a=r[i],s=this.accept(a);if(s){var l=isPrevWhitespace(r,i,n),c=isNextWhitespace(r,i,n),u=s.openStandalone&&l,d=s.closeStandalone&&c,h=s.inlineStandalone&&l&&c;s.close&&omitRight(r,i,!0),s.open&&omitLeft(r,i,!0),t&&h&&(omitRight(r,i),omitLeft(r,i)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(r[i-1].original)[1])),t&&u&&(omitRight((a.program||a.inverse).body),omitLeft(r,i)),t&&d&&(omitRight(r,i),omitLeft((a.inverse||a.program).body))}}return e},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,i=n;if(n&&n.chained)for(r=n.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:isNextWhitespace(t.body),closeStandalone:isPrevWhitespace((r||t).body)};if(e.openStrip.close&&omitRight(t.body,null,!0),n){var a=e.inverseStrip;a.open&&omitLeft(t.body,null,!0),a.close&&omitRight(r.body,null,!0),e.closeStrip.open&&omitLeft(i.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(t.body)&&isNextWhitespace(r.body)&&(omitLeft(t.body),omitRight(r.body))}else e.closeStrip.open&&omitLeft(t.body,null,!0);return o},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(e){return e.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=WhitespaceControl,e.exports=t.default},function(e,t,n){"use strict";function Visitor(){this.parents=[]}function visitSubExpression(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function visitBlock(e){visitSubExpression.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function visitPartial(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var r=n(1).default;t.__esModule=!0;var i=n(6),o=r(i);Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!Visitor.prototype[n.type])throw new o.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new o.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function(e){visitPartial.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:visitSubExpression,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=Visitor,e.exports=t.default},function(e,t,n){"use strict";function validateClose(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new o.default(e.path.original+" doesn't match "+t,n)}}function SourceLocation(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function id(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function stripFlags(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function stripComment(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(e,t,n){n=this.locInfo(n);for(var r=e?"@":"",i=[],a=0,s="",l=0,c=t.length;l<c;l++){var u=t[l].part,d=t[l].original!==u;if(r+=(t[l].separator||"")+u,d||".."!==u&&"."!==u&&"this"!==u)i.push(u);else{if(i.length>0)throw new o.default("Invalid path: "+r,{loc:n});".."===u&&(a++,s+="../")}}return{type:"PathExpression",data:e,depth:a,parts:i,original:r,loc:n}}function prepareMustache(e,t,n,r,i,o){var a=r.charAt(3)||r.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:i,loc:this.locInfo(o)}}function prepareRawBlock(e,t,n,r){validateClose(e,n),r=this.locInfo(r);var i={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}}function prepareBlock(e,t,n,r,i,a){r&&r.path&&validateClose(e,r);var s=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,c=void 0;if(n){if(s)throw new o.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),c=n.strip,l=n.program}return i&&(i=l,l=t,t=i),{type:s?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:r&&r.strip,loc:this.locInfo(a)}}function prepareProgram(e,t){if(!t&&e.length){var n=e[0].loc,r=e[e.length-1].loc;n&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function preparePartialBlock(e,t,n,r){return validateClose(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}}var r=n(1).default;t.__esModule=!0,t.SourceLocation=SourceLocation,t.id=id,t.stripFlags=stripFlags,t.stripComment=stripComment,t.preparePath=preparePath,t.prepareMustache=prepareMustache,t.prepareRawBlock=prepareRawBlock,t.prepareBlock=prepareBlock,t.prepareProgram=prepareProgram,t.preparePartialBlock=preparePartialBlock;var i=n(6),o=r(i)},function(e,t,n){"use strict";function Compiler(){}function precompile(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var r=n.parse(e,t),i=(new n.Compiler).compile(r,t);return(new n.JavaScriptCompiler).compile(i,t)}function compile(e,t,n){function compileInput(){var r=n.parse(e,t),i=(new n.Compiler).compile(r,t),o=(new n.JavaScriptCompiler).compile(i,t,void 0,!0);return n.template(o)}function ret(e,t){return r||(r=compileInput()),r.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=a.extend({},t),"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var r=void 0;return ret._setup=function(e){return r||(r=compileInput()),r._setup(e)},ret._child=function(e,t,n,i){return r||(r=compileInput()),r._child(e,t,n,i)},ret}function argEquals(e,t){if(e===t)return!0;if(a.isArray(e)&&a.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!argEquals(e[n],t[n]))return!1;return!0}}function transformLiteralToPath(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var r=n(1).default;t.__esModule=!0,t.Compiler=Compiler,t.precompile=precompile,t.compile=compile;var i=n(6),o=r(i),a=n(5),s=n(35),l=r(s),c=[].slice;Compiler.prototype={compiler:Compiler,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||!argEquals(r.args,i.args))return!1}t=this.children.length;for(var n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var r in n)r in n&&(this.options.knownHelpers[r]=n[r]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,n=t.compile(e,this.options),r=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[r]=n,this.useDepths=this.useDepths||n.useDepths,r},accept:function(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,r=0;r<n;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){transformLiteralToPath(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,n):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),r=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new o.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var r=e.name.original,i="SubExpression"===e.name.type;i&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var a=e.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",i,r,a),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){transformLiteralToPath(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var r=e.path,i=r.parts[0],o=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",i,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),i=e.path,a=i.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",r.length,a);else{if(this.options.knownHelpersOnly)throw new o.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);i.strict=!0,i.falsy=!0,this.accept(i),this.opcode("invokeHelper",r.length,i.original,l.default.helpers.simpleId(i))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=l.default.helpers.scopedId(e),r=!e.depth&&!n&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,r=t.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:c.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=l.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),r=!n&&l.default.helpers.helperExpression(e),i=!n&&(r||t);if(i&&!r){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?r=!0:a.knownHelpersOnly&&(i=!1)}return r?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||l.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var r=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,r){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),i},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var r=this.options.blockParams[t],i=r&&a.indexOf(r,e);if(r&&i>=0)return[t,i]}}}},function(e,t,n){"use strict";function Literal(e){this.value=e}function JavaScriptCompiler(){}function strictLookup(e,t,n,r){var i=t.popStack(),o=0,a=n.length;for(e&&a--;o<a;o++)i=t.nameLookup(i,n[o],r);return e?[t.aliasable("container.strict"),"(",i,", ",t.quotedString(n[o]),")"]:i}var r=n(1).default;t.__esModule=!0;var i=n(4),o=n(6),a=r(o),s=n(5),l=n(43),c=r(l);JavaScriptCompiler.prototype={nameLookup:function(e,t){return JavaScriptCompiler.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=i.COMPILER_REVISION;return[e,i.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return s.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var i=e.opcodes,o=void 0,s=void 0,l=void 0,c=void 0;for(l=0,c=i.length;l<c;l++)o=i[l],this.source.currentLocation=o.loc,s=s||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(r);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,p=h.programs,m=h.decorators;for(l=0,c=p.length;l<c;l++)p[l]&&(d[l]=p[l],m[l]&&(d[l+"_d"]=m[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),r?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName}),d.map=d.map&&d.map.toString()):d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new c.default(this.options.srcName),this.decorators=new c.default(this.options.srcName)},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var r=0;for(var i in this.aliases){var o=this.aliases[i];this.aliases.hasOwnProperty(i)&&o.children&&o.referenceCount>1&&(t+=", alias"+ ++r+"="+i,o.children[0]="alias"+r)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(t);return e?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,r=void 0,i=void 0,o=void 0,a=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(i?o.prepend("buffer += "):r=!0,a.add(";"),o=a=void 0),i=!0,t||(n=!1))}),n?o?(o.prepend("return "),a.add(";")):i||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,r){var i=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[i++])),this.resolvePath("context",e,i,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,r,i){var o=this;if(this.options.strict||this.options.assumeObjects)return void this.push(strictLookup(this.options.strict&&i,this,t,e));for(var a=t.length;n<a;n++)this.replaceStack(function(i){var a=o.nameLookup(i,t[n],e);return r?[" && ",a]:[" != null ? ",a," : ",i]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(e,t,n){var r=this.popStack(),i=this.setupHelper(e,t),o=n?[i.name," || "]:"",a=["("].concat(o,r);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",i.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),o=["(","(helper = ",i," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(e,t,n){var r=[],i=this.setupParams(t,1,r);e&&(t=this.popStack(),delete i.name),n&&(i.indent=JSON.stringify(n)),i.helpers="helpers",i.partials="partials",i.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(i.depths="depths"),i=this.objectLiteral(i),r.push(i),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(e){var t=this.popStack(),n=void 0,r=void 0,i=void 0;this.trackIds&&(i=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),r&&(o.types[e]=r),i&&(o.ids[e]=i),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function(e,t){for(var n=e.children,r=void 0,i=void 0,o=0,a=n.length;o<a;o++){r=n[o],i=new this.compiler;var s=this.matchExistingProgram(r);if(null==s){this.context.programs.push("");var l=this.context.programs.length;r.index=l,r.name="program"+l,this.context.programs[l]=i.compile(r,t,this.context,!this.precompile),this.context.decorators[l]=i.decorators,this.context.environments[l]=r,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=s.index,r.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return r}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof Literal||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new Literal(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,r=void 0,i=void 0;if(!this.isInline())throw new a.default("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof Literal)n=[o.value],t=["(",n],i=!0;else{r=!0;var s=this.incrStack();t=["((",this.push(s)," = ",o,")"],n=this.topStack()}var l=e.call(this,n);i||this.popStack(),r&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof Literal)this.compileStack.push(r);else{var i=this.incrStack();this.pushSource([i," = ",r,";"]),this.compileStack.push(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof Literal)return n.value;if(!t){if(!this.stackSlot)throw new a.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof Literal?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(t,e,r,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(e,t,n){var r={},i=[],o=[],a=[],s=!n,l=void 0;s&&(n=[]),r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(r.fn=u||"container.noop",r.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),i[d]=this.popStack());return s&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(a)),this.stringParams&&(r.types=this.source.generateArray(o),r.contexts=this.source.generateArray(i)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(e,t,n,r){var i=this.setupParams(e,t,n);return i=this.objectLiteral(i),r?(this.useRegister("options"),n.push("options"),["options=",i]):n?(n.push(i),""):i}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=JavaScriptCompiler.RESERVED_WORDS={},n=0,r=e.length;n<r;n++)t[e[n]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(e){return!JavaScriptCompiler.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=JavaScriptCompiler,e.exports=t.default},function(e,t,n){"use strict";function castChunk(e,t,n){if(r.isArray(e)){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t.wrap(e[o],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function CodeGen(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var r=n(5),i=void 0;try{}catch(e){}i||(i=function(e,t,n,r){this.src="",r&&this.add(r)},i.prototype={add:function(e){r.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){r.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),CodeGen.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new i(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof i?e:(e=castChunk(e,this,t),new i(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=castChunk(e[n],this);"undefined"!==r&&t.push([this.quotedString(n),":",r])}var i=this.generateList(t);return i.prepend("{"),i.add("}"),i},generateList:function(e){for(var t=this.empty(),n=0,r=e.length;n<r;n++)n&&t.add(","),t.add(castChunk(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=CodeGen,e.exports=t.default}])})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(477),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(233),a=_interopRequireDefault(o),s=n(546),l=_interopRequireDefault(s),c=n(27),u=n(547),d=_interopRequireDefault(u),h=n(583),p=_interopRequireDefault(h),m=n(584),f=n(585),g=_interopRequireDefault(f);n(589);var v=function(){function ImagePrep(e){(0,i.default)(this,ImagePrep),this.options=(0,d.default)({maxWidth:1/0,maxHeight:1/0,quality:100,downsamplingRatio:.5,maxMetaDataSize:1024e3},e),g.default.metaDataParsers.jpeg[65506]=[],g.default.metaDataParsers.jpeg[65506].push(function(e,t,n,r,i){var o=e.buffer.slice(t+18,t+n);o.byteLength>0&&(r.iccProfile?r.iccProfile=(0,p.default)(r.iccProfile,o):r.iccProfile=o)})}return(0,a.default)(ImagePrep,[{key:"loadImage",value:function(e){var t=this;return new l.default(function(n,r){g.default.parseMetaData(e,function(r){var i=void 0;r.exif&&(i=r.exif.getAll());var o=void 0;if(r.iccProfile){for(var a=new c.Buffer(r.iccProfile.byteLength),s=new Uint8Array(r.iccProfile),l=0;l<a.length;l++)a[l]=s[l];o=(0,m.parse)(a)}(0,g.default)(e,function(a){a.toBlob(function(e){var t=[];r.imageHead?(t.push(r.imageHead),t.push(g.default.blobSlice.call(e,20))):t.push(e);var a=new Blob(t,{type:e.type});n({blob:a,profile:o,exif:i})},e.type,t.options.quality/100)},{maxWidth:t.options.maxWidth,maxHeight:t.options.maxHeight,downsamplingRatio:t.options.downsamplingRatio,canvas:!0})},{maxMetaDataSize:1024e3,disableImageHead:!1})})}}]),ImagePrep}();t.default=v},function(e,t,n){function baseAssignValue(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r=n(236);e.exports=baseAssignValue},function(e,t,n){var r=n(551),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){function isFunction(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}var r=n(69),i=n(45),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=isFunction},function(e,t,n){var r=n(70),i=r.Symbol;e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(8))},function(e,t){function eq(e,t){return e===t||e!==e&&t!==t}e.exports=eq},function(e,t){function identity(e){return e}e.exports=identity},function(e,t,n){function isArrayLike(e){return null!=e&&i(e.length)&&!r(e)}var r=n(237),i=n(243);e.exports=isArrayLike},function(e,t){function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=isLength},function(e,t){function isIndex(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=isIndex},function(e,t,n){var r,i,o;!function(a){"use strict";i=[n(23)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";var t=e.transform;e.transform=function(n,r,i,o,a){t.call(e,e.scale(n,r,a),r,i,o,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,r,i,o,a=t.aspectRatio;if(!a)return t;n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n.crop=!0,i=e.naturalWidth||e.width,o=e.naturalHeight||e.height,i/o>a?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=i,n.maxHeight=i/a),n},e.renderImageToCanvas=function(e,t,n,r,i,o,a,s,l,c){return e.getContext("2d").drawImage(t,n,r,i,o,a,s,l,c),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,r){function scaleUp(){var e=Math.max((a||_)/_,(s||b)/b);e>1&&(_*=e,b*=e)}function scaleDown(){var e=Math.min((i||_)/_,(o||b)/b);e<1&&(_*=e,b*=e)}n=n||{};var i,o,a,s,l,c,u,d,h,p,m,f=document.createElement("canvas"),g=t.getContext||e.hasCanvasOption(n)&&f.getContext,v=t.naturalWidth||t.width,y=t.naturalHeight||t.height,_=v,b=y;if(g&&(n=e.getTransformedOptions(t,n,r),u=n.left||0,d=n.top||0,n.sourceWidth?(l=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=v-l-n.right)):l=v-u-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=y-c-n.bottom)):c=y-d-(n.bottom||0),_=l,b=c),i=n.maxWidth,o=n.maxHeight,a=n.minWidth,s=n.minHeight,g&&i&&o&&n.crop?(_=i,b=o,m=l/c-i/o,m<0?(c=o*l/i,void 0===n.top&&void 0===n.bottom&&(d=(y-c)/2)):m>0&&(l=i*c/o,void 0===n.left&&void 0===n.right&&(u=(v-l)/2))):((n.contain||n.cover)&&(a=i=i||a,s=o=o||s),n.cover?(scaleDown(),scaleUp()):(scaleUp(),scaleDown())),g){if(h=n.pixelRatio,h>1&&(f.style.width=_+"px",f.style.height=b+"px",_*=h,b*=h,f.getContext("2d").scale(h,h)),(p=n.downsamplingRatio)>0&&p<1&&_<l&&b<c)for(;l*p>_;)f.width=l*p,f.height=c*p,e.renderImageToCanvas(f,t,u,d,l,c,0,0,f.width,f.height),u=0,d=0,l=f.width,c=f.height,t=document.createElement("canvas"),t.width=l,t.height=c,e.renderImageToCanvas(t,f,0,0,l,c,0,0,l,c);return f.width=_,f.height=b,e.transformCoordinates(f,n),e.renderImageToCanvas(f,t,u,d,l,c,0,0,_,b)}return t.width=_,t.height=b,t}})},function(e,t,n){var r,i,o;!function(a){"use strict";i=[n(23),n(46)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var r,i,o;if(!n||t+n>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(r=[],i=0;i<n;i+=1)o=e.getUint8(t+i),r.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+r.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,r,i,o,a){var s,l,c,u,d,h,p=e.exifTagTypes[i];if(!p)return void console.log("Invalid Exif data: Invalid tag type.");if(s=p.size*o,(l=s>4?n+t.getUint32(r+8,a):r+8)+s>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===o)return p.getValue(t,l,a);for(c=[],u=0;u<o;u+=1)c[u]=p.getValue(t,l+u*p.size,a);if(p.ascii){for(d="",u=0;u<c.length&&"\0"!==(h=c[u]);u+=1)d+=h;return d}return c},e.parseExifTag=function(t,n,r,i,o){var a=t.getUint16(r,i);o.exif[a]=e.getExifValue(t,n,r,t.getUint16(r+2,i),t.getUint32(r+4,i),i)},e.parseExifTags=function(e,t,n,r,i){var o,a,s;if(n+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(o=e.getUint16(n,r),(a=n+2+12*o)+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(s=0;s<o;s+=1)this.parseExifTag(e,t,n+2+12*s,r,i);return e.getUint32(a,r)},e.parseExifData=function(t,n,r,i,o){if(!o.disableExif){var a,s,l,c=n+10;if(1165519206===t.getUint32(n+4)){if(c+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(n+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(c+2,a))return void console.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(c+4,a),i.exif=new e.ExifMap,s=e.parseExifTags(t,c,c+s,a,i),s&&!o.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,c,c+s,a,l),l.exif[513]&&(i.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),i.exif[34665]&&!o.disableExifSub&&e.parseExifTags(t,c,c+i.exif[34665],a,i),i.exif[34853]&&!o.disableExifGps&&e.parseExifTags(t,c,c+i.exif[34853],a,i)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)})},function(e,t,n){e.exports={default:n(609),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(42),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(91),i=_interopRequireDefault(r),o=n(93),a=_interopRequireDefault(o),s=n(42),l=_interopRequireDefault(s);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(42),l=_interopRequireDefault(s),c=n(97),u=_interopRequireDefault(c),d=n(1),h=_interopRequireDefault(d),p=n(287),m=_interopRequireDefault(p),f=n(99),g=(_interopRequireDefault(f),n(290)),v=(_interopRequireDefault(g),n(100)),y=_interopRequireDefault(v),_=n(293),b=_interopRequireDefault(_),w=n(7),x=_interopRequireDefault(w),S=n(0),C=_interopRequireDefault(S),E=n(297),T=_interopRequireDefault(E);n(298);var M=n(299),k=_interopRequireDefault(M);n(302),n(303),n(304);var A=n(216),D=_interopRequireDefault(A);n(305);var $=n(306),P=_interopRequireDefault($),L=n(308),R=_interopRequireDefault(L);n(310);var O=n(311),I=_interopRequireDefault(O),F=n(313);_interopRequireDefault(F);n(314);var N=n(315),H=_interopRequireDefault(N),j=n(317),B=_interopRequireDefault(j),V=n(318),Y=_interopRequireDefault(V),z=n(320),q=_interopRequireDefault(z),U=n(323),G=(_interopRequireDefault(U),n(324)),W=_interopRequireDefault(G),K=n(392),X=_interopRequireDefault(K),J=n(685),Z=_interopRequireDefault(J);h.default.module("app",[x.default,m.default,y.default,b.default,D.default,k.default,T.default,R.default,I.default,B.default,H.default,Y.default,q.default,P.default,"ui.grid.selection","ui.grid.infiniteScroll","ui.grid.cellNav","ui.grid.saveState","ui.grid.draggable-rows","ui.gravatar",W.default.name,X.default.name]).constant("appConfig",window.appConfig).directive("app",Z.default).config(["$compileProvider","$stateProvider","$locationProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$httpProvider","$provide","$sceDelegateProvider","$sceProvider","$qProvider","$localeProvider","cfpLoadingBarProvider","tmhDynamicLocaleProvider","$mdDateLocaleProvider","$mdThemingProvider","$mdIconProvider","$authProvider","appConfig",function(e,t,n,r,i,o,a,s,c,d,h,p,m,f,g,v,y,_){"ngInject";e.preAssignBindingsEnabled(!0),e.debugInfoEnabled(!1),d.errorOnUnhandledRejections(!1),n.html5Mode(!0),r.otherwise("/404"),i.strictMode(!1),s.resourceUrlWhitelist(["self","http://localhost:*/**","https://*.s3.amazonaws.com/**",_.assistUrl+"/**"]),o.defaults.headers.delete={"Content-Type":"application/json;charset=utf-8"};var b=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,w=function convertDates(e){(0,u.default)(e).forEach(function(t){if(e[t]){var n=e[t],r=void 0===n?"undefined":(0,l.default)(n);"object"===r?convertDates(n):"string"===r&&b.test(n)&&(e[t]=new Date(n))}})};o.defaults.transformResponse.push(function(e){return"object"===(void 0===e?"undefined":(0,l.default)(e))&&w(e),e}),f.formatDate=function(e){return(0,C.default)(e).locale("en-gb").format("L LT")},f.parseDate=function(e){return new Date(e)};var x=g.extendPalette("grey",{50:"#ffffff"});g.definePalette("greyWithWhite",x),g.theme("default").primaryPalette("blue-grey").accentPalette("teal",{default:"500"}).warnPalette("red").backgroundPalette("greyWithWhite",{"hue-1":"50"}),v.fontSet("mdi","mdi"),p.includeSpinner=!1,m.localeLocationPattern("angular-i18n/angular-locale_{{locale}}.js"),m.defaultLocale("en-gb"),o.interceptors.push(["$q","$window","$injector",function(e,t,n){return{responseError:function(r){if(-1===[401,403].indexOf(r.status))return e.reject(r);var i=n.get("$mdDialog"),o=n.get("appConfig"),a=r.data.message||r.data.error||r.data;return i.show(i.alert().title("Not Authorised").htmlContent("\n                <p>"+a+'</p>\n                \x3c!--<p>Please <a href="'+(t.location.origin+o.clientBasePath+o.slug)+'/logout" target="_blank">login</a></p>--\x3e\n              ').ok("Close")),e.reject(r)}}}]),y.instagram({scope:["basic","public_content"]}),y.oauth2({name:"vimeo",authorizationEndpoint:"https://api.vimeo.com/oauth/authorize",scope:["public","private","video_files"],defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}}),y.oauth2({name:"stripe",authorizationEndpoint:"https://connect.stripe.com/oauth/authorize",scope:["read_write"],defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}})}]).run(["$rootScope","$state","$location","$window","$document","$http","$log","$injector","$q","$timeout","$transitions","tmhDynamicLocale","appConfig","ConfigFactory",function(e,t,n,r,o,s,l,c,u,d,p,m,f,g){"ngInject";var v=function(t){localStorage.setItem("apiToken",t),f.apiToken=t,e.apiToken=t,s.defaults.headers.common["X-Api-Token"]=t};v(n.search().apiToken||localStorage.getItem("apiToken"));var y=function(){var e=(0,a.default)(i.default.mark(function _callee(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o[0].hidden&&!t){n.next=5;break}return n.next=3,s.get(f.apiUrl+"/token",{params:{expiresIn:7200}}).data.token;case 3:e=n.sent,v(e);case 5:d(y,36e5);case 6:case"end":return n.stop()}},_callee,void 0)}));return function(){return e.apply(this,arguments)}}();e.slug=f.slug,e.clientBasePath=f.clientBasePath,e.assistUrl=f.assistUrl,e.assistCredentials=f.assistCredentials,e.apiUrl=f.apiUrl,e.$state=t,e.$location=n,e.$on("$localeChangeSuccess",function(e){}),m.set("en-gb"),t.defaultErrorHandler(function(e){l.error(e.detail),"dashboard"!==t.current().name&&t.go("dashboard")});var _=function(t,n){if(e.$isSuperUser)return!0;var r=!0;if(t.data&&t.data.permissions){var i=void 0;i=h.default.isString(t.data.permissions)?t.data.permissions.split(","):t.data.permissions(n),i.forEach(function(t){e.$permissions[t]||(r=!1)})}return r},b=!1;p.onStart({to:"*"},function(n){var i=n.to().name,o=n.params("to");return b?!!_(i,o)||(t.go("dashboard"),!1):(g.loadConfig().then(function(n){b=!0,e.assetSlug=n.assets&&n.assets.slug?n.assets.slug:f.slug,d(y,36e5),t.go(i,o)},function(){r.location.href=f.clientBasePath+f.slug+"/logout"}),!1)}),p.onSuccess({to:"*"},function(e){t.previous=""===e.from().name?null:e.from(),t.previousParams=e.params("from")}),e.prevState=function(){t.go(t.previous,t.previousParams)}}])},function(e,t,n){"use strict";(function(e,t,r){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=n(72),o=_interopRequireDefault(i),a=n(91),s=_interopRequireDefault(a),l=n(93),c=_interopRequireDefault(l),u=n(42),d=_interopRequireDefault(u),h=n(94),p=_interopRequireDefault(h),m=n(95),f=_interopRequireDefault(m);!function(e){function wrap(e,t,n,r){var i=(0,c.default)((t||Generator).prototype),o=new Context(r||[]);return i._invoke=makeInvokeMethod(e,n,o),i}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AwaitArgument(e){this.arg=e}function AsyncIterator(e){function invoke(t,r){var a=e[t](r),s=a.value;return s instanceof AwaitArgument?o.default.resolve(s.arg).then(n,i):o.default.resolve(s).then(function(e){return a.value=e,a})}function enqueue(e,n){function callInvokeWithMethodAndArg(){return invoke(e,n)}return t=t?t.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):new o.default(function(e){e(callInvokeWithMethodAndArg())})}"object"===(void 0===r?"undefined":(0,d.default)(r))&&r.domain&&(invoke=r.domain.bind(invoke));var t,n=invoke.bind(e,"next"),i=invoke.bind(e,"throw");invoke.bind(e,"return");this._invoke=enqueue}function makeInvokeMethod(e,t,r){var i=h;return function(o,a){if(i===g)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return doneResult()}for(;;){var s=r.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===n){r.delegate=null;var l=s.iterator.return;if(l){var c=tryCatch(l,s.iterator,a);if("throw"===c.type){o="throw",a=c.arg;continue}}if("return"===o)continue}var c=tryCatch(s.iterator[o],s.iterator,a);if("throw"===c.type){r.delegate=null,o="throw",a=c.arg;continue}o="next",a=n;var u=c.arg;if(!u.done)return i=m,u;r[s.resultName]=u.value,r.next=s.nextLoc,r.delegate=null}if("next"===o)r._sent=a,r.sent=i===m?a:n;else if("throw"===o){if(i===h)throw i=v,a;r.dispatchException(a)&&(o="next",a=n)}else"return"===o&&r.abrupt("return",a);i=g;var c=tryCatch(e,t,r);if("normal"===c.type){i=r.done?v:m;var u={value:c.arg,done:r.done};if(c.arg!==y)return u;r.delegate&&"next"===o&&(a=n)}else"throw"===c.type&&(i=v,o="throw",a=c.arg)}}}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function next(){for(;++r<e.length;)if(i.call(e,r))return next.value=e[r],next.done=!1,next;return next.value=n,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:n,done:!0}}var n,i=Object.prototype.hasOwnProperty,a="function"==typeof f.default&&p.default||"@@iterator",l="object"===(0,d.default)(t),u=e.regeneratorRuntime;if(u)return void(l&&(t.exports=u));u=e.regeneratorRuntime=l?t.exports:{},u.wrap=wrap;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={},_=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=_.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunction.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return s.default?(0,s.default)(e,GeneratorFunctionPrototype):e.__proto__=GeneratorFunctionPrototype,e.prototype=(0,c.default)(_),e},u.awrap=function(e){return new AwaitArgument(e)},defineIteratorMethods(AsyncIterator.prototype),u.async=function(e,t,n,r){var i=new AsyncIterator(wrap(e,t,n,r));return u.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},defineIteratorMethods(_),_[a]=function(){return this},_.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},u.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=n,this.done=!1,this.delegate=null,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function handle(n,r){return o.type="throw",o.arg=e,t.next=n,!!r}if(this.done)throw e;for(var t=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return handle("end");if(r.tryLoc<=this.prev){var a=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return handle(r.catchLoc,!0);if(this.prev<r.finallyLoc)return handle(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return handle(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return handle(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?this.next=o.finallyLoc:this.complete(a),y},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;resetTryEntry(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},y}}}("object"===(void 0===e?"undefined":(0,d.default)(e))?e:"object"===("undefined"==typeof window?"undefined":(0,d.default)(window))?window:"object"===("undefined"==typeof self?"undefined":(0,d.default)(self))?self:void 0)}).call(t,n(8),n(17)(e),n(18))},function(e,t,n){n(73),n(47),n(81),n(261),n(268),n(269),e.exports=n(6).Promise},function(e,t,n){var r=n(48),i=n(49);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(52),i=n(28),o=n(40),a={};n(19)(a,n(10)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(13),i=n(14),o=n(30);e.exports=n(16)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(26),i=n(53),o=n(257);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(48),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(259),i=n(260),o=n(29),a=n(26);e.exports=n(74)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,a,s=n(37),l=n(9),c=n(24),u=n(82),d=n(11),h=n(20),p=n(38),m=n(262),f=n(263),g=n(86),v=n(87).set,y=n(265)(),_=n(57),b=n(88),w=n(89),x=l.TypeError,S=l.process,C=l.Promise,E="process"==u(S),T=function(){},M=i=_.f,k=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(10)("species")]=function(e){e(T,T)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t}catch(e){}}(),A=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain;try{a?(i||(2==e._h&&L(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?l(x("Promise-chain cycle")):(o=A(n))?o.call(n,s,l):s(n)):l(r)}catch(e){l(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&$(e)})}},$=function(e){v.call(l,function(){var t,n,r,i=e._v,o=P(e);if(o&&(t=b(function(){E?S.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=E||P(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},P=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!P(t.promise))return!1;return!0},L=function(e){v.call(l,function(){var t;E?S.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},O=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=A(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(O,r,1),c(R,r,1))}catch(e){R.call(r,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};k||(C=function(e){m(this,C,"Promise","_h"),p(e),r.call(this);try{e(c(O,this,1),c(R,this,1))}catch(e){R.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(266)(C.prototype,{then:function(e,t){var n=M(g(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(O,e,1),this.reject=c(R,e,1)},_.f=M=function(e){return e===C||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!k,{Promise:C}),n(40)(C,"Promise"),n(267)("Promise"),a=n(6).Promise,d(d.S+d.F*!k,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!k),"Promise",{resolve:function(e){return w(s&&this===a?C:this,e)}}),d(d.S+d.F*!(k&&n(90)(function(e){C.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=M(t),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;f(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,i=b(function(){f(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(24),i=n(83),o=n(84),a=n(14),s=n(53),l=n(85),c={},u={},t=e.exports=function(e,t,n,d,h){var p,m,f,g,v=h?function(){return e}:l(e),y=r(n,d,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>_;_++)if((g=t?y(a(m=e[_])[0],m[1]):y(e[_]))===c||g===u)return g}else for(f=v.call(e);!(m=f.next()).done;)if((g=i(f,y,m.value,t))===c||g===u)return g};t.BREAK=c,t.RETURN=u},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(9),i=n(87).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(31)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(o){var u=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=u=!u}}else if(s&&s.resolve){var h=s.resolve();n=function(){h.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(19);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(9),i=n(6),o=n(13),a=n(16),s=n(10)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(11),i=n(6),o=n(9),a=n(86),s=n(89);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(11),i=n(57),o=n(88);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){n(271),e.exports=n(6).Object.setPrototypeOf},function(e,t,n){var r=n(11);r(r.S,"Object",{setPrototypeOf:n(272).set})},function(e,t,n){var r=n(20),i=n(14),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(24)(Function.call,n(92).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){n(274);var r=n(6).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(11);r(r.S,"Object",{create:n(52)})},function(e,t,n){n(47),n(81),e.exports=n(58).f("iterator")},function(e,t,n){n(277),n(73),n(282),n(283),e.exports=n(6).Symbol},function(e,t,n){"use strict";var r=n(9),i=n(21),o=n(16),a=n(11),s=n(76),l=n(278).KEY,c=n(25),u=n(55),d=n(40),h=n(39),p=n(10),m=n(58),f=n(59),g=n(279),v=n(280),y=n(14),_=n(26),b=n(51),w=n(28),x=n(52),S=n(281),C=n(92),E=n(13),T=n(30),M=C.f,k=E.f,A=S.f,D=r.Symbol,$=r.JSON,P=$&&$.stringify,L=p("_hidden"),R=p("toPrimitive"),O={}.propertyIsEnumerable,I=u("symbol-registry"),F=u("symbols"),N=u("op-symbols"),H=Object.prototype,j="function"==typeof D,B=r.QObject,V=!B||!B.prototype||!B.prototype.findChild,Y=o&&c(function(){return 7!=x(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=M(H,t);r&&delete H[t],k(e,t,n),r&&e!==H&&k(H,t,r)}:k,z=function(e){var t=F[e]=x(D.prototype);return t._k=e,t},q=j&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},U=function(e,t,n){return e===H&&U(N,t,n),y(e),t=b(t,!0),y(n),i(F,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=x(n,{enumerable:w(0,!1)})):(i(e,L)||k(e,L,w(1,{})),e[L][t]=!0),Y(e,t,n)):k(e,t,n)},G=function(e,t){y(e);for(var n,r=g(t=_(t)),i=0,o=r.length;o>i;)U(e,n=r[i++],t[n]);return e},W=function(e,t){return void 0===t?x(e):G(x(e),t)},K=function(e){var t=O.call(this,e=b(e,!0));return!(this===H&&i(F,e)&&!i(N,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,L)&&this[L][e])||t)},X=function(e,t){if(e=_(e),t=b(t,!0),e!==H||!i(F,t)||i(N,t)){var n=M(e,t);return!n||!i(F,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=A(_(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==L||t==l||r.push(t);return r},Z=function(e){for(var t,n=e===H,r=A(n?N:_(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(H,t)||o.push(F[t]);return o};j||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(N,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),Y(this,e,w(1,n))};return o&&V&&Y(H,e,{configurable:!0,set:t}),z(e)},s(D.prototype,"toString",function(){return this._k}),C.f=X,E.f=U,n(96).f=S.f=J,n(41).f=K,n(60).f=Z,o&&!n(37)&&s(H,"propertyIsEnumerable",K,!0),m.f=function(e){return z(p(e))}),a(a.G+a.W+a.F*!j,{Symbol:D});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)p(Q[ee++]);for(var te=T(p.store),ne=0;te.length>ne;)f(te[ne++]);a(a.S+a.F*!j,"Symbol",{for:function(e){return i(I,e+="")?I[e]:I[e]=D(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in I)if(I[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!j,"Object",{create:W,defineProperty:U,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),$&&a(a.S+a.F*(!j||c(function(){var e=D();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&v(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,P.apply($,r)}}}),D.prototype[R]||n(19)(D.prototype,R,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(39)("meta"),i=n(20),o=n(21),a=n(13).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(25)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},h=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},p=function(e){return c&&m.NEED&&l(e)&&!o(e,r)&&u(e),e},m=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:h,onFreeze:p}},function(e,t,n){var r=n(30),i=n(60),o=n(41);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(31);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(26),i=n(96).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){n(59)("asyncIterator")},function(e,t,n){n(59)("observable")},function(e,t,n){n(285),e.exports=n(6).Object.keys},function(e,t,n){var r=n(32),i=n(30);n(98)("keys",function(){return function(e){return i(r(e))}})},function(e,t){!function(e){"use strict";function errorHandlingConfig(e){if(!isObject(e))return t;isDefined(e.objectMaxDepth)&&(t.objectMaxDepth=isValidObjectMaxDepth(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function isValidObjectMaxDepth(e){return isNumber(e)&&e>0}function minErr(e,n){return n=n||Error,function(){var r,i,o=arguments[0],a=arguments[1],s="["+(e?e+":":"")+o+"] ",l=sliceArgs(arguments,2).map(function(e){return toDebugString(e,t.objectMaxDepth)});for(s+=a.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<l.length?l[t]:e}),s+="\nhttp://errors.angularjs.org/1.6.6/"+(e?e+"/":"")+o,i=0,r="?";i<l.length;i++,r="&")s+=r+"p"+i+"="+encodeURIComponent(l[i]);return new n(s)}}function isArrayLike(e){if(null==e||isWindow(e))return!1;if(x(e)||isString(e)||u&&e instanceof u)return!0;var t="length"in Object(e)&&e.length;return isNumber(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function forEach(e,t,n){var r,o;if(e)if(isFunction(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(x(e)||isArrayLike(e)){var a="object"!=typeof e;for(r=0,o=e.length;r<o;r++)(a||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==forEach)e.forEach(t,n,e);else if(isBlankObject(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)i.call(e,r)&&t.call(n,e[r],r,e);return e}function forEachSorted(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function reverseParams(e){return function(t,n){e(n,t)}}function nextUid(){return++b}function setHashKey(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function baseExtend(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(isObject(a)||isFunction(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],d=a[u];n&&isObject(d)?isDate(d)?e[u]=new Date(d.valueOf()):isRegExp(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):isElement(d)?e[u]=d.clone():(isObject(e[u])||(e[u]=x(d)?[]:{}),baseExtend(e[u],[d],!0)):e[u]=d}}return setHashKey(e,r),e}function extend(e){return baseExtend(e,p.call(arguments,1),!1)}function merge(e){return baseExtend(e,p.call(arguments,1),!0)}function toInt(e){return parseInt(e,10)}function inherit(e,t){return extend(Object.create(e),t)}function noop(){}function identity(e){return e}function valueFn(e){return function(){return e}}function hasCustomToString(e){return isFunction(e.toString)&&e.toString!==g}function isUndefined(e){return void 0===e}function isDefined(e){return void 0!==e}function isObject(e){return null!==e&&"object"==typeof e}function isBlankObject(e){return null!==e&&"object"==typeof e&&!v(e)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isDate(e){return"[object Date]"===g.call(e)}function isError(e){switch(g.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function isFunction(e){return"function"==typeof e}function isRegExp(e){return"[object RegExp]"===g.call(e)}function isWindow(e){return e&&e.window===e}function isScope(e){return e&&e.$evalAsync&&e.$watch}function isFile(e){return"[object File]"===g.call(e)}function isFormData(e){return"[object FormData]"===g.call(e)}function isBlob(e){return"[object Blob]"===g.call(e)}function isBoolean(e){return"boolean"==typeof e}function isPromiseLike(e){return e&&isFunction(e.then)}function isTypedArray(e){return e&&isNumber(e.length)&&S.test(g.call(e))}function isArrayBuffer(e){return"[object ArrayBuffer]"===g.call(e)}function isElement(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function makeMap(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function nodeName_(e){return o(e.nodeName||e[0]&&e[0].nodeName)}function includes(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function arrayRemove(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function copy(e,t,n){function copyRecurse(e,t,n){if(--n<0)return"...";var r,o=t.$$hashKey;if(x(e))for(var a=0,s=e.length;a<s;a++)t.push(copyElement(e[a],n));else if(isBlankObject(e))for(r in e)t[r]=copyElement(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=copyElement(e[r],n));else for(r in e)i.call(e,r)&&(t[r]=copyElement(e[r],n));return setHashKey(t,o),t}function copyElement(e,t){if(!isObject(e))return e;var n=r.indexOf(e);if(-1!==n)return o[n];if(isWindow(e)||isScope(e))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,a=copyType(e);return void 0===a&&(a=x(e)?[]:Object.create(v(e)),i=!0),r.push(e),o.push(a),i?copyRecurse(e,a,t):a}function copyType(e){switch(g.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(copyElement(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(isFunction(e.cloneNode))return e.cloneNode(!0)}var r=[],o=[];if(n=isValidObjectMaxDepth(n)?n:NaN,t){if(isTypedArray(t)||isArrayBuffer(t))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");return x(t)?t.length=0:forEach(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),r.push(e),o.push(t),copyRecurse(e,t,n)}return copyElement(e,n)}function simpleCompare(e,t){return e===t||e!==e&&t!==t}function equals(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o===a&&"object"===o){if(!x(e)){if(isDate(e))return!!isDate(t)&&simpleCompare(e.getTime(),t.getTime());if(isRegExp(e))return!!isRegExp(t)&&e.toString()===t.toString();if(isScope(e)||isScope(t)||isWindow(e)||isWindow(t)||x(t)||isDate(t)||isRegExp(t))return!1;i=createMap();for(r in e)if("$"!==r.charAt(0)&&!isFunction(e[r])){if(!equals(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&isDefined(t[r])&&!isFunction(t[r]))return!1;return!0}if(!x(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!equals(e[r],t[r]))return!1;return!0}}return!1}function concat(e,t,n){return e.concat(p.call(t,n))}function sliceArgs(e,t){return p.call(e,t||0)}function bind(e,t){var n=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,concat(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function toJsonReplacer(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:isWindow(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":isScope(n)&&(r="$SCOPE"),r}function toJson(e,t){if(!isUndefined(e))return isNumber(t)||(t=t?2:null),JSON.stringify(e,toJsonReplacer,t)}function fromJson(e){return isString(e)?JSON.parse(e):e}function timezoneToOffset(e,t){e=e.replace(k,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return w(n)?t:n}function addDateMinutes(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function convertTimezoneToLocal(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return addDateMinutes(e,n*(timezoneToOffset(t,r)-r))}function startingTag(e){e=u(e).clone().empty();var t=u("<div>").append(e).html();try{return e[0].nodeType===R?o(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+o(t)})}catch(e){return o(t)}}function tryDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(e){}}function parseKeyValue(e){var t={};return forEach((e||"").split("&"),function(e){var n,r,o;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),o=e.substring(n+1)),r=tryDecodeURIComponent(r),isDefined(r)&&(o=!isDefined(o)||tryDecodeURIComponent(o),i.call(t,r)?x(t[r])?t[r].push(o):t[r]=[t[r],o]:t[r]=o))}),t}function toKeyValue(e){var t=[];return forEach(e,function(e,n){x(e)?forEach(e,function(e){t.push(encodeUriQuery(n,!0)+(!0===e?"":"="+encodeUriQuery(e,!0)))}):t.push(encodeUriQuery(n,!0)+(!0===e?"":"="+encodeUriQuery(e,!0)))}),t.length?t.join("&"):""}function encodeUriSegment(e){return encodeUriQuery(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function getNgAttribute(e,t){var n,r,i=A.length;for(r=0;r<i;++r)if(n=A[r]+t,isString(n=e.getAttribute(n)))return n;return null}function angularInit(t,n){var r,i,o={};if(forEach(A,function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,i=t.getAttribute(n))}),forEach(A,function(e){var n,o=e+"app";!r&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!D)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==getNgAttribute(r,"strict-di"),n(r,i?[i]:[],o)}}function bootstrap(t,n,r){isObject(r)||(r={}),r=extend({strictDi:!1},r);var i=function(){if(t=u(t),t.injector()){var i=t[0]===e.document?"document":startingTag(t);throw y("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=createInjector(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!a.test(e.name))return i();e.name=e.name.replace(a,""),_.resumeBootstrap=function(e){return forEach(e,function(e){n.push(e)}),i()},isFunction(_.resumeDeferredBootstrap)&&_.resumeDeferredBootstrap()}function reloadWithDebugInfo(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function getTestability(e){var t=_.element(e).injector();if(!t)throw y("test","no injector found for element argument to getTestability");return t.get("$$testability")}function snake_case(e,t){return t=t||"_",e.replace($,function(e,n){return(n?t:"")+e.toLowerCase()})}function assertArg(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function assertArgFn(e,t,n){return n&&x(e)&&(e=e[e.length-1]),assertArg(isFunction(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function assertNotHasOwnProperty(e,t){if("hasOwnProperty"===e)throw y("badname","hasOwnProperty is not a valid {0} name",t)}function getter(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&isFunction(e)?bind(o,e):e}function getBlockNodes(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=u(p.call(e,0,i))),t.push(n));return t||e}function createMap(){return Object.create(null)}function stringify(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!hasCustomToString(e)||x(e)||isDate(e)?toJson(e):e.toString()}return e}function setupModuleLoader(e){function ensure(e,t,n){return e[t]||(e[t]=n())}var t=minErr("$injector"),n=minErr("ng"),r=ensure(e,"angular",Object);return r.$$minErr=r.$$minErr||minErr,ensure(r,"module",function(){var e={};return function(r,i,o){var a={};return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)}(r,"module"),i&&e.hasOwnProperty(r)&&(e[r]=null),ensure(e,r,function(){function invokeLater(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),u}}function invokeLaterAndSetModuleName(t,n,i){return i||(i=e),function(e,o){return o&&isFunction(o)&&(o.$$moduleName=r),i.push([t,n,arguments]),u}}if(!i)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],s=[],l=[],c=invokeLater("$injector","invoke","push",s),u={_invokeQueue:e,_configBlocks:s,_runBlocks:l,info:function(e){if(isDefined(e)){if(!isObject(e))throw n("aobj","Argument '{0}' must be an object","value");return a=e,this}return a},requires:i,name:r,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator",s),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return o&&c(o),u})}})}function shallowCopy(e,t){if(x(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(isObject(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function serializeObject(e,t){var n=[];return isValidObjectMaxDepth(t)&&(e=_.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=toJsonReplacer(e,t),isObject(t)){if(n.indexOf(t)>=0)return"...";n.push(t)}return t})}function toDebugString(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):isUndefined(e)?"undefined":"string"!=typeof e?serializeObject(e,t):e}function jqNextId(){return++j}function cssKebabToCamel(e){return kebabToCamel(e.replace(V,"ms-"))}function fnCamelCaseReplace(e,t){return t.toUpperCase()}function kebabToCamel(e){return e.replace(B,fnCamelCaseReplace)}function jqLiteIsTextNode(e){return!U.test(e)}function jqLiteAcceptsData(e){var t=e.nodeType;return t===L||!t||t===I}function jqLiteHasData(e){for(var t in H[e.ng339])return!0;return!1}function jqLiteBuildFragment(e,t){var n,r,i,o,a=t.createDocumentFragment(),s=[];if(jqLiteIsTextNode(e))s.push(t.createTextNode(e));else{for(n=a.appendChild(t.createElement("div")),r=(G.exec(e)||["",""])[1].toLowerCase(),i=K[r]||K._default,n.innerHTML=i[1]+e.replace(W,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;s=concat(s,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",forEach(s,function(e){a.appendChild(e)}),a}function jqLiteParseHTML(t,n){n=n||e.document;var r;return(r=q.exec(t))?[n.createElement(r[1])]:(r=jqLiteBuildFragment(t,n))?r.childNodes:[]}function jqLiteWrapNode(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function JQLite(e){if(e instanceof JQLite)return e;var t;if(isString(e)&&(e=C(e),t=!0),!(this instanceof JQLite)){if(t&&"<"!==e.charAt(0))throw z("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(e)}t?jqLiteAddNodes(this,jqLiteParseHTML(e)):isFunction(e)?jqLiteReady(e):jqLiteAddNodes(this,e)}function jqLiteClone(e){return e.cloneNode(!0)}function jqLiteDealoc(e,t){!t&&jqLiteAcceptsData(e)&&u.cleanData([e]),e.querySelectorAll&&u.cleanData(e.querySelectorAll("*"))}function jqLiteOff(e,t,n,r){if(isDefined(r))throw z("offargs","jqLite#off() does not support the `selector` argument");var i=jqLiteExpandoStore(e),o=i&&i.events,a=i&&i.handle;if(a)if(t){var s=function(t){var r=o[t];isDefined(n)&&arrayRemove(r||[],n),isDefined(n)&&r&&r.length>0||(e.removeEventListener(t,a),delete o[t])};forEach(t.split(" "),function(e){s(e),Y[e]&&s(Y[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,a),delete o[t]}function jqLiteRemoveData(e,t){var n=e.ng339,r=n&&H[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),jqLiteOff(e)),delete H[n],e.ng339=void 0}}function jqLiteExpandoStore(e,t){var n=e.ng339,r=n&&H[n];return t&&!r&&(e.ng339=n=jqNextId(),r=H[n]={events:{},data:{},handle:void 0}),r}function jqLiteData(e,t,n){if(jqLiteAcceptsData(e)){var r,i=isDefined(n),o=!i&&t&&!isObject(t),a=!t,s=jqLiteExpandoStore(e,!o),l=s&&s.data;if(i)l[kebabToCamel(t)]=n;else{if(a)return l;if(o)return l&&l[kebabToCamel(t)];for(r in t)l[kebabToCamel(r)]=t[r]}}}function jqLiteHasClass(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function jqLiteRemoveClass(e,t){t&&e.setAttribute&&forEach(t.split(" "),function(t){e.setAttribute("class",C((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+C(t)+" "," ")))})}function jqLiteAddClass(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(t.split(" "),function(e){e=C(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",C(n))}}function jqLiteAddNodes(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function jqLiteController(e,t){return jqLiteInheritedData(e,"$"+(t||"ngController")+"Controller")}function jqLiteInheritedData(e,t,n){e.nodeType===I&&(e=e.documentElement);for(var r=x(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(isDefined(n=u.data(e,r[i])))return n;e=e.parentNode||e.nodeType===F&&e.host}}function jqLiteEmpty(e){for(jqLiteDealoc(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function jqLiteRemove(e,t){t||jqLiteDealoc(e);var n=e.parentNode;n&&n.removeChild(e)}function jqLiteDocumentLoaded(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):u(n).on("load",t)}function jqLiteReady(t){function trigger(){e.document.removeEventListener("DOMContentLoaded",trigger),e.removeEventListener("load",trigger),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",trigger),e.addEventListener("load",trigger))}function getBooleanAttrName(e,t){var n=Z[t.toLowerCase()];return n&&Q[nodeName_(e)]&&n}function getAliasedAttrName(e){return ee[e]}function createEventHandler(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(isUndefined(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||defaultHandlerWrapper;o>1&&(i=shallowCopy(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function defaultHandlerWrapper(e,t,n){n.call(e,t)}function specialMouseHandlerWrapper(e,t,n){var r=t.relatedTarget;r&&(r===e||X.call(e,r))||n.call(e,t)}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(e,t){return e.attr&&(e=e[0]),jqLiteHasClass(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),jqLiteAddClass(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),jqLiteRemoveClass(e,t)}})}}function hashKey(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||nextUid)():r+":"+e}function NgMapShim(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function stringifyFn(e){return Function.prototype.toString.call(e)}function extractArgs(e){var t=stringifyFn(e).replace(le,"");return t.match(ie)||t.match(oe)}function anonFn(e){var t=extractArgs(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(e,t,n){var r,i,o;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw isString(n)&&n||(n=e.name||anonFn(e)),ce("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=extractArgs(e),forEach(i[1].split(ae),function(e){e.replace(se,function(e,t,n){r.push(n)})})}e.$inject=r}}else x(e)?(o=e.length-1,assertArgFn(e[o],"fn"),r=e.slice(0,o)):assertArgFn(e,"fn",!0);return r}function createInjector(e,t){function supportObject(e){return function(t,n){if(!isObject(t))return e(t,n);forEach(t,reverseParams(e))}}function provider(e,t){if(assertNotHasOwnProperty(e,"service"),(isFunction(t)||x(t))&&(t=s.instantiate(t)),!t.$get)throw ce("pget","Provider '{0}' must define $get factory method.",e);return a[e+r]=t}function enforceReturnValue(e,t){return function(){var n=d.invoke(t,this);if(isUndefined(n))throw ce("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function factory(e,t,n){return provider(e,{$get:!1!==n?enforceReturnValue(e,t):t})}function service(e,t){return factory(e,["$injector",function(e){return e.instantiate(t)}])}function value(e,t){return factory(e,valueFn(t),!1)}function constant(e,t){assertNotHasOwnProperty(e,"constant"),a[e]=t,l[e]=t}function decorator(e,t){var n=s.get(e+r),i=n.$get;n.$get=function(){var e=d.invoke(i,n);return d.invoke(t,null,{$delegate:e})}}function loadModules(e){assertArg(isUndefined(e)||x(e),"modulesToLoad","not an array");var t,n=[];return forEach(e,function(e){function runInvokeQueue(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=s.get(r[0]);i[r[1]].apply(i,r[2])}}if(!o.get(e)){o.set(e,!0);try{isString(e)?(t=h(e),d.modules[e]=t,n=n.concat(loadModules(t.requires)).concat(t._runBlocks),runInvokeQueue(t._invokeQueue),runInvokeQueue(t._configBlocks)):isFunction(e)?n.push(s.invoke(e)):x(e)?n.push(s.invoke(e)):assertArgFn(e,"module")}catch(t){throw x(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ce("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function createInternalInjector(e,o){function getService(t,r){if(e.hasOwnProperty(t)){if(e[t]===n)throw ce("cdep","Circular dependency found: {0}",t+" <- "+i.join(" <- "));return e[t]}try{return i.unshift(t),e[t]=n,e[t]=o(t,r),e[t]}catch(r){throw e[t]===n&&delete e[t],r}finally{i.shift()}}function injectionArgs(e,n,r){for(var i=[],o=createInjector.$$annotate(e,t,r),a=0,s=o.length;a<s;a++){var l=o[a];if("string"!=typeof l)throw ce("itkn","Incorrect injection token! Expected service name as string, got {0}",l);i.push(n&&n.hasOwnProperty(l)?n[l]:getService(l,r))}return i}function isClass(e){if(c||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return isBoolean(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(stringifyFn(e))),t}function invoke(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=injectionArgs(e,n,r);return x(e)&&(e=e[e.length-1]),isClass(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)}function instantiate(e,t,n){var r=x(e)?e[e.length-1]:e,i=injectionArgs(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(t){return a.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}t=!0===t;var n={},r="Provider",i=[],o=new ne,a={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},s=a.$injector=createInternalInjector(a,function(e,t){throw _.isString(t)&&i.push(t),ce("unpr","Unknown provider: {0}",i.join(" <- "))}),l={},u=createInternalInjector(l,function(e,t){var n=s.get(e+r,t);return d.invoke(n.$get,n,void 0,e)}),d=u;a["$injector"+r]={$get:valueFn(u)},d.modules=s.modules=createMap();var p=loadModules(e);return d=u.get("$injector"),d.strictDi=t,forEach(p,function(e){e&&d.invoke(e)}),d}function $AnchorScrollProvider(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function getFirstAnchor(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===nodeName_(e))return t=e,!0}),t}function getYOffset(){var e=scroll.yOffset;if(isFunction(e))e=e();else if(isElement(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else isNumber(e)||(e=0);return e}function scrollTo(e){if(e){e.scrollIntoView();var n=getYOffset();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function scroll(e){e=isString(e)?e:isNumber(e)?e.toString():n.hash();var t;e?(t=i.getElementById(e))?scrollTo(t):(t=getFirstAnchor(i.getElementsByName(e)))?scrollTo(t):"top"===e&&scrollTo(null):scrollTo(null)}var i=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||jqLiteDocumentLoaded(function(){r.$evalAsync(scroll)})}),scroll}]}function mergeClasses(e,t){return e||t?e?t?(x(e)&&(e=e.join(" ")),x(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function extractElementNode(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===de)return n}}function splitClasses(e){isString(e)&&(e=e.split(" "));var t=createMap();return forEach(e,function(e){e.length&&(t[e]=!0)}),t}function prepareAnimateOptions(e){return isObject(e)?e:{}}function Browser(e,t,n,r){function completeOutstandingRequest(e){try{e.apply(null,sliceArgs(arguments,1))}finally{if(0===--d)for(;h.length;)try{h.pop()()}catch(e){n.error(e)}}}function getHash(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function cacheStateAndFireUrlChange(){v=null,fireStateOrUrlChange()}function cacheState(){p=y(),p=isUndefined(p)?null:p,equals(p,w)&&(p=w),w=p,m=p}function fireStateOrUrlChange(){var e=m;cacheState(),f===i.url()&&e===p||(f=i.url(),m=p,forEach(_,function(e){e(i.url(),p)}))}var i=this,o=e.location,a=e.history,s=e.setTimeout,l=e.clearTimeout,c={};i.isMock=!1;var d=0,h=[];i.$$completeOutstandingRequest=completeOutstandingRequest,i.$$incOutstandingRequestCount=function(){d++},i.notifyWhenNoOutstandingRequests=function(e){0===d?e():h.push(e)};var p,m,f=o.href,g=t.find("base"),v=null,y=r.history?function(){try{return a.state}catch(e){}}:noop;cacheState(),i.url=function(t,n,s){if(isUndefined(s)&&(s=null),o!==e.location&&(o=e.location),a!==e.history&&(a=e.history),t){var l=m===s;if(f===t&&(!r.history||l))return i;var c=f&&stripHash(f)===stripHash(t);return f=t,m=s,!r.history||c&&l?(c||(v=t),n?o.replace(t):c?o.hash=getHash(t):o.href=t,o.href!==t&&(v=t)):(a[n?"replaceState":"pushState"](s,"",t),cacheState()),v&&(v=t),i}return v||o.href.replace(/%27/g,"'")},i.state=function(){return p};var _=[],b=!1,w=null;i.onUrlChange=function(t){return b||(r.history&&u(e).on("popstate",cacheStateAndFireUrlChange),u(e).on("hashchange",cacheStateAndFireUrlChange),b=!0),_.push(t),t},i.$$applicationDestroyed=function(){u(e).off("hashchange popstate",cacheStateAndFireUrlChange)},i.$$checkUrlChange=fireStateOrUrlChange,i.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},i.defer=function(e,t){var n;return d++,n=s(function(){delete c[n],completeOutstandingRequest(e)},t||0),c[n]=!0,n},i.defer.cancel=function(e){return!!c[e]&&(delete c[e],l(e),completeOutstandingRequest(noop),!0)}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Browser(e,r,t,n)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(t,n){function refresh(e){e!==l&&(c?c===e&&(c=e.n):c=e,link(e.n,e.p),link(e,l),l=e,l.n=null)}function link(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(t in e)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,i=extend({},n,{id:t}),o=createMap(),a=n&&n.capacity||Number.MAX_VALUE,s=createMap(),l=null,c=null;return e[t]={put:function(e,t){if(!isUndefined(t)){if(a<Number.MAX_VALUE){refresh(s[e]||(s[e]={key:e}))}return e in o||r++,o[e]=t,r>a&&this.remove(c.key),t}},get:function(e){if(a<Number.MAX_VALUE){var t=s[e];if(!t)return;refresh(t)}return o[e]},remove:function(e){if(a<Number.MAX_VALUE){var t=s[e];if(!t)return;t===l&&(l=t.p),t===c&&(c=t.n),link(t.n,t.p),delete s[e]}e in o&&(delete o[e],r--)},removeAll:function(){o=createMap(),r=0,s=createMap(),l=c=null},destroy:function(){o=null,i=null,s=null,delete e[t]},info:function(){return extend({},i,{size:r})}}}var e={};return cacheFactory.info=function(){var t={};return forEach(e,function(e,n){t[n]=e.info()}),t},cacheFactory.get=function(t){return e[t]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function UNINITIALIZED_VALUE(){}function $CompileProvider(t,n){function parseIsolateBindings(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=createMap();return forEach(e,function(e,o){if(e in m)return void(i[o]=m[e]);var a=e.match(r);if(!a)throw ye("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(m[e]=i[o])}),i}function parseDirectiveBindings(e,t){var n={isolateScope:null,bindToController:null};if(isObject(e.scope)&&(!0===e.bindToController?(n.bindToController=parseIsolateBindings(e.scope,t,!0),n.isolateScope={}):n.isolateScope=parseIsolateBindings(e.scope,t,!1)),isObject(e.bindToController)&&(n.bindToController=parseIsolateBindings(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw ye("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function assertValidDirectiveName(e){var t=e.charAt(0);if(!t||t!==o(t))throw ye("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw ye("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function getDirectiveRequire(e){var t=e.require||e.controller&&e.name;return!x(t)&&isObject(t)&&forEach(t,function(e,n){var r=e.match(h);e.substring(r[0].length)||(t[n]=r[0]+n)}),t}function getDirectiveRestrict(e,t){if(e&&(!isString(e)||!/[EACM]/.test(e)))throw ye("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var r={},a="Directive",s=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,d=makeMap("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,m=createMap();this.directive=function registerDirective(e,n){return assertArg(e,"name"),assertNotHasOwnProperty(e,"directive"),isString(e)?(assertValidDirectiveName(e),assertArg(n,"directiveFactory"),r.hasOwnProperty(e)||(r[e]=[],t.factory(e+a,["$injector","$exceptionHandler",function(t,n){var i=[];return forEach(r[e],function(r,o){try{var a=t.invoke(r);isFunction(a)?a={compile:valueFn(a)}:!a.compile&&a.link&&(a.compile=valueFn(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=getDirectiveRequire(a),a.restrict=getDirectiveRestrict(a.restrict,e),a.$$moduleName=r.$$moduleName,i.push(a)}catch(e){n(e)}}),i}])),r[e].push(n)):forEach(e,reverseParams(registerDirective)),this},this.component=function registerComponent(e,t){function factory(e){function makeInjectable(t){return isFunction(t)||x(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var r=t.template||t.templateUrl?t.template:"",i={controller:n,controllerAs:identifierForController(t.controller)||t.controllerAs||"$ctrl",template:makeInjectable(r),templateUrl:makeInjectable(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return forEach(t,function(e,t){"$"===t.charAt(0)&&(i[t]=e)}),i}if(!isString(e))return forEach(e,reverseParams(bind(this,registerComponent))),this;var n=t.controller||function(){};return forEach(t,function(e,t){"$"===t.charAt(0)&&(factory[t]=e,isFunction(n)&&(n[t]=e))}),factory.$inject=["$injector"],this.directive(e,factory)},this.aHrefSanitizationWhitelist=function(e){return isDefined(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return isDefined(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var f=!0;this.debugInfoEnabled=function(e){return isDefined(e)?(f=e,this):f};var v=!1;this.preAssignBindingsEnabled=function(e){return isDefined(e)?(v=e,this):v};var y=!1;this.strictComponentBindingsEnabled=function(e){return isDefined(e)?(y=e,this):y};var _=10;this.onChangesTtl=function(e){return arguments.length?(_=e,this):_};var b=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(b=e,this):b};var w=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(w=e,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,m,S,E,T,M,k,A,D){function flushOnChangesQueue(){try{if(!--H)throw $=void 0,ye("infchng","{0} $onChanges() iterations reached. Aborting!\n",_);M.$apply(function(){for(var e=[],t=0,n=$.length;t<n;++t)try{$[t]()}catch(t){e.push(t)}if($=void 0,e.length)throw e})}finally{H++}}function Attributes(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function setSpecialAttr(e,t,n){I.innerHTML="<span "+t+">";var r=I.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function safeAddClass(e,t){try{e.addClass(t)}catch(e){}}function compile(e,t,n,r,i){e instanceof u||(e=u(e));var o=compileNodes(e,t,e,n,r,i);compile.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw ye("multilink","This element has already been linked.");assertArg(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,l=r.transcludeControllers,c=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=detectNamespaceForChildElements(c));var d;if(d="html"!==a?u(wrapTemplate(a,u("<div>").append(e).html())):n?J.clone.call(e):e,l)for(var h in l)d.data("$"+h+"Controller",l[h].instance);return compile.$$addScopeInfo(d,t),n&&n(d,t),o&&o(t,d,d,s),n||(e=o=null),d}}function detectNamespaceForChildElements(e){var t=e&&e[0];return t&&"foreignobject"!==nodeName_(t)&&g.call(t).match(/SVG/)?"svg":"html"}function compileNodes(e,t,n,r,i,o){function compositeLinkFn(e,n,r,i){var o,a,s,l,c,d,h,p,g;if(m){var v=n.length;for(g=new Array(v),c=0;c<f.length;c+=3)h=f[c],g[h]=n[h]}else g=n;for(c=0,d=f.length;c<d;)s=g[f[c++]],o=f[c++],a=f[c++],o?(o.scope?(l=e.$new(),compile.$$addScopeInfo(u(s),l)):l=e,p=o.transcludeOnThisElement?createBoundTranscludeFn(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?createBoundTranscludeFn(e,t):null,o(a,l,s,r,p)):a&&a(e,s.childNodes,void 0,i)}for(var a,s,l,d,h,p,m,f=[],g=x(e)||e instanceof u,v=0;v<e.length;v++)a=new Attributes,11===c&&mergeConsecutiveTextNodes(e,v,g),s=collectDirectives(e[v],[],a,0===v?r:void 0,i),l=s.length?applyDirectivesToNode(s,e[v],a,t,n,null,[],[],o):null,l&&l.scope&&compile.$$addScopeClass(a.$$element),h=l&&l.terminal||!(d=e[v].childNodes)||!d.length?null:compileNodes(d,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t),(l||h)&&(f.push(v,l,h),p=!0,m=m||l),o=null;return p?compositeLinkFn:null}function mergeConsecutiveTextNodes(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===R)for(;;){if(!(r=o?i.nextSibling:e[t+1])||r.nodeType!==R)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}}function createBoundTranscludeFn(e,t,n){function boundTranscludeFn(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=boundTranscludeFn.$$slots=createMap();for(var i in t.$$slots)t.$$slots[i]?r[i]=createBoundTranscludeFn(e,t.$$slots[i],n):r[i]=null;return boundTranscludeFn}function collectDirectives(e,t,n,r,i){var o,a,s,c=e.nodeType,u=n.$attr;switch(c){case L:a=nodeName_(e),addDirective(t,directiveNormalize(a),"E",r,i);for(var d,h,p,m,f,g,v=e.attributes,y=0,_=v&&v.length;y<_;y++){var b=!1,w=!1;d=v[y],h=d.name,f=d.value,m=directiveNormalize(h),g=Y.test(m),g&&(h=h.replace(be,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var x=m.match(z);x&&directiveIsMultiElement(x[1])&&(b=h,w=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=directiveNormalize(h.toLowerCase()),u[p]=h,!g&&n.hasOwnProperty(p)||(n[p]=f,getBooleanAttrName(e,p)&&(n[p]=!0)),addAttrInterpolateDirective(e,t,f,p,g),addDirective(t,p,"A",r,i,b,w)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!N)break;if(s=e.className,isObject(s)&&(s=s.animVal),isString(s)&&""!==s)for(;o=l.exec(s);)p=directiveNormalize(o[2]),addDirective(t,p,"C",r,i)&&(n[p]=C(o[3])),s=s.substr(o.index+o[0].length);break;case R:addTextInterpolateDirective(t,e.nodeValue);break;case O:if(!F)break;collectCommentDirectives(e,t,n,r,i)}return t.sort(byPriority),t}function collectCommentDirectives(e,t,n,r,i){try{var o=s.exec(e.nodeValue);if(o){var a=directiveNormalize(o[1]);addDirective(t,a,"M",r,i)&&(n[a]=C(o[2]))}}catch(e){}}function groupScan(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw ye("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===L&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0);else r.push(e);return u(r)}function groupElementsLinkFnWrapper(e,t,n){return function(r,i,o,a,s){return i=groupScan(i[0],t,n),e(r,i,o,a,s)}}function compilationGenerator(e,t,n,r,i,o){var a;return e?compile(t,n,r,i,o):function(){return a||(a=compile(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function applyDirectivesToNode(e,t,n,r,i,o,a,s,l){function addLinkFns(e,t,n,r){e&&(n&&(e=groupElementsLinkFnWrapper(e,n,r)),e.require=c.require,e.directiveName=d,(b===c||c.$$isolateScope)&&(e=cloneAndAnnotateFn(e,{isolateScope:!0})),a.push(e)),t&&(n&&(t=groupElementsLinkFnWrapper(t,n,r)),t.require=c.require,t.directiveName=d,(b===c||c.$$isolateScope)&&(t=cloneAndAnnotateFn(t,{isolateScope:!0})),s.push(t))}function nodeLinkFn(e,r,i,o,l){function controllersBoundTransclude(e,t,n,r){var i;if(isScope(e)||(r=n,n=t,t=e,e=void 0),M&&(i=g),n||(n=M?C.parent():C),!r)return l(e,t,i,n,L);var o=l.$$slots[r];if(o)return o(e,t,i,n,L);if(isUndefined(o))throw ye("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,startingTag(C))}var c,d,h,p,f,g,S,C,E,T;t===i?(E=n,C=n.$$element):(C=u(i),E=new Attributes(C,n)),f=r,b?p=r.$new(!0):y&&(f=r.$parent),l&&(S=controllersBoundTransclude,S.$$boundTransclude=l,S.isSlotFilled=function(e){return!!l.$$slots[e]}),_&&(g=setupControllers(C,E,S,_,p,r,b)),b&&(compile.$$addScopeInfo(C,p,!0,!(w&&(w===b||w===b.$$originalDirective))),compile.$$addScopeClass(C,!0),p.$$isolateBindings=b.$$isolateBindings,T=initializeDirectiveBindings(r,E,p,p.$$isolateBindings,b),T.removeWatches&&p.$on("$destroy",T.removeWatches));for(var k in g){var A=_[k],D=g[k],$=A.$$bindings.bindToController;if(v){D.bindingInfo=$?initializeDirectiveBindings(f,E,D.instance,$,A):{};var P=D();P!==D.instance&&(D.instance=P,C.data("$"+A.name+"Controller",P),D.bindingInfo.removeWatches&&D.bindingInfo.removeWatches(),D.bindingInfo=initializeDirectiveBindings(f,E,D.instance,$,A))}else D.instance=D(),C.data("$"+A.name+"Controller",D.instance),D.bindingInfo=initializeDirectiveBindings(f,E,D.instance,$,A)}for(forEach(_,function(e,t){var n=e.require;e.bindToController&&!x(n)&&isObject(n)&&extend(g[t].instance,getControllers(t,n,C,g))}),forEach(g,function(e){var t=e.instance;if(isFunction(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){m(e)}if(isFunction(t.$onInit))try{t.$onInit()}catch(e){m(e)}isFunction(t.$doCheck)&&(f.$watch(function(){t.$doCheck()}),t.$doCheck()),isFunction(t.$onDestroy)&&f.$on("$destroy",function(){t.$onDestroy()})}),c=0,d=a.length;c<d;c++)h=a[c],invokeLinkFn(h,h.isolateScope?p:r,C,E,h.require&&getControllers(h.directiveName,h.require,C,g),S);var L=r;for(b&&(b.template||null===b.templateUrl)&&(L=p),e&&e(L,i.childNodes,void 0,l),c=s.length-1;c>=0;c--)h=s[c],invokeLinkFn(h,h.isolateScope?p:r,C,E,h.require&&getControllers(h.directiveName,h.require,C,g),S);forEach(g,function(e){var t=e.instance;isFunction(t.$postLink)&&t.$postLink()})}l=l||{};for(var c,d,h,p,f,g=-Number.MAX_VALUE,y=l.newScopeDirective,_=l.controllerDirectives,b=l.newIsolateScopeDirective,w=l.templateDirective,S=l.nonTlbTranscludeDirective,E=!1,T=!1,M=l.hasElementTranscludeDirective,k=n.$$element=u(t),A=o,D=r,$=!1,P=!1,R=0,O=e.length;R<O;R++){c=e[R];var I=c.$$start,F=c.$$end;if(I&&(k=groupScan(t,I,F)),h=void 0,g>c.priority)break;if(f=c.scope,f&&(c.templateUrl||(isObject(f)?(assertNoDuplicate("new/isolated scope",b||y,c,k),b=c):assertNoDuplicate("new/isolated scope",b,c,k)),y=y||c),d=c.name,!$&&(c.replace&&(c.templateUrl||c.template)||c.transclude&&!c.$$tlb)){for(var N,H=R+1;N=e[H++];)if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){P=!0;break}$=!0}if(!c.templateUrl&&c.controller&&(_=_||createMap(),assertNoDuplicate("'"+d+"' controller",_[d],c,k),_[d]=c),f=c.transclude)if(E=!0,c.$$tlb||(assertNoDuplicate("transclusion",S,c,k),S=c),"element"===f)M=!0,g=c.priority,h=k,k=n.$$element=u(compile.$$createComment(d,n[d])),t=k[0],replaceWith(i,sliceArgs(h),t),h[0].$$parentNode=h[0].parentNode,D=compilationGenerator(P,h,r,g,A&&A.name,{nonTlbTranscludeDirective:S});else{var j=createMap();if(isObject(f)){h=[];var B=createMap(),Y=createMap();forEach(f,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,B[e]=t,j[t]=null,Y[t]=n}),forEach(k.contents(),function(e){var t=B[directiveNormalize(nodeName_(e))];t?(Y[t]=!0,j[t]=j[t]||[],j[t].push(e)):h.push(e)}),forEach(Y,function(e,t){if(!e)throw ye("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var z in j)j[z]&&(j[z]=compilationGenerator(P,j[z],r))}else h=u(jqLiteClone(t)).contents();k.empty(),D=compilationGenerator(P,h,r,void 0,void 0,{needsNewScope:c.$$isolateScope||c.$$newScope}),D.$$slots=j}if(c.template)if(T=!0,assertNoDuplicate("template",w,c,k),w=c,f=isFunction(c.template)?c.template(k,n):c.template,f=V(f),c.replace){if(A=c,h=jqLiteIsTextNode(f)?[]:removeComments(wrapTemplate(c.templateNamespace,C(f))),t=h[0],1!==h.length||t.nodeType!==L)throw ye("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d,"");replaceWith(i,k,t);var q={$attr:{}},U=collectDirectives(t,[],q),G=e.splice(R+1,e.length-(R+1));(b||y)&&markDirectiveScope(U,b,y),e=e.concat(U).concat(G),mergeTemplateAttributes(n,q),O=e.length}else k.html(f);if(c.templateUrl)T=!0,assertNoDuplicate("template",w,c,k),w=c,c.replace&&(A=c),nodeLinkFn=compileTemplateUrl(e.splice(R,e.length-R),k,n,i,E&&D,a,s,{controllerDirectives:_,newScopeDirective:y!==c&&y,newIsolateScopeDirective:b,templateDirective:w,nonTlbTranscludeDirective:S}),O=e.length;else if(c.compile)try{p=c.compile(k,n,D);var W=c.$$originalDirective||c;isFunction(p)?addLinkFns(null,bind(W,p),I,F):p&&addLinkFns(bind(W,p.pre),bind(W,p.post),I,F)}catch(e){m(e,startingTag(k))}c.terminal&&(nodeLinkFn.terminal=!0,g=Math.max(g,c.priority))}return nodeLinkFn.scope=y&&!0===y.scope,nodeLinkFn.transcludeOnThisElement=E,nodeLinkFn.templateOnThisElement=T,nodeLinkFn.transclude=D,l.hasElementTranscludeDirective=M,nodeLinkFn}function getControllers(e,t,n,r){var i;if(isString(t)){var o=t.match(h),a=t.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var c="$"+a+"Controller";i=s?n.inheritedData(c):n.data(c)}if(!i&&!l)throw ye("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(x(t)){i=[];for(var u=0,d=t.length;u<d;u++)i[u]=getControllers(e,t[u],n,r)}else isObject(t)&&(i={},forEach(t,function(t,o){i[o]=getControllers(e,t,n,r)}));return i||null}function setupControllers(e,t,n,r,i,o,a){var s=createMap();for(var l in r){var c=r[l],u={$scope:c===a||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]);var h=T(d,u,!0,c.controllerAs);s[c.name]=h,e.data("$"+c.name+"Controller",h.instance)}return s}function markDirectiveScope(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=inherit(e[r],{$$isolateScope:t,$$newScope:n})}function addDirective(e,n,i,o,s,l,c){if(n===s)return null;var u=null;if(r.hasOwnProperty(n))for(var d,h=t.get(n+a),p=0,m=h.length;p<m;p++)if(d=h[p],(isUndefined(o)||o>d.priority)&&-1!==d.restrict.indexOf(i)){if(l&&(d=inherit(d,{$$start:l,$$end:c})),!d.$$bindings){var f=d.$$bindings=parseDirectiveBindings(d,d.name);isObject(f.isolateScope)&&(d.$$isolateBindings=f.isolateScope)}e.push(d),u=d}return u}function directiveIsMultiElement(e){if(r.hasOwnProperty(e))for(var n,i=t.get(e+a),o=0,s=i.length;o<s;o++)if(n=i[o],n.multiElement)return!0;return!1}function mergeTemplateAttributes(e,t){var n=t.$attr,r=e.$attr;forEach(e,function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r.length?r+=("style"===i?";":" ")+t[i]:r=t[i]),e.$set(i,r,!0,n[i]))}),forEach(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function compileTemplateUrl(e,t,n,r,i,o,a,s){var l,c,d=[],h=t[0],p=e.shift(),f=inherit(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),g=isFunction(p.templateUrl)?p.templateUrl(t,n):p.templateUrl,v=p.templateNamespace;return t.empty(),S(g).then(function(m){var y,_,b,w;if(m=V(m),p.replace){if(b=jqLiteIsTextNode(m)?[]:removeComments(wrapTemplate(v,C(m))),y=b[0],1!==b.length||y.nodeType!==L)throw ye("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,g);_={$attr:{}},replaceWith(r,t,y);var x=collectDirectives(y,[],_);isObject(p.scope)&&markDirectiveScope(x,!0),e=x.concat(e),mergeTemplateAttributes(n,_)}else y=h,t.html(m);for(e.unshift(f),l=applyDirectivesToNode(e,y,n,i,t,p,o,a,s),forEach(r,function(e,n){e===y&&(r[n]=t[0])}),c=compileNodes(t[0].childNodes,i);d.length;){var S=d.shift(),E=d.shift(),T=d.shift(),M=d.shift(),k=t[0];if(!S.$$destroyed){if(E!==h){var A=E.className;s.hasElementTranscludeDirective&&p.replace||(k=jqLiteClone(y)),replaceWith(T,u(E),k),safeAddClass(u(k),A)}w=l.transcludeOnThisElement?createBoundTranscludeFn(S,l.transclude,M):M,l(c,S,k,r,w)}}d=null}).catch(function(e){isError(e)&&m(e)}),function(e,t,n,r,i){var o=i;t.$$destroyed||(d?d.push(t,n,r,o):(l.transcludeOnThisElement&&(o=createBoundTranscludeFn(t,l.transclude,i)),l(c,t,n,r,o)))}}function byPriority(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function assertNoDuplicate(e,t,n,r){function wrapModuleNameIfDefined(e){return e?" (module: "+e+")":""}if(t)throw ye("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,wrapModuleNameIfDefined(t.$$moduleName),n.name,wrapModuleNameIfDefined(n.$$moduleName),e,startingTag(r))}function addTextInterpolateDirective(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&compile.$$addBindingClass(t),function(e,t){var i=t.parent();n||compile.$$addBindingClass(i),compile.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function wrapTemplate(t,n){switch(t=o(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function getTrustedContext(e,t){if("srcdoc"===t)return k.HTML;var n=nodeName_(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return k.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return k.RESOURCE_URL}function addAttrInterpolateDirective(e,t,r,i,o){var a=getTrustedContext(e,i),s=!o,l=d[i]||o,c=n(r,s,a,l);if(c){if("multiple"===i&&"select"===nodeName_(e))throw ye("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(e));if(p.test(i))throw ye("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=createMap()),u=o[i];u!==r&&(c=u&&n(u,!0,a,l),r=u),c&&(o[i]=c(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(c,function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function replaceWith(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===a){t[i++]=r;for(var c=i,d=c+s-1,h=t.length;c<h;c++,d++)d<h?t[c]=t[d]:delete t[c];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var p=e.document.createDocumentFragment();for(i=0;i<s;i++)p.appendChild(n[i]);for(u.hasData(a)&&(u.data(r,u.data(a)),u(a).off("$destroy")),u.cleanData(p.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function cloneAndAnnotateFn(e,t){return extend(function(){return e.apply(null,arguments)},e,t)}function invokeLinkFn(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){m(e,startingTag(n))}}function strictBindingsCheck(e,t){if(y)throw ye("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function initializeDirectiveBindings(e,t,r,o,a){function recordChanges(t,n,i){isFunction(r.$onChanges)&&!simpleCompare(n,i)&&($||(e.$$postDigest(flushOnChangesQueue),$=[]),s||(s={},$.push(triggerOnChangesHook)),s[t]&&(i=s[t].previousValue),s[t]=new SimpleChange(i,n))}function triggerOnChangesHook(){r.$onChanges(s),s=void 0}var s,l=[],c={};return forEach(o,function(o,s){var u,d,h,p,m,f=o.attrName,g=o.optional,v=o.mode;switch(v){case"@":g||i.call(t,f)||(strictBindingsCheck(f,a.name),r[s]=t[f]=void 0),m=t.$observe(f,function(e){if(isString(e)||isBoolean(e)){var t=r[s];recordChanges(s,e,t),r[s]=e}}),t.$$observers[f].$$scope=e,u=t[f],isString(u)?r[s]=n(u)(e):isBoolean(u)&&(r[s]=u),c[s]=new SimpleChange(_e,r[s]),l.push(m);break;case"=":if(!i.call(t,f)){if(g)break;strictBindingsCheck(f,a.name),t[f]=void 0}if(g&&!t[f])break;d=E(t[f]),p=d.literal?equals:simpleCompare,h=d.assign||function(){throw u=r[s]=d(e),ye("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[f],f,a.name)},u=r[s]=d(e);var y=function(t){return p(t,r[s])||(p(t,u)?h(e,t=r[s]):r[s]=t),u=t};y.$stateful=!0,m=o.collection?e.$watchCollection(t[f],y):e.$watch(E(t[f],y),null,d.literal),l.push(m);break;case"<":if(!i.call(t,f)){if(g)break;strictBindingsCheck(f,a.name),t[f]=void 0}if(g&&!t[f])break;d=E(t[f]);var _=d.literal,b=r[s]=d(e);c[s]=new SimpleChange(_e,r[s]),m=e.$watch(d,function(e,t){if(t===e){if(t===b||_&&equals(t,b))return;t=b}recordChanges(s,e,t),r[s]=e},_),l.push(m);break;case"&":if(g||i.call(t,f)||strictBindingsCheck(f,a.name),(d=t.hasOwnProperty(f)?E(t[f]):noop)===noop&&g)break;r[s]=function(t){return d(e,t)}}}),{initialChanges:c,removeWatches:l.length&&function(){for(var e=0,t=l.length;e<t;++e)l[e]()}}}var $,P=/^\w/,I=e.document.createElement("div"),F=b,N=w,H=_;Attributes.prototype={$normalize:directiveNormalize,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=tokenDifference(e,t);n&&n.length&&A.addClass(this.$$element,n);var r=tokenDifference(t,e);r&&r.length&&A.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i,o=this.$$element[0],a=getBooleanAttrName(o,e),s=getAliasedAttrName(e),l=e;if(a?(this.$$element.prop(e,t),r=a):s&&(this[s]=t,l=s),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=snake_case(e,"-")),"a"===(i=nodeName_(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===i&&"src"===e)this[e]=t=D(t,"src"===e);else if("img"===i&&"srcset"===e&&isDefined(t)){for(var c="",u=C(t),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(u)?d:/(,)/,p=u.split(h),f=Math.floor(p.length/2),g=0;g<f;g++){var v=2*g;c+=D(C(p[v]),!0),c+=" "+C(p[v+1])}var y=C(p[2*g]).split(/\s/);c+=D(C(y[0]),!0),2===y.length&&(c+=" "+C(y[1])),this[e]=t=c}!1!==n&&(null===t||isUndefined(t)?this.$$element.removeAttr(r):P.test(r)?this.$$element.attr(r,t):setSpecialAttr(this.$$element[0],r,t));var _=this.$$observers;_&&forEach(_[l],function(e){try{e(t)}catch(e){m(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=createMap()),i=r[e]||(r[e]=[]);return i.push(t),M.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||isUndefined(n[e])||t(n[e])}),function(){arrayRemove(i,t)}}};var j=n.startSymbol(),B=n.endSymbol(),V="{{"===j&&"}}"===B?identity:function(e){return e.replace(/\{\{/g,j).replace(/}}/g,B)},Y=/^ngAttr[A-Z]/,z=/^(.+)Start$/;return compile.$$addBindingInfo=f?function(e,t){var n=e.data("$binding")||[];x(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:noop,compile.$$addBindingClass=f?function(e){safeAddClass(e,"ng-binding")}:noop,compile.$$addScopeInfo=f?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:noop,compile.$$addScopeClass=f?function(e,t){safeAddClass(e,t?"ng-isolate-scope":"ng-scope")}:noop,compile.$$createComment=function(t,n){var r="";return f&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},compile}]}function SimpleChange(e,t){this.previousValue=e,this.currentValue=t}function directiveNormalize(e){return e.replace(be,"").replace(we,fnCamelCaseReplace)}function tokenDifference(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function removeComments(e){e=u(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===O||n.nodeType===R&&""===n.nodeValue.trim())&&m.call(e,t,1)}return e}function identifierForController(e,t){if(t&&isString(t))return t;if(isString(e)){var n=Se.exec(e);if(n)return n[3]}}function $ControllerProvider(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){assertNotHasOwnProperty(t,"controller"),isObject(t)?extend(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,r){function addIdentifier(e,t,n,r){if(!e||!isObject(e.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}return function(i,o,a,s){var l,c,u,d;if(a=!0===a,s&&isString(s)&&(d=s),isString(i)){if(!(c=i.match(Se)))throw xe("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);if(u=c[1],d=d||c[3],!(i=e.hasOwnProperty(u)?e[u]:getter(o.$scope,u,!0)||(t?getter(r,u,!0):void 0)))throw xe("ctrlreg","The controller with the name '{0}' is not registered.",u);assertArgFn(i,u,!0)}if(a){var h=(x(i)?i[i.length-1]:i).prototype;return l=Object.create(h||null),d&&addIdentifier(o,d,l,u||i.name),extend(function(){var e=n.invoke(i,l,o,u);return e!==l&&(isObject(e)||isFunction(e))&&(l=e,d&&addIdentifier(o,d,l,u||i.name)),l},{instance:l,identifier:d})}return l=n.instantiate(i,o,u),d&&addIdentifier(o,d,l,u||i.name),l}}]}function $DocumentProvider(){this.$get=["$window",function(e){return u(e.document)}]}function $$IsDocumentHiddenProvider(){this.$get=["$document","$rootScope",function(e,t){function changeListener(){r=n.hidden}var n=e[0],r=n&&n.hidden;return e.on("visibilitychange",changeListener),t.$on("$destroy",function(){e.off("visibilitychange",changeListener)}),function(){return r}}]}function $ExceptionHandlerProvider(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function serializeValue(e){return isObject(e)?isDate(e)?e.toISOString():toJson(e):e}function $HttpParamSerializerProvider(){this.$get=function(){return function(e){if(!e)return"";var t=[];return forEachSorted(e,function(e,n){null===e||isUndefined(e)||isFunction(e)||(x(e)?forEach(e,function(e){t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e)))}):t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e))))}),t.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(e){function serialize(e,n,r){null===e||isUndefined(e)||(x(e)?forEach(e,function(e,t){serialize(e,n+"["+(isObject(e)?t:"")+"]")}):isObject(e)&&!isDate(e)?forEachSorted(e,function(e,t){serialize(e,n+(r?"":"[")+t+(r?"":"]"))}):t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e))))}if(!e)return"";var t=[];return serialize(e,"",!0),t.join("&")}}}function defaultHttpResponseTransform(e,t){if(isString(e)){var n=e.replace(Ae,"").trim();if(n){var r=t("Content-Type"),i=r&&0===r.indexOf(Ee);if(i||isJsonLike(n))try{e=fromJson(n)}catch(t){if(!i)return e;throw De("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}return e}function isJsonLike(e){var t=e.match(Me);return t&&ke[t[0]].test(e)}function parseHeaders(e){function fillInParsed(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}var t,n=createMap();return isString(e)?forEach(e.split("\n"),function(e){t=e.indexOf(":"),fillInParsed(o(C(e.substr(0,t))),C(e.substr(t+1)))}):isObject(e)&&forEach(e,function(e,t){fillInParsed(o(t),C(e))}),n}function headersGetter(e){var t;return function(n){if(t||(t=parseHeaders(e)),n){var r=t[o(n)];return void 0===r&&(r=null),r}return t}}function transformData(e,t,n,r){return isFunction(r)?r(e,t,n):(forEach(r,function(r){e=r(e,t,n)}),e)}function isSuccess(e){return 200<=e&&e<300}function $HttpProvider(){var e=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(e){return!isObject(e)||isFile(e)||isBlob(e)||isFormData(e)?e:toJson(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(Te),put:shallowCopy(Te),patch:shallowCopy(Te)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return isDefined(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,i,s,l,c,u,d,h){function $http(t){function chainInterceptors(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function completeOutstandingRequest(){r.$$completeOutstandingRequest(noop)}function executeHeaderFns(e,t){var n,r={};return forEach(e,function(e,i){isFunction(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e}),r}function serverRequest(t){var n=t.headers,r=transformData(t.data,headersGetter(n),void 0,t.transformRequest);return isUndefined(r)&&forEach(n,function(e,t){"content-type"===o(t)&&delete n[t]}),isUndefined(t.withCredentials)&&!isUndefined(e.withCredentials)&&(t.withCredentials=e.withCredentials),sendReq(t,r).then(transformResponse,transformResponse)}function transformResponse(e){var t=extend({},e);return t.data=transformData(e.data,e.headers,e.status,n.transformResponse),isSuccess(e.status)?t:u.reject(t)}if(!isObject(t))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!isString(h.valueOf(t.url)))throw minErr("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var n=extend({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);n.headers=function(t){var n,r,i,a=e.headers,s=extend({},t.headers);a=extend({},a.common,a[o(t.method)]);e:for(n in a){r=o(n);for(i in s)if(o(i)===r)continue e;s[n]=a[n]}return executeHeaderFns(s,shallowCopy(t))}(t),n.method=a(n.method),n.paramSerializer=isString(n.paramSerializer)?d.get(n.paramSerializer):n.paramSerializer,r.$$incOutstandingRequestCount();var i=[],s=[],l=u.resolve(n);return forEach(m,function(e){(e.request||e.requestError)&&i.unshift(e.request,e.requestError),(e.response||e.responseError)&&s.push(e.response,e.responseError)}),l=chainInterceptors(l,i),l=l.then(serverRequest),l=chainInterceptors(l,s),l=l.finally(completeOutstandingRequest)}function sendReq(n,r){function createApplyHandlers(e){if(e){var n={};return forEach(e,function(e,r){n[r]=function(n){function callEventHandler(){e(n)}t?c.$applyAsync(callEventHandler):c.$$phase?callEventHandler():c.$apply(callEventHandler)}}),n}}function done(e,n,r,i,o){function resolveHttpPromise(){resolvePromise(n,e,r,i,o)}a&&(isSuccess(e)?a.put(v,[e,n,parseHeaders(r),i,o]):a.remove(v)),t?c.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),c.$$phase||c.$apply())}function resolvePromise(e,t,r,i,o){t=t>=-1?t:0,(isSuccess(t)?d.resolve:d.reject)({data:e,status:t,headers:headersGetter(r),config:n,statusText:i,xhrStatus:o})}function resolvePromiseWithResult(e){resolvePromise(e.data,e.status,shallowCopy(e.headers()),e.statusText,e.xhrStatus)}function removePendingReq(){var e=$http.pendingRequests.indexOf(n);-1!==e&&$http.pendingRequests.splice(e,1)}var a,l,d=u.defer(),m=d.promise,f=n.headers,g="jsonp"===o(n.method),v=n.url;if(g?v=h.getTrustedResourceUrl(v):isString(v)||(v=h.valueOf(v)),v=buildUrl(v,n.paramSerializer(n.params)),g&&(v=sanitizeJsonpCallbackParam(v,n.jsonpCallbackParam)),$http.pendingRequests.push(n),m.then(removePendingReq,removePendingReq),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(a=isObject(n.cache)?n.cache:isObject(e.cache)?e.cache:p),a&&(l=a.get(v),isDefined(l)?isPromiseLike(l)?l.then(resolvePromiseWithResult,resolvePromiseWithResult):x(l)?resolvePromise(l[1],l[0],shallowCopy(l[2]),l[3],l[4]):resolvePromise(l,200,{},"OK","complete"):a.put(v,m)),isUndefined(l)){var y=urlIsSameOrigin(n.url)?s()[n.xsrfCookieName||e.xsrfCookieName]:void 0;y&&(f[n.xsrfHeaderName||e.xsrfHeaderName]=y),i(n.method,v,r,done,f,n.timeout,n.withCredentials,n.responseType,createApplyHandlers(n.eventHandlers),createApplyHandlers(n.uploadEventHandlers))}return m}function buildUrl(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function sanitizeJsonpCallbackParam(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw De("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(new RegExp("[&?]"+t+"=").test(e))throw De("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var p=l("$http");e.paramSerializer=isString(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var m=[];return forEach(n,function(e){m.unshift(isString(e)?d.get(e):d.invoke(e))}),$http.pendingRequests=[],function(e){forEach(arguments,function(e){$http[e]=function(t,n){return $http(extend({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){forEach(arguments,function(e){$http[e]=function(t,n,r){return $http(extend({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),$http.defaults=e,$http}]}function $xhrFactoryProvider(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return createHttpBackend(e,r,e.defer,t,n[0])}]}function createHttpBackend(e,t,n,r,i){function jsonpReq(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,a,s,l,c,u,d,h,p,m){function timeoutRequest(){g&&g(),v&&v.abort()}function completeRequest(e,t,r,i,o,a){isDefined(w)&&n.cancel(w),g=v=null,e(t,r,i,o,a)}if(a=a||e.url(),"jsonp"===o(i))var f=r.createCallback(a),g=jsonpReq(a,f,function(e,t){var n=200===e&&r.getResponse(f);completeRequest(l,e,n,"",t,"complete"),r.removeCallback(f)});else{var v=t(i,a);v.open(i,a,!0),forEach(c,function(e,t){isDefined(e)&&v.setRequestHeader(t,e)}),v.onload=function(){var e=v.statusText||"",t="response"in v?v.response:v.responseText,n=1223===v.status?204:v.status;0===n&&(n=t?200:"file"===urlResolve(a).protocol?404:0),completeRequest(l,n,t,v.getAllResponseHeaders(),e,"complete")};var y=function(){completeRequest(l,-1,null,null,"","error")},_=function(){completeRequest(l,-1,null,null,"","abort")},b=function(){completeRequest(l,-1,null,null,"","timeout")};if(v.onerror=y,v.onabort=_,v.ontimeout=b,forEach(p,function(e,t){v.addEventListener(t,e)}),forEach(m,function(e,t){v.upload.addEventListener(t,e)}),d&&(v.withCredentials=!0),h)try{v.responseType=h}catch(e){if("json"!==h)throw e}v.send(isUndefined(s)?null:s)}if(u>0)var w=n(timeoutRequest,u);else isPromiseLike(u)&&u.then(timeoutRequest)}}function $InterpolateProvider(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function escape(e){return"\\\\\\"+e}function unescapeText(n){return n.replace(s,e).replace(l,t)}function constantWatchDelegate(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function $interpolate(s,l,c,u){function parseStringifyInterceptor(e){try{return e=x(e),u&&!isDefined(e)?e:stringify(e)}catch(e){r($e.interr(s,e))}}if(!s.length||-1===s.indexOf(e)){var d;if(!l){d=valueFn(unescapeText(s)),d.exp=s,d.expressions=[],d.$$watchDelegate=constantWatchDelegate}return d}u=!!u;for(var h,p,m,f=0,g=[],v=[],y=s.length,_=[],b=[];f<y;){if(-1===(h=s.indexOf(e,f))||-1===(p=s.indexOf(t,h+o))){f!==y&&_.push(unescapeText(s.substring(f)));break}f!==h&&_.push(unescapeText(s.substring(f,h))),m=s.substring(h+o,p),g.push(m),v.push(n(m,parseStringifyInterceptor)),f=p+a,b.push(_.length),_.push("")}if(c&&_.length>1&&$e.throwNoconcat(s),!l||g.length){var w=function(e){for(var t=0,n=g.length;t<n;t++){if(u&&isUndefined(e[t]))return;_[b[t]]=e[t]}return _.join("")},x=function(e){return c?i.getTrusted(c,e):i.valueOf(e)};return extend(function(e){var t=0,n=g.length,i=new Array(n);try{for(;t<n;t++)i[t]=v[t](e);return w(i)}catch(e){r($e.interr(s,e))}},{exp:s,expressions:g,$$watchDelegate:function(e,t){var n;return e.$watchGroup(v,function(r,i){var o=w(r);isFunction(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,escape),"g"),l=new RegExp(t.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return e},$interpolate.endSymbol=function(){return t},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function interval(a,s,l,c){function callback(){u?a.apply(null,d):a(m)}var u=arguments.length>4,d=u?sliceArgs(arguments,4):[],h=t.setInterval,p=t.clearInterval,m=0,f=isDefined(c)&&!c,g=(f?r:n).defer(),v=g.promise;return l=isDefined(l)?l:0,v.$$intervalId=h(function(){f?i.defer(callback):e.$evalAsync(callback),g.notify(m++),l>0&&m>=l&&(g.resolve(m),p(v.$$intervalId),delete o[v.$$intervalId]),f||e.$apply()},s),o[v.$$intervalId]=g,v}var o={};return interval.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(markQExceptionHandled(o[e.$$intervalId].promise),o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},interval}]}function encodePath(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=encodeUriSegment(t[n]);return t.join("/")}function parseAbsoluteUrl(e,t){var n=urlResolve(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=toInt(n.port)||Re[n.protocol]||null}function parseAppUrl(e,t){if(Ie.test(e))throw Oe("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var r=urlResolve(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=parseKeyValue(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function startsWith(e,t){return e.slice(0,t.length)===t}function stripBaseUrl(e,t){if(startsWith(t,e))return t.substr(e.length)}function stripHash(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function trimEmptyHash(e){return e.replace(/(#.+)|#$/,"$1")}function stripFile(e){return e.substr(0,stripHash(e).lastIndexOf("/")+1)}function serverBase(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function LocationHtml5Url(e,t,n){this.$$html5=!0,n=n||"",parseAbsoluteUrl(e,this),this.$$parse=function(e){var n=stripBaseUrl(t,e);if(!isString(n))throw Oe("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);parseAppUrl(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=toKeyValue(this.$$search),n=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return isDefined(o=stripBaseUrl(e,r))?(a=o,s=n&&isDefined(o=stripBaseUrl(n,o))?t+(stripBaseUrl("/",o)||o):e+a):isDefined(o=stripBaseUrl(t,r))?s=t+o:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function LocationHashbangUrl(e,t,n){parseAbsoluteUrl(e,this),this.$$parse=function(r){var i,o=stripBaseUrl(e,r)||stripBaseUrl(t,r);isUndefined(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",isUndefined(o)&&(e=r,this.replace())):(i=stripBaseUrl(n,o),isUndefined(i)&&(i=o)),parseAppUrl(i,this),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return startsWith(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=toKeyValue(this.$$search),r=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return stripHash(e)===stripHash(t)&&(this.$$parse(t),!0)}}function LocationHashbangInHtml5Url(e,t,n){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e===stripHash(r)?o=r:(a=stripBaseUrl(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=toKeyValue(this.$$search),r=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function locationGetter(e){return function(){return this[e]}}function locationGetterSetter(e,t){return function(n){return isUndefined(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function $LocationProvider(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return isDefined(t)?(e=t,this):e},this.html5Mode=function(e){return isBoolean(e)?(t.enabled=e,this):isObject(e)?(isBoolean(e.enabled)&&(t.enabled=e.enabled),isBoolean(e.requireBase)&&(t.requireBase=e.requireBase),(isBoolean(e.rewriteLinks)||isString(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function setBrowserUrlWithFallback(e,t,n){var i=s.url(),o=s.$$state;try{r.url(e,t,n),s.$$state=r.state()}catch(e){throw s.url(i),s.$$state=o,e}}function afterLocationChange(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}var s,l,c,d=r.baseHref(),h=r.url();if(t.enabled){if(!d&&t.requireBase)throw Oe("nobase","$location in HTML5 mode requires a <base> tag to be present!");c=serverBase(h)+(d||"/"),l=i.history?LocationHtml5Url:LocationHashbangInHtml5Url}else c=stripHash(h),l=LocationHashbangUrl;var p=stripFile(c);s=new l(c,p,"#"+e),s.$$parseLinkUrl(h,h),s.$$state=r.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var l=u(e.target);"a"!==nodeName_(l[0]);)if(l[0]===o[0]||!(l=l.parent())[0])return;if(!isString(i)||!isUndefined(l.attr(i))){var c=l.prop("href"),d=l.attr("href")||l.attr("xlink:href");isObject(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=urlResolve(c.animVal).href),m.test(c)||!c||l.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(c,d)&&(e.preventDefault(),s.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),trimEmptyHash(s.absUrl())!==trimEmptyHash(h)&&r.url(s.absUrl(),!0);var f=!0;return r.onUrlChange(function(e,t){if(!startsWith(e,p))return void(a.location.href=e);n.$evalAsync(function(){var r,i=s.absUrl(),o=s.$$state;e=trimEmptyHash(e),s.$$parse(e),s.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,s.absUrl()===e&&(r?(s.$$parse(i),s.$$state=o,setBrowserUrlWithFallback(i,!1,o)):(f=!1,afterLocationChange(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(f||s.$$urlUpdatedByLocation){s.$$urlUpdatedByLocation=!1;var e=trimEmptyHash(r.url()),t=trimEmptyHash(s.absUrl()),o=r.state(),a=s.$$replace,l=e!==t||s.$$html5&&i.history&&o!==s.$$state;(f||l)&&(f=!1,n.$evalAsync(function(){var t=s.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,s.$$state,o).defaultPrevented;s.absUrl()===t&&(r?(s.$$parse(e),s.$$state=o):(l&&setBrowserUrlWithFallback(t,a,o===s.$$state?null:s.$$state),afterLocationChange(e,o)))}))}s.$$replace=!1}),s}]}function $LogProvider(){var e=!0,t=this;this.debugEnabled=function(t){return isDefined(t)?(e=t,this):e},this.$get=["$window",function(n){function formatError(e){return isError(e)&&(e.stack&&r?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function consoleLog(e){var t=n.console||{},r=t[e]||t.log||noop;return function(){var e=[];return forEach(arguments,function(t){e.push(formatError(t))}),Function.prototype.apply.call(r,t,e)}}var r=c||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var n=consoleLog("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function getStringValue(e){return e+""}function ifDefined(e,t){return void 0!==e?e:t}function plusFn(e,t){return void 0===e?t:void 0===t?e:e+t}function isStateless(e,t){return!e(t).$stateful}function isPure(e,t){switch(e.type){case Ye.MemberExpression:if(e.computed)return!1;break;case Ye.UnaryExpression:return ze;case Ye.BinaryExpression:return"+"!==e.operator&&ze;case Ye.CallExpression:return!1}return void 0===t?qe:t}function findConstantAndWatchExpressions(e,t,n){var r,i,o,a=e.isPure=isPure(e,n);switch(e.type){case Ye.Program:r=!0,forEach(e.body,function(e){findConstantAndWatchExpressions(e.expression,t,a),r=r&&e.expression.constant}),e.constant=r;break;case Ye.Literal:e.constant=!0,e.toWatch=[];break;case Ye.UnaryExpression:findConstantAndWatchExpressions(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Ye.BinaryExpression:findConstantAndWatchExpressions(e.left,t,a),findConstantAndWatchExpressions(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Ye.LogicalExpression:findConstantAndWatchExpressions(e.left,t,a),findConstantAndWatchExpressions(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Ye.ConditionalExpression:findConstantAndWatchExpressions(e.test,t,a),findConstantAndWatchExpressions(e.alternate,t,a),findConstantAndWatchExpressions(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Ye.Identifier:e.constant=!1,e.toWatch=[e];break;case Ye.MemberExpression:findConstantAndWatchExpressions(e.object,t,a),e.computed&&findConstantAndWatchExpressions(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Ye.CallExpression:o=!!e.filter&&isStateless(t,e.callee.name),r=o,i=[],forEach(e.arguments,function(e){findConstantAndWatchExpressions(e,t,a),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=o?i:[e];break;case Ye.AssignmentExpression:findConstantAndWatchExpressions(e.left,t,a),findConstantAndWatchExpressions(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Ye.ArrayExpression:r=!0,i=[],forEach(e.elements,function(e){findConstantAndWatchExpressions(e,t,a),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=i;break;case Ye.ObjectExpression:r=!0,i=[],forEach(e.properties,function(e){findConstantAndWatchExpressions(e.value,t,a),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(findConstantAndWatchExpressions(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))}),e.constant=r,e.toWatch=i;break;case Ye.ThisExpression:case Ye.LocalsExpression:e.constant=!1,e.toWatch=[]}}function getInputs(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function isAssignable(e){return e.type===Ye.Identifier||e.type===Ye.MemberExpression}function assignableAST(e){if(1===e.body.length&&isAssignable(e.body[0].expression))return{type:Ye.AssignmentExpression,left:e.body[0].expression,right:{type:Ye.NGValueParameter},operator:"="}}function isLiteral(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Ye.Literal||e.body[0].expression.type===Ye.ArrayExpression||e.body[0].expression.type===Ye.ObjectExpression)}function isConstant(e){return e.constant}function ASTCompiler(e){this.$filter=e}function ASTInterpreter(e){this.$filter=e}function Parser(e,t,n){this.ast=new Ye(e,n),this.astCompiler=n.csp?new ASTInterpreter(t):new ASTCompiler(t)}function getValueOf(e){return isFunction(e.valueOf)?e.valueOf():He.call(e)}function $ParseProvider(){var e,t,n=createMap(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){function $parse(e,t){var r,o,s;switch(typeof e){case"string":if(e=e.trim(),s=e,!(r=n[s])){":"===e.charAt(0)&&":"===e.charAt(1)&&(o=!0,e=e.substring(2));r=new Parser(new Ve(a),i,a).parse(e),r.constant?r.$$watchDelegate=constantWatchDelegate:o?r.$$watchDelegate=r.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:r.inputs&&(r.$$watchDelegate=inputsWatchDelegate),n[s]=r}return addInterceptor(r,t);case"function":return addInterceptor(e,t);default:return addInterceptor(noop,t)}}function expressionInputDirtyCheck(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=getValueOf(e))&&!n)&&(e===t||e!==e&&t!==t)}function inputsWatchDelegate(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=expressionInputDirtyCheck;return a=a[0],e.$watch(function(e){var t=a(e);return expressionInputDirtyCheck(t,s,a.isPure)||(o=r(e,void 0,void 0,[t]),s=t&&getValueOf(t)),o},t,n,i)}for(var l=[],c=[],u=0,d=a.length;u<d;u++)l[u]=expressionInputDirtyCheck,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;n<i;n++){var s=a[n](e);(t||(t=!expressionInputDirtyCheck(s,l[n],a[n].isPure)))&&(c[n]=s,l[n]=s&&getValueOf(s))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function oneTimeWatchDelegate(e,t,n,r,i){function oneTimeWatch(e){return r(e)}function oneTimeListener(e,n,r){a=e,isFunction(t)&&t(e,n,r),isDefined(e)&&r.$$postDigest(function(){isDefined(a)&&o()})}var o,a;return o=r.inputs?inputsWatchDelegate(e,oneTimeListener,n,r,i):e.$watch(oneTimeWatch,oneTimeListener,n)}function oneTimeLiteralWatchDelegate(e,t,n,r){function isAllDefined(e){var t=!0;return forEach(e,function(e){isDefined(e)||(t=!1)}),t}var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,isFunction(t)&&t(e,n,r),isAllDefined(e)&&r.$$postDigest(function(){isAllDefined(o)&&i()})},n)}function constantWatchDelegate(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function addInterceptor(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==oneTimeLiteralWatchDelegate&&n!==oneTimeWatchDelegate,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return isDefined(a)?s:a};return r=!e.inputs,n&&n!==inputsWatchDelegate?(o.$$watchDelegate=n,o.inputs=e.inputs):t.$stateful||(o.$$watchDelegate=inputsWatchDelegate,o.inputs=e.inputs?e.inputs:[e]),o.inputs&&(o.inputs=o.inputs.map(function(e){return e.isPure===qe?function(t){return e(t)}:e})),o}var o=T().noUnsafeEval,a={csp:o,literals:copy(r),isIdentifierStart:isFunction(e)&&e,isIdentifierContinue:isFunction(t)&&t};return $parse}]}function $QProvider(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return qFactory(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return isDefined(t)?(e=t,this):e}}function $$QProvider(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return qFactory(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return isDefined(t)?(e=t,this):e}}function qFactory(e,t,n){function defer(){return new Deferred}function Deferred(){var e=this.promise=new Promise;this.resolve=function(t){resolvePromise(e,t)},this.reject=function(t){rejectPromise(e,t)},this.notify=function(t){notifyPromise(e,t)}}function Promise(){this.$$state={status:0}}function processQueue(t){var r,o,a;a=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var s=0,l=a.length;s<l;++s){markQStateExceptionHandled(t),o=a[s][0],r=a[s][t.status];try{isFunction(r)?resolvePromise(o,r(t.value)):1===t.status?resolvePromise(o,t.value):rejectPromise(o,t.value)}catch(e){rejectPromise(o,e)}}}finally{--i,n&&0===i&&e(processChecks)}}function processChecks(){for(;!i&&o.length;){var e=o.shift();if(!isStateExceptionHandled(e)){markQStateExceptionHandled(e);var n="Possibly unhandled rejection: "+toDebugString(e.value);isError(e.value)?t(e.value,n):t(n)}}}function scheduleProcessQueue(t){!n||t.pending||2!==t.status||isStateExceptionHandled(t)||(0===i&&0===o.length&&e(processChecks),o.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++i,e(function(){processQueue(t)}))}function resolvePromise(e,t){e.$$state.status||(t===e?$$reject(e,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):$$resolve(e,t))}function $$resolve(e,t){function doResolve(t){r||(r=!0,$$resolve(e,t))}function doReject(t){r||(r=!0,$$reject(e,t))}function doNotify(t){notifyPromise(e,t)}var n,r=!1;try{(isObject(t)||isFunction(t))&&(n=t.then),isFunction(n)?(e.$$state.status=-1,n.call(t,doResolve,doReject,doNotify)):(e.$$state.value=t,e.$$state.status=1,scheduleProcessQueue(e.$$state))}catch(e){doReject(e)}}function rejectPromise(e,t){e.$$state.status||$$reject(e,t)}function $$reject(e,t){e.$$state.value=t,e.$$state.status=2,scheduleProcessQueue(e.$$state)}function notifyPromise(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&e(function(){for(var e,n,o=0,a=i.length;o<a;o++){n=i[o][0],e=i[o][3];try{notifyPromise(n,isFunction(e)?e(r):r)}catch(e){t(e)}}})}function reject(e){var t=new Promise;return rejectPromise(t,e),t}function handleCallback(e,t,n){var r=null;try{isFunction(n)&&(r=n())}catch(e){return reject(e)}return isPromiseLike(r)?r.then(function(){return t(e)},reject):t(e)}function when(e,t,n,r){var i=new Promise;return resolvePromise(i,e),i.then(t,n,r)}function all(e){var t=new Promise,n=0,r=x(e)?[]:{};return forEach(e,function(e,i){n++,when(e).then(function(e){r[i]=e,--n||resolvePromise(t,r)},function(e){rejectPromise(t,e)})}),0===n&&resolvePromise(t,r),t}function race(e){var t=defer();return forEach(e,function(e){when(e).then(t.resolve,t.reject)}),t.promise}function $Q(e){function resolveFn(e){resolvePromise(t,e)}function rejectFn(e){rejectPromise(t,e)}if(!isFunction(e))throw r("norslvr","Expected resolverFn, got '{0}'",e);var t=new Promise;return e(resolveFn,rejectFn),t}var r=minErr("$q",TypeError),i=0,o=[];extend(Promise.prototype,{then:function(e,t,n){if(isUndefined(e)&&isUndefined(t)&&isUndefined(n))return this;var r=new Promise;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return handleCallback(t,a,e)},function(t){return handleCallback(t,reject,e)},t)}});var a=when;return $Q.prototype=Promise.prototype,$Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.resolve=a,$Q.all=all,$Q.race=race,$Q}function isStateExceptionHandled(e){return!!e.pur}function markQStateExceptionHandled(e){e.pur=!0}function markQExceptionHandled(e){markQStateExceptionHandled(e.$$state)}function $$RAFProvider(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function $RootScopeProvider(){function createChildScopeClass(e){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null}return ChildScope.prototype=e,ChildScope}var e=10,t=minErr("$rootScope"),n=null,r=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(o,a,s){function destroyChildScope(e){e.currentScope.$$destroyed=!0}function cleanUpScope(e){9===c&&(e.$$childHead&&cleanUpScope(e.$$childHead),e.$$nextSibling&&cleanUpScope(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(e){if(l.$$phase)throw t("inprog","{0} already in progress",l.$$phase);l.$$phase=e}function clearPhase(){l.$$phase=null}function incrementWatchersCount(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function decrementListenerCount(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;h.length;)try{h.shift()()}catch(e){o(e)}r=null}function scheduleApplyAsync(){null===r&&(r=s.defer(function(){l.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(e,t){var n;return t=t||this,e?(n=new Scope,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",destroyChildScope),n},$watch:function(e,t,r,i){var o=a(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,r,o,e);var s=this,l=s.$$watchers,c={fn:t,last:initWatchVal,get:o,exp:i||e,eq:!!r};return n=null,isFunction(t)||(c.fn=noop),l||(l=s.$$watchers=[],l.$$digestWatchIndex=-1),l.unshift(c),l.$$digestWatchIndex++,incrementWatchersCount(this,1),function(){var e=arrayRemove(l,c);e>=0&&(incrementWatchersCount(s,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){function watchGroupAction(){a=!1,s?(s=!1,t(r,r,o)):t(r,n,o)}var n=new Array(e.length),r=new Array(e.length),i=[],o=this,a=!1,s=!0;if(!e.length){var l=!0;return o.$evalAsync(function(){l&&t(r,r,o)}),function(){l=!1}}return 1===e.length?this.$watch(e[0],function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)}):(forEach(e,function(e,t){var s=o.$watch(e,function(e,i){r[t]=e,n[t]=i,a||(a=!0,o.$evalAsync(watchGroupAction))});i.push(s)}),function(){for(;i.length;)i.shift()()})},$watchCollection:function(e,t){function $watchCollectionInterceptor(e){n=e;var t,o,a,s;if(!isUndefined(n)){if(isObject(n))if(isArrayLike(n)){r!==d&&(r=d,m=r.length=0,c++),t=n.length,m!==t&&(c++,r.length=m=t);for(var l=0;l<t;l++)s=r[l],a=n[l],s!==s&&a!==a||s===a||(c++,r[l]=a)}else{r!==h&&(r=h={},m=0,c++),t=0;for(o in n)i.call(n,o)&&(t++,a=n[o],s=r[o],o in r?s!==s&&a!==a||s===a||(c++,r[o]=a):(m++,r[o]=a,c++));if(m>t){c++;for(o in r)i.call(n,o)||(m--,delete r[o])}}else r!==n&&(r=n,c++);return c}}function $watchCollectionAction(){if(p?(p=!1,t(n,n,s)):t(n,o,s),l)if(isObject(n))if(isArrayLike(n)){o=new Array(n.length);for(var e=0;e<n.length;e++)o[e]=n[e]}else{o={};for(var r in n)i.call(n,r)&&(o[r]=n[r])}else o=n}$watchCollectionInterceptor.$stateful=!0;var n,r,o,s=this,l=t.length>1,c=0,u=a(e,$watchCollectionInterceptor),d=[],h={},p=!0,m=0;return this.$watch(u,$watchCollectionAction)},$digest:function(){var i,a,c,h,m,f,g,v,y,_,b,x=e,S=this,C=[];beginPhase("$digest"),s.$$checkUrlChange(),this===l&&null!==r&&(s.defer.cancel(r),flushApplyAsync()),n=null;do{g=!1,y=S;for(var E=0;E<u.length;E++){try{b=u[E],h=b.fn,h(b.scope,b.locals)}catch(e){o(e)}n=null}u.length=0;e:do{if(f=y.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(i=f[f.$$digestWatchIndex])if(m=i.get,(a=m(y))===(c=i.last)||(i.eq?equals(a,c):w(a)&&w(c))){if(i===n){g=!1;break e}}else g=!0,n=i,i.last=i.eq?copy(a,null):a,h=i.fn,h(a,c===initWatchVal?a:c,y),x<5&&(_=4-x,C[_]||(C[_]=[]),C[_].push({msg:isFunction(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:a,oldVal:c}))}catch(e){o(e)}if(!(v=y.$$watchersCount&&y.$$childHead||y!==S&&y.$$nextSibling))for(;y!==S&&!(v=y.$$nextSibling);)y=y.$parent}while(y=v);if((g||u.length)&&!x--)throw clearPhase(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(g||u.length);for(clearPhase();p<d.length;)try{d[p++]()}catch(e){o(e)}d.length=p=0,s.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===l&&s.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var t in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$$nextSibling=null,cleanUpScope(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){l.$$phase||u.length||s.defer(function(){u.length&&l.$digest()}),u.push({scope:this,fn:a(e),locals:t})},$$postDigest:function(e){d.push(e)},$apply:function(e){try{beginPhase("$apply");try{return this.$eval(e)}finally{clearPhase()}}catch(e){o(e)}finally{try{l.$digest()}catch(e){throw o(e),e}}},$applyAsync:function(e){function $applyAsyncExpression(){t.$eval(e)}var t=this;e&&h.push($applyAsyncExpression),e=a(e),scheduleApplyAsync()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,decrementListenerCount(i,1,e))}},$emit:function(e,t){var n,r,i,a=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=concat([c],arguments,1);do{for(n=s.$$listeners[e]||a,c.currentScope=s,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,u)}catch(e){o(e)}else n.splice(r,1),r--,i--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,i=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,l,c,u=concat([a],arguments,1);r=i;){for(a.currentScope=r,s=r.$$listeners[e]||[],l=0,c=s.length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(e){o(e)}else s.splice(l,1),l--,c--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var l=new Scope,u=l.$$asyncQueue=[],d=l.$$postDigestQueue=[],h=l.$$applyAsyncQueue=[],p=0;return l}]}function $$SanitizeUriProvider(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return isDefined(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return isDefined(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=urlResolve(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function snakeToCamel(e){return e.replace(We,fnCamelCaseReplace)}function adjustMatcher(e){if("self"===e)return e;if(isString(e)){if(e.indexOf("***")>-1)throw Ue("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=E(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(isRegExp(e))return new RegExp("^"+e.source+"$");throw Ue("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(e){var t=[];return isDefined(e)&&forEach(e,function(e){t.push(adjustMatcher(e))}),t}function $SceDelegateProvider(){this.SCE_CONTEXTS=Ge;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=adjustMatchers(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=adjustMatchers(e)),t},this.$get=["$injector",function(n){function matchUrl(e,t){return"self"===e?urlIsSameOrigin(t):!!e.exec(t.href)}function isResourceUrlAllowedByPolicy(n){var r,i,o=urlResolve(n.toString()),a=!1;for(r=0,i=e.length;r<i;r++)if(matchUrl(e[r],o)){a=!0;break}if(a)for(r=0,i=t.length;r<i;r++)if(matchUrl(t[r],o)){a=!1;break}return a}function generateHolderType(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function trustAs(e,t){var n=o.hasOwnProperty(e)?o[e]:null;if(!n)throw Ue("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||isUndefined(t)||""===t)return t;if("string"!=typeof t)throw Ue("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function valueOf(e){return e instanceof i?e.$$unwrapTrustedValue():e}function getTrusted(e,t){if(null===t||isUndefined(t)||""===t)return t;var n=o.hasOwnProperty(e)?o[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Ge.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(t))return t;throw Ue("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ge.HTML)return r(t);throw Ue("unsafe","Attempting to use an unsafe value in a safe context.")}var r=function(e){throw Ue("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(r=n.get("$sanitize"));var i=generateHolderType(),o={};return o[Ge.HTML]=generateHolderType(i),o[Ge.CSS]=generateHolderType(i),o[Ge.URL]=generateHolderType(i),o[Ge.JS]=generateHolderType(i),o[Ge.RESOURCE_URL]=generateHolderType(o[Ge.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&c<8)throw Ue("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=shallowCopy(Ge);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=identity),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return forEach(Ge,function(e,t){var n=o(t);r[snakeToCamel("parse_as_"+n)]=function(t){return i(e,t)},r[snakeToCamel("get_trusted_"+n)]=function(t){return a(e,t)},r[snakeToCamel("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function $SnifferProvider(){this.$get=["$window","$document",function(e,t){var n={},r=e.nw&&e.nw.process,i=!r&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),a=!i&&e.history&&e.history.pushState,s=toInt((/android (\d+)/.exec(o((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},d=u.body&&u.body.style,h=!1,p=!1;return d&&(h=!!("transition"in d||"webkitTransition"in d),p=!!("animation"in d||"webkitAnimation"in d)),{history:!(!a||s<4||l),hasEvent:function(e){if("input"===e&&c)return!1;if(isUndefined(n[e])){var t=u.createElement("div");n[e]="on"+e in t}return n[e]},csp:T(),transitions:h,animations:p,android:s}}]}function $TemplateRequestProvider(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function handleRequestFn(a,s){function handleError(e){return s||(e=Ke("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText),t(e)),i.reject(e)}handleRequestFn.totalPendingRequests++,isString(a)&&!isUndefined(n.get(a))||(a=o.getTrustedResourceUrl(a));var l=r.defaults&&r.defaults.transformResponse;return x(l)?l=l.filter(function(e){return e!==defaultHttpResponseTransform}):l===defaultHttpResponseTransform&&(l=null),r.get(a,extend({cache:n,transformResponse:l},e)).finally(function(){handleRequestFn.totalPendingRequests--}).then(function(e){return n.put(a,e.data),e.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return forEach(r,function(e){var r=_.element(e).data("$binding");r&&forEach(r,function(r){if(n){new RegExp("(^|\\s)"+E(t)+"(\\s|\\||$)").test(r)&&i.push(e)}else-1!==r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function timeout(a,s,l){isFunction(a)||(l=s,s=a,a=noop);var c,u=sliceArgs(arguments,3),d=isDefined(l)&&!l,h=(d?r:n).defer(),p=h.promise;return c=t.defer(function(){try{h.resolve(a.apply(null,u))}catch(e){h.reject(e),i(e)}finally{delete o[p.$$timeoutId]}d||e.$apply()},s),p.$$timeoutId=c,o[c]=h,p}var o={};return timeout.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(markQExceptionHandled(o[e.$$timeoutId].promise),o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},timeout}]}function urlResolve(e){var t=e;return c&&(Xe.setAttribute("href",t),t=Xe.href),Xe.setAttribute("href",t),{href:Xe.href,protocol:Xe.protocol?Xe.protocol.replace(/:$/,""):"",host:Xe.host,search:Xe.search?Xe.search.replace(/^\?/,""):"",hash:Xe.hash?Xe.hash.replace(/^#/,""):"",hostname:Xe.hostname,port:Xe.port,pathname:"/"===Xe.pathname.charAt(0)?Xe.pathname:"/"+Xe.pathname}}function urlIsSameOrigin(e){var t=isString(e)?urlResolve(e):e;return t.protocol===Je.protocol&&t.host===Je.host}function $WindowProvider(){this.$get=valueFn(e)}function $$CookieReader(e){function safeGetCookie(e){try{return e.cookie||""}catch(e){return""}}function safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(t){return e}}var t=e[0]||{},n={},r="";return function(){var e,i,o,a,s,l=safeGetCookie(t);if(l!==r)for(r=l,e=r.split("; "),n={},o=0;o<e.length;o++)i=e[o],(a=i.indexOf("="))>0&&(s=safeDecodeURIComponent(i.substring(0,a)),isUndefined(n[s])&&(n[s]=safeDecodeURIComponent(i.substring(a+1))));return n}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider(e){function register(n,r){if(isObject(n)){var i={};return forEach(n,function(e,t){i[t]=register(t,e)}),i}return e.factory(n+t,r)}var t="Filter";this.register=register,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",it),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",ot)}function filterFilter(){return function(e,t,n,r){if(!isArrayLike(e)){if(null==e)return e;throw minErr("filter")("notarray","Expected array but received: {0}",e)}r=r||"$";var i,o,a=getTypeForFilter(t);switch(a){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":i=createPredicateFn(t,n,r,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function createPredicateFn(e,t,n,r){var i=isObject(e)&&n in e;return!0===t?t=equals:isFunction(t)||(t=function(e,t){return!isUndefined(e)&&(null===e||null===t?e===t:!(isObject(t)||isObject(e)&&!hasCustomToString(e))&&(e=o(""+e),t=o(""+t),-1!==e.indexOf(t)))}),function(o){return i&&!isObject(o)?deepCompare(o,e[n],t,n,!1):deepCompare(o,e,t,n,r)}}function deepCompare(e,t,n,r,i,o){var a=getTypeForFilter(e),s=getTypeForFilter(t);if("string"===s&&"!"===t.charAt(0))return!deepCompare(e,t.substring(1),n,r,i);if(x(e))return e.some(function(e){return deepCompare(e,t,n,r,i)});switch(a){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&deepCompare(e[l],t,n,r,!0))return!0;return!o&&deepCompare(e,t,n,r,!1)}if("object"===s){for(l in t){var c=t[l];if(!isFunction(c)&&!isUndefined(c)){var u=l===r;if(!deepCompare(u?e:e[l],c,n,r,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function getTypeForFilter(e){return null===e?"null":typeof e}function currencyFilter(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return isUndefined(n)&&(n=t.CURRENCY_SYM),isUndefined(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:formatNumber(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function numberFilter(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:formatNumber(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function parse(e){var t,n,r,i,o,a=0;for((n=e.indexOf(Qe))>-1&&(e=e.replace(Qe,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===et;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===et;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>Ze&&(t=t.splice(0,Ze-1),a=n-1,n=1),{d:t,e:a,i:n}}function roundNumber(e,t,n,r){var i=e.d,o=i.length-e.i;t=isUndefined(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var d=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(i.unshift(d),e.i++)}function formatNumber(e,t,n,r,i){if(!isString(e)&&!isNumber(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(a)c="∞";else{o=parse(l),roundNumber(o,i,t.minFrac,t.maxFrac);var u=o.d,d=o.i,h=o.e,p=[];for(s=u.reduce(function(e,t){return e&&!t},!0);d<0;)u.unshift(0),d++;d>0?p=u.splice(d,u.length):(p=u,u=[0]);var m=[];for(u.length>=t.lgSize&&m.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)m.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&m.unshift(u.join("")),c=m.join(n),p.length&&(c+=r+p.join("")),h&&(c+="e+"+h)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function padNumber(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=et+e;return n&&(e=e.substr(e.length-t)),i+e}function dateGetter(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),padNumber(a,t,r,i)}}function dateStrGetter(e,t,n){return function(r,i){var o=r["get"+e]();return i[a((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function timeZoneGetter(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=padNumber(Math[r>0?"floor":"ceil"](r/60),2)+padNumber(Math.abs(r%60),2)}function getFirstThursdayOfYear(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function getThursdayThisWeek(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function weekGetter(e){return function(t){var n=getFirstThursdayOfYear(t.getFullYear()),r=getThursdayThisWeek(t),i=+r-+n;return padNumber(1+Math.round(i/6048e5),e)}}function ampmGetter(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function eraGetter(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function longEraGetter(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function dateFilter(e){function jsonStringToDate(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,o=0,a=n[8]?r.setUTCFullYear:r.setFullYear,s=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=toInt(n[9]+n[10]),o=toInt(n[9]+n[11])),a.call(r,toInt(n[1]),toInt(n[2])-1,toInt(n[3]));var l=toInt(n[4]||0)-i,c=toInt(n[5]||0)-o,u=toInt(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(r,l,c,u,d),r}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,n,r){var i,o,a="",s=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,isString(t)&&(t=rt.test(t)?toInt(t):jsonStringToDate(t)),isNumber(t)&&(t=new Date(t)),!isDate(t)||!isFinite(t.getTime()))return t;for(;n;)o=nt.exec(n),o?(s=concat(s,o,1),n=s.pop()):(s.push(n),n=null);var l=t.getTimezoneOffset();return r&&(l=timezoneToOffset(r,l),t=convertTimezoneToLocal(t,r,!0)),forEach(s,function(n){i=tt[n],a+=i?i(t,e.DATETIME_FORMATS,l):"''"===n?"'":n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function jsonFilter(){return function(e,t){return isUndefined(t)&&(t=2),toJson(e,t)}}function limitToFilter(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):toInt(t),w(t)?e:(isNumber(e)&&(e=e.toString()),isArrayLike(e)?(n=!n||isNaN(n)?0:toInt(n),n=n<0?Math.max(0,e.length+n):n,t>=0?sliceFn(e,n,n+t):0===n?sliceFn(e,t,e.length):sliceFn(e,Math.max(0,n+t),n)):e)}}function sliceFn(e,t,n){return isString(e)?e.slice(t,n):p.call(e,t,n)}function orderByFilter(e){function processPredicates(t){return t.map(function(t){var n=1,r=identity;if(isFunction(t))r=t;else if(isString(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function isPrimitive(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(e){return isFunction(e.valueOf)&&(e=e.valueOf(),isPrimitive(e))?e:(hasCustomToString(e)&&(e=e.toString(),isPrimitive(e)),e)}function getPredicateValue(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=objectValue(e)),{value:e,type:n,index:t}}function defaultCompare(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(isObject(o)&&(o=e.index),isObject(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(e,t,n,r){function getComparisonObject(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:i.map(function(n){return getPredicateValue(n.get(e),t)})}}function doComparison(e,t){for(var n=0,r=i.length;n<r;n++){var s=a(e.predicateValues[n],t.predicateValues[n]);if(s)return s*i[n].descending*o}return(a(e.tieBreaker,t.tieBreaker)||defaultCompare(e.tieBreaker,t.tieBreaker))*o}if(null==e)return e;if(!isArrayLike(e))throw minErr("orderBy")("notarray","Expected array but received: {0}",e);x(t)||(t=[t]),0===t.length&&(t=["+"]);var i=processPredicates(t),o=n?-1:1,a=isFunction(r)?r:defaultCompare,s=Array.prototype.map.call(e,getComparisonObject);return s.sort(doComparison),e=s.map(function(e){return e.value})}}function ngDirective(e){return isFunction(e)&&(e={link:e}),e.restrict=e.restrict||"AC",valueFn(e)}function nullFormRenameControl(e,t){e.$name=t}function FormController(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=lt,this.$$element=e,this.$$animate=r,setupValidity(this)}function setupValidity(e){e.$$classCache={},e.$$classCache[qt]=!(e.$$classCache[zt]=e.$$element.hasClass(zt))}function addSetValidityMethod(e){function createAndSet(e,t,r,i){e[t]||(e[t]={}),n(e[t],r,i)}function unsetAndCleanup(e,t,n,i){e[t]&&r(e[t],n,i),isObjectEmpty(e[t])&&(e[t]=void 0)}function cachedToggleClass(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function toggleValidationCss(e,t,n){t=t?"-"+snake_case(t,"-"):"",cachedToggleClass(e,zt+t,!0===n),cachedToggleClass(e,qt+t,!1===n)}var t=e.clazz,n=e.set,r=e.unset;t.prototype.$setValidity=function(e,t,i){isUndefined(t)?createAndSet(this,"$pending",e,i):unsetAndCleanup(this,"$pending",e,i),isBoolean(t)?t?(r(this.$error,e,i),n(this.$$success,e,i)):(n(this.$error,e,i),r(this.$$success,e,i)):(r(this.$error,e,i),r(this.$$success,e,i)),this.$pending?(cachedToggleClass(this,ct,!0),this.$valid=this.$invalid=void 0,toggleValidationCss(this,"",null)):(cachedToggleClass(this,ct,!1),this.$valid=isObjectEmpty(this.$error),this.$invalid=!this.$valid,toggleValidationCss(this,"",this.$valid));var o;o=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),toggleValidationCss(this,e,o),this.$$parentForm.$setValidity(e,o,this)}}function isObjectEmpty(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function stringBasedInputType(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function textInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r)}function baseInputType(e,t,n,i,a,s){var l=o(t[0].type);if(!a.android){var c=!1;t.on("compositionstart",function(){c=!0}),t.on("compositionend",function(){c=!1,d()})}var u,d=function(e){if(u&&(s.defer.cancel(u),u=null),!c){var r=t.val(),o=e&&e.type;"password"===l||n.ngTrim&&"false"===n.ngTrim||(r=C(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,o)}};if(a.hasEvent("input"))t.on("input",d);else{var h=function(e,t,n){u||(u=s.defer(function(){u=null,t&&t.value===n||d(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||h(e,this,this.value)}),a.hasEvent("paste")&&t.on("paste cut",h)}t.on("change",d),St[l]&&i.$$hasNativeValidators&&l===n.type&&t.on(xt,function(e){if(!u){var t=this[r],n=t.badInput,i=t.typeMismatch;u=s.defer(function(){u=null,t.badInput===n&&t.typeMismatch===i||d(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function weekParser(e,t){if(isDate(e))return e;if(isString(e)){_t.lastIndex=0;var n=_t.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,c=getFirstThursdayOfYear(r),u=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,c.getDate()+u,o,a,s,l)}}return NaN}function createDateParser(e,t){return function(n,r){var i,o;if(isDate(n))return n;if(isString(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),pt.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function createDateInputType(e,t,n,r){return function(i,o,a,s,l,c,u){function isValidDate(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function parseObservedDateValue(e){return isDefined(e)&&!isDate(e)?n(e)||void 0:e}badInputChecker(i,o,a,s),baseInputType(i,o,a,s,l,c);var d,h=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,d);return h&&(r=convertTimezoneToLocal(r,h)),r}}),s.$formatters.push(function(e){if(e&&!isDate(e))throw Wt("datefmt","Expected `{0}` to be a date",e);return isValidDate(e)?(d=e,d&&h&&(d=convertTimezoneToLocal(d,h,!0)),u("date")(e,r,h)):(d=null,"")}),isDefined(a.min)||a.ngMin){var p;s.$validators.min=function(e){return!isValidDate(e)||isUndefined(p)||n(e)>=p},a.$observe("min",function(e){p=parseObservedDateValue(e),s.$validate()})}if(isDefined(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!isValidDate(e)||isUndefined(m)||n(e)<=m},a.$observe("max",function(e){m=parseObservedDateValue(e),s.$validate()})}}}function badInputChecker(e,t,n,i){var o=t[0];(i.$$hasNativeValidators=isObject(o.validity))&&i.$parsers.push(function(e){var n=t.prop(r)||{};return n.badInput||n.typeMismatch?void 0:e})}function numberFormatterParser(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:gt.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!isNumber(t))throw Wt("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function parseNumberAttrVal(e){return isDefined(e)&&!isNumber(e)&&(e=parseFloat(e)),w(e)?void 0:e}function isNumberInteger(e){return(0|e)===e}function countDecimals(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function isValidForStep(e,t,n){var r=Number(e),i=!isNumberInteger(r),o=!isNumberInteger(t),a=!isNumberInteger(n);if(i||o||a){var s=i?countDecimals(r):0,l=o?countDecimals(t):0,c=a?countDecimals(n):0,u=Math.max(s,l,c),d=Math.pow(10,u);r*=d,t*=d,n*=d,i&&(r=Math.round(r)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(r-t)%n==0}function numberInputType(e,t,n,r,i,o){badInputChecker(e,t,n,r),numberFormatterParser(r),baseInputType(e,t,n,r,i,o);var a,s;if((isDefined(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||isUndefined(a)||e>=a},n.$observe("min",function(e){a=parseNumberAttrVal(e),r.$validate()})),(isDefined(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||isUndefined(s)||e<=s},n.$observe("max",function(e){s=parseNumberAttrVal(e),r.$validate()})),isDefined(n.step)||n.ngStep){var l;r.$validators.step=function(e,t){return r.$isEmpty(t)||isUndefined(l)||isValidForStep(t,a||0,l)},n.$observe("step",function(e){l=parseNumberAttrVal(e),r.$validate()})}}function rangeInputType(e,t,n,r,i,o){function setInitialValueAndObserver(e,r){t.attr(e,n[e]),n.$observe(e,r)}function minChange(e){if(s=parseNumberAttrVal(e),!w(r.$modelValue))if(a){var n=t.val();s>n&&(n=s,t.val(n)),r.$setViewValue(n)}else r.$validate()}function maxChange(e){if(l=parseNumberAttrVal(e),!w(r.$modelValue))if(a){var n=t.val();l<n&&(t.val(l),n=l<s?s:l),r.$setViewValue(n)}else r.$validate()}function stepChange(e){c=parseNumberAttrVal(e),w(r.$modelValue)||(a&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}badInputChecker(e,t,n,r),numberFormatterParser(r),baseInputType(e,t,n,r,i,o);var a=r.$$hasNativeValidators&&"range"===t[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=t[0].validity,d=isDefined(n.min),h=isDefined(n.max),p=isDefined(n.step),m=r.$render;r.$render=a&&isDefined(u.rangeUnderflow)&&isDefined(u.rangeOverflow)?function(){m(),r.$setViewValue(t.val())}:m,d&&(r.$validators.min=a?function(){return!0}:function(e,t){return r.$isEmpty(t)||isUndefined(s)||t>=s},setInitialValueAndObserver("min",minChange)),h&&(r.$validators.max=a?function(){return!0}:function(e,t){return r.$isEmpty(t)||isUndefined(l)||t<=l},setInitialValueAndObserver("max",maxChange)),p&&(r.$validators.step=a?function(){return!u.stepMismatch}:function(e,t){return r.$isEmpty(t)||isUndefined(c)||isValidForStep(t,s||0,c)},setInitialValueAndObserver("step",stepChange))}function urlInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||mt.test(n)}}function emailInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||ft.test(n)}}function radioInputType(e,t,n,r){var i=!n.ngTrim||"false"!==C(n.ngTrim);isUndefined(n.name)&&t.attr("name",nextUid());var o=function(e){var o;t[0].checked&&(o=n.value,i&&(o=C(o)),r.$setViewValue(o,e&&e.type))};t.on("click",o),r.$render=function(){var e=n.value;i&&(e=C(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)}function parseConstantExpr(e,t,n,r,i){var o;if(isDefined(r)){if(o=e(r),!o.constant)throw Wt("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function checkboxInputType(e,t,n,r,i,o,a,s){var l=parseConstantExpr(s,e,"ngTrueValue",n.ngTrueValue,!0),c=parseConstantExpr(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return equals(e,l)}),r.$parsers.push(function(e){return e?l:c})}function classDirective(e,t){function arrayDifference(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function split(e){return e&&e.split(" ")}function toClassString(e){var t=e;return x(e)?t=e.map(toClassString).join(" "):isObject(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function toFlatValue(e){var t=e;if(x(e))t=e.map(toFlatValue);else if(isObject(e)){var n=!1;t=Object.keys(e).filter(function(t){var r=e[t];return!n&&isUndefined(r)&&(n=!0),r}),n&&t.push(void 0)}return t}e="ngClass"+e;var n;return["$parse",function(r){return{restrict:"AC",link:function(i,o,a){function addClasses(e){e=digestClassCounts(split(e),1),a.$addClass(e)}function removeClasses(e){e=digestClassCounts(split(e),-1),a.$removeClass(e)}function updateClasses(e,t){var n=split(e),r=split(t),i=arrayDifference(n,r),o=arrayDifference(r,n),s=digestClassCounts(i,-1),l=digestClassCounts(o,1);a.$addClass(l),a.$removeClass(s)}function digestClassCounts(e,t){var n=[];return forEach(e,function(e){(t>0||p[e])&&(p[e]=(p[e]||0)+t,p[e]===+(t>0)&&n.push(e))}),n.join(" ")}function ngClassIndexWatchAction(e){e===t?addClasses(s):removeClasses(s),m=e}function ngClassOneTimeWatchAction(e){var t=toClassString(e);t!==s&&ngClassWatchAction(t)}function ngClassWatchAction(e){m===t&&updateClasses(s,e),s=e}var s,l=a[e].trim(),c=":"===l.charAt(0)&&":"===l.charAt(1),u=c?toFlatValue:toClassString,d=r(l,u),h=c?ngClassOneTimeWatchAction:ngClassWatchAction,p=o.data("$classCounts"),m=!0;p||(p=createMap(),o.data("$classCounts",p)),"ngClass"!==e&&(n||(n=r("$index",function(e){return 1&e})),i.$watch(n,ngClassIndexWatchAction)),i.$watch(d,h,c)}}}]}function NgModelController(e,t,n,r,i,o,a,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=lt,this.$options=Kt,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,setupValidity(this),setupModelWatcher(this)}function setupModelWatcher(e){e.$$scope.$watch(function(t){var n=e.$$ngModelGet(t);if(n!==e.$modelValue&&(e.$modelValue===e.$modelValue||n===n)){e.$modelValue=e.$$rawModelValue=n,e.$$parserValid=void 0;for(var r=e.$formatters,i=r.length,o=n;i--;)o=r[i](o);e.$viewValue!==o&&(e.$$updateEmptyClasses(o),e.$viewValue=e.$$lastCommittedViewValue=o,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,noop))}return n})}function ModelOptions(e){this.$$options=e}function defaults(e,t){forEach(t,function(t,n){isDefined(e[n])||(e[n]=t)})}function setOptionSelectedStatus(e,t){e.prop("selected",t),e.attr("selected",t)}var t={objectMaxDepth:5},n=/^\/(.+)\/([a-z]*)$/,r="validity",i=Object.prototype.hasOwnProperty,o=function(e){return isString(e)?e.toLowerCase():e},a=function(e){return isString(e)?e.toUpperCase():e},s=function(e){return isString(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},l=function(e){return isString(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(o=s,a=l);var c,u,d,h,p=[].slice,m=[].splice,f=[].push,g=Object.prototype.toString,v=Object.getPrototypeOf,y=minErr("ng"),_=e.angular||(e.angular={}),b=0;c=e.document.documentMode;var w=Number.isNaN||function(e){return e!==e};noop.$inject=[],identity.$inject=[];var x=Array.isArray,S=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,C=function(e){return isString(e)?e.trim():e},E=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},T=function(){if(!isDefined(T.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");T.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else T.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return T.rules},M=function(){if(isDefined(M.name_))return M.name_;var t,n,r,i,o=A.length;for(n=0;n<o;++n)if(r=A[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return M.name_=i},k=/:/g,A=["ng-","data-ng-","ng:","x-ng-"],D=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document),$=/[A-Z]/g,P=!1,L=1,R=3,O=8,I=9,F=11,N={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};JQLite.expando="ng339";var H=JQLite.cache={},j=1;JQLite._data=function(e){return this.cache[e[this.expando]]||{}};var B=/-([a-z])/g,V=/^-ms-/,Y={mouseleave:"mouseout",mouseenter:"mouseover"},z=minErr("jqLite"),q=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,U=/<|&#?\w+;/,G=/<([\w:-]+)/,W=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,K={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};K.optgroup=K.option,K.tbody=K.tfoot=K.colgroup=K.caption=K.thead,K.th=K.td;var X=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},J=JQLite.prototype={ready:jqLiteReady,toString:function(){var e=[];return forEach(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return u(e>=0?this[e]:this[this.length+e])},length:0,push:f,sort:[].sort,splice:[].splice},Z={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Z[o(e)]=e});var Q={};forEach("input,select,option,textarea,button,form,details".split(","),function(e){Q[e]=!0});var ee={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:function(e){for(var t=0,n=e.length;t<n;t++)jqLiteRemoveData(e[t])}},function(e,t){JQLite[t]=e}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(e){return u.data(e,"$scope")||jqLiteInheritedData(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return u.data(e,"$isolateScope")||u.data(e,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(e){return jqLiteInheritedData(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:jqLiteHasClass,css:function(e,t,n){if(t=cssKebabToCamel(t),!isDefined(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==R&&2!==i&&i!==O&&e.getAttribute){var a=o(t),s=Z[a];if(!isDefined(n))return r=e.getAttribute(t),s&&null!==r&&(r=a),null===r?void 0:r;null===n||!1===n&&s?e.removeAttribute(t):e.setAttribute(t,s?a:n)}},prop:function(e,t,n){if(!isDefined(n))return e[t];e[t]=n},text:function(){function getText(e,t){if(isUndefined(t)){var n=e.nodeType;return n===L||n===R?e.textContent:""}e.textContent=t}return getText.$dv="",getText}(),val:function(e,t){if(isUndefined(t)){if(e.multiple&&"select"===nodeName_(e)){var n=[];return forEach(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(isUndefined(t))return e.innerHTML;jqLiteDealoc(e,!0),e.innerHTML=t},empty:jqLiteEmpty},function(e,t){JQLite.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==jqLiteEmpty&&isUndefined(2===e.length&&e!==jqLiteHasClass&&e!==jqLiteController?t:n)){if(isObject(t)){for(r=0;r<o;r++)if(e===jqLiteData)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=isUndefined(a)?Math.min(o,1):o,l=0;l<s;l++){var c=e(this[l],t,n);a=a?a+c:c}return a}for(r=0;r<o;r++)e(this[r],t,n);return this}}),forEach({removeData:jqLiteRemoveData,on:function(e,t,n,r){if(isDefined(r))throw z("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(e)){var i=jqLiteExpandoStore(e,!0),o=i.events,a=i.handle;a||(a=i.handle=createEventHandler(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||e.addEventListener(t,a)),s.push(n)};l--;)t=s[l],Y[t]?(c(Y[t],specialMouseHandlerWrapper),c(t,void 0,!0)):c(t)}},off:jqLiteOff,one:function(e,t,n){e=u(e),e.on(t,function onFn(){e.off(t,n),e.off(t,onFn)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;jqLiteDealoc(e),forEach(new JQLite(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return forEach(e.childNodes,function(e){e.nodeType===L&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===L||n===F){t=new JQLite(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===L){var n=e.firstChild;forEach(new JQLite(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){jqLiteWrapNode(e,u(t).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(e){jqLiteRemove(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new JQLite(t);for(var i=0,o=t.length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(e,t,n){t&&forEach(t.split(" "),function(t){var r=n;isUndefined(r)&&(r=!jqLiteHasClass(e,t)),(r?jqLiteAddClass:jqLiteRemoveClass)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==F?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:jqLiteClone,triggerHandler:function(e,t,n){var r,i,o,a=t.type||t,s=jqLiteExpandoStore(e),l=s&&s.events,c=l&&l[a];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:noop,type:a,target:e},t.type&&(r=extend(r,t)),i=shallowCopy(c),o=n?[r].concat(n):[r],forEach(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){JQLite.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)isUndefined(i)?(i=e(this[o],t,n,r),isDefined(i)&&(i=u(i))):jqLiteAddNodes(i,e(this[o],t,n,r));return isDefined(i)?i:this}}),JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off;var te=Object.create(null);NgMapShim.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return w(e)?te:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var ne=NgMapShim,re=[function(){this.$get=[function(){return ne}]}],ie=/^([^(]+?)=>/,oe=/^[^(]*\(\s*([^)]*)\)/m,ae=/,/,se=/^\s*(_?)(\S+?)\1\s*$/,le=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ce=minErr("$injector");createInjector.$$annotate=annotate;var ue=minErr("$animate"),de=1,he=function(){this.$get=noop},pe=function(){var e=new ne,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function updateData(e,t,n){var r=!1;return t&&(t=isString(t)?t.split(" "):x(t)?t:[],forEach(t,function(t){t&&(r=!0,e[t]=n)})),r}function handleCSSClassChanges(){forEach(t,function(t){var n=e.get(t);if(n){var r=splitClasses(t.attr("class")),i="",o="";forEach(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),forEach(t,function(e){i&&jqLiteAddClass(e,i),o&&jqLiteRemoveClass(e,o)}),e.delete(t)}}),t.length=0}function addRemoveClassesPostDigest(n,i,o){var a=e.get(n)||{},s=updateData(a,i,!0),l=updateData(a,o,!1);(s||l)&&(e.set(n,a),t.push(n),1===t.length&&r.$$postDigest(handleCSSClassChanges))}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&addRemoveClassesPostDigest(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},me=["$provide",function(e){var t=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw ue("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.customFilter=function(e){return 1===arguments.length&&(r=isFunction(e)?e:null),r},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,ue("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(e){function domInsert(e,t,n){if(n){var r=extractElementNode(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(t,n,r,i){return n=n&&u(n),r=r&&u(r),n=n||r.parent(),domInsert(t,n,r),e.push(t,"enter",prepareAnimateOptions(i))},move:function(t,n,r,i){return n=n&&u(n),r=r&&u(r),n=n||r.parent(),domInsert(t,n,r),e.push(t,"move",prepareAnimateOptions(i))},leave:function(t,n){return e.push(t,"leave",prepareAnimateOptions(n),function(){t.remove()})},addClass:function(t,n,r){return r=prepareAnimateOptions(r),r.addClass=mergeClasses(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=prepareAnimateOptions(r),r.removeClass=mergeClasses(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=prepareAnimateOptions(i),i.addClass=mergeClasses(i.addClass,n),i.removeClass=mergeClasses(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=prepareAnimateOptions(o),o.from=o.from?extend(o.from,n):n,o.to=o.to?extend(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=mergeClasses(o.tempClasses,i),e.push(t,"animate",o)}}}]}],fe=function(){this.$get=["$$rAF",function(e){function waitForTick(n){t.push(n),t.length>1||e(function(){for(var e=0;e<t.length;e++)t[e]();t=[]})}var t=[];return function(){var e=!1;return waitForTick(function(){e=!0}),function(t){e?t():waitForTick(t)}}}]},ge=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function AnimateRunner(e){this.setHost(e);var t=n(),o=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){r()?o(e):t(e)},this._state=0}return AnimateRunner.chain=function(e,t){function next(){if(n===e.length)return void t(!0);e[n](function(e){if(!1===e)return void t(!1);n++,next()})}var n=0;next()},AnimateRunner.all=function(e,t){function onProgress(i){r=r&&i,++n===e.length&&t(r)}var n=0,r=!0;forEach(e,function(e){e.done(onProgress)})},AnimateRunner.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(forEach(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},AnimateRunner}]},ve=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function run(){return e(function(){applyAnimationContents(),o||a.complete(),o=!0}),a}function applyAnimationContents(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null)}var i=r||{};i.$$prepared||(i=copy(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,a=new n;return{start:run,end:run}}}]},ye=minErr("$compile"),_e=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"],SimpleChange.prototype.isFirstChange=function(){return this.previousValue===_e};var be=/^((?:x|data)[:\-_])/i,we=/[:\-_]+(.)/g,xe=minErr("$controller"),Se=/^(\S+)(\s+as\s+([\w$]+))?$/,Ce=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof u&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Ee="application/json",Te={"Content-Type":Ee+";charset=utf-8"},Me=/^\[|^\{(?!\{)/,ke={"[":/]$/,"{":/}$/},Ae=/^\)]\}',?\n/,De=minErr("$http"),$e=_.$interpolateMinErr=minErr("$interpolate");$e.throwNoconcat=function(e){throw $e("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},$e.interr=function(e,t){return $e("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Pe=function(){this.$get=function(){function createCallback(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var e=_.callbacks,t={};return{createCallback:function(n){var r="_"+(e.$$counter++).toString(36),i="angular.callbacks."+r,o=createCallback(r);return t[i]=e[r]=o,i},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var r=t[n];delete e[r.id],delete t[n]}}}},Le=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Re={http:80,https:443,ftp:21},Oe=minErr("$location"),Ie=/^\s*[\\\/]{2,}/,Fe={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(e){if(isUndefined(e))return this.$$url;var t=Le.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(e)||isNumber(e))e=e.toString(),this.$$search=parseKeyValue(e);else{if(!isObject(e))throw Oe("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=copy(e,{}),forEach(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:isUndefined(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(e){e.prototype=Object.create(Fe),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==LocationHtml5Url||!this.$$html5)throw Oe("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Ne=minErr("$parse"),He={}.constructor.prototype.valueOf,je=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){je[e]=!0});var Be={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ve=function(e){this.options=e};Ve.prototype={constructor:Ve,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=je[t],o=je[n],a=je[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=isDefined(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Ne("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=o(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Be[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Ye=function(e,t){this.lexer=e,this.options=t};Ye.Program="Program",Ye.ExpressionStatement="ExpressionStatement",Ye.AssignmentExpression="AssignmentExpression",Ye.ConditionalExpression="ConditionalExpression",Ye.LogicalExpression="LogicalExpression",Ye.BinaryExpression="BinaryExpression",Ye.UnaryExpression="UnaryExpression",Ye.CallExpression="CallExpression",Ye.MemberExpression="MemberExpression",Ye.Identifier="Identifier",Ye.Literal="Literal",Ye.ArrayExpression="ArrayExpression",Ye.Property="Property",Ye.ObjectExpression="ObjectExpression",Ye.ThisExpression="ThisExpression",Ye.LocalsExpression="LocalsExpression",Ye.NGValueParameter="NGValueParameter",Ye.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Ye.Program,body:e}},expressionStatement:function(){return{type:Ye.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!isAssignable(e))throw Ne("lval","Trying to assign a value to a non l-value");e={type:Ye.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Ye.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Ye.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Ye.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Ye.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=copy(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Ye.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Ye.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Ye.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Ye.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Ye.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Ye.Identifier,name:e.text}},constant:function(){return{type:Ye.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ye.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Ye.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ye.ObjectExpression,properties:t}},throwError:function(e,t){throw Ne("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Ne("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Ne("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Ye.ThisExpression},$locals:{type:Ye.LocalsExpression}}};var ze=1,qe=2;ASTCompiler.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(e,t.$filter);var n,r="";if(this.stage="assign",n=assignableAST(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var o=getInputs(e.body);t.stage="inputs",forEach(o,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:r,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,getStringValue,ifDefined,plusFn);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return forEach(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return forEach(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var a,s,l,c,u,d=this;if(r=r||noop,!o&&isDefined(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case Ye.Program:forEach(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){s=e}),n!==e.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case Ye.Literal:c=this.escape(e.value),this.assign(t,c),r(t||c);break;case Ye.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){s=e}),c=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),r(c);break;case Ye.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){a=e}),this.recurse(e.right,void 0,void 0,function(e){s=e}),c="+"===e.operator?this.plus(a,s):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):"("+a+")"+e.operator+"("+s+")",this.assign(t,c),r(c);break;case Ye.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),r(t);break;case Ye.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),r(t);break;case Ye.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){i&&1!==i&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),r(t);break;case Ye.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,a,void 0,function(){d.if_(d.notNull(a),function(){e.computed?(s=d.nextId(),d.recurse(e.property,s),d.getStringValue(s),i&&1!==i&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),c=d.computedMember(a,s),d.assign(t,c),n&&(n.computed=!0,n.name=s)):(i&&1!==i&&d.if_(d.isNull(d.nonComputedMember(a,e.property.name)),d.lazyAssign(d.nonComputedMember(a,e.property.name),"{}")),c=d.nonComputedMember(a,e.property.name),d.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),r(t)},!!i);break;case Ye.CallExpression:t=t||this.nextId(),e.filter?(s=d.filter(e.callee.name),l=[],forEach(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",d.assign(t,c),r(t)):(s=d.nextId(),a={},l=[],d.recurse(e.callee,s,a,function(){d.if_(d.notNull(s),function(){forEach(e.arguments,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),r(t)}));break;case Ye.AssignmentExpression:s=this.nextId(),a={},this.recurse(e.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(e.right,s),c=d.member(a.context,a.name,a.computed)+e.operator+s,d.assign(t,c),r(t||c)})},1);break;case Ye.ArrayExpression:l=[],forEach(e.elements,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),r(t||c);break;case Ye.ObjectExpression:l=[],u=!1,forEach(e.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),forEach(e.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===Ye.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):(forEach(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===Ye.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),r(t||c);break;case Ye.ThisExpression:this.assign(t,"s"),r(t||"s");break;case Ye.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case Ye.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(isString(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Ne("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(e){var t=this;findConstantAndWatchExpressions(e,t.$filter);var n,r;(n=assignableAST(e))&&(r=this.recurse(n));var i,o=getInputs(e.body);o&&(i=[],forEach(o,function(e,n){var r=t.recurse(e);r.isPure=e.isPure,e.input=r,i.push(r),e.watchId=n}));var a=[];forEach(e.body,function(e){a.push(t.recurse(e.expression))});var s=0===e.body.length?noop:1===e.body.length?a[0]:function(e,t){var n;return forEach(a,function(r){n=r(e,t)}),n};return r&&(s.assign=function(e,t,n){return r(e,n,t)}),i&&(s.inputs=i),s},recurse:function(e,t,n){var r,i,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Ye.Literal:return this.value(e.value,t);case Ye.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case Ye.BinaryExpression:case Ye.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case Ye.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Ye.Identifier:return a.identifier(e.name,t,n);case Ye.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case Ye.CallExpression:return o=[],forEach(e.arguments,function(e){o.push(a.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,r,a));var c=i.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,r,a){var s,l=i(e,n,r,a);if(null!=l.value){for(var c=[],u=0;u<o.length;++u)c.push(o[u](e,n,r,a));s=l.value.apply(l.context,c)}return t?{value:s}:s};case Ye.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var s=r(e,n,o,a),l=i(e,n,o,a);return s.context[s.name]=l,t?{value:l}:l};case Ye.ArrayExpression:return o=[],forEach(e.elements,function(e){o.push(a.recurse(e))}),function(e,n,r,i){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,r,i));return t?{value:a}:a};case Ye.ObjectExpression:return o=[],forEach(e.properties,function(e){e.computed?o.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):o.push({key:e.key.type===Ye.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})}),function(e,n,r,i){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,r,i)]=o[s].value(e,n,r,i):a[o[s].key]=o[s].value(e,n,r,i);return t?{value:a}:a};case Ye.ThisExpression:return function(e){return t?{value:e}:e};case Ye.LocalsExpression:return function(e,n){return t?{value:n}:n};case Ye.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=isDefined(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=isDefined(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),c=plusFn(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),c=(isDefined(s)?s:0)-(isDefined(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,a){var s=i&&e in i?i:r;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,r){return function(i,o,a,s){var l,c,u=e(i,o,a,s);return null!=u&&(l=t(i,o,a,s),l=getStringValue(l),r&&1!==r&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s);r&&1!==r&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},Parser.prototype={constructor:Parser,parse:function(e){var t=this.ast.ast(e),n=this.astCompiler.compile(t);return n.literal=isLiteral(t),n.constant=isConstant(t),n}};var Ue=minErr("$sce"),Ge={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},We=/_([a-z])/g,Ke=minErr("$compile"),Xe=e.document.createElement("a"),Je=urlResolve(e.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"];var Ze=22,Qe=".",et="0";currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var tt={yyyy:dateGetter("FullYear",4,0,!1,!0),yy:dateGetter("FullYear",2,0,!0,!0),y:dateGetter("FullYear",1,0,!1,!0),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",!1,!0),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},nt=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,rt=/^-?\d+$/;dateFilter.$inject=["$locale"];var it=valueFn(o),ot=valueFn(a);orderByFilter.$inject=["$parse"];var at=valueFn({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===g.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),st={};forEach(Z,function(e,t){function defaultLinkFn(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}if("multiple"!==e){var n=directiveNormalize("ng-"+t),r=defaultLinkFn;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&defaultLinkFn(e,t,r)}),st[n]=function(){return{restrict:"A",priority:100,link:r}}}}),forEach(ee,function(e,t){st[t]=function(){return{priority:100,link:function(e,r,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var o=i.ngPattern.match(n);if(o)return void i.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),forEach(["src","srcset","href"],function(e){var t=directiveNormalize("ng-"+e);st[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===g.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){if(!t)return void("href"===e&&i.$set(a,null));i.$set(a,t),c&&o&&r.prop(o,i[a])})}}}});var lt={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},ct="ng-pending";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"],FormController.prototype={$rollbackViewValue:function(){forEach(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){forEach(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){assertNotHasOwnProperty(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],forEach(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),forEach(this.$error,function(t,n){this.$setValidity(n,null,e)},this),forEach(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),arrayRemove(this.$$controls,e),e.$$parentForm=lt},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ut),this.$$animate.addClass(this.$$element,Gt),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ut,Gt+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,forEach(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){forEach(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},addSetValidityMethod({clazz:FormController,set:function(e,t,n){var r=e[t];if(r){-1===r.indexOf(n)&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(arrayRemove(r,n),0===r.length&&delete e[t])}});var ut=function(e){return["$timeout","$parse",function(t,n){function getSetter(e){return""===e?n('this[""]').assign:n(e).assign||noop}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function(n,r){n.addClass(Ut).addClass(zt);var i=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,o){var a=o[0];if(!("action"in r)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",s),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",s)},0,!1)})}(o[1]||a.$$parentForm).$addControl(a);var l=i?getSetter(a.$name):noop;i&&(l(e,a),r.$observe(i,function(t){a.$name!==t&&(l(e,void 0),a.$$parentForm.$$renameControl(a,t),(l=getSetter(a.$name))(e,a))})),n.on("$destroy",function(){a.$$parentForm.$removeControl(a),l(e,void 0),extend(a,lt)})}}}}}]},dt=ut(),ht=ut(!0),pt=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,mt=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ft=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,gt=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,vt=/^(\d{4,})-(\d{2})-(\d{2})$/,yt=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_t=/^(\d{4,})-W(\d\d)$/,bt=/^(\d{4,})-(\d\d)$/,wt=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,xt="keydown wheel mousedown",St=createMap();forEach("date,datetime-local,month,time,week".split(","),function(e){St[e]=!0});var Ct={text:textInputType,date:createDateInputType("date",vt,createDateParser(vt,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",yt,createDateParser(yt,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",wt,createDateParser(wt,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",_t,weekParser,"yyyy-Www"),month:createDateInputType("month",bt,createDateParser(bt,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,range:rangeInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},Et=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,s,l){l[0]&&(Ct[o(s.type)]||Ct.text)(i,a,s,l[0],t,e,n,r)}}}}],Tt=/^(true|false|\d+)$/,Mt=function(){function updateElementValue(e,t,n){var r=isDefined(n)?n:9===c?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return Tt.test(t.ngValue)?function(e,t,n){updateElementValue(t,n,e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){updateElementValue(t,n,e)})}}}},kt=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=stringify(e)})}}}}],At=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=isUndefined(e)?"":e})}}}}],Dt=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],$t=valueFn({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Pt=classDirective("",!0),Lt=classDirective("Odd",0),Rt=classDirective("Even",1),Ot=ngDirective({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),It=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ft={},Nt={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=directiveNormalize("ng-"+e);Ft[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};Nt[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Ht=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,c;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=getBlockNodes(s.clone),e.leave(c).done(function(e){!1!==e&&(c=null)}),s=null))})}}}],jt=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,c,u){var d,h,p,m=0,f=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).done(function(e){!1!==e&&(h=null)}),h=p,p=null)};r.$watch(o,function(o){var l=function(e){!1===e||!isDefined(s)||s&&!r.$eval(s)||t()},h=++m;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&h===m){var t=r.$new();c.template=e;var s=u(t,function(e){f(),n.enter(e,null,i).done(l)});d=t,p=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===m&&(f(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(f(),c.template=null)})}}}}],Bt=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(g.call(r[0]).match(/SVG/))return r.empty(),void t(jqLiteBuildFragment(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r});r.html(o.template),t(r.contents())(n)}}}],Vt=ngDirective({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Yt=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,a=o?C(i):i,s=function(e){if(!isUndefined(e)){var t=[];return e&&forEach(e.split(a),function(e){e&&t.push(o?C(e):e)}),t}};r.$parsers.push(s),r.$formatters.push(function(e){if(x(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}},zt="ng-valid",qt="ng-invalid",Ut="ng-pristine",Gt="ng-dirty",Wt=minErr("ngModel");NgModelController.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],NgModelController.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return isFunction(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){isFunction(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Wt("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,startingTag(this.$$element))},$render:noop,$isEmpty:function(e){return isUndefined(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Gt),this.$$animate.addClass(this.$$element,Ut)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ut),this.$$animate.addClass(this.$$element,Gt),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!w(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function setValidity(e,t){r===i.$$currentValidationRunId&&i.$setValidity(e,t)}function validationDone(e){r===i.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var r=this.$$currentValidationRunId,i=this;return function(){var e=i.$$parserName||"parse";return isUndefined(i.$$parserValid)?(setValidity(e,null),!0):(i.$$parserValid||(forEach(i.$validators,function(e,t){setValidity(t,null)}),forEach(i.$asyncValidators,function(e,t){setValidity(t,null)})),setValidity(e,i.$$parserValid),i.$$parserValid)}()&&function(){var n=!0;return forEach(i.$validators,function(r,i){var o=Boolean(r(e,t));n=n&&o,setValidity(i,o)}),!!n||(forEach(i.$asyncValidators,function(e,t){setValidity(t,null)}),!1)}()?void function(){var n=[],r=!0;forEach(i.$asyncValidators,function(i,o){var a=i(e,t);if(!isPromiseLike(a))throw Wt("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);setValidity(o,void 0),n.push(a.then(function(){setValidity(o,!0)},function(){r=!1,setValidity(o,!1)}))}),n.length?i.$$q.all(n).then(function(){validationDone(r)},noop):validationDone(!0)}():void validationDone(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function writeToModelIfNeeded(){n.$modelValue!==i&&n.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,t=e,n=this;if(this.$$parserValid=!isUndefined(t)||void 0,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(t=this.$parsers[r](t),isUndefined(t)){this.$$parserValid=!1;break}w(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,o=this.$options.getOption("allowInvalid");this.$$rawModelValue=t,o&&(this.$modelValue=t,writeToModelIfNeeded()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){o||(n.$modelValue=e?t:void 0,writeToModelIfNeeded())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),forEach(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");isNumber(t[e])?t=t[e]:isNumber(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},addSetValidityMethod({clazz:NgModelController,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Kt,Xt=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(t){return t.addClass(Ut).addClass("ng-untouched").addClass(zt),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){function setTouched(){o.$setTouched()}var o=i[0];o.$options.getOption("updateOn")&&n.on(o.$options.getOption("updateOn"),function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(setTouched):t.$apply(setTouched))})}}}}}],Jt=/(\s+|^)default(\s+|$)/;ModelOptions.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=extend({},e),forEach(e,function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=C(n.replace(Jt,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],defaults(e,this.$$options)),defaults(e,Kt.$$options),new ModelOptions(e)}},Kt=new ModelOptions({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Zt=function(){function NgModelOptionsController(e,t){this.$$attrs=e,this.$$scope=t}return NgModelOptionsController.$inject=["$attrs","$scope"],NgModelOptionsController.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Kt,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:NgModelOptionsController}},Qt=ngDirective({terminal:!0,priority:1e3}),en=minErr("ngOptions"),tn=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,nn=["$compile","$document","$parse",function(t,n,r){function parseOptionsExpression(e,t,n){function Option(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function getOptionValuesKeys(e){var t;if(!a&&isArrayLike(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var i=e.match(tn);if(!i)throw en("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,startingTag(t));var o=i[5]||i[7],a=i[6],s=/ as /.test(i[0])&&i[1],l=i[9],c=r(i[2]?i[1]:o),u=s&&r(s),d=u||c,h=l&&r(l),p=l?function(e,t){return h(n,t)}:function(e){return hashKey(e)},m=function(e,t){return p(e,b(e,t))},f=r(i[2]||i[1]),g=r(i[3]||""),v=r(i[4]||""),y=r(i[8]),_={},b=a?function(e,t){return _[a]=t,_[o]=e,_}:function(e){return _[o]=e,_};return{trackBy:l,getTrackByValue:m,getWatchables:r(y,function(e){var t=[];e=e||[];for(var r=getOptionValuesKeys(e),o=r.length,a=0;a<o;a++){var s=e===r?a:r[a],l=e[s],c=b(l,s),u=p(l,c);if(t.push(u),i[2]||i[1]){var d=f(n,c);t.push(d)}if(i[4]){var h=v(n,c);t.push(h)}}return t}),getOptions:function(){for(var e=[],t={},r=y(n)||[],i=getOptionValuesKeys(r),o=i.length,a=0;a<o;a++){var s=r===i?a:i[a],c=r[s],u=b(c,s),h=d(n,u),_=p(h,u),w=f(n,u),x=g(n,u),S=v(n,u),C=new Option(_,h,w,x,S);e.push(C),t[_]=C}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[m(e)]},getViewValueFromOption:function(e){return l?copy(e.viewValue):e.viewValue}}}}}function ngOptionsPostLink(e,r,a,s){function addOptionElement(e,t){var n=i.cloneNode(!1);t.appendChild(n),updateOptionElement(e,n)}function getAndUpdateSelectedOption(e){var t=g.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function updateOptionElement(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function updateOptions(){var e=g&&l.readValue();if(g)for(var t=g.items.length-1;t>=0;t--){var n=g.items[t];jqLiteRemove(isDefined(n.group)?n.element.parentNode:n.element)}g=v.getOptions();var i={};if(g.items.forEach(function(e){var t;isDefined(e.group)?(t=i[e.group],t||(t=o.cloneNode(!1),y.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),addOptionElement(e,t)):addOptionElement(e,y)}),r[0].appendChild(y),c.$render(),!c.$isEmpty(e)){var a=l.readValue();(v.trackBy||d?equals(e,a):e===a)||(c.$setViewValue(a),c.$render())}}for(var l=s[0],c=s[1],d=a.multiple,h=0,p=r.children(),m=p.length;h<m;h++)if(""===p[h].value){l.hasEmptyOption=!0,l.emptyOption=p.eq(h);break}r.empty();var f=!!l.emptyOption;u(i.cloneNode(!1)).val("?");var g,v=parseOptionsExpression(a.ngOptions,r,e),y=n[0].createDocumentFragment();l.generateUnknownOptionValue=function(e){return"?"},d?(l.writeValue=function(e){if(g){var t=e&&e.map(getAndUpdateSelectedOption)||[];g.items.forEach(function(e){e.element.selected&&!includes(t,e)&&(e.element.selected=!1)})}},l.readValue=function(){var e=r.val()||[],t=[];return forEach(e,function(e){var n=g.selectValueMap[e];n&&!n.disabled&&t.push(g.getViewValueFromOption(n))}),t},v.trackBy&&e.$watchCollection(function(){if(x(c.$viewValue))return c.$viewValue.map(function(e){return v.getTrackByValue(e)})},function(){c.$render()})):(l.writeValue=function(e){if(g){var t=r[0].options[r[0].selectedIndex],n=g.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(l.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):l.selectUnknownOrEmptyOption(e)}},l.readValue=function(){var e=g.selectValueMap[r.val()];return e&&!e.disabled?(l.unselectEmptyOption(),l.removeUnknownOption(),g.getViewValueFromOption(e)):null},v.trackBy&&e.$watch(function(){return v.getTrackByValue(c.$viewValue)},function(){c.$render()})),f&&(t(l.emptyOption)(e),r.prepend(l.emptyOption),l.emptyOption[0].nodeType===O?(l.hasEmptyOption=!1,l.registerOption=function(e,t){""===t.val()&&(l.hasEmptyOption=!0,l.emptyOption=t,l.emptyOption.removeClass("ng-scope"),c.$render(),t.on("$destroy",function(){var e=l.$isEmptyOptionSelected();l.hasEmptyOption=!1,l.emptyOption=void 0,e&&c.$render()}))}):l.emptyOption.removeClass("ng-scope")),e.$watchCollection(v.getWatchables,updateOptions)}var i=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=noop},post:ngOptionsPostLink}}}],rn=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function updateElementText(e){s.text(e||"")}var c,u=l.count,d=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,p=a.$eval(d)||{},m={},f=t.startSymbol(),g=t.endSymbol(),v=f+u+"-"+h+g,y=_.noop;forEach(l,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+o(n[2]);p[r]=s.attr(l.$attr[t])}}),forEach(p,function(e,n){m[n]=t(e.replace(r,v))}),a.$watch(u,function(t){var r=parseFloat(t),i=w(r);if(i||r in p||(r=e.pluralCat(r-h)),!(r===c||i&&w(c))){y();var o=m[r];isUndefined(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),y=noop,updateElementText()):y=a.$watch(o,updateElementText),c=r}})}}}],on=["$parse","$animate","$compile",function(e,t,n){var r=minErr("ngRepeat"),o=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},a=function(e){return e.clone[0]},s=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(l,c){var u=c.ngRepeat,d=n.$$createComment("end ngRepeat",u),h=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",u);var p=h[1],m=h[2],f=h[3],g=h[4];if(!(h=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw r("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var v=h[3]||h[1],y=h[2];if(f&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(f)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(f)))throw r("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",f);var _,b,w,x,S={$id:hashKey};return g?_=e(g):(w=function(e,t){return hashKey(t)},x=function(e){return e}),function(e,n,l,c,h){_&&(b=function(t,n,r){return y&&(S[y]=t),S[v]=n,S.$index=r,_(e,S)});var p=createMap();e.$watchCollection(m,function(l){var c,m,g,_,S,C,E,T,M,k,A,D,$=n[0],P=createMap();if(f&&(e[f]=l),isArrayLike(l))M=l,T=b||w;else{T=b||x,M=[];for(var L in l)i.call(l,L)&&"$"!==L.charAt(0)&&M.push(L)}for(_=M.length,A=new Array(_),c=0;c<_;c++)if(S=l===M?c:M[c],C=l[S],E=T(S,C,c),p[E])k=p[E],delete p[E],P[E]=k,A[c]=k;else{if(P[E])throw forEach(A,function(e){e&&e.scope&&(p[e.id]=e)}),r("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",u,E,C);A[c]={id:E,scope:void 0,clone:void 0},P[E]=!0}for(var R in p){if(k=p[R],D=getBlockNodes(k.clone),t.leave(D),D[0].parentNode)for(c=0,m=D.length;c<m;c++)D[c].$$NG_REMOVED=!0;k.scope.$destroy()}for(c=0;c<_;c++)if(S=l===M?c:M[c],C=l[S],k=A[c],k.scope){g=$;do{g=g.nextSibling}while(g&&g.$$NG_REMOVED);a(k)!==g&&t.move(getBlockNodes(k.clone),null,$),$=s(k),o(k.scope,c,v,C,y,S,_)}else h(function(e,n){k.scope=n;var r=d.cloneNode(!1);e[e.length++]=r,t.enter(e,null,$),$=r,k.clone=e,P[k.id]=k,o(k.scope,c,v,C,y,S,_)});p=P})}}}}],an=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],sn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ln=ngDirective(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&forEach(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),cn=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var a=i.ngSwitch||i.on,s=[],l=[],c=[],u=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(a,function(n){for(var r,i;c.length;)e.cancel(c.pop());for(r=0,i=u.length;r<i;++r){var a=getBlockNodes(l[r].clone);u[r].$destroy();(c[r]=e.leave(a)).done(d(c,r))}l.length=0,u.length=0,(s=o.cases["!"+n]||o.cases["?"])&&forEach(s,function(n){n.transclude(function(r,i){u.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};l.push(a),e.enter(r,o.parent(),o)})})})}}}],un=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){forEach(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),dn=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),hn=minErr("ngTransclude"),pn=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function ngTranscludeCloneAttachFn(e,n){e.length&&notWhitespace(e)?t.append(e):(useFallbackContent(),n.$destroy())}function useFallbackContent(){n(e,function(e){t.append(e)})}function notWhitespace(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==R||r.nodeValue.trim())return!0}}if(!o)throw hn("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var a=r.ngTransclude||r.ngTranscludeSlot;o(ngTranscludeCloneAttachFn,null,a),a&&!o.isSlotFilled(a)&&useFallbackContent()}}}}],mn=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],fn={$setViewValue:noop,$render:noop},gn=["$element","$scope",function(t,n){function scheduleRender(){o||(o=!0,n.$$postDigest(function(){o=!1,r.ngModelCtrl.$render()}))}function scheduleViewValueUpdate(e){a||(a=!0,n.$$postDigest(function(){n.$$destroyed||(a=!1,r.ngModelCtrl.$setViewValue(r.readValue()),e&&r.ngModelCtrl.$render())}))}var r=this,i=new ne;r.selectValueMap={},r.ngModelCtrl=fn,r.multiple=!1,r.unknownOption=u(e.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),t.prepend(r.unknownOption),setOptionSelectedStatus(r.unknownOption,!0),t.val(n)},r.updateUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),setOptionSelectedStatus(r.unknownOption,!0),t.val(n)},r.generateUnknownOptionValue=function(e){return"? "+hashKey(e)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(t.val(""),setOptionSelectedStatus(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&setOptionSelectedStatus(r.emptyOption,!1)},n.$on("$destroy",function(){r.renderUnknownOption=noop}),r.readValue=function(){var e=t.val(),n=e in r.selectValueMap?r.selectValueMap[e]:e;return r.hasOption(n)?n:null},r.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&setOptionSelectedStatus(u(n),!1),r.hasOption(e)){r.removeUnknownOption();var i=hashKey(e);t.val(i in r.selectValueMap?i:e);var o=t[0].options[t[0].selectedIndex];setOptionSelectedStatus(u(o),!0)}else r.selectUnknownOrEmptyOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==O){assertNotHasOwnProperty(e,'"option value"'),""===e&&(r.hasEmptyOption=!0,r.emptyOption=t);var n=i.get(e)||0;i.set(e,n+1),scheduleRender()}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):i.set(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return t[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&t[0].options[t[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(e){null==e&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(e):r.renderUnknownOption(e)};var o=!1,a=!1;r.registerOption=function(e,t,n,i,o){if(n.$attr.ngValue){var a,s=NaN;n.$observe("value",function(e){var n,i=t.prop("selected");isDefined(s)&&(r.removeOption(a),delete r.selectValueMap[s],n=!0),s=hashKey(e),a=e,r.selectValueMap[s]=e,r.addOption(e,t),t.attr("value",s),n&&i&&scheduleViewValueUpdate()})}else i?n.$observe("value",function(e){r.readValue();var n,i=t.prop("selected");isDefined(a)&&(r.removeOption(a),n=!0),a=e,r.addOption(e,t),n&&i&&scheduleViewValueUpdate()}):o?e.$watch(o,function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&r.removeOption(i),r.addOption(e,t),i&&o&&scheduleViewValueUpdate()}):r.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(r.multiple?scheduleViewValueUpdate(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=r.readValue(),t=n.value;r.removeOption(t),scheduleRender(),(r.multiple&&e&&-1!==e.indexOf(t)||e===t)&&scheduleViewValueUpdate(!0)})}}],vn=function(){function selectPreLink(e,t,n,r){var i=r[0],o=r[1];if(!o)return void(i.registerOption=noop);if(i.ngModelCtrl=o,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){o.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return forEach(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),e},i.writeValue=function(e){forEach(t.find("option"),function(t){var n=!!e&&(includes(e,t.value)||includes(e,i.selectValueMap[t.value]));n!==t.selected&&setOptionSelectedStatus(u(t),n)})};var a,s=NaN;e.$watch(function(){s!==o.$viewValue||equals(a,o.$viewValue)||(a=shallowCopy(o.$viewValue),o.$render()),s=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}function selectPostLink(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:gn,priority:1,link:{pre:selectPreLink,post:selectPostLink}}},yn=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return isDefined(n.ngValue)||(isDefined(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o=t.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(e,t,n,r,i)}}}}],_n=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},bn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(isString(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,startingTag(t));i=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||isUndefined(i)||i.test(t)}}}}},wn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=toInt(e);i=w(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},xn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=toInt(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};if(e.angular.bootstrap)return void(e.console&&console.log("WARNING: Tried to load angular more than once."));!function(){var t;if(!P){var n=M();d=isUndefined(n)?e.jQuery:n?e[n]:void 0,d&&d.fn.on?(u=d,extend(d.fn,{scope:J.scope,isolateScope:J.isolateScope,controller:J.controller,injector:J.injector,inheritedData:J.inheritedData}),t=d.cleanData,d.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=d._data(r,"events"))&&n.$destroy&&d(r).triggerHandler("$destroy");t(e)}):u=JQLite,_.element=u,P=!0}}(),function(t){extend(t,{errorHandlingConfig:errorHandlingConfig,bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:u,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:x,version:N,isDate:isDate,lowercase:o,uppercase:a,callbacks:{$$counter:0},getTestability:getTestability,reloadWithDebugInfo:reloadWithDebugInfo,$$minErr:minErr,$$csp:T,$$encodeUriSegment:encodeUriSegment,$$encodeUriQuery:encodeUriQuery,$$stringify:stringify}),h=setupModuleLoader(e),h("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:$$SanitizeUriProvider}),e.provider("$compile",$CompileProvider).directive({a:at,input:Et,textarea:Et,form:dt,script:mn,select:vn,option:yn,ngBind:kt,ngBindHtml:Dt,ngBindTemplate:At,ngClass:Pt,ngClassEven:Rt,ngClassOdd:Lt,ngCloak:Ot,ngController:It,ngForm:ht,ngHide:sn,ngIf:Ht,ngInclude:jt,ngInit:Vt,ngNonBindable:Qt,ngPluralize:rn,ngRepeat:on,ngShow:an,ngStyle:ln,ngSwitch:cn,ngSwitchWhen:un,ngSwitchDefault:dn,ngOptions:nn,ngTransclude:pn,ngModel:Xt,ngList:Yt,ngChange:$t,pattern:bn,ngPattern:bn,required:_n,ngRequired:_n,minlength:xn,ngMinlength:xn,maxlength:wn,ngMaxlength:wn,ngValue:Mt,ngModelOptions:Zt}).directive({ngInclude:Bt}).directive(st).directive(Ft),e.provider({$anchorScroll:$AnchorScrollProvider,$animate:me,$animateCss:ve,$$animateJs:he,$$animateQueue:pe,$$AnimateRunner:ge,$$animateAsyncRun:fe,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$$isDocumentHidden:$$IsDocumentHiddenProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:Ce,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:Pe,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$Map:re,$$cookieReader:$$CookieReaderProvider})}]).info({angularVersion:"1.6.6"})}(_),_.module("ngLocale",[],["$provide",function(e){function getDecimals(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function getVF(e,t){var n=t;void 0===n&&(n=Math.min(getDecimals(e),3));var r=Math.pow(10,n);return{v:n,f:(e*r|0)%r}}var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var r=0|e,i=getVF(e,n);return 1==r&&0==i.v?t.ONE:t.OTHER}})}]),u(function(){angularInit(e.document,bootstrap)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},function(e,t,n){n(288),e.exports="ngSanitize"},function(e,t){!function(e,t){"use strict";function $SanitizeProvider(){function toMap(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?a(i[n]):i[n]]=!0;return r}function htmlParserImpl(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=k(e);if(!n)return"";var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,e=n.innerHTML,n=k(e)}while(e!==n.innerHTML);for(var i=n.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),attrToMap(i.attributes));break;case 3:t.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),o=getNonDescendant("nextSibling",i))))for(;null==o&&(i=getNonDescendant("parentNode",i))!==n;)o=getNonDescendant("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=o}for(;i=n.firstChild;)n.removeChild(i)}function attrToMap(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(p,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(m,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(e,t){var r=!1,o=n(e,e.push);return{start:function(e,n){e=a(e),!r&&x[e]&&(r=e),r||!0!==S[e]||(o("<"),o(e),i(n,function(n,r){var i=a(r),s="img"===e&&"src"===i||"background"===i;!0!==M[i]||!0===C[i]&&!t(n,s)||(o(" "),o(r),o('="'),o(encodeEntities(n)),o('"'))}),o(">"))},end:function(e){e=a(e),r||!0!==S[e]||!0===f[e]||(o("</"),o(e),o(">")),e==r&&(r=!1)},chars:function(e){r||o(encodeEntities(e))}}}function stripCustomNsAttrs(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var s=t.firstChild;s&&stripCustomNsAttrs(s),t=getNonDescendant("nextSibling",t)}}function getNonDescendant(e,t){var n=t[e];if(n&&l.call(t,n))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var h=!1;this.$get=["$$sanitizeUri",function(e){return h&&r(S,w),function(t){var n=[];return c(t,u(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(h=e,this):h},n=t.bind,r=t.extend,i=t.forEach,o=t.isDefined,a=t.lowercase,s=t.noop,c=htmlParserImpl,u=htmlSanitizeWriterImpl,l=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/([^#-~ |!])/g,f=toMap("area,br,col,hr,img,wbr"),g=toMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=toMap("rp,rt"),y=r({},v,g),_=r({},g,toMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),b=r({},v,toMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=toMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),x=toMap("script,style"),S=r({},f,_,b,y),C=toMap("background,cite,href,longdesc,src,xlink:href"),E=toMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),T=toMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=r({},C,T,E),k=function(e,t){function getInertBodyElement_XHR(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null);var r=n.response.body;return r.firstChild.remove(),r}function getInertBodyElement_DOMParser(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}function getInertBodyElement_InertDocument(e){return r.innerHTML=e,t.documentMode&&stripCustomNsAttrs(r),r}var n;if(!t||!t.implementation)throw d("noinert","Can't create an inert html document");n=t.implementation.createHTMLDocument("inert");var r=(n.documentElement||n.getDocumentElement()).querySelector("body");return r.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',r.querySelector("svg")?(r.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',r.querySelector("svg img")?getInertBodyElement_DOMParser:getInertBodyElement_InertDocument):getInertBodyElement_XHR}(e,e.document)}function sanitizeText(e){var t=[];return u(t,s).chars(e),t.join("")}var n,r,i,o,a,s,l,c,u,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.6.6"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),o=t.isDefined,a=t.isFunction,s=t.isObject,l=t.isString;return function(t,c,u){function addText(e){e&&g.push(sanitizeText(e))}if(null==t||""===t)return t;if(!l(t))throw i("notstring","Expected string but received: {0}",t);for(var d,h,p,m=a(u)?u:s(u)?function(){return u}:function(){return{}},f=t,g=[];d=f.match(n);)h=d[0],d[2]||d[4]||(h=(d[3]?"http://":"mailto:")+h),p=d.index,addText(f.substr(0,p)),function(e,t){var n,r=m(e);g.push("<a ");for(n in r)g.push(n+'="'+r[n]+'" ');!o(c)||"target"in r||g.push('target="',c,'" '),g.push('href="',e.replace(/"/g,"&quot;"),'">'),addText(t),g.push("</a>")}(h,d[0].replace(r,"")),f=f.substring(p+d[0].length);return addText(f),e(g.join(""))}}])}(window,window.angular)},function(e,t){!function(e,t){"use strict";function assertArg(e,t,n){if(!e)throw $("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function mergeClasses(e,t){return e||t?e?t?(f(e)&&(e=e.join(" ")),f(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function packageStyles(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function pendClasses(e,t,n){var r="";return e=f(e)?e:e&&b(e)&&e.length?e.split(/\s+/):[],m(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function removeFromArray(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function stripCommentsFromElement(e){if(e instanceof x)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===a)return e;break;default:return x(extractElementNode(e))}if(e.nodeType===a)return x(e)}function extractElementNode(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===a)return n}}function $$addClass(e,t,n){m(t,function(t){e.addClass(t,n)})}function $$removeClass(e,t,n){m(t,function(t){e.removeClass(t,n)})}function applyAnimationClassesFactory(e){return function(t,n){n.addClass&&($$addClass(e,t,n.addClass),n.addClass=null),n.removeClass&&($$removeClass(e,t,n.removeClass),n.removeClass=null)}}function prepareAnimationOptions(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||S;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=S},e.$$prepared=!0}return e}function applyAnimationStyles(e,t){applyAnimationFromStyles(e,t),applyAnimationToStyles(e,t)}function applyAnimationFromStyles(e,t){t.from&&(e.css(t.from),t.from=null)}function applyAnimationToStyles(e,t){t.to&&(e.css(t.to),t.to=null)}function mergeAnimationDetails(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),s=resolveElementClasses(e.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=concatWithSpace(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==S?r.domOperation:null;return p(r,i),l&&(r.domOperation=l),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function resolveElementClasses(e,t,n){function splitClassesToLookup(e){b(e)&&(e=e.split(" "));var t={};return m(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=splitClassesToLookup(e),t=splitClassesToLookup(t),m(t,function(e,t){r[t]=1}),n=splitClassesToLookup(n),m(n,function(e,t){r[t]=1===r[t]?null:-1});var i={addClass:"",removeClass:""};return m(r,function(t,n){var r,o;1===t?(r="addClass",o=!e[n]||e[n+l]):-1===t&&(r="removeClass",o=e[n]||e[n+s]),o&&(i[r].length&&(i[r]+=" "),i[r]+=n)}),i}function getDomNode(e){return e instanceof x?e[0]:e}function applyGeneratedPreparationClasses(e,t,n){var r="";t&&(r=pendClasses(t,c,!0)),n.addClass&&(r=concatWithSpace(r,pendClasses(n.addClass,s))),n.removeClass&&(r=concatWithSpace(r,pendClasses(n.removeClass,l))),r.length&&(n.preparationClasses=r,e.addClass(r))}function clearGeneratedClasses(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function blockTransitions(e,t){var n=t?"-"+t+"s":"";return applyInlineStyle(e,[A,n]),[A,n]}function blockKeyframeAnimations(e,t){var n=t?"paused":"",r=i+T;return applyInlineStyle(e,[r,n]),[r,n]}function applyInlineStyle(e,t){var n=t[0],r=t[1];e.style[n]=r}function concatWithSpace(e,t){return e?t?e+" "+t:e:t}function getCssKeyframeDurationStyle(e){return[k,e+"s"]}function getCssDelayStyle(e,t){return[t?M:A,e+"s"]}function computeCssStyles(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return m(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=parseMaxTime(n)),0===n&&(n=null),r[t]=n}}),r}function parseMaxTime(e){var t=0,n=e.split(/\s*,\s*/);return m(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function truthyTimingValue(e){return 0===e||null!=e}function getCssTransitionDurationStyle(e,t){var r=n,i=e+"s";return t?r+=C:i+=" linear all",[r,i]}function createLocalCacheLookup(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function registerRestorableStyles(e,t,n){m(n,function(n){e[n]=g(e[n])?e[n]:t.style.getPropertyValue(n)})}var n,r,i,o,a=1,s="-add",l="-remove",c="ng-",u="ng-animate",d="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?("-webkit-",n="WebkitTransition",r="webkitTransitionEnd transitionend"):(n="transition",r="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?("-webkit-",i="WebkitAnimation",o="webkitAnimationEnd animationend"):(i="animation",o="animationend");var h,p,m,f,g,v,y,_,b,w,x,S,C="Duration",E="TimingFunction",T="PlayState",M=i+"Delay",k=i+C,A=n+"Delay",D=n+C,$=t.$$minErr("ng"),P=["$$rAF",function(e){function scheduler(e){t=t.concat(e),nextTick()}function nextTick(){if(t.length){for(var r=t.shift(),i=0;i<r.length;i++)r[i]();n||e(function(){n||nextTick()})}}var t,n;return t=scheduler.queue=[],scheduler.waitUntilQuiet=function(t){n&&n(),n=e(function(){n=null,t(),nextTick()})},scheduler}],L=["$interpolate",function(e){return{link:function(t,n,r){function setData(e){e="on"===e||"true"===e,n.data(d,e)}var i=r.ngAnimateChildren;b(i)&&0===i.length?n.data(d,!0):(setData(e(i)(t)),r.$observe("ngAnimateChildren",setData))}}}],R="$$animateCss",O=1e3,I=3,F=1.5,N={transitionDuration:D,transitionDelay:A,transitionProperty:n+"Property",animationDuration:k,animationDelay:M,animationIterationCount:i+"IterationCount"},H={transitionDuration:D,transitionDelay:A,animationDuration:k,animationDelay:M},j=["$animateProvider",function(e){var t=createLocalCacheLookup(),a=createLocalCacheLookup();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,u,d,p,g,v,y,_){function gcsHashFn(e,t){var n="$$ngAnimateParentKey",r=e.parentNode;return(r[n]||(r[n]=++w))+"-"+e.getAttribute("class")+"-"+t}function computeCachedCssStyles(n,r,i,o){var a=t.get(i);return a||(a=computeCssStyles(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(i,a),a}function computeCachedCssStaggerStyles(n,r,i,o){var s;if(t.count(i)>0&&!(s=a.get(i))){var l=pendClasses(r,"-stagger");u.addClass(n,l),s=computeCssStyles(e,n,o),s.animationDuration=Math.max(s.animationDuration,0),s.transitionDuration=Math.max(s.transitionDuration,0),u.removeClass(n,l),a.put(i,s)}return s||{}}function waitUntilQuiet(e){x.push(e),y.waitUntilQuiet(function(){t.flush(),a.flush();for(var e=g(),n=0;n<x.length;n++)x[n](e);x.length=0})}function computeTimings(e,t,n){var r=computeCachedCssStyles(e,t,n,N),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var b=applyAnimationClassesFactory(u),w=0,x=[];return function(e,a){function endFn(){close()}function cancelFn(){close(!0)}function close(t){if(!(x||T&&C)){x=!0,C=!1,g.$$skipPreparationClasses||u.removeClass(e,G),u.removeClass(e,K),blockKeyframeAnimations(w,!1),blockTransitions(w,!1),m(N,function(e){w.style[e[0]]=""}),b(e,g),applyAnimationStyles(e,g),Object.keys(y).length&&m(y,function(e,t){e?w.style.setProperty(t,e):w.style.removeProperty(t)}),g.onDone&&g.onDone(),V&&V.length&&e.off(V.join(" "),onAnimationProgress);var n=e.data(R);n&&(p.cancel(n[0].timer),e.removeData(R)),M&&M.complete(!t)}}function applyBlocking(e){le.blockTransition&&blockTransitions(w,e),le.blockKeyframeAnimation&&blockKeyframeAnimations(w,!!e)}function closeAndReturnNoopAnimator(){return M=new d({end:endFn,cancel:cancelFn}),waitUntilQuiet(S),close(),{$$willAnimate:!1,start:function(){return M},end:endFn}}function onAnimationProgress(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(I));Math.max(n-L,0)>=D&&r>=$&&(T=!0,close())}function start(){function triggerAnimationStart(){if(!x){if(applyBlocking(!1),m(N,function(e){var t=e[0],n=e[1];w.style[t]=n}),b(e,g),u.addClass(e,K),le.recalculateTimingStyles){if(W=w.getAttribute("class")+" "+G,J=gcsHashFn(w,W),ae=computeTimings(w,W,J),se=ae.maxDelay,A=Math.max(se,0),0===($=ae.maxDuration))return void close();le.hasTransitions=ae.transitionDuration>0,le.hasAnimations=ae.animationDuration>0}if(le.applyAnimationDelay&&(se="boolean"!=typeof g.delay&&truthyTimingValue(g.delay)?parseFloat(g.delay):se,A=Math.max(se,0),ae.animationDelay=se,ce=getCssDelayStyle(se,!0),N.push(ce),w.style[ce[0]]=ce[1]),D=A*O,P=$*O,g.easing){var t,a=g.easing;le.hasTransitions&&(t=n+E,N.push([t,a]),w.style[t]=a),le.hasAnimations&&(t=i+E,N.push([t,a]),w.style[t]=a)}ae.transitionDuration&&V.push(r),ae.animationDuration&&V.push(o),L=Date.now();var s=D+F*P,l=L+s,c=e.data(R)||[],d=!0;if(c.length){var h=c[0];d=l>h.expectedEndTime,d?p.cancel(h.timer):c.push(close)}if(d){var f=p(onAnimationExpired,s,!1);c[0]={timer:f,expectedEndTime:l},c.push(close),e.data(R,c)}V.length&&e.on(V.join(" "),onAnimationProgress),g.to&&(g.cleanupStyles&&registerRestorableStyles(y,w,Object.keys(g.to)),applyAnimationToStyles(e,g))}}function onAnimationExpired(){var t=e.data(R);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(R)}}if(!x){if(!w.parentNode)return void close();var t=function(e){if(T)C&&e&&(C=!1,close());else if(C=!e,ae.animationDuration){var t=blockKeyframeAnimations(w,C);C?N.push(t):removeFromArray(N,t)}},a=ie>0&&(ae.transitionDuration&&0===Z.transitionDuration||ae.animationDuration&&0===Z.animationDuration)&&Math.max(Z.animationDelay,Z.transitionDelay);a?p(triggerAnimationStart,Math.floor(a*ie*O),!1):triggerAnimationStart(),k.resume=function(){t(!0)},k.pause=function(){t(!1)}}}var g=a||{};g.$$prepared||(g=prepareAnimationOptions(h(g)));var y={},w=getDomNode(e);if(!w||!w.parentNode||!_.enabled())return closeAndReturnNoopAnimator();var x,C,T,M,k,A,D,$,P,L,N=[],j=e.attr("class"),B=packageStyles(g),V=[];if(0===g.duration||!v.animations&&!v.transitions)return closeAndReturnNoopAnimator();var Y=g.event&&f(g.event)?g.event.join(" "):g.event,z=Y&&g.structural,q="",U="";z?q=pendClasses(Y,c,!0):Y&&(q=Y),g.addClass&&(U+=pendClasses(g.addClass,s)),g.removeClass&&(U.length&&(U+=" "),U+=pendClasses(g.removeClass,l)),g.applyClassesEarly&&U.length&&b(e,g);var G=[q,U].join(" ").trim(),W=j+" "+G,K=pendClasses(G,"-active"),X=B.to&&Object.keys(B.to).length>0;if(!((g.keyframeStyle||"").length>0||X||G))return closeAndReturnNoopAnimator();var J,Z;if(g.stagger>0){var Q=parseFloat(g.stagger);Z={transitionDelay:Q,animationDelay:Q,transitionDuration:0,animationDuration:0}}else J=gcsHashFn(w,W),Z=computeCachedCssStaggerStyles(w,G,J,H);g.$$skipPreparationClasses||u.addClass(e,G);var ee;if(g.transitionStyle){var te=[n,g.transitionStyle];applyInlineStyle(w,te),N.push(te)}if(g.duration>=0){ee=w.style[n].length>0;var ne=getCssTransitionDurationStyle(g.duration,ee);applyInlineStyle(w,ne),N.push(ne)}if(g.keyframeStyle){var re=[i,g.keyframeStyle];applyInlineStyle(w,re),N.push(re)}var ie=Z?g.staggerIndex>=0?g.staggerIndex:t.count(J):0,oe=0===ie;oe&&!g.skipBlocking&&blockTransitions(w,9999);var ae=computeTimings(w,W,J),se=ae.maxDelay;A=Math.max(se,0),$=ae.maxDuration;var le={};if(le.hasTransitions=ae.transitionDuration>0,le.hasAnimations=ae.animationDuration>0,le.hasTransitionAll=le.hasTransitions&&"all"===ae.transitionProperty,le.applyTransitionDuration=X&&(le.hasTransitions&&!le.hasTransitionAll||le.hasAnimations&&!le.hasTransitions),le.applyAnimationDuration=g.duration&&le.hasAnimations,le.applyTransitionDelay=truthyTimingValue(g.delay)&&(le.applyTransitionDuration||le.hasTransitions),le.applyAnimationDelay=truthyTimingValue(g.delay)&&le.hasAnimations,le.recalculateTimingStyles=U.length>0,(le.applyTransitionDuration||le.applyAnimationDuration)&&($=g.duration?parseFloat(g.duration):$,le.applyTransitionDuration&&(le.hasTransitions=!0,ae.transitionDuration=$,ee=w.style[n+"Property"].length>0,N.push(getCssTransitionDurationStyle($,ee))),le.applyAnimationDuration&&(le.hasAnimations=!0,ae.animationDuration=$,N.push(getCssKeyframeDurationStyle($)))),0===$&&!le.recalculateTimingStyles)return closeAndReturnNoopAnimator();if(null!=g.delay){var ce;"boolean"!=typeof g.delay&&(ce=parseFloat(g.delay),A=Math.max(ce,0)),le.applyTransitionDelay&&N.push(getCssDelayStyle(ce)),le.applyAnimationDelay&&N.push(getCssDelayStyle(ce,!0))}return null==g.duration&&ae.transitionDuration>0&&(le.recalculateTimingStyles=le.recalculateTimingStyles||oe),D=A*O,P=$*O,g.skipBlocking||(le.blockTransition=ae.transitionDuration>0,le.blockKeyframeAnimation=ae.animationDuration>0&&Z.animationDelay>0&&0===Z.animationDuration),g.from&&(g.cleanupStyles&&registerRestorableStyles(y,w,Object.keys(g.from)),applyAnimationFromStyles(e,g)),le.blockTransition||le.blockKeyframeAnimation?applyBlocking($):g.skipBlocking||blockTransitions(w,!1),{$$willAnimate:!0,end:endFn,start:function(){if(!x)return k={end:endFn,cancel:cancelFn,resume:null,pause:null},M=new d(k),waitUntilQuiet(start),M}}}}]}],B=["$$animationProvider",function(e){function isDocumentFragment(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var t="ng-animate-shim",n="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,r,i,o,a,s,l){function filterCssClasses(e){return e.replace(/\bng-\S+\b/g,"")}function getUniqueValues(e,t){return b(e)&&(e=e.split(" ")),b(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function prepareAnchoredAnimation(r,o,a){function calculateAnchorStyles(e){var t={},n=getDomNode(e).getBoundingClientRect();return m(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=c.scrollTop;break;case"left":r+=c.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function getClassVal(e){return e.attr("class")||""}function prepareInAnimation(){var t=filterCssClasses(getClassVal(a)),r=getUniqueValues(t,l),i=getUniqueValues(l,t),o=e(s,{to:calculateAnchorStyles(a),addClass:"ng-anchor-in "+r,removeClass:n+" "+i,delay:!0});return o.$$willAnimate?o:null}function end(){s.remove(),o.removeClass(t),a.removeClass(t)}var s=x(getDomNode(o).cloneNode(!0)),l=filterCssClasses(getClassVal(s));o.addClass(t),a.addClass(t),s.addClass("ng-anchor"),d.append(s);var u,h=function(){var t=e(s,{addClass:n,delay:!0,from:calculateAnchorStyles(o)});return t.$$willAnimate?t:null}();if(!h&&!(u=prepareInAnimation()))return end();var p=h||u;return{start:function(){function endFn(){t&&t.end()}var e,t=p.start();return t.done(function(){if(t=null,!u&&(u=prepareInAnimation()))return t=u.start(),t.done(function(){t=null,end(),e.complete()}),t;end(),e.complete()}),e=new i({end:endFn,cancel:endFn})}}}function prepareFromToAnchorAnimation(e,t,n,r){var o=prepareRegularAnimation(e),a=prepareRegularAnimation(t),s=[];if(m(r,function(e){var t=e.out,r=e.in,i=prepareAnchoredAnimation(n,t,r);i&&s.push(i)}),o||a||0!==s.length)return{start:function(){function endFn(){m(e,function(e){e.end()})}var e=[];o&&e.push(o.start()),a&&e.push(a.start()),m(s,function(t){e.push(t.start())});var t=new i({end:endFn,cancel:endFn});return i.all(e,function(e){t.complete(e)}),t}}}function prepareRegularAnimation(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=concatWithSpace(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}if(!a.animations&&!a.transitions)return S;var c=l[0].body,u=getDomNode(o),d=x(isDocumentFragment(u)||c.contains(u)?u:c);return function(e){return e.from&&e.to?prepareFromToAnchorAnimation(e.from,e.to,e.classes,e.anchors):prepareRegularAnimation(e)}}]}],V=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function lookupAnimations(n){n=f(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var i=applyAnimationClassesFactory(r);return function(e,t,r,o){function applyOptions(){o.domOperation(),i(e,o)}function close(){a=!0,applyOptions(),applyAnimationStyles(e,o)}function executeAnimationFn(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,c,u,o];break;case"addClass":a=[t,c,o];break;case"removeClass":a=[t,u,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(y(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(y(s))return s;return S}function groupEventedAnimations(e,t,r,i,o){var a=[];return m(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,l=function(e){a||(a=!0,(o||S)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=executeAnimationFn(s,e,t,r,function(e){l(!1===e)}),i})}),a}function packageAnimations(e,t,r,i,o){var a=groupEventedAnimations(e,t,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=groupEventedAnimations(e,"removeClass",r,i,"beforeRemoveClass"),l=groupEventedAnimations(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=groupEventedAnimations(e,"removeClass",r,i,"removeClass"),l=groupEventedAnimations(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&m(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){m(t,function(t){e?t.cancel():t.end()})}}}var a=!1;3===arguments.length&&_(r)&&(o=r,r=null),o=prepareAnimationOptions(o),r||(r=e.attr("class")||"",o.addClass&&(r+=" "+o.addClass),o.removeClass&&(r+=" "+o.removeClass));var s,l,c=o.addClass,u=o.removeClass,d=lookupAnimations(r);if(d.length){var h,p;"leave"===t?(p="leave",h="afterLeave"):(p="before"+t.charAt(0).toUpperCase()+t.substr(1),h=t),"enter"!==t&&"move"!==t&&(s=packageAnimations(e,t,o,d,p)),l=packageAnimations(e,t,o,d,h)}if(s||l){var f;return{$$willAnimate:!0,end:function(){return f?f.end():(close(),f=new n,f.complete(!0)),f},start:function(){function onComplete(e){close(e),f.complete(e)}function endAnimations(t){a||((e||S)(t),onComplete(t))}if(f)return f;f=new n;var e,t=[];return s&&t.push(function(t){e=s(t)}),t.length?t.push(function(e){applyOptions(),e(!0)}):applyOptions(),l&&t.push(function(t){e=l(t)}),f.setHost({end:function(){endAnimations()},cancel:function(){endAnimations(!0)}}),n.chain(t,onComplete),f}}}}}]}],Y=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function prepareAnimation(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var n=prepareAnimation(e.from),r=prepareAnimation(e.to);if(!n&&!r)return;return{start:function(){function endFnFactory(){return function(){m(e,function(e){e.end()})}}function done(e){i.complete(e)}var e=[];n&&e.push(n.start()),r&&e.push(r.start()),t.all(e,done);var i=new t({end:endFnFactory(),cancel:endFnFactory()});return i}}}return prepareAnimation(e)}}]}],z="data-ng-animate",q="$ngAnimatePin",U=["$animateProvider",function(t){function makeTruthyCssClassMap(e){if(!e)return null;var t=e.split(i),n=Object.create(null);return m(t,function(e){n[e]=!0}),n}function hasMatchingClasses(e,t){if(e&&t){var n=makeTruthyCssClassMap(t);return e.split(i).some(function(e){return n[e]})}}function isAllowed(e,t,n){return o[e].some(function(e){return e(t,n)})}function hasAnimationClasses(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var n=1,r=2,i=" ",o=this.rules={skip:[],cancel:[],join:[]};o.join.push(function(e,t){return!e.structural&&hasAnimationClasses(e)}),o.skip.push(function(e,t){return!e.structural&&!hasAnimationClasses(e)}),o.skip.push(function(e,t){return"leave"===t.event&&e.structural}),o.skip.push(function(e,t){return t.structural&&t.state===r&&!e.structural}),o.cancel.push(function(e,t){return t.structural&&e.structural}),o.cancel.push(function(e,t){return t.state===r&&e.structural}),o.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,r=e.removeClass,i=t.addClass,o=t.removeClass;return!(w(n)&&w(r)||w(i)&&w(o))&&(hasMatchingClasses(n,o)||hasMatchingClasses(r,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,o,s,l,c,u,y,S,C,E,T){function postDigestTaskFactory(){var e=!1;return function(t){e?t():o.$$postDigest(function(){e=!0,t()})}}function normalizeAnimationDetails(e,t){return mergeAnimationDetails(e,t,{})}function findCallbacks(e,t,n){var r=[],i=$[n];return i&&m(i,function(i){N.call(i.node,t)?r.push(i.callback):"leave"===n&&N.call(i.node,e)&&r.push(i.callback)}),r}function filterFromRegistry(e,t,n){var r=extractElementNode(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function cleanupEventListeners(e,t){"close"!==e||t.parentNode||H.off(t)}function queueAnimation(e,t,a){function notifyProgress(e,t,n,r){g(function(){var e=findCallbacks(d,c,t);e.length?i(function(){m(e,function(e){e(l,n,r)}),cleanupEventListeners(n,c)}):cleanupEventListeners(n,c)}),e.progress(t,n,r)}function close(e){clearGeneratedClasses(l,s),F(l,s),applyAnimationStyles(l,s),s.domOperation(),p.complete(!e)}var s=h(a),l=stripCommentsFromElement(e),c=getDomNode(l),d=c&&c.parentNode;s=prepareAnimationOptions(s);var p=new y,g=postDigestTaskFactory();if(f(s.addClass)&&(s.addClass=s.addClass.join(" ")),s.addClass&&!b(s.addClass)&&(s.addClass=null),f(s.removeClass)&&(s.removeClass=s.removeClass.join(" ")),s.removeClass&&!b(s.removeClass)&&(s.removeClass=null),s.from&&!_(s.from)&&(s.from=null),s.to&&!_(s.to)&&(s.to=null),!(A&&c&&O(c,t,a)&&I(c,s)))return close(),p;var v=["enter","move","leave"].indexOf(t)>=0,w=T(),x=w||k.get(c),S=!x&&M.get(c)||{},C=!!S.state;if(x||C&&S.state===n||(x=!areAnimationsAllowed(c,d,t)),x)return w&&notifyProgress(p,t,"start"),close(),w&&notifyProgress(p,t,"close"),p;v&&closeChildAnimations(c);var E={structural:v,element:l,event:t,addClass:s.addClass,removeClass:s.removeClass,close:close,options:s,runner:p};if(C){if(isAllowed("skip",E,S))return S.state===r?(close(),p):(mergeAnimationDetails(l,S,E),S.runner);if(isAllowed("cancel",E,S))if(S.state===r)S.runner.end();else{if(!S.structural)return mergeAnimationDetails(l,S,E),S.runner;S.close()}else{if(isAllowed("join",E,S)){if(S.state!==r)return applyGeneratedPreparationClasses(l,v?t:null,s),t=E.event=S.event,s=mergeAnimationDetails(l,S,E),S.runner;normalizeAnimationDetails(l,E)}}}else normalizeAnimationDetails(l,E);var D=E.structural;if(D||(D="animate"===E.event&&Object.keys(E.options.to||{}).length>0||hasAnimationClasses(E)),!D)return close(),clearElementAnimationState(c),p;var $=(S.counter||0)+1;return E.counter=$,markElementAnimationState(c,n,E),o.$$postDigest(function(){l=stripCommentsFromElement(e);var n=M.get(c),i=!n;n=n||{};var o=l.parent()||[],a=o.length>0&&("animate"===n.event||n.structural||hasAnimationClasses(n));if(i||n.counter!==$||!a)return i&&(F(l,s),applyAnimationStyles(l,s)),(i||v&&n.event!==t)&&(s.domOperation(),p.end()),void(a||clearElementAnimationState(c));t=!n.structural&&hasAnimationClasses(n,!0)?"setClass":n.event,markElementAnimationState(c,r);var d=u(l,t,n.options);p.setHost(d),notifyProgress(p,t,"start",{}),d.done(function(e){close(!e);var n=M.get(c);n&&n.counter===$&&clearElementAnimationState(c),notifyProgress(p,t,"close",{})})}),p}function closeChildAnimations(e){var t=e.querySelectorAll("["+z+"]");m(t,function(e){var t=parseInt(e.getAttribute(z),10),i=M.get(e);if(i)switch(t){case r:i.runner.end();case n:M.delete(e)}})}function clearElementAnimationState(e){e.removeAttribute(z),M.delete(e)}function areAnimationsAllowed(e,t,n){var r,i=l[0].body,o=getDomNode(s),c=e===i||"HTML"===e.nodeName,u=e===o,h=!1,p=k.get(e),m=x.data(e,q);for(m&&(t=getDomNode(m));t&&(u||(u=t===o),t.nodeType===a);){var f=M.get(t)||{};if(!h){var v=k.get(t);if(!0===v&&!1!==p){p=!0;break}!1===v&&(p=!1),h=f.structural}if(w(r)||!0===r){var y=x.data(t,d);g(y)&&(r=y)}if(h&&!1===r)break;if(c||(c=t===i),c&&u)break;t=u||!(m=x.data(t,q))?t.parentNode:getDomNode(m)}return(!h||r)&&!0!==p&&u&&c}function markElementAnimationState(e,t,n){n=n||{},n.state=t,e.setAttribute(z,t);var r=M.get(e),i=r?p(r,n):n;M.set(e,i)}var M=new c,k=new c,A=null,D=o.$watch(function(){return 0===S.totalPendingRequests},function(e){e&&(D(),o.$$postDigest(function(){o.$$postDigest(function(){null===A&&(A=!0)})}))}),$=Object.create(null),P=t.customFilter(),L=t.classNameFilter(),R=function(){return!0},O=P||R,I=L?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return L.test(n)}:R,F=applyAnimationClassesFactory(C),N=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},H={on:function(e,t,n){var r=extractElementNode(t);$[e]=$[e]||[],$[e].push({node:r,callback:n}),x(t).on("$destroy",function(){M.get(r)||H.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||b(arguments[0])){var r=$[e];r&&($[e]=1===arguments.length?null:filterFromRegistry(r,t,n))}else{t=arguments[0];for(var i in $)$[i]=filterFromRegistry($[i],t)}},pin:function(e,t){assertArg(v(e),"element","not an element"),assertArg(v(t),"parentElement","not an element"),e.data(q,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,queueAnimation(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!A;else{if(v(e)){var r=getDomNode(e);1===n?t=!k.get(r):k.set(r,!t)}else t=A=!!e}return t}};return H}]}],G=["$animateProvider",function(e){function setRunner(e,t){e.data(r,t)}function removeRunner(e){e.removeData(r)}function getRunner(e){return e.data(r)}var t="ng-animate-ref",n=this.drivers=[],r="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,r,i,o,a,s){function sortAnimations(e){function processNode(e){if(e.processed)return e;e.processed=!0;var t=e.domNode,i=t.parentNode;r.set(t,e);for(var o;i;){if(o=r.get(i)){o.processed||(o=processNode(o));break}i=i.parentNode}return(o||n).children.push(e),e}var t,n={children:[]},r=new a;for(t=0;t<e.length;t++){var i=e[t];r.set(i.domNode,e[t]={domNode:i.domNode,fn:i.fn,children:[]})}for(t=0;t<e.length;t++)processNode(e[t]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;t<r.length;t++){var s=r[t];i<=0&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,r.push(e)}),i--}return a.length&&n.push(a),n}(n)}var l=[],c=applyAnimationClassesFactory(e);return function(a,d,h){function getAnchorNodes(e){var n="["+t+"]",r=e.hasAttribute(t)?[e]:e.querySelectorAll(n),i=[];return m(r,function(e){var n=e.getAttribute(t);n&&n.length&&i.push(e)}),i}function groupAnimations(e){var n=[],r={};m(e,function(e,i){var o=e.element,a=getDomNode(o),s=e.event,l=["enter","move"].indexOf(s)>=0,c=e.structural?getAnchorNodes(a):[];if(c.length){var u=l?"to":"from";m(c,function(e){var n=e.getAttribute(t);r[n]=r[n]||{},r[n][u]={animationID:i,element:x(e)}})}else n.push(e)});var i={},o={};return m(r,function(t,r){var a=t.from,s=t.to;if(!a||!s){var l=a?a.animationID:s.animationID,c=l.toString();return void(i[c]||(i[c]=!0,n.push(e[l])))}var u=e[a.animationID],d=e[s.animationID],h=a.animationID.toString();if(!o[h]){var p=o[h]={structural:!0,beforeStart:function(){u.beforeStart(),d.beforeStart()},close:function(){u.close(),d.close()},classes:cssClassesIntersection(u.classes,d.classes),from:u,to:d,anchors:[]};p.classes.length?n.push(p):(n.push(u),n.push(d))}o[h].anchors.push({out:a.element,in:s.element})}),n}function cssClassesIntersection(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function invokeFirstDriver(e){for(var t=n.length-1;t>=0;t--){var r=n[t],o=i.get(r),a=o(e);if(a)return a}}function beforeStart(){a.addClass(u),v&&e.addClass(a,v),y&&(e.removeClass(a,y),y=null)}function updateAnimationRunners(e,t){function update(e){var n=getRunner(e);n&&n.setHost(t)}e.from&&e.to?(update(e.from.element),update(e.to.element)):update(e.element)}function handleDestroyedElement(){var e=getRunner(a);!e||"leave"===d&&h.$$domOperationFired||e.end()}function close(t){a.off("$destroy",handleDestroyedElement),removeRunner(a),c(a,h),applyAnimationStyles(a,h),h.domOperation(),v&&e.removeClass(a,v),a.removeClass(u),f.complete(!t)}h=prepareAnimationOptions(h);var p=["enter","move","leave"].indexOf(d)>=0,f=new o({end:function(){close()},cancel:function(){close(!0)}});if(!n.length)return close(),f;setRunner(a,f);var g=mergeClasses(a.attr("class"),mergeClasses(h.addClass,h.removeClass)),v=h.tempClasses;v&&(g+=" "+v,h.tempClasses=null);var y;return p&&(y="ng-"+d+"-prepare",e.addClass(a,y)),l.push({element:a,classes:g,event:d,structural:p,options:h,beforeStart:beforeStart,close:close}),a.on("$destroy",handleDestroyedElement),l.length>1?f:(r.$$postDigest(function(){var e=[];m(l,function(t){getRunner(t.element)?e.push(t):t.close()}),l.length=0;var t=groupAnimations(e),n=[];m(t,function(e){n.push({domNode:getDomNode(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if(getRunner(e.anchors?e.from.element||e.to.element:e.element)){var r=invokeFirstDriver(e);r&&(t=r.start)}if(t){var i=t();i.done(function(e){n(!e)}),updateAnimationRunners(e,i)}else n()}})}),s(sortAnimations(n))}),f)}}]}],W=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,i,o){var a,s;t.$watchCollection(r.ngAnimateSwap||r.for,function(r){a&&e.leave(a),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){S=t.noop,h=t.copy,p=t.extend,x=t.element,m=t.forEach,f=t.isArray,b=t.isString,_=t.isObject,w=t.isUndefined,g=t.isDefined,y=t.isFunction,v=t.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",W).directive("ngAnimateChildren",L).factory("$$rAFScheduler",P).provider("$$animateQueue",U).provider("$$animation",G).provider("$animateCss",j).provider("$$animateCssDriver",B).provider("$$animateJs",V).provider("$$animateJsDriver",Y)}(window,window.angular)},function(e,t,n){n(291),e.exports="ngTouch"},function(e,t){!function(e,t){"use strict";function nodeName_(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function $TouchProvider(e,n){var i=!1,o=!1;this.ngClickOverrideEnabled=function(a){return t.isDefined(a)?(a&&!o&&(o=!0,r.$$moduleName="ngTouch",n.directive("ngClick",r),e.decorator("ngClickDirective",["$delegate",function(e){if(i)e.shift();else for(var t=e.length-1;t>=0;){if("ngTouch"===e[t].$$moduleName){e.splice(t,1);break}t--}return e}])),i=a,this):i},this.$get=function(){return{ngClickOverrideEnabled:function(){return i}}}}function makeSwipeDirective(e,r,i){n.directive(e,["$parse","$swipe",function(n,o){return function(a,s,l){function validSwipe(e){if(!c)return!1;var t=Math.abs(e.y-c.y),n=(e.x-c.x)*r;return u&&t<75&&n>0&&n>30&&t/n<.3}var c,u,d=n(l[e]),h=["touch"];t.isDefined(l.ngSwipeDisableMouse)||h.push("mouse"),o.bind(s,{start:function(e,t){c=e,u=!0},cancel:function(e){u=!1},end:function(e,t){validSwipe(e)&&a.$apply(function(){s.triggerHandler(i),d(a,{$event:t})})}},h)}}])}var n=t.module("ngTouch",[]);n.info({angularVersion:"1.6.6"}),n.provider("$touch",$TouchProvider),$TouchProvider.$inject=["$provide","$compileProvider"],n.factory("$swipe",[function(){function getCoordinates(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function getEvents(n,r){var i=[];return t.forEach(n,function(t){var n=e[t][r];n&&i.push(n)}),i.join(" ")}var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(e,t,n){var r,i,o,a,s=!1;n=n||["mouse","touch","pointer"],e.on(getEvents(n,"start"),function(e){o=getCoordinates(e),s=!0,r=0,i=0,a=o,t.start&&t.start(o,e)});var l=getEvents(n,"cancel");l&&e.on(l,function(e){s=!1,t.cancel&&t.cancel(e)}),e.on(getEvents(n,"move"),function(e){if(s&&o){var n=getCoordinates(e);if(r+=Math.abs(n.x-a.x),i+=Math.abs(n.y-a.y),a=n,!(r<10&&i<10))return i>r?(s=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(n,e)))}}),e.on(getEvents(n,"end"),function(e){s&&(s=!1,t.end&&t.end(getCoordinates(e),e))})}}}]);var r=["$parse","$timeout","$rootElement",function(e,n,r){function hit(e,t,n,r){return Math.abs(e-n)<l&&Math.abs(t-r)<l}function checkAllowableRegions(e,t,n){for(var r=0;r<e.length;r+=2)if(hit(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function onClick(e){if(!(Date.now()-i>s)){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,r=t[0].clientY;n<1&&r<1||a&&a[0]===n&&a[1]===r||(a&&(a=null),"label"===nodeName_(e.target)&&(a=[n,r]),checkAllowableRegions(o,n,r)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function onTouchStart(e){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;o.push(r,i),n(function(){for(var e=0;e<o.length;e+=2)if(o[e]===r&&o[e+1]===i)return void o.splice(e,e+2)},s,!1)}function preventGhostClick(e,t){o||(r[0].addEventListener("click",onClick,!0),r[0].addEventListener("touchstart",onTouchStart,!0),o=[]),i=Date.now(),checkAllowableRegions(o,e,t)}var i,o,a,s=2500,l=25,c="ng-click-active";return function(n,r,i){function resetState(){d=!1,r.removeClass(c)}var o,a,s,l,u=e(i.ngClick),d=!1;r.on("touchstart",function(e){d=!0,o=e.target?e.target:e.srcElement,3===o.nodeType&&(o=o.parentNode),r.addClass(c),a=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=n[0];s=i.clientX,l=i.clientY}),r.on("touchcancel",function(e){resetState()}),r.on("touchend",function(e){var n=Date.now()-a,c=e.originalEvent||e,u=c.changedTouches&&c.changedTouches.length?c.changedTouches:c.touches&&c.touches.length?c.touches:[c],h=u[0],p=h.clientX,m=h.clientY,f=Math.sqrt(Math.pow(p-s,2)+Math.pow(m-l,2));d&&n<750&&f<12&&(preventGhostClick(p,m),o&&o.blur(),t.isDefined(i.disabled)&&!1!==i.disabled||r.triggerHandler("click",[e])),resetState()}),r.onclick=function(e){},r.on("click",function(e,t){n.$apply(function(){u(n,{$event:t||e})})}),r.on("mousedown",function(e){r.addClass(c)}),r.on("mousemove mouseup",function(e){r.removeClass(c)})}}];makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight")}(window,window.angular)},function(e,t){!function(e,t){"use strict";function $AriaProvider(){function watchExpr(t,n,r,o){return function(a,s,l){var c=l.$normalize(n);!e[c]||i(s,r)||l[c]||a.$watch(l[t],function(e){e=o?!e:!!e,s.attr(n,e)})}}var e={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(n){e=t.extend(e,n)},this.$get=function(){return{config:function(t){return e[t]},$$watchExpr:watchExpr}}}var n=t.module("ngAria",["ng"]).info({angularVersion:"1.6.6"}).provider("$aria",$AriaProvider),r=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],i=function(e,t){if(-1!==t.indexOf(e[0].nodeName))return!0};n.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",r,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",r,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",r,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",r,!1)}]).directive("ngModel",["$aria",function(e){function shouldAttachAttr(t,n,o,a){return e.config(n)&&!o.attr(t)&&(a||!i(o,r))}function shouldAttachRole(e,t){return!t.attr("role")&&t.attr("type")===e&&!i(t,r)}function getShape(e,t){var n=e.type,r=e.role;return"checkbox"===(n||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(n||r)||"menuitemradio"===r?"radio":"range"===n||"progressbar"===r||"slider"===r?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(t,n){var r=getShape(n,t);return{post:function(t,n,i,o){function ngAriaWatchModelValue(){return o.$modelValue}function getRadioReaction(e){var t=i.value==o.$viewValue;n.attr("aria-checked",t)}function getCheckboxReaction(){n.attr("aria-checked",!o.$isEmpty(o.$viewValue))}var a=shouldAttachAttr("tabindex","tabindex",n,!1);switch(r){case"radio":case"checkbox":shouldAttachRole(r,n)&&n.attr("role",r),shouldAttachAttr("aria-checked","ariaChecked",n,!1)&&t.$watch(ngAriaWatchModelValue,"radio"===r?getRadioReaction:getCheckboxReaction),a&&n.attr("tabindex",0);break;case"range":if(shouldAttachRole(r,n)&&n.attr("role","slider"),e.config("ariaValue")){var s=!n.attr("aria-valuemin")&&(i.hasOwnProperty("min")||i.hasOwnProperty("ngMin")),l=!n.attr("aria-valuemax")&&(i.hasOwnProperty("max")||i.hasOwnProperty("ngMax")),c=!n.attr("aria-valuenow");s&&i.$observe("min",function(e){n.attr("aria-valuemin",e)}),l&&i.$observe("max",function(e){n.attr("aria-valuemax",e)}),c&&t.$watch(ngAriaWatchModelValue,function(e){n.attr("aria-valuenow",e)})}a&&n.attr("tabindex",0)}!i.hasOwnProperty("ngRequired")&&o.$validators.required&&shouldAttachAttr("aria-required","ariaRequired",n,!1)&&i.$observe("required",function(){n.attr("aria-required",!!i.required)}),shouldAttachAttr("aria-invalid","ariaInvalid",n,!0)&&t.$watch(function(){return o.$invalid},function(e){n.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",r,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,r){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,o){var a=t(o.ngClick);return function(t,n,o){i(n,r)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!e.config("bindKeydown")||o.ngKeydown||o.ngKeypress||o.ngKeyup||n.on("keydown",function(e){function callback(){a(t,{$event:e})}var n=e.which||e.keyCode;32!==n&&13!==n||t.$apply(callback)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,o){!e.config("tabindex")||n.attr("tabindex")||i(n,r)||n.attr("tabindex",0)}}])}(window,window.angular)},function(e,t,n){n(294),e.exports="ngMessages"},function(e,t){!function(e,t){"use strict";function ngMessageDirectiveFactory(){function contains(e,t){if(e)return r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,n,i,o,a){var s,l=n[0],c=i.ngMessage||i.when,u=i.ngMessageExp||i.whenExp,d=function(e){s=e?r(e)?e:e.split(/[\s,]+/):null,o.reRender()};u?(d(t.$eval(u)),t.$watchCollection(u,d)):d(c);var h,p;o.register(l,p={test:function(e){return contains(s,e)},attach:function(){h||a(function(t,r){e.enter(t,null,n),h=t;var i=h.$$attachId=o.getAttachId();h.on("$destroy",function(){h&&h.$$attachId===i&&(o.deregister(l),p.detach()),r.$destroy()})})},detach:function(){if(h){var t=h;h=null,e.leave(t)}}})}}}]}var n,r,i,o;t.module("ngMessages",[],function(){n=t.forEach,r=t.isArray,i=t.isString,o=t.element}).info({angularVersion:"1.6.6"}).directive("ngMessages",["$animate",function(e){function isAttrTruthy(e,t){return i(t)&&0===t.length||truthy(e.$eval(t))}function truthy(e){return i(e)?e.length:!!e}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(t,r,i){function findPreviousMessage(e,t){for(var n=t,r=[];n&&n!==e;){var i=n.$$ngMessageNode;if(i&&i.length)return u[i];n.childNodes.length&&-1===r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}function insertMessageNode(e,t,n){var r=u[n];if(o.head){var i=findPreviousMessage(e,t);i?(r.next=i.next,i.next=r):(r.next=o.head,o.head=r)}else o.head=r}function removeMessageNode(e,t,n){var r=u[n],i=findPreviousMessage(e,t);i?i.next=r.next:o.head=r.next}var o=this,a=0,s=0;this.getAttachId=function(){return s++};var l,c,u=this.messages={};this.render=function(a){a=a||{},l=!1,c=a;for(var s=isAttrTruthy(r,i.ngMessagesMultiple)||isAttrTruthy(r,i.multiple),u=[],d={},h=o.head,p=!1,m=0;null!=h;){m++;var f=h.message,g=!1;p||n(a,function(e,t){if(!g&&truthy(e)&&f.test(t)){if(d[t])return;d[t]=!0,g=!0,f.attach()}}),g?p=!s:u.push(f),h=h.next}n(u,function(e){e.detach()}),u.length!==m?e.setClass(t,"ng-active","ng-inactive"):e.setClass(t,"ng-inactive","ng-active")},r.$watchCollection(i.ngMessages||i.for,o.render),t.on("$destroy",function(){n(u,function(e){e.message.detach()})}),this.reRender=function(){l||(l=!0,r.$evalAsync(function(){l&&c&&o.render(c)}))},this.register=function(e,n){var r=a.toString();u[r]={message:n},insertMessageNode(t[0],e,r),e.$$ngMessageNode=r,a++,o.reRender()},this.deregister=function(e){var n=e.$$ngMessageNode;delete e.$$ngMessageNode,removeMessageNode(t[0],e,n),delete u[n],o.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){function replaceElementWithMarker(e,r){var i=n.$$createComment?n.$$createComment("ngMessagesInclude",r):t[0].createComment(" ngMessagesInclude: "+r+" "),a=o(i);e.after(a),e.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,r,o){var a=o.ngMessagesInclude||o.src;e(a).then(function(e){t.$$destroyed||(i(e)&&!e.trim()?replaceElementWithMarker(r,a):n(e)(t,function(e){r.after(e),replaceElementWithMarker(r,a)}))})}}}]).directive("ngMessage",ngMessageDirectiveFactory()).directive("ngMessageExp",ngMessageDirectiveFactory())}(window,window.angular)},function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function curry(e){function curried(t){return t.length>=n?e.apply(null,t):function(){return curried(t.concat([].slice.apply(arguments)))}}var t=[].slice.apply(arguments,[1]),n=e.length;return curried(t)}function compose(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function pipe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return compose.apply(null,[].slice.call(arguments).reverse())}function and(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(null,n)&&t.apply(null,n)}}function or(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(null,n)||t.apply(null,n)}}function invoke(e,t){return function(n){return n[e].apply(n,t)}}function pattern(e){return function(t){for(var n=0;n<e.length;n++)if(e[n][0](t))return e[n][1](t)}}function isInjectable(e){if(x(e)&&e.length){var t=e.slice(0,-1),n=e.slice(-1);return!(t.filter(i(b)).length||n.filter(i(y)).length)}return y(e)}function identity(e){return e}function noop(){}function createProxyFunctions(e,t,n,r,i){void 0===i&&(i=!1);var o=function(t){return e()[t].bind(n())},a=function(e){return function(){return t[e]=o(e),t[e].apply(null,arguments)}};return r=r||Object.keys(e()),r.reduce(function(e,t){return e[t]=i?a(t):o(t),e},t)}function _inArray(e,t){return-1!==e.indexOf(t)}function _removeFrom(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),e}function _pushTo(e,t){return e.push(t),t}function defaults(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.concat({}).reverse(),i=R.apply(null,r);return R({},i,pick(e||{},Object.keys(i)))}function ancestors(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function pick(e,t){var n={};for(var r in e)-1!==t.indexOf(r)&&(n[r]=e[r]);return n}function omit(e,t){return Object.keys(e).filter(i(F(t))).reduce(function(t,n){return t[n]=e[n],t},{})}function pluck(e,n){return map(e,t(n))}function filter(e,t){var n=x(e),r=n?[]:{},i=n?function(e){return r.push(e)}:function(e,t){return r[t]=e};return L(e,function(e,n){t(e,n)&&i(e,n)}),r}function find(e,t){var n;return L(e,function(e,r){n||t(e,r)&&(n=e)}),n}function map(e,t){var n=x(e)?[]:{};return L(e,function(e,r){return n[r]=t(e,r)}),n}function pushR(e,t){return e.push(t),e}function assertFn(e,t){return void 0===t&&(t="assert failure"),function(n){var r=e(n);if(!r)throw new Error(y(t)?t(n):t);return r}}function arrayTuples(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];var n,r=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),i=[];for(n=0;n<r;n++)switch(e.length){case 1:i.push([e[0][n]]);break;case 2:i.push([e[0][n],e[1][n]]);break;case 3:i.push([e[0][n],e[1][n],e[2][n]]);break;case 4:i.push([e[0][n],e[1][n],e[2][n],e[3][n]]);break;default:i.push(e.map(function(e){return e[n]}))}return i}function applyPairs(e,t){var n,r;if(x(t)&&(n=t[0],r=t[1]),!b(n))throw new Error("invalid parameters to applyPairs");return e[n]=r,e}function tail(e){return e.length&&e[e.length-1]||void 0}function copy(e,t){return t&&Object.keys(t).forEach(function(e){return delete t[e]}),t||(t={}),R(t,e)}function _forEach(e,t,n){if(x(e))return e.forEach(t,n);Object.keys(e).forEach(function(n){return t(e[n],n)})}function _extend(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)e[r[i]]=n[r[i]]}return e}function _equals(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n=typeof e;if(n!==typeof t||"object"!==n)return!1;var r=[e,t];if(o(x)(r))return _arraysEq(e,t);if(o(S)(r))return e.getTime()===t.getTime();if(o(C)(r))return e.toString()===t.toString();if(o(y)(r))return!0;if([y,x,S,C].map(a).reduce(function(e,t){return e||!!t(r)},!1))return!1;var i,s={};for(i in e){if(!_equals(e[i],t[i]))return!1;s[i]=!0}for(i in t)if(!s[i])return!1;return!0}function _arraysEq(e,t){return e.length===t.length&&arrayTuples(e,t).reduce(function(e,t){return e&&_equals(t[0],t[1])},!0)}function uiViewString(e){if(!e)return"ui-view (defunct)";var t=e.creationContext?e.creationContext.name||"(root)":"(none)";return"[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"}function normalizedCat(t){return _(t)?e.Category[t]:e.Category[e.Category[t]]}function matchState(e,t){function matchGlobs(e){for(var t=n,r=0;r<t.length;r++){var i=new u(t[r]);if(i&&i.matches(e.name)||!i&&t[r]===e.name)return!0}return!1}var n=b(t)?[t]:t;return!!(y(n)?n:matchGlobs)(e)}function makeEvent(e,t,n){function hookRegistrationFn(e,r,o){void 0===o&&(o={});var a=new fe(t,n,r,e,o);return i.push(a),function(){a._deregistered=!0,N(i)(a)}}var r=e._registeredHooks=e._registeredHooks||{},i=r[n.name]=[];return e[n.name]=hookRegistrationFn,hookRegistrationFn}function tupleSort(e){return void 0===e&&(e=!1),function(t,n){var r=e?-1:1,i=(t.node.state.path.length-n.node.state.path.length)*r;return 0!==i?i:n.hook.priority-t.hook.priority}}function ArrayType(e,t){function arrayWrap(e){return x(e)?e:f(e)?[e]:[]}function arrayUnwrap(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}function arrayHandler(e,t){return function(n){if(x(n)&&0===n.length)return n;var r=arrayWrap(n),i=map(r,e);return!0===t?0===filter(i,function(e){return!e}).length:arrayUnwrap(i)}}function arrayEqualsHandler(e){return function(t,n){var r=arrayWrap(t),i=arrayWrap(n);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],i[o]))return!1;return!0}}var n=this;["encode","decode","equals","$normalize"].forEach(function(t){var r=e[t].bind(e),i="equals"===t?arrayEqualsHandler:arrayHandler;n[t]=i(r)}),R(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:arrayHandler(e.is.bind(e),!0),$arrayMode:t})}function unwrapShorthand(e){function getStaticDefaultValue(){return e.value}return e=_e(e)&&{value:e}||e,getStaticDefaultValue.__cacheable=!0,R(e,{$$fn:isInjectable(e.value)?e.value:getStaticDefaultValue})}function getType(t,n,r,i,o){if(t.type&&n&&"string"!==n.name)throw new Error("Param '"+i+"' has two type configurations.");if(t.type&&n&&"string"===n.name&&o.type(t.type))return o.type(t.type);if(n)return n;if(!t.type){var a=r===e.DefType.CONFIG?"any":r===e.DefType.PATH?"path":r===e.DefType.SEARCH?"query":"string";return o.type(a)}return t.type instanceof ve?t.type:o.type(t.type)}function getSquashPolicy(e,t,n){var r=e.squash;if(!t||!1===r)return!1;if(!f(r)||null==r)return n;if(!0===r||b(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function getReplace(e,n,r,i){var o,a,s=[{from:"",to:r||n?void 0:""},{from:null,to:r||n?void 0:""}];return o=x(e.replace)?e.replace:[],b(i)&&o.push({from:i,to:void 0}),a=map(o,t("from")),filter(s,function(e){return-1===a.indexOf(e.from)}).concat(o)}function maxLength(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function padString(e,t){for(;t.length<e;)t+=" ";return t}function kebobString(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function functionToString(e){var t=fnToString(e),n=t.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:t,i=e.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function fnToString(e){var t=x(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}function stringify(e){function format(e){if(w(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return Oe(e)}var t=[];return JSON.stringify(e,function(e,t){return format(t)}).replace(/\\"/g,'"')}function splitOnDelim(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(identity)}}function joinNeighborsR(e,t){return b(tail(e))&&b(t)?e.slice(0,-1).concat(tail(e)+t):pushR(e,t)}function nameBuilder(e){return e.name}function selfBuilder(e){return e.self.$$state=function(){return e},e.self}function dataBuilder(e){return e.parent&&e.parent.data&&(e.data=e.self.data=I(e.parent.data,e.data)),e.data}function pathBuilder(e){return e.parent?e.parent.path.concat(e):[e]}function includesBuilder(e){var t=e.parent?R({},e.parent.includes):{};return t[e.name]=!0,t}function resolvablesBuilder(e){var n=function(e){var t=k.$injector;return e.$inject||t&&t.annotate(e,t.strictDi)||"deferred"},r=function(e){return!(!e.token||!e.resolveFn)},i=function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},o=function(e){return!!(e&&e.val&&(b(e.val)||x(e.val)||y(e.val)))},a=function(e){return e.provide||e.token},l=pattern([[t("resolveFn"),function(e){return new Ce(a(e),e.resolveFn,e.deps,e.policy)}],[t("useFactory"),function(e){return new Ce(a(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[t("useClass"),function(e){return new Ce(a(e),function(){return new e.useClass},[],e.policy)}],[t("useValue"),function(e){return new Ce(a(e),function(){return e.useValue},[],e.policy,e.useValue)}],[t("useExisting"),function(e){return new Ce(a(e),identity,[e.useExisting],e.policy)}]]),u=pattern([[pipe(t("val"),b),function(e){return new Ce(e.token,identity,[e.val],e.policy)}],[pipe(t("val"),x),function(e){return new Ce(e.token,tail(e.val),e.val.slice(0,-1),e.policy)}],[pipe(t("val"),y),function(e){return new Ce(e.token,e.val,n(e.val),e.policy)}]]),d=pattern([[s(Ce),function(e){return e}],[r,l],[i,l],[o,u],[c(!0),function(e){throw new Error("Invalid resolve value: "+stringify(e))}]]),h=e.resolve;return(x(h)?h:function(e,t){return Object.keys(e||{}).map(function(n){return{token:n,val:e[n],deps:void 0,policy:t[n]}})}(h,e.resolvePolicy||{})).map(d)}function quoteRegExp(e,t){var n=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return r+n[0]+t.type.pattern.source+n[1]}function appendBasePath(e,t,n,r){return"/"===r?e:t?Ne(r)+e:n?r.slice(1)+e:e}function getHandlerFn(e){if(!(y(e)||b(e)||s(he)(e)||he.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return y(e)?e:c(e)}function addCoreResolvables(e){e.addResolvable({token:wt,deps:[],resolveFn:function(){return e.router},data:e.router},""),e.addResolvable({token:Le,deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return e.params()},data:e.params()},""),e.entering().forEach(function(t){e.addResolvable({token:"$state$",deps:[],resolveFn:function(){return t},data:t},t)})}function makeEnterExitRetainHook(e){return function(t,n){return(0,n.$$state()[e])(t,n)}}function lazyLoadState(e,t){function updateStateRegistry(t){return t&&Array.isArray(t.states)&&t.states.forEach(function(t){return e.router.stateRegistry.register(t)}),t}var n=t.$$state().lazyLoad,r=n._promise;if(!r){var i=function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete n._promise,e},o=function(e){return delete n._promise,k.$q.reject(e)};r=n._promise=k.$q.when(n(e,t)).then(updateStateRegistry).then(i,o)}return r}function ignoredHook(e){var t=e._ignoredReason();if(t){de.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),ie.ignored().toPromise()}}function invalidTransitionHook(e){if(!e.valid())throw new Error(e.error())}function parseUrl$1(e){var t=function(e){return e||""},n=He(e).map(t),r=n[0],i=n[1],o=je(r).map(t);return{path:o[0],search:o[1],hash:i,url:e}}function locationPluginFactory(e,t,n,r){return function(i){function dispose(e){e.dispose(o),e.dispose(a)}var o=i.locationService=new n(i),a=i.locationConfig=new r(i,t);return{name:e,service:o,configuration:a,dispose:dispose}}}function getCustomEventCtor(){function _CustomEvent(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}_CustomEvent.prototype=Event.prototype;try{return new CustomEvent("foo"),CustomEvent}catch(e){return _CustomEvent}}function servicesPlugin(e){return k.$injector=tn,k.$q=Jt,{name:"vanilla.services",$q:Jt,$injector:tn,dispose:function(){return null}}}var t=function(e){return function(t){return t&&t[e]}},n=curry(function(e,t,n){return n&&n[e]===t}),r=function(e){return pipe.apply(null,e.split(".").map(t))},i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},o=function(e){return function(t){return t.reduce(function(t,n){return t&&!!e(n)},!0)}},a=function(e){return function(t){return t.reduce(function(t,n){return t||!!e(n)},!1)}},s=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},l=function(e){return function(t){return e===t}},c=function(e){return function(){return e}},u=function(){function Glob(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return Glob.prototype.matches=function(e){return this.regexp.test("."+e)},Glob.is=function(e){return!!/[!,*]+/.exec(e)},Glob.fromString=function(e){return Glob.is(e)?new Glob(e):null},Glob}(),d=function(){function StateObject(e){return StateObject.create(e||{})}return StateObject.create=function(e){e=StateObject.isStateClass(e)?new e:e;var t=I(I(e,StateObject.prototype));return e.$$state=function(){return t},t.self=e,t.__stateObjectCache={nameGlob:u.fromString(t.name)},t},StateObject.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},StateObject.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},StateObject.prototype.root=function(){return this.parent&&this.parent.root()||this},StateObject.prototype.parameters=function(e){return e=defaults(e,{inherit:!0,matchingKeys:null}),(e.inherit&&this.parent&&this.parent.parameters()||[]).concat(Y(this.params)).filter(function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},StateObject.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||find(Y(this.params),n("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},StateObject.prototype.toString=function(){return this.fqn()},StateObject.isStateClass=function(e){return y(e)&&!0===e.__uiRouterState},StateObject.isState=function(e){return w(e.__stateObjectCache)},StateObject}(),h=Object.prototype.toString,p=function(e){return function(t){return typeof t===e}},m=p("undefined"),f=i(m),g=function(e){return null===e},v=or(g,m),y=p("function"),_=p("number"),b=p("string"),w=function(e){return null!==e&&"object"==typeof e},x=Array.isArray,S=function(e){return"[object Date]"===h.call(e)},C=function(e){return"[object RegExp]"===h.call(e)},E=d.isState,T=and(w,pipe(t("then"),y)),M=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}},k={$q:void 0,$injector:void 0},A="undefined"==typeof window?{}:window,D=A.angular||{},$=D.fromJson||JSON.parse.bind(JSON),P=D.toJson||JSON.stringify.bind(JSON),L=D.forEach||_forEach,R=Object.assign||_extend,O=D.equals||_equals,I=function(e,t){return R(Object.create(e),t)},F=curry(_inArray),N=curry(_removeFrom),H=curry(_pushTo),j=function(e){return e.slice().forEach(function(t){"function"==typeof t&&t(),N(e,t)})},B=function(e,t){return R(e,t)},V=map,Y=function(e){return Object.keys(e).map(function(t){return e[t]})},z=function(e,t){return e&&t},q=function(e,t){return e||t},U=function(e,t){return e.concat(t)},G=function(e,t){return x(t)?e.concat(t.reduce(G,[])):pushR(e,t)},W=function(e,t){return F(e,t)?e:pushR(e,t)},K=function(e){return e.reduce(U,[])},X=function(e){return e.reduce(G,[])},J=assertFn,Z=assertFn,Q=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},ee=function(e){return e.catch(function(e){return 0})&&e},te=function(e){return ee(k.$q.reject(e))},ne=function(){function Queue(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t}return Queue.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&t.shift(),e},Queue.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},Queue.prototype.clear=function(){var e=this._items;return this._items=[],e},Queue.prototype.size=function(){return this._items.length},Queue.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},Queue.prototype.peekTail=function(){return this._items[this._items.length-1]},Queue.prototype.peekHead=function(){if(this.size())return this._items[0]},Queue}();!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(e.RejectType||(e.RejectType={}));var re=0,ie=function(){function Rejection(e,t,n){this.$id=re++,this.type=e,this.message=t,this.detail=n}return Rejection.prototype.toString=function(){var e=function(e){return e&&e.toString!==Object.prototype.toString?e.toString():stringify(e)}(this.detail),t=this;return"Transition Rejection($id: "+t.$id+" type: "+t.type+", message: "+t.message+", detail: "+e+")"},Rejection.prototype.toPromise=function(){return R(te(this),{_transitionRejection:this})},Rejection.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&s(Rejection)(e._transitionRejection)},Rejection.superseded=function(t,n){var r=new Rejection(e.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",t);return n&&n.redirected&&(r.redirected=!0),r},Rejection.redirected=function(e){return Rejection.superseded(e,{redirected:!0})},Rejection.invalid=function(t){return new Rejection(e.RejectType.INVALID,"This transition is invalid",t)},Rejection.ignored=function(t){return new Rejection(e.RejectType.IGNORED,"The transition was ignored",t)},Rejection.aborted=function(t){return new Rejection(e.RejectType.ABORTED,"The transition has been aborted",t)},Rejection.errored=function(t){return new Rejection(e.RejectType.ERROR,"The transition errored",t)},Rejection.normalize=function(e){return s(Rejection)(e)?e:Rejection.errored(e)},Rejection}(),oe=function(e){var t=e.viewDecl,n=t.$context.name||"(root)";return"[View#"+e.$id+" from '"+n+"' state]: target ui-view: '"+t.$uiViewName+"@"+t.$uiViewContextAnchor+"'"},ae=y(console.table)?console.table.bind(console):console.log.bind(console);!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(e.Category||(e.Category={}));var se=r("$id"),le=r("router.$id"),ce=function(e){return"Transition #"+se(e)+"-"+le(e)},ue=function(){function Trace(){this._enabled={},this.approximateDigests=0}return Trace.prototype._set=function(t,n){var r=this;n.length||(n=Object.keys(e.Category).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(t){return e.Category[t]})),n.map(normalizedCat).forEach(function(e){return r._enabled[e]=t})},Trace.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},Trace.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},Trace.prototype.enabled=function(e){return!!this._enabled[normalizedCat(e)]},Trace.prototype.traceTransitionStart=function(t){this.enabled(e.Category.TRANSITION)&&console.log(ce(t)+": Started  -> "+stringify(t))},Trace.prototype.traceTransitionIgnored=function(t){this.enabled(e.Category.TRANSITION)&&console.log(ce(t)+": Ignored  <> "+stringify(t))},Trace.prototype.traceHookInvocation=function(t,n,i){if(this.enabled(e.Category.HOOK)){var o=r("traceData.hookType")(i)||"internal",a=r("traceData.context.state.name")(i)||r("traceData.context")(i)||"unknown",s=functionToString(t.registeredHook.callback);console.log(ce(n)+":   Hook -> "+o+" context: "+a+", "+maxLength(200,s))}},Trace.prototype.traceHookResult=function(t,n,r){this.enabled(e.Category.HOOK)&&console.log(ce(n)+":   <- Hook returned: "+maxLength(200,stringify(t)))},Trace.prototype.traceResolvePath=function(t,n,r){this.enabled(e.Category.RESOLVE)&&console.log(ce(r)+":         Resolving "+t+" ("+n+")")},Trace.prototype.traceResolvableResolved=function(t,n){this.enabled(e.Category.RESOLVE)&&console.log(ce(n)+":               <- Resolved  "+t+" to: "+maxLength(200,stringify(t.data)))},Trace.prototype.traceError=function(t,n){this.enabled(e.Category.TRANSITION)&&console.log(ce(n)+": <- Rejected "+stringify(n)+", reason: "+t)},Trace.prototype.traceSuccess=function(t,n){this.enabled(e.Category.TRANSITION)&&console.log(ce(n)+": <- Success  "+stringify(n)+", final state: "+t.name)},Trace.prototype.traceUIViewEvent=function(t,n,r){void 0===r&&(r=""),this.enabled(e.Category.UIVIEW)&&console.log("ui-view: "+padString(30,t)+" "+uiViewString(n)+r)},Trace.prototype.traceUIViewConfigUpdated=function(t,n){this.enabled(e.Category.UIVIEW)&&this.traceUIViewEvent("Updating",t," with ViewConfig from context='"+n+"'")},Trace.prototype.traceUIViewFill=function(t,n){this.enabled(e.Category.UIVIEW)&&this.traceUIViewEvent("Fill",t," with: "+maxLength(200,n))},Trace.prototype.traceViewSync=function(t){if(this.enabled(e.Category.VIEWCONFIG)){var n=t.map(function(e){var t=e[0],n=e[1];return{"ui-view fqn":t.$type+":"+t.fqn,"state: view name":n&&n.viewDecl.$context.name+": "+n.viewDecl.$name+" ("+n.viewDecl.$type+")"}}).sort(function(e,t){return e["ui-view fqn"].localeCompare(t["ui-view fqn"])});ae(n)}},Trace.prototype.traceViewServiceEvent=function(t,n){this.enabled(e.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+oe(n))},Trace.prototype.traceViewServiceUIViewEvent=function(t,n){this.enabled(e.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+uiViewString(n))},Trace}(),de=new ue;!function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"}(e.TransitionHookPhase||(e.TransitionHookPhase={})),function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(e.TransitionHookScope||(e.TransitionHookScope={}));var he=function(){function TargetState(e,t,n,r){this._stateRegistry=e,this._identifier=t,this._identifier=t,this._params=R({},n||{}),this._options=R({},r||{}),this._definition=e.matcher.find(t,this._options.relative)}return TargetState.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},TargetState.prototype.identifier=function(){return this._identifier},TargetState.prototype.params=function(){return this._params},TargetState.prototype.$state=function(){return this._definition},TargetState.prototype.state=function(){return this._definition&&this._definition.self},TargetState.prototype.options=function(){return this._options},TargetState.prototype.exists=function(){return!(!this._definition||!this._definition.self)},TargetState.prototype.valid=function(){return!this.error()},TargetState.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},TargetState.prototype.toString=function(){return"'"+this.name()+"'"+stringify(this.params())},TargetState.prototype.withState=function(e){return new TargetState(this._stateRegistry,e,this._params,this._options)},TargetState.prototype.withParams=function(e,t){void 0===t&&(t=!1);var n=t?e:R({},this._params,e);return new TargetState(this._stateRegistry,this._identifier,n,this._options)},TargetState.prototype.withOptions=function(e,t){void 0===t&&(t=!1);var n=t?e:R({},this._options,e);return new TargetState(this._stateRegistry,this._identifier,this._params,n)},TargetState.isDef=function(e){return e&&e.state&&(b(e.state)||b(e.state.name))},TargetState}(),pe={current:noop,transition:null,traceData:{},bind:null},me=function(){function TransitionHook(t,n,r,i){var o=this;this.transition=t,this.stateContext=n,this.registeredHook=r,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===e.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=defaults(i,pe),this.type=r.eventType}return TransitionHook.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},TransitionHook.prototype.invokeHook=function(){var e=this,t=this.registeredHook;if(!t._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var r=this.options;de.traceHookInvocation(this,this.transition,r);var i=function(e){return ie.normalize(e).toPromise()},o=function(n){return t.eventType.getErrorHandler(e)(n)},a=function(n){return t.eventType.getResultHandler(e)(n)};try{var s=function(){return t.callback.call(r.bind,e.transition,e.stateContext)}();return!this.type.synchronous&&T(s)?s.catch(i).then(a,o):a(s)}catch(e){return o(ie.normalize(e))}}},TransitionHook.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(T(e)?e.then(function(e){return t.handleHookResult(e)}):(de.traceHookResult(e,this.transition,this.options),!1===e?ie.aborted("Hook aborted transition").toPromise():s(he)(e)?ie.redirected(e).toPromise():void 0))},TransitionHook.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?ie.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?ie.aborted().toPromise():this.isSuperseded()?ie.superseded(this.options.current()).toPromise():void 0},TransitionHook.prototype.toString=function(){var e=this,t=e.options,n=e.registeredHook;return(r("traceData.hookType")(t)||"internal")+" context: "+(r("traceData.context.state.name")(t)||r("traceData.context")(t)||"unknown")+", "+maxLength(200,fnToString(n.callback))},TransitionHook.chain=function(e,t){var n=function(e,t){return e.then(function(){return t.invokeHook()})};return e.reduce(n,t||k.$q.when())},TransitionHook.invokeHooks=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].invokeHook();if(T(r)){var i=e.slice(n+1);return TransitionHook.chain(i,r).then(t)}}return t()},TransitionHook.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},TransitionHook.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},TransitionHook.LOG_REJECTED_RESULT=function(e){return function(t){T(t)&&t.catch(function(t){return e.logError(ie.normalize(t))})}},TransitionHook.LOG_ERROR=function(e){return function(t){return e.logError(t)}},TransitionHook.REJECT_ERROR=function(e){return function(e){return te(e)}},TransitionHook.THROW_ERROR=function(e){return function(e){throw e}},TransitionHook}(),fe=function(){function RegisteredHook(e,t,n,r,i){void 0===i&&(i={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=r,this.priority=i.priority||0,this.bind=i.bind||null,this._deregistered=!1}return RegisteredHook.prototype._matchingNodes=function(e,t){if(!0===t)return e;var n=e.filter(function(e){return matchState(e.state,t)});return n.length?n:null},RegisteredHook.prototype._getDefaultMatchCriteria=function(){return map(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},RegisteredHook.prototype._getMatchingNodes=function(t){var n=this,r=R(this._getDefaultMatchCriteria(),this.matchCriteria);return Y(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,o){var a=o.scope===e.TransitionHookScope.STATE,s=t[o.name]||[],l=a?s:[tail(s)];return i[o.name]=n._matchingNodes(l,r[o.name]),i},{})},RegisteredHook.prototype.matches=function(e){var t=this._getMatchingNodes(e);return Y(t).every(identity)?t:null},RegisteredHook}(),ge=function(){function HookBuilder(e){this.transition=e}return HookBuilder.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(U,[]).filter(identity)},HookBuilder.prototype.buildHooks=function(t){var n=this.transition,r=n.treeChanges(),i=this.getMatchingHooks(t,r);if(!i)return[];var o={transition:n,current:n.options().current},a=function(i){return i.matches(r)[t.criteriaMatchPath.name].map(function(r){var a=R({bind:i.bind,traceData:{hookType:t.name,context:r}},o),s=t.criteriaMatchPath.scope===e.TransitionHookScope.STATE?r.state.self:null,l=new me(n,s,i,a);return{hook:i,node:r,transitionHook:l}})};return i.map(a).reduce(U,[]).sort(tupleSort(t.reverseSort)).map(function(e){return e.transitionHook})},HookBuilder.prototype.getMatchingHooks=function(t,n){var r=t.hookPhase===e.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(r?[i]:[this.transition,i]).map(function(e){return e.getHooks(t.name)}).filter(J(x,"broken event named: "+t.name)).reduce(U,[]).filter(function(e){return e.matches(n)})},HookBuilder}(),ve=function(){function ParamType(e){this.pattern=/.*/,this.inherit=!0,R(this,e)}return ParamType.prototype.is=function(e,t){return!0},ParamType.prototype.encode=function(e,t){return e},ParamType.prototype.decode=function(e,t){return e},ParamType.prototype.equals=function(e,t){return e==t},ParamType.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},ParamType.prototype.toString=function(){return"{ParamType:"+this.name+"}"},ParamType.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},ParamType.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,e)},ParamType}(),ye=Object.prototype.hasOwnProperty,_e=function(e){return 0===["value","type","squash","array","dynamic"].filter(ye.bind(e||{})).length};!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(e.DefType||(e.DefType={}));var be=function(){function Param(t,n,r,i,o){r=unwrapShorthand(r),n=getType(r,n,i,t,o.paramTypes);var a=function(){var n={array:i===e.DefType.SEARCH&&"auto"},o=t.match(/\[\]$/)?{array:!0}:{};return R(n,o,r).array}();n=a?n.$asArray(a,i===e.DefType.SEARCH):n;var s=void 0!==r.value||i===e.DefType.SEARCH,l=f(r.dynamic)?!!r.dynamic:!!n.dynamic,c=f(r.raw)?!!r.raw:!!n.raw,u=getSquashPolicy(r,s,o.defaultSquashPolicy()),d=getReplace(r,a,s,u),h=f(r.inherit)?!!r.inherit:!!n.inherit;R(this,{id:t,type:n,location:i,isOptional:s,dynamic:l,raw:c,squash:u,replace:d,inherit:h,array:a,config:r})}return Param.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},Param.prototype.value=function(e){var t=this;return e=function(e){for(var n=0,r=t.replace;n<r.length;n++){var i=r[n];if(i.from===e)return i.to}return e}(e),m(e)?function(){if(t._defaultValueCache)return t._defaultValueCache.defaultValue;if(!k.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=k.$injector.invoke(t.config.$$fn);if(null!==e&&void 0!==e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return t.config.$$fn.__cacheable&&(t._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},Param.prototype.isSearch=function(){return this.location===e.DefType.SEARCH},Param.prototype.validates=function(e){if((m(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(b(n)&&!this.type.pattern.exec(n))},Param.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},Param.values=function(e,t){void 0===t&&(t={});for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];n[o.id]=o.value(t[o.id])}return n},Param.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},Param.equals=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),0===Param.changed(e,t,n).length},Param.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(z,!0)},Param}(),we=function(){function PathNode(e){if(e instanceof PathNode){var t=e;this.state=t.state,this.paramSchema=t.paramSchema.slice(),this.paramValues=R({},t.paramValues),this.resolvables=t.resolvables.slice(),this.views=t.views&&t.views.slice()}else{var n=e;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(e){return e.clone()})}}return PathNode.prototype.applyRawParams=function(e){var t=function(t){return[t.id,t.value(e[t.id])]};return this.paramValues=this.paramSchema.reduce(function(e,n){return applyPairs(e,t(n))},{}),this},PathNode.prototype.parameter=function(e){return find(this.paramSchema,n("id",e))},PathNode.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},PathNode.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return be.changed(n,this.paramValues,e.paramValues)},PathNode.clone=function(e){return new PathNode(e)},PathNode}(),xe=function(){function PathUtils(){}return PathUtils.makeTargetState=function(e,n){var r=tail(n).state;return new he(e,r,n.map(t("paramValues")).reduce(B,{}),{})},PathUtils.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new we(e).applyRawParams(t)})},PathUtils.buildToPath=function(e,t){var n=PathUtils.buildPath(t);return t.options().inherit?PathUtils.inheritParams(e,n,Object.keys(t.params())):n},PathUtils.applyViewConfigs=function(e,t,n){t.filter(function(e){return F(n,e.state)}).forEach(function(n){var r=Y(n.state.views||{}),i=PathUtils.subPath(t,function(e){return e===n}),o=r.map(function(t){return e.createViewConfig(i,t)});n.views=o.reduce(U,[])})},PathUtils.inheritParams=function(e,r,i){function nodeParamVals(e,t){var r=find(e,n("state",t));return R({},r&&r.paramValues)}function makeInheritedParamsNode(t){var n=R({},t&&t.paramValues),r=pick(n,i);n=omit(n,i);var a=omit(nodeParamVals(e,t.state)||{},o),s=R(n,a,r);return new we(t.state).applyRawParams(s)}void 0===i&&(i=[]);var o=e.map(function(e){return e.paramSchema}).reduce(U,[]).filter(function(e){return!e.inherit}).map(t("id"));return r.map(makeInheritedParamsNode)},PathUtils.treeChanges=function(e,t,n){function applyToParams(e,n){var r=we.clone(e);return r.paramValues=t[n].paramValues,r}for(var r=0,i=Math.min(e.length,t.length);r<i&&e[r].state!==n&&function(e,t){return e.equals(t,PathUtils.nonDynamicParams)}(e[r],t[r]);)r++;var o,a,s,l,c;o=e,a=o.slice(0,r),s=o.slice(r);var u=a.map(applyToParams);return l=t.slice(r),c=u.concat(l),{from:o,to:c,retained:a,exiting:s,entering:l}},PathUtils.matching=function(e,t,n){var r=!1;return arrayTuples(e,t).reduce(function(e,t){var i=t[0],o=t[1];return r=r||!i.equals(o,n),r?e:e.concat(i)},[])},PathUtils.equals=function(e,t,n){return e.length===t.length&&PathUtils.matching(e,t,n).length===e.length},PathUtils.subPath=function(e,t){var n=find(e,t),r=e.indexOf(n);return-1===r?void 0:e.slice(0,r+1)},PathUtils.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},PathUtils.paramValues=function(e){return e.reduce(function(e,t){return R(e,t.paramValues)},{})},PathUtils}(),Se={when:"LAZY",async:"WAIT"},Ce=function(){function Resolvable(e,t,n,r,i){if(this.resolved=!1,this.promise=void 0,e instanceof Resolvable)R(this,e);else if(y(t)){if(v(e))throw new Error("new Resolvable(): token argument is required");if(!y(t))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=r,this.resolveFn=t,this.deps=n||[],this.data=i,this.resolved=void 0!==i,this.promise=this.resolved?k.$q.when(this.data):void 0}else if(w(e)&&e.token&&y(e.resolveFn)){var o=e;return new Resolvable(o.token,o.resolveFn,o.deps,o.policy,o.data)}}return Resolvable.prototype.getPolicy=function(e){var t=this.policy||{},n=e&&e.resolvePolicy||{};return{when:t.when||n.when||Se.when,async:t.async||n.async||Se.async}},Resolvable.prototype.resolve=function(e,t){var n=this,r=k.$q,i=function(){return r.all(e.getDependencies(n).map(function(n){return n.get(e,t)}))},o=function(e){return n.resolveFn.apply(null,e)},a=function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})},s=e.findNode(this),l=s&&s.state,c="RXWAIT"===this.getPolicy(l).async?a:identity,u=function(e){return n.data=e,n.resolved=!0,de.traceResolvableResolved(n,t),n.data};return this.promise=r.when().then(i).then(o).then(c).then(u)},Resolvable.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},Resolvable.prototype.toString=function(){return"Resolvable(token: "+stringify(this.token)+", requires: ["+this.deps.map(stringify)+"])"},Resolvable.prototype.clone=function(){return new Resolvable(this)},Resolvable.fromData=function(e,t){return new Resolvable(e,function(){return t},null,null,t)},Resolvable}(),Ee={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},Te=Ee.when,Me=[Te.EAGER,Te.LAZY],ke=[Te.EAGER],Ae="Native Injector",De=function(){function ResolveContext(e){this._path=e}return ResolveContext.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(W,[])},ResolveContext.prototype.getResolvable=function(e){return tail(this._path.map(function(e){return e.resolvables}).reduce(U,[]).filter(function(t){return t.token===e}))},ResolveContext.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},ResolveContext.prototype.subContext=function(e){return new ResolveContext(xe.subPath(this._path,function(t){return t.state===e}))},ResolveContext.prototype.addResolvables=function(e,t){var r=find(this._path,n("state",t)),i=e.map(function(e){return e.token});r.resolvables=r.resolvables.filter(function(e){return-1===i.indexOf(e.token)}).concat(e)},ResolveContext.prototype.resolvePath=function(e,t){var n=this;void 0===e&&(e="LAZY");var r=F(Me,e)?e:"LAZY",o=r===Ee.when.EAGER?ke:Me;de.traceResolvePath(this._path,e,t);var a=function(e,t){return function(r){return F(e,n.getPolicy(r)[t])}},s=this._path.reduce(function(e,r){var s=r.resolvables.filter(a(o,"when")),l=s.filter(a(["NOWAIT"],"async")),c=s.filter(i(a(["NOWAIT"],"async"))),u=n.subContext(r.state),d=function(e){return e.get(u,t).then(function(t){return{token:e.token,value:t}})};return l.forEach(d),e.concat(c.map(d))},[]);return k.$q.all(s)},ResolveContext.prototype.injector=function(){return this._injector||(this._injector=new $e(this))},ResolveContext.prototype.findNode=function(e){return find(this._path,function(t){return F(t.resolvables,e)})},ResolveContext.prototype.getDependencies=function(e){var t=this,n=this.findNode(e),r=xe.subPath(this._path,function(e){return e===n})||this._path,i=r.reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(t){return t!==e}),o=function(e){var n=i.filter(function(t){return t.token===e});if(n.length)return tail(n);var r=t.injector().getNative(e);if(m(r))throw new Error("Could not find Dependency Injection token: "+stringify(e));return new Ce(e,function(){return r},[],r)};return e.deps.map(o)},ResolveContext}(),$e=function(){function UIInjectorImpl(e){this.context=e,this.native=this.get(Ae)||k.$injector}return UIInjectorImpl.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+stringify(t.token));return t.data}return this.getNative(e)},UIInjectorImpl.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):k.$q.when(this.native.get(e))},UIInjectorImpl.prototype.getNative=function(e){return this.native&&this.native.get(e)},UIInjectorImpl}(),Pe=t("self"),Le=function(){function Transition(t,n,r){var i=this;if(this._deferred=k.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new ge(this),this.isActive=function(){return i.router.globals.transition===i},this.router=r,this._targetState=n,!n.valid())throw new Error(n.error());this._options=R({current:c(this)},n.options()),this.$id=r.transitionService._transitionCount++;var o=xe.buildToPath(t,n);this._treeChanges=xe.treeChanges(t,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(e.TransitionHookPhase.CREATE);me.invokeHooks(a,function(){return null}),this.applyViewConfigs(r)}return Transition.prototype.onBefore=function(e,t,n){},Transition.prototype.onStart=function(e,t,n){},Transition.prototype.onExit=function(e,t,n){},Transition.prototype.onRetain=function(e,t,n){},Transition.prototype.onEnter=function(e,t,n){},Transition.prototype.onFinish=function(e,t,n){},Transition.prototype.onSuccess=function(e,t,n){},Transition.prototype.onError=function(e,t,n){},Transition.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter(function(t){return t.hookPhase!==e.TransitionHookPhase.CREATE}).forEach(function(e){return makeEvent(t,t.router.transitionService,e)})},Transition.prototype.getHooks=function(e){return this._registeredHooks[e]},Transition.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});xe.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},Transition.prototype.$from=function(){return tail(this._treeChanges.from).state},Transition.prototype.$to=function(){return tail(this._treeChanges.to).state},Transition.prototype.from=function(){return this.$from().self},Transition.prototype.to=function(){return this.$to().self},Transition.prototype.targetState=function(){return this._targetState},Transition.prototype.is=function(e){return e instanceof Transition?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!matchState(this.$to(),e.to)||e.from&&!matchState(this.$from(),e.from))},Transition.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(t("paramValues")).reduce(B,{}))},Transition.prototype.injector=function(e,t){void 0===t&&(t="to");var n=this._treeChanges[t];return e&&(n=xe.subPath(n,function(t){return t.state===e||t.state.name===e})),new De(n).injector()},Transition.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new De(this._treeChanges[e]).getTokens()},Transition.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=s(Ce)(e)?e:new Ce(e);var n="string"==typeof t?t:t.name,r=this._treeChanges.to,i=find(r,function(e){return e.state.name===n});new De(r).addResolvables([e],i.state)},Transition.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},Transition.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},Transition.prototype.options=function(){return this._options},Transition.prototype.entering=function(){return map(this._treeChanges.entering,t("state")).map(Pe)},Transition.prototype.exiting=function(){return map(this._treeChanges.exiting,t("state")).map(Pe).reverse()},Transition.prototype.retained=function(){return map(this._treeChanges.retained,t("state")).map(Pe)},Transition.prototype.views=function(e,r){void 0===e&&(e="entering");var i=this._treeChanges[e];return i=r?i.filter(n("state",r)):i,i.map(t("views")).filter(identity).reduce(U,[])},Transition.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},Transition.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(r.location="replace");var o=R({},this.options(),e.options(),r);e=e.withOptions(o,!0);var a=this.router.transitionService.create(this._treeChanges.from,e),s=this._treeChanges.entering,l=a._treeChanges.entering;return xe.matching(l,s,xe.nonDynamicParams).filter(i(function(e){return function(t){return e&&t.state.includes[e.name]}}(e.options().reloadState))).forEach(function(e,t){e.resolvables=s[t].resolvables}),a},Transition.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length){if(!arrayTuples(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(q,!1)){var t=e.to.map(function(e){return e.paramSchema}),n=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})});return arrayTuples(t,n[0],n[1]).map(function(e){var t=e[0],n=e[1],r=e[2];return be.changed(t,n,r)}).reduce(U,[])}}},Transition.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(q,!1)},Transition.prototype.ignored=function(){return!!this._ignoredReason()},Transition.prototype._ignoredReason=function(){var e=this.router.globals.transition,t=this._options.reloadState,n=function(e,n){if(e.length!==n.length)return!1;var r=xe.matching(e,n);return e.length===r.filter(function(e){return!t||!e.state.includes[t.name]}).length},r=this.treeChanges(),i=e&&e.treeChanges();return i&&n(i.to,r.to)&&n(i.exiting,r.exiting)?"SameAsPending":0===r.exiting.length&&0===r.entering.length&&n(r.from,r.to)?"SameAsCurrent":void 0},Transition.prototype.run=function(){var t=this,n=me.runAllHooks,r=function(e){return t._hookBuilder.buildHooksForPhase(e)},i=function(){de.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),n(r(e.TransitionHookPhase.SUCCESS))},o=function(i){de.traceError(i,t),t.success=!1,t._deferred.reject(i),t._error=i,n(r(e.TransitionHookPhase.ERROR))},a=function(){var t=r(e.TransitionHookPhase.RUN),n=function(){return k.$q.when(void 0)};return me.invokeHooks(t,n)},s=function(){var e=t.router.globals;return e.lastStartedTransitionId=t.$id,e.transition=t,e.transitionHistory.enqueue(t),de.traceTransitionStart(t),k.$q.when(void 0)},l=r(e.TransitionHookPhase.BEFORE);return me.invokeHooks(l,s).then(a).then(i,o),this.promise},Transition.prototype.valid=function(){return!this.error()||void 0!==this.success},Transition.prototype.abort=function(){m(this.success)&&(this._aborted=!0)},Transition.prototype.error=function(){var e=this.$to();if(e.self.abstract)return"Cannot transition to abstract state '"+e.name+"'";var t=e.parameters(),n=this.params(),r=t.filter(function(e){return!e.validates(n[e.id])});return r.length?"Param values not valid for state '"+e.name+"'. Invalid params: [ "+r.map(function(e){return e.id}).join(", ")+" ]":!1===this.success?this._error:void 0},Transition.prototype.toString=function(){var e=this.from(),n=this.to(),r=function(e){return null!==e["#"]&&void 0!==e["#"]?e:omit(e,["#"])};return"Transition#"+this.$id+"( '"+(w(e)?e.name:e)+"'"+stringify(r(this._treeChanges.from.map(t("paramValues")).reduce(B,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(w(n)?n.name:n)+"'"+stringify(r(this.params()))+" )"},Transition.diToken=Transition,Transition}(),Re=null,Oe=function(e){var t=ie.isRejectionPromise;return(Re=Re||pattern([[i(f),c("undefined")],[g,c("null")],[T,c("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[s(ie),invoke("toString")],[s(Le),invoke("toString")],[s(Ce),invoke("toString")],[isInjectable,functionToString],[c(!0),identity]]))(e)},Ie=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}},Fe=new RegExp("^(?:[a-z]+:)?//[^/]+/"),Ne=function(e){return e.replace(/\/[^\/]*$/,"")},He=Ie("#"),je=Ie("?"),Be=Ie("="),Ve=function(e){return e?e.replace(/^#/,""):""},Ye=function(){function ParamTypes(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=pick(ParamTypes.prototype,["hash","string","query","path","int","bool","date","json","any"]);var e=function(e,t){return new ve(R({name:t},e))};this.types=I(map(this.defaultTypes,e),{})}return ParamTypes.prototype.dispose=function(){this.types={}},ParamTypes.prototype.type=function(e,t,n){if(!f(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new ve(R({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},ParamTypes.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");R(this.types[e.name],k.$injector.invoke(e.def))}},ParamTypes}();!function(){var e=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:s(String),pattern:/.*/,equals:function(e,t){return e==t}};return R({},n,e)};R(Ye.prototype,{string:e({}),path:e({pattern:/[^\/]*/}),query:e({}),hash:e({inherit:!1}),int:e({decode:function(e){return parseInt(e,10)},is:function(e){return!v(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:e({encode:function(e){return e&&1||0},decode:function(e){return 0!==parseInt(e,10)},is:s(Boolean),pattern:/0|1/}),date:e({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce(function(n,r){return n&&e[r]()===t[r]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:e({encode:P,decode:$,is:s(Object),equals:O,pattern:/[^\/]*/}),any:e({encode:identity,decode:identity,is:function(){return!0},equals:O})})}();var ze,qe=function(){function StateParams(e){void 0===e&&(e={}),R(this,e)}return StateParams.prototype.$inherit=function(e,t,n){var r,i=ancestors(t,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params),r.length))for(var l in r)a.indexOf(r[l])>=0||(a.push(r[l]),o[r[l]]=this[r[l]]);return R({},o,e)},StateParams}(),Ue=function(e){if(!b(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}},Ge=function(e,t){return function(n){var r=n;r&&r.url&&r.name&&r.name.match(/\.\*\*$/)&&(r.url+="{remainder:any}");var i=Ue(r.url),o=n.parent,a=i?e.compile(i.val,{params:n.params||{},paramMap:function(e,t){return!1===r.reloadOnSearch&&t&&(e=R(e||{},{dynamic:!0})),e}}):r.url;if(!a)return null;if(!e.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return i&&i.root?a:(o&&o.navigable||t()).url.append(a)}},We=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},Ke=function(e){return function(n){var r=function(t,n){return e.fromConfig(n,null,t)},i=n.url&&n.url.parameters({inherit:!1})||[],o=Y(V(omit(n.params||{},i.map(t("id"))),r));return i.concat(o).map(function(e){return[e.id,e]}).reduce(applyPairs,{})}},Xe=function(){function StateBuilder(e,t){function parentBuilder(t){return i(t)?null:e.find(n.parentName(t))||r()}this.matcher=e;var n=this,r=function(){return e.find("")},i=function(e){return""===e.name};this.builders={name:[nameBuilder],self:[selfBuilder],parent:[parentBuilder],data:[dataBuilder],url:[Ge(t,r)],navigable:[We(i)],params:[Ke(t.paramFactory)],views:[],path:[pathBuilder],includes:[includesBuilder],resolvables:[resolvablesBuilder]}}return StateBuilder.prototype.builder=function(e,t){var n=this.builders,r=n[e]||[];return b(e)&&!f(t)?r.length>1?r:r[0]:b(e)&&y(t)?(n[e]=r,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},StateBuilder.prototype.build=function(e){var t=this,n=t.matcher,r=t.builders,i=this.parentName(e);if(i&&!n.find(i,void 0,!1))return null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o].reduce(function(e,t){return function(n){return t(n,e)}},noop);e[o]=a(e)}return e},StateBuilder.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?b(e.parent)?e.parent:e.parent.name:""},StateBuilder.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=b(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},StateBuilder}(),Je=function(){function StateMatcher(e){this._states=e}return StateMatcher.prototype.isRelative=function(e){return e=e||"",0===e.indexOf(".")||0===e.indexOf("^")},StateMatcher.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var r=b(e),i=r?e:e.name;this.isRelative(i)&&(i=this.resolvePath(i,t));var o=this._states[i];if(o&&(r||!(r||o!==e&&o.self!==e)))return o;if(r&&n){var a=Y(this._states),s=a.filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(i)});return s.length>1&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",s.map(function(e){return e.name})),s[0]}}},StateMatcher.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),r=e.split("."),i=0,o=r.length,a=n;i<o;i++)if(""!==r[i]||0!==i){if("^"!==r[i])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(i).join(".");return a.name+(a.name&&s?".":"")+s},StateMatcher}(),Ze=function(){function StateQueueManager(e,t,n,r,i){this.$registry=e,this.$urlRouter=t,this.states=n,this.builder=r,this.listeners=i,this.queue=[],this.matcher=e.matcher}return StateQueueManager.prototype.dispose=function(){this.queue=[]},StateQueueManager.prototype.register=function(e){var n=this.queue,r=d.create(e),i=r.name;if(!b(i))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(i)||F(n.map(t("name")),i))throw new Error("State '"+i+"' is already defined");return n.push(r),this.flush(),r},StateQueueManager.prototype.flush=function(){for(var e=this,t=this,n=t.queue,r=t.states,i=t.builder,o=[],a=[],s={},l=function(t){return e.states.hasOwnProperty(t)&&e.states[t]};n.length>0;){var c=n.shift(),u=c.name,d=i.build(c),h=a.indexOf(c);if(d){var p=l(u);if(p&&p.name===u)throw new Error("State '"+u+"' is already defined");var m=l(u+".**");m&&this.$registry.deregister(m),r[u]=c,this.attachRoute(c),h>=0&&a.splice(h,1),o.push(c)}else{var f=s[u];if(s[u]=n.length,h>=0&&f===n.length)return n.push(c),r;h<0&&a.push(c),n.push(c)}}return o.length&&this.listeners.forEach(function(e){return e("registered",o.map(function(e){return e.self}))}),r},StateQueueManager.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},StateQueueManager}(),Qe=function(){function StateRegistry(e){this._router=e,this.states={},this.listeners=[],this.matcher=new Je(this.states),this.builder=new Xe(this.matcher,e.urlMatcherFactory),this.stateQueue=new Ze(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return StateRegistry.prototype._registerRoot=function(){var e={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(e)).navigable=null},StateRegistry.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(t){return e.get(t)&&e.deregister(t)})},StateRegistry.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){N(this.listeners)(e)}.bind(this)},StateRegistry.prototype.root=function(){return this._root},StateRegistry.prototype.register=function(e){return this.stateQueue.register(e)},StateRegistry.prototype._deregisterTree=function(e){var t=this,r=this.get().map(function(e){return e.$$state()}),i=function(e){var t=r.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(i(t))},o=i([e]),a=[e].concat(o).reverse();return a.forEach(function(e){var r=t._router.urlRouter;r.rules().filter(n("state",e)).forEach(r.removeRule.bind(r)),delete t.states[e.name]}),a},StateRegistry.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},StateRegistry.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var r=this.matcher.find(e,t);return r&&r.self||null},StateRegistry.prototype.decorator=function(e,t){return this.builder.builder(e,t)},StateRegistry}(),et=function(e,t,n){return e[t]=e[t]||n()},tt=splitOnDelim("/"),nt=function(){function UrlMatcher(e,t,r,i){var o=this;this.config=i,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=e,this.config=defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:identity});for(var a,s,l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=0,h=[],p=function(t){if(!UrlMatcher.nameValidator.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(find(o._params,n("id",t)))throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'")},m=function(n,r){var i=n[2]||n[3],a=r?n[4]:n[4]||("*"===n[1]?"[\\s\\S]*":null);return{id:i,regexp:a,cfg:o.config.params[i],segment:e.substring(d,n.index),type:a?t.type(a)||function(e){return I(t.type(r?"query":"path"),{pattern:new RegExp(e,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=c.exec(e))&&(s=m(a,!1),!(s.segment.indexOf("?")>=0));)p(s.id),this._params.push(r.fromPath(s.id,s.type,this.config.paramMap(s.cfg,!1))),this._segments.push(s.segment),h.push([s.segment,tail(this._params)]),d=c.lastIndex;l=e.substring(d);var f=l.indexOf("?");if(f>=0){var g=l.substring(f);if(l=l.substring(0,f),g.length>0)for(d=0;a=u.exec(g);)s=m(a,!0),p(s.id),this._params.push(r.fromSearch(s.id,s.type,this.config.paramMap(s.cfg,!0))),d=c.lastIndex}this._segments.push(l),this._compiled=h.map(function(e){return quoteRegExp.apply(null,e)}).concat(quoteRegExp(l))}return UrlMatcher.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},UrlMatcher.prototype.isRoot=function(){return this._cache.path[0]===this},UrlMatcher.prototype.toString=function(){return this.pattern},UrlMatcher.prototype.exec=function(e,n,r,i){var o=this;void 0===n&&(n={}),void 0===i&&(i={});var a=et(this._cache,"pattern",function(){return new RegExp(["^",K(o._cache.path.map(t("_compiled"))).join(""),!1===o.config.strict?"/?":"","$"].join(""),o.config.caseInsensitive?"i":void 0)}).exec(e);if(!a)return null;var s=this.parameters(),l=s.filter(function(e){return!e.isSearch()}),c=s.filter(function(e){return e.isSearch()}),u=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),d={};if(u!==a.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var h=0;h<u;h++){for(var p=l[h],m=a[h+1],g=0;g<p.replace.length;g++)p.replace[g].from===m&&(m=p.replace[g].to);m&&!0===p.array&&(m=function(e){var t=function(e){return e.split("").reverse().join("")},n=function(e){return e.replace(/\\-/g,"-")};return map(map(t(e).split(/-(?!\\)/),t),n).reverse()}(m)),f(m)&&(m=p.type.decode(m)),d[p.id]=p.value(m)}return c.forEach(function(e){for(var t=n[e.id],r=0;r<e.replace.length;r++)e.replace[r].from===t&&(t=e.replace[r].to);f(t)&&(t=e.type.decode(t)),d[e.id]=e.value(t)}),r&&(d["#"]=r),d},UrlMatcher.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:K(this._cache.path.map(function(e){return e._params}))},UrlMatcher.prototype.parameter=function(e,t){var n=this;void 0===t&&(t={});var r=this._cache.parent;return function(){for(var t=0,r=n._params;t<r.length;t++){var i=r[t];if(i.id===e)return i}}()||!1!==t.inherit&&r&&r.parameter(e,t)||null},UrlMatcher.prototype.validates=function(e){var t=function(e,t){return!e||e.validates(t)};return e=e||{},this.parameters().filter(function(t){return e.hasOwnProperty(t.id)}).map(function(n){return t(n,e[n.id])}).reduce(z,!0)},UrlMatcher.prototype.format=function(e){function getDetails(t){var n=t.value(e[t.id]),r=t.validates(n),i=t.isDefaultValue(n);return{param:t,value:n,isValid:r,isDefaultValue:i,squash:!!i&&t.squash,encoded:t.type.encode(n)}}void 0===e&&(e={});var t=this._cache.path,n=t.map(UrlMatcher.pathSegmentsAndParams).reduce(U,[]).map(function(e){return b(e)?e:getDetails(e)}),r=t.map(UrlMatcher.queryParams).reduce(U,[]).map(getDetails),i=function(e){return!1===e.isValid};if(n.concat(r).filter(i).length)return null;var o=n.reduce(function(e,t){if(b(t))return e+t;var n=t.squash,r=t.encoded,i=t.param;return!0===n?e.match(/\/$/)?e.slice(0,-1):e:b(n)?e+n:!1!==n?e:null==r?e:x(r)?e+map(r,UrlMatcher.encodeDashes).join("-"):i.raw?e+r:e+encodeURIComponent(r)},""),a=r.map(function(e){var t=e.param,n=e.squash,r=e.encoded,i=e.isDefaultValue;if(!(null==r||i&&!1!==n)&&(x(r)||(r=[r]),0!==r.length))return t.raw||(r=map(r,encodeURIComponent)),r.map(function(e){return t.id+"="+e})}).filter(identity).reduce(U,[]).join("&");return o+(a?"?"+a:"")+(e["#"]?"#"+e["#"]:"")},UrlMatcher.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},UrlMatcher.pathSegmentsAndParams=function(t){return arrayTuples(t._segments,t._params.filter(function(t){return t.location===e.DefType.PATH}).concat(void 0)).reduce(U,[]).filter(function(e){return""!==e&&f(e)})},UrlMatcher.queryParams=function(t){return t._params.filter(function(t){return t.location===e.DefType.SEARCH})},UrlMatcher.compare=function(e,t){var n=function(e){return e._cache.segments=e._cache.segments||e._cache.path.map(UrlMatcher.pathSegmentsAndParams).reduce(U,[]).reduce(joinNeighborsR,[]).map(function(e){return b(e)?tt(e):e}).reduce(U,[])},r=function(e){return e._cache.weights=e._cache.weights||n(e).map(function(e){return"/"===e?1:b(e)?2:e instanceof be?3:void 0})},i=r(e),o=r(t);!function(e,t,n){for(var r=Math.max(e.length,t.length);e.length<r;)e.push(n);for(;t.length<r;)t.push(n)}(i,o,0);var a,s,l=arrayTuples(i,o);for(s=0;s<l.length;s++)if(0!==(a=l[s][0]-l[s][1]))return a;return 0},UrlMatcher.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,UrlMatcher}(),rt=function(){function UrlMatcherFactory(){var t=this;this.paramTypes=new Ye,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(e){return R({strict:t._isStrictMode,caseInsensitive:t._isCaseInsensitive},e)},this.paramFactory={fromConfig:function(n,r,i){return new be(n,r,i,e.DefType.CONFIG,t)},fromPath:function(n,r,i){return new be(n,r,i,e.DefType.PATH,t)},fromSearch:function(n,r,i){return new be(n,r,i,e.DefType.SEARCH,t)}},R(this,{UrlMatcher:nt,Param:be})}return UrlMatcherFactory.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=f(e)?e:this._isCaseInsensitive},UrlMatcherFactory.prototype.strictMode=function(e){return this._isStrictMode=f(e)?e:this._isStrictMode},UrlMatcherFactory.prototype.defaultSquashPolicy=function(e){if(f(e)&&!0!==e&&!1!==e&&!b(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=f(e)?e:this._defaultSquashPolicy},UrlMatcherFactory.prototype.compile=function(e,t){return new nt(e,this.paramTypes,this.paramFactory,this._getConfig(t))},UrlMatcherFactory.prototype.isMatcher=function(e){if(!w(e))return!1;var t=!0;return L(nt.prototype,function(n,r){y(n)&&(t=t&&f(e[r])&&y(e[r]))}),t},UrlMatcherFactory.prototype.type=function(e,t,n){var r=this.paramTypes.type(e,t,n);return f(t)?this:r},UrlMatcherFactory.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},UrlMatcherFactory.prototype.dispose=function(){this.paramTypes.dispose()},UrlMatcherFactory}(),it=function(){function UrlRuleFactory(e){this.router=e}return UrlRuleFactory.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},UrlRuleFactory.prototype.create=function(e,t){var n=this,r=pattern([[b,function(e){return r(n.compile(e))}],[s(nt),function(e){return n.fromUrlMatcher(e,t)}],[E,function(e){return n.fromState(e,n.router)}],[s(RegExp),function(e){return n.fromRegExp(e,t)}],[y,function(e){return new ot(e,t)}]]),i=r(e);if(!i)throw new Error("invalid 'what' in when()");return i},UrlRuleFactory.prototype.fromUrlMatcher=function(e,t){function match(t){var n=e.exec(t.path,t.search,t.hash);return e.validates(n)&&n}function matchPriority(t){var n=e.parameters().filter(function(e){return e.isOptional});return n.length?n.filter(function(e){return t[e.id]}).length/n.length:1e-6}var n=t;b(t)&&(t=this.router.urlMatcherFactory.compile(t)),s(nt)(t)&&(n=function(e){return t.format(e)});var r={urlMatcher:e,matchPriority:matchPriority,type:"URLMATCHER"};return R(new ot(match,n),r)},UrlRuleFactory.prototype.fromState=function(e,t){var n=function(n){var r=t.stateService,i=t.globals;r.href(e,n)!==r.href(i.current,i.params)&&r.transitionTo(e,n,{inherit:!0,source:"url"})},r={state:e,type:"STATE"};return R(this.fromUrlMatcher(e.url,n),r)},UrlRuleFactory.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=function(e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})},r=b(t)?n:t,i=function(t){return e.exec(t.path)},o={regexp:e,type:"REGEXP"};return R(new ot(i,r),o)},UrlRuleFactory.isUrlRule=function(e){return e&&["type","match","handler"].every(function(t){return f(e[t])})},UrlRuleFactory}(),ot=function(){function BaseUrlRule(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||identity}return BaseUrlRule}(),at=function(e,t){return(t.priority||0)-(e.priority||0)},st=function(e,t){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[e.type]||0)-(n[t.type]||0)},lt=function(e,t){return e.urlMatcher&&t.urlMatcher?nt.compare(e.urlMatcher,t.urlMatcher):0},ct=function(e,t){var n={STATE:!0,URLMATCHER:!0};return n[e.type]&&n[t.type]?0:(e.$id||0)-(t.$id||0)};ze=function(e,t){var n=at(e,t);return 0!==n?n:0!==(n=st(e,t))?n:(n=lt(e,t),0!==n?n:ct(e,t))};var ut=function(){function UrlRouter(e){this._sortFn=ze,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new it(e),createProxyFunctions(c(UrlRouter.prototype),this,c(this))}return UrlRouter.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},UrlRouter.prototype.sort=function(e){this._rules=this.stableSort(this._rules,this._sortFn=e||this._sortFn),this._sorted=!0},UrlRouter.prototype.ensureSorted=function(){this._sorted||this.sort()},UrlRouter.prototype.stableSort=function(e,t){var n=e.map(function(e,t){return{elem:e,idx:t}});return n.sort(function(e,n){var r=t(e.elem,n.elem);return 0===r?e.idx-n.idx:r}),n.map(function(e){return e.elem})},UrlRouter.prototype.match=function(e){var t=this;this.ensureSorted(),e=R({path:"",search:{},hash:""},e);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var r,i=0;i<n.length&&(!r||0===this._sortFn(n[i],r.rule));i++){var o=function(n){var r=n.match(e,t._router);return r&&{match:r,rule:n,weight:n.matchPriority(r)}}(n[i]);r=!r||o&&o.weight>r.weight?o:r}return r},UrlRouter.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,n=t.urlService,r=t.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);pattern([[b,function(e){return n.url(e,!0)}],[he.isDef,function(e){return r.go(e.state,e.params,e.options)}],[s(he),function(e){return r.go(e.state(),e.params(),e.options())}]])(o&&o.rule.handler(o.match,i,t))}},UrlRouter.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},UrlRouter.prototype.update=function(e){var t=this._router.locationService;if(e)return void(this.location=t.path());t.path()!==this.location&&t.url(this.location,!0)},UrlRouter.prototype.push=function(e,t,n){var r=n&&!!n.replace;this._router.urlService.url(e.format(t||{}),r)},UrlRouter.prototype.href=function(e,t,n){var r=e.format(t);if(null==r)return null;n=n||{absolute:!1};var i=this._router.urlService.config,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=appendBasePath(r,o,n.absolute,i.baseHref()),!n.absolute||!r)return r;var a=!o&&r?"/":"",s=i.port();return s=80===s||443===s?"":":"+s,[i.protocol(),"://",i.host(),s,a,r].join("")},UrlRouter.prototype.rule=function(e){var t=this;if(!it.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},UrlRouter.prototype.removeRule=function(e){N(this._rules,e)},UrlRouter.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},UrlRouter.prototype.otherwise=function(e){var t=getHandlerFn(e);this._otherwiseFn=this.urlRuleFactory.create(c(!0),t),this._sorted=!1},UrlRouter.prototype.initial=function(e){var t=getHandlerFn(e),n=function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)};this.rule(this.urlRuleFactory.create(n,t))},UrlRouter.prototype.when=function(e,t,n){var r=this.urlRuleFactory.create(e,t);return f(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},UrlRouter.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},UrlRouter}(),dt=function(){function ViewService(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs}}}return ViewService.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},ViewService.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},ViewService.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var r=n(e,t);return x(r)?r:[r]},ViewService.prototype.deactivateViewConfig=function(e){de.traceViewServiceEvent("<- Removing",e),N(this._viewConfigs,e)},ViewService.prototype.activateViewConfig=function(e){de.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},ViewService.prototype.sync=function(){function uiViewDepth(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)}function viewConfigDepth(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var e=this,t=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(applyPairs,{}),n=curry(function(e,t,n,r){return t*(e(n)-e(r))}),r=function(r){var i=e._viewConfigs.filter(ViewService.matches(t,r));return i.length>1&&i.sort(n(viewConfigDepth,-1)),[r,i[0]]},i=function(t){var n=t[0],r=t[1];-1!==e._uiViews.indexOf(n)&&n.configUpdated(r)},o=this._uiViews.sort(n(uiViewDepth,1)).map(r);de.traceViewSync(o),o.forEach(i)},ViewService.prototype.registerUIView=function(e){de.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews,n=function(t){return t.fqn===e.fqn&&t.$type===e.$type};return t.filter(n).length&&de.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){if(-1===t.indexOf(e))return void de.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e);de.traceViewServiceUIViewEvent("<- Deregistering",e),N(t)(e)}},ViewService.prototype.available=function(){return this._uiViews.map(t("fqn"))},ViewService.prototype.active=function(){return this._uiViews.filter(t("$config")).map(t("name"))},ViewService.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),r=n[0]||"$default",i=b(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);(o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i))?i=i.split(".").reduce(function(e,t){return e.parent},e).name:"."===i&&(i=e.name);return{uiViewName:r,uiViewContextAnchor:i}},ViewService.matches=function(e,t){return function(n){if(t.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,i=r.$uiViewName.split("."),o=t.fqn.split(".");if(!O(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,s=o.slice(0,a).join("."),l=e[s].creationContext;return r.$uiViewContextAnchor===(l&&l.name)}},ViewService}(),ht=function(){function UIRouterGlobals(){this.params=new qe,this.lastStartedTransitionId=-1,this.transitionHistory=new ne([],1),this.successfulTransitions=new ne([],1)}return UIRouterGlobals.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},UIRouterGlobals}(),pt=function(e){return e.reduce(function(e,t){return e[t]=M(t),e},{dispose:noop})},mt=["url","path","search","hash","onChange"],ft=["port","protocol","host","baseHref","html5Mode","hashPrefix"],gt=["type","caseInsensitive","strictMode","defaultSquashPolicy"],vt=["sort","when","initial","otherwise","rules","rule","removeRule"],yt=["deferIntercept","listen","sync","match"],_t=function(){function UrlService(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var n=function(){return e.locationService};createProxyFunctions(n,this,n,mt,t);var r=function(){return e.locationConfig};createProxyFunctions(r,this.config,r,ft,t);var i=function(){return e.urlMatcherFactory};createProxyFunctions(i,this.config,i,gt);var o=function(){return e.urlRouter};createProxyFunctions(o,this.rules,o,vt),createProxyFunctions(o,this,o,yt)}return UrlService.prototype.url=function(e,t,n){},UrlService.prototype.path=function(){},UrlService.prototype.search=function(){},UrlService.prototype.hash=function(){},UrlService.prototype.onChange=function(e){},UrlService.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},UrlService.prototype.dispose=function(){},UrlService.prototype.sync=function(e){},UrlService.prototype.listen=function(e){},UrlService.prototype.deferIntercept=function(e){},UrlService.prototype.match=function(e){},UrlService.locationServiceStub=pt(mt),UrlService.locationConfigStub=pt(ft),UrlService}(),bt=0,wt=function(){function UIRouter(e,t){void 0===e&&(e=_t.locationServiceStub),void 0===t&&(t=_t.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=bt++,this._disposed=!1,this._disposables=[],this.trace=de,this.viewService=new dt,this.transitionService=new Kt(this),this.globals=new ht,this.urlMatcherFactory=new rt,this.urlRouter=new ut(this),this.stateRegistry=new Qe(this),this.stateService=new Xt(this),this.urlService=new _t(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}return UIRouter.prototype.disposable=function(e){this._disposables.push(e)},UIRouter.prototype.dispose=function(e){var t=this;if(e&&y(e.dispose))return void e.dispose(this);this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),N(t._disposables,e)}catch(e){}})},UIRouter.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},UIRouter.prototype.getPlugin=function(e){return e?this._plugins[e]:Y(this._plugins)},UIRouter}(),xt=function(e){return e.onCreate({},addCoreResolvables)},St=function(e){function handleResult(t){if(t)return t instanceof he?t:b(t)?n.target(t,e.params(),e.options()):t.state||t.params?n.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}var t=e.to().redirectTo;if(t){var n=e.router.stateService;return y(t)?k.$q.when(t(e)).then(handleResult):handleResult(t)}},Ct=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},St)},Et=makeEnterExitRetainHook("onExit"),Tt=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},Et)},Mt=makeEnterExitRetainHook("onRetain"),kt=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},Mt)},At=makeEnterExitRetainHook("onEnter"),Dt=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},At)},$t=function(e){return new De(e.treeChanges().to).resolvePath("EAGER",e).then(noop)},Pt=function(e){return e.onStart({},$t,{priority:1e3})},Lt=function(e,t){return new De(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(noop)},Rt=function(e){return e.onEnter({entering:c(!0)},Lt,{priority:1e3})},Ot=function(e){var t=k.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(noop)},It=function(e){return e.onFinish({},Ot)},Ft=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var r=e.router.viewService;n.forEach(function(e){return r.deactivateViewConfig(e)}),t.forEach(function(e){return r.activateViewConfig(e)}),r.sync()}},Nt=function(e){return e.onSuccess({},Ft)},Ht=function(e){var t=e.router.globals,n=function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,copy(e.params(),t.params)},r=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},n,{priority:1e4}),e.promise.then(r,r)},jt=function(e){return e.onCreate({},Ht)},Bt=function(e){var t=e.options(),n=e.router.stateService,r=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var i={replace:"replace"===t.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)},Vt=function(e){return e.onSuccess({},Bt,{priority:9999})},Yt=function(e){function retryTransition(){if("url"!==e.originalTransition().options().source){var n=e.targetState();return t.stateService.target(n.identifier(),n.params(),n.options())}var r=t.urlService,i=r.match(r.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,s=i.match;return t.stateService.target(a,s,e.options())}t.urlService.sync()}var t=e.router,n=e.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(t){return lazyLoadState(e,t)});return k.$q.all(n).then(retryTransition)},zt=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},Yt)},qt=function(){function TransitionEventType(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=me.HANDLE_RESULT),void 0===a&&(a=me.REJECT_ERROR),void 0===s&&(s=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s}return TransitionEventType}(),Ut=function(e){return e.onBefore({},ignoredHook,{priority:-9999})},Gt=function(e){return e.onBefore({},invalidTransitionHook,{priority:-1e4})},Wt={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},Kt=function(){function TransitionService(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=createProxyFunctions(c(this),{},c(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return TransitionService.prototype.onCreate=function(e,t,n){},TransitionService.prototype.onBefore=function(e,t,n){},TransitionService.prototype.onStart=function(e,t,n){},TransitionService.prototype.onExit=function(e,t,n){},TransitionService.prototype.onRetain=function(e,t,n){},TransitionService.prototype.onEnter=function(e,t,n){},TransitionService.prototype.onFinish=function(e,t,n){},TransitionService.prototype.onSuccess=function(e,t,n){},TransitionService.prototype.onError=function(e,t,n){},TransitionService.prototype.dispose=function(e){Y(this._registeredHooks).forEach(function(e){return e.forEach(function(t){t._deregistered=!0,N(e,t)})})},TransitionService.prototype.create=function(e,t){return new Le(e,t,this._router)},TransitionService.prototype._defineCoreEvents=function(){var t=e.TransitionHookPhase,n=me,r=this._criteriaPaths;this._defineEvent("onCreate",t.CREATE,0,r.to,!1,n.LOG_REJECTED_RESULT,n.THROW_ERROR,!0),this._defineEvent("onBefore",t.BEFORE,0,r.to),this._defineEvent("onStart",t.RUN,0,r.to),this._defineEvent("onExit",t.RUN,100,r.exiting,!0),this._defineEvent("onRetain",t.RUN,200,r.retained),this._defineEvent("onEnter",t.RUN,300,r.entering),this._defineEvent("onFinish",t.RUN,400,r.to),this._defineEvent("onSuccess",t.SUCCESS,0,r.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0),this._defineEvent("onError",t.ERROR,0,r.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0)},TransitionService.prototype._defineCorePaths=function(){var t=e.TransitionHookScope.STATE,n=e.TransitionHookScope.TRANSITION;this._definePathType("to",n),this._definePathType("from",n),this._definePathType("exiting",t),this._definePathType("retained",t),this._definePathType("entering",t)},TransitionService.prototype._defineEvent=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=me.HANDLE_RESULT),void 0===a&&(a=me.REJECT_ERROR),void 0===s&&(s=!1);var l=new qt(e,t,n,r,i,o,a,s);this._eventTypes.push(l),makeEvent(this,this,l)},TransitionService.prototype._getEvents=function(e){return(f(e)?this._eventTypes.filter(function(t){return t.hookPhase===e}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0===n?e.hookOrder-t.hookOrder:n})},TransitionService.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},TransitionService.prototype._getPathTypes=function(){return this._criteriaPaths},TransitionService.prototype.getHooks=function(e){return this._registeredHooks[e]},TransitionService.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=xt(this),e.ignored=Ut(this),e.invalid=Gt(this),e.redirectTo=Ct(this),e.onExit=Tt(this),e.onRetain=kt(this),e.onEnter=Dt(this),e.eagerResolve=Pt(this),e.lazyResolve=Rt(this),e.loadViews=It(this),e.activateViews=Nt(this),e.updateGlobals=jt(this),e.updateUrl=Vt(this),e.lazyLoad=zt(this)},TransitionService}(),Xt=function(){function StateService(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof ie?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var t=["current","$current","params","transition"],n=Object.keys(StateService.prototype).filter(i(F(t)));createProxyFunctions(c(StateService.prototype),this,c(this),n)}return Object.defineProperty(StateService.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(StateService.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(StateService.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(StateService.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),StateService.prototype.dispose=function(){this.defaultErrorHandler(noop),this.invalidCallbacks=[]},StateService.prototype._handleInvalidTargetState=function(e,t){function invokeNextCallback(){var e=s.dequeue();return void 0===e?ie.invalid(t.error()).toPromise():k.$q.when(e(t,r,l)).then(c).then(function(e){return e||invokeNextCallback()})}var n=this,r=xe.makeTargetState(this.router.stateRegistry,e),i=this.router.globals,o=function(){return i.transitionHistory.peekTail()},a=o(),s=new ne(this.invalidCallbacks.slice()),l=new De(e).injector(),c=function(e){if(e instanceof he){var t=e;return t=n.target(t.identifier(),t.params(),t.options()),t.valid()?o()!==a?ie.superseded().toPromise():n.transitionTo(t.identifier(),t.params(),t.options()):ie.invalid(t.error()).toPromise()}};return invokeNextCallback()},StateService.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){N(this.invalidCallbacks)(e)}.bind(this)},StateService.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!f(e)||e,inherit:!1,notify:!1})},StateService.prototype.go=function(e,t,n){var r={relative:this.$current,inherit:!0},i=defaults(n,r,Wt);return this.transitionTo(e,t,i)},StateService.prototype.target=function(e,t,n){if(void 0===n&&(n={}),w(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(b(n.reload)?n.reload:n.reload.name)+"'");return new he(this.router.stateRegistry,e,t,n)},StateService.prototype.getCurrentPath=function(){var e=this,t=this.router.globals,n=t.successfulTransitions.peekTail();return n?n.treeChanges().to:function(){return[new we(e.router.stateRegistry.root())]}()},StateService.prototype.transitionTo=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r={});var o=this.router,a=o.globals;r=defaults(r,Wt),r=R(r,{current:function(){return a.transition}});var s=this.target(t,n,r),l=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(l,s);if(!s.valid())return te(s.error());var c=function(t){return function(n){if(n instanceof ie){var r=o.globals.lastStartedTransitionId===t.$id;if(n.type===e.RejectType.IGNORED)return r&&o.urlRouter.update(),k.$q.when(a.current);var s=n.detail;if(n.type===e.RejectType.SUPERSEDED&&n.redirected&&s instanceof he){var l=t.redirect(s);return l.run().catch(c(l))}if(n.type===e.RejectType.ABORTED)return r&&o.urlRouter.update(),k.$q.reject(n)}return i.defaultErrorHandler()(n),k.$q.reject(n)}},u=this.router.transitionService.create(l,s),d=u.run().catch(c(u));return ee(d),R(d,{transition:u})},StateService.prototype.is=function(e,t,n){n=defaults(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(e,n.relative);if(f(r)){if(this.$current!==r)return!1;if(!t)return!0;var i=r.parameters({inherit:!0,matchingKeys:t});return be.equals(i,be.values(i,t),this.params)}},StateService.prototype.includes=function(e,t,n){n=defaults(n,{relative:this.$current});var r=b(e)&&u.fromString(e);if(r){if(!r.matches(this.$current.name))return!1;e=this.$current.name}var i=this.router.stateRegistry.matcher.find(e,n.relative),o=this.$current.includes;if(f(i)){if(!f(o[i.name]))return!1;if(!t)return!0;var a=i.parameters({inherit:!0,matchingKeys:t});return be.equals(a,be.values(a,t),this.params)}},StateService.prototype.href=function(e,t,n){n=defaults(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),t=t||{};var r=this.router.stateRegistry.matcher.find(e,n.relative);if(!f(r))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,t,{absolute:n.absolute}):null},StateService.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},StateService.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},StateService.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var r=this.getCurrentPath(),i=xe.makeTargetState(this.router.stateRegistry,r);return t=t||this.router.transitionService.create(r,i),lazyLoadState(t,n)},StateService}(),Jt={when:function(e){return new Promise(function(t,n){return t(e)})},reject:function(e){return new Promise(function(t,n){n(e)})},defer:function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},all:function(e){if(x(e))return Promise.all(e);if(w(e)){var t=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return Jt.all(t).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}},Zt={},Qt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,en=/([^\s,]+)/g,tn={get:function(e){return Zt[e]},has:function(e){return null!=tn.get(e)},invoke:function(e,t,n){var r=R({},Zt,n||{}),i=tn.annotate(e),o=J(function(e){return r.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),a=i.filter(o).map(function(e){return r[e]});return y(e)?e.apply(t,a):e.slice(-1)[0].apply(t,a)},annotate:function(e){if(!isInjectable(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(x(e))return e.slice(0,-1);var t=e.toString().replace(Qt,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(en)||[]}},nn=function(e,t){var n=t[0],r=t[1];return e.hasOwnProperty(n)?x(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r,e},rn=function(e){return e.split("&").filter(identity).map(Be).reduce(nn,{})},on=function(e){var t=e.path(),n=e.search(),r=e.hash(),i=Object.keys(n).map(function(e){var t=n[e];return(x(t)?t:[t]).map(function(t){return e+"="+t})}).reduce(U,[]).join("&");return t+(i?"?"+i:"")+(r?"#"+r:"")},an=getCustomEventCtor(),sn=function(){function BaseLocationServices(e,t){var n=this;this.fireAfterUpdate=t,this._listener=function(e){return n._listeners.forEach(function(t){return t(e)})},this._listeners=[],this.hash=function(){return parseUrl$1(n._get()).hash},this.path=function(){return parseUrl$1(n._get()).path},this.search=function(){return rn(parseUrl$1(n._get()).search)},this._location=self&&self.location,this._history=self&&self.history}return BaseLocationServices.prototype.url=function(e,t){if(void 0===t&&(t=!0),f(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate)){var n=R(new an("locationchange"),{url:e});this._listeners.forEach(function(e){return e(n)})}return on(this)},BaseLocationServices.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return N(t._listeners,e)}},BaseLocationServices.prototype.dispose=function(e){j(this._listeners)},BaseLocationServices}(),ln=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),cn=function(e){function HashLocationService(t){var n=e.call(this,t,!1)||this;return self.addEventListener("hashchange",n._listener,!1),n}return ln(HashLocationService,e),HashLocationService.prototype._get=function(){return Ve(this._location.hash)},HashLocationService.prototype._set=function(e,t,n,r){this._location.hash=n},HashLocationService.prototype.dispose=function(t){e.prototype.dispose.call(this,t),self.removeEventListener("hashchange",this._listener)},HashLocationService}(sn),un=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),dn=function(e){function MemoryLocationService(t){return e.call(this,t,!0)||this}return un(MemoryLocationService,e),MemoryLocationService.prototype._get=function(){return this._url},MemoryLocationService.prototype._set=function(e,t,n,r){this._url=n},MemoryLocationService}(sn),hn=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),pn=function(e){function PushStateLocationService(t){var n=e.call(this,t,!0)||this;return n._config=t.urlService.config,self.addEventListener("popstate",n._listener,!1),n}return hn(PushStateLocationService,e),PushStateLocationService.prototype._getBasePrefix=function(){return Ne(this._config.baseHref())},PushStateLocationService.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,r=e.search;r=je(r)[1],n=He(n)[1];var i=this._getBasePrefix(),o=t===this._config.baseHref(),a=t.startsWith(i);return(t=o?"/":a?t.substring(i.length):t)+(r?"?"+r:"")+(n?"#"+n:"")},PushStateLocationService.prototype._set=function(e,t,n,r){var i=this._getBasePrefix()+n;r?this._history.replaceState(e,t,i):this._history.pushState(e,t,i)},PushStateLocationService.prototype.dispose=function(t){e.prototype.dispose.call(this,t),self.removeEventListener("popstate",this._listener)},PushStateLocationService}(sn),mn=function(){function MemoryLocationConfig(){var e=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return e._port},this.protocol=function(){return e._protocol},this.host=function(){return e._host},this.baseHref=function(){return e._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(t){return f(t)?e._hashPrefix=t:e._hashPrefix},this.dispose=noop}return MemoryLocationConfig}(),fn=function(){function BrowserLocationConfig(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return BrowserLocationConfig.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},BrowserLocationConfig.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},BrowserLocationConfig.prototype.host=function(){return location.hostname},BrowserLocationConfig.prototype.html5Mode=function(){return this._isHtml5},BrowserLocationConfig.prototype.hashPrefix=function(e){return f(e)?this._hashPrefix=e:this._hashPrefix},BrowserLocationConfig.prototype.baseHref=function(e){return f(e)?this._baseHref=e:f(this._baseHref)?this._baseHref:this.applyDocumentBaseHref()},BrowserLocationConfig.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base")[0];return this._baseHref=e?e.href.substr(location.origin.length):""},BrowserLocationConfig.prototype.dispose=function(){},BrowserLocationConfig}(),gn=locationPluginFactory("vanilla.hashBangLocation",!1,cn,fn),vn=locationPluginFactory("vanilla.pushStateLocation",!0,pn,fn),yn=locationPluginFactory("vanilla.memoryLocation",!1,dn,mn),_n=function(){function UIRouterPluginBase(){}return UIRouterPluginBase.prototype.dispose=function(e){},UIRouterPluginBase}();e.fromJson=$,e.toJson=P,e.forEach=L,e.extend=R,e.equals=O,e.identity=identity,e.noop=noop,e.createProxyFunctions=createProxyFunctions,e.inherit=I,e.inArray=F,e._inArray=_inArray,e.removeFrom=N,e._removeFrom=_removeFrom,e.pushTo=H,e._pushTo=_pushTo,e.deregAll=j,e.defaults=defaults,e.mergeR=B,e.ancestors=ancestors,e.pick=pick,e.omit=omit,e.pluck=pluck,e.filter=filter,e.find=find,e.mapObj=V,e.map=map,e.values=Y,e.allTrueR=z,e.anyTrueR=q,e.unnestR=U,e.flattenR=G,e.pushR=pushR,e.uniqR=W,e.unnest=K,e.flatten=X,e.assertPredicate=J,e.assertMap=Z,e.assertFn=assertFn,e.pairs=Q,e.arrayTuples=arrayTuples,e.applyPairs=applyPairs,e.tail=tail,e.copy=copy,e._extend=_extend,e.silenceUncaughtInPromise=ee,e.silentRejection=te,e.notImplemented=M,e.services=k,e.Glob=u,e.curry=curry,e.compose=compose,e.pipe=pipe,e.prop=t,e.propEq=n,e.parse=r,e.not=i,e.and=and,e.or=or,e.all=o,e.any=a,e.is=s,e.eq=l,e.val=c,e.invoke=invoke,e.pattern=pattern,e.isUndefined=m,e.isDefined=f,e.isNull=g,e.isNullOrUndefined=v,e.isFunction=y,e.isNumber=_,e.isString=b,e.isObject=w,e.isArray=x,e.isDate=S,e.isRegExp=C,e.isState=E,e.isInjectable=isInjectable,e.isPromise=T,e.Queue=ne,e.maxLength=maxLength,e.padString=padString,e.kebobString=kebobString,e.functionToString=functionToString,e.fnToString=fnToString,e.stringify=stringify,e.beforeAfterSubstr=Ie,e.hostRegex=Fe,e.stripFile=Ne,e.splitHash=He,e.splitQuery=je,e.splitEqual=Be,e.trimHashVal=Ve,e.splitOnDelim=splitOnDelim,e.joinNeighborsR=joinNeighborsR,e.Trace=ue,e.trace=de,e.Param=be,e.ParamTypes=Ye,e.StateParams=qe,e.ParamType=ve,e.PathNode=we,e.PathUtils=xe,e.resolvePolicies=Ee,e.defaultResolvePolicy=Se,e.Resolvable=Ce,e.NATIVE_INJECTOR_TOKEN=Ae,e.ResolveContext=De,e.resolvablesBuilder=resolvablesBuilder,e.StateBuilder=Xe,e.StateObject=d,e.StateMatcher=Je,e.StateQueueManager=Ze,e.StateRegistry=Qe,e.StateService=Xt,e.TargetState=he,e.HookBuilder=ge,e.matchState=matchState,e.RegisteredHook=fe,e.makeEvent=makeEvent,e.Rejection=ie,e.Transition=Le,e.TransitionHook=me,e.TransitionEventType=qt,e.defaultTransOpts=Wt,e.TransitionService=Kt,e.UrlMatcher=nt,e.UrlMatcherFactory=rt,e.UrlRouter=ut,e.UrlRuleFactory=it,e.BaseUrlRule=ot,e.UrlService=_t,e.ViewService=dt,e.UIRouterGlobals=ht,e.UIRouter=wt,e.$q=Jt,e.$injector=tn,e.BaseLocationServices=sn,e.HashLocationService=cn,e.MemoryLocationService=dn,e.PushStateLocationService=pn,e.MemoryLocationConfig=mn,e.BrowserLocationConfig=fn,e.keyValsToObjectR=nn,e.getParams=rn,e.parseUrl=parseUrl$1,e.buildUrl=on,e.locationPluginFactory=locationPluginFactory,e.getCustomEventCtor=getCustomEventCtor,e.servicesPlugin=servicesPlugin,e.hashLocationPlugin=gn,e.pushStateLocationPlugin=vn,e.memoryLocationPlugin=yn,e.UIRouterPluginBase=_n,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){function webpackContext(e){return n(webpackContextResolve(e))}function webpackContextResolve(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":101,"./af.js":101,"./ar":102,"./ar-dz":103,"./ar-dz.js":103,"./ar-kw":104,"./ar-kw.js":104,"./ar-ly":105,"./ar-ly.js":105,"./ar-ma":106,"./ar-ma.js":106,"./ar-sa":107,"./ar-sa.js":107,"./ar-tn":108,"./ar-tn.js":108,"./ar.js":102,"./az":109,"./az.js":109,"./be":110,"./be.js":110,"./bg":111,"./bg.js":111,"./bn":112,"./bn.js":112,"./bo":113,"./bo.js":113,"./br":114,"./br.js":114,"./bs":115,"./bs.js":115,"./ca":116,"./ca.js":116,"./cs":117,"./cs.js":117,"./cv":118,"./cv.js":118,"./cy":119,"./cy.js":119,"./da":120,"./da.js":120,"./de":121,"./de-at":122,"./de-at.js":122,"./de-ch":123,"./de-ch.js":123,"./de.js":121,"./dv":124,"./dv.js":124,"./el":125,"./el.js":125,"./en-au":126,"./en-au.js":126,"./en-ca":127,"./en-ca.js":127,"./en-gb":128,"./en-gb.js":128,"./en-ie":129,"./en-ie.js":129,"./en-nz":130,"./en-nz.js":130,"./eo":131,"./eo.js":131,"./es":132,"./es-do":133,"./es-do.js":133,"./es.js":132,"./et":134,"./et.js":134,"./eu":135,"./eu.js":135,"./fa":136,"./fa.js":136,"./fi":137,"./fi.js":137,"./fo":138,"./fo.js":138,"./fr":139,"./fr-ca":140,"./fr-ca.js":140,"./fr-ch":141,"./fr-ch.js":141,"./fr.js":139,"./fy":142,"./fy.js":142,"./gd":143,"./gd.js":143,"./gl":144,"./gl.js":144,"./gom-latn":145,"./gom-latn.js":145,"./he":146,"./he.js":146,"./hi":147,"./hi.js":147,"./hr":148,"./hr.js":148,"./hu":149,"./hu.js":149,"./hy-am":150,"./hy-am.js":150,"./id":151,"./id.js":151,"./is":152,"./is.js":152,"./it":153,"./it.js":153,"./ja":154,"./ja.js":154,"./jv":155,"./jv.js":155,"./ka":156,"./ka.js":156,"./kk":157,"./kk.js":157,"./km":158,"./km.js":158,"./kn":159,"./kn.js":159,"./ko":160,"./ko.js":160,"./ky":161,"./ky.js":161,"./lb":162,"./lb.js":162,"./lo":163,"./lo.js":163,"./lt":164,"./lt.js":164,"./lv":165,"./lv.js":165,"./me":166,"./me.js":166,"./mi":167,"./mi.js":167,"./mk":168,"./mk.js":168,"./ml":169,"./ml.js":169,"./mr":170,"./mr.js":170,"./ms":171,"./ms-my":172,"./ms-my.js":172,"./ms.js":171,"./my":173,"./my.js":173,"./nb":174,"./nb.js":174,"./ne":175,"./ne.js":175,"./nl":176,"./nl-be":177,"./nl-be.js":177,"./nl.js":176,"./nn":178,"./nn.js":178,"./pa-in":179,"./pa-in.js":179,"./pl":180,"./pl.js":180,"./pt":181,"./pt-br":182,"./pt-br.js":182,"./pt.js":181,"./ro":183,"./ro.js":183,"./ru":184,"./ru.js":184,"./sd":185,"./sd.js":185,"./se":186,"./se.js":186,"./si":187,"./si.js":187,"./sk":188,"./sk.js":188,"./sl":189,"./sl.js":189,"./sq":190,"./sq.js":190,"./sr":191,"./sr-cyrl":192,"./sr-cyrl.js":192,"./sr.js":191,"./ss":193,"./ss.js":193,"./sv":194,"./sv.js":194,"./sw":195,"./sw.js":195,"./ta":196,"./ta.js":196,"./te":197,"./te.js":197,"./tet":198,"./tet.js":198,"./th":199,"./th.js":199,"./tl-ph":200,"./tl-ph.js":200,"./tlh":201,"./tlh.js":201,"./tr":202,"./tr.js":202,"./tzl":203,"./tzl.js":203,"./tzm":204,"./tzm-latn":205,"./tzm-latn.js":205,"./tzm.js":204,"./uk":206,"./uk.js":206,"./ur":207,"./ur.js":207,"./uz":208,"./uz-latn":209,"./uz-latn.js":209,"./uz.js":208,"./vi":210,"./vi.js":210,"./x-pseudo":211,"./x-pseudo.js":211,"./yo":212,"./yo.js":212,"./zh-cn":213,"./zh-cn.js":213,"./zh-hk":214,"./zh-hk.js":214,"./zh-tw":215,"./zh-tw.js":215};webpackContext.keys=function(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=296},function(e,t,n){var r,i,o;!function(){"use strict";function isUndefinedOrNull(e){return angular.isUndefined(e)||null===e}function requireMoment(){try{return n(0)}catch(e){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function angularMoment(e,t){return void 0===t&&(t=requireMoment()),e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(t,n,r,i){return function(o,a,s){function getNow(){var e;if(c)e=c;else if(i.serverTime){var t=(new Date).getTime(),r=t-g+i.serverTime;e=n(r)}else e=n();return e}function cancelTimer(){u&&(t.clearTimeout(u),u=null)}function updateTime(e){var n=getNow().diff(e,f),r=p&&n>=p;if(r?a.text(e.format(m)):a.text(e.from(getNow(),d)),h&&_&&a.attr("title",e.format(h)),!r){var i=Math.abs(getNow().diff(e,"minute")),o=3600;i<1?o=1:i<60?o=30:i<180&&(o=300),u=t.setTimeout(function(){updateTime(e)},1e3*o)}}function updateDateTimeAttr(e){y&&a.attr("datetime",e)}function updateMoment(){if(cancelTimer(),l){var e=r.preprocessDate(l);updateTime(e),updateDateTimeAttr(e.toISOString())}}var l,c,u=null,d=i.withoutSuffix,h=i.titleFormat,p=i.fullDateThreshold,m=i.fullDateFormat,f=i.fullDateThresholdUnit,g=(new Date).getTime(),v=s.amTimeAgo,y="TIME"===a[0].nodeName.toUpperCase(),_=!a.attr("title");o.$watch(v,function(e){if(isUndefinedOrNull(e)||""===e)return cancelTimer(),void(l&&(a.text(""),updateDateTimeAttr(""),l=null));l=e,updateMoment()}),e.isDefined(s.amFrom)&&o.$watch(s.amFrom,function(e){c=isUndefinedOrNull(e)||""===e?null:n(e),updateMoment()}),e.isDefined(s.amWithoutSuffix)&&o.$watch(s.amWithoutSuffix,function(e){"boolean"==typeof e?(d=e,updateMoment()):d=i.withoutSuffix}),s.$observe("amFullDateThreshold",function(e){p=e,updateMoment()}),s.$observe("amFullDateFormat",function(e){m=e,updateMoment()}),s.$observe("amFullDateThresholdUnit",function(e){f=e,updateMoment()}),o.$on("$destroy",function(){cancelTimer()}),o.$on("amMoment:localeChanged",function(){updateMoment()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,r,i){var o=null;this.changeLocale=function(r,i){var o=t.locale(r,i);return e.isDefined(r)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(e){t.tz&&t.tz.setDefault?(t.tz.setDefault(e),n.$broadcast("amMoment:timezoneChanged")):r.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),i.timezone=e,o=e},this.preprocessDate=function(e){return o!==i.timezone&&this.changeTimezone(i.timezone),i.preprocess?i.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(e){return function(t,n){return e(t,n)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(e){function amUtcOffset(t,n){return e.preprocessDate(t).utcOffset(n)}return amUtcOffset}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(e,t,n){function amTimezone(t,r){var i=e.preprocessDate(t);return r?i.tz?i.tz(r):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),i):i}return amTimezone}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,t,n){function amCalendarFilter(e,n,r){if(isUndefinedOrNull(e))return"";var i=t.preprocessDate(e);return i.isValid()?i.calendar(n,r):""}return amCalendarFilter.$stateful=n.statefulFilters,amCalendarFilter}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,t,n){function amDifferenceFilter(n,r,i,o){if(isUndefinedOrNull(n))return"";var a=t.preprocessDate(n),s=isUndefinedOrNull(r)?e():t.preprocessDate(r);return a.isValid()&&s.isValid()?a.diff(s,i,o):""}return amDifferenceFilter.$stateful=n.statefulFilters,amDifferenceFilter}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,t,n){function amDateFormatFilter(e,n){if(isUndefinedOrNull(e))return"";var r=t.preprocessDate(e);return r.isValid()?r.format(n):""}return amDateFormatFilter.$stateful=n.statefulFilters,amDateFormatFilter}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,t){function amDurationFormatFilter(t,n,r){return isUndefinedOrNull(t)?"":e.duration(t,n).humanize(r)}return amDurationFormatFilter.$stateful=t.statefulFilters,amDurationFormatFilter}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,t,n){function amTimeAgoFilter(n,r,i){var o,a;return isUndefinedOrNull(n)?"":(n=t.preprocessDate(n),o=e(n),o.isValid()?(a=e(i),!isUndefinedOrNull(i)&&a.isValid()?o.from(a,r):o.fromNow(r)):"")}return amTimeAgoFilter.$stateful=n.statefulFilters,amTimeAgoFilter}]).filter("amSubtract",["moment","angularMomentConfig",function(e,t){function amSubtractFilter(t,n,r){return isUndefinedOrNull(t)?"":e(t).subtract(parseInt(n,10),r)}return amSubtractFilter.$stateful=t.statefulFilters,amSubtractFilter}]).filter("amAdd",["moment","angularMomentConfig",function(e,t){function amAddFilter(t,n,r){return isUndefinedOrNull(t)?"":e(t).add(parseInt(n,10),r)}return amAddFilter.$stateful=t.statefulFilters,amAddFilter}]).filter("amStartOf",["moment","angularMomentConfig",function(e,t){function amStartOfFilter(t,n){return isUndefinedOrNull(t)?"":e(t).startOf(n)}return amStartOfFilter.$stateful=t.statefulFilters,amStartOfFilter}]).filter("amEndOf",["moment","angularMomentConfig",function(e,t){function amEndOfFilter(t,n){return isUndefinedOrNull(t)?"":e(t).endOf(n)}return amEndOfFilter.$stateful=t.statefulFilters,amEndOfFilter}]),"angularMoment"}window&&window.process&&window.process.type;i=[n(1),n(0)],r=angularMoment,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}()},function(e,t){},function(e,t,n){n(216),n(301),e.exports="md.data.table"},function(e,t){!function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function DetectNgTouch(e,t){if(t.has("$swipe")){e.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}}function MdCoreConfigure(e,t){e.decorator("$$rAF",["$delegate",rAFDecorator]),e.decorator("$q",["$delegate",qDecorator]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function rAFDecorator(e){return e.throttle=function(t){var n,r,i,o;return function(){n=arguments,o=this,i=t,r||(r=!0,e(function(){i.apply(o,Array.prototype.slice.call(n)),r=!1}))}},e}function qDecorator(e){return e.resolve||(e.resolve=e.when),e}DetectNgTouch.$inject=["$log","$injector"],MdCoreConfigure.$inject=["$provide","$mdThemingProvider"],rAFDecorator.$inject=["$delegate"],qDecorator.$inject=["$delegate"],t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(MdCoreConfigure).run(DetectNgTouch)}(),function(){function MdAutofocusDirective(e){function preLink(n,r,i){function updateExpression(e){t.isUndefined(e)&&(e=!0),r.toggleClass("md-autofocus",!!e)}var o=i.mdAutoFocus||i.mdAutofocus||i.mdSidenavFocus;updateExpression(e(o)(n)),o&&n.$watch(o,updateExpression)}return{restrict:"A",link:{pre:preLink}}}MdAutofocusDirective.$inject=["$parse"],t.module("material.core").directive("mdAutofocus",MdAutofocusDirective).directive("mdAutoFocus",MdAutofocusDirective).directive("mdSidenavFocus",MdAutofocusDirective)}(),function(){function ColorUtilFactory(){function hexToRgba(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,r=t.substr(0,n),i=t.substr(n,n),o=t.substr(2*n);return 1===n&&(r+=r,i+=i,o+=o),"rgba("+parseInt(r,16)+","+parseInt(i,16)+","+parseInt(o,16)+",0.1)"}function rgbaToHex(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),(e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"").toUpperCase()}function rgbToRgba(e){return e.replace(")",", 0.1)").replace("(","a(")}function rgbaToRgb(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:rgbaToHex,hexToRgba:hexToRgba,rgbToRgba:rgbToRgba,rgbaToRgb:rgbaToRgb}}t.module("material.core").factory("$mdColorUtil",ColorUtilFactory)}(),function(){function MdConstantFactory(){function vendorProperty(t){var r=n+"-"+t,i=camelCase(r),o=i.charAt(0).toLowerCase()+i.substring(1);return hasStyleProperty(e,t)?t:hasStyleProperty(e,i)?i:hasStyleProperty(e,o)?o:t}function hasStyleProperty(e,n){return t.isDefined(e.style[n])}function camelCase(e){return e.replace(i,function(e,t,n,r){return r?n.toUpperCase():n})}var e=document.createElement("div"),n=function(e){var t,n,r=/^(Moz|webkit|ms)(?=[A-Z])/;for(t in e.style)if(n=r.exec(t))return n[0]}(e),r=/webkit/i.test(n),i=/([:\-_]+(.))/g,o={isInputKey:function(e){return e.keyCode>=31&&e.keyCode<=90},isNumPadKey:function(e){return 3===e.location&&e.keyCode>=97&&e.keyCode<=105},isMetaKey:function(e){return e.keyCode>=91&&e.keyCode<=93},isFnLockKey:function(e){return e.keyCode>=112&&e.keyCode<=145},isNavigationKey:function(e){var t=o.KEY_CODE;return-1!=[t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW].indexOf(e.keyCode)},hasModifierKey:function(e){return e.ctrlKey||e.metaKey||e.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(r?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(r?" webkitAnimationEnd":""),TRANSFORM:vendorProperty("transform"),TRANSFORM_ORIGIN:vendorProperty("transformOrigin"),TRANSITION:vendorProperty("transition"),TRANSITION_DURATION:vendorProperty("transitionDuration"),ANIMATION_PLAY_STATE:vendorProperty("animationPlayState"),ANIMATION_DURATION:vendorProperty("animationDuration"),ANIMATION_NAME:vendorProperty("animationName"),ANIMATION_TIMING:vendorProperty("animationTimingFunction"),ANIMATION_DIRECTION:vendorProperty("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return o}t.module("material.core").factory("$mdConstant",MdConstantFactory)}(),function(){function MdIterator(e,n){function getItems(){return[].concat(i)}function count(){return i.length}function inRange(e){return i.length&&e>-1&&e<i.length}function hasNext(e){return!!e&&inRange(indexOf(e)+1)}function hasPrevious(e){return!!e&&inRange(indexOf(e)-1)}function itemAt(e){return inRange(e)?i[e]:null}function findBy(e,t){return i.filter(function(n){return n[e]===t})}function add(e,n){return e?(t.isNumber(n)||(n=i.length),i.splice(n,0,e),indexOf(e)):-1}function remove(e){contains(e)&&i.splice(indexOf(e),1)}function indexOf(e){return i.indexOf(e)}function contains(e){return e&&indexOf(e)>-1}function first(){return i.length?i[0]:null}function last(){return i.length?i[i.length-1]:null}function findSubsequentItem(e,o,a,s){a=a||r;for(var l=indexOf(o);;){if(!inRange(l))return null;var c=l+(e?-1:1),u=null;if(inRange(c)?u=i[c]:n&&(u=e?last():first(),c=indexOf(u)),null===u||c===s)return null;if(a(u))return u;t.isUndefined(s)&&(s=c),l=c}}var r=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var i=e||[];return{items:getItems,count:count,inRange:inRange,contains:contains,indexOf:indexOf,itemAt:itemAt,findBy:findBy,add:add,remove:remove,first:first,last:last,next:t.bind(null,findSubsequentItem,!1),previous:t.bind(null,findSubsequentItem,!0),hasPrevious:hasPrevious,hasNext:hasNext}}t.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=MdIterator,e}])}])}(),function(){function mdMediaFactory(e,n,r){function $mdMedia(e){var n=i[e];t.isUndefined(n)&&(n=i[e]=validate(e));var r=a[n];return t.isUndefined(r)&&(r=add(n)),r}function validate(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function add(e){var t=o[e];return t||(t=o[e]=r.matchMedia(e)),t.addListener(onQueryChange),a[t.media]=!!t.matches}function onQueryChange(e){n.$evalAsync(function(){a[e.media]=!!e.matches})}function getQuery(e){return o[e]}function getResponsiveAttribute(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var a=e.MEDIA_PRIORITY[r];if(o[i[a]].matches){var s=getNormalizedName(t,n+"-"+a);if(t[s])return t[s]}}return t[getNormalizedName(t,n)]}function watchResponsiveAttributes(n,r,i){var o=[];return n.forEach(function(n){var a=getNormalizedName(r,n);t.isDefined(r[a])&&o.push(r.$observe(a,t.bind(void 0,i,null)));for(var s in e.MEDIA)a=getNormalizedName(r,n+"-"+s),t.isDefined(r[a])&&o.push(r.$observe(a,t.bind(void 0,i,s)))}),function(){o.forEach(function(e){e()})}}function getNormalizedName(e,t){return s[t]||(s[t]=e.$normalize(t))}var i={},o={},a={},s={};return $mdMedia.getResponsiveAttribute=getResponsiveAttribute,$mdMedia.getQuery=getQuery,$mdMedia.watchResponsiveAttributes=watchResponsiveAttributes,$mdMedia}mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"],t.module("material.core").factory("$mdMedia",mdMediaFactory)}(),function(){function MdPrefixer(e,n){function _buildList(e){return e=t.isArray(e)?e:[e],e.forEach(function(t){r.forEach(function(n){e.push(n+"-"+t)})}),e}function _buildSelector(e){return e=t.isArray(e)?e:[e],_buildList(e).map(function(e){return"["+e+"]"}).join(",")}function _hasAttribute(e,t){if(!(e=_getNativeElement(e)))return!1;for(var n=_buildList(t),r=0;r<n.length;r++)if(e.hasAttribute(n[r]))return!0;return!1}function _removeAttribute(e,t){(e=_getNativeElement(e))&&_buildList(t).forEach(function(t){e.removeAttribute(t)})}function _getNativeElement(e){if(e=e[0]||e,e.nodeType)return e}var r=["data","x"];return e?n?_buildSelector(e):_buildList(e):{buildList:_buildList,buildSelector:_buildSelector,hasAttribute:_hasAttribute,removeAttribute:_removeAttribute}}t.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.prefixer=MdPrefixer,e}])}])}(),function(){function UtilFactory(i,o,a,s,l,c,u,d,h,p){function validateCssValue(e){return e?hasPx(e)||hasPercent(e)?e:e+"px":"0"}function hasPx(e){return String(e).indexOf("px")>-1}function hasPercent(e){return String(e).indexOf("%")>-1}function getNode(e){return e[0]||e}var m=c.startSymbol(),f=c.endSymbol(),g="{{"===m&&"}}"===f,v=function(e,n,r){var i=!1;if(e&&e.length){var o=h.getComputedStyle(e[0]);i=t.isDefined(o[n])&&(!r||o[n]==r)}return i},y={dom:{},now:e.performance&&e.performance.now?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(e,t){if(e.$options){var n=e.$options;return n.getOption?n.getOption(t):n[t]}},bidi:function(e,n,r,o){var a=!("rtl"==i[0].dir||"rtl"==i[0].body.dir);if(0==arguments.length)return a?"ltr":"rtl";var s=t.element(e);a&&t.isDefined(r)?s.css(n,validateCssValue(r)):!a&&t.isDefined(o)&&s.css(n,validateCssValue(o))},bidiProperty:function(e,n,r,o){var a=!("rtl"==i[0].dir||"rtl"==i[0].body.dir),s=t.element(e);a&&t.isDefined(n)?(s.css(n,validateCssValue(o)),s.css(r,"")):!a&&t.isDefined(r)&&(s.css(r,validateCssValue(o)),s.css(n,""))},clientRect:function(e,t,n){var r=getNode(e);t=getNode(t||r.offsetParent||document.body);var i=r.getBoundingClientRect(),o=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-o.left,top:i.top-o.top,width:i.width,height:i.height}},offsetRect:function(e,t){return y.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},getViewportTop:function(){return e.scrollY||e.pageYOffset||0},findFocusTarget:function(e,n){function scanForFocusable(e,n){var r,i=e[0].querySelectorAll(n);return i&&i.length&&i.length&&t.forEach(i,function(e){e=t.element(e),e.hasClass("md-autofocus")&&(r=e)}),r}var r,i=this.prefixer("md-autofocus",!0);return r=scanForFocusable(e,n||i),r||n==i||(r=scanForFocusable(e,this.prefixer("md-auto-focus",!0)))||(r=scanForFocusable(e,i)),r},disableScrollAround:function(e,n,r){if(r=r||{},y.disableScrollAround._count=Math.max(0,y.disableScrollAround._count||0),y.disableScrollAround._count++,y.disableScrollAround._restoreScroll)return y.disableScrollAround._restoreScroll;var o=i[0].body,a=function(){var e=i[0].documentElement,n=e.style.cssText||"",r=o.style.cssText||"",a=y.getViewportTop(),s=o.clientWidth,l=o.scrollHeight>o.clientHeight+1,c=e.scrollTop>0?e:o;return l&&t.element(o).css({position:"fixed",width:"100%",top:-a+"px"}),o.clientWidth<s&&(o.style.overflow="hidden"),l&&(e.style.overflowY="scroll"),function(){o.style.cssText=r,e.style.cssText=n,c.scrollTop=a}}(),s=function(e){function preventDefault(e){e.preventDefault()}e=t.element(e||o);var n;return r.disableScrollMask?n=e:(n=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),e.append(n)),n.on("wheel",preventDefault),n.on("touchmove",preventDefault),function(){n.off("wheel"),n.off("touchmove"),!r.disableScrollMask&&n[0].parentNode&&n[0].parentNode.removeChild(n[0])}}(n);return y.disableScrollAround._restoreScroll=function(){--y.disableScrollAround._count<=0&&(a(),s(),delete y.disableScrollAround._restoreScroll)}},enableScrolling:function(){var e=this.disableScrollAround._restoreScroll;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});e.children().css("height","60px"),i[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function focusOnClick(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",focusOnClick))},!0);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),r.$material=!0,r.$focus=!0,n.dispatchEvent(r)},createBackdrop:function(e,t){return a(y.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var r=n.split("."),i=t;try{for(var o in r)r.hasOwnProperty(o)&&(i=i[r[o]])}catch(t){i=e}return"string"==typeof i||"number"==typeof i?i:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,r,i){var a;return function(){var s=r,l=Array.prototype.slice.call(arguments);o.cancel(a),a=o(function(){a=n,e.apply(s,l)},t||10,i)}},throttle:function(e,t){var n;return function(){var r=this,i=arguments,o=y.now();(!n||o-n>t)&&(e.apply(r,i),n=o)}},time:function(e){var t=y.now();return e(),y.now()-t},valueOnUse:function(e,t,n){var r=null,i=Array.prototype.slice.call(arguments),o=i.length>3?i.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===r&&(r=n.apply(e,o)),r}})},nextUid:function(){return""+r++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,r){if(t.isString(n)){var i=n.toUpperCase();n=function(e){return e.nodeName.toUpperCase()===i}}if(e instanceof t.element&&(e=e[0]),r&&(e=e.parentNode),!e)return null;do{if(n(e))return e}while(e=e.parentNode);return null},elementContains:function(n,r){return(e.Node&&e.Node.prototype&&Node.prototype.contains?t.bind(n,n.contains):t.bind(n,function(e){return n===r||!!(16&this.compareDocumentPosition(e))}))(r)},extractElementByName:function(e,n,r,i){function scanTree(e){return scanLevel(e)||(r?scanChildren(e):null)}function scanLevel(e){if(e)for(var t=0,r=e.length;t<r;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function scanChildren(e){var t;if(e)for(var n=0,r=e.length;n<r;n++){var i=e[n];if(!t)for(var o=0,a=i.childNodes.length;o<a;o++)t=t||scanTree([i.childNodes[o]])}return t}var o=scanTree(e);return!o&&i&&u.warn(y.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(o||e)},initOptionalProperties:function(e,n,r){r=r||{},t.forEach(e.$$isolateBindings,function(i,o){if(i.optional&&t.isUndefined(e[o])){var a=t.isDefined(n[i.attrName]);e[o]=t.isDefined(r[o])?r[o]:a}})},nextTick:function(e,t,n){function processQueue(){var e=r.queue,t=r.digest;r.queue=[],r.timeout=null,r.digest=!1,e.forEach(function(e){e.scope&&e.scope.$$destroyed||e.callback()}),t&&s.$digest()}var r=y.nextTick,i=r.timeout,a=r.queue||[];return a.push({scope:n,callback:e}),null==t&&(t=!0),r.digest=r.digest||t,r.queue=a,i||(r.timeout=o(processQueue,0,!1))},processTemplate:function(e){return g?e:e&&t.isString(e)?e.replace(/\{\{/g,m).replace(/}}/g,f):e},getParentWithPointerEvents:function(e){for(var t=e.parent();v(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==d[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},checkStickySupport:function(){var e,n=t.element("<div>");i[0].body.appendChild(n[0]);for(var r=["sticky","-webkit-sticky"],o=0;o<r.length;++o)if(n.css({position:r[o],top:0,"z-index":2}),n.css("position")==r[o]){e=r[o];break}return n.remove(),e},parseAttributeBoolean:function(e,t){return""===e||!!e&&(!1===t||"false"!==e&&"0"!==e)},hasComputedStyle:v,isParentFormSubmitted:function(e){var n=y.getClosest(e,"form"),r=n?t.element(n).controller("form"):null;return!!r&&r.$submitted},animateScrollTo:function(e,t,n){function scrollChunk(){var n=calculateNewPosition();e.scrollTop=n,(o?n<t:n>t)&&p(scrollChunk)}function calculateNewPosition(){var e=n||1e3;return ease(y.now()-a,r,i,e)}function ease(e,t,n,r){if(e>r)return t+n;var i=(e/=r)*e;return t+n*(i*e*-2+3*i)}var r=e.scrollTop,i=t-r,o=r<t,a=y.now();p(scrollChunk)},uniq:function(e){if(e)return e.filter(function(e,t,n){return n.indexOf(e)===t})}};return y.dom.animator=l(y),y}UtilFactory.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var r=0;t.module("material.core").factory("$mdUtil",UtilFactory),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function MdAriaProvider(){function disableWarnings(){e.showWarnings=!1}var e={showWarnings:!0};return{disableWarnings:disableWarnings,$get:["$$rAF","$log","$window","$interpolate",function(t,n,r,i){return MdAriaService.apply(e,arguments)}]}}function MdAriaService(e,n,r,i){function expect(e,r,i){var a=t.element(e)[0]||e;!a||a.hasAttribute(r)&&0!==a.getAttribute(r).length||childHasAttribute(a,r)||(i=t.isString(i)?i.trim():"",i.length?e.attr(r,i):o&&n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',a))}function expectAsync(t,n,r){e(function(){expect(t,n,r())})}function expectWithText(e,t){var n=getText(e)||"";n.indexOf(i.startSymbol())>-1?expectAsync(e,t,function(){return getText(e)}):expect(e,t,n)}function expectWithoutText(e,t){var n=getText(e);n.indexOf(i.startSymbol())>-1||n||expect(e,t,n)}function getText(e){e=e[0]||e;for(var t,n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r="";t=n.nextNode();)(function(t){for(;t.parentNode&&(t=t.parentNode)!==e;)if(t.getAttribute&&"true"===t.getAttribute("aria-hidden"))return!0})(t)||(r+=t.textContent);return r.trim()||""}function childHasAttribute(e,t){var n=e.hasChildNodes(),i=!1;if(n)for(var o=e.childNodes,a=0;a<o.length;a++){var s=o[a];1===s.nodeType&&s.hasAttribute(t)&&(function(e){return"none"===(e.currentStyle?e.currentStyle:r.getComputedStyle(e)).display}(s)||(i=!0))}return i}function hasAriaLabel(e){var n=t.element(e)[0]||e;return!!n.hasAttribute&&(n.hasAttribute("aria-label")||n.hasAttribute("aria-labelledby")||n.hasAttribute("aria-describedby"))}function parentHasAriaLabel(e,n){n=n||1;var r=t.element(e)[0]||e;return!!r.parentNode&&(!!function(e){if(!hasAriaLabel(e))return!1;if(e.hasAttribute("role"))switch(e.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(e.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}(r.parentNode)||!!--n&&parentHasAriaLabel(r.parentNode,n))}var o=this.showWarnings;return{expect:expect,expectAsync:expectAsync,expectWithText:expectWithText,expectWithoutText:expectWithoutText,getText:getText,hasAriaLabel:hasAriaLabel,parentHasAriaLabel:parentHasAriaLabel}}MdAriaService.$inject=["$$rAF","$log","$window","$interpolate"],t.module("material.core").provider("$mdAria",MdAriaProvider)}(),function(){function MdCompilerProvider(e){function getPreAssignBindingsEnabled(){return!n||("function"==typeof e.preAssignBindingsEnabled?e.preAssignBindingsEnabled():1===t.version.major&&t.version.minor<6)}function MdCompilerService(e,t,n,r,i){this.$q=e,this.$templateRequest=t,this.$injector=n,this.$compile=r,this.$controller=i}var n=!1;this.respectPreAssignBindingsEnabled=function(e){return t.isDefined(e)?(n=e,this):n},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(e,t,n,r,i){return new MdCompilerService(e,t,n,r,i)}],MdCompilerService.prototype.compile=function(e){return e.contentElement?this._prepareContentElement(e):this._compileTemplate(e)},MdCompilerService.prototype._prepareContentElement=function(e){var t=this._fetchContentElement(e);return this.$q.resolve({element:t.element,cleanup:t.restore,locals:{},link:function(){return t.element}})},MdCompilerService.prototype._compileTemplate=function(e){var n=this,r=e.templateUrl,i=e.template||"",o=t.extend({},e.resolve),a=t.extend({},e.locals),s=e.transformTemplate||t.identity;return t.forEach(o,function(e,r){t.isString(e)?o[r]=n.$injector.get(e):o[r]=n.$injector.invoke(e)}),t.extend(o,a),o.$$ngTemplate=r?this.$templateRequest(r):this.$q.when(i),this.$q.all(o).then(function(r){var i=s(r.$$ngTemplate,e),o=e.element||t.element("<div>").html(i.trim()).contents();return n._compileElement(r,o,e)})},MdCompilerService.prototype._compileElement=function(e,n,r){function linkFn(s){if(e.$scope=s,r.controller){var l=t.extend({},e,{$element:n}),c=i._createController(r,l,e);n.data("$ngControllerController",c),n.children().data("$ngControllerController",c),a.controller=c}return o(s)}var i=this,o=this.$compile(n),a={element:n,cleanup:n.remove.bind(n),locals:e,link:linkFn};return a},MdCompilerService.prototype._createController=function(e,n,r){var i=this.$controller(e.controller,n,!0,e.controllerAs);getPreAssignBindingsEnabled()&&e.bindToController&&t.extend(i.instance,r);var o=i();return!getPreAssignBindingsEnabled()&&e.bindToController&&t.extend(i.instance,r),t.isFunction(o.$onInit)&&o.$onInit(),o},MdCompilerService.prototype._fetchContentElement=function(e){function createRestoreFn(e){var t=e.parentNode,n=e.nextElementSibling;return function(){n?t.insertBefore(e,n):t.appendChild(e)}}var n=e.contentElement,r=null;return t.isString(n)?(n=document.querySelector(n),r=createRestoreFn(n)):(n=n[0]||n,r=document.contains(n)?createRestoreFn(n):function(){n.parentNode&&n.parentNode.removeChild(n)}),{element:t.element(n),restore:r}}}t.module("material.core").provider("$mdCompiler",MdCompilerProvider),MdCompilerProvider.$inject=["$compileProvider"]}(),function(){function MdGestureProvider(){}function MdGesture(n,r,s){function checkDistanceAndEmit(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function register(e,t,n){var r=i[t.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(i).join(", "));return r.registerElement(e,n)}function addHandler(e,r){var o=new n(e);return t.extend(o,r),i[e]=o,p}var l=navigator.userAgent||navigator.vendor||e.opera,c=l.match(/ipad|iphone|ipod/i),u=l.match(/android/i),d=function(){for(var e=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],r=0;r<n.length;r++){var i=n[r],o=i?i+"TouchAction":"touchAction";if(t.isDefined(e.style[o]))return o}}(),h=void 0!==e.jQuery&&t.element===e.jQuery,p={handler:addHandler,register:register,isHijackingClicks:(c||u)&&!h&&!o};return p.isHijackingClicks&&(p.handler("click",{options:{maxDistance:a},onEnd:checkDistanceAndEmit("click")}),p.handler("focus",{options:{maxDistance:a},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&canFocus(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),p.handler("mouseup",{options:{maxDistance:a},onEnd:checkDistanceAndEmit("mouseup")}),p.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})),p.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){s.cancel(this.state.timeout)},onStart:function(e,n){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:n.x,y:n.y},this.state.timeout=s(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1)},onMove:function(e,t){d||"touchmove"!==e.type||e.preventDefault();var n=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(e,t){d&&(this.oldTouchAction=e[0].style[d],e[0].style[d]=t.horizontal?"pan-y":"pan-x")},onCleanup:function(e){this.oldTouchAction&&(e[0].style[d]=this.oldTouchAction)},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,r;d||"touchmove"!==e.type||e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,r=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,r=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=makeStartPointer(e),updatePointerState(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:r.throttle(function(e){this.state.isRunning&&(updatePointerState(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(updatePointerState(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function GestureHandler(e){this.name=e,this.state={}}function MdGestureHandler(){function jQueryDispatchEvent(e,r,i){i=i||n;var o=new t.element.Event(r);o.$material=!0,o.pointer=i,o.srcEvent=e,t.extend(o,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(i.target).trigger(o)}function nativeDispatchEvent(t,r,i){i=i||n;var o;"click"===r||"mouseup"==r||"mousedown"==r?(o=document.createEvent("MouseEvents"),o.initMouseEvent(r,!0,!0,e,t.detail,i.x,i.y,i.x,i.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(o=document.createEvent("CustomEvent"),o.initCustomEvent(r,!0,!0,{})),o.$material=!0,o.pointer=i,o.srcEvent=t,i.target.dispatchEvent(o)}var r=void 0!==e.jQuery&&t.element===e.jQuery;return GestureHandler.prototype={options:{},dispatchEvent:r?jQueryDispatchEvent:nativeDispatchEvent,onSetup:t.noop,onCleanup:t.noop,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var r=this.getNearestParent(e.target),i=r&&r.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,i),registeredParent:r},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function onDestroy(){delete e[0].$mdGesture[n.name],e.off("$destroy",onDestroy),n.onCleanup(e,t||{})}var n=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",onDestroy),n.onSetup(e,t||{}),onDestroy}},GestureHandler}function attachToDocument(e,o){function mouseInputHijacker(e){!e.clientX&&!e.clientY||e.$material||e.isIonicTap||isInputEventFromLabelClick(e)||"mousedown"===e.type&&(canFocus(e.target)||canFocus(document.activeElement))||(e.preventDefault(),e.stopPropagation())}function clickHijacker(e){var t=0===e.clientX&&0===e.clientY,n=e.target&&"submit"===e.target.type;t||e.$material||e.isIonicTap||isInputEventFromLabelClick(e)||n?(s=null,"label"==e.target.tagName.toLowerCase()&&(s={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),s=null)}function runHandlers(e,t){var r;for(var a in i)(r=i[a])instanceof o&&("start"===e&&r.cancel(),r[e](t,n))}function gestureStart(e){if(!n){var t=+Date.now();r&&!typesMatch(e,r)&&t-r.endTime<1500||(n=makeStartPointer(e),runHandlers("start",e))}}function gestureMove(e){n&&typesMatch(e,n)&&(updatePointerState(e,n),runHandlers("move",e))}function gestureEnd(e){n&&typesMatch(e,n)&&(updatePointerState(e,n),n.endTime=+Date.now(),"pointercancel"!==e.type&&runHandlers("end",e),r=n,n=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!l&&e.isHijackingClicks&&(document.addEventListener("click",clickHijacker,!0),document.addEventListener("mouseup",mouseInputHijacker,!0),document.addEventListener("mousedown",mouseInputHijacker,!0),document.addEventListener("focus",mouseInputHijacker,!0),l=!0);t.element(document).on("mousedown touchstart pointerdown",gestureStart).on("mousemove touchmove pointermove",gestureMove).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",gestureEnd).on("$$mdGestureReset",function(){r=n=null})}function makeStartPointer(e){var t=getEventPoint(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function typesMatch(e,t){return e&&t&&e.type.charAt(0)===t.type}function isInputEventFromLabelClick(e){return s&&s.x==e.x&&s.y==e.y}function updatePointerState(e,t){var n=getEventPoint(e),r=t.x=n.pageX,i=t.y=n.pageY;t.distanceX=r-t.startX,t.distanceY=i-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function getEventPoint(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}function canFocus(e){return!!e&&"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("disabled")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||e.isContentEditable||-1!=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(e.nodeName))}MdGesture.$inject=["$$MdGestureHandler","$$rAF","$timeout"],attachToDocument.$inject=["$mdGesture","$$MdGestureHandler"];var n,r,i={},o=!1,a=6,s=null,l=!1;t.module("material.core.gestures",[]).provider("$mdGesture",MdGestureProvider).factory("$$MdGestureHandler",MdGestureHandler).run(attachToDocument),MdGestureProvider.prototype={skipClickHijack:function(){return o=!0},setMaxClickDistance:function(e){a=parseInt(e)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new MdGesture(e,t,n)}]}}(),function(){function MdInteractionService(e,n){this.$timeout=e,this.$mdUtil=n,this.bodyElement=t.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents()}MdInteractionService.$inject=["$timeout","$mdUtil"],t.module("material.core.interaction",[]).service("$mdInteraction",MdInteractionService),MdInteractionService.prototype.initializeEvents=function(){var t="MSPointerEvent"in e?"MSPointerDown":"PointerEvent"in e?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this)),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this)),t&&this.bodyElement.on(t,this.onInputEvent.bind(this))},MdInteractionService.prototype.onInputEvent=function(e){if(!this.isBuffering){var t=this.inputEventMap[e.type];"pointer"===t&&(t=this.iePointerMap[e.pointerType]||e.pointerType),this.lastInteractionType=t,this.lastInteractionTime=this.$mdUtil.now()}},MdInteractionService.prototype.onBufferInputEvent=function(e){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(e),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},MdInteractionService.prototype.getLastInteractionType=function(){return this.lastInteractionType},MdInteractionService.prototype.isUserInvoked=function(e){var n=t.isNumber(e)?e:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),function(){function InterimElementProvider(){function createInterimElementProvider(e){function setDefaults(e){return i.optionsFactory=e.options,i.methods=(e.methods||[]).concat(n),o}function addMethod(e,t){return r[e]=t,o}function addPreset(t,r){if(r=r||{},r.methods=r.methods||[],r.options=r.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(r.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return i.presets[t]={methods:r.methods.concat(n),optionsFactory:r.options,argOption:r.argOption},o}function factory(n,o){function showInterimElement(e){return e=e||{},e._options&&(e=e._options),l.show(t.extend({},s,e))}function destroyInterimElement(e){return l.destroy(e)}function invokeFactory(t,n){var r={};return r[e]=c,o.invoke(t||function(){return n},{},r)}var a,s,l=n(),c={hide:l.hide,cancel:l.cancel,show:showInterimElement,destroy:destroyInterimElement};return a=i.methods||[],s=invokeFactory(i.optionsFactory,{}),t.forEach(r,function(e,t){c[t]=e}),t.forEach(i.presets,function(e,n){function Preset(e){this._options=t.extend({},r,e)}var r=invokeFactory(e.optionsFactory,{}),i=(e.methods||[]).concat(a);if(t.extend(r,{$type:n}),t.forEach(i,function(e){Preset.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var o="show"+n.charAt(0).toUpperCase()+n.slice(1);c[o]=function(e){var t=c[n](e);return c.show(t)}}c[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new Preset)[e.argOption](n):new Preset(n)}}),c}factory.$inject=["$$interimElement","$injector"];var n=["onHide","onShow","onRemove"],r={},i={presets:{}},o={setDefaults:setDefaults,addPreset:addPreset,addMethod:addMethod,$get:factory};return o.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),o}function InterimElementFactory(e,r,i,o,a,s,l,c,u,d,h){return function(){function show(e){e=e||{};var t=new InterimElement(e||{}),n=e.multiple?r.resolve():r.all(f);e.multiple||(n=n.then(function(){var e=g.concat(v.map(p.cancel));return r.all(e)}));var i=n.then(function(){return t.show().catch(function(e){return e}).finally(function(){f.splice(f.indexOf(i),1),v.push(t)})});return f.push(i),t.deferred.promise.catch(function(e){return e instanceof Error&&h(e),e}),t.deferred.promise}function hide(e,t){function closeElement(n){var r=n.remove(e,!1,t||{}).catch(function(e){return e}).finally(function(){g.splice(g.indexOf(r),1)});return v.splice(v.indexOf(n),1),g.push(r),n.deferred.promise}return t=t||{},t.closeAll?r.all(v.slice().reverse().map(closeElement)):t.closeTo!==n?r.all(v.slice(t.closeTo).map(closeElement)):closeElement(v[v.length-1])}function cancel(e,n){var i=v.pop();if(!i)return r.when(e);var o=i.remove(e,!0,n||{}).catch(function(e){return e}).finally(function(){g.splice(g.indexOf(o),1)});return g.push(o),i.deferred.promise.catch(t.noop)}function waitForInterim(e){return function(){var t=arguments;return v.length?e.apply(p,t):f.length?f[0].finally(function(){return e.apply(p,t)}):r.when("No interim elements currently showing up.")}}function destroy(e){var n=e?null:v.shift(),i=t.element(e).length&&t.element(e)[0].parentNode;if(i){var o=v.filter(function(e){return e.options.element[0]===i});o.length&&(n=o[0],v.splice(v.indexOf(n),1))}return n?n.remove(m,!1,{$destroy:!0}):r.when(m)}function InterimElement(d){function createAndTransitionIn(){return r(function(e,t){function rejectAll(e){h.deferred.reject(e),t(e)}d.onCompiling&&d.onCompiling(d),compileElement(d).then(function(t){m=linkElement(t,d),d.cleanupElement=t.cleanup,f=showElement(m,d,t.controller).then(e,rejectAll)}).catch(rejectAll)})}function transitionOutAndRemove(e,n,i){function resolveAll(e){h.deferred.resolve(e)}function rejectAll(e){h.deferred.reject(e)}return m?(d=t.extend(d||{},i||{}),d.cancelAutoHide&&d.cancelAutoHide(),d.element.triggerHandler("$mdInterimElementRemove"),!0===d.$destroy?hideElement(d.element,d).then(function(){n&&rejectAll(e)||resolveAll(e)}):(r.when(f).finally(function(){hideElement(d.element,d).then(function(){n?rejectAll(e):resolveAll(e)},rejectAll)}),h.deferred.promise)):r.when(!1)}function compileElement(e){return(e.skipCompile?null:c.compile(e))||r(function(t){t({locals:{},link:function(){return e.element}})})}function linkElement(e,n){t.extend(e.locals,n);var r=e.link(n.scope);return n.element=r,n.parent=findParent(r,n),n.themable&&u(r),r}function findParent(n,r){var i=r.parent;if(i=t.isFunction(i)?i(r.scope,n,r):t.isString(i)?t.element(e[0].querySelector(i)):t.element(i),!(i||{}).length){var o;return a[0]&&a[0].querySelector&&(o=a[0].querySelector(":not(svg) > body")),o||(o=a[0]),"#comment"==o.nodeName&&(o=e[0].body),t.element(o)}return i}function startAutoHide(){var e,r=t.noop;d.hideDelay&&(e=o(p.hide,d.hideDelay),r=function(){o.cancel(e)}),d.cancelAutoHide=function(){r(),d.cancelAutoHide=n}}function showElement(e,n,i){var o=n.onShowing||t.noop,a=n.onComplete||t.noop;try{o(n.scope,e,n,i)}catch(e){return r.reject(e)}return r(function(t,o){try{r.when(n.onShow(n.scope,e,n,i)).then(function(){a(n.scope,e,n),startAutoHide(),t(e)},o)}catch(e){o(e.message)}})}function hideElement(e,n){var i=n.onRemoving||t.noop;return r(function(t,o){try{var a=r.when(n.onRemove(n.scope,e,n)||!0);i(e,a),n.$destroy?(t(e),!n.preserveScope&&n.scope&&a.then(function(){n.scope.$destroy()})):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},o)}catch(e){o(e.message)}})}var h,m,f=r.when(!0);return d=function(e){return e=e||{},e.template&&(e.template=l.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||i.$new(e.isolateScope),onShow:function(e,t,n){return s.enter(t,n.parent)},onRemove:function(e,t){return t&&s.leave(t)||r.when()}},e)}(d),h={options:d,deferred:r.defer(),show:createAndTransitionIn,remove:transitionOutAndRemove}}var p,m=!1,f=[],g=[],v=[];return p={show:show,hide:waitForInterim(hide),cancel:waitForInterim(cancel),destroy:destroy,$injector_:d}}}return InterimElementFactory.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],createInterimElementProvider.$get=InterimElementFactory,createInterimElementProvider}t.module("material.core").provider("$$interimElement",InterimElementProvider)}(),function(){!function(){function detectDisabledLayouts(){var e=!!document.querySelector("[md-layouts-disabled]");u.enabled=!e}function disableLayoutDirective(){return u.enabled=!1,{restrict:"A",priority:"900"}}function buildCloakInterceptor(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(r){return u.enabled?(r.addClass(e),function(t,r){n(function(){r.removeClass(e)},10,!1)}):t.noop}}}]}function attributeWithObserve(i){function translateWithValueToCssClass(e,t,n){var r=updateClassWithValue(t,i),o=n.$observe(n.$normalize(i),r);r(getNormalizedAttrValue(i,n,"")),e.$on("$destroy",function(){o()})}return["$mdUtil","$interpolate","$log",function(o,a,s){return e=o,n=a,r=s,{restrict:"A",compile:function(e,n){var o;return u.enabled&&(validateAttributeUsage(i,n,e,r),validateAttributeValue(i,getNormalizedAttrValue(i,n,""),buildUpdateFn(e,i,n)),o=translateWithValueToCssClass),o||t.noop}}}]}function attributeWithoutValue(i){function translateToCssClass(e,t){t.addClass(i)}return["$mdUtil","$interpolate","$log",function(o,a,s){return e=o,n=a,r=s,{restrict:"A",compile:function(e,n){var r;return u.enabled&&(validateAttributeValue(i,getNormalizedAttrValue(i,n,""),buildUpdateFn(e,i,n)),translateToCssClass(null,e),r=translateToCssClass),r||t.noop}}}]}function updateClassWithValue(e,n){var r;return function(i){var a=validateAttributeValue(n,i||"");t.isDefined(a)&&(r&&e.removeClass(r),r=a?n+"-"+a.trim().replace(o,"-"):n,e.addClass(r))}}function warnAttrNotSupported(e){var n=e.split("-");return["$log",function(r){return r.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function validateAttributeUsage(t,n,r,o){var a,s,l,c=r[0].nodeName.toLowerCase();switch(t.replace(i,"")){case"flex":"md-button"!=c&&"fieldset"!=c||(s="<"+c+" "+t+"></"+c+">",l="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",a="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",o.warn(e.supplant(a,[s,l])))}}function validateAttributeValue(n,r,o){if(!needsInterpolation(r)){switch(n.replace(i,"")){case"layout":findIn(r,s)||(r=s[0]);break;case"flex":findIn(r,a)||isNaN(r)&&(r="");break;case"flex-offset":case"flex-order":r&&!isNaN(+r)||(r="0");break;case"layout-align":var l=extractAlignAxis(r);r=e.supplant("{main}-{cross}",l);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":r=""}void 0!=r&&(o||t.noop)(r)}return r?r.trim():""}function buildUpdateFn(e,t,n){return function(e){needsInterpolation(e)||(n[n.$normalize(t)]=e)}}function needsInterpolation(e){return(e||"").indexOf(n.startSymbol())>-1}function getNormalizedAttrValue(e,t,n){var r=t.$normalize(e);return t[r]?t[r].trim().replace(o,"-"):n||null}function findIn(e,t,n){e=n&&e?e.replace(o,n):e;var r=!1;return e&&t.forEach(function(t){t=n?t.replace(o,n):t,r=r||t===e}),r}function extractAlignAxis(e){var t,n={main:"start",cross:"stretch"};return e=e||"",0!==e.indexOf("-")&&0!==e.indexOf(" ")||(e="none"+e),t=e.toLowerCase().trim().replace(o,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),l.indexOf(n.main)<0&&(n.main="start"),c.indexOf(n.cross)<0&&(n.cross="stretch"),n}var e,n,r,i=/(-gt)?-(sm|md|lg|print)/g,o=/\s+/g,a=["grow","initial","auto","none","noshrink","nogrow"],s=["row","column"],l=["","start","center","end","stretch","space-around","space-between"],c=["","start","center","end","stretch"],u={enabled:!0,breakpoints:[]};!function(e){function directiveNormalize(e){return e.replace(n,"").replace(r,function(e,t,n,r){return r?n.toUpperCase():n})}var n=/^((?:x|data)[\:\-_])/i,r=/([\:\-\_]+(.))/g,i=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],o=["layout","flex","flex-order","flex-offset","layout-align"],a=["show","hide","layout-padding","layout-margin"];t.forEach(i,function(n){t.forEach(o,function(t){var r=n?t+"-"+n:t;e.directive(directiveNormalize(r),attributeWithObserve(r))}),t.forEach(a,function(t){var r=n?t+"-"+n:t;e.directive(directiveNormalize(r),attributeWithoutValue(r))})}),e.provider("$$mdLayout",function(){return{$get:t.noop,validateAttributeValue:validateAttributeValue,validateAttributeUsage:validateAttributeUsage,disableLayouts:function(e){u.enabled=!0!==e}}}).directive("mdLayoutCss",disableLayoutDirective).directive("ngCloak",buildCloakInterceptor("ng-cloak")).directive("layoutWrap",attributeWithoutValue("layout-wrap")).directive("layoutNowrap",attributeWithoutValue("layout-nowrap")).directive("layoutNoWrap",attributeWithoutValue("layout-no-wrap")).directive("layoutFill",attributeWithoutValue("layout-fill")).directive("layoutLtMd",warnAttrNotSupported("layout-lt-md")).directive("layoutLtLg",warnAttrNotSupported("layout-lt-lg")).directive("flexLtMd",warnAttrNotSupported("flex-lt-md")).directive("flexLtLg",warnAttrNotSupported("flex-lt-lg")).directive("layoutAlignLtMd",warnAttrNotSupported("layout-align-lt-md")).directive("layoutAlignLtLg",warnAttrNotSupported("layout-align-lt-lg")).directive("flexOrderLtMd",warnAttrNotSupported("flex-order-lt-md")).directive("flexOrderLtLg",warnAttrNotSupported("flex-order-lt-lg")).directive("offsetLtMd",warnAttrNotSupported("flex-offset-lt-md")).directive("offsetLtLg",warnAttrNotSupported("flex-offset-lt-lg")).directive("hideLtMd",warnAttrNotSupported("hide-lt-md")).directive("hideLtLg",warnAttrNotSupported("hide-lt-lg")).directive("showLtMd",warnAttrNotSupported("show-lt-md")).directive("showLtLg",warnAttrNotSupported("show-lt-lg")).config(detectDisabledLayouts)}(t.module("material.core.layout",["ng"]))}()}(),function(){function MdLiveAnnouncer(e){this._$timeout=e,this._liveElement=this._createLiveElement(),this._announceTimeout=100}MdLiveAnnouncer.$inject=["$timeout"],t.module("material.core").service("$mdLiveAnnouncer",MdLiveAnnouncer),MdLiveAnnouncer.prototype.announce=function(e,t){t||(t="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",t),n._$timeout(function(){n._liveElement.textContent=e},n._announceTimeout,!1)},MdLiveAnnouncer.prototype._createLiveElement=function(){var e=document.createElement("div");return e.classList.add("md-visually-hidden"),e.setAttribute("role","status"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),document.body.appendChild(e),e}}(),function(){t.module("material.core.meta",[]).provider("$$mdMeta",function(){function mapExistingElement(e){if(n[e])return!0;var r=document.getElementsByName(e)[0];return!!r&&(n[e]=t.element(r),!0)}function setMeta(r,i){if(mapExistingElement(r),n[r])n[r].attr("content",i);else{var o=t.element('<meta name="'+r+'" content="'+i+'"/>');e.append(o),n[r]=o}return function(){n[r].attr("content",""),n[r].remove(),delete n[r]}}function getMeta(e){if(!mapExistingElement(e))throw Error("$$mdMeta: could not find a meta tag with the name '"+e+"'");return n[e].attr("content")}var e=t.element(document.head),n={},r={setMeta:setMeta,getMeta:getMeta};return t.extend({},r,{$get:function(){return r}})})}(),function(){function ComponentRegistry(e,r){function isValidID(e){return e&&""!==e}var i,o=[],a={};return i={notFoundError:function(t,n){e.error((n||"")+"No instance found for handle",t)},getInstances:function(){return o},get:function(e){if(!isValidID(e))return null;var t,n,r;for(t=0,n=o.length;t<n;t++)if(r=o[t],r.$$mdHandle===e)return r;return null},register:function(e,n){function deregister(){var t=o.indexOf(e);-1!==t&&o.splice(t,1)}return n?(e.$$mdHandle=n,o.push(e),function(){var t=a[n];t&&(t.forEach(function(t){t.resolve(e)}),delete a[n])}(),deregister):t.noop},when:function(e){if(isValidID(e)){var t=r.defer(),o=i.get(e);return o?t.resolve(o):(a[e]===n&&(a[e]=[]),a[e].push(t)),t.promise}return r.reject("Invalid `md-component-id` value.")}}}ComponentRegistry.$inject=["$log","$q"],t.module("material.core").factory("$mdComponentRegistry",ComponentRegistry)}(),function(){!function(){function MdButtonInkRipple(e){function optionsForElement(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(n,r,i){return i=t.extend(optionsForElement(r),i),e.attach(n,r,i)}}}MdButtonInkRipple.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdButtonInkRipple",MdButtonInkRipple)}()}(),function(){!function(){function MdCheckboxInkRipple(e){function attach(n,r,i){return e.attach(n,r,t.extend({center:!0,dimBackground:!1,fitRipple:!0},i))}return{attach:attach}}MdCheckboxInkRipple.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdCheckboxInkRipple",MdCheckboxInkRipple)}()}(),function(){!function(){function MdListInkRipple(e){function attach(n,r,i){return e.attach(n,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}return{attach:attach}}MdListInkRipple.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdListInkRipple",MdListInkRipple)}()}(),function(){function InkRippleDirective(e,n){return{controller:t.noop,link:function(t,r,i){i.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,r):e.attach(t,r)}}}function InkRippleProvider(){function disableInkRipple(){e=!0}var e=!1;return{disableInkRipple:disableInkRipple,$get:["$injector",function(n){function attach(r,i,o){return e||i.controller("mdNoInk")?t.noop:n.instantiate(InkRippleCtrl,{$scope:r,$element:i,rippleOptions:o})}return{attach:attach}}]}}function InkRippleCtrl(e,n,r,i,o,a,s){this.$window=i,this.$timeout=o,this.$mdUtil=a,this.$mdColorUtil=s,this.$scope=e,this.$element=n,this.options=r,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function autoCleanup(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function attrNoDirective(){return{controller:t.noop}}InkRippleCtrl.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],InkRippleDirective.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],t.module("material.core").provider("$mdInkRipple",InkRippleProvider).directive("mdInkRipple",InkRippleDirective).directive("mdNoInk",attrNoDirective).directive("mdNoBar",attrNoDirective).directive("mdNoStretch",attrNoDirective);InkRippleCtrl.prototype.color=function(e){var n=this;return t.isDefined(e)&&(n._color=n._parseColor(e)),n._color||n._parseColor(n.inkRipple())||n._parseColor(function(){var e=n.options&&n.options.colorElement?n.options.colorElement:[],t=e.length?e[0]:n.$element[0];return t?n.$window.getComputedStyle(t).color:"rgb(0,0,0)"}())},InkRippleCtrl.prototype.calculateColor=function(){return this.color()},InkRippleCtrl.prototype._parseColor=function(e,t){t=t||1;var n=this.$mdColorUtil;if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?n.rgbToRgba(e):0===e.indexOf("#")?n.hexToRgba(e):void 0},InkRippleCtrl.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},InkRippleCtrl.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;this.createRipple(n,r)}else this.createRipple(e.offsetX,e.offsetY)},InkRippleCtrl.prototype.handleMouseup=function(){autoCleanup(this,this.clearRipples)},InkRippleCtrl.prototype.handleTouchmove=function(){autoCleanup(this,this.deleteRipples)},InkRippleCtrl.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},InkRippleCtrl.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},InkRippleCtrl.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},InkRippleCtrl.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},InkRippleCtrl.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},InkRippleCtrl.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},InkRippleCtrl.prototype.createRipple=function(e,n){if(this.isRippleAllowed()){var r=this,i=r.$mdColorUtil,o=t.element('<div class="md-ripple"></div>'),a=this.$element.prop("clientWidth"),s=this.$element.prop("clientHeight"),l=2*Math.max(Math.abs(a-e),e),c=2*Math.max(Math.abs(s-n),n),u=function(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}(this.options.fitRipple,l,c),d=this.calculateColor();o.css({left:e+"px",top:n+"px",background:"black",width:u+"px",height:u+"px",backgroundColor:i.rgbaToRgb(d),borderColor:i.rgbaToRgb(d)}),this.lastRipple=o,this.clearTimeout(),this.timeout=this.$timeout(function(){r.clearTimeout(),r.mousedown||r.fadeInComplete(o)},157.5,!1),this.options.dimBackground&&this.container.css({backgroundColor:d}),this.container.append(o),this.ripples.push(o),o.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){o.addClass("md-ripple-scaled md-ripple-active"),r.$timeout(function(){r.clearRipples()},450,!1)},!1)}},InkRippleCtrl.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},InkRippleCtrl.prototype.removeRipple=function(e){var t=this;this.ripples.indexOf(e)<0||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),e.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},450,!1))},InkRippleCtrl.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function MdTabInkRipple(e){function attach(n,r,i){return e.attach(n,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}return{attach:attach}}MdTabInkRipple.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdTabInkRipple",MdTabInkRipple)}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}})}(),function(){!function(e){function detectDisabledThemes(e){var t=!!document.querySelector("[md-themes-disabled]");e.disableTheming(t)}function ThemingProvider(r,l){function definePalette(e,n){return n=n||{},t[e]=checkPaletteValid(e,n),c}function extendPalette(n,r){return checkPaletteValid(n,e.extend({},t[n]||{},r))}function checkPaletteValid(e,t){var n=f.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function registerTheme(t,n){if(u[t])return u[t];n=n||"default";var r="string"==typeof n?u[n]:n,i=new Theme(t);return r&&e.forEach(r.colors,function(t,n){i.colors[n]={name:t.name,hues:e.extend({},t.hues)}}),u[t]=i,i}function Theme(t){function setDark(t){if((t=0===arguments.length||!!t)!==n.isDark){n.isDark=t,n.foregroundPalette=n.isDark?o:i,n.foregroundShadow=n.isDark?a:s;var r=n.isDark?m:p,l=n.isDark?p:m;return e.forEach(r,function(e,t){var r=n.colors[t],i=l[t];if(r)for(var o in r.hues)r.hues[o]===i[o]&&(r.hues[o]=e[o])}),n}}var n=this;n.name=t,n.colors={},n.dark=setDark,setDark(!1),d.forEach(function(t){var r=(n.isDark?m:p)[t];n[t+"Palette"]=function(i,o){var a=n.colors[t]={name:i,hues:e.extend({},r,o)};return Object.keys(a.hues).forEach(function(e){if(!r[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",n.name).replace("%3",i).replace("%4",Object.keys(r).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(e){if(-1==f.indexOf(e))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",n.name).replace("%3",t).replace("%4",i).replace("%5",f.join(", ")))}),n},n[t+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),n[t+"Palette"].apply(n,e)}})}function ThemingService(r,i,o,a){function registered(e){return e===n||""===e||s.THEMES[e]!==n}function inheritTheme(e,t){function updateThemeClass(t){if(t){registered(t)||a.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var r=e.data("$mdThemeName");r&&e.removeClass("md-"+r+"-theme"),e.addClass("md-"+t+"-theme"),e.data("$mdThemeName",t),n&&e.data("$mdThemeController",n)}}var n=t.controller("mdTheme")||e.data("$mdThemeController");if(updateThemeClass(function(){return n&&n.$mdTheme||("default"==v?"":v)}()),n)var r=h||n.$shouldWatch||i.parseAttributeBoolean(e.attr("md-theme-watch")),o=n.registerChanges(function(t){updateThemeClass(t),r?e.on("$destroy",o):o()})}var s=function(e,t){t===n&&(t=e,e=n),e===n&&(e=r),s.inherit(t,t)};return Object.defineProperty(s,"THEMES",{get:function(){return e.extend({},u)}}),Object.defineProperty(s,"PALETTES",{get:function(){return e.extend({},t)}}),Object.defineProperty(s,"ALWAYS_WATCH",{get:function(){return h}}),s.inherit=inheritTheme,s.registered=registered,s.defaultTheme=function(){return v},s.generateTheme=function(e){generateTheme(u[e],e,g.nonce)},s.defineTheme=function(e,t){t=t||{};var n=registerTheme(e);return t.primary&&n.primaryPalette(t.primary),t.accent&&n.accentPalette(t.accent),t.warn&&n.warnPalette(t.warn),t.background&&n.backgroundPalette(t.background),t.dark&&n.dark(),this.generateTheme(e),o.resolve(e)},s.setBrowserColor=_,s}ThemingService.$inject=["$rootScope","$mdUtil","$q","$log"],t={};var c,u={},h=!1,v="default";e.extend(t,r);var y=function(e){var t=l.setMeta("theme-color",e),n=l.setMeta("msapplication-navbutton-color",e);return function(){t(),n()}},_=function(n){n=e.isObject(n)?n:{};var r=n.theme||"default",i=n.hue||"800",o=t[n.palette]||t[u[r].colors[n.palette||"primary"].name],a=e.isObject(o[i])?o[i].hex:o[i];return y(a)};return c={definePalette:definePalette,extendPalette:extendPalette,theme:registerTheme,configuration:function(){return e.extend({},g,{defaultTheme:v,alwaysWatchTheme:h,registeredStyles:[].concat(g.registeredStyles)})},disableTheming:function(t){g.disableTheming=e.isUndefined(t)||!!t},registerStyles:function(e){g.registeredStyles.push(e)},setNonce:function(e){g.nonce=e},generateThemesOnDemand:function(e){g.generateOnDemand=e},setDefaultTheme:function(e){v=e},alwaysWatchTheme:function(e){h=e},enableBrowserColor:_,$get:ThemingService,_LIGHT_DEFAULT_HUES:p,_DARK_DEFAULT_HUES:m,_PALETTES:t,_THEMES:u,_parseRules:parseRules,_rgba:rgba}}function ThemingDirective(t,n,r,i,o,a){return{priority:101,link:{pre:function(s,l,c){var u=[],d=n.startSymbol(),h=n.endSymbol(),p=c.mdTheme.trim(),m=p.substr(0,d.length)===d&&p.lastIndexOf(h)===p.length-h.length,f="::"===c.mdTheme.split(d).join("").split(h).join("").trim().substr(0,"::".length),g={registerChanges:function(t,n){return n&&(t=e.bind(n,t)),u.push(t),function(){var e=u.indexOf(t);e>-1&&u.splice(e,1)}},$setTheme:function(e){t.registered(e)||a.warn("attempted to use unregistered theme '"+e+"'"),g.$mdTheme=e;for(var n=u.length;n--;)u[n](e)},$shouldWatch:i.parseAttributeBoolean(l.attr("md-theme-watch"))||t.ALWAYS_WATCH||m&&!f};l.data("$mdThemeController",g);var v=function(){var e=n(c.mdTheme)(s);return r(e)(s)||e},y=function(t){if("string"==typeof t)return g.$setTheme(t);o.when(e.isFunction(t)?t():t).then(function(e){g.$setTheme(e)})};y(v());var _=s.$watch(v,function(e){e&&(y(e),g.$shouldWatch||_())})}}}}function disableThemesDirective(){return g.disableTheming=!0,{restrict:"A",priority:"900"}}function ThemableDirective(e){return e}function parseRules(n,r,i){checkValidPalette(n,r),i=i.replace(/THEME_NAME/g,n.name);var o=[],a=n.colors[r],s=new RegExp("\\.md-"+n.name+"-theme","g"),l=new RegExp("('|\")?{{\\s*("+r+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),c=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,u=t[a.name];return i=i.replace(c,function(e,r,i,o,a){return"foreground"===r?"shadow"==i?n.foregroundShadow:n.foregroundPalette[i]||n.foregroundPalette[1]:(0!==i.indexOf("hue")&&"default"!==i||(i=n.colors[r].hues[i]),rgba((t[n.colors[r].name][i]||"")[a?"contrast":"value"],o))}),e.forEach(a.hues,function(e,t){var r=i.replace(l,function(t,n,r,i,o){return rgba(u[e]["color"===i?"value":"contrast"],o)});if("default"!==t&&(r=r.replace(s,".md-"+n.name+"-theme.md-"+t)),"default"==n.name){var a=/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;r=r.replace(a,function(e,t,n){return e+", "+t+n})}o.push(r)}),o}function generateAllThemes(n,i){function sanitizePalette(t,n){var r=t.contrastDefaultColor,i=t.contrastLightColors||[],o=t.contrastStrongLightColors||[],a=t.contrastDarkColors||[];"string"==typeof i&&(i=i.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,e.forEach(t,function(n,s){if(!e.isObject(n)){var d=colorToRgbaArray(n);if(!d)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",t.name).replace("%3",s));t[s]={hex:t[s],value:d,contrast:function(){return"light"===r?a.indexOf(s)>-1?l:o.indexOf(s)>-1?u:c:i.indexOf(s)>-1?o.indexOf(s)>-1?u:c:l}()}}})}var o=document.head,a=o?o.firstElementChild:null,s=!g.disableTheming&&n.has("$MD_THEME_CSS")?n.get("$MD_THEME_CSS"):"";if(s+=g.registeredStyles.join(""),a&&0!==s.length){e.forEach(t,sanitizePalette);var p=s.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.trim().length}).map(function(e){return e.trim()+"}"}),m=new RegExp("md-("+d.join("|")+")","g");d.forEach(function(e){v[e]=""}),p.forEach(function(e){for(var t,n=(e.match(m),0);t=d[n];n++)if(e.indexOf(".md-"+t)>-1)return v[t]+=e;for(n=0;t=d[n];n++)if(e.indexOf(t)>-1)return v[t]+=e;return v[h]+=e}),g.generateOnDemand||e.forEach(i.THEMES,function(e){r[e.name]||"default"!==i.defaultTheme()&&"default"===e.name||generateTheme(e,e.name,g.nonce)})}}function generateTheme(e,t,n){var i=document.head,o=i?i.firstElementChild:null;r[t]||(d.forEach(function(t){for(var r=parseRules(e,t,v[t]);r.length;){var a=r.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),n&&s.setAttribute("nonce",n),s.appendChild(document.createTextNode(a)),i.insertBefore(s,o)}}}),r[e.name]=!0)}function checkValidPalette(e,n){if(!t[(e.colors[n]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",n).replace("%3",Object.keys(t).join(", ")))}function colorToRgbaArray(t){if(e.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var n=t.length/3,r=t.substr(0,n),i=t.substr(n,n),o=t.substr(2*n);return 1===n&&(r+=r,i+=i,o+=o),[parseInt(r,16),parseInt(i,16),parseInt(o,16)]}}function rgba(t,n){return t?(4==t.length&&(t=e.copy(t),n?t.pop():n=t.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+t.join(",")+","+n+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}detectDisabledThemes.$inject=["$mdThemingProvider"],ThemingDirective.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],ThemableDirective.$inject=["$mdTheming"],ThemingProvider.$inject=["$mdColorPalette","$$mdMetaProvider"],generateAllThemes.$inject=["$injector","$mdTheming"],e.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",ThemingDirective).directive("mdThemable",ThemableDirective).directive("mdThemesDisabled",disableThemesDirective).provider("$mdTheming",ThemingProvider).config(detectDisabledThemes).run(generateAllThemes);var t,r={},i={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},o={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},a="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",s="",l=colorToRgbaArray("rgba(0,0,0,0.87)"),c=colorToRgbaArray("rgba(255,255,255,0.87)"),u=colorToRgbaArray("rgb(255,255,255)"),d=["primary","accent","warn","background"],h="primary",p={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},m={background:{default:"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};d.forEach(function(e){var t={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};p[e]||(p[e]=t),m[e]||(m[e]=t)});var f=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],g={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},v={}}(e.angular)}(),function(){function AnimateDomUtils(n,r,i,o,a){var s;return s={translate3d:function(e,t,n,r){function reverseTranslate(n){return a(e,{to:n||t,addClass:r.transitionOutClass,removeClass:r.transitionInClass,duration:r.duration}).start()}return a(e,{from:t,to:n,addClass:r.transitionInClass,removeClass:r.transitionOutClass,duration:r.duration}).start().then(function(){return reverseTranslate})},waitTransitionEnd:function(t,n){var a=3e3;return r(function(r,s){function finished(e){e&&e.target!==t[0]||(e&&i.cancel(l),t.off(o.CSS.TRANSITIONEND,finished),r())}n=n||{},function(n){return n=n||e.getComputedStyle(t[0]),"0s"==n.transitionDuration||!n.transition&&!n.transitionProperty}(n.cachedTransitionStyles)&&(a=0);var l=i(finished,n.timeout||a);t.on(o.CSS.TRANSITIONEND,finished)})},calculateTransformValues:function(e,t){var n=t.element,r=t.bounds;if(n||r){var i=n?s.clientRect(n)||function(){var t=e?e.parent():null,n=t?t.parent():null;return n?s.clientRect(n):null}():s.copyRect(r),o=s.copyRect(e[0].getBoundingClientRect()),a=s.centerPointFor(o),l=s.centerPointFor(i);return{centerX:l.x-a.x,centerY:l.y-a.y,scaleX:Math.round(100*Math.min(.5,i.width/o.width))/100,scaleY:Math.round(100*Math.min(.5,i.height/o.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(e,r){return t.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )")(s.calculateTransformValues(e,r))},calculateSlideToOrigin:function(e,r){return t.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 )")(s.calculateTransformValues(e,r))},toCss:function(e){function convertToVendor(e,r,i){t.forEach(r.split(" "),function(e){n[e]=i})}var n={};return t.forEach(e,function(e,r){if(!t.isUndefined(e))if("left top right bottom width height x y min-width min-height max-width max-height".indexOf(r)>=0)n[r]=e+"px";else switch(r){case"transition":convertToVendor(r,o.CSS.TRANSITION,e);break;case"transform":convertToVendor(r,o.CSS.TRANSFORM,e);break;case"transformOrigin":convertToVendor(r,o.CSS.TRANSFORM_ORIGIN,e);break;case"font-size":n["font-size"]=e}}),n},toTransformCss:function(e,n,r){var i={};return t.forEach(o.CSS.TRANSFORM.split(" "),function(t){i[t]=e}),n&&(r=r||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",i.transition=r),i},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect();return function(e){return e&&e.width>0&&e.height>0}(n)?s.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(e,t,n,r){return function(i){return AnimateDomUtils(i,e,t,n,r)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):function(){function camelCase(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var e=t.forEach,n=t.isDefined(document.documentElement.style.WebkitAppearance),r=n?"-webkit-":"",i=(n?"webkitTransitionEnd ":"")+"transitionend",o=(n?"webkitAnimationEnd ":"")+"animationend",a=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],s=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],l=["$q","$$rAFMutex",function(n,r){function AnimateRunner(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=r(),this._state=0}return AnimateRunner.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var e=this;this.promise=n(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(e(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},AnimateRunner.all=function(t,n){function onProgress(e){i=i&&e,++r===t.length&&n(i)}var r=0,i=!0;e(t,function(e){e.done(onProgress)})},AnimateRunner}];t.module("material.core.animate",[]).factory("$$forceReflow",a).factory("$$AnimateRunner",l).factory("$$rAFMutex",s).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(t,a,s,l,c,u,d){function init(n,a){var l=[],c=getDomNode(n),h=c&&d.enabled(),p=!1,m=!1;h&&(a.transitionStyle&&l.push([r+"transition",a.transitionStyle]),a.keyframeStyle&&l.push([r+"animation",a.keyframeStyle]),a.delay&&l.push([r+"transition-delay",a.delay+"s"]),a.duration&&l.push([r+"transition-duration",a.duration+"s"]),p=a.keyframeStyle||a.to&&(a.duration>0||a.transitionStyle),m=!!a.addClass||!!a.removeClass,blockTransition(n,!0));var f=h&&(p||m);applyAnimationFromStyles(n,a);var g,v,y=!1;return{close:t.close,start:function(){function close(){if(!y)return y=!0,g&&v&&n.off(g,v),applyClasses(n,a),applyAnimationStyles(n,a),e(l,function(e){c.style[camelCase(e[0])]=""}),t.complete(!0),t}var t=new s;return waitUntilQuiet(function(){if(blockTransition(n,!1),!f)return close();e(l,function(e){var t=e[0],n=e[1];c.style[camelCase(t)]=n}),applyClasses(n,a);var t=computeTimings(n);if(0===t.duration)return close();var s=[];a.easing&&(t.transitionDuration&&s.push([r+"transition-timing-function",a.easing]),t.animationDuration&&s.push([r+"animation-timing-function",a.easing])),a.delay&&t.animationDelay&&s.push([r+"animation-delay",a.delay+"s"]),a.duration&&t.animationDuration&&s.push([r+"animation-duration",a.duration+"s"]),e(s,function(e){var t=e[0],n=e[1];c.style[camelCase(t)]=n,l.push(e)});var d=t.delay,h=1e3*d,p=t.duration,m=1e3*p,y=Date.now();g=[],t.transitionDuration&&g.push(i),t.animationDuration&&g.push(o),g=g.join(" "),v=function(e){e.stopPropagation();var t=e.originalEvent||e,n=t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-y,0)>=h&&r>=p&&close()},n.on(g,v),applyAnimationToStyles(n,a),u(close,h+1.5*m,!1)}),t}}}function applyClasses(e,t){t.addClass&&(c.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(c.removeClass(e,t.removeClass),t.removeClass=null)}function computeTimings(e){function prop(e){return n?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var r=getDomNode(e),i=t.getComputedStyle(r),o=parseMaxTime(i[prop("transitionDuration")]),a=parseMaxTime(i[prop("animationDuration")]),s=parseMaxTime(i[prop("transitionDelay")]),l=parseMaxTime(i[prop("animationDelay")]);return a*=parseInt(i[prop("animationIterationCount")],10)||1,{duration:Math.max(a,o),delay:Math.max(l,s),animationDuration:a,transitionDuration:o,animationDelay:l,transitionDelay:s}}function parseMaxTime(t){var n=0,r=(t||"").split(/\s*,\s*/);return e(r,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e}),n}function waitUntilQuiet(e){h&&h(),p.push(e),h=a(function(){h=null;for(var e=l(),t=0;t<p.length;t++)p[t](e);p.length=0})}function applyAnimationStyles(e,t){applyAnimationFromStyles(e,t),applyAnimationToStyles(e,t)}function applyAnimationFromStyles(e,t){t.from&&(e.css(t.from),t.from=null)}function applyAnimationToStyles(e,t){t.to&&(e.css(t.to),t.to=null)}function getDomNode(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function blockTransition(e,t){var n=getDomNode(e),i=camelCase(r+"transition-delay");n.style[i]=t?"-9999s":""}var h,p=[];return init}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,n,r,i,o,a,s,l){function postLink(u,d,h){function resize(){var e=parseInt(p.height,10)+Math.abs(parseInt(p.top,10));d.css("height",e+"px")}r.pin&&r.pin(d,i);var p;s(function(){if(p=o.getComputedStyle(l[0].body),"fixed"===p.position){var r=n.debounce(function(){p=o.getComputedStyle(l[0].body),resize()},60,null,!1);resize(),t.element(o).on("resize",r),u.$on("$destroy",function(){t.element(o).off("resize",r)})}var i=d.parent();if(i.length){"BODY"===i[0].nodeName&&d.css("position","fixed");"static"===o.getComputedStyle(i[0]).position&&a.warn(c),e.inherit(d,i)}})}var c="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:postLink}}])}(),function(){function MdBottomSheetDirective(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function MdBottomSheetProvider(e){function bottomSheetDefaults(e,i,o,a,s,l,c,u){function onShow(n,r,c,h){if(r=o.extractElementByName(r,"md-bottom-sheet"),r.attr("tabindex","-1"),r.hasClass("ng-cloak")){u.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.",r[0])}c.disableBackdrop||(d=o.createBackdrop(n,"md-bottom-sheet-backdrop md-opaque"),d[0].tabIndex=-1,c.clickOutsideToClose&&d.on("click",function(){o.nextTick(s.cancel,!0)}),a.inherit(d,c.parent),e.enter(d,c.parent,null));var p=new BottomSheet(r,c.parent);return c.bottomSheet=p,a.inherit(p.element,c.parent),c.disableParentScroll&&(c.restoreScroll=o.disableScrollAround(p.element,c.parent)),e.enter(p.element,c.parent,d).then(function(){var e=o.findFocusTarget(r)||t.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector(o.prefixer("ng-click",!0)))||d;c.escapeToClose&&(c.rootElementKeyupCallback=function(e){e.keyCode===i.KEY_CODE.ESCAPE&&o.nextTick(s.cancel,!0)},l.on("keyup",c.rootElementKeyupCallback),e&&e.focus())})}function onRemove(t,n,r){var i=r.bottomSheet;return r.disableBackdrop||e.leave(d),e.leave(i.element).then(function(){r.disableParentScroll&&(r.restoreScroll(),delete r.restoreScroll),i.cleanup()})}function BottomSheet(e,t){function onDragStart(t){e.css(i.CSS.TRANSITION_DURATION,"0ms")}function onDrag(t){var n=t.pointer.distanceY;n<5&&(n=Math.max(-r,n/2)),e.css(i.CSS.TRANSFORM,"translate3d(0,"+(r+n)+"px,0)")}function onDragEnd(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>n)){var r=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(r/t.pointer.velocityY*.75,500);e.css(i.CSS.TRANSITION_DURATION,a+"ms"),o.nextTick(s.cancel,!0)}else e.css(i.CSS.TRANSITION_DURATION,""),e.css(i.CSS.TRANSFORM,"")}var a=c.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd),{element:e,cleanup:function(){a(),t.off("$md.dragstart",onDragStart),t.off("$md.drag",onDrag),t.off("$md.dragend",onDragEnd)}}}var d;return{themable:!0,onShow:onShow,onRemove:onRemove,disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}bottomSheetDefaults.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var n=.5,r=80;return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:bottomSheetDefaults})}MdBottomSheetDirective.$inject=["$mdBottomSheet"],MdBottomSheetProvider.$inject=["$$interimElementProvider"],t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider)}(),function(){function MdAnchorDirective(e){return{restrict:"E",link:function(t,n){e(n)}}}function MdButtonDirective(e,n,r,i){function isAnchor(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function getTemplate(e,t){return isAnchor(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" type="'+(void 0===t.type?"button":t.type)+'" ng-transclude></button>'}function postLink(o,a,s){n(a),e.attach(o,a),r.expectWithoutText(a,"aria-label"),isAnchor(s)&&t.isDefined(s.ngDisabled)&&o.$watch(s.ngDisabled,function(e){a.attr("tabindex",e?-1:0)}),a.on("click",function(e){!0===s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),a.hasClass("md-no-focus")||(a.on("focus",function(){i.isUserInvoked()&&"keyboard"!==i.getLastInteractionType()||a.addClass("md-focused")}),a.on("blur",function(){a.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:getTemplate,link:postLink}}MdButtonDirective.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],MdAnchorDirective.$inject=["$mdTheming"],t.module("material.components.button",["material.core"]).directive("mdButton",MdButtonDirective).directive("a",MdAnchorDirective)}(),function(){function mdCardDirective(e){return{restrict:"E",link:function(t,n,r){n.addClass("_md"),e(n)}}}mdCardDirective.$inject=["$mdTheming"],t.module("material.components.card",["material.core"]).directive("mdCard",mdCardDirective)}(),function(){function MdCheckboxDirective(e,n,r,i,o,a){function compile(s,l){function postLink(s,l,c,u){function keypressHandler(e){var t=e.which||e.keyCode;t!==r.KEY_CODE.SPACE&&t!==r.KEY_CODE.ENTER||(e.preventDefault(),l.addClass("md-focused"),listener(e))}function listener(e){l[0].hasAttribute("disabled")||s.skipToggle||s.$apply(function(){var t=c.ngChecked&&c.ngClick?c.checked:!p.$viewValue;p.$setViewValue(t,e&&e.type),p.$render()})}function render(){l.toggleClass("md-checked",!!p.$viewValue&&!d)}function setIndeterminateState(e){d=!1!==e,d&&l.attr("aria-checked","mixed"),l.toggleClass("md-indeterminate",d)}var d,h=u[0],p=u[1]||o.fakeNgModel(),m=u[2];if(h){var f=h.isErrorGetter||function(){return p.$invalid&&(p.$touched||m&&m.$submitted)};h.input=l,s.$watch(f,h.setInvalid)}i(l),l.children().on("focus",function(){l.focus()}),o.parseAttributeBoolean(c.mdIndeterminate)&&(setIndeterminateState(),s.$watch(c.mdIndeterminate,setIndeterminateState)),c.ngChecked&&s.$watch(s.$eval.bind(s,c.ngChecked),function(e){p.$setViewValue(e),p.$render()}),function(e,t,n){c[e]&&s.$watch(c[e],function(e){n[e]&&l.attr(t,n[e])})}("ngDisabled","tabindex",{true:"-1",false:c.tabindex}),n.expectWithText(l,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},c,[p]),l.on("click",listener).on("keypress",keypressHandler).on("focus",function(){"keyboard"===a.getLastInteractionType()&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),p.$render=render}return l.$set("tabindex",l.tabindex||"0"),l.$set("type","checkbox"),l.$set("role",l.type),{pre:function(e,t){t.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()})},post:postLink}}return e=e[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:r.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:compile}}MdCheckboxDirective.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",MdCheckboxDirective)}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){!function(){function MdColorsService(e,r,i){function applyThemeColors(e,t){try{t&&e.css(interpolateColors(t))}catch(e){i.error(e.message)}}function getThemeColor(e){return parseColor(extractColorOptions(e))}function parseColor(t,n){n=n||!1;var i=e.PALETTES[t.palette][t.hue];return i=n?i.contrast:i.value,r.supplant("rgba({0}, {1}, {2}, {3})",[i[0],i[1],i[2],i[3]||t.opacity])}function interpolateColors(e){var n={},r=e.hasOwnProperty("color");return t.forEach(e,function(e,t){var i=extractColorOptions(e),o=t.indexOf("background")>-1;n[t]=parseColor(i),o&&!r&&(n.color=parseColor(i,!0))}),n}function hasTheme(n){return t.isDefined(e.THEMES[n.split("-")[0]])}function extractColorOptions(n){var r=n.split("-"),i=t.isDefined(e.THEMES[r[0]]),o=i?r.splice(0,1)[0]:e.defaultTheme();return{theme:o,palette:extractPalette(r,o),hue:extractHue(r,o),opacity:r[2]||1}}function extractPalette(t,i){var o=t.length>1&&-1!==n.indexOf(t[1]),a=t[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(o&&(a=t[0]+"-"+t.splice(1,1)),-1===n.indexOf(a)){var s=e.THEMES[i].colors[a];if(!s)throw new Error(r.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=s.name}return a}function extractHue(t,n){var i=e.THEMES[n].colors;if("hue"===t[1]){var o=parseInt(t.splice(2,1)[0],10);if(o<1||o>3)throw new Error(r.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:o}));if(t[1]="hue-"+o,!(t[0]in i))throw new Error(r.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(i).join(", "),usedTheme:t[0]}));return i[t[0]].hues[t[1]]}return t[1]||i[t[0]in i?t[0]:"primary"].hues.default}return n=n||Object.keys(e.PALETTES),{applyThemeColors:applyThemeColors,getThemeColor:getThemeColor,hasTheme:hasTheme}}function MdColorsDirective(n,r,i,o){return{restrict:"A",require:["^?mdTheme"],compile:function(a,s){var l=function(){var n=s.mdColors,i=n.indexOf("::")>-1,o=!!i||e.test(s.mdColors);s.mdColors=n.replace("::","");var a=t.isDefined(s.mdColorsWatch);return!i&&!o&&(!a||r.parseAttributeBoolean(s.mdColorsWatch))}();return function(e,r,a,s){var c=s[0],u={},d=function(t){"string"!=typeof t&&(t=""),a.mdColors||(a.mdColors="{}");var r=o(a.mdColors)(e);return c&&Object.keys(r).forEach(function(e){var i=r[e];n.hasTheme(i)||(r[e]=(t||c.$mdTheme)+"-"+i)}),h(r),r},h=function(e){if(!t.equals(e,u)){var n=Object.keys(u);u.background&&!n.color&&n.push("color"),n.forEach(function(e){r.css(e,"")})}u=e},p=t.noop;c&&(p=c.registerChanges(function(e){n.applyThemeColors(r,d(e))})),e.$on("$destroy",function(){p()});try{l?e.$watch(d,t.bind(this,n.applyThemeColors,r),!0):n.applyThemeColors(r,d())}catch(e){i.error(e.message)}}}}}MdColorsDirective.$inject=["$mdColors","$mdUtil","$log","$parse"],MdColorsService.$inject=["$mdTheming","$mdUtil","$log"];var e=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,n=null;t.module("material.components.colors",["material.core"]).directive("mdColors",MdColorsDirective).service("$mdColors",MdColorsService)}()}(),function(){function mdContentDirective(e){function ContentController(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",ContentController],link:function(t,n){n.addClass("_md"),e(n),t.$broadcast("$mdContentLoaded",n),iosScrollFix(n[0])}}}function iosScrollFix(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}mdContentDirective.$inject=["$mdTheming"],t.module("material.components.content",["material.core"]).directive("mdContent",mdContentDirective)}(),function(){t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){function MdDialogDirective(e,n,r){return{restrict:"E",link:function(i,o){o.addClass("_md"),n(o),e(function(){function addOverflowClass(){o.toggleClass("md-content-overflow",n.scrollHeight>n.clientHeight)}var e,n=o[0].querySelector("md-dialog-content");n&&(e=n.getElementsByTagName("img"),addOverflowClass(),t.element(e).on("load",addOverflowClass)),i.$on("$destroy",function(){r.destroy(o)})})}}}function MdDialogProvider(e){function advancedDialogOptions(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:MdDialogController,controllerAs:"dialog",bindToController:!0}}function MdDialogController(e,t){this.$onInit=function(){var n="prompt"==this.$type;n&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){e.hide(!n||this.result)},this.abort=function(){e.cancel()},this.keypress=function(n){n.keyCode===t.KEY_CODE.ENTER&&e.hide(this.result)}}}function dialogDefaultOptions(e,o,a,s,l,c,u,d,h,p,m,f,g){function beforeCompile(e){e.defaultTheme=m.defaultTheme(),detectTheming(e)}function beforeShow(e,t,n,r){if(r){var i=r.htmlContent||n.htmlContent||"",o=r.textContent||n.textContent||r.content||n.content||"";if(i&&!p.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(i&&o)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");r.mdHtmlContent=i,r.mdTextContent=o}}function onShow(e,n,r,i){function warnDeprecatedActions(){n[0].querySelector(".md-actions")&&h.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.")}function focusOnOpen(){if(r.focusOnOpen){(a.findFocusTarget(n)||function(){return n[0].querySelector(".dialog-close, md-dialog-actions button:last-child")}()||o).focus()}}t.element(c[0].body).addClass("md-dialog-is-showing");var o=n.find("md-dialog");if(o.hasClass("ng-cloak")){h.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",n[0])}return captureParentAndFromToElements(r),configureAria(o,r),showBackdrop(e,n,r),activateListeners(n,r),dialogPopIn(n,r).then(function(){lockScreenReader(n,r),warnDeprecatedActions(),focusOnOpen()})}function onRemove(e,n,o){function detachAndClean(){t.element(c[0].body).removeClass("md-dialog-is-showing"),o.contentElement&&o.reverseContainerStretch(),o.cleanupElement(),o.$destroy||"keyboard"!==o.originInteraction||o.origin.focus()}return o.deactivateListeners(),o.unlockScreenReader(),o.hideBackdrop(o.$destroy),r&&r.parentNode&&r.parentNode.removeChild(r),i&&i.parentNode&&i.parentNode.removeChild(i),o.$destroy?detachAndClean():function(){return dialogPopOut(n,o)}().then(detachAndClean)}function detectTheming(e){var n;e.targetEvent&&e.targetEvent.target&&(n=t.element(e.targetEvent.target));var r=n&&n.controller("mdTheme");if(r){e.themeWatch=r.$shouldWatch;var i=e.theme||r.$mdTheme;i&&(e.scope.theme=i);var o=r.registerChanges(function(t){e.scope.theme=t,e.themeWatch||o()})}}function captureParentAndFromToElements(e){function getBoundingClientRect(e,r){var i=t.element(e||{});if(i&&i.length){var o={top:0,left:0,height:0,width:0},a=t.isFunction(i[0].getBoundingClientRect);return t.extend(r||{},{element:a?i:n,bounds:a?i[0].getBoundingClientRect():t.extend({},o,i[0]),focus:t.bind(i,i.focus)})}}function getDomElement(e,n){return t.isString(e)&&(e=c[0].querySelector(e)),t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=getDomElement(e.parent,d),e.closeTo=getBoundingClientRect(getDomElement(e.closeTo)),e.openFrom=getBoundingClientRect(getDomElement(e.openFrom)),e.targetEvent&&(e.origin=getBoundingClientRect(e.targetEvent.target,e.origin),e.originInteraction=g.getLastInteractionType())}function activateListeners(n,r){var i=t.element(u),o=a.debounce(function(){stretchDialogContainerToViewport(n,r)},60),l=[],c=function(){var t="alert"==r.$type?e.hide:e.cancel;a.nextTick(t,!0)};if(r.escapeToClose){var d=r.parent,h=function(e){e.keyCode===s.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),c())};n.on("keydown",h),d.on("keydown",h),l.push(function(){n.off("keydown",h),d.off("keydown",h)})}if(i.on("resize",o),l.push(function(){i.off("resize",o)}),r.clickOutsideToClose){var p,m=n,f=function(e){p=e.target},g=function(e){p===m[0]&&e.target===m[0]&&(e.stopPropagation(),e.preventDefault(),c())};m.on("mousedown",f),m.on("mouseup",g),l.push(function(){m.off("mousedown",f),m.off("mouseup",g)})}r.deactivateListeners=function(){l.forEach(function(e){e()}),r.deactivateListeners=null}}function showBackdrop(e,t,n){n.disableParentScroll&&(n.restoreScroll=a.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=a.createBackdrop(e,"md-dialog-backdrop md-opaque"),l.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():l.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function configureAria(e,t){var n="alert"===t.$type?"alertdialog":"dialog",s=e.find("md-dialog-content"),l=e.attr("id"),c="dialogContent_"+(l||a.nextUid());e.attr({role:n,tabIndex:"-1"}),0===s.length&&(s=e,l&&(c=l)),s.attr("id",c),e.attr("aria-describedby",c),t.ariaLabel?o.expect(e,"aria-label",t.ariaLabel):o.expectAsync(e,"aria-label",function(){if(t.title)return t.title;var e=s.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),r=document.createElement("div"),r.classList.add("md-dialog-focus-trap"),r.tabIndex=0,i=r.cloneNode(!1);var u=function(){e.focus()};r.addEventListener("focus",u),i.addEventListener("focus",u),e[0].parentNode.insertBefore(r,e[0]),e.after(i)}function lockScreenReader(e,t){function walkDOM(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,r=0;r<t.length;r++)e===t[r]||isNodeOneOf(t[r],["SCRIPT","STYLE"])||t[r].hasAttribute("aria-live")||t[r].setAttribute("aria-hidden",n);walkDOM(e=e.parentNode)}}var n=!0;walkDOM(e[0]),t.unlockScreenReader=function(){n=!1,walkDOM(e[0]),t.unlockScreenReader=null}}function stretchDialogContainerToViewport(e,t){var n="fixed"==u.getComputedStyle(c[0].body).position,r=t.backdrop?u.getComputedStyle(t.backdrop[0]):null,i=r?Math.min(c[0].body.clientHeight,Math.ceil(Math.abs(parseInt(r.height,10)))):0,o={top:e.css("top"),height:e.css("height")},a=Math.abs(t.parent[0].getBoundingClientRect().top);return e.css({top:(n?a:0)+"px",height:i?i+"px":"100%"}),function(){e.css(o)}}function dialogPopIn(e,t){t.parent.append(e),t.reverseContainerStretch=stretchDialogContainerToViewport(e,t);var n=e.find("md-dialog"),r=a.dom.animator,i=r.calculateZoomToOrigin,o={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=r.toTransformCss(i(n,t.openFrom||t.origin)),l=r.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!t.fullscreen),r.translate3d(n,s,l,o).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(o={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=r.toTransformCss(i(n,t.closeTo)),r.translate3d(n,s,l,o)):e(l=r.toTransformCss(i(n,t.origin)))},t.clearAnimate=function(){return delete t.clearAnimate,n.removeClass([o.transitionOutClass,o.transitionInClass].join(" ")),r.translate3d(n,l,r.toTransformCss(""),{})},!0})}function dialogPopOut(e,t){return t.reverseAnimate().then(function(){t.contentElement&&t.clearAnimate()})}function isNodeOneOf(e,t){if(-1!==t.indexOf(e.nodeName))return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:beforeCompile,onShow:onShow,onShowing:beforeShow,onRemove:onRemove,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){var n=f.startSymbol(),r=f.endSymbol();return'<div class="md-dialog-container" tabindex="-1" md-theme="'+n+(t.themeWatch?"":"::")+"theme"+r+'">'+function(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}(e)+"</div>"}}}MdDialogController.$inject=["$mdDialog","$mdConstant"],dialogDefaultOptions.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"];var r,i;return e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:dialogDefaultOptions}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:advancedDialogOptions}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:advancedDialogOptions}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:advancedDialogOptions})}MdDialogDirective.$inject=["$$rAF","$mdTheming","$mdDialog"],MdDialogProvider.$inject=["$$interimElementProvider"],t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider)}(),function(){function MdDividerDirective(e){return{restrict:"E",link:e}}MdDividerDirective.$inject=["$mdTheming"],t.module("material.components.divider",["material.core"]).directive("mdDivider",MdDividerDirective)}(),function(){!function(){function MdFabActionsDirective(e){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(t,n){var r=t.children();e.prefixer().hasAttribute(r,"ng-repeat")?r.addClass("md-fab-action-item"):r.wrap('<div class="md-fab-action-item">')}}}MdFabActionsDirective.$inject=["$mdUtil"],t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",MdFabActionsDirective)}()}(),function(){!function(){function MdFabController(e,n,r,i,o,a){function setupDefaults(){s.direction=s.direction||"down",s.isOpen=s.isOpen||!1,resetActionIndex(),n.addClass("md-animations-waiting")}function setupListeners(){var r=["click","focusin","focusout"];t.forEach(r,function(e){n.on(e,parseEvents)}),e.$on("$destroy",function(){t.forEach(r,function(e){n.off(e,parseEvents)}),disableKeyboard()})}function parseEvents(e){"click"==e.type&&handleItemClick(e),"focusout"!=e.type||c||(c=a(function(){s.close()},100,!1)),"focusin"==e.type&&c&&(a.cancel(c),c=null)}function resetActionIndex(){s.currentActionIndex=-1}function setupWatchers(){e.$watch("vm.direction",function(e,t){r.removeClass(n,"md-"+t),r.addClass(n,"md-"+e),resetActionIndex()});var t,i;e.$watch("vm.isOpen",function(e){resetActionIndex(),t&&i||(t=getTriggerElement(),i=getActionsElement()),e?enableKeyboard():disableKeyboard();var o=e?"md-is-open":"",a=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),i.attr("aria-hidden",!e),r.setClass(n,o,a)})}function fireInitialAnimations(){n[0].scrollHeight>0?r.addClass(n,"_md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):l<10&&(a(fireInitialAnimations,100),l+=1)}function enableKeyboard(){n.on("keydown",keyPressed),i.nextTick(function(){t.element(document).on("click touchend",checkForOutsideClick)})}function disableKeyboard(){n.off("keydown",keyPressed),t.element(document).off("click touchend",checkForOutsideClick)}function checkForOutsideClick(e){if(e.target){var t=i.getClosest(e.target,"md-fab-trigger"),n=i.getClosest(e.target,"md-fab-actions");t||n||s.close()}}function keyPressed(e){switch(e.which){case o.KEY_CODE.ESCAPE:return s.close(),e.preventDefault(),!1;case o.KEY_CODE.LEFT_ARROW:return doKeyLeft(e),!1;case o.KEY_CODE.UP_ARROW:return doKeyUp(e),!1;case o.KEY_CODE.RIGHT_ARROW:return doKeyRight(e),!1;case o.KEY_CODE.DOWN_ARROW:return doKeyDown(e),!1}}function doActionPrev(e){focusAction(e,-1)}function doActionNext(e){focusAction(e,1)}function focusAction(e,n){var r=resetActionTabIndexes();s.currentActionIndex=s.currentActionIndex+n,s.currentActionIndex=Math.min(r.length-1,s.currentActionIndex),s.currentActionIndex=Math.max(0,s.currentActionIndex);var i=t.element(r[s.currentActionIndex]).children()[0];t.element(i).attr("tabindex",0),i.focus(),e.preventDefault(),e.stopImmediatePropagation()}function resetActionTabIndexes(){var e=getActionsElement()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function doKeyLeft(e){"left"===s.direction?doActionNext(e):doActionPrev(e)}function doKeyUp(e){"down"===s.direction?doActionPrev(e):doActionNext(e)}function doKeyRight(e){"left"===s.direction?doActionPrev(e):doActionNext(e)}function doKeyDown(e){"up"===s.direction?doActionPrev(e):doActionNext(e)}function isTrigger(e){return i.getClosest(e,"md-fab-trigger")}function isAction(e){return i.getClosest(e,"md-fab-actions")}function handleItemClick(e){isTrigger(e.target)&&s.toggle(),isAction(e.target)&&s.close()}function getTriggerElement(){return n.find("md-fab-trigger")}function getActionsElement(){return n.find("md-fab-actions")}var s=this,l=0;s.open=function(){e.$evalAsync("vm.isOpen = true")},s.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},s.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},s.$onInit=function(){setupDefaults(),setupListeners(),setupWatchers(),fireInitialAnimations()},1===t.version.major&&t.version.minor<=4&&this.$onInit();var c}MdFabController.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],t.module("material.components.fabShared",["material.core"]).controller("MdFabController",MdFabController)}()}(),function(){!function(){function MdFabSpeedDialDirective(){function FabSpeedDialLink(e,t){t.prepend('<div class="_md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:FabSpeedDialLink}}function MdFabSpeedDialFlingAnimation(r){function delayDone(e){r(e,n,!1)}function runAnimation(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var r=n[0],i=n.controller("mdFabSpeedDial"),o=r.querySelectorAll(".md-fab-action-item"),a=r.querySelector("md-fab-trigger"),s=r.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(o,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=o.length-t+l}),a.style.zIndex=l+o.length+1,i.isOpen||t.forEach(o,function(e,t){var n,r,o=e.style,s=(a.clientHeight-e.clientHeight)/2,l=(a.clientWidth-e.clientWidth)/2;switch(i.direction){case"up":n=e.scrollHeight*(t+1)+s,r="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),r="Y";break;case"left":n=e.scrollWidth*(t+1)+l,r="X";break;case"right":n=-(e.scrollWidth*(t+1)+l),r="X"}var c="translate"+r+"("+n+"px)";o.transform=o.webkitTransform=c})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(runAnimation(e),delayDone(n)):n()},removeClass:function(e,t,n){runAnimation(e),delayDone(n)}}}function MdFabSpeedDialScaleAnimation(r){function delayDone(e){r(e,n,!1)}function runAnimation(n){var r=n[0],o=n.controller("mdFabSpeedDial"),a=r.querySelectorAll(".md-fab-action-item"),s=r.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(a,function(e,t){var n=e.style,r=t*i;n.opacity=o.isOpen?1:0,n.transform=n.webkitTransform=o.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(o.isOpen?r:a.length-r)+"ms",n.zIndex=a.length-t+l})}var i=65;return{addClass:function(e,t,n){runAnimation(e),delayDone(n)},removeClass:function(e,t,n){runAnimation(e),delayDone(n)}}}MdFabSpeedDialFlingAnimation.$inject=["$timeout"],MdFabSpeedDialScaleAnimation.$inject=["$timeout"];var n=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",MdFabSpeedDialDirective).animation(".md-fling",MdFabSpeedDialFlingAnimation).animation(".md-scale",MdFabSpeedDialScaleAnimation).service("mdFabSpeedDialFlingAnimation",MdFabSpeedDialFlingAnimation).service("mdFabSpeedDialScaleAnimation",MdFabSpeedDialScaleAnimation)}()}(),function(){!function(){function MdFabToolbarDirective(){function link(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:link}}function MdFabToolbarAnimation(){function runAnimation(n,r,i){if(r){var o=n[0],a=n.controller("mdFabToolbar"),s=o.querySelector(".md-fab-toolbar-background"),l=o.querySelector("md-fab-trigger button"),c=o.querySelector("md-toolbar"),u=o.querySelector("md-fab-trigger button md-icon"),d=n.find("md-fab-actions").children();if(l&&s){var h=e.getComputedStyle(l).getPropertyValue("background-color"),p=o.offsetWidth,m=(o.offsetHeight,p/l.offsetWidth*2);s.style.backgroundColor=h,s.style.borderRadius=p+"px",a.isOpen?(c.style.pointerEvents="inherit",s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",s.style.transform="scale("+m+")",s.style.transitionDelay="0ms",u&&(u.style.transitionDelay=".3s"),t.forEach(d,function(e,t){e.style.transitionDelay=25*(d.length-t)+"ms"})):(c.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",u&&(u.style.transitionDelay="0ms"),t.forEach(d,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,n){runAnimation(e,t,n),n()},removeClass:function(e,t,n){runAnimation(e,t,n),n()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",MdFabToolbarDirective).animation(".md-fab-toolbar",MdFabToolbarAnimation).service("mdFabToolbarAnimation",MdFabToolbarAnimation)}()}(),function(){function GridListDirective(e,n,r,i){function postLink(o,a,s,l){function unwatchMedia(){l.layoutDelegate=t.noop,u();for(var e in n.MEDIA)i.getQuery(n.MEDIA[e]).removeListener(c)}function layoutIfMediaMatch(e){null==e?l.invalidateLayout():i(e)&&l.invalidateLayout()}function layoutDelegate(e){var n=getTileElements(),i={tileSpans:getTileSpans(n),colCount:getColumnCount(),rowMode:getRowMode(),rowHeight:getRowHeight(),gutter:getGutter()};if(e||!t.equals(i,d)){var s=r(i.colCount,i.tileSpans,n).map(function(e,r){return{grid:{element:a,style:getGridStyle(i.colCount,r,i.gutter,i.rowMode,i.rowHeight)},tiles:e.map(function(e,o){return{element:t.element(n[o]),style:getTileStyle(e.position,e.spans,i.colCount,r,i.gutter,i.rowMode,i.rowHeight)}})}}).reflow().performance();o.mdOnLayout({$event:{performance:s}}),d=i}}function expr(e){return h+e+p}function getTileStyle(e,t,n,r,i,o,a){var s=1/n*100,l=(n-1)/n,c=m({share:s,gutterShare:l,gutter:i}),u="rtl"!=document.dir&&"rtl"!=document.body.dir,d=u?{left:f({unit:c,offset:e.col,gutter:i}),width:g({unit:c,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""}:{right:f({unit:c,offset:e.col,gutter:i}),width:g({unit:c,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":d.top=f({unit:a,offset:e.row,gutter:i}),d.height=g({unit:a,span:t.row,gutter:i});break;case"ratio":var h=s/a,p=m({share:h,gutterShare:l,gutter:i});d.paddingTop=g({unit:p,span:t.row,gutter:i}),d.marginTop=f({unit:p,offset:e.row,gutter:i});break;case"fit":var v=(r-1)/r,h=1/r*100,p=m({share:h,gutterShare:v,gutter:i});d.top=f({unit:p,offset:e.row,gutter:i}),d.height=g({unit:p,span:t.row,gutter:i})}return d}function getGridStyle(e,t,n,r,i){var o={};switch(r){case"fixed":o.height=g({unit:i,span:t,gutter:n}),o.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/i),c=m({share:l,gutterShare:a,gutter:n});o.height="",o.paddingBottom=g({unit:c,span:t,gutter:n})}return o}function getTileElements(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function getTileSpans(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(i.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(i.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function getColumnCount(){var e=parseInt(i.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function getGutter(){return applyDefaultUnit(i.getResponsiveAttribute(s,"md-gutter")||1)}function getRowHeight(){var e=i.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";switch(getRowMode()){case"fixed":return applyDefaultUnit(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function getRowMode(){var e=i.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function applyDefaultUnit(e){return/\D$/.test(e)?e:e+"px"}a.addClass("_md"),a.attr("role","list"),l.layoutDelegate=layoutDelegate;var c=t.bind(l,l.invalidateLayout),u=function(){for(var e in n.MEDIA)i(e),i.getQuery(n.MEDIA[e]).addListener(c);return i.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,layoutIfMediaMatch)}();o.$on("$destroy",unwatchMedia);var d,h=e.startSymbol(),p=e.endSymbol(),m=e(expr("share")+"% - ("+expr("gutter")+" * "+expr("gutterShare")+")"),f=e("calc(("+expr("unit")+" + "+expr("gutter")+") * "+expr("offset")+")"),g=e("calc(("+expr("unit")+") * "+expr("span")+" + ("+expr("span")+" - 1) * "+expr("gutter")+")")}return{restrict:"E",controller:GridListController,scope:{mdOnLayout:"&"},link:postLink}}function GridListController(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function GridLayoutFactory(e){function GridLayout(t,r){var i,o,a,s,l,c;return s=e.time(function(){o=calculateGridFor(t,r)}),i={layoutInfo:function(){return o},map:function(t){return l=e.time(function(){var e=i.layoutInfo();a=t(e.positioning,e.rowCount)}),i},reflow:function(t){return c=e.time(function(){(t||n)(a.grid,a.tiles)}),i},performance:function(){return{tileCount:r.length,layoutTime:s,mapTime:l,reflowTime:c,totalTime:s+l+c}}}}function GridTileAnimator(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function calculateGridFor(e,t){function reserveSpace(t,o){if(t.col>e)throw"md-grid-list: Tile at position "+o+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,s=0;s-a<t.col;)n>=e?nextRow():(a=i.indexOf(0,n),-1!==a&&-1!==(s=findEnd(a+1))?n=s+1:(a=s=0,nextRow()));return adjustRow(a,t.col,t.row),n=a+t.col,{col:a,row:r}}function nextRow(){n=0,r++,adjustRow(0,e,-1)}function adjustRow(e,t,n){for(var r=e;r<e+t;r++)i[r]=Math.max(i[r]+n,0)}function findEnd(e){var t;for(t=e;t<i.length;t++)if(0!==i[t])return t;if(t===i.length)return t}var n=0,r=0,i=function(){for(var t=[],n=0;n<e;n++)t.push(0);return t}();return{positioning:t.map(function(e,t){return{spans:e,position:reserveSpace(e,t)}}),rowCount:r+Math.max.apply(Math,i)}}var n=GridTileAnimator;return GridLayout.animateWith=function(e){n=t.isFunction(e)?e:GridTileAnimator},GridLayout}function GridTileDirective(e){function postLink(n,r,i,o){r.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],i,t.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",function(){r[0].$$mdDestroyed=!0,a(),o.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&o.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:postLink}}function GridTileCaptionDirective(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}GridListController.$inject=["$mdUtil"],GridLayoutFactory.$inject=["$mdUtil"],GridListDirective.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],GridTileDirective.$inject=["$mdMedia"],t.module("material.components.gridList",["material.core"]).directive("mdGridList",GridListDirective).directive("mdGridTile",GridTileDirective).directive("mdGridTileFooter",GridTileCaptionDirective).directive("mdGridTileHeader",GridTileCaptionDirective).factory("$mdGridLayout",GridLayoutFactory),GridListController.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function mdInputContainerDirective(e,t){function compile(t){var n=t[0].querySelector(r),o=t[0].querySelector(i);return n&&t.addClass("md-icon-left"),o&&t.addClass("md-icon-right"),function(t,n){e(n)}}function ContainerCtrl(e,n,r,i){var o=this;o.isErrorGetter=r.mdIsError&&t(r.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},o.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},o.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},o.setInvalid=function(e){e?i.addClass(n,"md-input-invalid"):i.removeClass(n,"md-input-invalid")},e.$watch(function(){return o.label&&o.input},function(e){e&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}ContainerCtrl.$inject=["$scope","$element","$attrs","$animate"];var n=["INPUT","TEXTAREA","SELECT","MD-SELECT"],r=n.reduce(function(e,t){return e.concat(["md-icon ~ "+t,".md-icon ~ "+t])},[]).join(","),i=n.reduce(function(e,t){return e.concat([t+" ~ md-icon",t+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:compile,controller:ContainerCtrl}}function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){!r||n.mdNoFloat||t.hasClass("md-container-ignore")||(r.label=t,e.$on("$destroy",function(){r.label=null}))}}}function inputTextareaDirective(e,n,r,i,o){function postLink(a,s,l,c){function ngModelPipelineCheckValue(e){return u.setHasValue(!h.$isEmpty(e)),e}function inputCheckValue(){u.setHasValue(s.val().length>0||(s[0].validity||{}).badInput)}var u=c[0],d=!!c[1],h=c[1]||e.fakeNgModel(),p=c[2],m=t.isDefined(l.readonly),f=e.parseAttributeBoolean(l.mdNoAsterisk),g=s[0].tagName.toLowerCase();if(u){if("hidden"===l.type)return void s.attr("aria-hidden","true");if(u.input){if(u.input[0].contains(s[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}u.input=s,function(){u.label&&l.$observe("required",function(e){u.label.toggleClass("md-required",e&&!f)})}();var v=t.element('<div class="md-errors-spacer">');s.after(v);var y=t.isString(l.placeholder)?l.placeholder.trim():"";u.label||y.length||r.expect(s,"aria-label"),s.addClass("md-input"),s.attr("id")||s.attr("id","input_"+e.nextUid()),"input"===g&&"number"===l.type&&l.min&&l.max&&!l.step?s.attr("step","any"):"textarea"===g&&function(){function growTextarea(){s.attr("rows",1).css("height","auto").addClass("md-no-flex");var e=getHeight();if(!f){var t=s[0].style.padding||"";f=s.css("padding",0).prop("offsetHeight"),s[0].style.padding=t}if(c&&f&&(e=Math.max(e,f*c)),p&&f){var n=f*p;n<e?(s.attr("md-no-autogrow",""),e=n):s.removeAttr("md-no-autogrow")}f&&s.attr("rows",Math.round(e/f)),s.css("height",e+"px").removeClass("md-no-flex")}function getHeight(){var e=g.offsetHeight,t=g.scrollHeight-e;return e+Math.max(t,0)}function formattersListener(t){return e.nextTick(growTextarea),t}function disableAutogrow(){if(r&&(r=!1,t.element(n).off("resize",growTextarea),m&&m(),s.attr("md-no-autogrow","").off("input",growTextarea),d)){var e=h.$formatters.indexOf(formattersListener);e>-1&&h.$formatters.splice(e,1)}}var r=!l.hasOwnProperty("mdNoAutogrow");if(function(){function onMouseDown(e){e.preventDefault(),n=!0,r=e.clientY,i=parseFloat(s.css("height"))||s.prop("offsetHeight")}function onDragStart(e){n&&(e.preventDefault(),disableAutogrow(),c.addClass("md-input-resized"))}function onDrag(e){n&&s.css("height",i+e.pointer.distanceY+"px")}function onDragEnd(e){n&&(n=!1,c.removeClass("md-input-resized"))}if(!l.hasOwnProperty("mdNoResize")){var e=t.element('<div class="md-resize-handle"></div>'),n=!1,r=null,i=0,c=u.element,d=o.register(e,"drag",{horizontal:!1});s.wrap('<div class="md-resize-wrapper">').after(e),e.on("mousedown",onMouseDown),c.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd),a.$on("$destroy",function(){e.off("mousedown",onMouseDown).remove(),c.off("$md.dragstart",onDragStart).off("$md.drag",onDrag).off("$md.dragend",onDragEnd),d(),e=null,c=null,d=null})}}(),r){var c=l.hasOwnProperty("rows")?parseInt(l.rows):NaN,p=l.hasOwnProperty("maxRows")?parseInt(l.maxRows):NaN,m=a.$on("md-resize-textarea",growTextarea),f=null,g=s[0];if(i(function(){e.nextTick(growTextarea)},10,!1),s.on("input",growTextarea),d&&h.$formatters.push(formattersListener),c||s.attr("rows",1),t.element(n).on("resize",growTextarea),a.$on("$destroy",disableAutogrow),l.hasOwnProperty("mdDetectHidden")){var v=function(){var e=!1;return function(){var t=0===g.offsetHeight;!1===t&&!0===e&&growTextarea(),e=t}}();a.$watch(function(){return e.nextTick(v,!1),!0})}}}(),d||inputCheckValue();var _=u.isErrorGetter||function(){return h.$invalid&&(h.$touched||p&&p.$submitted)};a.$watch(_,u.setInvalid),l.ngValue&&l.$observe("value",inputCheckValue),h.$parsers.push(ngModelPipelineCheckValue),h.$formatters.push(ngModelPipelineCheckValue),s.on("input",inputCheckValue),m||s.on("focus",function(t){e.nextTick(function(){u.setFocused(!0)})}).on("blur",function(t){e.nextTick(function(){u.setFocused(!1),inputCheckValue()})}),a.$on("$destroy",function(){u.setFocused(!1),u.setHasValue(!1),u.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:postLink}}function mdMaxlengthDirective(e,n){function postLink(r,i,o,a){function renderCharCount(e){return l.parent?(l.text(String(i.val()||e||"").length+" / "+s),e):e}var s,l,c,u=a[0],d=a[1];n.nextTick(function(){c=t.element(d.element[0].querySelector(".md-errors-spacer")),l=t.element('<div class="md-char-counter">'),c.append(l),o.$set("ngTrim","false"),r.$watch(o.mdMaxlength,function(n){s=n,t.isNumber(n)&&n>0?(l.parent().length||e.enter(l,c),renderCharCount()):e.leave(l)}),u.$validators["md-maxlength"]=function(e,n){return!t.isNumber(s)||s<0||(renderCharCount(),(e||i.val()||n||"").length<=s)}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:postLink}}function placeholderDirective(e){function preLink(n,r,i,o){if(o){var a=o.element.find("label"),s=o.element.attr("md-no-float");if(a&&a.length||""===s||n.$eval(s))return void o.setHasPlaceholder(!0);if("MD-SELECT"!=r[0].nodeName){var l=t.element('<label ng-click="delegateClick()" tabindex="-1">'+i.placeholder+"</label>");i.$set("placeholder",null),o.element.addClass("md-icon-float").prepend(l),e(l)(n)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:preLink}}}function mdSelectOnFocusDirective(e){function postLink(t,n,r){function onFocus(){i=!0,e(function(){n[0].select(),i=!1},1,!1)}function onMouseUp(e){i&&e.preventDefault()}if("INPUT"===n[0].nodeName||"TEXTAREA"===n[0].nodeName){var i=!1;n.on("focus",onFocus).on("mouseup",onMouseUp),t.$on("$destroy",function(){n.off("focus",onFocus).off("mouseup",onMouseUp)})}}return{restrict:"A",link:postLink}}function ngMessagesDirective(){function postLink(e,t,n,r){r&&(t.toggleClass("md-input-messages-animation",!0),t.toggleClass("md-auto-hide",!0),("false"==n.mdAutoHide||hasVisibiltyDirective(n))&&t.toggleClass("md-auto-hide",!1))}function hasVisibiltyDirective(e){return s.some(function(t){return e[t]})}return{restrict:"EA",link:postLink,require:"^^?mdInputContainer"}}function ngMessageDirective(e){function compile(t){function isInsideInputContainer(t){return!!e.getClosest(t,"md-input-container")}function initMessageElement(e){e.toggleClass("md-input-message-animation",!0)}if(isInsideInputContainer(t))initMessageElement(t);else if(function(){for(var e=t[0];e=e.parentNode;)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}())return function(e,n){isInsideInputContainer(n)&&initMessageElement(t)}}return{restrict:"EA",compile:compile,priority:100}}function mdInputInvalidMessagesAnimation(e,t,n,r){return saveSharedServices(e,t,n,r),{addClass:function(e,t,n){showInputMessages(e,n)}}}function ngMessagesAnimation(e,t,n,r){return saveSharedServices(e,t,n,r),{enter:function(e,t){showInputMessages(e,t)},leave:function(e,t){hideInputMessages(e,t)},addClass:function(e,t,n){"ng-hide"==t?hideInputMessages(e,n):n()},removeClass:function(e,t,n){"ng-hide"==t?showInputMessages(e,n):n()}}}function ngMessageAnimation(e,t,n,r){return saveSharedServices(e,t,n,r),{enter:function(e,t){showMessage(e).start().done(t)},leave:function(e,t){hideMessage(e).start().done(t)}}}function showInputMessages(e,n){var i,o=[],s=getMessagesElement(e),l=s.children();if(0==s.length||0==l.length)return a.warn("mdInput messages show animation called on invalid messages element: ",e),void n();t.forEach(l,function(e){i=showMessage(t.element(e)),o.push(i.start())}),r.all(o,n)}function hideInputMessages(e,n){var i,o=[],s=getMessagesElement(e),l=s.children();if(0==s.length||0==l.length)return a.warn("mdInput messages hide animation called on invalid messages element: ",e),void n();t.forEach(l,function(e){i=hideMessage(t.element(e)),o.push(i.start())}),r.all(o,n)}function showMessage(t){var n=parseInt(e.getComputedStyle(t[0]).height),r=parseInt(e.getComputedStyle(t[0]).marginTop),o=getMessagesElement(t),a=getInputElement(t);return r>-n||o.hasClass("md-auto-hide")&&!a.hasClass("md-input-invalid")?i(t,{}):i(t,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function hideMessage(t){var n=t[0].offsetHeight,r=e.getComputedStyle(t[0]);return 0===parseInt(r.opacity)?i(t,{}):i(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function getInputElement(e){return e.controller("mdInputContainer").element}function getMessagesElement(e){return e.hasClass("md-input-messages-animation")?e:e.hasClass("md-input-message-animation")?t.element(o.getClosest(e,function(e){return e.classList.contains("md-input-messages-animation")})):t.element(e[0].querySelector(".md-input-messages-animation"))}function saveSharedServices(e,t,n,s){r=e,i=t,o=n,a=s}mdInputContainerDirective.$inject=["$mdTheming","$parse"],inputTextareaDirective.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],mdMaxlengthDirective.$inject=["$animate","$mdUtil"],placeholderDirective.$inject=["$compile"],ngMessageDirective.$inject=["$mdUtil"],mdSelectOnFocusDirective.$inject=["$timeout"],mdInputInvalidMessagesAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],ngMessagesAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],ngMessageAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var n=t.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective).directive("ngMessages",ngMessagesDirective).directive("ngMessage",ngMessageDirective).directive("ngMessageExp",ngMessageDirective).directive("mdSelectOnFocus",mdSelectOnFocusDirective).animation(".md-input-invalid",mdInputInvalidMessagesAnimation).animation(".md-input-messages-animation",ngMessagesAnimation).animation(".md-input-message-animation",ngMessageAnimation);e._mdMocksIncluded&&n.service("$$mdInput",function(){return{messages:{show:showInputMessages,hide:hideInputMessages,getElement:getMessagesElement}}}).service("mdInputInvalidAnimation",mdInputInvalidMessagesAnimation).service("mdInputMessagesAnimation",ngMessagesAnimation).service("mdInputMessageAnimation",ngMessageAnimation);var r,i,o,a,s=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function mdListDirective(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function mdListItemDirective(e,n,r,i){var o=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function wrapIn(n){if("div"==n)d=t.element('<div class="md-no-style md-list-item-inner">'),d.append(a.contents()),a.addClass("md-proxy-focus");else{d=t.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var r=t.element('<md-button class="md-no-style"></md-button>');copyAttributes(a[0],r[0]),r.attr("aria-label")||r.attr("aria-label",e.getText(a)),a.hasClass("md-no-focus")&&r.addClass("md-no-focus"),d.prepend(r),d.children().eq(1).append(a.contents()),a.addClass("_md-button-wrap")}a[0].setAttribute("tabindex","-1"),a.append(d)}function wrapSecondaryItem(n,r){if(n&&!isButton(n)&&n.hasAttribute("ng-click")){e.expect(n,"aria-label");var i=t.element('<md-button class="md-secondary md-icon-button">');copyAttributes(n,i[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),i.append(n),n=i[0]}n&&(!hasClickEvent(n)||!s.ngClick&&isProxiedElement(n))&&t.element(n).removeClass("md-secondary"),a.addClass("md-with-secondary"),r.append(n)}function copyAttributes(e,n,i){var o=r.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts"]);i&&(o=o.concat(r.prefixer(i))),t.forEach(o,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function isProxiedElement(e){return-1!=o.indexOf(e.nodeName.toLowerCase())}function isButton(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function hasClickEvent(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}function postLink(e,a,s,l){function isEventFromControl(e){var t=["md-slider"];if(!e.path)return-1!==t.indexOf(e.target.tagName.toLowerCase());for(var n=e.path.indexOf(a.children()[0]),r=0;r<n;r++)if(-1!==t.indexOf(e.path[r].tagName.toLowerCase()))return!0}a.addClass("_md");var c=[],u=a[0].firstElementChild,d=a.hasClass("_md-button-wrap"),h=d?u.firstElementChild:u,p=h&&hasClickEvent(h),m=a.hasClass("md-no-proxy");!function(){u&&u.children&&!p&&!m&&t.forEach(o,function(e){t.forEach(u.querySelectorAll(e+":not(.md-secondary)"),function(e){c.push(e)})})}(),function(){(1==c.length||p)&&(a.addClass("md-clickable"),p||l.attachRipple(e,t.element(a[0].querySelector(".md-no-style"))))}(),c.length&&t.forEach(c,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,i(function(){e.mouseActive=!1},100)}).on("focus",function(){!1===e.mouseActive&&a.addClass("md-focused"),n.on("blur",function proxyOnBlur(){a.removeClass("md-focused"),n.off("blur",proxyOnBlur)})})});var f=function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName&&!e.target.isContentEditable){(e.which||e.keyCode)==n.KEY_CODE.SPACE&&h&&(h.click(),e.preventDefault(),e.stopPropagation())}};p||c.length||h&&h.addEventListener("keypress",f),a.off("click"),a.off("keypress"),1==c.length&&h&&a.children().eq(0).on("click",function(e){if(!isEventFromControl(e)){!r.getClosest(e.target,"BUTTON")&&h.contains(e.target)&&t.forEach(c,function(n){e.target===n||n.contains(e.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),t.element(n).triggerHandler("click"))})}}),e.$on("$destroy",function(){h&&h.removeEventListener("keypress",f)})}var l,c,u=a[0].querySelectorAll(".md-secondary"),d=a;if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngDblclick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)wrapIn("button");else if(!a.hasClass("md-no-proxy")){for(var h,p=0;h=o[p];++p)if(c=a[0].querySelector(h)){l=!0;break}l?wrapIn("div"):a.addClass("md-no-proxy")}return function(){var e=t.element('<div class="md-secondary-container">');t.forEach(u,function(t){wrapSecondaryItem(t,e)}),d.append(e)}(),function(){for(var e,t,n=["md-switch","md-checkbox"],r=0;t=n[r];++r)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var i=a.find("p")[0];if(!i)return;e.setAttribute("aria-label","Toggle "+i.textContent)}}(),l&&"MD-MENU"===c.nodeName&&function(){var e=t.element(c),n=e.parent().hasClass("md-secondary-container")||c.parentNode.firstElementChild!==c,r="left";n&&(r="right"),e.attr("md-position-mode")||e.attr("md-position-mode",r+" target");var i=e.children().eq(0);hasClickEvent(i[0])||i.attr("ng-click","$mdMenu.open($event)"),i.attr("aria-label")||i.attr("aria-label","Open List Menu")}(),postLink}}}function MdListController(e,t,n){function attachRipple(e,t){var r={};n.attach(e,t,r)}this.attachRipple=attachRipple}MdListController.$inject=["$scope","$element","$mdListInkRipple"],mdListDirective.$inject=["$mdTheming"],mdListItemDirective.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],t.module("material.components.list",["material.core"]).controller("MdListController",MdListController).directive("mdList",mdListDirective).directive("mdListItem",mdListItemDirective)}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"])}(),function(){function MdNavBar(e,n){return{restrict:"E",transclude:!0,controller:MdNavBarController,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(r,i,o,a){n(i),a.navBarAriaLabel||e.expectAsync(i,"aria-label",t.noop)}}}function MdNavBarController(e,t,n,r){this._$timeout=n,this._$scope=t,this._$mdConstant=r,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=e[0],this._inkbar;var i=this,o=this._$scope.$watch(function(){return i._navBarEl.querySelectorAll("._md-nav-button").length},function(e){e>0&&(i._initTabs(),o())})}function MdNavItem(e,n){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:MdNavItemController,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(e,t){var n,r,i,o=t.mdNavClick,a=t.mdNavHref,s=t.mdNavSref,l=t.srefOpts;if((o?1:0)+(a?1:0)+(s?1:0)>1)throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");return o?n='ng-click="ctrl.mdNavClick()"':a?n='ng-href="{{ctrl.mdNavHref}}"':s&&(n='ui-sref="{{ctrl.mdNavSref}}"'),r=l?'ui-sref-opts="{{ctrl.srefOpts}}" ':"",n&&(i='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+r+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(i||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(r,i,o,a){n(function(){var n=a[0],o=a[1],s=t.element(i[0].querySelector("._md-nav-button"));n.name||(n.name=t.element(i[0].querySelector("._md-nav-button-text")).text().trim()),s.on("click",function(){o.mdSelectedNavItem=n.name,r.$apply()}),e.expectWithText(i,"aria-label")})}}}function MdNavItemController(e){this._$element=e,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this._selected=!1,this._focused=!1}MdNavBarController.$inject=["$element","$scope","$timeout","$mdConstant"],MdNavItem.$inject=["$mdAria","$$rAF"],MdNavItemController.$inject=["$element"],MdNavBar.$inject=["$mdAria","$mdTheming"],t.module("material.components.navBar",["material.core"]).controller("MdNavBarController",MdNavBarController).directive("mdNavBar",MdNavBar).controller("MdNavItemController",MdNavItemController).directive("mdNavItem",MdNavItem),MdNavBarController.prototype._initTabs=function(){this._inkbar=t.element(this._navBarEl.querySelector("md-nav-ink-bar"));var e=this;this._$timeout(function(){e._updateTabs(e.mdSelectedNavItem,n)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(t,n){e._$timeout(function(){e._updateTabs(t,n)})})},MdNavBarController.prototype._updateTabs=function(e,t){var n=this,r=this._getTabs();if(r){var i=-1,o=-1,a=this._getTabByName(e),s=this._getTabByName(t);s&&(s.setSelected(!1),i=r.indexOf(s)),a&&(a.setSelected(!0),o=r.indexOf(a)),this._$timeout(function(){n._updateInkBarStyles(a,o,i)})}},MdNavBarController.prototype._updateInkBarStyles=function(e,t,n){if(this._inkbar.toggleClass("_md-left",t<n).toggleClass("_md-right",t>n),this._inkbar.css({display:t<0?"none":""}),e){var r=e.getButtonEl(),i=r.offsetLeft;this._inkbar.css({left:i+"px",width:r.offsetWidth+"px"})}},MdNavBarController.prototype._getTabs=function(){var e=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(e){return t.element(e).controller("mdNavItem")});return e.indexOf(n)?e:null},MdNavBarController.prototype._getTabByName=function(e){return this._findTab(function(t){return t.getName()==e})},MdNavBarController.prototype._getSelectedTab=function(){return this._findTab(function(e){return e.isSelected()})},MdNavBarController.prototype.getFocusedTab=function(){return this._findTab(function(e){return e.hasFocus()})},MdNavBarController.prototype._findTab=function(e){for(var t=this._getTabs(),n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},MdNavBarController.prototype.onFocus=function(){var e=this._getSelectedTab();e&&e.setFocused(!0)},MdNavBarController.prototype._moveFocus=function(e,t){e.setFocused(!1),t.setFocused(!0)},MdNavBarController.prototype.onKeydown=function(e){var t=this._$mdConstant.KEY_CODE,n=this._getTabs(),r=this.getFocusedTab();if(r){var i=n.indexOf(r);switch(e.keyCode){case t.UP_ARROW:case t.LEFT_ARROW:i>0&&this._moveFocus(r,n[i-1]);break;case t.DOWN_ARROW:case t.RIGHT_ARROW:i<n.length-1&&this._moveFocus(r,n[i+1]);break;case t.SPACE:case t.ENTER:this._$timeout(function(){r.getButtonEl().click()})}}},MdNavItemController.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},MdNavItemController.prototype.getName=function(){return this.name},MdNavItemController.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},MdNavItemController.prototype.setSelected=function(e){this._selected=e},MdNavItemController.prototype.isSelected=function(){return this._selected},MdNavItemController.prototype.setFocused=function(e){this._focused=e,e&&this.getButtonEl().focus()},MdNavItemController.prototype.hasFocus=function(){return this._focused}}(),function(){function MdPanelProvider(){return{definePreset:definePreset,getAllPresets:getAllPresets,clearPresets:clearPresets,$get:$getProvider()}}function definePreset(e,t){if(!e||!t)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(i.hasOwnProperty(e))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete t.id,delete t.position,delete t.animation,i[e]=t}function getAllPresets(){return t.copy(i)}function clearPresets(){i={}}function $getProvider(){return["$rootElement","$rootScope","$injector","$window",function(e,t,n,r){return new MdPanelService(i,e,t,n,r)}]}function MdPanelService(n,r,i,o,a){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:t.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:e},this._config={},this._presets=n,this._$rootElement=r,this._$rootScope=i,this._$injector=o,this._$window=a,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=MdPanelAnimation.animation,this.xPosition=MdPanelPosition.xPosition,this.yPosition=MdPanelPosition.yPosition,this.interceptorTypes=MdPanelRef.interceptorTypes,this.closeReasons=MdPanelRef.closeReasons,this.absPosition=MdPanelPosition.absPosition}function MdPanelRef(e,t){this._$q=t.get("$q"),this._$mdCompiler=t.get("$mdCompiler"),this._$mdConstant=t.get("$mdConstant"),this._$mdUtil=t.get("$mdUtil"),this._$mdTheming=t.get("$mdTheming"),this._$rootScope=t.get("$rootScope"),this._$animate=t.get("$animate"),this._$mdPanel=t.get("$mdPanel"),this._$log=t.get("$log"),this._$window=t.get("$window"),this._$$rAF=t.get("$$rAF"),this.id=e.id,this.config=e,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function MdPanelPosition(e){this._$window=e.get("$window"),this._isRTL="rtl"===e.get("$mdUtil").bidi(),this._$mdConstant=e.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function MdPanelAnimation(e){this._$mdUtil=e.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function getElement(e){var n=t.isString(e)?document.querySelector(e):e;return t.element(n)}function getComputedTranslations(e,t){var n=getComputedStyle(e[0]||e)[t],r=n.indexOf("("),i=n.lastIndexOf(")"),o={x:0,y:0};if(r>-1&&i>-1){var a=n.substring(r+1,i).split(", ").slice(-2);o.x=parseInt(a[0]),o.y=parseInt(a[1])}return o}MdPanelService.$inject=["presets","$rootElement","$rootScope","$injector","$window"],t.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",MdPanelProvider);var e=80,r=t.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),i={};MdPanelService.prototype.create=function(e,n){if("string"==typeof e?e=this._getPresetByName(e):"object"!=typeof e||!t.isUndefined(n)&&n||(n=e,e={}),e=e||{},n=n||{},t.isDefined(n.id)&&this._trackedPanels[n.id]){var r=this._trackedPanels[n.id];return t.extend(r.config,n),r}this._config=t.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,e);var i=new MdPanelRef(this._config,this._$injector);return this._trackedPanels[n.id]=i,this._config.groupName&&(t.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),t.forEach(this._config.groupName,function(e){i.addToGroup(e)})),this._config.scope.$on("$destroy",t.bind(i,i.detach)),i},MdPanelService.prototype.open=function(e,t){var n=this.create(e,t);return n.open().then(function(){return n})},MdPanelService.prototype._getPresetByName=function(e){if(!this._presets[e])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[e]},MdPanelService.prototype.newPanelPosition=function(){return new MdPanelPosition(this._$injector)},MdPanelService.prototype.newPanelAnimation=function(){return new MdPanelAnimation(this._$injector)},MdPanelService.prototype.newPanelGroup=function(e,t){if(!this._groups[e]){t=t||{};var n={panels:[],openPanels:[],maxOpen:t.maxOpen>0?t.maxOpen:1/0};this._groups[e]=n}return this._groups[e]},MdPanelService.prototype.setGroupMaxOpen=function(e,t){if(!this._groups[e])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[e].maxOpen=t},MdPanelService.prototype._openCountExceedsMaxOpen=function(e){if(this._groups[e]){var t=this._groups[e];return t.maxOpen>0&&t.openPanels.length>t.maxOpen}return!1},MdPanelService.prototype._closeFirstOpenedPanel=function(e){this._groups[e].openPanels[0].close()},MdPanelService.prototype._wrapTemplate=function(e){return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+(e||"")+"</div></div>"},MdPanelService.prototype._wrapContentElement=function(e){var n=t.element('<div class="md-panel-outer-wrapper">');return e.addClass("md-panel _md-panel-offscreen"),n.append(e),n},MdPanelRef.interceptorTypes={CLOSE:"onClose"},MdPanelRef.prototype.open=function(){var e=this;return this._$q(function(n,r){var i=e._done(n,e),o=e._simpleBind(e.show,e),a=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._openCountExceedsMaxOpen(t)&&e._$mdPanel._closeFirstOpenedPanel(t)})};e.attach().then(o).then(a).then(i).catch(r)})},MdPanelRef.prototype.close=function(e){var n=this;return this._$q(function(r,i){n._callInterceptors(MdPanelRef.interceptorTypes.CLOSE).then(function(){var o=n._done(r,n),a=n._simpleBind(n.detach,n),s=n.config.onCloseSuccess||t.noop;s=t.bind(n,s,n,e),n.hide().then(a).then(o).then(s).catch(i)},i)})},MdPanelRef.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var e=this;return this._$q(function(n,r){var i=e._done(n,e),o=e.config.onDomAdded||t.noop,a=function(t){return e.isAttached=!0,e._addEventListeners(),t};e._$q.all([e._createBackdrop(),e._createPanel().then(a).catch(r)]).then(o).then(i).catch(r)})},MdPanelRef.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var e=this,n=e.config.onDomRemoved||t.noop,r=function(){return e._removeEventListeners(),e._topFocusTrap&&e._topFocusTrap.parentNode&&e._topFocusTrap.parentNode.removeChild(e._topFocusTrap),e._bottomFocusTrap&&e._bottomFocusTrap.parentNode&&e._bottomFocusTrap.parentNode.removeChild(e._bottomFocusTrap),e._restoreCache.classes&&(e.panelEl[0].className=e._restoreCache.classes),e.panelEl[0].style.cssText=e._restoreCache.styles||"",e._compilerCleanup(),e.panelContainer.remove(),e.isAttached=!1,e._$q.when(e)};return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(t,i){var o=e._done(t,e);e._$q.all([r(),!e._backdropRef||e._backdropRef.detach()]).then(n).then(o).catch(i)})},MdPanelRef.prototype.destroy=function(){var e=this;this.config.groupName&&t.forEach(this.config.groupName,function(t){e.removeFromGroup(t)}),this.config.scope.$destroy(),this.config.locals=null,this._interceptors=null},MdPanelRef.prototype.show=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var e=this,n=function(){return e.panelContainer.removeClass("_md-panel-hidden"),e._animateOpen()};return this._$q(function(r,i){var o=e._done(r,e),a=e.config.onOpenComplete||t.noop,s=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._groups[t].openPanels.push(e)})};e._$q.all([e._backdropRef?e._backdropRef.show():e,n().then(function(){e._focusOnOpen()},i)]).then(a).then(s).then(o).catch(i)})},MdPanelRef.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var e=this;return this._$q(function(n,r){var i=e._done(n,e),o=e.config.onRemoving||t.noop,a=function(){e.panelContainer.addClass("_md-panel-hidden")},s=function(){if(e.config.groupName){var n;t.forEach(e.config.groupName,function(t){t=e._$mdPanel._groups[t],(n=t.openPanels.indexOf(e))>-1&&t.openPanels.splice(n,1)})}},l=function(){var t=e.config.origin;t&&getElement(t).focus()};e._$q.all([e._backdropRef?e._backdropRef.hide():e,e._animateClose().then(o).then(a).then(s).then(l).catch(r)]).then(i,r)})},MdPanelRef.prototype.addClass=function(e,t){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t||this.panelContainer.hasClass(e)?t&&!this.panelEl.hasClass(e)&&this.panelEl.addClass(e):this.panelContainer.addClass(e)},MdPanelRef.prototype.removeClass=function(e,t){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!t&&this.panelContainer.hasClass(e)?this.panelContainer.removeClass(e):t&&this.panelEl.hasClass(e)&&this.panelEl.removeClass(e)},MdPanelRef.prototype.toggleClass=function(e,t){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t?this.panelEl.toggleClass(e):this.panelContainer.toggleClass(e)},MdPanelRef.prototype._compile=function(){var e=this;return e._$mdCompiler.compile(e.config).then(function(n){var r=e.config;if(r.contentElement){var i=n.element;e._restoreCache.styles=i[0].style.cssText,e._restoreCache.classes=i[0].className,e.panelContainer=e._$mdPanel._wrapContentElement(i),e.panelEl=i}else e.panelContainer=n.link(r.scope),e.panelEl=t.element(e.panelContainer[0].querySelector(".md-panel"));return e._compilerCleanup=n.cleanup,getElement(e.config.attachTo).append(e.panelContainer),e})},MdPanelRef.prototype._createPanel=function(){var e=this;return this._$q(function(t,n){e.config.locals||(e.config.locals={}),e.config.locals.mdPanelRef=e,e._compile().then(function(){e.config.disableParentScroll&&(e._restoreScroll=e._$mdUtil.disableScrollAround(null,e.panelContainer,{disableScrollMask:!0})),e.config.panelClass&&e.panelEl.addClass(e.config.panelClass),e.config.propagateContainerEvents&&(e.panelContainer.css("pointer-events","none"),e.panelEl.css("pointer-events","all")),e._$animate.pin&&e._$animate.pin(e.panelContainer,getElement(e.config.attachTo)),e._configureTrapFocus(),e._addStyles().then(function(){t(e)},n)},n)})},MdPanelRef.prototype._addStyles=function(){var e=this;return this._$q(function(t){e.panelContainer.css("z-index",e.config.zIndex),e.panelEl.css("z-index",e.config.zIndex+1);var n=function(){e._setTheming(),e.panelEl.removeClass("_md-panel-offscreen"),e.panelContainer.addClass("_md-panel-hidden"),t(e)};return e.config.fullscreen?(e.panelEl.addClass("_md-panel-fullscreen"),void n()):e.config.position?void e._$rootScope.$$postDigest(function(){e._updatePosition(!0),e._setTheming(),t(e)}):void n()})},MdPanelRef.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},MdPanelRef.prototype.updatePosition=function(e){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=e,this._updatePosition()},MdPanelRef.prototype._updatePosition=function(e){var t=this.config.position;t&&(t._setPanelPosition(this.panelEl),e&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass("_md-panel-hidden")),this.panelEl.css(MdPanelPosition.absPosition.TOP,t.getTop()),this.panelEl.css(MdPanelPosition.absPosition.BOTTOM,t.getBottom()),this.panelEl.css(MdPanelPosition.absPosition.LEFT,t.getLeft()),this.panelEl.css(MdPanelPosition.absPosition.RIGHT,t.getRight()))},MdPanelRef.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var e=this;this._$rootScope.$$postDigest(function(){(e._$mdUtil.findFocusTarget(e.panelEl)||e.panelEl).focus()})}},MdPanelRef.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var e=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&e.duration(this.config.animation._rawDuration);var t={animation:e,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(t)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},MdPanelRef.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},MdPanelRef.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(e){e()}),this._removeListeners=[]},MdPanelRef.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var e=getElement(this.config.attachTo),t=this,n=function(e){e.keyCode===t._$mdConstant.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),t.close(MdPanelRef.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),e.on("keydown",n),this._removeListeners.push(function(){t.panelContainer.off("keydown",n),e.off("keydown",n)})}},MdPanelRef.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var e,n=this.config.propagateContainerEvents?t.element(document.body):this.panelContainer,r=function(t){e=t.target},i=this,o=function(t){i.config.propagateContainerEvents?e===i.panelEl[0]||i.panelEl[0].contains(e)||i.close():e===n[0]&&t.target===n[0]&&(t.stopPropagation(),t.preventDefault(),i.close(MdPanelRef.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",r),n.on("mouseup",o),this._removeListeners.push(function(){n.off("mousedown",r),n.off("mouseup",o)})}},MdPanelRef.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var e=t.bind(this,this._updatePosition),n=this._$$rAF.throttle(e),r=this,i=function(){n()};this._$window.addEventListener("scroll",i,!0),this._removeListeners.push(function(){r._$window.removeEventListener("scroll",i,!0)})}},MdPanelRef.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var e=this.panelEl;this._topFocusTrap=r.clone()[0],this._bottomFocusTrap=r.clone()[0];var t=function(){e.focus()};this._topFocusTrap.addEventListener("focus",t),this._bottomFocusTrap.addEventListener("focus",t),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",t),this._bottomFocusTrap.removeEventListener("focus",t)},this)),e[0].parentNode.insertBefore(this._topFocusTrap,e[0]),e.after(this._bottomFocusTrap)}},MdPanelRef.prototype.updateAnimation=function(e){this.config.animation=e,this._backdropRef&&this._backdropRef.config.animation.duration(e._rawDuration)},MdPanelRef.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var e=this.config.animation;if(!e)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var r=t._done(n,t),i=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),r()};e.animateOpen(t.panelEl).then(r,i)})},MdPanelRef.prototype._animateClose=function(){var e=this.config.animation;if(!e)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var r=function(){t.panelContainer.removeClass("md-panel-is-showing"),n(t)},i=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),r()};e.animateClose(t.panelEl).then(r,i)})},MdPanelRef.prototype.registerInterceptor=function(e,n){var r=null;if(t.isString(e)?t.isFunction(n)||(r="Interceptor callback must be a function, instead got "+typeof n):r="Interceptor type must be a string, instead got "+typeof e,r)throw new Error("MdPanel: "+r);var i=this._interceptors[e]=this._interceptors[e]||[];return-1===i.indexOf(n)&&i.push(n),this},MdPanelRef.prototype.removeInterceptor=function(e,t){var n=this._interceptors[e]?this._interceptors[e].indexOf(t):-1;return n>-1&&this._interceptors[e].splice(n,1),this},MdPanelRef.prototype.removeAllInterceptors=function(e){return e?this._interceptors[e]=[]:this._interceptors=Object.create(null),this},MdPanelRef.prototype._callInterceptors=function(e){var n=this,r=n._$q;return(n._interceptors&&n._interceptors[e]||[]).reduceRight(function(e,i){var o=i&&t.isFunction(i.then),a=o?i:null;return e.then(function(){if(!a)try{a=i(n)}catch(e){a=r.reject(e)}return a})},r.resolve(n))},MdPanelRef.prototype._simpleBind=function(e,t){return function(n){return e.apply(t,n)}},MdPanelRef.prototype._done=function(e,t){return function(){e(t)}},MdPanelRef.prototype.addToGroup=function(e){this._$mdPanel._groups[e]||this._$mdPanel.newPanelGroup(e);var t=this._$mdPanel._groups[e];t.panels.indexOf(this)<0&&t.panels.push(this)},MdPanelRef.prototype.removeFromGroup=function(e){if(!this._$mdPanel._groups[e])throw new Error("mdPanel: The group "+e+" does not exist.");var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n>-1&&t.panels.splice(n,1)},MdPanelRef.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},MdPanelPosition.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},MdPanelPosition.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},MdPanelPosition.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},MdPanelPosition.viewportMargin=8,MdPanelPosition.prototype.absolute=function(){return this._absolute=!0,this},MdPanelPosition.prototype._setPosition=function(e,n){if(e===MdPanelPosition.absPosition.RIGHT||e===MdPanelPosition.absPosition.LEFT)this._left=this._right="";else{if(e!==MdPanelPosition.absPosition.BOTTOM&&e!==MdPanelPosition.absPosition.TOP){var r=Object.keys(MdPanelPosition.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+r+".")}this._top=this._bottom=""}return this["_"+e]=t.isString(n)?n:"0",this},MdPanelPosition.prototype.top=function(e){return this._setPosition(MdPanelPosition.absPosition.TOP,e)},MdPanelPosition.prototype.bottom=function(e){return this._setPosition(MdPanelPosition.absPosition.BOTTOM,e)},MdPanelPosition.prototype.start=function(e){var t=this._isRTL?MdPanelPosition.absPosition.RIGHT:MdPanelPosition.absPosition.LEFT;return this._setPosition(t,e)},MdPanelPosition.prototype.end=function(e){var t=this._isRTL?MdPanelPosition.absPosition.LEFT:MdPanelPosition.absPosition.RIGHT;return this._setPosition(t,e)},MdPanelPosition.prototype.left=function(e){return this._setPosition(MdPanelPosition.absPosition.LEFT,e)},MdPanelPosition.prototype.right=function(e){return this._setPosition(MdPanelPosition.absPosition.RIGHT,e)},MdPanelPosition.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},MdPanelPosition.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},MdPanelPosition.prototype.center=function(){return this.centerHorizontally().centerVertically()},MdPanelPosition.prototype.relativeTo=function(e){return this._absolute=!1,this._relativeToEl=getElement(e),this},MdPanelPosition.prototype.addPanelPosition=function(e,t){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(e),this._validateYPosition(t),this._positions.push({x:e,y:t}),this},MdPanelPosition.prototype._validateYPosition=function(e){if(null!=e){for(var t,n=Object.keys(MdPanelPosition.yPosition),r=[],i=0;t=n[i];i++){var o=MdPanelPosition.yPosition[t];if(r.push(o),o===e)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+r.join(" | "))}},MdPanelPosition.prototype._validateXPosition=function(e){if(null!=e){for(var t,n=Object.keys(MdPanelPosition.xPosition),r=[],i=0;t=n[i];i++){var o=MdPanelPosition.xPosition[t];if(r.push(o),o===e)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+r.join(" | "))}},MdPanelPosition.prototype.withOffsetX=function(e){return this._translateX.push(e),this},MdPanelPosition.prototype.withOffsetY=function(e){return this._translateY.push(e),this},MdPanelPosition.prototype.getTop=function(){return this._top},MdPanelPosition.prototype.getBottom=function(){return this._bottom},MdPanelPosition.prototype.getLeft=function(){return this._left},MdPanelPosition.prototype.getRight=function(){return this._right},MdPanelPosition.prototype.getTransform=function(){return(this._reduceTranslateValues("translateX",this._translateX)+" "+this._reduceTranslateValues("translateY",this._translateY)).trim()},MdPanelPosition.prototype._setTransform=function(e){return e.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},MdPanelPosition.prototype._isOnscreen=function(e){var t=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var r=this._$mdConstant.CSS.TRANSFORM,i=getComputedTranslations(e,r);t+=i.x,n+=i.y}var o=t+e[0].offsetWidth,a=n+e[0].offsetHeight;return t>=0&&n>=0&&a<=this._$window.innerHeight&&o<=this._$window.innerWidth},MdPanelPosition.prototype.getActualPosition=function(){return this._actualPosition},MdPanelPosition.prototype._reduceTranslateValues=function(e,n){return n.map(function(n){var r=t.isFunction(n)?n(this):n;return e+"("+r+")"},this).join(" ")},MdPanelPosition.prototype._setPanelPosition=function(e){if(e.removeClass("_md-panel-position-adjusted"),this._absolute)return void this._setTransform(e);if(this._actualPosition)return this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),void this._constrainToViewport(e);for(var t=0;t<this._positions.length;t++)if(this._actualPosition=this._positions[t],this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),this._isOnscreen(e))return;this._constrainToViewport(e)},MdPanelPosition.prototype._constrainToViewport=function(e){var t=MdPanelPosition.viewportMargin,n=this._top,r=this._left;if(this.getTop()){var i=parseInt(this.getTop()),o=e[0].offsetHeight+i,a=this._$window.innerHeight;i<t?this._top=t+"px":o>a&&(this._top=i-(o-a+t)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),l=e[0].offsetWidth+s,c=this._$window.innerWidth;s<t?this._left=t+"px":l>c&&(this._left=s-(l-c+t)+"px")}e.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==r)},MdPanelPosition.prototype._reverseXPosition=function(e){if(e===MdPanelPosition.xPosition.CENTER)return e;return e.indexOf("start")>-1?e.replace("start","end"):e.replace("end","start")},MdPanelPosition.prototype._bidi=function(e){return this._isRTL?this._reverseXPosition(e):e},MdPanelPosition.prototype._calculatePanelPosition=function(e,t){var n=e[0].getBoundingClientRect(),r=n.width,i=n.height,o=this._relativeToEl[0].getBoundingClientRect(),a=o.left,s=o.right,l=o.width;switch(this._bidi(t.x)){case MdPanelPosition.xPosition.OFFSET_START:this._left=a-r+"px";break;case MdPanelPosition.xPosition.ALIGN_END:this._left=s-r+"px";break;case MdPanelPosition.xPosition.CENTER:var c=a+.5*l-.5*r;this._left=c+"px";break;case MdPanelPosition.xPosition.ALIGN_START:this._left=a+"px";break;case MdPanelPosition.xPosition.OFFSET_END:this._left=s+"px"}var u=o.top,d=o.bottom,h=o.height;switch(t.y){case MdPanelPosition.yPosition.ABOVE:this._top=u-i+"px";break;case MdPanelPosition.yPosition.ALIGN_BOTTOMS:this._top=d-i+"px";break;case MdPanelPosition.yPosition.CENTER:var p=u+.5*h-.5*i;this._top=p+"px";break;case MdPanelPosition.yPosition.ALIGN_TOPS:this._top=u+"px";break;case MdPanelPosition.yPosition.BELOW:this._top=d+"px"}},MdPanelAnimation.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},MdPanelAnimation.prototype.openFrom=function(e){return e=e.target?e.target:e,this._openFrom=this._getPanelAnimationTarget(e),this._closeTo||(this._closeTo=this._openFrom),this},MdPanelAnimation.prototype.closeTo=function(e){return this._closeTo=this._getPanelAnimationTarget(e),this},MdPanelAnimation.prototype.duration=function(e){function toSeconds(e){if(t.isNumber(e))return e/1e3}return e&&(t.isNumber(e)?this._openDuration=this._closeDuration=toSeconds(e):t.isObject(e)&&(this._openDuration=toSeconds(e.open),this._closeDuration=toSeconds(e.close))),this._rawDuration=e,this},MdPanelAnimation.prototype._getPanelAnimationTarget=function(e){return t.isDefined(e.top)||t.isDefined(e.left)?{element:n,bounds:{top:e.top||0,left:e.left||0}}:this._getBoundingClientRect(getElement(e))},MdPanelAnimation.prototype.withAnimation=function(e){return this._animationClass=e,this},MdPanelAnimation.prototype.animateOpen=function(e){var n=this._$mdUtil.dom.animator;this._fixBounds(e);var r={},i=e[0].style.transform||"",o=n.toTransformCss(i),a=n.toTransformCss(i);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:e.css("opacity","1"),r={transitionInClass:"_md-panel-animate-enter"};var s=n.calculateSlideToOrigin(e,this._openFrom)||"";o=n.toTransformCss(s+" "+i);break;case MdPanelAnimation.animation.SCALE:r={transitionInClass:"_md-panel-animate-enter"};var l=n.calculateZoomToOrigin(e,this._openFrom)||"";o=n.toTransformCss(l+" "+i);break;case MdPanelAnimation.animation.FADE:r={transitionInClass:"_md-panel-animate-enter"};break;default:r=t.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return r.duration=this._openDuration,n.translate3d(e,o,a,r)},MdPanelAnimation.prototype.animateClose=function(e){var n=this._$mdUtil.dom.animator,r={},i=e[0].style.transform||"",o=n.toTransformCss(i),a=n.toTransformCss(i);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:e.css("opacity","1"),r={transitionInClass:"_md-panel-animate-leave"};var s=n.calculateSlideToOrigin(e,this._closeTo)||"";a=n.toTransformCss(s+" "+i);break;case MdPanelAnimation.animation.SCALE:r={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var l=n.calculateZoomToOrigin(e,this._closeTo)||"";a=n.toTransformCss(l+" "+i);break;case MdPanelAnimation.animation.FADE:r={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:r=t.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return r.duration=this._closeDuration,n.translate3d(e,o,a,r)},MdPanelAnimation.prototype._fixBounds=function(e){var t=e[0].offsetWidth,n=e[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=t),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=t)},MdPanelAnimation.prototype._getBoundingClientRect=function(e){if(e instanceof t.element)return{element:e,bounds:e[0].getBoundingClientRect()}}}(),function(){t.module("material.components.progressCircular",["material.core"])}(),function(){function MdProgressLinearDirective(e,n,r){function compile(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),postLink}function postLink(r,c,u){function mode(){var e=(u.mdMode||"").trim();if(e)switch(e){case i:case o:case a:case s:break;default:e=o}return e}function animateIndicator(e,r){if(!h&&mode()){var i=n.supplant("translateX({0}%) scale({1},1)",[(r-100)/2,r/100]),o=p({transform:i});t.element(e).css(o)}}e(c);var d,h=u.hasOwnProperty("disabled"),p=n.dom.animator.toCss,m=t.element(c[0].querySelector(".md-bar1")),f=t.element(c[0].querySelector(".md-bar2")),g=t.element(c[0].querySelector(".md-container"));c.attr("md-mode",mode()).toggleClass(l,h),function(){if(t.isUndefined(u.mdMode)){var e=t.isDefined(u.value),n=e?i:o;c.attr("md-mode",n),u.mdMode=n}}(),function(){u.$observe("value",function(e){var t=clamp(e);c.attr("aria-valuenow",t),mode()!=s&&animateIndicator(f,t)}),u.$observe("mdBufferValue",function(e){animateIndicator(m,clamp(e))}),u.$observe("disabled",function(e){h=!0===e||!1===e?!!e:t.isDefined(e),c.toggleClass(l,h),g.toggleClass(d,!h)}),u.$observe("mdMode",function(e){switch(d&&g.removeClass(d),e){case s:case a:case i:case o:g.addClass(d="md-mode-"+e);break;default:g.addClass(d="md-mode-"+o)}})}()}function clamp(e){return Math.max(0,Math.min(e||0,100))}var i="determinate",o="indeterminate",a="buffer",s="query",l="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:compile}}MdProgressLinearDirective.$inject=["$mdTheming","$mdUtil","$log"],t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",MdProgressLinearDirective)}(),function(){function mdRadioGroupDirective(e,n,r,i){function linkRadioGroup(o,a,s,l){function setFocus(){a.hasClass("md-focused")||a.addClass("md-focused")}function keydownListener(r){var i=r.which||r.keyCode;if(i==n.KEY_CODE.ENTER||r.currentTarget==r.target)switch(i){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:r.preventDefault(),c.selectPrevious(),setFocus();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:r.preventDefault(),c.selectNext(),setFocus();break;case n.KEY_CODE.ENTER:var o=t.element(e.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}a.addClass("_md"),r(a);var c=l[0],u=l[1]||e.fakeNgModel();c.init(u),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",keydownListener).on("mousedown",function(e){o.mouseActive=!0,i(function(){o.mouseActive=!1},100)}).on("focus",function(){!1===o.mouseActive&&c.$element.addClass("md-focused")}).on("blur",function(){c.$element.removeClass("md-focused")})}function RadioGroupController(e){this._radioButtonRenderFns=[],this.$element=e}function changeSelectedButton(n,r){var i=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(i.count()){var o=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=i[r<0?"previous":"next"](a,o)||i.first();t.element(s).triggerHandler("click")}}return RadioGroupController.prototype=function(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return changeSelectedButton(this.$element,1)},selectPrevious:function(){return changeSelectedButton(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}(),{restrict:"E",controller:["$element",RadioGroupController],require:["mdRadioGroup","?ngModel"],link:{pre:linkRadioGroup}}}function mdRadioButtonDirective(e,t,n){function link(i,o,a,s){function initialize(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(render),a.$observe("value",render),o.on("click",listener).on("$destroy",function(){s.remove(render)})}function listener(e){o[0].hasAttribute("disabled")||s.isDisabled()||i.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function render(){var e=s.getViewValue()==a.value;e!==l&&("md-radio-group"!==o[0].parentNode.nodeName.toLowerCase()&&o.parent().toggleClass(r,e),e&&s.setActiveDescendant(o.attr("id")),l=e,o.attr("aria-checked",e).toggleClass(r,e))}var l;n(o),function(n,r){n.attr({id:a.id||"radio_"+t.nextUid(),role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}(o),a.ngValue?t.nextTick(initialize,!1):initialize()}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:link}}mdRadioGroupDirective.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],mdRadioButtonDirective.$inject=["$mdAria","$mdUtil","$mdTheming"],t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",mdRadioGroupDirective).directive("mdRadioButton",mdRadioButtonDirective)}(),function(){function SelectDirective(e,r,i,o,a,s,l,c){function compile(c,u){var d=t.element("<md-select-value><span></span></md-select-value>");d.append('<span class="md-select-icon" aria-hidden="true"></span>'),d.addClass("md-select-value"),d[0].hasAttribute("id")||d.attr("id","select_value_label_"+r.nextUid());var h=c.find("md-content");if(h.length||c.append(t.element("<md-content>").append(c.contents())),h.attr("role","presentation"),u.mdOnOpen&&(c.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),c.find("md-option").attr("ng-show","$$loadingAsyncDone")),u.name){var p=t.element('<select class="md-visually-hidden">');p.attr({name:u.name,"aria-hidden":"true",tabindex:"-1"});var m=c.find("md-option");t.forEach(m,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),p.append(n)}),p.append('<option ng-value="'+u.ngModel+'" selected></option>'),c.parent().append(p)}var f=r.parseAttributeBoolean(u.multiple),g=f?"multiple":"",v='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';return v=r.supplant(v,[g,c.html()]),c.empty().append(d),c.append(v),u.tabindex||u.$set("tabindex",0),function(c,u,d,h){function initAriaLabel(){var e=u.attr("aria-label")||u.attr("placeholder");!e&&v&&v.label&&(e=v.label.text()),m=e,a.expect(u,"aria-label",e)}function syncLabelText(){E&&(M=M||E.find("md-select-menu").controller("mdSelectMenu"),y.setLabelText(M.selectedLabels()))}function syncAriaLabel(){if(m){var e=M.selectedLabels({mode:"aria"});u.attr("aria-label",e.length?m+": "+e:m)}}function inputCheckValue(){v&&v.setHasValue(M.selectedLabels().length>0||(u[0].validity||{}).badInput)}function handleKeypress(e){if(i.isNavigationKey(e))e.preventDefault(),openSelect();else if(shouldHandleKey(e,i)){e.preventDefault();var n=M.optNodeForKeyboardSearch(e);if(!n||n.hasAttribute("disabled"))return;var r=t.element(n).controller("mdOption");M.isMultiple||M.deselect(Object.keys(M.selected)[0]),M.select(r.hashKey,r.value),M.refreshViewValue()}}function openSelect(){T._mdSelectIsOpen=!0,u.attr("aria-expanded","true"),e.show({scope:T,preserveScope:!0,skipCompile:!0,element:E,target:u[0],selectCtrl:y,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!d.mdOnOpen&&(c.$eval(d.mdOnOpen)||!0)}).finally(function(){T._mdSelectIsOpen=!1,u.focus(),u.attr("aria-expanded","false"),_.$setTouched()})}var p,m,g=!0,v=h[0],y=h[1],_=h[2],b=h[3],w=u.find("md-select-value"),x=t.isDefined(d.readonly),S=r.parseAttributeBoolean(d.mdNoAsterisk);if(S&&u.addClass("md-no-asterisk"),v){var C=v.isErrorGetter||function(){return _.$invalid&&(_.$touched||b&&b.$submitted)};if(v.input&&u.find("md-select-header").find("input")[0]!==v.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");v.input=u,v.label||a.expect(u,"aria-label",u.attr("placeholder")),c.$watch(C,v.setInvalid)}var E,T,M;!function(){if(E=t.element(u[0].querySelector(".md-select-menu-container")),T=c,d.mdContainerClass){var e=E[0].getAttribute("class")+" "+d.mdContainerClass;E[0].setAttribute("class",e)}M=E.find("md-select-menu").controller("mdSelectMenu"),M.init(_,d.ngModel),u.on("$destroy",function(){E.remove()})}(),o(u),b&&t.isDefined(d.multiple)&&r.nextTick(function(){(_.$modelValue||_.$viewValue)&&b.$setPristine()});var k=_.$render;_.$render=function(){k(),syncLabelText(),syncAriaLabel(),inputCheckValue()},d.$observe("placeholder",_.$render),v&&v.label&&d.$observe("required",function(e){v.label.toggleClass("md-required",e&&!S)}),y.setLabelText=function(e){y.setIsPlaceholder(!e);var t=!1;if(d.mdSelectedText&&d.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(d.mdSelectedText||d.mdSelectedHtml)e=s(d.mdSelectedText||d.mdSelectedHtml)(c),t=!0;else if(!e){var n=d.placeholder||(v&&v.label?v.label.text():"");e=n||"",t=!0}var r=w.children().eq(0);d.mdSelectedHtml?r.html(l.getTrustedHtml(e)):t?r.text(e):r.html(e)},y.setIsPlaceholder=function(e){e?(w.addClass("md-select-placeholder"),v&&v.label&&v.label.addClass("md-placeholder")):(w.removeClass("md-select-placeholder"),v&&v.label&&v.label.removeClass("md-placeholder"))},x||(u.on("focus",function(e){v&&v.setFocused(!0)}),u.on("blur",function(e){g&&(g=!1,T._mdSelectIsOpen&&e.stopImmediatePropagation()),T._mdSelectIsOpen||(v&&v.setFocused(!1),inputCheckValue())})),y.triggerClose=function(){s(d.mdOnClose)(c)},c.$$postDigest(function(){initAriaLabel(),syncLabelText(),syncAriaLabel()}),c.$watch(function(){return M.selectedLabels()},syncLabelText);var A;d.$observe("ngMultiple",function(e){A&&A();var t=s(e);A=c.$watch(function(){return t(c)},function(e,t){e===n&&t===n||(e?u.attr("multiple","multiple"):u.removeAttr("multiple"),u.attr("aria-multiselectable",e?"true":"false"),E&&(M.setMultiple(e),k=_.$render,_.$render=function(){k(),syncLabelText(),syncAriaLabel(),inputCheckValue()},_.$render()))})}),d.$observe("disabled",function(e){t.isString(e)&&(e=!0),p!==n&&p===e||(p=e,e?u.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",openSelect).off("keydown",handleKeypress):u.attr({tabindex:d.tabindex,"aria-disabled":"false"}).on("click",openSelect).on("keydown",handleKeypress))}),d.hasOwnProperty("disabled")||d.hasOwnProperty("ngDisabled")||(u.attr({"aria-disabled":"false"}),u.on("click",openSelect),u.on("keydown",handleKeypress));var D={role:"listbox","aria-expanded":"false","aria-multiselectable":f&&!d.ngMultiple?"true":"false"};u[0].hasAttribute("id")||(D.id="select_"+r.nextUid());var $="select_container_"+r.nextUid();E.attr("id",$),u.find("md-select-menu").length||(D["aria-owns"]=$),u.attr(D),c.$on("$destroy",function(){e.destroy().finally(function(){v&&(v.setFocused(!1),v.setHasValue(!1),v.input=null),_.$setTouched()})})}}var u=i.KEY_CODE;u.SPACE,u.ENTER,u.UP_ARROW,u.DOWN_ARROW;return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:compile,controller:function(){}}}function SelectMenuDirective(e,r,o,a){function preLink(e,n,i,o){function keyListener(e){13!=e.keyCode&&32!=e.keyCode||clickListener(e)}function clickListener(n){var i=r.getClosest(n.target,"md-option"),o=i&&t.element(i).data("$mdOptionController");if(i&&o){if(i.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=s.hashGetter(o.value),l=t.isDefined(s.selected[a]);e.$apply(function(){s.isMultiple?l?s.deselect(a):s.select(a,o.value):l||(s.deselect(Object.keys(s.selected)[0]),s.select(a,o.value)),s.refreshViewValue()})}}var s=o[0];n.addClass("_md"),a(n),n.on("click",clickListener),n.on("keypress",keyListener)}function SelectMenuController(a,s,l){function renderMultiple(){var e=c.ngModel.$modelValue||c.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(c.selected),r=e.map(c.hashGetter);n.filter(function(e){return-1===r.indexOf(e)}).forEach(c.deselect),r.forEach(function(t,n){c.select(t,e[n])})}}function renderSingular(){var e=c.ngModel.$viewValue||c.ngModel.$modelValue;Object.keys(c.selected).forEach(c.deselect),c.select(c.hashGetter(e),e)}var c=this;c.isMultiple=t.isDefined(s.multiple),c.selected={},c.options={},a.$watchCollection(function(){return c.options},function(){c.ngModel.$render()});var u,d;c.setMultiple=function(e){function validateArray(e,n){return t.isArray(e||n||[])}var n=c.ngModel;d=d||n.$isEmpty,c.isMultiple=e,u&&u(),c.isMultiple?(n.$validators["md-multiple"]=validateArray,n.$render=renderMultiple,a.$watchCollection(c.modelBinding,function(e){validateArray(e)&&renderMultiple(),c.ngModel.$setPristine()}),n.$isEmpty=function(e){return!e||0===e.length}):(delete n.$validators["md-multiple"],n.$render=renderSingular)};var h,p,m,f="";c.optNodeForKeyboardSearch=function(e){h&&clearTimeout(h),h=setTimeout(function(){h=n,f="",m=n,p=n},300);var r=e.keyCode-(o.isNumPadKey(e)?48:0);f+=String.fromCharCode(r);var i=new RegExp("^"+f,"i");p||(p=l.find("md-option"),m=new Array(p.length),t.forEach(p,function(e,t){m[t]=e.textContent.trim()}));for(var a=0;a<m.length;++a)if(i.test(m[a]))return p[a]},c.init=function(n,o){c.ngModel=n,c.modelBinding=o,c.ngModel.$isEmpty=function(e){return!c.options[c.hashGetter(e)]};var s=r.getModelOption(n,"trackBy");if(s){var l={},u=e(s);c.hashGetter=function(e,t){return l.$value=e,u(t||a,l)}}else c.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++i)):e};c.setMultiple(c.isMultiple)},c.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=r.nodesToArray(l[0].querySelectorAll("md-option[selected]"));if(n.length){var i;return"html"==t?i=function(e){if(e.hasAttribute("md-option-empty"))return"";var t=e.innerHTML,n=e.querySelector(".md-ripple-container");n&&(t=t.replace(n.outerHTML,""));var r=e.querySelector(".md-container");return r&&(t=t.replace(r.outerHTML,"")),t}:"aria"==t&&(i=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),r.uniq(n.map(i)).join(", ")}return""},c.select=function(e,t){var n=c.options[e];n&&n.setSelected(!0),c.selected[e]=t},c.deselect=function(e){var t=c.options[e];t&&t.setSelected(!1),delete c.selected[e]},c.addOption=function(e,n){if(t.isDefined(c.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');c.options[e]=n,t.isDefined(c.selected[e])&&(c.select(e,n.value),t.isDefined(c.ngModel.$modelValue)&&c.hashGetter(c.ngModel.$modelValue)===e&&c.ngModel.$validate(),c.refreshViewValue())},c.removeOption=function(e){delete c.options[e]},c.refreshViewValue=function(){var e,n=[];for(var i in c.selected)(e=c.options[i])?n.push(e.value):n.push(c.selected[i]);var o=r.getModelOption(c.ngModel,"trackBy"),a=c.isMultiple?n:n[0],s=c.ngModel.$modelValue;(o?t.equals(s,a):s+""===a)||(c.ngModel.$setViewValue(a),c.ngModel.$render())}}return SelectMenuController.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:SelectMenuController,link:{pre:preLink}}}function OptionDirective(e,n,r){function compile(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),hasDefinedValue(n)||e.attr("md-option-empty",""),postLink}function hasDefinedValue(e){var t=e.value,n=e.ngValue;return t||n}function postLink(i,a,s,l){function setOptionValue(e,t,n){if(!u.hashGetter)return void(n||i.$$postDigest(function(){setOptionValue(e,t,!0)}));var r=u.hashGetter(t,i),o=u.hashGetter(e,i);c.hashKey=o,c.value=e,u.removeOption(r,c),u.addOption(o,c)}var c=l[0],u=l[1];r(a),u.isMultiple&&(a.addClass("md-checkbox-enabled"),a.prepend(o.clone())),t.isDefined(s.ngValue)?i.$watch(s.ngValue,setOptionValue):t.isDefined(s.value)?setOptionValue(s.value):i.$watch(function(){return a.text().trim()},setOptionValue),s.$observe("disabled",function(e){e?a.attr("tabindex","-1"):a.attr("tabindex","0")}),i.$$postDigest(function(){s.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(u.isMultiple||u.deselect(Object.keys(u.selected)[0]),u.select(c.hashKey,c.value)):u.deselect(c.hashKey),u.refreshViewValue())})}),e.attach(i,a),function(){var e={role:"option","aria-selected":"false"};a[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),a.attr(e)}(),i.$on("$destroy",function(){u.removeOption(c.hashKey,c)})}function OptionController(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return OptionController.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:OptionController,compile:compile}}function OptgroupDirective(){function compile(e,n){(function(){return e.parent().find("md-select-header").length})()||function(){var r=e.find("label");r.length||(r=t.element("<label>"),e.prepend(r)),r.addClass("md-container-ignore"),r.attr("aria-hidden","true"),n.label&&r.text(n.label)}()}return{restrict:"E",compile:compile}}function SelectHeaderDirective(){return{restrict:"E"}}function SelectProvider(i){function selectDefaultOptions(i,o,a,s,l,c,u,d,h){function onRemove(e,t,n){function cleanElement(){i(),t.removeClass("md-active").attr("aria-hidden","true").css("display","none"),t.parent().find("md-select-value").removeAttr("aria-hidden"),announceClosed(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}var r=null,i=e.$on("$destroy",function(){r.end()});return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),!0===n.$destroy?cleanElement():function(){return r=u(t,{addClass:"md-leave"}),r.start()}().then(cleanElement)}function onShow(e,r,g){function positionAndFocusMenu(){return l(function(t){if(g.isRemoved)return l.reject(!1);var n=calculateMenuPositions(e,r,g);n.container.element.css(m.toCss(n.container.styles)),n.dropDown.element.css(m.toCss(n.dropDown.styles)),c(function(){r.addClass("md-active"),n.dropDown.element.css(m.toCss({transform:""})),t()})})}function autoFocus(e){e&&!e.hasAttribute("disabled")&&e.focus()}function activateResizing(){var n=function(e,t,n){return function(){if(!n.isRemoved){var r=calculateMenuPositions(e,t,n),i=r.container,o=r.dropDown;i.element.css(m.toCss(i.styles)),o.element.css(m.toCss(o.styles))}}}(e,r,g),i=t.element(s);return i.on("resize",n),i.on("orientationchange",n),function(){i.off("resize",n),i.off("orientationchange",n)}}function activateInteraction(){function onBackdropClick(e){e.preventDefault(),e.stopPropagation(),g.restoreFocus=!1,a.nextTick(i.hide,!0)}function onMenuKeyDown(t){switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case f.UP_ARROW:return focusPrevOption();case f.DOWN_ARROW:return focusNextOption();case f.SPACE:case f.ENTER:var n=a.getClosest(t.target,"md-option");n&&(e.triggerHandler({type:"click",target:n}),t.preventDefault()),checkCloseMenu(t);break;case f.TAB:case f.ESCAPE:t.stopPropagation(),t.preventDefault(),g.restoreFocus=!0,a.nextTick(i.hide,!0);break;default:if(shouldHandleKey(t,o)){var r=e.controller("mdSelectMenu").optNodeForKeyboardSearch(t);g.focusedNode=r||g.focusedNode,r&&r.focus()}}}function focusOption(e){var t,r=a.nodesToArray(g.optionNodes),i=r.indexOf(g.focusedNode);do{-1===i?i=0:"next"===e&&i<r.length-1?i++:"prev"===e&&i>0&&i--,t=r[i],t.hasAttribute("disabled")&&(t=n)}while(!t&&i<r.length-1&&i>0);t&&t.focus(),g.focusedNode=t}function focusNextOption(){focusOption("next")}function focusPrevOption(){focusOption("prev")}function checkCloseMenu(n){if(!(n&&"click"==n.type&&n.currentTarget!=e[0]||function(){var e=!1;if(n&&n.currentTarget.children.length>0){var t=n.currentTarget.children[0];if(t.scrollHeight>t.clientHeight&&t.children.length>0){n.pageX-n.currentTarget.getBoundingClientRect().left>t.querySelector("md-option").offsetWidth&&(e=!0)}}return e}())){var r=a.getClosest(n.target,"md-option");r&&r.hasAttribute&&!r.hasAttribute("disabled")&&(n.preventDefault(),n.stopPropagation(),t.isMultiple||(g.restoreFocus=!0,a.nextTick(function(){i.hide(t.ngModel.$viewValue)},!0)))}}if(!g.isRemoved){var e=g.selectEl,t=e.controller("mdSelectMenu")||{};return r.addClass("md-clickable"),g.backdrop&&g.backdrop.on("click",onBackdropClick),e.on("keydown",onMenuKeyDown),e.on("click",checkCloseMenu),function(){g.backdrop&&g.backdrop.off("click",onBackdropClick),e.off("keydown",onMenuKeyDown),e.off("click",checkCloseMenu),r.removeClass("md-clickable"),g.isRemoved=!0}}}return function(){g.loadingAsync&&!g.isRemoved&&(e.$$loadingAsyncDone=!1,l.when(g.loadingAsync).then(function(){e.$$loadingAsyncDone=!0,delete g.loadingAsync}).then(function(){c(positionAndFocusMenu)}))}(),function(e,n){var i=r.find("md-select-menu");if(!n.target)throw new Error(a.supplant(p,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:i,contentEl:r.find("md-content"),optionNodes:i[0].getElementsByTagName("md-option")})}(0,g),g.hideBackdrop=function(e,t,n){return n.disableParentScroll&&!a.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=a.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=a.createBackdrop(e,"md-select-backdrop md-click-catcher"),d.enter(n.backdrop,h[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}(e,r,g),function(e,t,n){return n.parent!==t.parent()&&t.parent().attr("aria-owns",t.attr("id")),t.parent().find("md-select-value").attr("aria-hidden","true"),n.parent.append(t),l(function(e,n){try{u(t,{removeClass:"md-leave",duration:0}).start().then(positionAndFocusMenu).then(e)}catch(e){n(e)}})}(e,r,g).then(function(e){return r.attr("aria-hidden","false"),g.alreadyOpen=!0,g.cleanupInteraction=activateInteraction(),g.cleanupResizing=activateResizing(),autoFocus(g.focusedNode),e},g.hideBackdrop)}function announceClosed(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n?n.selectedLabels():""),t.triggerClose()}}function calculateMenuPositions(n,i,o){var l,c=i[0],u=o.target[0].children[0],d=h[0].body,p=o.selectEl[0],m=o.contentEl[0],f=d.getBoundingClientRect(),g=u.getBoundingClientRect(),v={left:f.left+r,top:r,bottom:f.height-r,right:f.width-r-(a.floatingScrollbars()?16:0)},y={top:g.top-v.top,left:g.left-v.left,right:v.right-(g.left+g.width),bottom:v.bottom-(g.top+g.height)},_=f.width-2*r,b=p.querySelector("md-option[selected]"),w=p.getElementsByTagName("md-option"),x=p.getElementsByTagName("md-optgroup"),S=calculateScrollable(i,m);l=isPromiseLike(o.loadingAsync)?m.firstElementChild||m:b||(x.length?x[0]:w.length?w[0]:m.firstElementChild||m),m.offsetWidth>_?m.style["max-width"]=_+"px":m.style.maxWidth=null,S&&p.classList.add("md-overflow");var C=l;"MD-OPTGROUP"===(C.tagName||"").toUpperCase()&&(C=w[0]||m.firstElementChild||m,l=C),o.focusedNode=C,c.style.display="block";var E=p.getBoundingClientRect(),T=getOffsetRect(l);if(l){var M=s.getComputedStyle(l);T.paddingLeft=parseInt(M.paddingLeft,10)||0,T.paddingRight=parseInt(M.paddingRight,10)||0}if(S){var k=m.offsetHeight/2;m.scrollTop=T.top+T.height/2-k,y.top<k?m.scrollTop=Math.min(T.top,m.scrollTop+k-y.top):y.bottom<k&&(m.scrollTop=Math.max(T.top+T.height-E.height,m.scrollTop-k+y.bottom))}var A,D,$,P,L;A=g.left+T.left-T.paddingLeft+2,D=Math.floor(g.top+g.height/2-T.height/2-T.top+m.scrollTop)+2,$=T.left+g.width/2+"px "+(T.top+T.height/2-m.scrollTop)+"px 0px",P=Math.min(g.width+T.paddingLeft+T.paddingRight,_),L=e.getComputedStyle(u)["font-size"];var R=c.getBoundingClientRect(),O=Math.round(100*Math.min(g.width/E.width,1))/100,I=Math.round(100*Math.min(g.height/E.height,1))/100;return{container:{element:t.element(c),styles:{left:Math.floor(clamp(v.left,A,v.right-R.width)),top:Math.floor(clamp(v.top,D,v.bottom-R.height)),"min-width":P,"font-size":L}},dropDown:{element:t.element(p),styles:{transformOrigin:$,transform:o.alreadyOpen?"":a.supplant("scale({0},{1})",[O,I])}}}}var p="$mdSelect.show() expected a target element in options.target but got '{0}'!",m=a.dom.animator,f=o.KEY_CODE;return{parent:"body",themable:!0,onShow:onShow,onRemove:onRemove,hasBackdrop:!0,disableParentScroll:!0}}function isPromiseLike(e){return e&&t.isFunction(e.then)}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function getOffsetRect(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function calculateScrollable(e,t){var n=!1;try{var r=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=r}finally{}return n}return selectDefaultOptions.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],i("$mdSelect").setDefaults({methods:["target"],options:selectDefaultOptions})}function shouldHandleKey(e,t){var n=String.fromCharCode(e.keyCode),r=e.keyCode<=31;return n&&n.length&&!r&&!t.isMetaKey(e)&&!t.isFnLockKey(e)&&!t.hasModifierKey(e)}SelectDirective.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],SelectMenuDirective.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],OptionDirective.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],SelectProvider.$inject=["$$interimElementProvider"];var r=8,i=0,o=t.element('<div class="md-container"><div class="md-icon"></div></div>');t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",SelectDirective).directive("mdSelectMenu",SelectMenuDirective).directive("mdOption",OptionDirective).directive("mdOptgroup",OptgroupDirective).directive("mdSelectHeader",SelectHeaderDirective).provider("$mdSelect",SelectProvider)}(),function(){function createDirective(e,t){return["$mdUtil","$window",function(n,r){return{restrict:"A",multiElement:!0,link:function(i,o,a){var s=i.$on("$md-resize-enable",function(){s();var l=o[0],c=l.nodeType===r.Node.ELEMENT_NODE?r.getComputedStyle(l):{};i.$watch(a[e],function(e){if(!!e===t){n.nextTick(function(){i.$broadcast("$md-resize")});var r={cachedTransitionStyles:c};n.dom.animator.waitTransitionEnd(o,r).then(function(){i.$broadcast("$md-resize")})}})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",createDirective("ngShow",!0)).directive("ngHide",createDirective("ngHide",!1))}(),function(){function SidenavService(e,r,i,o){function addLegacyAPI(e,n){var o=function(){return!1},s=function(){return i.when(r.supplant(a,[n||""]))};return t.extend({isLockedOpen:o,isOpen:o,toggle:s,open:s,close:s,onClose:t.noop,then:function(e){return waitForInstance(n).then(e||t.noop)}},e)}function findInstance(t,i){var s=e.get(t);return s||i?s:(o.error(r.supplant(a,[t||""])),n)}function waitForInstance(t){return e.when(t).catch(o.error)}var a="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",s={find:findInstance,waitFor:waitForInstance};return function(e,n){if(t.isUndefined(e))return s;var r=!0===n,i=s.find(e,r);return!i&&r?s.waitFor(e):!i&&t.isUndefined(n)?addLegacyAPI(s,e):i}}function SidenavFocusDirective(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,r){}}}function SidenavDirective(e,r,i,o,a,s,l,c,u,d,h,p,m){function postLink(l,f,g,v){function updateIsLocked(e,t){l.isLockedOpen=e,e===t?f.toggleClass("md-locked-open",!!e):s[e?"addClass":"removeClass"](f,"md-locked-open"),_&&_.toggleClass("md-locked-open",!!e)}function updateIsOpen(e){var t=r.findFocusTarget(f)||r.findFocusTarget(f,"[md-sidenav-focus]")||f,n=f.parent();n[e?"on":"off"]("keydown",onKeyDown),_&&_[e?"on":"off"]("click",close);var i=updateContainerPositions(n,e);return e&&(S=h[0].activeElement,b=a.getLastInteractionType()),disableParentScroll(e),C=d.all([e&&_?s.enter(_,n):_?s.leave(_):d.when(!0),s[e?"removeClass":"addClass"](f,"md-closed")]).then(function(){l.isOpen&&(m(function(){T.triggerHandler("resize")}),t&&t.focus()),i&&i()})}function updateContainerPositions(e,t){var n=f[0],r=e[0].scrollTop;if(t&&r){w={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var i={top:r+"px",bottom:"auto",height:e[0].clientHeight+"px"};f.css(i),_.css(i)}if(!t&&w)return function(){n.style.top=w.top,n.style.bottom=w.bottom,n.style.height=w.height,_[0].style.top=null,_[0].style.bottom=null,_[0].style.height=null,w=null}}function disableParentScroll(e){e&&!y?(y=x.css("overflow"),x.css("overflow","hidden")):t.isDefined(y)&&(x.css("overflow",y),y=n)}function toggleOpen(e){return l.isOpen==e?d.when(!0):(l.isOpen&&v.onCloseCb&&v.onCloseCb(),d(function(t){l.isOpen=e,r.nextTick(function(){C.then(function(e){!l.isOpen&&S&&"keyboard"===b&&(S.focus(),S=null),t(e)})})}))}function onKeyDown(e){return e.keyCode===i.KEY_CODE.ESCAPE?close(e):d.when(!0)}function close(e){return e.preventDefault(),v.close()}var y,_,b,w,x=null,S=null,C=d.when(!0),E=c(g.mdIsLockedOpen),T=t.element(p),M=function(){return E(l.$parent,{$media:function(t){return u.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})};g.mdDisableScrollTarget&&(x=h[0].querySelector(g.mdDisableScrollTarget),x?x=t.element(x):u.warn(r.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),x||(x=f.parent()),g.hasOwnProperty("mdDisableBackdrop")||(_=r.createBackdrop(l,"md-sidenav-backdrop md-opaque ng-enter")),f.addClass("_md"),o(f),_&&o.inherit(_,f),f.on("$destroy",function(){_&&_.remove(),v.destroy()}),l.$on("$destroy",function(){_&&_.remove()}),l.$watch(M,updateIsLocked),l.$watch("isOpen",updateIsOpen),v.$toggleOpen=toggleOpen}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed").attr("tabIndex","-1"),postLink}}}function SidenavController(e,t,n,r,i){var o=this;o.isOpen=function(){return!!e.isOpen},o.isLockedOpen=function(){return!!e.isLockedOpen},o.onClose=function(e){return o.onCloseCb=e,o},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!e.isOpen)},o.$toggleOpen=function(t){return r.when(e.isOpen=t)};var a=t.mdComponentId,s=a&&a.indexOf(i.startSymbol())>-1,l=s?i(a)(e.$parent):a;o.destroy=n.register(o,l),s&&t.$observe("mdComponentId",function(e){e&&e!==o.$$mdHandle&&(o.destroy(),o.destroy=n.register(o,e))})}SidenavService.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],SidenavDirective.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],SidenavController.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",SidenavService).directive("mdSidenav",SidenavDirective).directive("mdSidenavFocus",SidenavFocusDirective).controller("$mdSidenavController",SidenavController)}(),function(){function SliderContainerDirective(){return{controller:function(){},compile:function(e){var r=e.find("md-slider");if(r){return r.attr("md-vertical")!==n&&e.attr("md-vertical",""),r.attr("flex")||r.attr("flex",""),function(e,n,r,i){function setDisable(e){n.children().attr("disabled",e),n.find("input").attr("disabled",e)}n.addClass("_md");var o=t.noop;r.disabled?setDisable(!0):r.ngDisabled&&(o=e.$watch(r.ngDisabled,function(e){setDisable(e)})),e.$on("$destroy",function(){o()});var a;i.fitInputWidthToTextLength=function(e){var t=n[0].querySelector("md-input-container");if(t){var r=getComputedStyle(t),i=parseInt(r.minWidth),o=2*parseInt(r.padding);a=a||parseInt(r.maxWidth);var s=Math.max(a,i+o+i/2*e);t.style.maxWidth=s+"px"}}}}}}}function SliderDirective(e,n,r,i,o,a,s,l,c,u){function compile(e,n){var i=t.element(e[0].getElementsByClassName("md-slider-wrapper")),o=n.tabindex||0;return i.attr("tabindex",o),(n.disabled||n.ngDisabled)&&i.attr("tabindex",-1),i.attr("role","slider"),r.expect(e,"aria-label"),postLink}function postLink(r,d,h,p){function updateAll(){refreshSliderDimensions(),ngModelRender()}function updateMin(e){A=parseFloat(e),d.attr("aria-valuemin",e),updateAll()}function updateMax(e){D=parseFloat(e),d.attr("aria-valuemax",e),updateAll()}function updateStep(e){$=parseFloat(e)}function updateRound(e){P=minMaxValidator(parseInt(e),0,6)}function updateAriaDisabled(){d.attr("aria-disabled",!!g())}function redrawTicks(){if(T&&!g()&&!t.isUndefined($)){if($<=0){var e="Slider step value must be greater than zero when in discrete mode";throw c.error(e),new Error(e)}var r=Math.floor((D-A)/$);L||(L=t.element("<canvas>").css("position","absolute"),x.append(L),R=L[0].getContext("2d"));var i=getSliderDimensions();!i||i.height||i.width||(refreshSliderDimensions(),i=O),L[0].width=i.width,L[0].height=i.height;for(var o,a=0;a<=r;a++){var s=n.getComputedStyle(x[0]);R.fillStyle=s.color||"black",o=Math.floor((E?i.height:i.width)*(a/r)),R.fillRect(E?0:o-1,E?o-1:0,E?i.width:2,E?2:i.height)}}}function clearTicks(){if(L&&R){var e=getSliderDimensions();R.clearRect(0,0,e.width,e.height)}}function refreshSliderDimensions(){O=b[0].getBoundingClientRect()}function getSliderDimensions(){return C(),O}function keydownListener(e){if(!g()){var t;(E?e.keyCode===o.KEY_CODE.DOWN_ARROW:e.keyCode===o.KEY_CODE.LEFT_ARROW)?t=-$:(E?e.keyCode===o.KEY_CODE.UP_ARROW:e.keyCode===o.KEY_CODE.RIGHT_ARROW)&&(t=$),t=M?-t:t,t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),r.$evalAsync(function(){setModelValue(m.$viewValue+t)}))}}function mouseDownListener(){redrawTicks(),r.mouseActive=!0,S.removeClass("md-focused"),u(function(){r.mouseActive=!1},100)}function focusListener(){!1===r.mouseActive&&S.addClass("md-focused")}function blurListener(){S.removeClass("md-focused"),d.removeClass("md-active"),clearTicks()}function setModelValue(e){m.$setViewValue(minMaxValidator(stepValidator(e)))}function ngModelRender(){isNaN(m.$viewValue)&&(m.$viewValue=m.$modelValue),m.$viewValue=minMaxValidator(m.$viewValue);var e=valueToPercent(m.$viewValue);r.modelValue=m.$viewValue,d.attr("aria-valuenow",m.$viewValue),setSliderPercent(e),y.text(m.$viewValue)}function minMaxValidator(e,n,r){if(t.isNumber(e))return n=t.isNumber(n)?n:A,r=t.isNumber(r)?r:D,Math.max(n,Math.min(r,e))}function stepValidator(e){if(t.isNumber(e)){var n=Math.round((e-A)/$)*$+A;return n=Math.round(n*Math.pow(10,P))/Math.pow(10,P),f&&f.fitInputWidthToTextLength&&i.debounce(function(){f.fitInputWidthToTextLength(n.toString().length)},100)(),n}}function setSliderPercent(e){e=clamp(e);var t=100*e+"%",n=M?100*(1-e)+"%":t;E?_.css("bottom",t):i.bidiProperty(_,"left","right",t),w.css(E?"height":"width",n),d.toggleClass(M?"md-max":"md-min",0===e),d.toggleClass(M?"md-min":"md-max",1===e)}function onPressDown(e){if(!g()){d.addClass("md-active"),d[0].focus(),refreshSliderDimensions();var t=percentToValue(positionToPercent(E?e.pointer.y:e.pointer.x)),n=minMaxValidator(stepValidator(t));r.$apply(function(){setModelValue(n),setSliderPercent(valueToPercent(n))})}}function onPressUp(e){if(!g()){d.removeClass("md-dragging");var t=percentToValue(positionToPercent(E?e.pointer.y:e.pointer.x)),n=minMaxValidator(stepValidator(t));r.$apply(function(){setModelValue(n),ngModelRender()})}}function onDragStart(e){g()||(I=!0,e.stopPropagation(),d.addClass("md-dragging"),setSliderFromEvent(e))}function onDrag(e){I&&(e.stopPropagation(),setSliderFromEvent(e))}function onDragEnd(e){I&&(e.stopPropagation(),I=!1)}function setSliderFromEvent(e){T?adjustThumbPosition(E?e.pointer.y:e.pointer.x):doSlide(E?e.pointer.y:e.pointer.x)}function doSlide(e){r.$evalAsync(function(){setModelValue(percentToValue(positionToPercent(e)))})}function adjustThumbPosition(e){var t=percentToValue(positionToPercent(e)),n=minMaxValidator(stepValidator(t));setSliderPercent(positionToPercent(e)),y.text(n)}function clamp(e){return Math.max(0,Math.min(e||0,1))}function positionToPercent(e){var t=E?O.top:O.left,n=E?O.height:O.width,r=(e-t)/n;return E||"rtl"!==i.bidi()||(r=1-r),Math.max(0,Math.min(1,E?1-r:r))}function percentToValue(e){return A+(M?1-e:e)*(D-A)}function valueToPercent(e){var t=(e-A)/(D-A);return M?1-t:t}a(d);var m=p[0]||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},f=p[1],g=(t.element(i.getClosest(d,"_md-slider-container",!0)),h.ngDisabled?t.bind(null,l(h.ngDisabled),r.$parent):function(){return d[0].hasAttribute("disabled")}),v=t.element(d[0].querySelector(".md-thumb")),y=t.element(d[0].querySelector(".md-thumb-text")),_=v.parent(),b=t.element(d[0].querySelector(".md-track-container")),w=t.element(d[0].querySelector(".md-track-fill")),x=t.element(d[0].querySelector(".md-track-ticks")),S=t.element(d[0].getElementsByClassName("md-slider-wrapper")),C=(t.element(d[0].getElementsByClassName("md-slider-content")),i.throttle(refreshSliderDimensions,5e3)),E=t.isDefined(h.mdVertical),T=t.isDefined(h.mdDiscrete),M=t.isDefined(h.mdInvert);t.isDefined(h.min)?h.$observe("min",updateMin):updateMin(0),t.isDefined(h.max)?h.$observe("max",updateMax):updateMax(100),t.isDefined(h.step)?h.$observe("step",updateStep):updateStep(1),t.isDefined(h.round)?h.$observe("round",updateRound):updateRound(3);t.noop;h.ngDisabled&&r.$parent.$watch(h.ngDisabled,updateAriaDisabled),s.register(S,"drag",{horizontal:!E}),r.mouseActive=!1,S.on("keydown",keydownListener).on("mousedown",mouseDownListener).on("focus",focusListener).on("blur",blurListener).on("$md.pressdown",onPressDown).on("$md.pressup",onPressUp).on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd),setTimeout(updateAll,0);var k=e.throttle(updateAll);t.element(n).on("resize",k),r.$on("$destroy",function(){t.element(n).off("resize",k)}),m.$render=ngModelRender,m.$viewChangeListeners.push(ngModelRender),m.$formatters.push(minMaxValidator),m.$formatters.push(stepValidator);var A,D,$,P,L,R,O={};refreshSliderDimensions();var I=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:compile}}SliderDirective.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],t.module("material.components.slider",["material.core"]).directive("mdSlider",SliderDirective).directive("mdSliderContainer",SliderContainerDirective)}(),function(){function MdSticky(e,t,r,i){function setupSticky(i){function add(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return s.items.push(n),r.nextTick(function(){o.prepend(n.clone)}),a(),function(){s.items.forEach(function(t,n){t.element[0]===e[0]&&(s.items.splice(n,1),t.clone.remove())}),a()}}function refreshElements(){s.items.forEach(refreshPosition),s.items=s.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=o.prop("scrollTop"),n=s.items.length-1;n>=0;n--)if(t>s.items[n].top){e=s.items[n];break}setCurrentItem(e)}function refreshPosition(e){var t=e.element[0];for(e.top=0,e.left=0,e.right=0;t&&t!==o[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t.offsetParent&&(e.right+=t.offsetParent.offsetWidth-t.offsetWidth-t.offsetLeft),t=t.offsetParent;e.height=e.element.prop("offsetHeight");var i=r.floatingScrollbars()?"0":n;r.bidi(e.clone,"margin-left",e.left,i),r.bidi(e.clone,"margin-right",i,e.right)}function onScroll(){var e=o.prop("scrollTop"),t=e>(onScroll.prevScrollTop||0);if(onScroll.prevScrollTop=e,0===e)return void setCurrentItem(null);if(t){if(s.next&&s.next.top<=e)return void setCurrentItem(s.next);if(s.current&&s.next&&s.next.top-e<=s.next.height)return void translate(s.current,e+(s.next.top-s.next.height-e))}if(!t){if(s.current&&s.prev&&e<s.current.top)return void setCurrentItem(s.prev);if(s.next&&s.current&&e>=s.next.top-s.current.height)return void translate(s.current,e+(s.next.top-e-s.current.height))}s.current&&translate(s.current,e)}function setCurrentItem(e){if(s.current!==e){s.current&&(translate(s.current,null),setStickyState(s.current,null)),e&&setStickyState(e,"active"),s.current=e;var t=s.items.indexOf(e);s.next=s.items[t+1],s.prev=s.items[t-1],setStickyState(s.next,"next"),setStickyState(s.prev,"prev")}}function setStickyState(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function translate(t,i){t&&(null===i||i===n?t.translateY&&(t.translateY=null,t.clone.css(e.CSS.TRANSFORM,"")):(t.translateY=i,r.bidi(t.clone,e.CSS.TRANSFORM,"translate3d("+t.left+"px,"+i+"px,0)","translateY("+i+"px)")))}var o=i.$element,a=t.throttle(refreshElements);setupAugmentedScrollEvents(o),o.on("$scrollstart",a),o.on("$scroll",onScroll);var s;return s={prev:null,current:null,next:null,items:[],add:add,refreshElements:refreshElements}}function setupAugmentedScrollEvents(e){function loopScrollEvent(){+r.now()-i>o?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),t.throttle(loopScrollEvent))}var n,i,o=200;e.on("scroll touchmove",function(){n||(n=!0,t.throttle(loopScrollEvent),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),i=+r.now()})}var o=r.checkStickySupport();return function(e,t,n){var r=t.controller("mdContent");if(r)if(o)t.css({position:o,top:0,"z-index":2});else{var a=r.$element.data("$$sticky");a||(a=setupSticky(r),r.$element.data("$$sticky",a));var s=n||i(t.clone())(e),l=a.add(t,s);e.$on("$destroy",l)}}}MdSticky.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",MdSticky)}(),function(){function MdSubheaderDirective(e,n,r,i,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(a,s,l,c,u){function getContent(e){return t.element(e[0].querySelector(".md-subheader-content"))}r(s),s.addClass("_md"),i.prefixer().removeAttribute(s,"ng-repeat");var d=s[0].outerHTML;l.$set("role","heading"),o.expect(s,"aria-level","2"),u(a,function(e){getContent(s).append(e)}),s.hasClass("md-no-sticky")||u(a,function(t){var r=n('<div class="md-subheader-wrapper" aria-hidden="true">'+d+"</div>")(a);i.nextTick(function(){getContent(r).append(t)}),e(a,s,r)})}}}MdSubheaderDirective.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",MdSubheaderDirective)}(),function(){function getDirective(e){function DirectiveFactory(e){function postLink(r,i,o){var a=e(o[t]);i.on(n,function(e){r.$applyAsync(function(){a(r,{$event:e})})})}return{restrict:"A",link:postLink}}DirectiveFactory.$inject=["$parse"];var t="md"+e,n="$md."+e.toLowerCase();return DirectiveFactory}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",getDirective("SwipeLeft")).directive("mdSwipeRight",getDirective("SwipeRight")).directive("mdSwipeUp",getDirective("SwipeUp")).directive("mdSwipeDown",getDirective("SwipeDown"))}(),function(){function MdSwitch(e,n,r,i,o,a,s){function mdSwitchCompile(e,c){var u=l.compile(e,c).post;return e.addClass("md-dragging"),function(e,l,c,d){function onDragStart(t){p&&p(e)||(t.stopPropagation(),l.addClass("md-dragging"),v={width:m.prop("offsetWidth")})}function onDrag(e){if(v){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/v.width,n=h.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),m.css(r.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),v.translate=n}}function onDragEnd(t){if(v){t.stopPropagation(),l.removeClass("md-dragging"),m.css(r.CSS.TRANSFORM,"");(h.$viewValue?v.translate<.5:v.translate>.5)&&applyModelValue(!h.$viewValue),v=null,e.skipToggle=!0,s(function(){e.skipToggle=!1},1)}}function applyModelValue(t){e.$apply(function(){h.$setViewValue(t),h.$render()})}var h=(d[0],d[1]||n.fakeNgModel()),p=(d[2],null);null!=c.disabled?p=function(){return!0}:c.ngDisabled&&(p=i(c.ngDisabled));var m=t.element(l[0].querySelector(".md-thumb-container")),f=t.element(l[0].querySelector(".md-container")),g=t.element(l[0].querySelector(".md-label"));o(function(){l.removeClass("md-dragging")}),u(e,l,c,d),p&&e.$watch(p,function(e){l.attr("tabindex",e?-1:0)}),c.$observe("mdInvert",function(e){var t=n.parseAttributeBoolean(e);t?l.prepend(g):l.prepend(f),l.toggleClass("md-inverted",t)}),a.register(f,"drag"),f.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd);var v}}var l=e[0];return{restrict:"E",priority:r.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:mdSwitchCompile}}MdSwitch.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",MdSwitch)}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function MdTabsPaginationService(){function decreasePageOffset(e,t){var n,r,i=e.canvas,o=getTabOffsets(e);for(n=0;n<o.length;n++)if(o[n]>=t){r=o[n];break}return Math.max(0,r-i.clientWidth)}function increasePageOffset(e,t){var n,r,i=e.canvas,o=getTotalTabsWidth(e)-i.clientWidth,a=getTabOffsets(e);for(n=0;a.length,a[n]<=t+i.clientWidth;n++)r=a[n];return Math.min(o,r)}function getTabOffsets(e){var t,n,r=0,i=[];for(t=0;t<e.tabs.length;t++)n=e.tabs[t],i.push(r),r+=n.offsetWidth;return i}function getTotalTabsWidth(e){var t,n,r=0;for(t=0;t<e.tabs.length;t++)n=e.tabs[t],r+=n.offsetWidth;return r}return{decreasePageOffset:decreasePageOffset,increasePageOffset:increasePageOffset,getTabOffsets:getTabOffsets,getTotalTabsWidth:getTotalTabsWidth}}t.module("material.components.tabs").service("MdTabsPaginationService",MdTabsPaginationService)}(),function(){function MdToastDirective(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function MdToastProvider(e){function updateTextContent(e){n=e}function MdToastController(e,t){this.$onInit=function(){var i=this;i.highlightAction&&(t.highlightClasses=["md-highlight",i.highlightClass]),t.$watch(function(){return n},function(){i.content=n}),this.resolve=function(){e.hide(r)}}}function toastDefaultOptions(e,r,i,o){function onShow(t,s,l){n=l.textContent||l.content;var c=!o("gt-sm");return s=i.extractElementByName(s,"md-toast",!0),l.element=s,l.onSwipe=function(e,t){var n=e.type.replace("$md.",""),o=n.replace("swipe","");"down"===o&&-1!=l.position.indexOf("top")&&!c||"up"===o&&(-1!=l.position.indexOf("bottom")||c)||("left"!==o&&"right"!==o||!c)&&(s.addClass("md-"+n),i.nextTick(r.cancel))},l.openClass=toastOpenClass(l.position),s.addClass(l.toastClass),l.parent.addClass(l.openClass),i.hasComputedStyle(l.parent,"position","static")&&l.parent.css("position","relative"),s.on(a,l.onSwipe),s.addClass(c?"md-bottom":l.position.split(" ").map(function(e){return"md-"+e}).join(" ")),l.parent&&l.parent.addClass("md-toast-animating"),e.enter(s,l.parent).then(function(){l.parent&&l.parent.removeClass("md-toast-animating")})}function onRemove(t,n,r){return n.off(a,r.onSwipe),r.parent&&r.parent.addClass("md-toast-animating"),r.openClass&&r.parent.removeClass(r.openClass),(1==r.$destroy?n.remove():e.leave(n)).then(function(){r.parent&&r.parent.removeClass("md-toast-animating"),i.hasComputedStyle(r.parent,"position","static")&&r.parent.css("position","")})}function toastOpenClass(e){return o("gt-xs")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var a="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:onShow,onRemove:onRemove,toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){if(n.autoWrap&&e&&!/md-toast-content/g.test(e)){var r=document.createElement("md-template");r.innerHTML=e;for(var i=0;i<r.children.length;i++)if("MD-TOAST"===r.children[i].nodeName){var o=t.element('<div class="md-toast-content">');o.append(t.element(r.children[i].childNodes)),r.children[i].appendChild(o[0])}return r.innerHTML}return e||""}}}MdToastController.$inject=["$mdToast","$scope"],toastDefaultOptions.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var n,r="ok";return e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:toastDefaultOptions}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:MdToastController,theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",updateTextContent).addMethod("updateContent",updateTextContent)}MdToastDirective.$inject=["$mdToast"],MdToastProvider.$inject=["$$interimElementProvider"],t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",MdToastDirective).provider("$mdToast",MdToastProvider)}(),function(){function mdToolbarDirective(e,n,r,i,o){var a=t.bind(null,r.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,l,c){l.addClass("_md"),i(l),r.nextTick(function(){l.addClass("_md-toolbar-transitions")},!1),t.isDefined(c.mdScrollShrink)&&function(){function onChangeScrollShrink(e){var t=l.parent().find("md-content");!u&&t.length&&onMdContentLoad(null,t),e=s.$eval(e),!1===e?d():d=enableScrollShrink()}function onMdContentLoad(e,t){t&&l.parent()[0]===t.parent()[0]&&(u&&u.off("scroll",f),u=t,d=enableScrollShrink())}function onContentScroll(e){var t=e?e.target.scrollTop:p;g(),h=Math.min(i/m,Math.max(0,h+t-p)),l.css(n.CSS.TRANSFORM,a([-h*m])),u.css(n.CSS.TRANSFORM,a([(i-h)*m])),p=t,r.nextTick(function(){var e=l.hasClass("md-whiteframe-z1");e&&!h?o.removeClass(l,"md-whiteframe-z1"):!e&&h&&o.addClass(l,"md-whiteframe-z1")})}function enableScrollShrink(){return u?(u.on("scroll",f),u.attr("scroll-shrink","true"),r.nextTick(updateToolbarHeight,!1),function(){u.off("scroll",f),u.attr("scroll-shrink","false"),updateToolbarHeight()}):t.noop}function updateToolbarHeight(){i=l.prop("offsetHeight");var e=-i*m+"px";u.css({"margin-top":e,"margin-bottom":e}),onContentScroll()}var i,u,d=t.noop,h=0,p=0,m=c.mdShrinkSpeedFactor||.5,f=e.throttle(onContentScroll),g=r.debounce(updateToolbarHeight,5e3);s.$on("$mdContentLoaded",onMdContentLoad),c.$observe("mdScrollShrink",onChangeScrollShrink),c.ngShow&&s.$watch(c.ngShow,updateToolbarHeight),c.ngHide&&s.$watch(c.ngHide,updateToolbarHeight),s.$on("$destroy",d)}()}}}mdToolbarDirective.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",mdToolbarDirective)}(),function(){function MdTooltipDirective(e,n,r,i,o,a,s,l){function linkFunc(f,g,v){function setDefaults(){f.mdZIndex=f.mdZIndex||d,f.mdDelay=f.mdDelay||h,m[f.mdDirection]||(f.mdDirection=p)}function addAriaLabel(e){var t=e||o(g.text().trim())(f.$parent);(!E.attr("aria-label")&&!E.attr("aria-labelledby")||E.attr("md-labeled-by-tooltip"))&&(E.attr("aria-label",t),E.attr("md-labeled-by-tooltip")||E.attr("md-labeled-by-tooltip",C))}function updatePosition(){setDefaults(),w&&w.panelEl&&w.panelEl.removeClass(y),y="md-origin-"+f.mdDirection,_=m[f.mdDirection],b=s.newPanelPosition().relativeTo(E).addPanelPosition(_.x,_.y),w&&w.panelEl&&(w.panelEl.addClass(y),w.updatePosition(b))}function setVisible(t){setVisible.queued&&setVisible.value===!!t||!setVisible.queued&&f.mdVisible===!!t||(setVisible.value=!!t,setVisible.queued||(t?(setVisible.queued=!0,S=e(function(){f.mdVisible=setVisible.value,setVisible.queued=!1,S=null,f.visibleWatcher||onVisibleChanged(f.mdVisible)},f.mdDelay)):a.nextTick(function(){f.mdVisible=!1,f.visibleWatcher||onVisibleChanged(!1)})))}function onVisibleChanged(e){e?showTooltip():hideTooltip()}function showTooltip(){if(!g[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!w){var e=t.element(document.body),n=s.newPanelAnimation().openFrom(E).closeTo(E).withAnimation({open:"md-show",close:"md-hide"}),r={id:C,attachTo:e,contentElement:g,propagateContainerEvents:!0,panelClass:"md-tooltip "+y,animation:n,position:b,zIndex:f.mdZIndex,focusOnOpen:!1};w=s.create(r)}w.open().then(function(){w.panelEl.attr("role","tooltip")})}function hideTooltip(){w&&w.close()}var y,_,b,w,x,S,C="md-tooltip-"+a.nextUid(),E=a.getParentWithPointerEvents(g),T=r.throttle(updatePosition),M=!1,k=null;setDefaults(),addAriaLabel(),g.detach(),updatePosition(),function(){function isDisabledMutation(e){return e.some(function(e){return"disabled"===e.attributeName&&E[0].disabled}),!1}function windowScrollEventHandler(){setVisible(!1)}function windowBlurEventHandler(){k=document.activeElement===E[0]}function enterEventHandler(e){"focus"===e.type&&k?k=!1:f.mdVisible||(E.on(u,leaveEventHandler),setVisible(!0),"touchstart"===e.type&&E.one("touchend",function(){a.nextTick(function(){i.one("touchend",leaveEventHandler)},!1)}))}function leaveEventHandler(){x=f.hasOwnProperty("mdAutohide")?f.mdAutohide:v.hasOwnProperty("mdAutohide"),(x||M||i[0].activeElement!==E[0])&&(S&&(e.cancel(S),setVisible.queued=!1,S=null),E.off(u,leaveEventHandler),E.triggerHandler("blur"),setVisible(!1)),M=!1}function mousedownEventHandler(){M=!0}function onDestroy(){l.deregister("scroll",windowScrollEventHandler,!0),l.deregister("blur",windowBlurEventHandler),l.deregister("resize",T),E.off(c,enterEventHandler).off(u,leaveEventHandler).off("mousedown",mousedownEventHandler),leaveEventHandler(),t&&t.disconnect()}if(E[0]&&"MutationObserver"in n){var t=new MutationObserver(function(e){isDisabledMutation(e)&&a.nextTick(function(){setVisible(!1)})});t.observe(E[0],{attributes:!0})}k=!1,l.register("scroll",windowScrollEventHandler,!0),l.register("blur",windowBlurEventHandler),l.register("resize",T),f.$on("$destroy",onDestroy),E.on("mousedown",mousedownEventHandler),E.on(c,enterEventHandler)}(),function(){function onElementDestroy(){f.$destroy()}if(g[0]&&"MutationObserver"in n){var e=new MutationObserver(function(e){e.forEach(function(e){"md-visible"!==e.attributeName||f.visibleWatcher||(f.visibleWatcher=f.$watch("mdVisible",onVisibleChanged))})});e.observe(g[0],{attributes:!0}),v.hasOwnProperty("mdVisible")&&(f.visibleWatcher=f.$watch("mdVisible",onVisibleChanged))}else f.visibleWatcher=f.$watch("mdVisible",onVisibleChanged);f.$watch("mdDirection",updatePosition),g.one("$destroy",onElementDestroy),E.one("$destroy",onElementDestroy),f.$on("$destroy",function(){setVisible(!1),w&&w.destroy(),e&&e.disconnect(),g.remove()}),g.text().indexOf(o.startSymbol())>-1&&f.$watch(function(){return g.text().trim()},addAriaLabel)}()}var c="focus touchstart mouseenter",u="blur touchcancel mouseleave",d=100,h=0,p="bottom",m={top:{x:s.xPosition.CENTER,y:s.yPosition.ABOVE},right:{x:s.xPosition.OFFSET_END,y:s.yPosition.CENTER},bottom:{x:s.xPosition.CENTER,y:s.yPosition.BELOW},left:{x:s.xPosition.OFFSET_START,y:s.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:linkFunc}}function MdTooltipRegistry(){function globalEventHandler(e){n[e.type]&&n[e.type].forEach(function(t){t.call(this,e)},this)}function register(t,i,o){var a=n[t]=n[t]||[];a.length||(o?e.addEventListener(t,globalEventHandler,!0):r.on(t,globalEventHandler)),-1===a.indexOf(i)&&a.push(i)}function deregister(t,i,o){var a=n[t],s=a?a.indexOf(i):-1;s>-1&&(a.splice(s,1),0===a.length&&(o?e.removeEventListener(t,globalEventHandler,!0):r.off(t,globalEventHandler)))}var n={},r=t.element(e);return{register:register,deregister:deregister}}MdTooltipDirective.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],t.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",MdTooltipDirective).service("$$mdTooltipRegistry",MdTooltipRegistry)}(),function(){function MdTruncateDirective(){return{restrict:"AE",controller:MdTruncateController,controllerAs:"$ctrl",bindToController:!0}}function MdTruncateController(e){e.addClass("md-truncate")}MdTruncateController.$inject=["$element"],t.module("material.components.truncate",["material.core"]).directive("mdTruncate",MdTruncateDirective)}(),function(){function VirtualRepeatContainerDirective(){return{controller:VirtualRepeatContainerController,template:virtualRepeatContainerTemplate,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function virtualRepeatContainerTemplate(e){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+e[0].innerHTML+"</div></div>"}function VirtualRepeatContainerController(e,n,r,i,o,a,s,l,c){this.$rootScope=o,this.$scope=s,this.$element=l,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=r.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=i(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=l[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var u=t.bind(this,this.updateSize);e(t.bind(this,function(){u();var e=n.debounce(u,10,null,!1),r=t.element(a);this.size||e(),r.on("resize",e),s.$on("$destroy",function(){r.off("resize",e)}),s.$emit("$md-resize-enable"),s.$on("$md-resize",u)}))}function VirtualRepeatDirective(e){return{controller:VirtualRepeatController,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var r=n.mdVirtualRepeat,i=r.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),o=i[1],a=e(i[2]),s=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,r,i){r[0].link_(r[1],i,o,a,s)}}}}function VirtualRepeatController(e,n,r,i,o,a,s,l){this.$scope=e,this.$element=n,this.$attrs=r,this.$browser=i,this.$document=o,this.$mdUtil=l,this.$rootScope=a,this.$$rAF=s,this.onDemand=l.parseAttributeBoolean(r.mdOnDemand),this.browserCheckUrlChange=i.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(r.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[],e.$on("$destroy",t.bind(this,this.cleanupBlocks_))}function VirtualRepeatModelArrayLike(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}function ForceHeightDirective(e){return{restrict:"A",link:function(e,t,n){var r=e.$eval(n.mdForceHeight)||null;r&&t&&(t[0].style.height=r)}}}VirtualRepeatContainerController.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],VirtualRepeatController.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],VirtualRepeatDirective.$inject=["$parse"],t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",VirtualRepeatContainerDirective).directive("mdVirtualRepeat",VirtualRepeatDirective).directive("mdForceHeight",ForceHeightDirective);VirtualRepeatContainerController.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},VirtualRepeatContainerController.prototype.isHorizontal=function(){return this.horizontal},VirtualRepeatContainerController.prototype.getSize=function(){return this.size},VirtualRepeatContainerController.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},VirtualRepeatContainerController.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},VirtualRepeatContainerController.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},VirtualRepeatContainerController.prototype.getScrollSize=function(){return this.scrollSize},VirtualRepeatContainerController.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},VirtualRepeatContainerController.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",e<this.maxElementPixels)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var r=Math.floor(e/this.maxElementPixels),i=document.createElement("div");i.style[t]=this.maxElementPixels+"px",i.style[n]="1px";for(var o=0;o<r;o++)this.sizer.appendChild(i.cloneNode(!1));i.style[t]=e-r*this.maxElementPixels+"px",this.sizer.appendChild(i)}},VirtualRepeatContainerController.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||t<n)this.originalSize||(this.originalSize=this.size),this.setSize_(t);else if(null!==this.originalSize){this.unsetSize_();var r=this.originalSize;this.originalSize=null,r||this.updateSize(),this.setSize_(r||this.size)}this.repeater.containerUpdated()}},VirtualRepeatContainerController.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},VirtualRepeatContainerController.prototype.getScrollOffset=function(){return this.scrollOffset},VirtualRepeatContainerController.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},VirtualRepeatContainerController.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},VirtualRepeatContainerController.prototype.resetScroll=function(){this.scrollTo(0)},VirtualRepeatContainerController.prototype.handleScroll_=function(){var e="rtl"!=document.dir&&"rtl"!=document.body.dir;e||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var t=this.isHorizontal()?e?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(t===this.scrollOffset||t>this.scrollSize-this.size)){var n=this.repeater.getItemSize();if(n){var r=Math.max(0,Math.floor(t/n)-3),i=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||e?r*n:-r*n)+"px)";if(this.scrollOffset=t,this.offsetter.style.webkitTransform=i,this.offsetter.style.transform=i,this.bindTopIndex){var o=Math.floor(t/n);o!==this.topIndex&&o<this.repeater.getItemCount()&&(this.topIndex=o,this.bindTopIndex.assign(this.$scope,o),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},VirtualRepeatController.Block,VirtualRepeatController.prototype.link_=function(e,n,r,i,o){this.container=e,this.transclude=n,this.repeatName=r,this.rawRepeatListExpression=i,this.extraName=o,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},VirtualRepeatController.prototype.cleanupBlocks_=function(){t.forEach(this.pooledBlocks,function(e){e.element.remove()})},VirtualRepeatController.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},VirtualRepeatController.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new VirtualRepeatModelArrayLike(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},VirtualRepeatController.prototype.containerUpdated=function(){if(!this.itemSize)return this.unwatchItemSize_&&this.unwatchItemSize_!==t.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest());this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),(this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof VirtualRepeatModelArrayLike&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items))},VirtualRepeatController.prototype.getItemSize=function(){return this.itemSize},VirtualRepeatController.prototype.getItemCount=function(){return this.itemsLength},VirtualRepeatController.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var r=e&&e.length||0,i=!1;if(this.items&&r<this.items.length&&0!==this.container.getScrollOffset()){this.items=e;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}r!==this.itemsLength&&(i=!0,this.itemsLength=r),this.items=e,(e!==n||i)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,i&&this.container.setScrollSize(r*this.itemSize),Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var a,s,l=[],c=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)s=this.getBlock_(a),this.updateBlock_(s,a),l.push(s);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var u=a-1;a<this.newEndIndex;a++)s=this.getBlock_(a),this.updateBlock_(s,a),c.push(s);if(l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.$element[0].nextSibling),c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.blocks[u]&&this.blocks[u].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var d=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(d)}.bind(this))}this.isVirtualRepeatUpdating_=!1},VirtualRepeatController.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,r){n={element:t,new:!0,scope:r},this.updateScope_(r,e),this.parentNode.appendChild(t[0])})),n},VirtualRepeatController.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e.new||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e.new=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},VirtualRepeatController.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},VirtualRepeatController.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},VirtualRepeatController.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},VirtualRepeatController.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+3,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-3)},VirtualRepeatModelArrayLike.prototype.$$includeIndexes=function(e,t){for(var n=e;n<t;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},ForceHeightDirective.$inject=["$mdUtil"]}(),function(){function MdWhiteframeDirective(e){function postLink(o,a,s){var l="";s.$observe("mdWhiteframe",function(o){(o=parseInt(o,10)||i)!=t&&(o>r||o<n)&&(e.warn("md-whiteframe attribute value is invalid. It should be a number between "+n+" and "+r,a[0]),o=i);var c=o==t?"":"md-whiteframe-"+o+"dp";s.$updateClass(c,l),l=c})}var t=-1,n=1,r=24,i=4;return{link:postLink}}MdWhiteframeDirective.$inject=["$log"],t.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",MdWhiteframeDirective)}(),function(){function MdAutocompleteCtrl(a,s,l,c,u,d,h,p,m,f,g,v){function updateModelValidators(){a.requireMatch&&k&&k.$setValidity("md-require-match",!!a.selectedItem||!a.searchText)}function positionDropdown(){function correctHorizontalAlignment(){var e=w.scrollContainer.getBoundingClientRect(),t={};e.right>d.right-i&&(t.left=c.right-e.width+"px"),w.$.scrollContainer.css(t)}if(!w)return l.nextTick(positionDropdown,!1,a);var t,n=(a.dropdownItems||r)*e,c=w.wrap.getBoundingClientRect(),u=w.snap.getBoundingClientRect(),d=w.root.getBoundingClientRect(),h=u.bottom-d.top,p=d.bottom-u.top,f=c.left-d.left,g=c.width,v=function(){var e=0,t=s.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}(),y=a.dropdownPosition;if(y||(y=h>p&&d.height-h-i<n?"top":"bottom"),m.mdFloatingLabel&&(f+=o,g-=2*o),t={left:f+"px",minWidth:g+"px",maxWidth:Math.max(c.right-d.left,d.right-c.left)-i+"px"},"top"===y)t.top="auto",t.bottom=p+"px",t.maxHeight=Math.min(n,c.top-d.top-i)+"px";else{var _=d.bottom-c.bottom-i+l.getViewportTop();t.top=h-v+"px",t.bottom="auto",t.maxHeight=Math.min(n,_)+"px"}w.$.scrollContainer.css(t),l.nextTick(correctHorizontalAlignment,!1)}function moveDropdown(){w.$.root.length&&(u(w.$.scrollContainer),w.$.scrollContainer.detach(),w.$.root.append(w.$.scrollContainer),h.pin&&h.pin(w.$.scrollContainer,p))}function focusInputElement(){w.input.focus()}function configureWatchers(){var e=parseInt(a.delay,10)||0;m.$observe("disabled",function(e){y.isDisabled=l.parseAttributeBoolean(e,!1)}),m.$observe("required",function(e){y.isRequired=l.parseAttributeBoolean(e,!1)}),m.$observe("readonly",function(e){y.isReadonly=l.parseAttributeBoolean(e,!1)}),a.$watch("searchText",e?l.debounce(handleSearchText,e):handleSearchText),a.$watch("selectedItem",selectedItemChange),t.element(d).on("resize",A),a.$on("$destroy",cleanup)}function cleanup(){if(y.hidden||l.enableScrolling(),t.element(d).off("resize",A),w){var e=["ul","scroller","scrollContainer","input"];t.forEach(e,function(e){w.$[e].remove()})}}function onWindowResize(){y.hidden||positionDropdown()}function gatherElements(){var e=gatherSnapWrap();w={main:s[0],scrollContainer:s[0].querySelector(".md-virtual-repeat-container"),scroller:s[0].querySelector(".md-virtual-repeat-scroller"),ul:s.find("ul")[0],input:s.find("input")[0],wrap:e.wrap,snap:e.snap,root:document.body},w.li=w.ul.getElementsByTagName("li"),w.$=getAngularElements(w),k=w.$.input.controller("ngModel")}function gatherSnapWrap(){var e,n;for(e=s;e.length&&(n=e.attr("md-autocomplete-snap"),!t.isDefined(n));e=e.parent());if(e.length)return{snap:e[0],wrap:"width"===n.toLowerCase()?e[0]:s.find("md-autocomplete-wrap")[0]};var r=s.find("md-autocomplete-wrap")[0];return{snap:r,wrap:r}}function getAngularElements(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.element(e[r]));return n}function handleHiddenChange(e,n){!e&&n?(positionDropdown(),reportMessages(!0,D.Count|D.Selected),w&&(l.disableScrollAround(w.ul),M=disableElementScrollEvents(t.element(w.wrap)))):e&&!n&&(l.enableScrolling(),M&&(M(),M=null))}function disableElementScrollEvents(e){function preventDefault(e){e.preventDefault()}return e.on("wheel",preventDefault),e.on("touchmove",preventDefault),function(){e.off("wheel",preventDefault),e.off("touchmove",preventDefault)}}function onListEnter(){S=!0}function onListLeave(){E||y.hidden||w.input.focus(),S=!1,y.hidden=shouldHide()}function onMouseup(){w.input.focus()}function selectedItemChange(e,n){updateModelValidators(),e?getDisplayValue(e).then(function(t){a.searchText=t,handleSelectedItemChange(e,n)}):n&&a.searchText&&getDisplayValue(n).then(function(e){t.isString(a.searchText)&&e.toString().toLowerCase()===a.searchText.toLowerCase()&&(a.searchText="")}),e!==n&&announceItemChange()}function announceItemChange(){t.isFunction(a.itemChange)&&a.itemChange(getItemAsNameVal(a.selectedItem))}function announceTextChange(){t.isFunction(a.textChange)&&a.textChange()}function handleSelectedItemChange(e,t){C.forEach(function(n){n(e,t)})}function registerSelectedItemWatcher(e){-1==C.indexOf(e)&&C.push(e)}function unregisterSelectedItemWatcher(e){var t=C.indexOf(e);-1!=t&&C.splice(t,1)}function handleSearchText(e,t){y.index=getDefaultIndex(),e!==t&&(updateModelValidators(),getDisplayValue(a.selectedItem).then(function(n){e!==n&&(a.selectedItem=null,e!==t&&announceTextChange(),isMinLengthMet()?handleQuery():(y.matches=[],setLoading(!1),reportMessages(!1,D.Count)))}))}function blur(e){E=!1,S||(y.hidden=shouldHide(),evalAttr("ngBlur",{$event:e}))}function doBlur(e){e&&(S=!1,E=!1),w.input.blur()}function focus(e){E=!0,isSearchable()&&isMinLengthMet()&&handleQuery(),y.hidden=shouldHide(),evalAttr("ngFocus",{$event:e})}function keydown(e){switch(e.keyCode){case c.KEY_CODE.DOWN_ARROW:if(y.loading)return;e.stopPropagation(),e.preventDefault(),y.index=Math.min(y.index+1,y.matches.length-1),updateScroll(),reportMessages(!1,D.Selected);break;case c.KEY_CODE.UP_ARROW:if(y.loading)return;e.stopPropagation(),e.preventDefault(),y.index=y.index<0?y.matches.length-1:Math.max(0,y.index-1),updateScroll(),reportMessages(!1,D.Selected);break;case c.KEY_CODE.TAB:if(onListLeave(),y.hidden||y.loading||y.index<0||y.matches.length<1)return;select(y.index);break;case c.KEY_CODE.ENTER:if(y.hidden||y.loading||y.index<0||y.matches.length<1)return;if(hasSelection())return;e.stopPropagation(),e.preventDefault(),select(y.index);break;case c.KEY_CODE.ESCAPE:if(e.preventDefault(),!shouldProcessEscape())return;e.stopPropagation(),clearSelectedItem(),a.searchText&&hasEscapeOption("clear")&&clearSearchText(),y.hidden=!0,hasEscapeOption("blur")&&doBlur(!0)}}function getMinLength(){return t.isNumber(a.minLength)?a.minLength:1}function getDisplayValue(e){return f.when(function(e){return e&&a.itemText?a.itemText(getItemAsNameVal(e)):null}(e)||e).then(function(e){return e&&!t.isString(e)&&g.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),e})}function getItemAsNameVal(e){if(!e)return n;var t={};return y.itemName&&(t[y.itemName]=e),t}function getDefaultIndex(){return a.autoselect?0:-1}function setLoading(e){y.loading!=e&&(y.loading=e),y.hidden=shouldHide()}function shouldHide(){return!isSearchable()||!shouldShow()}function isSearchable(){return!(y.loading&&!hasMatches())&&(!hasSelection()&&!!E)}function shouldProcessEscape(){return hasEscapeOption("blur")||!y.hidden||y.loading||hasEscapeOption("clear")&&a.searchText}function hasEscapeOption(e){return!a.escapeOptions||-1!==a.escapeOptions.toLowerCase().indexOf(e)}function shouldShow(){return isMinLengthMet()&&hasMatches()||notFoundVisible()}function hasMatches(){return!!y.matches.length}function hasSelection(){return!!y.scope.selectedItem}function loadingIsVisible(){return y.loading&&!hasSelection()}function getCurrentDisplayValue(){return getDisplayValue(y.matches[y.index])}function isMinLengthMet(){return(a.searchText||"").length>=getMinLength()}function select(e){l.nextTick(function(){getDisplayValue(y.matches[e]).then(function(e){var t=w.$.input.controller("ngModel");t.$setViewValue(e),t.$render()}).finally(function(){a.selectedItem=y.matches[e],setLoading(!1)})},!1)}function clearValue(){clearSelectedItem(),clearSearchText()}function clearSelectedItem(){y.index=0,y.matches=[]}function clearSearchText(){setLoading(!0),a.searchText="";var e=document.createEvent("CustomEvent");e.initCustomEvent("change",!0,!0,{value:""}),w.input.dispatchEvent(e),w.input.blur(),a.searchText="",w.input.focus()}function fetchResults(e){function onResultsRetrieved(t){x[r]=t,(e||"")===(a.searchText||"")&&handleResults(t)}var n=a.$parent.$eval(b),r=e.toLowerCase(),i=t.isArray(n),o=!!n.then;i?onResultsRetrieved(n):o&&function(e){e&&(e=f.when(e),T++,setLoading(!0),l.nextTick(function(){e.then(onResultsRetrieved).finally(function(){0==--T&&setLoading(!1)})},!0,a))}(n)}function reportMessages(e,t){var n=e?"polite":"assertive",r=[];t&D.Selected&&-1!==y.index&&r.push(getCurrentDisplayValue()),t&D.Count&&r.push(f.resolve(getCountMessage())),f.all(r).then(function(e){v.announce(e.join(" "),n)})}function getCountMessage(){switch(y.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+y.matches.length+" matches available."}}function updateScroll(){if(w.li[0]){var e=w.li[0].offsetHeight,t=e*y.index,n=t+e,r=w.scroller.clientHeight,i=w.scroller.scrollTop;t<i?scrollTo(t):n>i+r&&scrollTo(n-r)}}function isPromiseFetching(){return 0!==T}function scrollTo(e){w.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function notFoundVisible(){var e=(y.scope.searchText||"").length;return y.hasNotFound&&!hasMatches()&&(!y.loading||isPromiseFetching())&&e>=getMinLength()&&(E||S)&&!hasSelection()}function handleQuery(){var e=a.searchText||"",t=e.toLowerCase();!a.noCache&&x[t]?handleResults(x[t]):fetchResults(e),y.hidden=shouldHide()}function handleResults(e){y.matches=e,y.hidden=shouldHide(),y.loading&&setLoading(!1),a.selectOnMatch&&selectItemOnMatch(),positionDropdown(),reportMessages(!0,D.Count)}function selectItemOnMatch(){var e=a.searchText,t=y.matches,n=t[0];1===t.length&&getDisplayValue(n).then(function(t){var n=e==t;a.matchInsensitive&&!n&&(n=e.toLowerCase()==t.toLowerCase()),n&&select(0)})}function evalAttr(e,t){m[e]&&a.$parent.$eval(m[e],t||{})}var y=this,_=a.itemsExpr.split(/ in /i),b=_[1],w=null,x={},S=!1,C=[],E=!1,T=0,M=null,k=null,A=l.debounce(onWindowResize);!function(e,t,n){Object.defineProperty(y,e,{get:function(){return n},set:function(e){var r=n;n=e,t(e,r)}})}("hidden",handleHiddenChange,!0),y.scope=a,y.parent=a.$parent,y.itemName=_[0],y.matches=[],y.loading=!1,y.hidden=!0,y.index=null,y.id=l.nextUid(),y.isDisabled=null,y.isRequired=null,y.isReadonly=null,y.hasNotFound=!1,y.keydown=keydown,y.blur=blur,y.focus=focus,y.clear=clearValue,y.select=select,y.listEnter=onListEnter,y.listLeave=onListLeave,y.mouseUp=onMouseup,y.getCurrentDisplayValue=getCurrentDisplayValue,y.registerSelectedItemWatcher=registerSelectedItemWatcher,y.unregisterSelectedItemWatcher=unregisterSelectedItemWatcher,y.notFoundVisible=notFoundVisible,y.loadingIsVisible=loadingIsVisible,y.positionDropdown=positionDropdown;var D={Count:1,Selected:2};return function(){l.initOptionalProperties(a,m,{searchText:"",selectedItem:null,clearButton:!1}),u(s),configureWatchers(),l.nextTick(function(){gatherElements(),moveDropdown(),a.autofocus&&s.on("focus",focusInputElement)})}()}MdAutocompleteCtrl.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",MdAutocompleteCtrl);var e=48,r=5,i=8,o=2}(),function(){function MdAutocomplete(e){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(e,n){var r=["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"],i=e.find("input");return r.forEach(function(e){var t=n[n.$normalize(e)];null!==t&&i.attr(e,t)}),function(e,n,r,i){i.hasNotFound=!!n.attr("md-has-not-found"),t.isDefined(r.mdClearButton)||e.floatingLabel||(e.clearButton=!0)}},template:function(t,n){var r=function(){var e=t.find("md-not-found").detach(),n=e.length?e.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}(),i=function(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}(),o=t.html(),a=n.tabindex;return r&&t.attr("md-has-not-found",!0),t.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+function(){return n.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=a?'tabindex="'+a+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+o+"</div>            </md-input-container>":'            <input type="search"                '+(null!=a?'tabindex="'+a+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}()+"          "+function(){return'<button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+e.mdClose+'"></md-icon></button>'}()+'          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+i+"                  </li>"+r+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}MdAutocomplete.$inject=["$$mdSvgRegistry"],t.module("material.components.autocomplete").directive("mdAutocomplete",MdAutocomplete)}(),function(){function MdAutocompleteItemScopeDirective(e,t){function compile(e,n,r){return function(e,n,i){function watchVariable(n,r){a[r]=e[n],e.$watch(n,function(e){t.nextTick(function(){a[r]=e})})}var o=e.$mdAutocompleteCtrl,a=o.parent.$new(),s=o.itemName;watchVariable("$index","$index"),watchVariable("item",s),function(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||a.$digest(),t=n=!1}))}),a.$watch(function(){n=!0})}(),r(a,function(e){n.after(e)})}}return{restrict:"AE",compile:compile,terminal:!0,transclude:"element"}}MdAutocompleteItemScopeDirective.$inject=["$compile","$mdUtil"],t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",MdAutocompleteItemScopeDirective)}(),function(){function MdHighlightCtrl(e,t,n){this.$scope=e,this.$element=t,this.$attrs=n,this.regex=null}MdHighlightCtrl.$inject=["$scope","$element","$attrs"],t.module("material.components.autocomplete").controller("MdHighlightCtrl",MdHighlightCtrl),MdHighlightCtrl.prototype.init=function(e,t){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:e(n),contentText:t(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},MdHighlightCtrl.prototype.onRender=function(e,t){var n=e.contentText;null!==this.regex&&e.term===t.term||(this.regex=this.createRegex(e.term,this.flags)),e.term?this.applyRegex(n):this.$element.text(n)},MdHighlightCtrl.prototype.applyRegex=function(e){var n=this.resolveTokens(e);this.$element.empty(),n.forEach(function(e){if(e.isMatch){var n=t.element('<span class="highlight">').text(e.text);this.$element.append(n)}else this.$element.append(document.createTextNode(e))}.bind(this))},MdHighlightCtrl.prototype.resolveTokens=function(e){function appendToken(n,r){var i=e.slice(n,r);i&&t.push(i)}var t=[],n=0;return e.replace(this.regex,function(e,r){appendToken(n,r),t.push({text:e,isMatch:!0}),n=r+e.length}),appendToken(n),t},MdHighlightCtrl.prototype.createRegex=function(e,t){var n="",r="",i=this.sanitizeRegex(e);return t.indexOf("^")>=0&&(n="^"),t.indexOf("$")>=0&&(r="$"),new RegExp(n+i+r,t.replace(/[$\^]/g,""))},MdHighlightCtrl.prototype.sanitizeRegex=function(e){return e&&e.toString().replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}}(),function(){function MdHighlight(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,r){var i=t(r.mdHighlightText),o=e(n.html());return function(e,t,n,r){r.init(i,o)}}}}MdHighlight.$inject=["$interpolate","$parse"],t.module("material.components.autocomplete").directive("mdHighlightText",MdHighlight)}(),function(){function MdChipCtrl(e,t,r,i,o){this.$scope=e,this.$element=t,this.$mdConstant=r,this.$timeout=i,this.$mdUtil=o,this.isEditting=!1,this.parentController=n,this.enableChipEdit=!1}MdChipCtrl.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],t.module("material.components.chips").controller("MdChipCtrl",MdChipCtrl),MdChipCtrl.prototype.init=function(e){this.parentController=e,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},MdChipCtrl.prototype.getChipContent=function(){var e=this.$element[0].getElementsByClassName("md-chip-content");return t.element(e[0])},MdChipCtrl.prototype.getContentElement=function(){return t.element(this.getChipContent().children()[0])},MdChipCtrl.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},MdChipCtrl.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var e=this.getChipIndex();this.getContentElement().text()?(this.parentController.updateChipContents(e,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===e&&this.parentController.focusChip(e)}.bind(this))):this.parentController.removeChipAndFocusInput(e)}},MdChipCtrl.prototype.selectNodeContents=function(t){var n,r;document.body.createTextRange?(n=document.body.createTextRange(),n.moveToElementText(t),n.select()):e.getSelection&&(r=e.getSelection(),n=document.createRange(),n.selectNodeContents(t),r.removeAllRanges(),r.addRange(n))},MdChipCtrl.prototype.goInEditMode=function(){this.isEditting=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},MdChipCtrl.prototype.chipKeyDown=function(e){this.isEditting||e.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&e.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&e.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(e.preventDefault(),this.goOutOfEditMode()):(e.preventDefault(),this.goInEditMode())},MdChipCtrl.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){function MdChip(n,r,i,o){function postLink(e,r,s,l){var c=l.shift(),u=l.shift(),d=t.element(r[0].querySelector(".md-chip-content"));n(r),c&&(u.init(c),d.append(i(a)(e)),d.on("blur",function(){c.resetSelectedChip(),c.$scope.$applyAsync()})),o(function(){c&&c.shouldFocusLastChip&&c.focusLastChipThenInput()})}var a=r.processTemplate(e);return{restrict:"E",require:["^?mdChips","mdChip"],link:postLink,controller:"MdChipCtrl"}}MdChip.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],t.module("material.components.chips").directive("mdChip",MdChip);var e='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>'}(),function(){function MdChipRemove(e){function postLink(t,n,r,i){n.on("click",function(e){t.$apply(function(){i.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:postLink}}MdChipRemove.$inject=["$timeout"],t.module("material.components.chips").directive("mdChipRemove",MdChipRemove)}(),function(){function MdChipTransclude(e){function link(t,n,r){var i=t.$parent.$mdChipsCtrl,o=i.parent.$new(!1,i.parent);o.$$replacedScope=t,o.$chip=t.$chip,o.$index=t.$index,o.$mdChipsCtrl=i;var a=i.$scope.$eval(r.mdChipTransclude);n.html(a),e(n.contents())(o)}return{restrict:"EA",terminal:!0,link:link,scope:!1}}MdChipTransclude.$inject=["$compile"],t.module("material.components.chips").directive("mdChipTransclude",MdChipTransclude)}(),function(){function MdChipsCtrl(t,n,r,i,o,a,s){this.$timeout=a,this.$mdConstant=r,this.$scope=t,this.parent=t.$parent,this.$mdUtil=s,this.$log=i,this.$element=o,this.$attrs=n,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(n.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(n.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=e,this.init()}MdChipsCtrl.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];var e=300;t.module("material.components.chips").controller("MdChipsCtrl",MdChipsCtrl),MdChipsCtrl.prototype.init=function(){var t=this;t.wrapperId="_md-chips-wrapper-"+t.$mdUtil.nextUid(),t.$scope.$watchCollection("$mdChipsCtrl.items",function(){t.setupInputAria(),t.setupWrapperAria()}),t.$attrs.$observe("mdChipAppendDelay",function(n){t.chipAppendDelay=parseInt(n)||e})},MdChipsCtrl.prototype.setupInputAria=function(){var e=this.$element.find("input");e&&(e.attr("role","textbox"),e.attr("aria-multiline",!0))},MdChipsCtrl.prototype.setupWrapperAria=function(){var e=this,t=this.$element.find("md-chips-wrap");this.items&&this.items.length?(t.attr("role","listbox"),this.contentIds=this.items.map(function(){return e.wrapperId+"-chip-"+e.$mdUtil.nextUid()}),t.attr("aria-owns",this.contentIds.join(" "))):(t.removeAttr("role"),t.removeAttr("aria-owns"))},MdChipsCtrl.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.autocompleteCtrl&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(e.target))return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(e.keyCode)){if(this.autocompleteCtrl&&this.requireMatch||!t)return;if(e.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(t.trim()),this.resetChipBuffer(),!1}}},MdChipsCtrl.prototype.getCursorPosition=function(e){try{if(e.selectionStart===e.selectionEnd)return e.selectionStart}catch(t){if(!e.value)return 0}},MdChipsCtrl.prototype.updateChipContents=function(e,t){e>=0&&e<this.items.length&&(this.items[e]=t,this.ngModelCtrl.$setDirty())},MdChipsCtrl.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},MdChipsCtrl.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!t.isDefined(this.removable)||this.removable)},MdChipsCtrl.prototype.chipKeydown=function(e){if(!this.getChipBuffer()&&!this.isEditingChip())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(e.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),(this.selectedChip<0||this.readonly&&0==this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},MdChipsCtrl.prototype.getPlaceholder=function(){return this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder)?this.secondaryPlaceholder:this.placeholder},MdChipsCtrl.prototype.removeAndSelectAdjacentChip=function(e){var t=this,n=t.getAdjacentChipIndex(e);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+e+'"]');t.removeChip(e),t.$timeout(function(){t.$timeout(function(){t.selectAndFocusChipSafe(n)})})},MdChipsCtrl.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},MdChipsCtrl.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},MdChipsCtrl.prototype.appendChip=function(e){if(this.shouldFocusLastChip=!0,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){if(this.items.some(function(n){return t.equals(e,n)}))return}if(!(null==e||this.items.indexOf(e)+1)){var r=this.items.push(e),i=r-1;this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:i})}},MdChipsCtrl.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},MdChipsCtrl.prototype.useOnAddExpression=function(){this.useOnAdd=!0},MdChipsCtrl.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},MdChipsCtrl.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},MdChipsCtrl.prototype.getChipBuffer=function(){var e=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return t.isString(e)?e:""},MdChipsCtrl.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},MdChipsCtrl.prototype.hasMaxChipsReached=function(){return t.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},MdChipsCtrl.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())},MdChipsCtrl.prototype.removeChip=function(e){var t=this.items.splice(e,1);this.ngModelCtrl.$setDirty(),this.validateModel(),t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},MdChipsCtrl.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},MdChipsCtrl.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length||-1===e)return this.focusInput();if(e>=this.items.length){if(!this.readonly)return this.onFocus();e=0}e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),this.focusChip(e)},MdChipsCtrl.prototype.focusLastChipThenInput=function(){var e=this;e.shouldFocusLastChip=!1,e.focusChip(this.items.length-1),e.$timeout(function(){e.focusInput()},e.chipAppendDelay)},MdChipsCtrl.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},MdChipsCtrl.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[e]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},MdChipsCtrl.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},MdChipsCtrl.prototype.focusChip=function(e){var t=this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content');this.ariaTabIndex=e,t.focus()},MdChipsCtrl.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},MdChipsCtrl.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},MdChipsCtrl.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},MdChipsCtrl.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},MdChipsCtrl.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var r=this.$scope,i=this,o=function(e,n){r.$evalAsync(t.bind(i,n,e))};e.attr({tabindex:0}).on("keydown",function(e){o(e,i.inputKeydown)}).on("focus",function(e){o(e,i.onInputFocus)}).on("blur",function(e){o(e,i.onInputBlur)})},MdChipsCtrl.prototype.configureAutocomplete=function(e){e&&(this.autocompleteCtrl=e,e.registerSelectedItemWatcher(t.bind(this,function(e){if(e){if(this.hasMaxChipsReached())return;this.appendChip(e),this.resetChipBuffer()}})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},MdChipsCtrl.prototype.shouldAddOnBlur=function(){this.validateModel();var e=this.getChipBuffer().trim(),t=this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(t=t&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&e&&t&&!n},MdChipsCtrl.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},MdChipsCtrl.prototype.contentIdFor=function(e){return this.contentIds[e]}}(),function(){function MdChips(t,o,a,s,l,c){function compile(e,n){function getTemplateByQuery(e){if(n.ngModel){var t=r[0].querySelector(e);return t&&t.outerHTML}}var r=n.$mdUserTemplate;n.$mdUserTemplate=null;var i=getTemplateByQuery("md-chips>md-chip-template"),d=o.prefixer().buildList("md-chip-remove").map(function(e){return"md-chips>*["+e+"]"}).join(","),h=getTemplateByQuery(d)||u.remove,p=i||u.default,m=getTemplateByQuery("md-chips>md-autocomplete")||getTemplateByQuery("md-chips>input")||u.input,f=r.find("md-chip");return r[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(e,r,s,d){o.initOptionalProperties(e,n),t(r);var g=d[0];if(i&&(g.enableChipEdit=!1),g.chipContentsTemplate=p,g.chipRemoveTemplate=h,g.chipInputTemplate=m,g.mdCloseIcon=c.mdClose,r.attr({tabindex:-1}).on("focus",function(){g.onFocus()}),n.ngModel&&(g.configureNgModel(r.controller("ngModel")),s.mdTransformChip&&g.useTransformChipExpression(),s.mdOnAppend&&g.useOnAppendExpression(),s.mdOnAdd&&g.useOnAddExpression(),s.mdOnRemove&&g.useOnRemoveExpression(),s.mdOnSelect&&g.useOnSelectExpression(),m!=u.input&&e.$watch("$mdChipsCtrl.readonly",function(e){e||o.nextTick(function(){if(0===m.indexOf("<md-autocomplete")){var e=r.find("md-autocomplete");g.configureAutocomplete(e.controller("mdAutocomplete"))}g.configureUserInput(r.find("input"))})}),o.nextTick(function(){var e=r.find("input");e&&e.toggleClass("md-input",!0)})),f.length>0){var v=a(f.clone())(e.$parent);l(function(){r.find("md-chips-wrap").prepend(v)})}}}var u=function(){return{chips:o.processTemplate(e),input:o.processTemplate(n),default:o.processTemplate(r),remove:o.processTemplate(i)}}();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),u.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:compile,scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}MdChips.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],t.module("material.components.chips").directive("mdChips",MdChips);var e='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',n='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",i='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>'}(),function(){function MdContactChipsCtrl(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",MdContactChipsCtrl),MdContactChipsCtrl.prototype.queryContact=function(e){return this.contactQuery({$query:e})},MdContactChipsCtrl.prototype.itemName=function(e){return e[this.contactName]}}(),function(){function MdContactChips(t,n){function compile(e,r){return function(e,i,o,a){var s=a;n.initOptionalProperties(e,r),t(i),i.attr("tabindex","-1"),o.$observe("mdChipAppendDelay",function(e){s.chipAppendDelay=e})}}return{template:function(t,n){return e},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:compile,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}MdContactChips.$inject=["$mdTheming","$mdUtil"],t.module("material.components.chips").directive("mdContactChips",MdContactChips);var e='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'}(),function(){!function(){function calendarDirective(){return{template:function(e,t){return'<div ng-switch="calendarCtrl.currentView" '+(t.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"')+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:CalendarCtrl,controllerAs:"calendarCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0];r[1].configureNgModel(i)}}}function CalendarCtrl(n,r,i,o,a,s,l,c,u){s(n),this.$element=n,this.$scope=r,this.dateUtil=i,this.$mdUtil=o,this.keyCode=a.KEY_CODE,this.$$rAF=l,this.$mdDateLocale=u,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=e++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,c.tabindex||n.attr("tabindex","-1");var d,h=t.bind(this,this.handleKeyEvent);d=n.parent().hasClass("md-datepicker-calendar")?t.element(document.body):n,d.on("keydown",h),r.$on("$destroy",function(){d.off("keydown",h)}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}CalendarCtrl.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendar",calendarDirective);var e=0;CalendarCtrl.prototype.$onInit=function(){this.currentView=this._currentView||"month";var e=this.$mdDateLocale;this.minDate&&this.minDate>e.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=e.firstRenderableDate,this.maxDate&&this.maxDate<e.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=e.lastRenderableDate},CalendarCtrl.prototype.configureNgModel=function(e){var t=this;t.ngModelCtrl=e,t.$mdUtil.nextTick(function(){t.isInitialized=!0}),e.$render=function(){var e=this.$viewValue;t.$scope.$broadcast("md-calendar-parent-changed",e),t.selectedDate||(t.selectedDate=e),t.displayDate||(t.displayDate=t.selectedDate||t.today)}},CalendarCtrl.prototype.setNgModelValue=function(e){var t=this.dateUtil.createDateAtMidnight(e);return this.focus(t),this.$scope.$emit("md-calendar-change",t),this.ngModelCtrl.$setViewValue(t),this.ngModelCtrl.$render(),t},CalendarCtrl.prototype.setCurrentView=function(e,n){var r=this;r.$mdUtil.nextTick(function(){r.currentView=e,n&&(r.displayDate=t.isDate(n)?n:new Date(n))})},CalendarCtrl.prototype.focus=function(e){if(this.dateUtil.isValidDate(e)){var t=this.$element[0].querySelector(".md-focus");t&&t.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(e,this.currentView),r=document.getElementById(n);r&&(r.classList.add(this.FOCUSED_DATE_CLASS),r.focus(),this.displayDate=e)}else{var i=this.$element[0].querySelector("[ng-switch]");i&&i.focus()}},CalendarCtrl.prototype.getActionFromKeyEvent=function(e){var t=this.keyCode;switch(e.which){case t.ENTER:return"select";case t.RIGHT_ARROW:return"move-right";case t.LEFT_ARROW:return"move-left";case t.DOWN_ARROW:return e.metaKey?"move-page-down":"move-row-down";case t.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case t.PAGE_DOWN:return"move-page-down";case t.PAGE_UP:return"move-page-up";case t.HOME:return"start";case t.END:return"end";default:return null}},CalendarCtrl.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());var n=t.getActionFromKeyEvent(e);n&&(e.preventDefault(),e.stopPropagation(),t.$scope.$broadcast("md-calendar-parent-action",n))})},CalendarCtrl.prototype.hideVerticalScrollbar=function(e){function setWidth(){var n=t.width||340,i=t.scrollbarWidth,o=e.calendarScroller;r.style.width=n+"px",o.style.width=n+i+"px",o.style.paddingRight=i+"px"}var t=this,n=e.$element[0],r=n.querySelector(".md-calendar-scroll-mask");t.width>0?setWidth():t.$$rAF(function(){var r=e.calendarScroller;t.scrollbarWidth=r.offsetWidth-r.clientWidth,t.width=n.querySelector("table").offsetWidth,setWidth()})},CalendarCtrl.prototype.getDateId=function(e,t){if(!t)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,t,e.getFullYear(),e.getMonth(),e.getDate()].join("-")},CalendarCtrl.prototype.updateVirtualRepeat=function(){var e=this.$scope,t=e.$on("$md-resize-enable",function(){e.$$phase||e.$apply(),t()})}}()}(),function(){!function(){function calendarDirective(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(n-e)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+e+'"><tr aria-hidden="true" md-force-height="\''+e+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:CalendarMonthCtrl,controllerAs:"monthCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0];r[1].initialize(i)}}}function CalendarMonthCtrl(e,t,n,r,i,o){this.$element=e,this.$scope=t,this.$animate=n,this.$q=r,this.dateUtil=i,this.dateLocale=o,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var e=i.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(e)})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",i.getTimestampFromNode(this))}}CalendarMonthCtrl.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonth",calendarDirective);var e=265,n=45;CalendarMonthCtrl.prototype.initialize=function(e){this.items={length:this.dateUtil.getMonthDistance(e.firstRenderableDate,e.lastRenderableDate)+2},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},CalendarMonthCtrl.prototype.getSelectedMonthIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getMonthDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},CalendarMonthCtrl.prototype.changeSelectedDate=function(e){var t=this,n=t.calendarCtrl,r=n.selectedDate;n.selectedDate=e,this.changeDisplayDate(e).then(function(){var t=n.SELECTED_DATE_CLASS;if(r){var i=document.getElementById(n.getDateId(r,"month"));i&&(i.classList.remove(t),i.setAttribute("aria-selected","false"))}if(e){var o=document.getElementById(n.getDateId(e,"month"));o&&(o.classList.add(t),o.setAttribute("aria-selected","true"))}})},CalendarMonthCtrl.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.calendarCtrl.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},CalendarMonthCtrl.prototype.animateDateChange=function(t){if(this.dateUtil.isValidDate(t)){var n=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,t);this.calendarScroller.scrollTop=n*e}return this.$q.when()},CalendarMonthCtrl.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),r=0;r<7;r++){var i=document.createElement("th");i.textContent=t[(r+e)%7],n.appendChild(i)}this.$element.find("thead").append(n)},CalendarMonthCtrl.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeSelectedDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(this,this.handleKeyEvent))},CalendarMonthCtrl.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,r=n.displayDate;if("select"===t)n.setNgModelValue(r);else{var i=null,o=this.dateUtil;switch(t){case"move-right":i=o.incrementDays(r,1);break;case"move-left":i=o.incrementDays(r,-1);break;case"move-page-down":i=o.incrementMonths(r,1);break;case"move-page-up":i=o.incrementMonths(r,-1);break;case"move-row-down":i=o.incrementDays(r,7);break;case"move-row-up":i=o.incrementDays(r,-7);break;case"start":i=o.getFirstDateOfMonth(r);break;case"end":i=o.getLastDateOfMonth(r)}i&&(i=this.dateUtil.clampDate(i,n.minDate,n.maxDate),this.changeDisplayDate(i).then(function(){n.focus(i)}))}}}()}(),function(){!function(){function mdCalendarMonthBodyDirective(e,n){var r=e('<md-icon md-svg-src="'+n.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:CalendarMonthBodyCtrl,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(e,n,i,o){var a=o[0],s=o[1],l=o[2];l.calendarCtrl=a,l.monthCtrl=s,l.arrowIcon=r.cloneNode(!0),e.$watch(function(){return l.offset},function(e){t.isNumber(e)&&l.generateContent()})}}}function CalendarMonthBodyCtrl(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}mdCalendarMonthBodyDirective.$inject=["$compile","$$mdSvgRegistry"],CalendarMonthBodyCtrl.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonthBody",mdCalendarMonthBodyDirective),CalendarMonthBodyCtrl.prototype.generateContent=function(){var e=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},CalendarMonthBodyCtrl.prototype.buildDateCell=function(e){var t=this.monthCtrl,n=this.calendarCtrl,r=document.createElement("td");if(r.tabIndex=-1,r.classList.add("md-calendar-date"),r.setAttribute("role","gridcell"),e){r.setAttribute("tabindex","-1"),r.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),r.id=n.getDateId(e,"month"),r.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,n.today)&&r.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(e,n.selectedDate)&&(r.classList.add(n.SELECTED_DATE_CLASS),r.setAttribute("aria-selected","true"));var i=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var o=document.createElement("span");o.classList.add("md-calendar-date-selection-indicator"),o.textContent=i,r.appendChild(o),r.addEventListener("click",t.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(e,n.displayDate)&&(this.focusAfterAppend=r)}else r.classList.add("md-calendar-date-disabled"),r.textContent=i}return r},CalendarMonthBodyCtrl.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},CalendarMonthBodyCtrl.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},CalendarMonthBodyCtrl.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),r=this.getLocaleDay_(n),i=this.dateUtil.getNumberOfDaysInMonth(t),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,c=0,u=document.createElement("td"),d=document.createElement("span");if(d.textContent=this.dateLocale.monthHeaderFormatter(t),u.appendChild(d),u.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate?u.classList.add("md-calendar-month-label-disabled"):(u.addEventListener("click",this.monthCtrl.headerClickHandler),u.setAttribute("data-timestamp",n.getTime()),u.setAttribute("aria-label",this.dateLocale.monthFormatter(t)),u.appendChild(this.arrowIcon.cloneNode(!0))),r<=2){u.setAttribute("colspan","7");var h=this.buildDateRow();if(h.appendChild(u),o.insertBefore(h,s),l)return o}else c=3,u.setAttribute("colspan","3"),s.appendChild(u);for(var p=c;p<r;p++)s.appendChild(this.buildDateCell());for(var m=r,f=n,g=1;g<=i;g++){if(7===m){if(l)return o;m=0,a++,s=this.buildDateRow(a),o.appendChild(s)}f.setDate(g);var v=this.buildDateCell(f);s.appendChild(v),m++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var y=this.buildDateRow(),_=0;_<7;_++)y.appendChild(this.buildDateCell());o.appendChild(y)}return o},CalendarMonthBodyCtrl.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){function calendarDirective(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+e+'"><tr aria-hidden="true" md-force-height="\''+e+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:CalendarYearCtrl,controllerAs:"yearCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0];r[1].initialize(i)}}}function CalendarYearCtrl(e,t,n,r,i){this.$element=e,this.$scope=t,this.$animate=n,this.$q=r,this.dateUtil=i,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var o=this;this.cellClickHandler=function(){o.calendarCtrl.setCurrentView("month",i.getTimestampFromNode(this))}}CalendarYearCtrl.$inject=["$element","$scope","$animate","$q","$$mdDateUtil"],t.module("material.components.datepicker").directive("mdCalendarYear",calendarDirective);var e=88;CalendarYearCtrl.prototype.initialize=function(e){this.items={length:this.dateUtil.getYearDistance(e.firstRenderableDate,e.lastRenderableDate)+1},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},CalendarYearCtrl.prototype.getFocusedYearIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getYearDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},CalendarYearCtrl.prototype.changeDate=function(e){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(e)&&!this.isMonthTransitionInProgress){var t=this,n=this.animateDateChange(e);return t.isMonthTransitionInProgress=!0,t.calendarCtrl.displayDate=e,n.then(function(){t.isMonthTransitionInProgress=!1})}},CalendarYearCtrl.prototype.animateDateChange=function(t){if(this.dateUtil.isValidDate(t)){var n=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,t);this.calendarScroller.scrollTop=n*e}return this.$q.when()},CalendarYearCtrl.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,r=n.displayDate;if("select"===t)this.changeDate(r).then(function(){n.setCurrentView("month",r),n.focus(r)});else{var i=null,o=this.dateUtil;switch(t){case"move-right":i=o.incrementMonths(r,1);break;case"move-left":i=o.incrementMonths(r,-1);break;case"move-row-down":i=o.incrementMonths(r,6);break;case"move-row-up":i=o.incrementMonths(r,-6)}if(i){var a=n.minDate?o.getFirstDateOfMonth(n.minDate):null,s=n.maxDate?o.getFirstDateOfMonth(n.maxDate):null;i=o.getFirstDateOfMonth(this.dateUtil.clampDate(i,a,s)),this.changeDate(i).then(function(){n.focus(i)})}}},CalendarYearCtrl.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(e,e.handleKeyEvent))}}()}(),function(){!function(){function mdCalendarYearDirective(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:CalendarYearBodyCtrl,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(e,n,r,i){var o=i[0],a=i[1],s=i[2];s.calendarCtrl=o,s.yearCtrl=a,e.$watch(function(){return s.offset},function(e){t.isNumber(e)&&s.generateContent()})}}}function CalendarYearBodyCtrl(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}CalendarYearBodyCtrl.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarYearBody",mdCalendarYearDirective),CalendarYearBodyCtrl.prototype.generateContent=function(){var e=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},CalendarYearBodyCtrl.prototype.buildMonthCell=function(e,t){var n=this.calendarCtrl,r=this.yearCtrl,i=this.buildBlankCell(),o=new Date(e,t,1);i.setAttribute("aria-label",this.dateLocale.monthFormatter(o)),i.id=n.getDateId(o,"year"),i.setAttribute("data-timestamp",o.getTime()),this.dateUtil.isSameMonthAndYear(o,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(o,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[t];if(this.dateUtil.isMonthWithinRange(o,n.minDate,n.maxDate)){var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=a,i.appendChild(s),i.addEventListener("click",r.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(o,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=a;return i},CalendarYearBodyCtrl.prototype.buildBlankCell=function(){var e=document.createElement("td");return e.tabIndex=-1,e.classList.add("md-calendar-date"),e.setAttribute("role","gridcell"),e.setAttribute("tabindex","-1"),e},CalendarYearBodyCtrl.prototype.buildCalendarForYear=function(e){var t,n=e.getFullYear(),r=document.createDocumentFragment(),i=document.createElement("tr"),o=document.createElement("td");for(o.className="md-calendar-month-label",o.textContent=n,i.appendChild(o),t=0;t<6;t++)i.appendChild(this.buildMonthCell(n,t));r.appendChild(i);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),t=6;t<12;t++)a.appendChild(this.buildMonthCell(n,t));return r.appendChild(a),r}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function DateLocaleProvider(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}DateLocaleProvider.prototype.$get=function(e,t){function defaultFormatDate(e,n){if(!e)return"";var r=e.toLocaleTimeString(),i=e;return 0!==e.getHours()||-1===r.indexOf("11:")&&-1===r.indexOf("23:")||(i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),t("date")(i,"M/d/yyyy",n)}function defaultParseDate(e){return new Date(e)}function defaultIsDateComplete(e){return e=e.trim(),/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(e)}function defaultMonthHeaderFormatter(e){return s.shortMonths[e.getMonth()]+" "+e.getFullYear()}function defaultMonthFormatter(e){return s.months[e.getMonth()]+" "+e.getFullYear()}function defaultWeekNumberFormatter(e){return"Week "+e}function defaultLongDateFormatter(e){return[s.days[e.getDay()],s.months[e.getMonth()],s.dates[e.getDate()],e.getFullYear()].join(" ")}for(var n=e.DATETIME_FORMATS.SHORTDAY.map(function(e){return e.substring(0,1)}),r=Array(32),i=1;i<=31;i++)r[i]=i;var o=new Date(1880,0,1),a=new Date(o.getFullYear()+250,0,1),s={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||n,dates:this.dates||r,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||defaultFormatDate,parseDate:this.parseDate||defaultParseDate,isDateComplete:this.isDateComplete||defaultIsDateComplete,monthHeaderFormatter:this.monthHeaderFormatter||defaultMonthHeaderFormatter,monthFormatter:this.monthFormatter||defaultMonthFormatter,weekNumberFormatter:this.weekNumberFormatter||defaultWeekNumberFormatter,longDateFormatter:this.longDateFormatter||defaultLongDateFormatter,msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||o,lastRenderableDate:this.lastRenderableDate||a};return s},DateLocaleProvider.prototype.$get.$inject=["$locale","$filter"],e.provider("$mdDateLocale",new DateLocaleProvider)}])}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function getFirstDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),1)}function getNumberOfDaysInMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function getDateInNextMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function getDateInPreviousMonth(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function isSameMonthAndYear(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function isSameDay(e,t){return e.getDate()==t.getDate()&&isSameMonthAndYear(e,t)}function isInNextMonth(e,t){return isSameMonthAndYear(getDateInNextMonth(e),t)}function isInPreviousMonth(e,t){return isSameMonthAndYear(t,getDateInPreviousMonth(e))}function getDateMidpoint(e,t){return createDateAtMidnight((e.getTime()+t.getTime())/2)}function getWeekOfMonth(e){var t=getFirstDateOfMonth(e);return Math.floor((t.getDay()+e.getDate()-1)/7)}function incrementDays(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function incrementMonths(e,t){var n=new Date(e.getFullYear(),e.getMonth()+t,1),r=getNumberOfDaysInMonth(n);return r<e.getDate()?n.setDate(r):n.setDate(e.getDate()),n}function getMonthDistance(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function getLastDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),getNumberOfDaysInMonth(e))}function isValidDate(e){return e&&e.getTime&&!isNaN(e.getTime())}function setDateTimeToMidnight(e){isValidDate(e)&&e.setHours(0,0,0,0)}function createDateAtMidnight(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),setDateTimeToMidnight(n),n}function isDateWithinRange(e,t,n){var r=createDateAtMidnight(e),i=isValidDate(t)?createDateAtMidnight(t):null,o=isValidDate(n)?createDateAtMidnight(n):null;return(!i||i<=r)&&(!o||o>=r)}function incrementYears(e,t){return incrementMonths(e,12*t)}function getYearDistance(e,t){return t.getFullYear()-e.getFullYear()}function clampDate(e,t,n){var r=e;return t&&e<t&&(r=new Date(t.getTime())),n&&e>n&&(r=new Date(n.getTime())),r}function getTimestampFromNode(e){if(e&&e.hasAttribute("data-timestamp"))return Number(e.getAttribute("data-timestamp"))}function isMonthWithinRange(e,t,n){var r=e.getMonth(),i=e.getFullYear();return(!t||t.getFullYear()<i||t.getMonth()<=r)&&(!n||n.getFullYear()>i||n.getMonth()>=r)}return{getFirstDateOfMonth:getFirstDateOfMonth,getNumberOfDaysInMonth:getNumberOfDaysInMonth,getDateInNextMonth:getDateInNextMonth,getDateInPreviousMonth:getDateInPreviousMonth,isInNextMonth:isInNextMonth,isInPreviousMonth:isInPreviousMonth,getDateMidpoint:getDateMidpoint,isSameMonthAndYear:isSameMonthAndYear,getWeekOfMonth:getWeekOfMonth,incrementDays:incrementDays,incrementMonths:incrementMonths,getLastDateOfMonth:getLastDateOfMonth,isSameDay:isSameDay,getMonthDistance:getMonthDistance,isValidDate:isValidDate,setDateTimeToMidnight:setDateTimeToMidnight,createDateAtMidnight:createDateAtMidnight,isDateWithinRange:isDateWithinRange,incrementYears:incrementYears,getYearDistance:getYearDistance,clampDate:clampDate,getTimestampFromNode:getTimestampFromNode,isMonthWithinRange:isMonthWithinRange}})}()}(),function(){!function(){function datePickerDirective(e,n,a,s){return{template:function(t,n){var r=n.mdHideIcons,i=n.ariaLabel||n.mdPlaceholder,a="all"===r||"calendar"===r?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+e.mdCalendar+'"></md-icon></md-button>',s="";return"all"!==r&&"triangle"!==r&&(s='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',t.addClass(o)),a+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(i?'aria-label="'+i+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+s+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:DatePickerCtrl,controllerAs:"ctrl",bindToController:!0,link:function(e,o,l,c){var u=c[0],d=c[1],h=c[2],p=c[3],m=n.parseAttributeBoolean(l.mdNoAsterisk);if(d.configureNgModel(u,h,s),h){var f=o[0].querySelector(".md-errors-spacer");f&&o.after(t.element("<div>").append(f)),h.setHasPlaceholder(l.mdPlaceholder),h.input=o,h.element.addClass(r).toggleClass(i,"calendar"!==l.mdHideIcons&&"all"!==l.mdHideIcons),h.label?m||l.$observe("required",function(e){h.label.toggleClass("md-required",!!e)}):a.expect(o,"aria-label",l.mdPlaceholder),e.$watch(h.isErrorGetter||function(){return u.$invalid&&(u.$touched||p&&p.$submitted)},h.setInvalid)}else if(p)var g=e.$watch(function(){return p.$submitted},function(e){e&&(d.updateErrorState(),g())})}}}function DatePickerCtrl(n,r,i,o,s,l,c,u,d,h,p){this.$window=o,this.dateUtil=d,this.$mdConstant=s,this.$mdUtil=c,this.$$rAF=h,this.$mdDateLocale=u,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=r[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=r[0].querySelector(".md-datepicker-input-container"),this.calendarPane=r[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=r[0].querySelector(".md-datepicker-button"),this.inputMask=t.element(r[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=r,this.$attrs=i,this.$scope=n,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(r[0].disabled||t.isString(i.disabled)),this.isCalendarOpen=!1,this.openOnFocus=i.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+c.nextUid(),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowEventName=a.test(navigator.userAgent||navigator.vendor||e.opera)?"orientationchange":"resize",this.windowEventHandler=c.debounce(t.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=t.bind(this,this.handleWindowBlur),this.ngDateFilter=p("date"),this.leftMargin=20,this.topMargin=null,i.tabindex?(this.ngInputElement.attr("tabindex",i.tabindex),i.$set("tabindex",null)):i.$set("tabindex","-1"),i.$set("aria-owns",this.calendarPaneId),l(r),l(t.element(this.calendarPane));var m=this;n.$on("$destroy",function(){m.detachCalendarPane()}),i.mdIsOpen&&n.$watch("ctrl.isOpen",function(e){e?m.openCalendarPane({target:m.inputElement}):m.closeCalendarPane()}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}DatePickerCtrl.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"],datePickerDirective.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],t.module("material.components.datepicker").directive("mdDatepicker",datePickerDirective);var n="md-datepicker-open",r="_md-datepicker-floating-label",i="_md-datepicker-has-calendar-icon",o="_md-datepicker-has-triangle-icon",a=/ipad|iphone|ipod|android/i;DatePickerCtrl.prototype.$onInit=function(){this.locale=this.dateLocale?t.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},DatePickerCtrl.prototype.configureNgModel=function(e,n,r){this.ngModelCtrl=e,this.mdInputContainer=n,this.$attrs.$set("type","date"),r[0].link.pre(this.$scope,{on:t.noop,val:t.noop,0:{}},this.$attrs,[e]);var i=this;i.ngModelCtrl.$formatters.push(function(e){var n=t.isDefined(e)?Date.parse(e):null;if(!isNaN(n)&&t.isNumber(n)&&(e=new Date(n)),e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof e);return i.onExternalChange(e),e}),e.$viewChangeListeners.unshift(t.bind(this,this.updateErrorState));var o=i.$mdUtil.getModelOption(e,"updateOn");o&&this.ngInputElement.on(o,t.bind(this.$element,this.$element.triggerHandler,o))},DatePickerCtrl.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.setModelValue(n),e.onExternalChange(n),e.closeCalendarPane()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement));var n=t.isDefined(this.debounceInterval)?this.debounceInterval:500;e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,n,e))},DatePickerCtrl.prototype.attachInteractionListeners=function(){var e=this,n=this.$scope,r=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(t){t.altKey&&t.keyCode==r.DOWN_ARROW&&(e.openCalendarPane(t),n.$digest())}),e.openOnFocus&&(e.ngInputElement.on("focus",t.bind(e,e.openCalendarPane)),t.element(e.$window).on("blur",e.windowBlurHandler),n.$on("$destroy",function(){t.element(e.$window).off("blur",e.windowBlurHandler)})),n.$on("md-calendar-close",function(){e.closeCalendarPane()})},DatePickerCtrl.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$scope.$parent;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},DatePickerCtrl.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton&&(this.calendarButton.disabled=e)},DatePickerCtrl.prototype.updateErrorState=function(e){var n=e||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var r=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=r)}if(this.dateUtil.isValidDate(this.maxDate)){var i=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=i)}t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);t.element(this.inputContainer).toggleClass("md-datepicker-invalid",!this.ngModelCtrl.$valid)},DatePickerCtrl.prototype.clearErrorState=function(){this.inputContainer.classList.remove("md-datepicker-invalid"),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},DatePickerCtrl.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3},DatePickerCtrl.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.locale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t),(""==e||this.dateUtil.isValidDate(t)&&this.locale.isDateComplete(e)&&this.isDateEnabled(t))&&(this.setModelValue(t),this.date=t),this.updateErrorState(t)},DatePickerCtrl.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},DatePickerCtrl.prototype.attachCalendarPane=function(){var e=this.calendarPane,r=document.body;e.style.transform="",this.$element.addClass(n),this.mdInputContainer&&this.mdInputContainer.element.addClass(n),t.element(r).addClass("md-datepicker-is-showing");var i=this.inputContainer.getBoundingClientRect(),o=r.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var a=i.top-o.top-this.topMargin,s=i.left-o.left-this.leftMargin,l=o.top<0&&0==document.body.scrollTop?-o.top:document.body.scrollTop,c=o.left<0&&0==document.body.scrollLeft?-o.left:document.body.scrollLeft,u=l+this.$window.innerHeight,d=c+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:i.width-1+"px",height:i.height-2+"px"}),s+360>d){if(d-360>0)s=d-360;else{s=c;var h=this.$window.innerWidth/360;e.style.transform="scale("+h+")"}e.classList.add("md-datepicker-pos-adjusted")}a+368>u&&u-368>l&&(a=u-368,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=s+"px",e.style.top=a+"px",document.body.appendChild(e),this.$$rAF(function(){e.classList.add("md-pane-open")})},DatePickerCtrl.prototype.detachCalendarPane=function(){this.$element.removeClass(n),this.mdInputContainer&&this.mdInputContainer.element.removeClass(n),t.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},DatePickerCtrl.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener(this.windowEventName,this.windowEventHandler)}},DatePickerCtrl.prototype.closeCalendarPane=function(){function reset(){t.isCalendarOpen=t.isOpen=!1}if(this.isCalendarOpen){var t=this;t.detachCalendarPane(),t.ngModelCtrl.$setTouched(),t.evalAttr("ngBlur"),t.documentElement.off("click touchstart",t.bodyClickHandler),e.removeEventListener(t.windowEventName,t.windowEventHandler),t.calendarPaneOpenedFrom.focus(),t.calendarPaneOpenedFrom=null,t.openOnFocus?t.$mdUtil.nextTick(reset):reset()}},DatePickerCtrl.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},DatePickerCtrl.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},DatePickerCtrl.prototype.setFocused=function(e){e||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(e?"ngFocus":"ngBlur"),this.isFocused=e},DatePickerCtrl.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){this.$mdUtil.getClosest(e.target,"md-calendar")||this.closeCalendarPane(),this.$scope.$digest()}},DatePickerCtrl.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},DatePickerCtrl.prototype.evalAttr=function(e){this.$attrs[e]&&this.$scope.$parent.$eval(this.$attrs[e])},DatePickerCtrl.prototype.setModelValue=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(e,"yyyy-MM-dd",t))},DatePickerCtrl.prototype.onExternalChange=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=e,this.inputElement.value=this.locale.formatDate(e,t),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!e),this.resizeInputElement(),this.updateErrorState()}}()}(),function(){function mdIconDirective(e,t,n,r){function postLink(r,i,o){function fontIconChanged(){if(!o.mdSvgIcon&&!o.mdSvgSrc){o.mdFontIcon&&(i.removeClass(a),i.addClass(o.mdFontIcon),a=o.mdFontIcon);var t=e.fontSet(o.mdFontSet);s!==t&&(i.removeClass(s),i.addClass(t),s=t)}}t(i);var a=o.mdFontIcon,s=e.fontSet(o.mdFontSet);!function(){o.mdSvgIcon||o.mdSvgSrc||(o.mdFontIcon&&i.addClass("md-font "+o.mdFontIcon),i.addClass(s))}(),o.$observe("mdFontIcon",fontIconChanged),o.$observe("mdFontSet",fontIconChanged);var l=(i[0].getAttribute(o.$attr.mdSvgSrc),o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||""));if(o.role||(n.expect(i,"role","img"),o.role="img"),"img"===o.role&&!o.ariaHidden&&!n.hasAriaLabel(i)){var c;o.alt?n.expect(i,"aria-label",o.alt):n.parentHasAriaLabel(i,2)?n.expect(i,"aria-hidden","true"):(c=o.mdFontIcon||o.mdSvgIcon||i.text())?n.expect(i,"aria-label",c):n.expect(i,"aria-hidden","true")}l&&o.$observe(l,function(t){i.empty(),t&&e(t).then(function(e){i.empty(),i.append(e)})})}return{restrict:"E",link:postLink}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",mdIconDirective])}(),function(){function MdIconProvider(){}function ConfigurationItem(e,t){this.url=e,this.viewBoxSize=t||n.defaultViewBoxSize}function MdIconService(n,r,i,o,a,s){function getIcon(e){return e=e||"",t.isString(e)||(e=s.getTrustedUrl(e)),l[e]?i.when(transformClone(l[e])):u.test(e)||d.test(e)?loadByURL(e).then(cacheIcon(e)):(-1==e.indexOf(":")&&(e="$default:"+e),(n[e]?loadByID:loadFromIconSet)(e).then(cacheIcon(e)))}function findRegisteredFontSet(e){if(t.isUndefined(e)||!(e&&e.length))return n.defaultFontSet;var r=e;return t.forEach(n.fontSets,function(t){t.alias==e&&(r=t.fontSet||r)}),r}function transformClone(e){var n=e.clone(),r="_cache"+a.nextUid();return n.id&&(n.id+=r),t.forEach(n.querySelectorAll("[id]"),function(e){e.id+=r}),n}function cacheIcon(e){return function(t){return l[e]=isIcon(t)?t:new Icon(t,n[e]),l[e].clone()}}function loadByID(e){var t=n[e];return loadByURL(t.url).then(function(e){return new Icon(e,t)})}function loadFromIconSet(e){function extractFromSet(t){var n=e.slice(e.lastIndexOf(":")+1),i=t.querySelector("#"+n);return i?new Icon(i,r):announceIdNotFound(e)}function announceIdNotFound(e){var t="icon "+e+" not found";return o.warn(t),i.reject(t||e)}var t=e.substring(0,e.lastIndexOf(":"))||"$default",r=n[t];return r?loadByURL(r.url).then(extractFromSet):announceIdNotFound(e)}function loadByURL(n){return d.test(n)?function(n){var r=d.exec(n),o=/base64/i.test(n),a=o?e.atob(r[2]):r[2];return i.when(t.element(a)[0])}(n):function(e){return i(function(n,i){var a=function(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;o.warn(n),i(e)},s=function(r){c[e]||(c[e]=t.element("<div>").append(r)[0].querySelector("svg")),n(c[e])};r(e,!0).then(s,a)})}(n)}function isIcon(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function Icon(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.cloneNode(!0))[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function prepareAndStyle(){var e=this.config?this.config.viewBoxSize:n.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+e+" "+e,focusable:!1},function(e,t){this.element.setAttribute(t,e)},this)}function cloneSVG(){return this.element.cloneNode(!0)}var l={},c={},u=/[-\w@:%\+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&\/\/=]*)?/i,d=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return Icon.prototype={clone:cloneSVG,prepare:prepareAndStyle},getIcon.fontSet=findRegisteredFontSet,getIcon}MdIconService.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],t.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",MdIconProvider);var n={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};MdIconProvider.prototype={icon:function(e,t,r){return-1==e.indexOf(":")&&(e="$default:"+e),n[e]=new ConfigurationItem(t,r),this},iconSet:function(e,t,r){return n[e]=new ConfigurationItem(t,r),this},defaultIconSet:function(e,t){return n.$default||(n.$default=new ConfigurationItem(e,t)),n.$default.viewBoxSize=t||n.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return n.defaultViewBoxSize=e,this},fontSet:function(e,t){return n.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return n.defaultFontSet=e||"",this},defaultIconSize:function(e){return n.defaultIconSize=e,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(e,t,r,i,o){return MdIconService(n,e,t,r,i,o)}]}}(),function(){function MenuController(e,r,i,o,a,s,l,c,u){var d,h,p=a.prefixer(),m=this;this.nestLevel=parseInt(r.mdNestLevel,10)||0,this.init=function(n,r){r=r||{},d=n,h=i[0].querySelector(p.buildSelector(["ng-click","ng-mouseenter"])),h.setAttribute("aria-expanded","false"),this.isInMenuBar=r.isInMenuBar,this.nestedMenus=a.nodesToArray(d[0].querySelectorAll(".md-nested-menu")),d.on("$mdInterimElementRemove",function(){m.isOpen=!1,a.nextTick(function(){m.onIsOpenChanged(m.isOpen)})}),a.nextTick(function(){m.onIsOpenChanged(m.isOpen)});var s="menu_container_"+a.nextUid();d.attr("id",s),t.element(h).attr({"aria-owns":s,"aria-haspopup":"true"}),o.$on("$destroy",t.bind(this,function(){this.disableHoverListener(),e.destroy()})),d.on("$destroy",function(){e.destroy()})};var f,g,v=[];this.enableHoverListener=function(){v.push(l.$on("$mdMenuOpen",function(e,t){d[0].contains(t[0])&&(m.currentlyOpenMenu=t.controller("mdMenu"),m.isAlreadyOpening=!1,m.currentlyOpenMenu.registerContainerProxy(m.triggerContainerProxy.bind(m)))})),v.push(l.$on("$mdMenuClose",function(e,t){d[0].contains(t[0])&&(m.currentlyOpenMenu=n)})),g=t.element(a.nodesToArray(d[0].children[0].children)),g.on("mouseenter",m.handleMenuItemHover),g.on("mouseleave",m.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;v.length;)v.shift()();g&&g.off("mouseenter",m.handleMenuItemHover),g&&g.off("mouseleave",m.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(e){if(!m.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");f=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),m.currentlyOpenMenu&&m.currentlyOpenMenu!=n){var e=m.nestLevel+1;m.currentlyOpenMenu.close(!0,{closeTo:e}),m.isAlreadyOpening=!!n,n&&n.open()}else n&&!n.isOpen&&n.open&&(m.isAlreadyOpening=!!n,n&&n.open())},n?100:250);var r=e.currentTarget.querySelector(".md-button:not([disabled])");r&&r.focus()}},this.handleMenuItemMouseLeave=function(){f&&(s.cancel(f),f=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),m.isOpen||(m.enableHoverListener(),m.isOpen=!0,a.nextTick(function(){m.onIsOpenChanged(m.isOpen)}),h=h||(t?t.target:i[0]),h.setAttribute("aria-expanded","true"),o.$emit("$mdMenuOpen",i),e.show({scope:o,mdMenuCtrl:m,nestLevel:m.nestLevel,element:d,target:h,preserveElement:!0,parent:"body"}).finally(function(){h.setAttribute("aria-expanded","false"),m.disableHoverListener()}))},this.onIsOpenChanged=function(e){e?(d.attr("aria-hidden","false"),i[0].classList.add("md-open"),t.forEach(m.nestedMenus,function(e){e.classList.remove("md-open")})):(d.attr("aria-hidden","true"),i[0].classList.remove("md-open")),o.$mdMenuIsOpen=m.isOpen},this.focusMenuContainer=function(){var e=d[0].querySelector(p.buildSelector(["md-menu-focus-target","md-autofocus"]));e||(e=d[0].querySelector(".md-button:not([disabled])")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return m.isOpen?e.destroy():c.when(!1)},this.close=function(n,r){if(m.isOpen){m.isOpen=!1,a.nextTick(function(){m.onIsOpenChanged(m.isOpen)});var s=t.extend({},r,{skipFocus:n});if(o.$emit("$mdMenuClose",i,s),e.hide(null,r),!n){var l=m.restoreFocusTo||i.find("button")[0];l instanceof t.element&&(l=l[0]),l&&l.focus()}}},this.positionMode=function(){var e=(r.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(r.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},o.$mdMenu={open:this.open,close:this.close},o.$mdOpenMenu=t.bind(this,function(){return u.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}MenuController.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],t.module("material.components.menu").controller("mdMenuCtrl",MenuController)}(),function(){function MenuDirective(e){function compile(r){r.addClass("md-menu");var i=r.children()[0],o=r.children()[1],a=e.prefixer();a.hasAttribute(i,"ng-click")||(i=i.querySelector(a.buildSelector(["ng-click","ng-mouseenter"]))||i);var s="MD-BUTTON"===i.nodeName||"BUTTON"===i.nodeName;if(i&&s&&!i.hasAttribute("type")&&i.setAttribute("type","button"),!i)throw Error(n+"Expected the menu to have a trigger element.");if(!o||"MD-MENU-CONTENT"!==o.nodeName)throw Error(n+"Expected the menu to contain a `md-menu-content` element.");i&&i.setAttribute("aria-haspopup","true");var l=r[0].querySelectorAll("md-menu"),c=parseInt(r[0].getAttribute("md-nest-level"),10)||0;return l&&t.forEach(e.nodesToArray(l),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("_md-nested-menu"),e.setAttribute("md-nest-level",c+1)}),link}function link(e,n,r,i){var o=i[0],a=!!i[1],s=t.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),l=n.children()[1];n.addClass("_md"),l.hasAttribute("role")||l.setAttribute("role","menu"),s.append(l),n.on("$destroy",function(){s.remove()}),n.append(s),s[0].style.display="none",o.init(s,{isInMenuBar:a})}var n="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:compile}}MenuDirective.$inject=["$mdUtil"],t.module("material.components.menu").directive("mdMenu",MenuDirective)}(),function(){function MenuProvider(e){function menuDefaultOptions(e,i,o,a,s,l,c,u,d,h){function showBackdrop(n,r,i){return i.nestLevel?t.noop:(i.disableParentScroll&&!e.getClosest(i.target,"MD-DIALOG")?i.restoreScroll=e.disableScrollAround(i.element,i.parent):i.disableParentScroll=!1,i.hasBackdrop&&(i.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),d.enter(i.backdrop,a[0].body)),function(){i.backdrop&&i.backdrop.remove(),i.disableParentScroll&&i.restoreScroll()})}function onRemove(e,t,n){function detachAndClean(){t.removeClass("md-active"),detachElement(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),t.removeClass("md-clickable"),!0===n.$destroy?detachAndClean():function(){return u(t,{addClass:"md-leave"}).start()}().then(detachAndClean)}function onShow(n,r,a){function setupBackdrop(){return a.backdrop?(a.backdrop.on("click",onBackdropClick),function(){a.backdrop.off("click",onBackdropClick)}):t.noop}function onBackdropClick(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){a.mdMenuCtrl.close(!0,{closeAll:!0})})}function activateInteraction(){function onMenuKeyDown(t){var n;switch(t.keyCode){case o.KEY_CODE.ESCAPE:a.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case o.KEY_CODE.UP_ARROW:focusMenuItem(t,a.menuContentEl,a,-1)||a.nestLevel||a.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case o.KEY_CODE.DOWN_ARROW:focusMenuItem(t,a.menuContentEl,a,1)||a.nestLevel||a.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case o.KEY_CODE.LEFT_ARROW:a.nestLevel?a.mdMenuCtrl.close():a.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case o.KEY_CODE.RIGHT_ARROW:var r=e.getClosest(t.target,"MD-MENU");r&&r!=a.parent[0]?t.target.click():a.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function captureClickListener(t){function hasAnyAttribute(e,t){if(!e)return!1;for(var n,r=0;n=t[r];++r)if(p.hasAttribute(e,n))return!0;return!1}var r=t.target;do{if(r==a.menuContentEl[0])return;if((hasAnyAttribute(r,["ng-click","ng-href","ui-sref"])||"BUTTON"==r.nodeName||"MD-BUTTON"==r.nodeName)&&!hasAnyAttribute(r,["md-prevent-menu-close"])){var i=e.getClosest(r,"MD-MENU");r.hasAttribute("disabled")||i&&i!=a.parent[0]||function(){n.$apply(function(){a.mdMenuCtrl.close(!0,{closeAll:!0})})}();break}}while(r=r.parentNode)}if(!a.menuContentEl[0])return t.noop;a.menuContentEl.on("keydown",onMenuKeyDown),a.menuContentEl[0].addEventListener("click",captureClickListener,!0);var r=a.menuContentEl[0].querySelector(p.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!r)for(var i=a.menuContentEl[0].children.length,s=0;s<i;s++){var l=a.menuContentEl[0].children[s];if(r=l.querySelector(".md-button:not([disabled])"))break;if(l.firstElementChild&&!l.firstElementChild.disabled){r=l.firstElementChild;break}}return r&&r.focus(),function(){a.menuContentEl.off("keydown",onMenuKeyDown),a.menuContentEl[0].removeEventListener("click",captureClickListener,!0)}}return function(){if(!a.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(a,{alreadyOpen:!1,isRemoved:!1,target:t.element(a.target),parent:t.element(a.parent),menuContentEl:t.element(r[0].querySelector("md-menu-content"))})}(),a.menuContentEl[0]?i.inherit(a.menuContentEl,a.target):h.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",r),a.cleanupResizing=function(){var e=function(e,t){return c.throttle(function(){if(!a.isRemoved){var n=calculateMenuPosition(e,t);e.css(m.toCss(n))}})}(r,a);return s.addEventListener("resize",e),s.addEventListener("orientationchange",e),function(){s.removeEventListener("resize",e),s.removeEventListener("orientationchange",e)}}(),a.hideBackdrop=showBackdrop(n,r,a),function(){return a.parent.append(r),r[0].style.display="",l(function(e){var t=calculateMenuPosition(r,a);r.removeClass("md-leave"),u(r,{addClass:"md-active",from:m.toCss(t),to:m.toCss({transform:""})}).start().then(e)})}().then(function(e){return a.alreadyOpen=!0,a.cleanupInteraction=activateInteraction(),a.cleanupBackdrop=setupBackdrop(),r.addClass("md-clickable"),e})}function focusMenuItem(t,n,r,i){for(var o,a=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),l=s.indexOf(a),c=l+i;c>=0&&c<s.length;c+=i){if(o=attemptFocus(s[c].querySelector(".md-button")))break}return o}function attemptFocus(e){if(e&&-1!=e.getAttribute("tabindex"))return e.focus(),a[0].activeElement==e}function detachElement(e,t){t.preserveElement?toNode(e).style.display="none":toNode(e).parentNode===toNode(t.parent)&&toNode(t.parent).removeChild(toNode(e))}function calculateMenuPosition(t,i){var o,l=t[0],c=t[0].firstElementChild,u=c.getBoundingClientRect(),d=a[0].body,h=d.getBoundingClientRect(),m=s.getComputedStyle(c),f=i.target[0].querySelector(p.buildSelector("md-menu-origin"))||i.target[0],g=f.getBoundingClientRect(),v={left:h.left+r,top:Math.max(h.top,0)+r,bottom:Math.max(h.bottom,Math.max(h.top,0)+h.height)-r,right:h.right-r},y={top:0,left:0,right:0,bottom:0},_={top:0,left:0,right:0,bottom:0},b=i.mdMenuCtrl.positionMode();"target"!=b.top&&"target"!=b.left&&"target-right"!=b.left||(o=function(){for(var e=0;e<c.children.length;++e)if("none"!=s.getComputedStyle(c.children[e]).display)return c.children[e]}())&&(o=o.firstElementChild||o,o=o.querySelector(p.buildSelector("md-menu-align-target"))||o,y=o.getBoundingClientRect(),_={top:parseFloat(l.style.top||0),left:parseFloat(l.style.left||0)});var w={},x="top ";switch(b.top){case"target":w.top=_.top+g.top-y.top;break;case"cascade":w.top=g.top-parseFloat(m.paddingTop)-f.style.top;break;case"bottom":w.top=g.top+g.height;break;default:throw new Error('Invalid target mode "'+b.top+'" specified for md-menu on Y axis.')}var S="rtl"==e.bidi();switch(b.left){case"target":w.left=_.left+g.left-y.left,x+=S?"right":"left";break;case"target-left":w.left=g.left,x+="left";break;case"target-right":w.left=g.right-u.width+(u.right-y.right),x+="right";break;case"cascade":var C=S?g.left-u.width<v.left:g.right+u.width<v.right;w.left=C?g.right-f.style.left:g.left-f.style.left-u.width,x+=C?"left":"right";break;case"right":S?(w.left=g.right-g.width,x+="left"):(w.left=g.right-u.width,x+="right");break;case"left":S?(w.left=g.right-u.width,x+="right"):(w.left=g.left,x+="left");break;default:throw new Error('Invalid target mode "'+b.left+'" specified for md-menu on X axis.')}var E=i.mdMenuCtrl.offsets();w.top+=E.top,w.left+=E.left,function(e){e.top=Math.max(Math.min(e.top,v.bottom-l.offsetHeight),v.top),e.left=Math.max(Math.min(e.left,v.right-l.offsetWidth),v.left)}(w);var T=Math.round(100*Math.min(g.width/l.offsetWidth,1))/100,M=Math.round(100*Math.min(g.height/l.offsetHeight,1))/100;return{top:Math.round(w.top),left:Math.round(w.left),transform:i.alreadyOpen?n:e.supplant("scale({0},{1})",[T,M]),transformOrigin:x}}var p=e.prefixer(),m=e.dom.animator;return{parent:"body",onShow:onShow,onRemove:onRemove,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function toNode(e){return e instanceof t.element&&(e=e[0]),e}menuDefaultOptions.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var r=8;return e("$mdMenu").setDefaults({methods:["target"],options:menuDefaultOptions})}MenuProvider.$inject=["$$interimElementProvider"],t.module("material.components.menu").provider("$mdMenu",MenuProvider)}(),function(){function MenuBarController(n,r,i,o,a,s,l,c){this.$element=i,this.$attrs=o,this.$mdConstant=a,this.$mdUtil=l,this.$document=s,this.$scope=n,this.$rootScope=r,this.$timeout=c;var u=this;t.forEach(e,function(e){u[e]=t.bind(u,u[e])})}MenuBarController.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],t.module("material.components.menuBar").controller("MenuBarController",MenuBarController);var e=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];MenuBarController.prototype.init=function(){var e=this.$element,t=this.$mdUtil,r=this.$scope,i=this,o=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),o.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){-1!=i.getMenus().indexOf(n[0])&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),i.currentlyOpenMenu=n.controller("mdMenu"),i.currentlyOpenMenu.registerContainerProxy(i.handleKeyDown),i.enableOpenOnHover())})),o.push(this.$rootScope.$on("$mdMenuClose",function(r,o,a){var s=i.getMenus();if(-1!=s.indexOf(o[0])&&(e[0].classList.remove("md-open"),o[0].classList.remove("md-open")),e[0].contains(o[0])){for(var l=o[0];l&&-1==s.indexOf(l);)l=t.getClosest(l,"MD-MENU",!0);l&&(a.skipFocus||l.querySelector("button:not([disabled])").focus(),i.currentlyOpenMenu=n,i.disableOpenOnHover(),i.setKeyboardMode(!0))}})),r.$on("$destroy",function(){for(i.disableOpenOnHover();o.length;)o.shift()()}),this.setKeyboardMode(!0)},MenuBarController.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},MenuBarController.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var e=this;e.openOnHoverEnabled=!0,e.parentToolbar&&(e.parentToolbar.classList.add("md-has-open-menu"),e.$mdUtil.nextTick(function(){t.element(e.parentToolbar).on("click",e.handleParentClick)},!1)),t.element(e.getMenus()).on("mouseenter",e.handleMenuHover)}},MenuBarController.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},MenuBarController.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),t.element(this.parentToolbar).off("click",this.handleParentClick)),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},MenuBarController.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),r=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(r)},MenuBarController.prototype.scheduleOpenMenu=function(e){var t=this,r=this.$timeout;e!=t.currentlyOpenMenu&&(r.cancel(t.pendingMenuOpen),t.pendingMenuOpen=r(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},MenuBarController.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,r=this.currentlyOpenMenu,i=r&&r.isOpen;this.setKeyboardMode(!0);var o,a,s;switch(e.keyCode){case n.DOWN_ARROW:r?r.focusMenuContainer():this.openFocusedMenu(),o=!0;break;case n.UP_ARROW:r&&r.close(),o=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),i&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),i&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0}o&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},MenuBarController.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var r=!1;if(-1==n?(n=0,r=!0):(e<0&&n>0||e>0&&n<t.length-e)&&(n+=e,r=!0),r)return t[n].querySelector("button").focus(),t[n]},MenuBarController.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},MenuBarController.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},MenuBarController.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},MenuBarController.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");return t?this.getMenus().indexOf(t):-1},MenuBarController.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1},MenuBarController.prototype.handleParentClick=function(e){var n=this.querySelector("md-menu.md-open");n&&!n.contains(e.target)&&t.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function MenuBarDirective(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(r,i){return i.ariaRole||r[0].setAttribute("role","menubar"),t.forEach(r[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var r=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(r,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),r.find("md-menu-item").addClass("md-in-menu-bar"),function(e,t,r,i){t.addClass("_md"),n(e,t),i.init()}}}}MenuBarDirective.$inject=["$mdUtil","$mdTheming"],t.module("material.components.menuBar").directive("mdMenuBar",MenuBarDirective)}(),function(){function MenuDividerDirective(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",MenuDividerDirective)}(),function(){function MenuItemController(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}MenuItemController.$inject=["$scope","$element","$attrs"],t.module("material.components.menuBar").controller("MenuItemController",MenuItemController),MenuItemController.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},MenuItemController.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},MenuItemController.prototype.initClickListeners=function(){function isSelected(){if("radio"==o){var e=i.ngValue?r.$eval(i.ngValue):i.value;return n.$modelValue==e}return n.$modelValue}function setDisabled(e){e?s.off("click",l):s.on("click",l)}var e=this,n=this.ngModel,r=this.$scope,i=this.$attrs,o=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var a=this.iconEl,s=t.element(this.buttonEl),l=this.handleClick;i.$observe("disabled",setDisabled),setDisabled(i.disabled),n.$render=function(){e.clearNgAria(),isSelected()?(a.style.display="",s.attr("aria-checked","true")):(a.style.display="none",s.attr("aria-checked","false"))},r.$$postDigest(n.$render)},MenuItemController.prototype.handleClick=function(e){var t,n=this.mode,r=this.ngModel,i=this.$attrs;"checkbox"==n?t=!r.$modelValue:"radio"==n&&(t=i.ngValue?this.$scope.$eval(i.ngValue):i.value),r.$setViewValue(t),r.$render()}}(),function(){function MenuItemDirective(e,n,r){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,i){function setDefault(e,r,i){i=i||n,i instanceof t.element&&(i=i[0]),i.hasAttribute(e)||i.setAttribute(e,r)}var o=i.type;if("checkbox"!=o&&"radio"!=o||!n.hasClass("md-in-menu-bar"))setDefault("role","menuitem",n[0].querySelector("md-button, button, a"));else{var a=n[0].textContent,s=t.element('<md-button type="button"></md-button>'),l='<md-icon md-svg-src="'+r.mdChecked+'"></md-icon>';s.html(a),s.attr("tabindex","0"),n.html(""),n.append(t.element(l)),n.append(s),n.addClass("md-indent").removeClass("md-in-menu-bar"),setDefault("role","checkbox"==o?"menuitemcheckbox":"menuitemradio",s),function(r){var i=e.prefixer(r);t.forEach(i,function(e){if(n[0].hasAttribute(e)){var t=n[0].getAttribute(e);s[0].setAttribute(e,t),n[0].removeAttribute(e)}})}("ng-disabled")}return function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}}MenuItemDirective.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],t.module("material.components.menuBar").directive("mdMenuItem",MenuItemDirective)}(),function(){function MdProgressCircularDirective(e,n,r,i,o,a){function MdProgressCircularLink(a,p,m){function renderCircle(t,r,o,l,c,u){function renderFrame(e){_.attr("stroke-dashoffset",getDashLength(m,g,e,w)),_.attr("transform","rotate("+b+" "+m/2+" "+m/2+")")}var d=++S,h=i.now(),p=r-t,m=getSize(a.mdDiameter),g=getStroke(m),v=o||n.easeFn,y=l||n.duration,b=-90*(c||0),w=u||100;r===t?renderFrame(r):f=s(function animation(){var n=e.Math.max(0,e.Math.min(i.now()-h,y));renderFrame(v(n,t,p,y)),d===S&&n<y&&(f=s(animation))})}function animateIndeterminate(){renderCircle(b,w,n.easeFnIndeterminate,n.durationIndeterminate,x,75),x=++x%4}function startIndeterminateAnimation(){g||(g=o(animateIndeterminate,n.durationIndeterminate,0,!1),animateIndeterminate(),p.addClass(h).removeAttr("aria-valuenow"))}function cleanupIndeterminateAnimation(){g&&(o.cancel(g),g=null,p.removeClass(h))}var f,g,v=p[0],y=t.element(v.querySelector("svg")),_=t.element(v.querySelector("path")),b=n.startIndeterminate,w=n.endIndeterminate,x=0,S=0;r(p),p.toggleClass(d,m.hasOwnProperty("disabled")),a.mdMode===u&&startIndeterminateAnimation(),a.$on("$destroy",function(){cleanupIndeterminateAnimation(),f&&l(f)}),a.$watchGroup(["value","mdMode",function(){var e=v.disabled;return!0===e||!1===e?e:t.isDefined(p.attr("disabled"))}],function(e,t){var n=e[1],r=e[2];if(r!==t[2]&&p.toggleClass(d,!!r),r)cleanupIndeterminateAnimation();else if(n!==c&&n!==u&&(n=u,m.$set("mdMode",n)),n===u)startIndeterminateAnimation();else{var i=clamp(e[0]);cleanupIndeterminateAnimation(),p.attr("aria-valuenow",i),renderCircle(clamp(t[0]),i)}}),a.$watch("mdDiameter",function(t){var n=getSize(t),r=getStroke(n),i=clamp(a.value),o=n/2+"px",s={width:n+"px",height:n+"px"};y[0].setAttribute("viewBox","0 0 "+n+" "+n),y.css(s).css("transform-origin",o+" "+o+" "+o),p.css(s),_.attr("stroke-width",r),_.attr("stroke-linecap","square"),a.mdMode==u?(_.attr("d",getSvgArc(n,r,!0)),_.attr("stroke-dasharray",(n-r)*e.Math.PI*.75),_.attr("stroke-dashoffset",getDashLength(n,r,1,75))):(_.attr("d",getSvgArc(n,r,!1)),_.attr("stroke-dasharray",(n-r)*e.Math.PI),_.attr("stroke-dashoffset",getDashLength(n,r,0,100)),renderCircle(i,i))})}function getSvgArc(e,t,n){var r=e/2,i=t/2,o=r+","+i,a=i+","+r,s=r-i;return"M"+o+"A"+s+","+s+" 0 1 1 "+a+(n?"":"A"+s+","+s+" 0 0 1 "+o)}function getDashLength(t,n,r,i){return(t-n)*e.Math.PI*(3*(i||100)/100-r/100)}function clamp(t){return e.Math.max(0,e.Math.min(t||0,100))}function getSize(e){var t=n.progressSize;if(e){var r=parseFloat(e);return e.lastIndexOf("%")===e.length-1&&(r=r/100*t),r}return t}function getStroke(e){return n.strokeWidth/100*e}var s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||t.noop,l=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||t.noop,c="determinate",u="indeterminate",d="_md-progress-circular-disabled",h="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(e,n){if(e.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),t.isUndefined(n.mdMode)){var r=n.hasOwnProperty("value")?c:u;n.$set("mdMode",r)}else n.$set("mdMode",n.mdMode.trim());return MdProgressCircularLink}}}MdProgressCircularDirective.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],t.module("material.components.progressCircular").directive("mdProgressCircular",MdProgressCircularDirective)}(),function(){function MdProgressCircularProvider(){function linearEase(e,t,n,r){return n*e/r+t}function materialEase(e,t,n,r){var i=(e/=r)*e,o=i*e;return t+n*(6*o*i+-15*i*i+10*o)}var e={progressSize:50,strokeWidth:10,duration:100,easeFn:linearEase,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:materialEase,easingPresets:{linearEase:linearEase,materialEase:materialEase}};return{configure:function(n){return e=t.extend(e,n||{})},$get:function(){return e}}}t.module("material.components.progressCircular").provider("$mdProgressCircular",MdProgressCircularProvider)}(),function(){function MdTab(){function postLink(e,n,r,i){if(i){var o=i.getTabElementIndex(n),a=firstChild(n,"md-tab-body").remove(),s=firstChild(n,"md-tab-label").remove(),l=i.insertTab({scope:e,parent:e.$parent,index:o,element:n,template:a.html(),label:s.html()},o);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&i.select(l.getIndex(),!0)}),e.$watch("disabled",function(){i.refreshIndex()}),e.$watch(function(){return i.getTabElementIndex(n)},function(e){l.index=e,i.updateTabOrder()}),e.$on("$destroy",function(){i.removeTab(l)})}}function firstChild(e,n){for(var r=e[0].children,i=0,o=r.length;i<o;i++){var a=r[i];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(e,n){var r=firstChild(e,"md-tab-label"),i=firstChild(e,"md-tab-body");if(0===r.length&&(r=t.element("<md-tab-label></md-tab-label>"),n.label?r.text(n.label):r.append(e.contents()),0===i.length)){var o=e.contents().detach();i=t.element("<md-tab-body></md-tab-body>"),i.append(o)}return e.append(r),i.html()&&e.append(i),postLink},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",MdTab)}(),function(){function MdTabItem(){return{require:"^?mdTabs",link:function(e,t,n,r){r&&r.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",MdTabItem)}(),function(){function MdTabLabel(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",MdTabLabel)}(),function(){function MdTabScroll(e){return{restrict:"A",compile:function(t,n){var r=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){r(e,{$event:t})})})}}}}MdTabScroll.$inject=["$parse"],t.module("material.components.tabs").directive("mdTabScroll",MdTabScroll)}(),function(){function MdTabsController(e,r,i,o,a,s,l,c,u,d,h,p){function $onInit(){defineOneWayBinding("stretchTabs",handleStretchTabs),defineProperty("focusIndex",handleFocusIndexChange,m.selectedIndex||0),defineProperty("offsetLeft",handleOffsetChange,0),defineProperty("hasContent",handleHasContent,!1),defineProperty("maxTabWidth",handleMaxTabWidth,getMaxTabWidth()),defineProperty("shouldPaginate",handleShouldPaginate,!1),defineBooleanAttribute("noInkBar",handleInkBar),defineBooleanAttribute("dynamicHeight",handleDynamicHeight),defineBooleanAttribute("noPagination"),defineBooleanAttribute("swipeContent"),defineBooleanAttribute("noDisconnect"),defineBooleanAttribute("autoselect"),defineBooleanAttribute("noSelectClick"),defineBooleanAttribute("centerTabs",handleCenterTabs),defineBooleanAttribute("enableDisconnect"),m.scope=e,m.parent=e.$parent,m.tabs=[],m.lastSelectedIndex=null,m.hasFocus=!1,m.styleTabItemFocus=!1,m.shouldCenterTabs=shouldCenterTabs(),m.tabContentPrefix="tab-content-",setupTabsController()}function setupTabsController(){m.selectedIndex=m.selectedIndex||0,compileTemplate(),configureWatchers(),bindEvents(),d(r),s.nextTick(function(){g=getElements(),updateHeightFromContent(),adjustOffset(),updateInkBarStyles(),m.tabs[m.selectedIndex]&&m.tabs[m.selectedIndex].scope.select(),_=!0,updatePagination()})}function compileTemplate(){var e=c.$mdTabsTemplate,n=t.element(r[0].querySelector("md-tab-data"));n.html(e),u(n.contents())(m.parent),delete c.$mdTabsTemplate}function bindEvents(){t.element(i).on("resize",handleWindowResize),e.$on("$destroy",cleanup)}function configureWatchers(){e.$watch("$mdTabsCtrl.selectedIndex",handleSelectedIndexChange)}function defineOneWayBinding(e,t){var n=c.$normalize("md-"+e);t&&defineProperty(e,t),c.$observe(n,function(t){m[e]=t})}function defineBooleanAttribute(e,t){function updateValue(t){m[e]="false"!==t}var n=c.$normalize("md-"+e);t&&defineProperty(e,t),c.hasOwnProperty(n)&&updateValue(c[n]),c.$observe(n,updateValue)}function cleanup(){y=!0,t.element(i).off("resize",handleWindowResize)}function handleStretchTabs(e){var n=getElements();t.element(n.wrapper).toggleClass("md-stretch-tabs",shouldStretchTabs()),updateInkBarStyles()}function handleCenterTabs(e){m.shouldCenterTabs=shouldCenterTabs()}function handleMaxTabWidth(e,n){if(e!==n){var r=getElements();t.forEach(r.tabs,function(t){t.style.maxWidth=e+"px"}),t.forEach(r.dummies,function(t){t.style.maxWidth=e+"px"}),s.nextTick(m.updateInkBarStyles)}}function handleShouldPaginate(e,t){e!==t&&(m.maxTabWidth=getMaxTabWidth(),m.shouldCenterTabs=shouldCenterTabs(),s.nextTick(function(){m.maxTabWidth=getMaxTabWidth(),adjustOffset(m.selectedIndex)}))}function handleHasContent(e){r[e?"removeClass":"addClass"]("md-no-tab-content")}function handleOffsetChange(n){var r=getElements(),i=(m.shouldCenterTabs||isRtl()?"":"-")+n+"px";i=i.replace("--",""),t.element(r.paging).css(o.CSS.TRANSFORM,"translate3d("+i+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function handleFocusIndexChange(e,t){e!==t&&getElements().tabs[e]&&(adjustOffset(),redirectFocus())}function handleSelectedIndexChange(t,n){t!==n&&(m.selectedIndex=getNearestSafeIndex(t),m.lastSelectedIndex=n,m.updateInkBarStyles(),updateHeightFromContent(),adjustOffset(t),e.$broadcast("$mdTabsChanged"),m.tabs[n]&&m.tabs[n].scope.deselect(),m.tabs[t]&&m.tabs[t].scope.select())}function getTabElementIndex(e){var t=r[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function handleResizeWhenVisible(){handleResizeWhenVisible.watcher||(handleResizeWhenVisible.watcher=e.$watch(function(){s.nextTick(function(){handleResizeWhenVisible.watcher&&r.prop("offsetParent")&&(handleResizeWhenVisible.watcher(),handleResizeWhenVisible.watcher=null,handleWindowResize())},!1)}))}function keydown(e){switch(e.keyCode){case o.KEY_CODE.LEFT_ARROW:e.preventDefault(),incrementIndex(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:e.preventDefault(),incrementIndex(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:e.preventDefault(),f||select(m.focusIndex);break;case o.KEY_CODE.TAB:m.focusIndex!==m.selectedIndex&&(m.focusIndex=m.selectedIndex)}}function select(e,t){f||(m.focusIndex=m.selectedIndex=e),t&&m.noSelectClick||s.nextTick(function(){m.tabs[e].element.triggerHandler("click")},!1)}function scroll(e){m.shouldPaginate&&(e.preventDefault(),m.offsetLeft=fixOffset(m.offsetLeft-e.wheelDelta))}function nextPage(){if(m.canPageForward()){var e=p.increasePageOffset(getElements(),m.offsetLeft);m.offsetLeft=fixOffset(e)}}function previousPage(){if(m.canPageBack()){var e=p.decreasePageOffset(getElements(),m.offsetLeft);m.offsetLeft=fixOffset(e)}}function handleWindowResize(){m.lastSelectedIndex=m.selectedIndex,m.offsetLeft=fixOffset(m.offsetLeft),s.nextTick(function(){m.updateInkBarStyles(),updatePagination()})}function handleInkBar(e){t.element(getElements().inkBar).toggleClass("ng-hide",e)}function handleDynamicHeight(e){r.toggleClass("md-dynamic-height",e)}function removeTab(e){if(!y){var t=m.selectedIndex,n=m.tabs.splice(e.getIndex(),1)[0];refreshIndex(),m.selectedIndex===t&&(n.scope.deselect(),m.tabs[m.selectedIndex]&&m.tabs[m.selectedIndex].scope.select()),s.nextTick(function(){updatePagination(),m.offsetLeft=fixOffset(m.offsetLeft)})}}function insertTab(e,n){var r=_,i={getIndex:function(){return m.tabs.indexOf(o)},isActive:function(){return this.getIndex()===m.selectedIndex},isLeft:function(){return this.getIndex()<m.selectedIndex},isRight:function(){return this.getIndex()>m.selectedIndex},shouldRender:function(){return!m.noDisconnect||this.isActive()},hasFocus:function(){return m.styleTabItemFocus&&m.hasFocus&&this.getIndex()===m.focusIndex},id:s.nextUid(),hasContent:!(!e.template||!e.template.trim())},o=t.extend(i,e);return t.isDefined(n)?m.tabs.splice(n,0,o):m.tabs.push(o),processQueue(),updateHasContent(),s.nextTick(function(){updatePagination(),setAriaControls(o),r&&m.autoselect&&s.nextTick(function(){s.nextTick(function(){select(m.tabs.indexOf(o))})})}),o}function getElements(){var e={},t=r[0];return e.wrapper=t.querySelector("md-tabs-wrapper"),e.canvas=e.wrapper.querySelector("md-tabs-canvas"),e.paging=e.canvas.querySelector("md-pagination-wrapper"),e.inkBar=e.paging.querySelector("md-ink-bar"),e.nextButton=t.querySelector("md-next-button"),e.prevButton=t.querySelector("md-prev-button"),e.contents=t.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),e.tabs=e.paging.querySelectorAll("md-tab-item"),e.dummies=e.canvas.querySelectorAll("md-dummy-tab"),e}function canPageBack(){return m.offsetLeft>0}function canPageForward(){var e=getElements(),t=e.tabs[e.tabs.length-1];return isRtl()?m.offsetLeft<e.paging.offsetWidth-e.canvas.offsetWidth:t&&t.offsetLeft+t.offsetWidth>e.canvas.clientWidth+m.offsetLeft}function getFocusedTabId(){var e=m.tabs[m.focusIndex];return e&&e.id?"tab-item-"+e.id:null}function shouldStretchTabs(){switch(m.stretchTabs){case"always":return!0;case"never":return!1;default:return!m.shouldPaginate&&i.matchMedia("(max-width: 600px)").matches}}function shouldCenterTabs(){return m.centerTabs&&!m.shouldPaginate}function shouldPaginate(){if(m.noPagination||!_)return!1;var e=r.prop("clientWidth");return t.forEach(getElements().tabs,function(t){e-=t.offsetWidth}),e<0}function getNearestSafeIndex(e){if(-1===e)return-1;var t,n,r=Math.max(m.tabs.length-e,e);for(t=0;t<=r;t++){if((n=m.tabs[e+t])&&!0!==n.scope.disabled)return n.getIndex();if((n=m.tabs[e-t])&&!0!==n.scope.disabled)return n.getIndex()}return e}function defineProperty(e,t,n){Object.defineProperty(m,e,{get:function(){return n},set:function(e){var r=n;n=e,t&&t(e,r)}})}function updatePagination(){m.maxTabWidth=getMaxTabWidth(),m.shouldPaginate=shouldPaginate()}function calcTabsWidth(e){var n=0;return t.forEach(e,function(e){n+=Math.max(e.offsetWidth,e.getBoundingClientRect().width)}),Math.ceil(n)}function getMaxTabWidth(){var e=getElements(),t=e.canvas.clientWidth;return Math.max(0,Math.min(t-1,264))}function updateTabOrder(){var e=m.tabs[m.selectedIndex],t=m.tabs[m.focusIndex];m.tabs=m.tabs.sort(function(e,t){return e.index-t.index}),m.selectedIndex=m.tabs.indexOf(e),m.focusIndex=m.tabs.indexOf(t)}function incrementIndex(e,t){var n,r=t?"focusIndex":"selectedIndex",i=m[r];for(n=i+e;m.tabs[n]&&m.tabs[n].scope.disabled;n+=e);n=(i+e+m.tabs.length)%m.tabs.length,m.tabs[n]&&(m[r]=n)}function redirectFocus(){m.styleTabItemFocus="keyboard"===h.getLastInteractionType(),getElements().tabs[m.focusIndex].focus()}function adjustOffset(e){var n=getElements();if(t.isNumber(e)||(e=m.focusIndex),n.tabs[e]&&!m.shouldCenterTabs){var r=n.tabs[e],i=r.offsetLeft,o=r.offsetWidth+i;if(0==e)return void(m.offsetLeft=0);if(isRtl()){var a=calcTabsWidth(Array.prototype.slice.call(n.tabs,0,e)),s=calcTabsWidth(Array.prototype.slice.call(n.tabs,0,e+1));m.offsetLeft=Math.min(m.offsetLeft,fixOffset(a)),m.offsetLeft=Math.max(m.offsetLeft,fixOffset(s-n.canvas.clientWidth))}else m.offsetLeft=Math.max(m.offsetLeft,fixOffset(o-n.canvas.clientWidth+32)),m.offsetLeft=Math.min(m.offsetLeft,fixOffset(i))}}function processQueue(){v.forEach(function(e){s.nextTick(e)}),v=[]}function updateHasContent(){for(var e=!1,t=0;t<m.tabs.length;t++)if(m.tabs[t].hasContent){e=!0;break}m.hasContent=e}function refreshIndex(){m.selectedIndex=getNearestSafeIndex(m.selectedIndex),m.focusIndex=getNearestSafeIndex(m.focusIndex)}function updateHeightFromContent(){if(!m.dynamicHeight)return r.css("height","");if(!m.tabs.length)return v.push(updateHeightFromContent);var e=getElements(),t=e.contents[m.selectedIndex],i=t?t.offsetHeight:0,o=e.wrapper.offsetHeight,a=i+o,c=r.prop("clientHeight");if(c!==a){"bottom"===r.attr("md-align-tabs")&&(c-=o,a-=o,r.attr("md-border-bottom")!==n&&++c),f=!0;var u={height:c+"px"},d={height:a+"px"};r.css(u),l(r,{from:u,to:d,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){r.css({transition:"none",height:""}),s.nextTick(function(){r.css("transition","")}),f=!1})}}function updateInkBarStyles(){var e=getElements();if(!e.tabs[m.selectedIndex])return void t.element(e.inkBar).css({left:"auto",right:"auto"});if(!m.tabs.length)return v.push(m.updateInkBarStyles);if(!r.prop("offsetParent"))return handleResizeWhenVisible();var n=m.selectedIndex,i=e.paging.offsetWidth,o=e.tabs[n],a=o.offsetLeft,l=i-a-o.offsetWidth;if(m.shouldCenterTabs){i>calcTabsWidth(e.tabs)&&s.nextTick(updateInkBarStyles,!1)}updateInkBarClassName(),t.element(e.inkBar).css({left:a+"px",right:l+"px"})}function updateInkBarClassName(){var e=getElements(),n=m.selectedIndex,r=m.lastSelectedIndex,i=t.element(e.inkBar);t.isNumber(r)&&i.toggleClass("md-left",n<r).toggleClass("md-right",n>r)}function fixOffset(e){var t=getElements();if(!t.tabs.length||!m.shouldPaginate)return 0;var n=t.tabs[t.tabs.length-1],r=n.offsetLeft+n.offsetWidth;return isRtl()?(e=Math.min(t.paging.offsetWidth-t.canvas.clientWidth,e),e=Math.max(0,e)):(e=Math.max(0,e),e=Math.min(r-t.canvas.clientWidth,e)),e}function attachRipple(e,n){var r=getElements(),i={colorElement:t.element(r.inkBar)};a.attach(e,n,i)}function setAriaControls(e){if(e.hasContent){var n=r[0].querySelectorAll('[md-tab-id="'+e.id+'"]');t.element(n).attr("aria-controls",m.tabContentPrefix+e.id)}}function isRtl(){return"rtl"==s.bidi()}var m=this,f=!1,g=getElements(),v=[],y=!1,_=!1;m.$onInit=$onInit,m.updatePagination=s.debounce(updatePagination,100),m.redirectFocus=redirectFocus,m.attachRipple=attachRipple,m.insertTab=insertTab,m.removeTab=removeTab,m.select=select,m.scroll=scroll,m.nextPage=nextPage,m.previousPage=previousPage,m.keydown=keydown,m.canPageForward=canPageForward,m.canPageBack=canPageBack,m.refreshIndex=refreshIndex,m.incrementIndex=incrementIndex,m.getTabElementIndex=getTabElementIndex,m.updateInkBarStyles=s.debounce(updateInkBarStyles,100),m.updateTabOrder=s.debounce(updateTabOrder,100),m.getFocusedTabId=getFocusedTabId,1===t.version.major&&t.version.minor<=4&&this.$onInit()}MdTabsController.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","MdTabsPaginationService"],t.module("material.components.tabs").controller("MdTabsController",MdTabsController)}(),function(){function MdTabs(e){return{scope:{selectedIndex:"=?mdSelected"},template:function(t,n){return n.$mdTabsTemplate=t.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist"> <md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}MdTabs.$inject=["$$mdSvgRegistry"],t.module("material.components.tabs").directive("mdTabs",MdTabs)}(),function(){function MdTabsDummyWrapper(e,t){return{require:"^?mdTabs",link:function(n,r,i,o){if(o){var a,s,l=function(){o.updatePagination(),o.updateInkBarStyles()};if("MutationObserver"in t){var c={childList:!0,subtree:!0,characterData:!0};a=new MutationObserver(l),a.observe(r[0],c),s=a.disconnect.bind(a)}else{var u=e.debounce(l,15,null,!1);r.on("DOMSubtreeModified",u),s=r.off.bind(r,"DOMSubtreeModified",u)}n.$on("$destroy",function(){s()})}}}}MdTabsDummyWrapper.$inject=["$mdUtil","$window"],t.module("material.components.tabs").directive("mdTabsDummyWrapper",MdTabsDummyWrapper)}(),function(){function MdTabsTemplate(e,t){function link(n,r,i,o){function handleScope(){n.$watch("connected",function(e){!1===e?disconnect():reconnect()}),n.$on("$destroy",reconnect)}function disconnect(){o.enableDisconnect&&t.disconnectScope(a)}function reconnect(){o.enableDisconnect&&t.reconnectScope(a)}if(o){var a=o.enableDisconnect?n.compileScope.$new():n.compileScope;return r.html(n.template),e(r.contents())(a),t.nextTick(handleScope)}}return{restrict:"A",link:link,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}MdTabsTemplate.$inject=["$compile","$mdUtil"],t.module("material.components.tabs").directive("mdTabsTemplate",MdTabsTemplate)}(),function(){t.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple{color:"{{warn-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}')}()}(window,window.angular),window.ngMaterial={version:{full:"1.1.4-master-baa869a"}}},function(e,t){!function(e,t,n){"use strict";function mdBody(){function compile(e){e.addClass("md-body")}return{compile:compile,restrict:"A"}}function mdCell(){function compile(e){var t=e.find("md-select");return t.length&&t.addClass("md-table-select").attr("md-container-class","md-table-select"),e.addClass("md-cell"),postLink}function Controller(){}function postLink(e,t,n,r){function getColumn(){return a.$$columns[getIndex()]}function getIndex(){return Array.prototype.indexOf.call(t.parent().children(),t[0])}var i=t.find("md-select"),o=r.shift(),a=r.shift();n.ngClick&&t.addClass("md-clickable"),i.length&&(i.on("click",function(e){e.stopPropagation()}),t.addClass("md-clickable").on("click",function(e){e.stopPropagation(),i[0].click()})),o.getTable=a.getElement,e.$watch(getColumn,function(e){e&&(e.numeric?t.addClass("md-numeric"):t.removeClass("md-numeric"))})}return{controller:Controller,compile:compile,require:["mdCell","^^mdTable"],restrict:"A"}}function mdColumn(e,n){function compile(e){return e.addClass("md-column"),postLink}function postLink(r,i,o,a){function attachSortIcon(){var n=t.element('<md-icon md-svg-icon="arrow-up.svg">');e(n.addClass("md-sort-icon").attr("ng-class","getDirection()"))(r),i.hasClass("md-numeric")?i.prepend(n):i.append(n)}function detachSortIcon(){Array.prototype.some.call(i.find("md-icon"),function(e){return e.classList.contains("md-sort-icon")&&i[0].removeChild(e)})}function disableSorting(){detachSortIcon(),i.removeClass("md-sort").off("click",setOrder)}function enableSorting(){attachSortIcon(),i.addClass("md-sort").on("click",setOrder)}function getIndex(){return Array.prototype.indexOf.call(i.parent().children(),i[0])}function isActive(){return r.orderBy&&(s.order===r.orderBy||s.order==="-"+r.orderBy)}function isNumeric(){return""===o.mdNumeric||r.numeric}function setOrder(){r.$applyAsync(function(){isActive()?s.order="md-asc"===r.getDirection()?"-"+r.orderBy:r.orderBy:s.order="md-asc"===r.getDirection()?r.orderBy:"-"+r.orderBy,t.isFunction(s.onReorder)&&n.nextTick(function(){s.onReorder(s.order)})})}function updateColumn(e,t){l.$$columns[e]=t,t.numeric?i.addClass("md-numeric"):i.removeClass("md-numeric")}var s=a.shift(),l=a.shift();r.getDirection=function(){return isActive()?"-"===s.order.charAt(0)?"md-desc":"md-asc":""===o.mdDesc||r.$eval(o.mdDesc)?"md-desc":"md-asc"},r.$watch(isActive,function(e){e?i.addClass("md-active"):i.removeClass("md-active")}),r.$watch(getIndex,function(e){updateColumn(e,{numeric:isNumeric()})}),r.$watch(isNumeric,function(e){updateColumn(getIndex(),{numeric:e})}),r.$watch("orderBy",function(e){e?i.hasClass("md-sort")||enableSorting():i.hasClass("md-sort")&&disableSorting()})}return{compile:compile,require:["^^mdHead","^^mdTable"],restrict:"A",scope:{numeric:"=?mdNumeric",orderBy:"@?mdOrderBy"}}}function controllerDecorator(e){return function(n,r,i,o){if(i&&"object"==typeof i){var a=e(n,r,!0,o);return t.extend(a.instance,i),a()}return e(n,r,i,o)}}function mdEditDialog(e,n,r,i,o,a,s,l,c){function build(n,r){var o,s=a.$new(),l=e(n)(s),c=i.createBackdrop(s,"md-edit-dialog-backdrop");return r.controller?o=getController(r,s,{$element:l,$scope:s}):t.extend(s,r.scope),r.disableScroll&&disableScroll(l),h.prepend(c).append(l.addClass("md-whiteframe-1dp")),positionDialog(l,r.target),r.focusOnOpen&&focusOnOpen(l),r.clickOutsideToClose&&c.on("click",function(){l.remove()}),r.escToClose&&escToClose(l),l.on("$destroy",function(){d=!1,c.remove()}),o}function disableScroll(e){var t=i.disableScrollAround(e,h);e.on("$destroy",function(){t()})}function getController(e,r,i){if(e.controller)return e.resolve&&t.extend(i,e.resolve),e.locals&&t.extend(i,e.locals),e.controllerAs?(r[e.controllerAs]={},e.bindToController?t.extend(r[e.controllerAs],e.scope):t.extend(r,e.scope)):t.extend(r,e.scope),e.bindToController?n(e.controller,i,r[e.controllerAs]):n(e.controller,i)}function getTemplate(e){return o(function(n,r){var i=e.template;if(i)return t.isString(i)?n(i):function(e){r("Unexpected template value. Expected a string; received a "+e+".")}(typeof i);if(e.templateUrl){if(i=s.get(e.templateUrl))return n(i);var o=function(e){return n(e)},a=function(){return r("Error retrieving template from URL.")};return l(e.templateUrl).then(o,a)}r("Template not provided.")})}function logError(e){d=!1,console.error(e)}function escToClose(e){var t=function(t){t.keyCode===u&&e.remove()};h.on("keyup",t),e.on("$destroy",function(){h.off("keyup",t)})}function focusOnOpen(e){i.nextTick(function(){var t=i.findFocusTarget(e);t&&t.focus()},!1)}function positionDialog(e,n){var r=t.element(n).controller("mdCell").getTable(),i=function(){return e.prop("clientHeight")},o=function(){return{width:l(),height:i()}},s=function(){var e=r.parent();return"MD-TABLE-CONTAINER"===e.prop("tagName")?e[0].getBoundingClientRect():r[0].getBoundingClientRect()},l=function(){return e.prop("clientWidth")},u=function(){var t=o(),r=n.getBoundingClientRect(),i=s();t.width>i.right-r.left?e.css("left",i.right-t.width+"px"):e.css("left",r.left+"px"),t.height>i.bottom-r.top?e.css("top",i.bottom-t.height+"px"):e.css("top",r.top+1+"px"),e.css("minWidth",r.width+"px")},d=a.$watch(l,u),h=a.$watch(i,u);c.addEventListener("resize",u),e.on("$destroy",function(){d(),h(),c.removeEventListener("resize",u)})}function preset(e,n){return{controller:["$element","$q","save","$scope",function(e,n,r,i){function update(){return i.editDialog.$invalid?n.reject():t.isFunction(r)?n.when(r(i.editDialog.input)):n.resolve()}this.dismiss=function(){e.remove()},this.getInput=function(){return i.editDialog.input},i.dismiss=this.dismiss,i.submit=function(){update().then(function(){i.dismiss()})}}],locals:{save:n.save},scope:{cancel:n.cancel||"Cancel",messages:n.messages,model:n.modelValue,ok:n.ok||"Save",placeholder:n.placeholder,title:n.title,size:e},template:'<md-edit-dialog><div layout="column" class="md-content"><div ng-if="size === \'large\'" class="md-title">{{title || \'Edit\'}}</div><form name="editDialog" layout="column" ng-submit="submit(model)"><md-input-container md-no-float><input name="input" ng-model="model" md-autofocus placeholder="{{placeholder}} "'+function(){var e='type="'+(n.type||"text")+'"';for(var t in n.validators)e+=" "+t+'="'+n.validators[t]+'"';return e}()+'><div ng-messages="editDialog.input.$error"><div ng-repeat="(key, message) in messages" ng-message="{{key}}">{{message}}</div></div></md-input-container></form></div><div ng-if="size === \'large\'" layout="row" layout-align="end" class="md-actions"><md-button class="md-primary" ng-click="dismiss()">{{cancel}}</md-button><md-button class="md-primary" ng-click="submit()">{{ok}}</md-button></div></md-edit-dialog>'}}var u=27,d=!1,h=t.element(r.prop("body")),p={clickOutsideToClose:!0,disableScroll:!0,escToClose:!0,focusOnOpen:!0};return this.show=function(e){if(d)return o.reject();if(d=!0,e=t.extend({},p,e),!e.targetEvent)return logError("options.targetEvent is required to align the dialog with the table cell.");if(!e.targetEvent.currentTarget.classList.contains("md-cell"))return logError("The event target must be a table cell.");if(e.bindToController&&!e.controllerAs)return logError("You must define options.controllerAs when options.bindToController is true.");e.target=e.targetEvent.currentTarget;var n=getTemplate(e),r=[n];for(var i in e.resolve)n=e.resolve[i],r.push(o.when(t.isFunction(n)?n():n));return n=o.all(r),n.catch(logError),n.then(function(t){var n=t.shift();for(var r in e.resolve)e.resolve[r]=t.shift();return build(n,e)})},this.small=function(e){return this.show(t.extend({},e,preset("small",e)))}.bind(this),this.large=function(e){return this.show(t.extend({},e,preset("large",e)))}.bind(this),this}function mdFoot(){function compile(e){e.addClass("md-foot")}return{compile:compile,restrict:"A"}}function mdHead(e){function compile(e){return e.addClass("md-head"),postLink}function Controller(){}function postLink(n,r,i,o){function addCheckboxColumn(){r.children().prepend('<th class="md-column md-checkbox-column">')}function attatchCheckbox(){r.prop("lastElementChild").firstElementChild.appendChild(e(createCheckBox())(n)[0])}function createCheckBox(){return t.element("<md-checkbox>").attr({"aria-label":"Select All","ng-click":"toggleAll()","ng-checked":"allSelected()","ng-disabled":"!getSelectableRows().length"})}function detachCheckbox(){var e=r.prop("lastElementChild").firstElementChild;e.classList.contains("md-checkbox-column")&&t.element(e).empty()}function enableRowSelection(){return o.$$rowSelect}function mdSelectCtrl(e){return t.element(e).controller("mdSelect")}function removeCheckboxColumn(){Array.prototype.some.call(r.find("th"),function(e){return e.classList.contains("md-checkbox-column")&&e.remove()})}var a=new Array(2);n.allSelected=function(){var e=n.getSelectableRows();return e.length&&e.every(function(e){return e.isSelected()})},n.getSelectableRows=function(){return o.getBodyRows().map(mdSelectCtrl).filter(function(e){return e&&!e.disabled})},n.selectAll=function(){o.getBodyRows().map(mdSelectCtrl).forEach(function(e){e&&!e.isSelected()&&e.select()})},n.toggleAll=function(){return n.allSelected()?n.unSelectAll():n.selectAll()},n.unSelectAll=function(){o.getBodyRows().map(mdSelectCtrl).forEach(function(e){e&&e.isSelected()&&e.deselect()})},n.$watchGroup([enableRowSelection,o.enableMultiSelect],function(e){e[0]!==a[0]?e[0]?(addCheckboxColumn(),e[1]&&attatchCheckbox()):removeCheckboxColumn():e[0]&&e[1]!==a[1]&&(e[1]?attatchCheckbox():detachCheckbox()),t.copy(e,a)})}return{bindToController:!0,compile:compile,controller:Controller,controllerAs:"$mdHead",require:"^^mdTable",restrict:"A",scope:{order:"=?mdOrder",onReorder:"=?mdOnReorder"}}}function mdRow(){function compile(e){return e.addClass("md-row"),postLink}function postLink(e,n,r,i){function enableRowSelection(){return i.$$rowSelect}function isChild(e){return n[0].contains(e[0])}if(function(){return-1!==i.getBodyRows().indexOf(n[0])}()){var o=t.element('<td class="md-cell">');e.$watch(enableRowSelection,function(e){if(e&&!r.mdSelect)return void(isChild(o)||n.prepend(o));isChild(o)&&o.remove()})}}return{compile:compile,require:"^^mdTable",restrict:"A"}}function mdSelect(e,n){function Controller(){}function postLink(r,i,o,a){function autoSelect(){return""===o.mdAutoSelect||s.autoSelect}function createCheckbox(){var n=t.element("<md-checkbox>").attr({"aria-label":"Select Row","ng-click":"$mdSelect.toggle($event)","ng-checked":"$mdSelect.isSelected()","ng-disabled":"$mdSelect.disabled"});return t.element('<td class="md-cell md-checkbox-cell">').append(e(n)(r))}function disableSelection(){Array.prototype.some.call(i.children(),function(e){return e.classList.contains("md-checkbox-cell")&&i[0].removeChild(e)}),autoSelect()&&i.off("click",toggle)}function enableSelection(){i.prepend(createCheckbox()),autoSelect()&&i.on("click",toggle)}function enableRowSelection(){return l.$$rowSelect}function onSelectChange(e){if(s.id)return l.$$hash.has(s.id)?void(-1===e.indexOf(l.$$hash.get(s.id))&&l.$$hash.purge(s.id)):void(-1!==e.indexOf(s.model)&&l.$$hash.update(s.id,s.model))}function toggle(e){r.$applyAsync(function(){s.toggle(e)})}var s=a.shift(),l=a.shift(),c=n(o.mdSelectId);if(s.id=c(s.model),l.$$rowSelect&&s.id)if(l.$$hash.has(s.id)){var u=l.selected.indexOf(l.$$hash.get(s.id));-1===u?l.$$hash.purge(s.id):l.$$hash.equals(s.id,s.model)||(l.$$hash.update(s.id,s.model),l.selected.splice(u,1,s.model))}else l.selected.some(function(e,t){if(c(e)===s.id)return l.$$hash.update(s.id,s.model),l.selected.splice(t,1,s.model),!0});s.isSelected=function(){return!!l.$$rowSelect&&(s.id?l.$$hash.has(s.id):-1!==l.selected.indexOf(s.model))},s.select=function(){s.disabled||(l.enableMultiSelect()?l.selected.push(s.model):l.selected.splice(0,l.selected.length,s.model),t.isFunction(s.onSelect)&&s.onSelect(s.model))},s.deselect=function(){s.disabled||(l.selected.splice(l.selected.indexOf(s.model),1),t.isFunction(s.onDeselect)&&s.onDeselect(s.model))},s.toggle=function(e){return e&&e.stopPropagation&&e.stopPropagation(),s.isSelected()?s.deselect():s.select()},r.$watch(enableRowSelection,function(e){e?enableSelection():disableSelection()}),r.$watch(autoSelect,function(e,t){e!==t&&(l.$$rowSelect&&e?i.on("click",toggle):i.off("click",toggle))}),r.$watch(s.isSelected,function(e){return e?i.addClass("md-selected"):i.removeClass("md-selected")}),r.$watch(l.enableMultiSelect,function(e){l.$$rowSelect&&!e&&l.selected.splice(1)}),l.registerModelChangeListener(onSelectChange),i.on("$destroy",function(){l.removeModelChangeListener(onSelectChange)})}return{bindToController:!0,controller:Controller,controllerAs:"$mdSelect",link:postLink,require:["mdSelect","^^mdTable"],restrict:"A",scope:{model:"=mdSelect",disabled:"=ngDisabled",onSelect:"=?mdOnSelect",onDeselect:"=?mdOnDeselect",autoSelect:"=mdAutoSelect"}}}function Hash(){var e={};this.equals=function(t,n){return e[t]===n},this.get=function(t){return e[t]},this.has=function(t){return e.hasOwnProperty(t)},this.purge=function(t){delete e[t]},this.update=function(t,n){e[t]=n}}function mdTable(){function compile(e,n){if(e.addClass("md-table"),n.hasOwnProperty("mdProgress")){var r=e.find("tbody")[0],i=t.element('<thead class="md-table-progress" md-table-progress>');r&&e[0].insertBefore(i[0],r)}}function Controller(e,n,r,i){function enableRowSelection(){a.$$rowSelect=!0,o=i.$watchCollection("$mdTable.selected",function(e){l.forEach(function(t){t(e)})}),n.addClass("md-row-select")}function disableRowSelection(){a.$$rowSelect=!1,t.isFunction(o)&&o(),n.removeClass("md-row-select")}function resolvePromises(){if(!s.length)return i.$applyAsync();s[0].finally(function(){s.shift(),resolvePromises()})}function rowSelect(){return""===e.mdRowSelect||a.rowSelect}function validateModel(){return a.selected?!!t.isArray(a.selected)||console.error("Row selection: Expected an array. Recived "+typeof a.selected+"."):console.error("Row selection: ngModel is not defined.")}var o,a=this,s=[],l=[];a.$$hash=new Hash,a.$$columns={},a.columnCount=function(){return a.getRows(n[0]).reduce(function(e,t){return t.cells.length>e?t.cells.length:e},0)},a.getRows=function(e){return Array.prototype.filter.call(e.rows,function(e){return!e.classList.contains("ng-leave")})},a.getBodyRows=function(){return Array.prototype.reduce.call(n.prop("tBodies"),function(e,t){return e.concat(a.getRows(t))},[])},a.getElement=function(){return n},a.getHeaderRows=function(){return a.getRows(n.prop("tHead"))},a.enableMultiSelect=function(){return""===e.multiple||i.$eval(e.multiple)},a.waitingOnPromise=function(){return!!s.length},a.queuePromise=function(e){e&&1===s.push(t.isArray(e)?r.all(e):r.when(e))&&resolvePromises()},a.registerModelChangeListener=function(e){l.push(e)},a.removeModelChangeListener=function(e){var t=l.indexOf(e);-1!==t&&l.splice(t,1)},e.hasOwnProperty("mdProgress")&&i.$watch("$mdTable.progress",a.queuePromise),i.$watch(rowSelect,function(e){e&&validateModel()?enableRowSelection():disableRowSelection()})}return Controller.$inject=["$attrs","$element","$q","$scope"],{bindToController:!0,compile:compile,controller:Controller,controllerAs:"$mdTable",restrict:"A",scope:{progress:"=?mdProgress",selected:"=ngModel",rowSelect:"=mdRowSelect"}}}function mdTablePagination(){function compile(e){e.addClass("md-table-pagination")}function Controller(e,n,r){function isPositive(e){return parseInt(e,10)>0}var i=this,o={page:"Page:",rowsPerPage:"Rows per page:",of:"of"};i.label=t.copy(o),i.eval=function(e){return r.$eval(e)},i.first=function(){i.page=1,i.onPaginationChange()},i.hasNext=function(){return i.page*i.limit<i.total},i.hasPrevious=function(){return i.page>1},i.last=function(){i.page=i.pages(),i.onPaginationChange()},i.max=function(){return i.hasNext()?i.page*i.limit:i.total},i.min=function(){return isPositive(i.total)?i.page*i.limit-i.limit+1:0},i.next=function(){i.page++,i.onPaginationChange()},i.onPaginationChange=function(){t.isFunction(i.onPaginate)&&n.nextTick(function(){i.onPaginate(i.page,i.limit)})},i.pages=function(){return isPositive(i.total)?Math.ceil(i.total/(isPositive(i.limit)?i.limit:1)):1},i.previous=function(){i.page--,i.onPaginationChange()},i.showBoundaryLinks=function(){return""===e.mdBoundaryLinks||i.boundaryLinks},i.showPageSelect=function(){return""===e.mdPageSelect||i.pageSelect},r.$watch("$pagination.limit",function(e,t){isNaN(e)||isNaN(t)||e===t||(i.page=Math.floor((i.page*t-t+e)/(isPositive(e)?e:1)),i.onPaginationChange())}),e.$observe("mdLabel",function(e){t.extend(i.label,o,r.$eval(e))}),r.$watch("$pagination.total",function(e,t){isNaN(e)||e===t||i.page>i.pages()&&i.last()})}return Controller.$inject=["$attrs","$mdUtil","$scope"],{bindToController:{boundaryLinks:"=?mdBoundaryLinks",disabled:"=ngDisabled",limit:"=mdLimit",page:"=mdPage",pageSelect:"=?mdPageSelect",onPaginate:"=?mdOnPaginate",limitOptions:"=?mdLimitOptions",total:"@mdTotal"},compile:compile,controller:Controller,controllerAs:"$pagination",restrict:"E",scope:{},templateUrl:"md-table-pagination.html"}}function mdTableProgress(){function postLink(e,t,n,r){e.columnCount=r.columnCount,e.deferred=r.waitingOnPromise}return{link:postLink,require:"^^mdTable",restrict:"A",scope:{},templateUrl:"md-table-progress.html"}}function virtualPageSelect(){function Controller(e,t){function getMin(e,t){return Math.min(e,isFinite(t)&&isPositive(t)?t:1)}function isPositive(e){return e>0}function setPages(e){if(n.pages.length>e)return n.pages.splice(e);for(var t=n.pages.length;t<e;t++)n.pages.push(t+1)}var n=this,r=e.find("md-content");n.pages=[],r.on("scroll",function(){r.prop("clientHeight")+r.prop("scrollTop")>=r.prop("scrollHeight")&&t.$applyAsync(function(){setPages(getMin(n.pages.length+10,n.total))})}),t.$watch("$pageSelect.total",function(e){setPages(getMin(Math.max(n.pages.length,10),e))}),t.$watch("$pagination.page",function(e){for(var t=n.pages.length;t<e;t++)n.pages.push(t+1)})}return Controller.$inject=["$element","$scope"],{bindToController:{total:"@"},controller:Controller,controllerAs:"$pageSelect"}}t.module("md.table.templates",["md-table-pagination.html","md-table-progress.html","arrow-up.svg","navigate-before.svg","navigate-first.svg","navigate-last.svg","navigate-next.svg"]),t.module("md-table-pagination.html",[]).run(["$templateCache",function(e){e.put("md-table-pagination.html",'<div class="page-select" ng-if="$pagination.showPageSelect()">\n  <div class="label">{{$pagination.label.page}}</div>\n\n  <md-select virtual-page-select total="{{$pagination.pages()}}" class="md-table-select" ng-model="$pagination.page" md-container-class="md-pagination-select" ng-change="$pagination.onPaginationChange()" ng-disabled="$pagination.disabled" aria-label="Page">\n    <md-content>\n      <md-option ng-repeat="page in $pageSelect.pages" ng-value="page">{{page}}</md-option>\n    </md-content>\n  </md-select>\n</div>\n\n<div class="limit-select" ng-if="$pagination.limitOptions">\n  <div class="label">{{$pagination.label.rowsPerPage}}</div>\n\n  <md-select class="md-table-select" ng-model="$pagination.limit" md-container-class="md-pagination-select" ng-disabled="$pagination.disabled" aria-label="Rows" placeholder="{{ $pagination.limitOptions[0] }}">\n    <md-option ng-repeat="option in $pagination.limitOptions" ng-value="option.value ? $pagination.eval(option.value) : option">{{::option.label ? option.label : option}}</md-option>\n  </md-select>\n</div>\n\n<div class="buttons">\n  <div class="label">{{$pagination.min()}} - {{$pagination.max()}} {{$pagination.label.of}} {{$pagination.total}}</div>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.first()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="First">\n    <md-icon md-svg-icon="navigate-first.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.previous()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="Previous">\n    <md-icon md-svg-icon="navigate-before.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.next()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Next">\n    <md-icon md-svg-icon="navigate-next.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.last()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Last">\n    <md-icon md-svg-icon="navigate-last.svg"></md-icon>\n  </md-button>\n</div>')}]),t.module("md-table-progress.html",[]).run(["$templateCache",function(e){e.put("md-table-progress.html",'<tr>\n  <th colspan="{{columnCount()}}">\n    <md-progress-linear ng-show="deferred()" md-mode="indeterminate"></md-progress-linear>\n  </th>\n</tr>')}]),t.module("arrow-up.svg",[]).run(["$templateCache",function(e){e.put("arrow-up.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>')}]),t.module("navigate-before.svg",[]).run(["$templateCache",function(e){e.put("navigate-before.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>')}]),t.module("navigate-first.svg",[]).run(["$templateCache",function(e){e.put("navigate-first.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 6 v12 h2 v-12 h-2z M17.41 7.41L16 6l-6 6 6 6 1.41-1.41L12.83 12z"/></svg>')}]),t.module("navigate-last.svg",[]).run(["$templateCache",function(e){e.put("navigate-last.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 6 v12 h2 v-12 h-2z M8 6L6.59 7.41 11.17 12l-4.58 4.59L8 18l6-6z"/></svg>')}]),t.module("navigate-next.svg",[]).run(["$templateCache",function(e){e.put("navigate-next.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>')}]),t.module("md.data.table",["md.table.templates"]),t.module("md.data.table").directive("mdBody",mdBody),t.module("md.data.table").directive("mdCell",mdCell),t.module("md.data.table").directive("mdColumn",mdColumn),mdColumn.$inject=["$compile","$mdUtil"],t.module("md.data.table").decorator("$controller",controllerDecorator).factory("$mdEditDialog",mdEditDialog),controllerDecorator.$inject=["$delegate"],mdEditDialog.$inject=["$compile","$controller","$document","$mdUtil","$q","$rootScope","$templateCache","$templateRequest","$window"],t.module("md.data.table").directive("mdFoot",mdFoot),t.module("md.data.table").directive("mdHead",mdHead),mdHead.$inject=["$compile"],t.module("md.data.table").directive("mdRow",mdRow),t.module("md.data.table").directive("mdSelect",mdSelect),mdSelect.$inject=["$compile","$parse"],t.module("md.data.table").directive("mdTable",mdTable),t.module("md.data.table").directive("mdTablePagination",mdTablePagination),t.module("md.data.table").directive("mdTableProgress",mdTableProgress),t.module("md.data.table").directive("virtualPageSelect",virtualPageSelect)}(window,angular)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(307),e.exports="ui.grid"},function(e,t){!function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["¤","؋","Ar","Ƀ","฿","B/.","Br","Bs.","Bs.F.","GH₵","¢","c","Ch.","₡","C$","D","ден","دج",".د.ب","د.ع","JD","د.ك","ل.د","дин","د.ت","د.م.","د.إ","Db","$","₫","Esc","€","ƒ","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","₲","h","₴","₭","Kč","kr","kn","MK","ZK","Kz","K","L","Le","лв","E","lp","M","KM","MT","₥","Nfk","₦","Nu.","UM","T$","MOP$","₱","Pt.","£","ج.م.","LL","LS","P","Q","q","R","R$","ر.ع.","ر.ق","ر.س","៛","RM","p","Rf.","₹","₨","SRe","Rp","₪","Ksh","Sh.So.","USh","S/","SDR","сом","৳\t","WS$","₮","VT","₩","¥","zł"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,r){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,i,o,a){if(a&&t.col.compiledElementFn)!function(){(0,t.col.compiledElementFn)(t,function(e,t){i.append(e)})}();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){i.append(e)})}).catch(angular.noop);else{var s=t.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),l=e(s)(t);i.append(l)}},post:function(e,t,n,i){var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var r=t;a&&(r.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,r.addClass(a)};e.col.cellClass&&s();var l=e.grid.registerDataChangeCallback(s,[r.dataChange.COLUMN,r.dataChange.EDIT]),c=function(n,r){if(n!==r){(a||e.col.cellClass)&&s();var i=e.col.getColClass(!1);i!==o&&(t.removeClass(o),t.addClass(i),o=i)}},u=e.$watch("row",c),d=function(){l(),u()};e.$on("$destroy",d),t.on("$destroy",d)}}}}}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var r={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){void 0!==t&&t&&angular.isArray(t)?(t.forEach(function(t){void 0!==t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&void 0!==e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return void 0!==e.col&&void 0!==e.col.sort&&void 0!==e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!(!e.col||!e.col.suppressRemoveSort)},hideable:function(e){return void 0===e.col||!e.col||!e.col.colDef||!1!==e.col.colDef.enableHiding},getDefaultMenuItems:function(n){return[{title:function(){return e.getSafeText("sort.ascending")},icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,t.ASC)}},{title:function(){return e.getSafeText("sort.descending")},icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,t.DESC)}},{title:function(){return e.getSafeText("sort.remove")},icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return r.sortable(n)&&void 0!==n.col&&void 0!==n.col.sort&&void 0!==n.col.sort.direction&&null!==n.col.sort.direction&&!r.suppressRemoveSort(n)}},{title:function(){return e.getSafeText("column.hide")},icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,r){var i={};return i.left=r[0].offsetLeft,i.top=r[0].offsetTop,i.parentLeft=r[0].offsetParent.offsetLeft,i.offset=0,t.grid.options.offsetLeft&&(i.offset=t.grid.options.offsetLeft),i.height=n.elementHeight(r,!0),i.width=n.elementWidth(r,!0),i},repositionMenu:function(e,t,r,i,o){var a=i[0].querySelectorAll(".ui-grid-menu"),s=n.closestElm(o,".ui-grid-render-container"),l=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,c=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,u=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,d=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var h=a[0].querySelectorAll(".ui-grid-menu-mid");0===h.length||angular.element(h).hasClass("ng-hide")||(u=n.elementWidth(a,!0),e.lastMenuWidth=u,t.lastMenuWidth=u,d=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=d,t.lastMenuPaddingRight=d)}var p=r.left+l-c+r.parentLeft+r.width-u+d;p<r.offset&&(p=r.offset),i.css("left",p+"px"),i.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,n,r,i){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,l){r.initialize(o,l),o.defaultMenuItems=r.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,r.setColMenuItemWatch(o),o.showMenu=function(e,t,n){o.col=e;var i=r.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=i,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(o.menuShown=!0,r.repositionMenu(o,e,i,a,t),o.colElement=t,o.colElementPosition=i,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(i,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(i,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()}).catch(angular.noop)},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()};var c=function(){e(function(){var e,n=function(){return t.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(t,n){if(angular.equals(t,o.col))return e=n,!0});var r;if(o.grid.columns.some(function(t,n){if(!t.visible)return!1;if(n<e)r=t;else{if(n>e&&!r)return r=t,!0;if(n>e&&r)return!0}}),r){var a=r.getColClass();t.focus.bySelector(i,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){if("canceled"!==e)return n()}).catch(angular.noop)}else n()})};o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(n.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),c()}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,n,r){return{compile:function(){return{pre:function(t,n,r,i){t.col.updateFilters=function(r){if(n.children().remove(),r){var i=t.col.filterHeaderTemplate;n.append(e(i)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,i,o){e.aria=n.getSafeText("headerCell.aria"),e.removeFilter=function(e,n){e.term=null,r.focus.bySelector(t,".ui-grid-filter-input-"+n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,r){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,i){return{pre:function(e,t,n,i){var o=r(e.col.footerCellTemplate)(e);t.append(o)},post:function(e,t,r,i){e.grid=i.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var r=t;a&&(r.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,r.addClass(a)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,s),e.$on("$destroy",l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r,i){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,i,o){var a=o[0],s=o[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=n;var l=e.grid.options.footerTemplate;r.getTemplate(l).then(function(r){var i=angular.element(r),o=t(i)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}}).catch(angular.noop)},post:function(e,t,n,i){var o=i[0],a=i[1];o.grid;r.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r,i){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,n){return{pre:function(e,n,i,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;r.getTemplate(a).then(function(r){var i=angular.element(r),o=t(i)(e);n.append(o)}).catch(angular.noop)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(t,r){return{pre:function(t,r,i,o){var a=t.grid.options.groupPanelTemplate||"ui-grid/ui-grid-group-panel";n.getTemplate(a).then(function(n){var i=angular.element(n),o=e(i)(t);r.append(o)}).catch(angular.noop)},post:function(e,t,n,r){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,n,r,i,o,a,s){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n,r){var i=e(t.col.headerCellTemplate)(t);n.append(i)},post:function(e,n,i,a){var l=a[0],c=a[1];e.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t,n){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,n=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none,r=n;return e.isSortPriorityVisible()&&(r=r+". "+e.i18n.headerCell.priority+" "+(t.sort.priority+1)),r},e.grid=l.grid,e.renderContainer=l.grid.renderContainers[c.containerId];var u=e.col.getColClass(!1);n.addClass(u),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var d,h,p=(angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(n[0].querySelectorAll(".ui-grid-cell-contents"))),m=[];e.downFn=function(i){i.stopPropagation(),void 0!==i.originalEvent&&void 0!==i.originalEvent&&(i=i.originalEvent),i.button&&0!==i.button||(h=i.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},500),e.mousedownTimeout.then(function(){e.colMenu&&l.columnMenuScope.showMenu(e.col,n,i)}).catch(angular.noop),l.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:i,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===i.type?(r.on("touchend",e.upFn),r.on("touchmove",e.moveFn)):"mousedown"===i.type&&(r.on("mouseup",e.upFn),r.on("mousemove",e.moveFn)))},e.upFn=function(n){n.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type),(new Date).getTime()-e.mousedownStartTime>500||e.sortable&&e.handleClick(n)},e.moveFn=function(n){0!=n.pageX-h&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type))},e.clickFn=function(t){t.stopPropagation(),p.off("click",e.clickFn)},e.offAllEvents=function(){p.off("touchstart",e.downFn),p.off("mousedown",e.downFn),r.off("touchend",e.upFn),r.off("mouseup",e.upFn),r.off("touchmove",e.moveFn),r.off("mousemove",e.moveFn),p.off("click",e.clickFn)},e.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":p.on("click",e.clickFn),p.on("touchstart",e.downFn),t(function(){p.on("mousedown",e.downFn)},500);break;case"mousemove":case"mouseup":p.on("click",e.clickFn),p.on("mousedown",e.downFn),t(function(){p.on("touchstart",e.downFn)},500);break;default:p.on("click",e.clickFn),p.on("touchstart",e.downFn),p.on("mousedown",e.downFn)}};var f=function(r){var i=n;d&&(i.removeClass(d),d=null),d=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,i.addClass(d),t(function(){var t=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.col.enableSorting?e.sortable=!0:e.sortable=!1;var a=e.filterable;l.grid.options.enableFiltering&&e.col.enableFiltering?e.filterable=!0:e.filterable=!1,a!==e.filterable&&(void 0!==e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,n){m.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(l.grid.api.core.raise.filterChanged(),l.grid.api.core.notifyDataChange(o.dataChange.COLUMN),l.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){m.forEach(function(e){e()})})):m.forEach(function(e){e()})),e.col.grid.options&&!1!==e.col.grid.options.enableColumnMenus&&e.col.colDef&&!1!==e.col.colDef.enableColumnMenu?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};f();var g=e.grid.registerDataChangeCallback(f,[o.dataChange.COLUMN]);e.$on("$destroy",g),e.handleClick=function(t){var n=!1;t.shiftKey&&(n=!0),l.grid.sortColumn(e.col,n).then(function(){l.columnMenuScope&&l.columnMenuScope.hideMenu(),l.grid.refresh()}).catch(angular.noop)},e.toggleMenu=function(t){t.stopPropagation(),l.columnMenuScope.menuShown&&l.columnMenuScope.col===e.col?l.columnMenuScope.hideMenu():l.columnMenuScope.showMenu(e.col,n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,n,r,i,o){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,i,a){function updateHeaderReferences(){l.header=l.colContainer.header=n;var e=n[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?l.headerCanvas=l.colContainer.headerCanvas=e[0]:l.headerCanvas=null}function scrollHandler(e){if(!s.grid.isScrollingHorizontally){var t=r.normalizeScrollLeft(l.headerViewport,s.grid),n=l.colContainer.scrollHorizontal(t),i=new o(s.grid,null,l.colContainer,o.Sources.ViewPortScroll);i.newScrollLeft=t,n>-1&&(i.x={percentage:n}),s.grid.scrollContainers(null,i)}}var s=a[0],l=a[1];e.grid=s.grid,e.colContainer=l.colContainer,updateHeaderReferences();var c;c=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:"ui-grid/ui-grid-header":"ui-grid/ui-grid-no-header",r.getTemplate(c).then(function(r){var i=angular.element(r),o=t(i)(e);if(n.replaceWith(o),n=o,updateHeaderReferences(),l){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(l.headerViewport=a,angular.element(a).on("scroll",scrollHandler),e.$on("$destroy",function(){angular.element(a).off("scroll",scrollHandler)}))}e.grid.queueRefresh()}).catch(angular.noop)},post:function(e,t,n,i){function updateColumnWidths(){var e=a.colContainer.visibleColumnCache,t="",n=0;return e.forEach(function(e){t+=e.getColClassDefinition(),n+=e.drawnWidth}),a.colContainer.canvasWidth=n,t}var o=i[0],a=i[1];o.grid;r.disableAnimations(t),a.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(a.headerViewport=s),o&&o.grid.registerStyleComputation({priority:15,func:updateColumnWidths})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var r={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",r.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",r.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var r=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,i){t.id===n&&(r>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):r=i)}),r>-1&&t.gridMenuScope.registeredMenuItems.splice(r,1)},getMenuItems:function(n){var i=[];n.grid.options.gridMenuCustomItems&&(angular.isArray(n.grid.options.gridMenuCustomItems)?i=i.concat(n.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){n.grid.clearAllFilters()},shown:function(){return n.grid.options.enableFiltering},order:100}];return i=i.concat(o),i=i.concat(n.registeredMenuItems),!1!==n.grid.options.gridMenuShowHideColumns&&(i=i.concat(r.showHideColumns(n))),i.sort(function(e,t){return e.order-t.order}),i},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,i){if(!1!==t.enableHiding){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*i};r.setMenuItemTitle(o,t,e.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*i+1},r.setMenuItemTitle(o,t,e.grid),n.push(o)}}),n):n},setMenuItemTitle:function(t,n,r){var i=r.options.gridMenuTitleFilter(n.displayName||e.readableColumnName(n.name)||n.field);"string"==typeof i?t.title=i:i.then?(t.title="",i.then(function(e){t.title=e},function(e){t.title=e}).catch(angular.noop)):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(!0===e.colDef.visible||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return r}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,n,r){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,i,o,a){var s=a[0];t.i18n={aria:r.getSafeText("gridMenu.aria")},n.initialize(t,s.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=n.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(i,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,n,r,i,o,a){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(r,s,l,c){if(r.dynamicStyles="",c&&c.grid&&c.grid.options&&c.grid.options.gridMenuTemplate){var u=c.grid.options.gridMenuTemplate;i.getTemplate(u).then(function(t){var n=angular.element(t),i=e(n)(r);s.replaceWith(i)}).catch(angular.noop)}var d=function(e){var t=e-c.grid.headerHeight-20;r.dynamicStyles=[".grid"+c.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")};c&&(d(c.grid.gridHeight),c.grid.api.core.on.gridDimensionChanged(r,function(e,t,n,r){d(n)})),r.i18n={close:a.getSafeText("columnMenu.close")},r.showMenu=function(e,n){r.shown?r.shownMid||(r.shownMid=!0,r.$emit("menu-shown")):(r.shown=!0,t(function(){r.shownMid=!0,r.$emit("menu-shown")}));var o="click";n&&n.originalEvent&&n.originalEvent.type&&"touchstart"===n.originalEvent.type&&(o=n.originalEvent.type),angular.element(document).off("click touchstart",h),s.off("keyup",p),s.off("keydown",m),t(function(){angular.element(document).on(o,h),s.on("keyup",p),s.on("keydown",m)}),i.focus.bySelector(s,"button[type=button]",!0)},r.hideMenu=function(e){r.shown&&(r.shownMid=!1,t(function(){r.shownMid||(r.shown=!1,r.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",h),s.off("keyup",p),s.off("keydown",m)},r.$on("hide-menu",function(e,t){r.hideMenu(e,t)}),r.$on("show-menu",function(e,t){r.showMenu(e,t)});var h=function(){r.shown&&r.$apply(function(){r.hideMenu()})},p=function(e){27===e.keyCode&&r.hideMenu()},m=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var n,r,i=s[0].querySelectorAll("button:not(.ng-hide)");i.length>0&&(n=i[0],r=i[i.length-1],e.target!==r||e.shiftKey?e.target===n&&e.shiftKey&&t(r):t(n))}};void 0!==r.autoHide&&void 0!==r.autoHide||(r.autoHide=!0),r.autoHide&&angular.element(n).on("resize",h),r.$on("$destroy",function(){angular.element(n).off("resize",h),angular.element(document).off("click touchstart",h),s.off("keyup",p),s.off("keydown",m)}),c&&r.$on("$destroy",c.grid.api.core.on.scrollBegin(r,h)),r.$on("$destroy",r.$on(o.events.ITEM_DRAGGING,h))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(n,r){n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var i=angular.element(e),o=t(i)(n);r.replaceWith(o)}).catch(angular.noop)},post:function(t,r,i,o){var a=o[0];void 0!==t.shown&&null!==t.shown||(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),void 0!==a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(n,r){if(n.stopPropagation(),"function"==typeof t.action){var i={};t.context&&(i.context=t.context),void 0!==a&&a&&(i.grid=a.grid),t.action.call(i,n,r),t.leaveOpen?e.focus.bySelector(angular.element(n.target.parentElement),"button[type=button]",!0):t.$emit("hide-menu")}},t.label=function(){var e=t.name;return"function"==typeof t.name&&(e=t.name.call()),e},t.i18n=n.get()}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var n=(t.aria?"uiGridOneBindAria":"uiGridOneBind")+(t.directiveName?t.directiveName:t.tag);e.directive(n,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(r,i,o,a){var s=function(t){var i;if(r.grid)i=r.grid;else if(r.col&&r.col.grid)i=r.col.grid;else if(!a.some(function(e){if(e&&e.grid)return i=e.grid,!0}))throw e.logError("["+n+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");if(i){new RegExp(i.id.toString()).test(t)||(t=i.id.toString()+"-"+t)}return t},l=r.$watch(o[n],function(e){if(e){if(t.appendGridId){var n=null;angular.forEach(e.split(" "),function(e){n=(n?n+" ":"")+s(e)}),e=n}switch(t.method){case"attr":t.aria?i[t.method]("aria-"+t.tag.toLowerCase(),e):i[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var r=[],o=!1;if(angular.forEach(e,function(e,t){null!==e&&void 0!==e&&(o=!0,e&&r.push(t))}),!o)return;e=r}if(!e)return;i.addClass(angular.isArray(e)?e.join(" "):e);break;default:i[t.method](e)}l()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,r,i){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,r){var i=r[0],o=r[1],a=e.grid=i.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var s=e.rowContainer=a.renderContainers[e.rowContainerName],l=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=s,o.colContainer=l},post:function(e,t,n,o){function update(){var t="",n=u.canvasWidth,r=u.getViewportWidth(),i=c.getCanvasHeight(),o=c.getViewportHeight();u.needsHScrollbarPlaceholder()&&(o-=l.scrollbarHeight);var s,d;return s=d=u.getHeaderViewportWidth(),t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+i+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(n+l.scrollbarWidth)+"px; }",p.explicitHeaderCanvasHeight?t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+p.explicitHeaderCanvasHeight+"px; }":t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+o+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+s+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(n+l.scrollbarWidth)+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+d+"px; }"}var a=o[0],s=o[1],l=a.grid,c=s.rowContainer,u=s.colContainer,d=null,h=null,p=l.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),r.on.mousewheel(t,function(e){var t=new i(l,c,u,i.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=-1*e.deltaY*e.deltaFactor;d=s.viewport[0].scrollTop,t.verticalScrollLength=c.getVerticalScrollLength();var o=(d+n)/t.verticalScrollLength;o>=1&&d<t.verticalScrollLength&&(s.viewport[0].scrollTop=t.verticalScrollLength),o<0?o=0:o>1&&(o=1),t.y={percentage:o,pixels:n}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;h=r.normalizeScrollLeft(s.viewport,l),t.horizontalScrollLength=u.getCanvasWidth()-u.getViewportWidth();var p=(h+a)/t.horizontalScrollLength;p<0?p=0:p>1&&(p=1),t.x={percentage:p,pixels:a}}0!==e.deltaY&&(t.atTop(d)||t.atBottom(d))||0!==e.deltaX&&(t.atLeft(h)||t.atRight(h))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),a.grid.registerStyleComputation({priority:6,func:update})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,r){function compileTemplate(){e.row.getRowTemplateFn.then(function(n){var r=e.$new();n(r,function(e,n){a&&(a.remove(),s.$destroy()),t.empty().append(e),a=e,s=r})}).catch(angular.noop)}var i=r[0],o=r[1];i.grid;e.grid=i.grid,e.colContainer=o.colContainer;var a,s;compileTemplate(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&compileTemplate()})},post:function(e,t,n,r){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n,r,i){var o=t(n.text(),!0);o&&e.$watch(o,function(e){n.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,n,r){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,r,i,o){function scrollHandler(i){var o=r[0].scrollTop,a=e.normalizeScrollLeft(r,u),s=l.scrollVertical(o),d=c.scrollHorizontal(a),h=new t(u,l,c,t.Sources.ViewPortScroll);h.newScrollLeft=a,h.newScrollTop=o,d>-1&&(h.x={percentage:d}),s>-1&&(h.y={percentage:s}),u.scrollContainers(n.$parent.containerId,h)}function syncVerticalScroll(e){s.prevScrollArgs=e;var t=e.getNewScrollTop(l,s.viewport);r[0].scrollTop=t}function syncHorizontalScroll(t){s.prevScrollArgs=t;var n=t.getNewScrollLeft(c,s.viewport);r[0].scrollLeft=e.denormalizeScrollLeft(s.viewport,n,u)}function syncHorizontalHeader(t){var n=t.getNewScrollLeft(c,s.viewport);s.headerViewport&&(s.headerViewport.scrollLeft=e.denormalizeScrollLeft(s.viewport,n,u))}function syncHorizontalFooter(t){var n=t.getNewScrollLeft(c,s.viewport);s.footerViewport&&(s.footerViewport.scrollLeft=e.denormalizeScrollLeft(s.viewport,n,u))}var a=o[0],s=o[1];n.containerCtrl=s;var l=s.rowContainer,c=s.colContainer,u=a.grid;n.grid=a.grid,n.rowContainer=s.rowContainer,n.colContainer=s.colContainer,s.viewport=r,u&&u.options&&u.options.customScroller?u.options.customScroller(r,scrollHandler):r.on("scroll",scrollHandler);n.$parent.bindScrollVertical&&u.addVerticalScrollSync(n.$parent.containerId,syncVerticalScroll),n.$parent.bindScrollHorizontal&&(u.addHorizontalScrollSync(n.$parent.containerId,syncHorizontalScroll),u.addHorizontalScrollSync(n.$parent.containerId+"header",syncHorizontalHeader),u.addHorizontalScrollSync(n.$parent.containerId+"footer",syncHorizontalFooter)),n.$on("$destroy",function(){r.off()})},controller:["$scope",function(e){this.rowStyle=function(t){var n=e.rowContainer,r=e.colContainer,i={};if(0!==n.currentTopRow){var o="translateY("+n.currentTopRow*n.grid.options.rowHeight+"px)";i.transform=o,i["-webkit-transform"]=o,i["-ms-transform"]=o}return 0!==r.currentFirstColumn&&(r.grid.isRTL()?i["margin-right"]=r.columnOffset+"px":i["margin-left"]=r.columnOffset+"px"),i}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function uiGridDirective(e,t,n){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(r,i,o,a){function checkSize(){i[0].offsetWidth<=0&&u<c?(setTimeout(checkSize,l),u++):r.$applyAsync(init)}function init(){s.gridWidth=r.gridWidth=t.elementWidth(i),s.canvasWidth=a.grid.gridWidth,s.gridHeight=r.gridHeight=t.elementHeight(i),s.gridHeight<=s.options.rowHeight&&s.options.enableMinHeightCheck&&autoAdjustHeight(),s.refreshCanvas(!0)}function autoAdjustHeight(){var e=s.options.minRowsToShow*s.options.rowHeight,o=s.options.showHeader?s.options.headerRowHeight:0,a=s.calcFooterHeight(),l=0;s.options.enableHorizontalScrollbar===n.scrollbars.ALWAYS&&(l=t.getScrollbarWidth());var c=0;if(angular.forEach(s.options.columnDefs,function(e){e.hasOwnProperty("filter")?c<1&&(c=1):e.hasOwnProperty("filters")&&c<e.filters.length&&(c=e.filters.length)}),s.options.enableFiltering&&!c){s.options.columnDefs.length&&s.options.columnDefs.every(function(e){return!1===e.enableFiltering})||(c=1)}var u=c*o,d=o+e+a+l+u;i.css("height",d+"px"),s.gridHeight=r.gridHeight=t.elementHeight(i)}function gridResize(){s.gridWidth=r.gridWidth=t.elementWidth(i),s.gridHeight=r.gridHeight=t.elementHeight(i),s.refreshCanvas(!0)}var s=a.grid;a.scrollbars=[],s.element=i;var l=100,c=20,u=0;!function(){var t,n;angular.element(e).on("resize",gridResize),i.on("$destroy",function(){angular.element(e).off("resize",gridResize),t(),n()}),t=r.$watch(function(){return s.hasLeftContainer()},function(e,t){e!==t&&s.refreshCanvas(!0)}),n=r.$watch(function(){return s.hasRightContainer()},function(e,t){e!==t&&s.refreshCanvas(!0)})}(),init(),s.renderingComplete(),checkSize()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(e,t,n,r,i,o,a,s,l){function getSize(e){return e?e.length:0}function columnDefsWatchFunction(t,n){t&&t!==n&&(c.grid.options.columnDefs=e.uiGrid.columnDefs,c.grid.callDataChangeCallbacks(o.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}function dataWatchFunction(t){var r=[];if(t=angular.isString(e.uiGrid.data)?c.grid.appScope[e.uiGrid.data]:e.uiGrid.data,d=t,t){var a=c.grid.columns.length>(c.grid.rowHeaderColumns?c.grid.rowHeaderColumns.length:0);!a&&!n.uiGridColumns&&0===c.grid.options.columnDefs.length&&t.length>0&&c.grid.buildColumnDefsFromData(t),!a&&(c.grid.options.columnDefs.length>0||t.length>0)&&r.push(c.grid.buildColumns().then(function(){c.grid.preCompileCellTemplates()}).catch(angular.noop)),i.all(r).then(function(){c.grid.modifyRows(d).then(function(){c.grid.redrawInPlace(!0),e.$evalAsync(function(){c.grid.refreshCanvas(!0),c.grid.callDataChangeCallbacks(o.dataChange.ROW)})}).catch(angular.noop)}).catch(angular.noop)}}var c=this,u=[];c.grid=a.createGrid(e.uiGrid),c.grid.appScope=c.grid.appScope||e.$parent,t.addClass("grid"+c.grid.id),c.grid.rtl="rtl"===r.getStyles(t[0]).direction,e.grid=c.grid,n.uiGridColumns&&u.push(n.$observe("uiGridColumns",function(e){c.grid.options.columnDefs=angular.isString(e)?angular.fromJson(e):e,c.grid.buildColumns().then(function(){c.grid.preCompileCellTemplates(),c.grid.refreshCanvas(!0)}).catch(angular.noop)})),c.grid.options.fastWatch?(c.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(u.push(e.$parent.$watch(e.uiGrid.data,dataWatchFunction)),u.push(e.$parent.$watch(function(){return c.grid.appScope[e.uiGrid.data]?c.grid.appScope[e.uiGrid.data].length:void 0},dataWatchFunction))):(u.push(e.$parent.$watch(function(){return e.uiGrid.data},dataWatchFunction)),u.push(e.$parent.$watch(function(){return getSize(e.uiGrid.data)},function(){dataWatchFunction(e.uiGrid.data)}))),u.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},columnDefsWatchFunction)),u.push(e.$parent.$watch(function(){return getSize(e.uiGrid.columnDefs)},function(){columnDefsWatchFunction(e.uiGrid.columnDefs)}))):(angular.isString(e.uiGrid.data)?u.push(e.$parent.$watchCollection(e.uiGrid.data,dataWatchFunction)):u.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},dataWatchFunction)),u.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},columnDefsWatchFunction)));var d,h=e.$watch(function(){return c.grid.styleComputations},function(){c.grid.refreshCanvas(!0)});e.$on("$destroy",function(){u.forEach(function(e){e()}),h()}),c.fireEvent=function(t,n){n=n||{},angular.isUndefined(n.grid)&&(n.grid=c.grid),e.$broadcast(t,n)},c.innerCompile=function(t){l(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",uiGridDirective),uiGridDirective.$inject=["$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,r){function monkeyPatchedGetViewportWidth(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var n=e.getViewportAdjustment();return t+=n.width}function updateContainerWidth(){if("left"===e.side||"right"===e.side){for(var t=i.renderContainers[e.side].visibleColumnCache,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.drawnWidth||o.width||0}return n}}function updateContainerDimensions(){var n="";return"left"!==e.side&&"right"!==e.side||(o=updateContainerWidth(),t.attr("style",null),n+=".grid"+i.id+" .ui-grid-pinned-container-"+e.side+", .grid"+i.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+o+"px; } "),n}var i=r.grid,o=0;t.addClass("ui-grid-pinned-container-"+e.side),"left"!==e.side&&"right"!==e.side||(i.renderContainers[e.side].getViewportWidth=monkeyPatchedGetViewportWidth),i.renderContainers.body.registerViewportAdjuster(function(t){return o=updateContainerWidth(),t.width-=o,t.side=e.side,t}),i.registerStyleComputation({priority:15,func:updateContainerDimensions})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,n,r,i,o,a,s,l,c,u,d,h,p){function RowHashMap(){}var m=function(e){function vertical(e){t.isScrollingVertically=!1,t.api.core.raise.scrollEnd(e),t.scrollDirection=i.scrollDirection.NONE}function horizontal(e){t.isScrollingHorizontally=!1,t.api.core.raise.scrollEnd(e),t.scrollDirection=i.scrollDirection.NONE}var t=this;if(void 0===e||void 0===e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');t.id=e.id,delete e.id,t.options=o.initialize(e),t.appScope=t.options.appScopeProvider,t.headerHeight=t.options.headerRowHeight,t.footerHeight=t.calcFooterHeight(),t.columnFooterHeight=t.calcColumnFooterHeight(),t.rtl=!1,t.gridHeight=0,t.gridWidth=0,t.columnBuilders=[],t.rowBuilders=[],t.rowsProcessors=[],t.columnsProcessors=[],t.styleComputations=[],t.viewportAdjusters=[],t.rowHeaderColumns=[],t.dataChangeCallbacks={},t.verticalScrollSyncCallBackFns={},t.horizontalScrollSyncCallBackFns={},t.renderContainers={},t.renderContainers.body=new d("body",t),t.cellValueGetterCache={},t.getRowTemplateFn=null,t.rows=[],t.columns=[],t.isScrollingVertically=!1,t.isScrollingHorizontally=!1,t.scrollDirection=i.scrollDirection.NONE,t.disableScrolling=!1;var n=r.debounce(vertical,t.options.scrollDebounce),a=r.debounce(vertical,0),s=r.debounce(horizontal,t.options.scrollDebounce),u=r.debounce(horizontal,0);t.flagScrollingVertically=function(e){t.isScrollingVertically||t.isScrollingHorizontally||t.api.core.raise.scrollBegin(e),t.isScrollingVertically=!0,0!==t.options.scrollDebounce&&e.withDelay?n(e):a(e)},t.flagScrollingHorizontally=function(e){t.isScrollingVertically||t.isScrollingHorizontally||t.api.core.raise.scrollBegin(e),t.isScrollingHorizontally=!0,0!==t.options.scrollDebounce&&e.withDelay?s(e):u(e)},t.scrollbarHeight=0,t.scrollbarWidth=0,t.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(t.scrollbarHeight=r.getScrollbarWidth()),t.options.enableVerticalScrollbar===i.scrollbars.ALWAYS&&(t.scrollbarWidth=r.getScrollbarWidth()),t.api=new l(t),t.api.registerMethod("core","refresh",this.refresh),t.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),t.api.registerMethod("core","refreshRows",this.refreshRows),t.api.registerMethod("core","queueRefresh",this.queueRefresh),t.api.registerMethod("core","handleWindowResize",this.handleWindowResize),t.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),t.api.registerMethod("core","scrollToIfNecessary",function(e,n){return t.scrollToIfNecessary(e,n)}),t.api.registerMethod("core","scrollTo",function(e,n){return t.scrollTo(e,n)}),t.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),t.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),t.api.registerMethod("core","sortHandleNulls",c.handleNulls),t.api.registerEvent("core","sortChanged"),t.api.registerEvent("core","columnVisibilityChanged"),t.api.registerMethod("core","notifyDataChange",this.notifyDataChange),t.api.registerMethod("core","clearAllFilters",this.clearAllFilters),t.registerDataChangeCallback(t.columnRefreshCallback,[i.dataChange.COLUMN]),t.registerDataChangeCallback(t.processRowsCallback,[i.dataChange.EDIT]),t.registerDataChangeCallback(t.updateFooterHeightCallback,[i.dataChange.OPTIONS]),t.registerStyleComputation({priority:10,func:t.getFooterStyles})};m.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},m.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},m.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},m.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},m.prototype.isRTL=function(){return this.rtl},m.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},m.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=r.getColumnsFromData(e,this.options.excludeProperties)},m.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},m.prototype.registerDataChangeCallback=function(e,t,n){var o=r.nextUid();t||(t=[i.dataChange.ALL]),Array.isArray(t)||r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this;return function(){delete a.dataChangeCallbacks[o]}},m.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(n,r){-1===n.types.indexOf(i.dataChange.ALL)&&-1===n.types.indexOf(e)&&e!==i.dataChange.ALL||(n._this?n.callback.apply(n._this,this,t):n.callback(this,t))},this)},m.prototype.notifyDataChange=function(e){var t=i.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},m.prototype.columnRefreshCallback=function(e,t){e.buildColumns(t),e.queueGridRefresh()},m.prototype.processRowsCallback=function(e){e.queueGridRefresh()},m.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},m.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},m.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},m.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var i=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;t.type=o?r.guessType(e.getCellValue(o,i)):"string"}})},m.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},m.prototype.addRowHeaderColumn=function(e,t,n){var i=this;void 0===t&&(t=0);var o=new a(e,r.nextUid(),i);o.isRowHeader=!0,i.isRTL()?(i.createRightContainer(),o.renderContainer="right"):(i.createLeftContainer(),o.renderContainer="left"),i.columnBuilders[0](e,o,i.options).then(function(){o.enableFiltering=!1,o.enableSorting=!1,o.enableHiding=!1,o.headerPriority=t,i.rowHeaderColumns.push(o),i.rowHeaderColumns=i.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),n||i.buildColumns().then(function(){i.preCompileCellTemplates(),i.queueGridRefresh()}).catch(angular.noop)}).catch(angular.noop)},m.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(n){-1===e.rowHeaderColumns.indexOf(n)&&t.push(n)}),t},m.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var i,o=this,s=[],l=o.rowHeaderColumns.length;for(i=0;i<o.columns.length;i++)o.getColDef(o.columns[i].name)||(o.columns.splice(i,1),i--);for(var c=o.rowHeaderColumns.length-1;c>=0;c--)o.columns.unshift(o.rowHeaderColumns[c]);if(o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,r.nextUid(),o),o.columns.splice(t+l,0,n)),o.columnBuilders.forEach(function(t){s.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var u=o.columns.slice(0),d=Math.min(o.options.columnDefs.length,o.columns.length);for(i=0;i<d;i++)o.columns[i+l].name!==o.options.columnDefs[i].name?u[i+l]=o.getColumn(o.options.columnDefs[i].name):u[i+l]=o.columns[i+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(u))}return e.all(s).then(function(){o.rows.length>0&&o.assignTypes(),n.preCompileCellTemplates&&o.preCompileCellTemplates()}).catch(angular.noop)},m.prototype.preCompileCellTemplate=function(e){var n=this,r=e.cellTemplate.replace(i.MODEL_COL_FIELD,n.getQualifiedColField(e));r=r.replace(i.COL_FIELD,"grid.getCellValue(row, col)");var o=t(r);e.compiledElementFn=o,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},m.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)}).catch(angular.noop)})},m.prototype.getQualifiedColField=function(e){return e.field===i.ENTITY_BINDING?"row.entity":r.preEval("row.entity."+e.field)},m.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},m.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},m.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},m.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},m.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var n=e.field,r=2;t.getColumn(n);)n=e.field+r.toString(),r++;e.name=n}},m.prototype.newInN=function(e,t,n,r){for(var i=this,o=[],a=0;a<t.length;a++){for(var s=r?t[a][r]:t[a],l=!1,c=0;c<e.length;c++){var u=n?e[c][n]:e[c];if(i.options.rowEquality(s,u)){l=!0;break}}l||o.push(s)}return o},m.prototype.getRow=function(e,t){var n=this;t=void 0===t?n.rows:t;var r=t.filter(function(t){return n.options.rowEquality(t.entity,e)});return r.length>0?r[0]:null},m.prototype.modifyRows=function(t){var n=this,r=n.rows.slice(0),i=n.rowHashMap||n.createRowHashMap(),o=!0;n.rowHashMap=n.createRowHashMap(),n.rows.length=0,t.forEach(function(e,t){var a,l;l=n.options.enableRowHashing?i.get(e):n.getRow(e,r),l&&(a=l,a.entity=e),a||(a=n.processRowBuilders(new s(e,t,n))),n.rows.push(a),n.rowHashMap.put(e,a),a.isSelected||(o=!1)}),n.selection&&(n.selection.selectAll=o),n.assignTypes();var a=e.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}).catch(angular.noop),l=e.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)}).catch(angular.noop);return e.all([a,l])},m.prototype.addRows=function(e){for(var t=this,n=t.rows.length,r=0;r<e.length;r++){var i=t.processRowBuilders(new s(e[r],r+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(i.entity);o&&(o.row=i)}t.rows.push(i)}},m.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},m.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},m.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(n,r){n.processor===e&&(t=r)}),-1!==t&&this.rowsProcessors.splice(t,1)},m.prototype.processRowsProcessors=function(t){function startProcessor(t,r){var o=n.rowsProcessors[t].processor;return e.when(o.call(n,r,n.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";if(++t<=n.rowsProcessors.length-1)return startProcessor(t,e);i.resolve(e)}).catch(angular.noop)}var n=this,r=t.slice(0);if(0===n.rowsProcessors.length)return e.when(r);var i=e.defer();return startProcessor(0,r),i.promise},m.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];r.canvasHeightShouldUpdate=!0,void 0===r.visibleRowCache?r.visibleRowCache=[]:r.visibleRowCache.length=0}for(var i=0;i<e.length;i++){var o=e[i],a=void 0!==o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[a].visibleRowCache.push(o)}t.api.core.raise.rowsVisibleChanged(this.api),t.api.core.raise.rowsRendered(this.api)},m.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);void 0!==t&&void 0!==t&&this.columnsProcessors.splice(t,1)},m.prototype.processColumnsProcessors=function(t){function startProcessor(t,o){var a=n.columnsProcessors[t].processor;return e.when(a.call(n,o,n.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";if(++t<=n.columnsProcessors.length-1)return startProcessor(t,r);i.resolve(r)}).catch(angular.noop)}var n=this,r=t.slice(0);if(0===n.columnsProcessors.length)return e.when(r);var i=e.defer();return startProcessor(0,r),i.promise},m.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){t.renderContainers[n].visibleColumnCache.length=0}for(var r=0;r<e.length;r++){var i=e[r];i.visible&&(void 0!==i.renderContainer&&i.renderContainer?t.renderContainers[i.renderContainer].visibleColumnCache.push(i):t.renderContainers.body.visibleColumnCache.push(i))}},m.prototype.handleWindowResize=function(e){var t=this;return t.gridWidth=r.elementWidth(t.element),t.gridHeight=r.elementHeight(t.element),t.queueRefresh()},m.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&h.cancel(e.refreshCanceller),e.refreshCanceller=h(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}).catch(angular.noop),e.refreshCanceller},m.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&h.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=h(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}).catch(angular.noop),e.gridRefreshCanceller},m.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var n=e.renderContainers[t];n.canvasHeightShouldUpdate=!0}},m.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},m.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,r=0;return e.columns.forEach(function(i,o){if(r<t)r+=i.drawnWidth,n++;else{for(var a=0,s=o;s>=o-n;s--)a+=e.columns[s].drawnWidth;a<t&&n++}}),n},m.prototype.getBodyHeight=function(){return this.getViewportHeight()},m.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight;return t+=e.getViewportAdjustment().height},m.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth;return t+=e.getViewportAdjustment().width},m.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},m.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},m.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},m.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var r=0;r<n.length;r++){var i=n[r];this.verticalScrollSyncCallBackFns[i]&&this.verticalScrollSyncCallBackFns[i](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},m.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},m.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);void 0!==t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},m.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},m.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},m.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},m.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},m.prototype.searchRows=function(e){return u.search(this,e,this.columns)},m.prototype.sortByColumn=function(e){return c.sort(this,e,this.columns)},m.prototype.getCellValue=function(e,t){return void 0!==e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&void 0!==t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=n(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},m.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var r=t.cellFilter?" | "+t.cellFilter:"";if(void 0!==e.entity["$$"+t.uid])t.cellDisplayGetterCache=n(e.entity["$$"+t.uid].rendered+r);else if(this.options.flatEntityAccess&&void 0!==t.field){var i=t.field.replace(/(')|(\\)/g,"\\$&");t.cellDisplayGetterCache=n("entity['"+i+"']"+r)}else t.cellDisplayGetterCache=n(e.getEntityQualifiedColField(t)+r)}return t.cellDisplayGetterCache(e)},m.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>=t&&(t=e.sort.priority+1)}),t},m.prototype.resetColumnSorting=function(e){this.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},m.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(c.prioritySort).forEach(function(e){e.sort&&void 0!==e.sort.direction&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)&&n.push(e)}),n},m.prototype.sortColumn=function(t,n,r){var i=this,o=null;if(void 0===t||!t)throw new Error("No column parameter provided");if("boolean"==typeof n?r=n:o=n,r?void 0===t.sort.priority&&(t.sort.priority=i.getNextColumnSortPriority()):(i.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=i.getNextColumnSortPriority()),o)t.sort.direction=o;else{var a=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);a=(a+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[a]&&(a=(a+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[a]?t.sort.direction=t.sortDirectionCycle[a]:f(t,i)}return i.api.core.raise.sortChanged(i,i.getColumnSorting()),e.when(t)};var f=function(e,t){t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e.sort.priority&&(t.sort.priority-=1)}),e.sort={}};return m.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},m.prototype.createRowHashMap=function(){var e=this,t=new RowHashMap;return t.grid=e,t},m.prototype.refresh=function(t){var n=this,r=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}).catch(angular.noop),i=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)}).catch(angular.noop);return e.all([r,i]).then(function(){n.refreshCanvas(!0),n.redrawInPlace(t)}).catch(angular.noop)},m.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)}).catch(angular.noop)},m.prototype.refreshCanvas=function(t){var n=this,i=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var s=n.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=s.explicitHeaderHeight||null,s.explicitHeaderCanvasHeight=s.explicitHeaderCanvasHeight||null,o.push(s))}return t&&n.buildStyles(),h(o.length>0?function(){var e,a,s=!1,l=0,c=0,u=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var d=a.headerHeight=u(a.headerHeight,r.outerElementHeight(a.header)),h=r.getBorderSize(a.header,"top"),p=r.getBorderSize(a.header,"bottom"),m=parseInt(d-h-p,10);m=m<0?0:m,a.innerHeaderHeight=m,!a.explicitHeaderHeight&&m>l&&(l=m)}if(a.headerCanvas){var f=a.headerCanvasHeight=u(a.headerCanvasHeight,parseInt(r.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&f>c&&(c=f)}}for(e=0;e<o.length;e++)a=o[e],l>0&&void 0!==a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=u(a.explicitHeaderHeight,l)),c>0&&void 0!==a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<c)&&(a.explicitHeaderCanvasHeight=u(a.explicitHeaderCanvasHeight,c));t&&s&&n.buildStyles(),i.resolve()}:function(){i.resolve()}),i.promise},m.prototype.redrawInPlace=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];e?(r.adjustRows(r.prevScrollTop,null),r.adjustColumns(r.prevScrollLeft,null)):(r.adjustRows(null,r.prevScrolltopPercentage),r.adjustColumns(null,r.prevScrollleftPercentage))}},m.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},m.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},m.prototype.scrollToIfNecessary=function(t,n){var r=this,i=new p(r,"uiGrid.scrollToIfNecessary"),o=r.renderContainers.body.visibleRowCache,a=r.renderContainers.body.visibleColumnCache,s=r.renderContainers.body.prevScrollTop+r.headerHeight;s=s<0?0:s;var l=r.renderContainers.body.prevScrollLeft,c=r.renderContainers.body.prevScrollTop+r.gridHeight-r.renderContainers.body.headerHeight-r.footerHeight-r.scrollbarWidth,u=r.renderContainers.body.prevScrollLeft+Math.ceil(r.renderContainers.body.getViewportWidth());if(null!==t){var d=o.indexOf(t),h=r.renderContainers.body.getCanvasHeight()-r.renderContainers.body.getViewportHeight(),m=d*r.options.rowHeight+r.headerHeight;m=m<0?0:m;var f,g;m<s?(f=r.renderContainers.body.prevScrollTop-(s-m),(g=f/h)<=1&&(i.y={percentage:g})):m>c&&(f=m-c+r.renderContainers.body.prevScrollTop,(g=f/h)<=1&&(i.y={percentage:g}))}if(null!==n){for(var v=a.indexOf(n),y=r.renderContainers.body.getCanvasWidth()-r.renderContainers.body.getViewportWidth(),_=0,b=0;b<v;b++){_+=a[b].drawnWidth}_=_<0?0:_;var w=_+n.drawnWidth;w=w<0?0:w;var x,S;_<l?(x=r.renderContainers.body.prevScrollLeft-(l-_),S=x/y,S=S>1?1:S,i.x={percentage:S}):w>u&&(x=w-u+r.renderContainers.body.prevScrollLeft,S=x/y,S=S>1?1:S,i.x={percentage:S})}var C=e.defer();if(i.y||i.x){i.withDelay=!1,r.scrollContainers("",i);var E=r.api.core.on.scrollEnd(null,function(){C.resolve(i),E()})}else C.resolve();return C.promise},m.prototype.scrollTo=function(e,t){var n=null,r=null;return null!==e&&void 0!==e&&(n=this.getRow(e)),null!==t&&void 0!==t&&(r=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,r)},m.prototype.clearAllFilters=function(e,t,n){if(void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e)return this.refreshRows()},RowHashMap.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},m}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,r,i,o){function registerEventWithAngular(e,n,r,i){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(i||r.api,t)})}var a=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",i.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",i.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return a.prototype.suppressEvents=function(e,t){var n=this,r=angular.isArray(e)?e:[e],i=n.listeners.filter(function(e){return r.some(function(t){return e.handler===t})});i.forEach(function(e){e.dereg()}),t(),i.forEach(function(e){e.dereg=registerEventWithAngular(e.eventId,e.handler,n.grid,e._this)})},a.prototype.registerEvent=function(e,r){var i=this;i[e]||(i[e]={});var o=i[e];o.on||(o.on={},o.raise={});var a=i.grid.id+e+r;o.raise[r]=function(){t.$emit.apply(t,[a].concat(Array.prototype.slice.call(arguments)))},o.on[r]=function(t,o,s){if(null!==t&&void 0===t.$on)return void n.logError("asked to listen on "+e+".on."+r+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");var l=registerEventWithAngular(a,o,i.grid,s),c={handler:o,dereg:l,eventId:a,scope:t,_this:s};i.listeners.push(c);var u=function(){c.dereg();var e=i.listeners.indexOf(c);i.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){u()}),u}},a.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var r={name:t,events:[]};angular.forEach(e,function(e,t){r.events.push(t)}),n.push(r)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},a.prototype.registerMethod=function(e,t,r,i){this[e]||(this[e]={}),this[e][t]=n.createBoundedWrapper(i||this.grid,r)},a.prototype.registerMethodsFromObject=function(e,t){var n=this,r=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),r.push(n)}),r.forEach(function(e){e.methods.forEach(function(r){n.registerMethod(e.name,r.name,r.fn,t)})})},a}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function GridColumn(e,n,r){var i=this;i.grid=r,i.uid=n,i.updateColumnDef(e,!0),i.aggregationValue=void 0,i.updateAggregationValue=function(){if(!i.aggregationType)return void(i.aggregationValue=void 0);var e=0,n=i.grid.getVisibleRows(),r=function(){var e=[];return n.forEach(function(t){var n=i.grid.getCellValue(t,i),r=Number(n);isNaN(r)||e.push(r)}),e};angular.isFunction(i.aggregationType)?i.aggregationValue=i.aggregationType(n,i):i.aggregationType===t.aggregationTypes.count?i.aggregationValue=i.grid.getVisibleRowCount():i.aggregationType===t.aggregationTypes.sum?(r().forEach(function(t){e+=t}),i.aggregationValue=e):i.aggregationType===t.aggregationTypes.avg?(r().forEach(function(t){e+=t}),e/=r().length,i.aggregationValue=e):i.aggregationType===t.aggregationTypes.min?i.aggregationValue=Math.min.apply(null,r()):i.aggregationType===t.aggregationTypes.max?i.aggregationValue=Math.max.apply(null,r()):i.aggregationValue=" "},this.getAggregationValue=function(){return i.aggregationValue}}return GridColumn.prototype.hideColumn=function(){this.colDef.visible=!1},GridColumn.prototype.setPropertyOrDefault=function(e,t,n){var r=this;void 0!==e[t]&&e[t]?r[t]=e[t]:void 0!==r[t]?r[t]=r[t]:r[t]=n||{}},GridColumn.prototype.updateColumnDef=function(n,r){var i=this;if(i.colDef=n,void 0===n.name)throw new Error("colDef.name is required for column at index "+i.grid.options.columnDefs.indexOf(n));if(i.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,!angular.isNumber(i.width)||!i.hasCustomWidth||n.allowCustomWidthOverride){var o=n.width,a="Cannot parse column width '"+o+"' for column named '"+n.name+"'";if(i.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var s=o.replace(/%/g,""),l=parseInt(s,10);if(isNaN(l))throw new Error(a);i.width=o}else if(o.match(/^(\d+)$/))i.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);i.width=o}else i.width=o;else i.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=n[e],r="Cannot parse column "+e+" '"+t+"' for column named '"+n.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(r);i[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else i[e]=t;else i[e]="minWidth"===e?30:9e3}),i.field=void 0===n.field?n.name:n.field,"string"!=typeof i.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+i.field),i.name=n.name,i.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,i.aggregationType=angular.isDefined(n.aggregationType)?n.aggregationType:null,i.footerCellTemplate=angular.isDefined(n.footerCellTemplate)?n.footerCellTemplate:null,void 0===n.cellTooltip||!1===n.cellTooltip?i.cellTooltip=!1:!0===n.cellTooltip?i.cellTooltip=function(e,t){return i.grid.getCellValue(e,t)}:"function"==typeof n.cellTooltip?i.cellTooltip=n.cellTooltip:i.cellTooltip=function(e,t){return t.colDef.cellTooltip},void 0===n.headerTooltip||!1===n.headerTooltip?i.headerTooltip=!1:!0===n.headerTooltip?i.headerTooltip=function(e){return e.displayName}:"function"==typeof n.headerTooltip?i.headerTooltip=n.headerTooltip:i.headerTooltip=function(e){return e.colDef.headerTooltip},i.footerCellClass=n.footerCellClass,i.cellClass=n.cellClass,i.headerCellClass=n.headerCellClass,i.cellFilter=n.cellFilter?n.cellFilter:"",i.sortCellFiltered=!!n.sortCellFiltered,i.filterCellFiltered=!!n.filterCellFiltered,i.headerCellFilter=n.headerCellFilter?n.headerCellFilter:"",i.footerCellFilter=n.footerCellFilter?n.footerCellFilter:"",i.visible=e.isNullOrUndefined(n.visible)||n.visible,i.headerClass=n.headerClass,i.enableSorting=void 0!==n.enableSorting?n.enableSorting:i.grid.options.enableSorting,i.sortingAlgorithm=n.sortingAlgorithm,i.sortDirectionCycle=void 0!==n.sortDirectionCycle?n.sortDirectionCycle:[null,t.ASC,t.DESC],void 0===i.suppressRemoveSort&&(i.suppressRemoveSort=void 0!==n.suppressRemoveSort&&n.suppressRemoveSort),i.enableFiltering=void 0===n.enableFiltering||n.enableFiltering,i.setPropertyOrDefault(n,"menuItems",[]),r&&i.setPropertyOrDefault(n,"sort"),i.setPropertyOrDefault(n,"defaultSort");var c=[];n.filter?c.push(n.filter):n.filters?c=n.filters:c.push({}),r?(i.setPropertyOrDefault(n,"filter"),i.setPropertyOrDefault(n,"extraStyle"),i.setPropertyOrDefault(n,"filters",c)):i.filters.length===c.length&&i.filters.forEach(function(e,t){void 0!==c[t].placeholder&&(e.placeholder=c[t].placeholder),void 0!==c[t].ariaLabel&&(e.ariaLabel=c[t].ariaLabel),void 0!==c[t].flags&&(e.flags=c[t].flags),void 0!==c[t].type&&(e.type=c[t].type),void 0!==c[t].selectOptions&&(e.selectOptions=c[t].selectOptions)})},GridColumn.prototype.unsort=function(){this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},GridColumn.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},GridColumn.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},GridColumn.prototype.isPinnedRight=function(){return"right"===this.renderContainer},GridColumn.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},GridColumn.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return null!==t&&""!==t&&void 0!==t||(t="body"),e.grid.renderContainers[t]},GridColumn.prototype.showColumn=function(){this.colDef.visible=!0},GridColumn.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},GridColumn.prototype.getCellTemplate=function(){return this.cellTemplatePromise},GridColumn.prototype.getCompiledElementFn=function(){return this.compiledElementFnDefer.promise},GridColumn}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=!1!==n.enableRowHashing,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.flatEntityAccess=!0===n.flatEntityAccess,n.showHeader=void 0===n.showHeader||n.showHeader,n.showHeader?n.headerRowHeight=void 0!==n.headerRowHeight?n.headerRowHeight:30:n.headerRowHeight=0,"string"==typeof n.rowHeight?n.rowHeight=parseInt(n.rowHeight)||30:n.rowHeight=n.rowHeight||30,n.minRowsToShow=void 0!==n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=!0===n.showGridFooter,n.showColumnFooter=!0===n.showColumnFooter,n.columnFooterHeight=void 0!==n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight=void 0!==n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth=void 0!==n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount=void 0!==n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold=void 0!==n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold=void 0!==n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows=void 0!==n.excessRows?n.excessRows:4,n.scrollThreshold=void 0!==n.scrollThreshold?n.scrollThreshold:4,n.excessColumns=void 0!==n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold=void 0!==n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle=void 0!==n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle=void 0!==n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce=void 0!==n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=!1!==n.enableSorting,n.enableFiltering=!0===n.enableFiltering,n.enableColumnMenus=!1!==n.enableColumnMenus,n.enableVerticalScrollbar=void 0!==n.enableVerticalScrollbar?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar=void 0!==n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.enableMinHeightCheck=!1!==n.enableMinHeightCheck,n.minimumColumnSize=void 0!==n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.gridMenuTemplate=n.gridMenuTemplate||"ui-grid/uiGridMenu",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function GridRenderContainer(e,t,n){var r=this;r.name=e,r.grid=t,r.visibleRowCache=[],r.visibleColumnCache=[],r.renderedRows=[],r.renderedColumns=[],r.prevScrollTop=0,r.prevScrolltopPercentage=0,r.prevRowScrollIndex=0,r.prevScrollLeft=0,r.prevScrollleftPercentage=0,r.prevColumnScrollIndex=0,r.columnStyles="",r.viewportAdjusters=[],r.hasHScrollbar=!1,r.hasVScrollbar=!1,r.canvasHeightShouldUpdate=!0,r.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(r,n),t.registerStyleComputation({priority:5,func:function(){return r.updateColumnWidths(),r.columnStyles}})}return GridRenderContainer.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},GridRenderContainer.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},GridRenderContainer.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,r=e.getViewportHeight(),i=e.visibleRowCache.length-1;n<r&&i>=0;i--)n+=e.visibleRowCache[i].height,t++;return t},GridRenderContainer.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,r=0,i=0;i<e.visibleColumnCache.length;i++){var o=e.visibleColumnCache[i];if(r<t)r+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,s=i;s>=i-n;s--)a+=e.visibleColumnCache[s].drawnWidth?e.visibleColumnCache[s].drawnWidth:0;a<t&&n++}}return n},GridRenderContainer.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},GridRenderContainer.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},GridRenderContainer.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},GridRenderContainer.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},GridRenderContainer.prototype.getMargin=function(e){var t=this,n=0;return t.viewportAdjusters.forEach(function(t){var r=t.call(this,{height:0,width:0});r.side&&r.side===e&&(n+=-1*r.width)}),n},GridRenderContainer.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight;return n+=e.getViewportAdjustment().height},GridRenderContainer.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth;return t+=e.getViewportAdjustment().width},GridRenderContainer.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},GridRenderContainer.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},GridRenderContainer.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},GridRenderContainer.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},GridRenderContainer.prototype.getCanvasWidth=function(){return this.canvasWidth},GridRenderContainer.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},GridRenderContainer.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},GridRenderContainer.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},GridRenderContainer.prototype.scrollVertical=function(e){var n=-1;if(e!==this.prevScrollTop){var r=e-this.prevScrollTop;r>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),r<0&&(this.grid.scrollDirection=t.scrollDirection.UP);return n=e/this.getVerticalScrollLength(),n>1&&(n=1),n<0&&(n=0),this.adjustScrollVertical(e,n),n}},GridRenderContainer.prototype.scrollHorizontal=function(e){var n=-1;if(e!==this.prevScrollLeft){var r=e-this.prevScrollLeft;r>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),r<0&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var i=this.getHorizontalScrollLength();return n=0!==i?e/i:0,this.adjustScrollHorizontal(e,n),n}},GridRenderContainer.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&(void 0!==e&&void 0!==e&&null!==e||(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},GridRenderContainer.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&(void 0!==e&&void 0!==e&&null!==e||(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},GridRenderContainer.prototype.adjustRows=function(e,t,n){var r=this,i=r.minRowsToRender(),o=r.visibleRowCache,a=o.length-i;void 0!==t&&null!==t||!e||(t=e/r.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*t));s>a&&(s=a);var l=[];if(o.length>r.grid.options.virtualizationThreshold){if(void 0!==e&&null!==e){if(!r.grid.suppressParentScrollDown&&r.prevScrollTop<e&&s<r.prevRowScrollIndex+r.grid.options.scrollThreshold&&s<a)return;if(!r.grid.suppressParentScrollUp&&r.prevScrollTop>e&&s>r.prevRowScrollIndex-r.grid.options.scrollThreshold&&s<a)return}var c={},u={};c=Math.max(0,s-r.grid.options.excessRows),u=Math.min(o.length,s+i+r.grid.options.excessRows),l=[c,u]}else{var d=r.visibleRowCache.length;l=[0,Math.max(d,i+r.grid.options.excessRows)]}r.updateViewableRowRange(l),r.prevRowScrollIndex=s},GridRenderContainer.prototype.adjustColumns=function(e,t){var n=this,r=n.minColumnsToRender(),i=n.visibleColumnCache,o=i.length-r;void 0!==t&&null!==t||!e||(t=e/n.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var s=[];if(i.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){s=[Math.max(0,a-n.grid.options.excessColumns),Math.min(i.length,a+r+n.grid.options.excessColumns)]}else{var l=n.visibleColumnCache.length;s=[0,Math.max(l,r+n.grid.options.excessColumns)]}n.updateViewableColumnRange(s),n.prevColumnScrollIndex=a},GridRenderContainer.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},GridRenderContainer.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},GridRenderContainer.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},GridRenderContainer.prototype.updateColumnWidths=function(){var t=this,n=[],r=0,i=0,o="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,s=[];angular.forEach(t.grid.renderContainers,function(e,t){s=s.concat(e.visibleColumnCache)}),s.forEach(function(t,o){var s=0;t.visible&&(angular.isNumber(t.width)?(s=parseInt(t.width,10),i+=s,t.drawnWidth=s):e.endsWith(t.width,"%")?(s=parseInt(parseInt(t.width.replace(/%/g,""),10)/100*a),s>t.maxWidth&&(s=t.maxWidth),s<t.minWidth&&(s=t.minWidth),i+=s,t.drawnWidth=s):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(r+=t.width.length,n.push(t)))});var l=a-i;if(n.length>0){var c=l/r;n.forEach(function(e){var t=parseInt(e.width.length*c,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),i+=t,e.drawnWidth=t})}for(var u=function(e){e.drawnWidth<e.maxWidth&&d>0&&(e.drawnWidth++,i++,d--,h=!0)},d=a-i,h=!0;d>0&&h;)h=!1,n.forEach(u);var p=function(e){e.drawnWidth>e.minWidth&&m>0&&(e.drawnWidth--,i--,m--,h=!0)},m=i-a;for(h=!0;m>0&&h;)h=!1,n.forEach(p);var f=0;t.visibleColumnCache.forEach(function(e){e.visible&&(f+=e.drawnWidth)}),s.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=f,this.columnStyles=o},GridRenderContainer.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},GridRenderContainer.prototype.getViewportStyle=function(){var e=this,n={};return e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(n["overflow-x"]="hidden",n["overflow-y"]="hidden",n):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):"left"===e.name?e.hasVScrollbar=!!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:e.hasVScrollbar=!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,n["overflow-x"]=e.hasHScrollbar?"auto":"hidden",n["overflow-y"]=e.hasVScrollbar?"auto":"hidden",n)},GridRenderContainer}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(e,t){function GridRow(t,n,r){this.grid=r,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=r.options.rowHeight}return Object.defineProperty(GridRow.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),GridRow.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},GridRow.prototype.getEntityQualifiedColField=function(n){return n.field===t.ENTITY_BINDING?"entity":e.preEval("entity."+n.field)},GridRow.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},GridRow.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},GridRow.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},GridRow.prototype.clearThisRowInvisible=function(e,t){void 0!==this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},GridRow.prototype.evaluateRowVisibility=function(e){var t=!0;void 0!==this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,n){e&&(t=!1)}),void 0!==this.visible&&this.visible===t||(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},GridRow}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var n=function GridRowColumn(e,t){if(!(this instanceof GridRowColumn))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=e,this.col=t};return n.prototype.getIntersectionValueRaw=function(){return e(this.row.getEntityQualifiedColField(this.col))(this.row)},n}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function ScrollEvent(t,n,r,i){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=i,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=r,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return ScrollEvent.prototype.getNewScrollLeft=function(t,n){var r=this;if(!r.newScrollLeft){var i,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(n,r.grid);if(void 0!==r.x.percentage&&void 0!==r.x.percentage)i=r.x.percentage;else{if(void 0===r.x.pixels||void 0===r.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");i=r.x.percentage=(a+r.x.pixels)/o}return Math.max(0,i*o)}return r.newScrollLeft},ScrollEvent.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var r,i=e.getVerticalScrollLength(),o=t[0].scrollTop;if(void 0!==n.y.percentage&&void 0!==n.y.percentage)r=n.y.percentage;else{if(void 0===n.y.pixels||void 0===n.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");r=n.y.percentage=(o+n.y.pixels)/i}return Math.max(0,r*i)}return n.newScrollTop},ScrollEvent.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},ScrollEvent.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},ScrollEvent.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},ScrollEvent.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},ScrollEvent.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},ScrollEvent}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,r,i,o,a,s){var l={createGrid:function(r){r=void 0!==r?r:{},r.id=e.newId();var i=new o(r);if(i.options.rowTemplate){var a=t.defer();i.getRowTemplateFn=a.promise,e.getTemplate(i.options.rowTemplate).then(function(e){var t=n(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+i.options.rowTemplate+"'")}).catch(angular.noop)}return i.registerColumnBuilder(l.defaultColumnBuilder),i.registerRowBuilder(l.rowTemplateAssigner),i.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),i.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!angular.isDefined(e.colDef.visible)||e.colDef.visible}),e},50),i.registerRowsProcessor(i.searchRows,100),i.options.externalSort&&angular.isFunction(i.options.externalSort)?i.registerRowsProcessor(i.options.externalSort,200):i.registerRowsProcessor(i.sortByColumn,200),i},defaultColumnBuilder:function(n,r,o){var a=[],s=function(t,o,s,l,c){n[t]?r[o]=n[t]:r[o]=s,a.push(e.getTemplate(r[o]).then(function(e){angular.isFunction(e)&&(e=e());var n="cellTooltip"===c?"col.cellTooltip(row,col)":"col.headerTooltip(col)";c&&!1===r[c]?e=e.replace(i.TOOLTIP,""):c&&r[c]&&(e=e.replace(i.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),r[t]=l?e.replace(i.CUSTOM_FILTERS,function(){return r[l]?"|"+r[l]:""}):e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+n[t]+"'")}).catch(angular.noop))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),r.cellTemplatePromise=a[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),r.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(r){var i=this;if(r.rowTemplate){var o=t.defer();r.getRowTemplateFn=o.promise,e.getTemplate(r.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.rowTemplate+"'")})}else r.rowTemplate=i.options.rowTemplate,r.getRowTemplateFn=i.getRowTemplateFn;return r.getRowTemplateFn}};return l}])}(),function(){function escapeRegExp(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}angular.module("ui.grid").service("rowSearcher",["gridUtil","uiGridConstants",function(e,t){var n=t.filter.CONTAINS,r={};return r.getTerm=function(e){if(void 0===e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},r.stripTerm=function(e){var t=r.getTerm(e);return"string"==typeof t?escapeRegExp(t.replace(/(^\*|\*$)/g,"")):t},r.guessCondition=function(e){if(void 0===e.term||!e.term)return n;var t=r.getTerm(e);if(/\*/.test(t)){var i="";e.flags&&e.flags.caseSensitive||(i+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",i)}return n},r.setupFilters=function(n){for(var i=[],o=n.length,a=0;a<o;a++){var s=n[a];if(s.noTerm||!e.isNullOrUndefined(s.term)){var l={},c="";s.flags&&s.flags.caseSensitive||(c+="i"),e.isNullOrUndefined(s.term)||(s.rawTerm?l.term=s.term:l.term=r.stripTerm(s)),l.noTerm=s.noTerm,s.condition?l.condition=s.condition:l.condition=r.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===t.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,c)),l.condition===t.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",c)),l.condition===t.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,c)),l.condition===t.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",c)),i.push(l)}}return i},r.runColumnFilter=function(e,n,r,i){var o,a=typeof i.condition,s=i.term;if(o=r.filterCellFiltered?e.getCellDisplayValue(n,r):e.getCellValue(n,r),i.condition instanceof RegExp)return i.condition.test(o);if("function"===a)return i.condition(s,o,n,r);if(i.startswithRE)return i.startswithRE.test(o);if(i.endswithRE)return i.endswithRE.test(o);if(i.containsRE)return i.containsRE.test(o);if(i.exactRE)return i.exactRE.test(o);if(i.condition===t.filter.NOT_EQUAL)return!new RegExp("^"+s+"$").exec(o);if("number"==typeof o&&"string"==typeof s){var l=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(l)||(s=l)}return!0===i.flags.date&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),i.condition===t.filter.GREATER_THAN?o>s:i.condition===t.filter.GREATER_THAN_OR_EQUAL?o>=s:i.condition===t.filter.LESS_THAN?o<s:i.condition!==t.filter.LESS_THAN_OR_EQUAL||o<=s},r.searchColumn=function(t,n,i,o){if(t.options.useExternalFiltering)return!0;for(var a=o.length,s=0;s<a;s++){var l=o[s];if((!e.isNullOrUndefined(l.term)&&""!==l.term||l.noTerm)&&!r.runColumnFilter(t,n,i,l))return!1}return!0},r.search=function(t,n,i){if(n){if(!t.options.enableFiltering)return n;for(var o=[],a=i.length,s=0;s<a;s++){var l=i[s];void 0!==l.filters&&function(t){var n=!1;return t.forEach(function(t){(!e.isNullOrUndefined(t.term)&&""!==t.term||t.noTerm)&&(n=!0)}),n}(l.filters)&&o.push({col:l,filters:r.setupFilters(l.filters)})}if(o.length>0){for(var c=function(e,t,n,i){t.visible&&!r.searchColumn(e,t,n,i)&&(t.visible=!1)},u=o.length,d=0;d<u;d++)!function(e,t){for(var r=n.length,i=0;i<r;i++)c(e,n[i],t.col,t.filters)}(t,o[d]);t.api.core.raise.rowsVisibleChanged&&t.api.core.raise.rowsVisibleChanged()}return n}},r}])}(),function(){angular.module("ui.grid").service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",r=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:{}});return r.guessSortFn=function(e){switch(e){case"number":return r.sortNumber;case"numberStr":return r.sortNumberStr;case"boolean":return r.sortBool;case"string":return r.sortAlpha;case"date":return r.sortDate;case"object":return r.basicSort;default:throw new Error("No sorting function found for type:"+e)}},r.handleNulls=function(e,t){if(!e&&0!==e&&!1!==e||!t&&0!==t&&!1!==t){if(!e&&0!==e&&!1!==e&&!t&&0!==t&&!1!==t)return 0;if(!e&&0!==e&&!1!==e)return 1;if(!t&&0!==t&&!1!==t)return-1}return null},r.basicSort=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e===t?0:e<t?-1:1},r.sortNumber=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e-t},r.sortNumberStr=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i,o,a=!1,s=!1;return i=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(i)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:i-o},r.sortAlpha=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i=e.toString().toLowerCase(),o=t.toString().toLowerCase();return i===o?0:i.localeCompare(o)},r.sortDate=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var i=e.getTime(),o=t.getTime();return i===o?0:i<o?-1:1},r.sortBool=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},r.getSortFn=function(e,t,n){var i;return r.colSortFnCache[t.colDef.name]?i=r.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(i=t.sortingAlgorithm,r.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(i=r.sortAlpha,r.colSortFnCache[t.colDef.name]=i):(i=r.guessSortFn(t.colDef.type),i?r.colSortFnCache[t.colDef.name]=i:i=r.sortAlpha),i},r.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:void 0!==e.sort.priority?-1:void 0!==t.sort.priority?1:0},r.sort=function(e,n,i){if(n){if(e.options.useExternalSorting)return n;var o=[],a=[];if(i.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC?e.defaultSort&&e.defaultSort.direction&&(e.defaultSort.direction===t.ASC||e.defaultSort.direction===t.DESC)&&a.push({col:e,sort:e.defaultSort}):o.push({col:e,sort:e.sort})}),o=o.sort(r.prioritySort),a=a.sort(r.prioritySort),o=o.concat(a),0===o.length)return n;var s,l,c=function(e,t){e.entity.$$uiGridIndex=t};n.forEach(c);var u=n.slice(0),d=function(n,i){for(var a,c=0,d=0;0===c&&d<o.length;){s=o[d].col,l=o[d].sort.direction,a=r.getSortFn(e,s,u);var h,p;s.sortCellFiltered?(h=e.getCellDisplayValue(n,s),p=e.getCellDisplayValue(i,s)):(h=e.getCellValue(n,s),p=e.getCellValue(i,s)),c=a(h,p,n,i,l,s),d++}return 0===c?n.entity.$$uiGridIndex-i.entity.$$uiGridIndex:l===t.ASC?c:0-c},h=n.sort(d),p=function(e,t){delete e.entity.$$uiGridIndex};return n.forEach(p),h}},r}])}(),function(){function getStyles(e){var t=e;return void 0!==t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function augmentWidthOrHeight(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];o<4;o+=2){var l=s[o];if("margin"===n){var c=parseFloat(i[n+l]);isNaN(c)||(a+=c)}if(r){if("content"===n){var u=parseFloat(i["padding"+l]);isNaN(u)||(a-=u)}if("margin"!==n){var d=parseFloat(i["border"+l+"Width"]);isNaN(d)||(a-=d)}}else{var h=parseFloat(i["padding"+l]);if(isNaN(h)||(a+=h),"padding"!==n){var p=parseFloat(i["border"+l+"Width"]);isNaN(p)||(a+=p)}}}return a}function getWidthOrHeight(e,t,r){var i,o=!0,a=getStyles(e),s="border-box"===a.boxSizing;if(i<=0||null==i){if(i=a[t],(i<0||null==i)&&(i=e.style[t]),n.test(i))return i;o=s&&!0,i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,r||(s?"border":"content"),o,a)}function getLineHeight(e){e=angular.element(e)[0];var t=e.parentElement;return t||(t=document.getElementsByTagName("body")[0]),parseInt(getStyles(t).fontSize)||parseInt(getStyles(e).fontSize)||16}var e,t=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(e=function(){var e=Array.prototype.slice;return function(t){var n=this,r=e.call(arguments,1);return r.length?function(){return arguments.length?n.apply(t,r.concat(e.call(arguments))):n.apply(t,r)}:function(){return arguments.length?n.apply(t,arguments):n.call(t)}}});var n=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),r=/^(block|none|table(?!-c[ea]).+)/,i={position:"absolute",visibility:"hidden",display:"block"},o=["0","0","0","0"];t.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(t,n,a,s,l,c,u,d,h,p,m){function mousewheelHandler(e,t){var n=angular.element(this),r=0,i=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(i=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=-1*o,o=0),r=0===o?i:o,"deltaY"in t&&(o=-1*t.deltaY,r=o),"deltaX"in t&&(i=t.deltaX,0===o&&(r=-1*i)),0!==o||0!==i){if(1===t.deltaMode){var s=n.data("mousewheel-line-height");r*=s,o*=s,i*=s}else if(2===t.deltaMode){var l=n.data("mousewheel-page-height");r*=l,o*=l,i*=l}a=Math.max(Math.abs(o),Math.abs(i)),(!v||a<v)&&(v=a,shouldAdjustOldDeltas(t,a)&&(v/=40)),r=Math[r>=1?"floor":"ceil"](r/v),i=Math[i>=1?"floor":"ceil"](i/v),o=Math[o>=1?"floor":"ceil"](o/v);var c={originalEvent:t,deltaX:i,deltaY:o,deltaFactor:v,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};g&&clearTimeout(g),g=setTimeout(nullLowestDelta,200),e.call(n[0],c)}}function nullLowestDelta(){v=null}function shouldAdjustOldDeltas(e,t){return"mousewheel"===e.type&&t%120==0}var f={augmentWidthOrHeight:augmentWidthOrHeight,getStyles:getStyles,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return void 0===e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||void 0===e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var r=e[0];return angular.forEach(r,function(e,r){-1===t.indexOf(r)&&n.push({name:r})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(l.get(e))return f.postProcessTemplate(l.get(e));if(angular.isFunction(e.then))return e.then(f.postProcessTemplate).catch(angular.noop);try{if(angular.element(e).length>0)return h.when(e).then(f.postProcessTemplate).catch(angular.noop)}catch(e){}return f.logDebug("fetching url",e),s({method:"GET",url:e}).then(function(t){var n=t.data.trim();return l.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)}).then(f.postProcessTemplate).catch(angular.noop)},postProcessTemplate:function(e){var t=p.startSymbol(),n=p.endSymbol();return"{{"===t&&"}}"===n||(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,n)),h.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),t-r},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},fakeElement:function(e,t,n,r){var i,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),i=n.call(a,a),angular.element(a).remove(),i},normalizeWheelEvent:function(e){var t,n,r,i=e||window.event,o=([].slice.call(arguments,1),0),a=0,s=0,l=0,c=0;return i.originalEvent&&(i=i.originalEvent),i.wheelDelta&&(o=i.wheelDelta),i.detail&&(o=-1*i.detail),s=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(s=0,a=-1*o),i.deltaY&&(s=-1*i.deltaY,o=s),i.deltaX&&(a=i.deltaX,o=-1*a),void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(a=i.wheelDeltaX),l=Math.abs(o),(!t||l<t)&&(t=l),c=Math.max(Math.abs(s),Math.abs(a)),(!n||c<n)&&(n=c),r=o>0?"floor":"ceil",o=Math[r](o/t),a=Math[r](a/n),s=Math[r](s/n),{delta:o,deltaX:a,deltaY:s}},isTouchEnabled:function(){var e;return("ontouchstart"in n||n.DocumentTouch&&a instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},arrayContainsObjectWithProperty:function(e,t,n){var r=!1;return angular.forEach(e,function(e){e[t]===n&&(r=!0)}),r},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=d.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(e){}},enableAnimations:function(e){var t;try{return t=d.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(e){}},nextUid:function(){for(var e,t=o.length;t;){if(t--,57===(e=o[t].charCodeAt(0)))return o[t]="A","uiGrid-"+o.join("");if(90!==e)return o[t]=String.fromCharCode(e+1),"uiGrid-"+o.join("");o[t]="0"}return o.unshift("0"),"uiGrid-"+o.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():void 0!==e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=f.nextUid()):t=e,n+":"+t},resetUids:function(){o=["0","0","0"]},logError:function(e){m.LOG_ERROR_MESSAGES&&t.error(e)},logWarn:function(e){m.LOG_WARN_MESSAGES&&t.warn(e)},logDebug:function(){m.LOG_DEBUG_MESSAGES&&t.debug.apply(t,arguments)}};f.focus={queue:[],byId:function(e,t){this._purgeQueue();var r=c(function(){var r=(t&&t.id?t.id+"-":"")+e,i=n.document.getElementById(r);i?i.focus():f.logWarn("[focus.byId] Element id "+r+" was not found.")},0,!1);return this.queue.push(r),r},byElement:function(e){if(!angular.isElement(e))return f.logWarn("Trying to focus on an element that isn't an element."),h.reject("not-element");e=angular.element(e),this._purgeQueue();var t=c(function(){e&&e[0].focus()},0,!1);return this.queue.push(t),t},bySelector:function(e,t,n){var r=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var i=function(){var n=e[0].querySelector(t);return r.byElement(n)};if(this._purgeQueue(),n){var o=c(i,0,!1);return this.queue.push(o),o}return i()},_purgeQueue:function(){this.queue.forEach(function(e){c.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(e){var t=angular.uppercase(e.charAt(0))+e.substr(1);f["element"+t]=function(t,n){var o=t;if(o&&void 0!==o.length&&o.length&&(o=t[0]),o&&null!==o){var a=getStyles(o);return 0===o.offsetWidth&&r.test(a.display)?f.swap(o,i,function(){return getWidthOrHeight(o,e,n)}):getWidthOrHeight(o,e,n)}return null},f["outerElement"+t]=function(e,n){return e?f["element"+t].call(this,e,n?"margin":"border"):null}}),f.closestElm=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)});for(var r;null!==e;){if(null!==(r=e.parentElement)&&r[n](t))return r;e=r}return null},f.type=function(e){return Function.prototype.toString.call(e.constructor).match(/function (.*?)\(/)[1]},f.getBorderSize=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n=getStyles(e);t=t?"border"+t.charAt(0).toUpperCase()+t.slice(1):"border",t+="Width";var r=parseInt(n[t],10);return isNaN(r)?0:r},f.detectBrowser=function(){var e=n.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var r in t)if(t[r].test(e))return r;return"unknown"},f.rtlScrollType=function rtlScrollType(){if(rtlScrollType.type)return rtlScrollType.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],t="reverse";return document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),angular.element(e).remove(),rtlScrollType.type=t,t},f.normalizeScrollLeft=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(f.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},f.denormalizeScrollLeft=function(e,t,n){if(void 0!==e.length&&e.length&&(e=e[0]),n.isRTL())switch(f.rtlScrollType()){case"default":return e.scrollWidth-e.clientWidth-t;case"negative":return-1*t;case"reverse":return t}return t},f.preEval=function(e){var t=m.BRACKET_REGEXP.exec(e);if(t)return(t[1]?f.preEval(t[1]):t[1])+t[2]+(t[3]?f.preEval(t[3]):t[3]);e=e.replace(m.APOS_REGEXP,"\\'");var n=e.split(m.DOT_REGEXP),r=[n.shift()];return angular.forEach(n,function(e){r.push(e.replace(m.FUNC_REGEXP,"']$1"))}),r.join("['")},f.debounce=function(e,t,n){function debounce(){o=this,i=arguments;var s=function(){r=null,n||(a=e.apply(o,i))},l=n&&!r;return r&&c.cancel(r),r=c(s,t,!1),l&&(a=e.apply(o,i)),a}var r,i,o,a;return debounce.cancel=function(){c.cancel(r),r=null},debounce},f.throttle=function(e,t,n){function runFunc(t){o=+new Date,e.apply(r,i),u(function(){a=null},0,1,!1)}n=n||{};var r,i,o=0,a=null;return function(){if(r=this,i=arguments,null===a){var e=+new Date-o;e>t?runFunc():n.trailing&&(a=u(runFunc,t-e,1,!1))}}},f.on={},f.off={},f._events={},f.addOff=function(e){f.off[e]=function(t,n){var r=f._events[e].indexOf(n);r>0&&f._events[e].removeAt(r)}};var g,v,y="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return f.on.mousewheel=function(t,n){if(t&&n){var r=angular.element(t);r.data("mousewheel-line-height",getLineHeight(r)),r.data("mousewheel-page-height",f.elementHeight(r)),r.data("mousewheel-callbacks")||r.data("mousewheel-callbacks",{});var i=r.data("mousewheel-callbacks");i[n]=(Function.prototype.bind||e).call(mousewheelHandler,r[0],n);for(var o=y.length;o;)r.on(y[--o],i[n]);r.on("$destroy",function(){for(var e=y.length;e;)r.off(y[--e],i[n])})}},f.off.mousewheel=function(e,t){var n=angular.element(e),r=n.data("mousewheel-callbacks"),i=r[t];if(i)for(var o=y.length;o;)n.off(y[--o],i);delete r[t],0===Object.keys(r).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},f}]),t.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("bg",{headerCell:{aria:{defaultFilterLabel:"Филттър за колоната",removeFilter:"Премахни филтър",columnMenuButtonLabel:"Меню на колоната"},priority:"Приоритет:",filterLabel:"Филтър за колоната: "},aggregate:{label:"обекти"},search:{placeholder:"Търсене...",showingItems:"Показани обекти:",selectedItems:"избрани обекти:",totalItems:"Общо:",size:"Размер на страницата:",first:"Първа страница",next:"Следваща страница",previous:"Предишна страница",last:"Последна страница"},menu:{text:"Избери колони:"},sort:{ascending:"Сортиране по възходящ ред",descending:"Сортиране по низходящ ред",none:"Без сортиране",remove:"Премахни сортирането"},column:{hide:"Скрий колоната"},aggregation:{count:"Общо редове: ",sum:"общо: ",avg:"средно: ",min:"най-малко: ",max:"най-много: "},pinning:{pinLeft:"Прикрепи вляво",pinRight:"Прикрепи вдясно",unpin:"Премахване"},columnMenu:{close:"Затвори"},gridMenu:{aria:{buttonLabel:"Меню на таблицата"},columns:"Колони:",importerTitle:"Импортиране на файл",exporterAllAsCsv:"Експортиране на данните като csv",exporterVisibleAsCsv:"Експортиране на видимите данни като csv",exporterSelectedAsCsv:"Експортиране на избраните данни като csv",exporterAllAsPdf:"Експортиране на данните като pdf",exporterVisibleAsPdf:"Експортиране на видимите данни като pdf",exporterSelectedAsPdf:"Експортиране на избраните данни като pdf",clearAllFilters:"Премахни всички филтри"},importer:{noHeaders:"Имената на колоните не успяха да бъдат извлечени, файлът има ли хедър?",noObjects:"Обектите не успяха да бъдат извлечени, файлът съдържа ли данни, различни от хедър?",invalidCsv:"Файлът не може да бъде обработеб, уверете се, че е валиден CSV файл",invalidJson:"Файлът не може да бъде обработеб, уверете се, че е валиден JSON файл",jsonNotArray:"Импортираният JSON файл трябва да съдържа масив, прекратяване."},pagination:{aria:{pageToFirst:"Към първа страница",pageBack:"Страница назад",pageSelected:"Избрана страница",pageForward:"Страница напред",pageToLast:"Към последна страница"},sizes:"обекта на страница",totalItems:"обекта",through:"до",of:"от"},grouping:{group:"Групиране",ungroup:"Премахване на групирането",aggregate_count:"Сбор: Брой",aggregate_sum:"Сбор: Сума",aggregate_max:"Сбор: Максимум",aggregate_min:"Сбор: Минимум",aggregate_avg:"Сбор: Средно",aggregate_remove:"Сбор: Премахване"},validate:{error:"Грешка:",minLength:"Стойността трябва да съдържа поне THRESHOLD символа.",maxLength:"Стойността не трябва да съдържа повече от THRESHOLD символа.",required:"Необходима е стойност."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rækker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Gå til første",pageBack:"Gå tilbage",pageSelected:"Valgte side",pageForward:"Gå frem",pageToLast:"Gå til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter für Spalte",removeFilter:"Filter löschen",columnMenuButtonLabel:"Spaltenmenü"},priority:"Priorität:",filterLabel:"Filter für Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{aria:{selected:"Zeile markiert",notSelected:"Zeile nicht markiert"},placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},columnMenu:{close:"Schließen"},gridMenu:{aria:{buttonLabel:"Tabellenmenü"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurücksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurück",pageSelected:"Ausgwählte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Einträge pro Seite",totalItems:"Einträgen",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{aria:{selected:"Row selected",notSelected:"Row not selected"},placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorité:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller à la première page",pageBack:"Page précédente",pageSelected:"Page sélectionnée",pageForward:"Page suivante",pageToLast:"Aller à la dernière page"},sizes:"éléments par page",totalItems:"éléments",through:"à",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit être supérieure ou égale à THRESHOLD caractères.",maxLength:"La valeur doit être inférieure ou égale à THRESHOLD caractères.",required:"Une valeur est nécéssaire."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("is",{headerCell:{aria:{defaultFilterLabel:"Sía fyrir dálk",removeFilter:"Fjarlægja síu",columnMenuButtonLabel:"Dálkavalmynd"},priority:"Forgangsröðun:",filterLabel:"Sía fyrir dálka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Dragðu dálkhaus hingað til að flokka saman eftir þeim dálki."},search:{placeholder:"Leita...",showingItems:"Sýni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"Stærð síðu:",first:"Fyrsta síða",next:"Næsta síða",previous:"Fyrri síða",last:"Síðasta síða"},menu:{text:"Veldu dálka:"},sort:{ascending:"Raða hækkandi",descending:"Raða lækkandi",none:"Engin röðun",remove:"Fjarlægja röðun"},column:{hide:"Fela dálk"},aggregation:{count:"fjöldi raða: ",sum:"summa: ",avg:"meðaltal: ",min:"lágmark: ",max:"hámark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til hægri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"Töflu valmynd"},columns:"Dálkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja út gögn sem csv",exporterVisibleAsCsv:"Flytja út sýnileg gögn sem csv",exporterSelectedAsCsv:"Flytja út valin gögn sem csv",exporterAllAsPdf:"Flytja út öll gögn sem pdf",exporterVisibleAsPdf:"Flytja út sýnileg gögn sem pdf",exporterSelectedAsPdf:"Flytja út valin gögn sem pdf",clearAllFilters:"Hreinsa allar síur"},importer:{noHeaders:"Ekki hægt að vinna dálkanöfn úr skjalinu, er skjalið örugglega með haus?",noObjects:"Ekki hægt að vinna hluti úr skjalinu, voru örugglega gögn í skjalinu önnur en hausinn?",invalidCsv:"Tókst ekki að vinna skjal, er það örggulega gilt CSV?",invalidJson:"Tókst ekki að vinna skjal, er það örugglega gilt Json?",jsonNotArray:"Innflutt json skjal verður að innihalda fylki, hætti við."},pagination:{aria:{pageToFirst:"Fletta að fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin síða",pageForward:"Fletta áfram",pageToLast:"Fletta að síðustu"},sizes:"hlutir á síðu",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurliða",aggregate_count:"Fjöldi: ",aggregate_sum:"Summa: ",aggregate_max:"Hámark: ",aggregate_min:"Lágmark: ",aggregate_avg:"Meðaltal: ",aggregate_remove:"Fjarlægja: "},validate:{error:"Villa:",minLength:"Gildi ætti að vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi ætti að vera í mesta lagi THRESHOLD stafa langt.",required:"Þarf að hafa gildi."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{headerCell:{aria:{defaultFilterLabel:"列のフィルター",removeFilter:"フィルターの解除",columnMenuButtonLabel:"列のメニュー"},priority:"優先度:",filterLabel:"列フィルター: "},aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",none:"並べ替え無し",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},columnMenu:{close:"閉じる"},gridMenu:{aria:{buttonLabel:"グリッドメニュー"},columns:"列の表示/非表示:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタをクリア"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{aria:{pageToFirst:"最初のページ",pageBack:"前のページ",pageSelected:"現在のページ",pageForward:"次のページ",pageToLast:"最後のページ"},sizes:"項目/ページ",totalItems:"項目",through:"から",of:"項目/全"},grouping:{group:"グループ化",ungroup:"グループ化の解除",aggregate_count:"集計表示: 行数",aggregate_sum:"集計表示: 合計",aggregate_max:"集計表示: 最大",aggregate_min:"集計表示: 最小",aggregate_avg:"集計表示: 平均",aggregate_remove:"集計表示: 解除"},validate:{error:"Error:",minLength:"THRESHOLD 文字以上で入力してください。",maxLength:"THRESHOLD 文字以下で入力してください。",required:"値が必要です。"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for å gruppere etter den kolonnen."},search:{placeholder:"Søk...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidestørrelse:",first:"Første side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til høyre",unpin:"Løsne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil må inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"Gå til første side",pageBack:"Gå til forrige side",pageSelected:"Valgte side",pageForward:"Gå til neste side",pageToLast:"Gå til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usuń filtr",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeciągnij nagłówek kolumny tutaj, aby pogrupować według niej."},search:{aria:{selected:"Wiersz zaznaczony",notSelected:"Wiersz niezaznaczony"},placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Następna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnąco",descending:"Sortuj malejąco",none:"Brak sortowania",remove:"Wyłącz sortowanie"},column:{hide:"Ukryj kolumnę"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"Średnia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczyść filtry"},importer:{noHeaders:"Nie udało się wczytać nazw kolumn. Czy plik posiada nagłówek?",noObjects:"Nie udalo się wczytać pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udało się przetworzyć pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udało się przetworzyć pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawierać tablicę, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Następna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stronę",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: Średnia",aggregate_remove:"Zbiorczo: Usuń"},validate:{error:"Błąd:",minLength:"Wartość powinna składać się z co najmniej THRESHOLD znaków.",maxLength:"Wartość powinna składać się z przynajmniej THRESHOLD znaków.",required:"Wartość jest wymagana."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Próxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:"Фильтр столбца",removeFilter:"Удалить фильтр",columnMenuButtonLabel:"Меню столбца"},priority:"Приоритет:",filterLabel:"Фильтр столбца: "},aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",none:"Без сортировки",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},columnMenu:{close:"Закрыть"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Столбцы:",importerTitle:"Импортировать файл",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Не удалось получить названия столбцов, есть ли в файле заголовок?",noObjects:"Не удалось получить данные, есть ли в файле строки кроме заголовка?",invalidCsv:"Не удалось обработать файл, это правильный CSV-файл?",invalidJson:"Не удалось обработать файл, это правильный JSON?",jsonNotArray:"Импортируемый JSON-файл должен содержать массив, операция отменена."},pagination:{aria:{pageToFirst:"Первая страница",pageBack:"Предыдущая страница",pageSelected:"Выбранная страница",pageForward:"Следующая страница",pageToLast:"Последняя страница"},sizes:"строк на страницу",totalItems:"строк",through:"по",of:"из"},grouping:{group:"Группировать",ungroup:"Разгруппировать",aggregate_count:"Группировать: Count",aggregate_sum:"Для группы: Сумма",aggregate_max:"Для группы: Максимум",aggregate_min:"Для группы: Минимум",aggregate_avg:"Для группы: Среднее",aggregate_remove:"Для группы: Пусто"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Sütun için filtre",removeFilter:"Filtreyi Kaldır",columnMenuButtonLabel:"Sütun Menüsü"},priority:"Öncelik:",filterLabel:"Sütun için filtre: "},aggregate:{label:"kayıtlar"},groupPanel:{description:"Sütuna göre gruplamak için sütun başlığını buraya sürükleyin ve bırakın."},search:{placeholder:"Arama...",showingItems:"Gösterilen Kayıt:",selectedItems:"Seçili Kayıt:",totalItems:"Toplam Kayıt:",size:"Sayfa Boyutu:",first:"İlk Sayfa",next:"Sonraki Sayfa",previous:"Önceki Sayfa",last:"Son Sayfa"},menu:{text:"Sütunları Seç:"},sort:{ascending:"Artan Sırada Sırala",descending:"Azalan Sırada Sırala",none:"Sıralama Yapma",remove:"Sıralamayı Kaldır"},column:{hide:"Sütunu Gizle"},aggregation:{count:"toplam satır: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sağa Sabitle",unpin:"Sabitlemeyi Kaldır"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Menü"},columns:"Sütunlar:",importerTitle:"Dosya içeri aktar",exporterAllAsCsv:"Bütün veriyi CSV olarak dışarı aktar",exporterVisibleAsCsv:"Görünen veriyi CSV olarak dışarı aktar",exporterSelectedAsCsv:"Seçili veriyi CSV olarak dışarı aktar",exporterAllAsPdf:"Bütün veriyi PDF olarak dışarı aktar",exporterVisibleAsPdf:"Görünen veriyi PDF olarak dışarı aktar",exporterSelectedAsPdf:"Seçili veriyi PDF olarak dışarı aktar",clearAllFilters:"Bütün filtreleri kaldır"},importer:{noHeaders:"Sütun isimleri üretilemiyor, dosyanın bir başlığı var mı?",noObjects:"Nesneler üretilemiyor, dosyada başlıktan başka bir veri var mı?",invalidCsv:"Dosya işlenemedi, geçerli bir CSV dosyası mı?",invalidJson:"Dosya işlenemedi, geçerli bir Json dosyası mı?",jsonNotArray:"Alınan Json dosyasında bir dizi bulunmalıdır, işlem iptal ediliyor."},pagination:{aria:{pageToFirst:"İlk sayfaya",pageBack:"Geri git",pageSelected:"Seçili sayfa",pageForward:"İleri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne sayısı",totalItems:"kayıtlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Sayı",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ua",{headerCell:{aria:{defaultFilterLabel:"Фільтр стовпчика",removeFilter:"Видалити фільтр",columnMenuButtonLabel:"Меню ствпчика"},priority:"Пріоритет:",filterLabel:"Фільтр стовпчика: "},aggregate:{label:"елементи"},groupPanel:{description:"Для групування за стовпчиком перетягніть сюди його назву."},search:{placeholder:"Пошук...",showingItems:"Показати елементи:",selectedItems:"Обрані елементи:",totalItems:"Усього елементів:",size:"Розмір сторінки:",first:"Перша сторінка",next:"Наступна сторінка",previous:"Попередня сторінка",last:"Остання сторінка"},menu:{text:"Обрати ствпчики:"},sort:{ascending:"За зростанням",descending:"За спаданням",none:"Без сортування",remove:"Прибрати сортування"},column:{hide:"Приховати стовпчик"},aggregation:{count:"усього рядків: ",sum:"ітого: ",avg:"середнє: ",min:"мін: ",max:"макс: "},pinning:{pinLeft:"Закріпити ліворуч",pinRight:"Закріпити праворуч",unpin:"Відкріпити"},columnMenu:{close:"Закрити"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Стовпчики:",importerTitle:"Імпортувати файл",exporterAllAsCsv:"Експортувати все в CSV",exporterVisibleAsCsv:"Експортувати видимі дані в CSV",exporterSelectedAsCsv:"Експортувати обрані дані в CSV",exporterAllAsPdf:"Експортувати все в PDF",exporterVisibleAsPdf:"Експортувати видимі дані в PDF",exporterSelectedAsPdf:"Експортувати обрані дані в PDF",clearAllFilters:"Очистити всі фільтри"},importer:{noHeaders:"Не вдалося отримати назви стовпчиків, чи є в файлі заголовок?",noObjects:"Не вдалося отримати дані, чи є в файлі рядки окрім заголовка?",invalidCsv:"Не вдалося обробити файл, чи це коректний CSV-файл?",invalidJson:"Не вдалося обробити файл, чи це коректний JSON?",jsonNotArray:"JSON-файл що імпортується повинен містити масив, операцію скасовано."},pagination:{aria:{pageToFirst:"Перша сторінка",pageBack:"Попередня сторінка",pageSelected:"Обрана сторінка",pageForward:"Наступна сторінка",pageToLast:"Остання сторінка"},sizes:"рядків на сторінку",totalItems:"рядків",through:"по",of:"з"},grouping:{group:"Групувати",ungroup:"Розгрупувати",aggregate_count:"Групувати: Кількість",aggregate_sum:"Для групи: Сума",aggregate_max:"Для групи: Максимум",aggregate_min:"Для групи: Мінімум",aggregate_avg:"Для групи: Серднє",aggregate_remove:"Для групи: Пусто"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var r={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},i={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&r.add(e,t)}):r.add(e,t)},getAllLangs:function(){return r.getAllLangs()},get:function(e){var t=e||i.getCurrentLang();return r.get(t)},getSafeText:function(e,n){var o=n||i.getCurrentLang(),a=r.get(o);if(!a)return t.MISSING;for(var s=e.split("."),l=a,c=0;c<s.length;++c){if(void 0===l[s[c]]||null===l[s[c]])return t.MISSING;l=l[s[c]]}return l},setCurrentLang:function(e){e&&(r.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=r.getCurrentLang();return e||(e=t.DEFAULT_LANG,r.setCurrent(e)),e}};return i}]);var r=function(e,t){return{compile:function(){return{pre:function(n,r,i){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(i[o]);a?n.$watch(i[o],function(){e.setCurrentLang(a)}):i.$$observers&&i.$observe(o,function(){e.setCurrentLang(i[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",r]);var i=function(t,n,r){return{restrict:"EA",compile:function(){return{pre:function(i,o,a){var s,l=e[0],c=e[1],u=a[l]||a[c]||o.html(),d=r.MISSING+u;if(a.$$observers){var h=a[l]?l:c;s=a.$observe(h,function(e){e&&o.html(t(e)(n.getCurrentLang())||d)})}var p=t(u),m=i.$on(r.UPDATE_EVENT,function(e){s?s(a[l]||a[c]):o.html(p(n.get())||d)});i.$on("$destroy",m),o.html(p(n.get())||d)}}}}};angular.forEach(e,function(e){n.directive(e,["$parse","i18nService","i18nConstants",i])});var o=function(e,t,n){return function(r){return e(r)(t.get())||n.MISSING+r}};angular.forEach(t,function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}])}(),function(){"use strict";angular.module("ui.grid.autoResize",["ui.grid"]).directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,r,i){function getDimensions(){a=t.elementHeight(n),o=t.elementWidth(n)}function startTimeout(){clearTimeout(s),s=setTimeout(function(){var r=t.elementHeight(n),s=t.elementWidth(n);r!==a||s!==o?(i.grid.gridHeight=r,i.grid.gridWidth=s,i.grid.api.core.raise.gridDimensionChanged(a,o,r,s),e.$apply(function(){i.grid.refresh().then(function(){getDimensions(),startTimeout()})})):startTimeout()},250)}var o,a;getDimensions();var s;startTimeout(),e.$on("$destroy",function(){clearTimeout(s)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,n,r,i){var o=function(e,t,n,r){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=r?r.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){return this.leftColumns.concat(this.columns,this.rightColumns).filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return!1!==e.allowCellFocus})},o.prototype.getNextRowCol=function(e,t,r){switch(e){case n.direction.LEFT:return this.getRowColLeft(t,r);case n.direction.RIGHT:return this.getRowColRight(t,r);case n.direction.UP:return this.getRowColUp(t,r);case n.direction.DOWN:return this.getRowColDown(t,r);case n.direction.PG_UP:return this.getRowColPageUp(t,r);case n.direction.PG_DOWN:return this.getRowColPageDown(t,r)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();if(0===e.length||0===t.length)return null;return new r(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=1);var s=0===o?n.length-1:o-1;return s>=o?0===a?new r(e,n[s]):new r(i[a-1],n[s]):new r(e,n[s])},o.prototype.getRowColRight=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=o===n.length-1?0:o+1;return s<=o?a===i.length-1?new r(e,n[s]):new r(i[a+1],n[s]):new r(e,n[s])},o.prototype.getRowColDown=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);return-1===o&&(o=0),a===i.length-1?new r(e,n[o]):new r(i[a+1],n[o])},o.prototype.getRowColPageDown=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=i.length-s?new r(i[i.length-1],n[o]):new r(i[a+s],n[o])},o.prototype.getRowColUp=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);return-1===o&&(o=0),0===a?new r(e,n[o]):new r(i[a-1],n[o])},o.prototype.getRowColPageUp=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a-s<0?new r(i[0],n[o]):new r(i[a-s],n[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,n,r,i,o,a){var s={initializeGrid:function(e){e.registerColumnBuilder(s.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],s.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,n){return s.scrollToFocus(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,r=0;r<e.cellNav.focusedCells.length;r++)if(e.cellNav.focusedCells[r].col.uid===t.col.uid&&e.cellNav.focusedCells[r].row.uid===t.row.uid){n=r;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=!0===e.modifierKeysToMultiSelectCells,e.keyDownOverrides=e.keyDownOverrides||[]},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new i(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new i(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new i(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,n){var i=[];return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,r.all(i)},scrollToFocus:function(e,t,n){var r=null,i=null;return void 0!==t&&null!==t&&(r=e.getRow(t)),void 0!==n&&null!==n&&(i=e.getColumn(n.name?n.name:n.field)),e.api.core.scrollToIfNecessary(r,i).then(function(){var t={row:r,col:i};null!==r&&null!==i&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var r=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){t<r&&(n+=e.drawnWidth)});var i=0===r?0:(r+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*i}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile","i18nService",function(e,t,n,r,i,o,a,s){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,s){var l=e,c=s.grid;t.initializeGrid(c),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof i||(e=new i(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");if(e.length>0)return e[0]},s.cellNav.broadcastCellNav=c.cellNav.broadcastCellNav=function(e,t,r){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,r),l.$broadcast(n.CELL_NAV_EVENT,e,t,r)},s.cellNav.clearFocus=c.cellNav.clearFocus=function(){c.cellNav.focusedCells=[],l.$broadcast(n.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,n){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e);var r=e.row,o=e.col,a=s.grid.api.cellNav.rowColSelectIndex(e);if(null===c.cellNav.lastRowCol||-1===a){var l=new i(r,o);null!==c.cellNav.lastRowCol&&c.cellNav.lastRowCol.row===l.row&&c.cellNav.lastRowCol.col===l.col||(c.api.cellNav.raise.navigate(l,c.cellNav.lastRowCol,n),c.cellNav.lastRowCol=l),s.grid.options.modifierKeysToMultiSelectCells&&t?c.cellNav.focusedCells.push(e):c.cellNav.focusedCells=[e]}else c.options.modifierKeysToMultiSelectCells&&t&&a>=0&&c.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(e){var i=t.getDirection(e);if(null===i)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[o].cellNav.getNextRowCol(i,a.row,a.col),u=s.grid.renderContainers[o].cellNav.getFocusableCols(),d=s.grid.api.cellNav.rowColSelectIndex(l);return i===n.direction.LEFT&&l.col===u[u.length-1]&&l.row===a.row&&e.keyCode===r.keymap.TAB&&e.shiftKey?(c.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0):i!==n.direction.RIGHT||l.col!==u[0]||l.row!==a.row||e.keyCode!==r.keymap.TAB||e.shiftKey?(c.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l,null,e)}),e.stopPropagation(),e.preventDefault(),!1):(c.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,r,i){var o=i.grid,l=!0;try{angular.module("ngAria")}catch(e){l=!1}l&&function(){var r='<div id="'+o.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="alert" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',i=a(r)(e);t.prepend(i),e.$on(n.CELL_NAV_EVENT,function(e,t,n,r){if(!r||"focus"!==r.type){for(var a=[],l=o.api.cellNav.getCurrentSelection(),c=0;c<l.length;c++)a.push(function(e){return"selectionRowHeaderCol"===e.col.field?e.row.isSelected?s.getSafeText("search.aria.selected"):s.getSafeText("search.aria.notSelected"):o.getCellDisplayValue(e.row,l[c].col)}(l[c]));var u=a.toString();!function(e){e!==i.text().trim()&&(i[0].style.clip="rect(0px,0px,0px,0px)",i[0].innerHTML="",i[0].style.visibility="hidden",i[0].style.visibility="visible",""!==e&&(i[0].style.clip="auto",i[0].appendChild(document.createTextNode(e+" ")),i[0].style.visibility="hidden",i[0].style.visibility="visible"))}(u)}})}()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,n,r,i,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,r,s,l){var c=l[0],u=l[1],d=l[2];if(c.grid.api.cellNav){var h=u.containerId,p=c.grid;if(i.decorateRenderContainers(p),"body"===h){c.grid.options.modifierKeysToMultiSelectCells?r.attr("aria-multiselectable",!0):r.attr("aria-multiselectable",!1);var m=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+p.id+"-aria-speakable "+p.id+'-grid-container" aria-owns="'+p.id+'-grid-container"></div>')(t);r.append(m),m.on("focus",function(e){e.uiGridTargetRenderContainerId=h;var t=c.grid.api.cellNav.getFocusedCell();null===t&&(t=c.grid.renderContainers[h].cellNav.getNextRowCol(a.direction.DOWN,null,null),t.row&&t.col&&c.cellNav.broadcastCellNav(t))}),d.setAriaActivedescendant=function(e){r.attr("aria-activedescendant",e)},d.removeAriaActivedescendant=function(e){r.attr("aria-activedescendant")===e&&r.attr("aria-activedescendant","")},c.focus=function(){n.focus.byElement(m[0])};var f=null;m.on("keydown",function(e){e.uiGridTargetRenderContainerId=h;var t=c.grid.api.cellNav.getFocusedCell();null===(c.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(n){return t[n]===e[n]})})?null:c.cellNav.handleKeyDown(e))&&(c.grid.api.cellNav.raise.viewPortKeyDown(e,t),f=t)}),m.on("keypress",function(t){f&&(e(function(){c.grid.api.cellNav.raise.viewPortKeyPress(t,f)},4),f=null)}),t.$on("$destroy",function(){m.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,n,r,i,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,n,r){},post:function(e,t,n,r){var i=r[0],o=r[1];if(i.grid.api.cellNav){if("body"===o.containerId){var a=i.grid;a.api.core.on.scrollBegin(e,function(e){var t=i.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&i.cellNav.clearFocus()}),a.api.core.on.scrollEnd(e,function(e){var t=i.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&i.cellNav.broadcastCellNav(t)}),a.api.cellNav.on.navigate(e,function(){i.focus()})}}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,n,r,i,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(t,n,r,s){function preventMouseDown(e){e.preventDefault()}function refreshCellFocus(){u.cellNav.focusedCells.some(function(e,n){return e.row===t.row&&e.col===t.col})?setFocused():clearFocus()}function setFocused(){if(!t.focused){n.find("div").addClass("ui-grid-cell-focus"),n.attr("aria-selected",!0),c.setAriaActivedescendant(n.attr("id")),t.focused=!0}}function clearFocus(){if(t.focused){n.find("div").removeClass("ui-grid-cell-focus"),n.attr("aria-selected",!1),c.removeAriaActivedescendant(n.attr("id")),t.focused=!1}}var l=s[0],c=s[1];if(l.grid.api.cellNav&&t.col.colDef.allowCellFocus){var u=l.grid;t.focused=!1,n.attr("tabindex",-1),n.find("div").on("click",function(e){l.cellNav.broadcastCellNav(new a(t.row,t.col),e.ctrlKey||e.metaKey,e),e.stopPropagation(),t.$apply()}),n.on("mousedown",preventMouseDown),l.grid.api.edit&&(l.grid.api.edit.on.beginCellEdit(t,function(){n.off("mousedown",preventMouseDown)}),l.grid.api.edit.on.afterCellEdit(t,function(){n.on("mousedown",preventMouseDown)}),l.grid.api.edit.on.cancelCellEdit(t,function(){n.on("mousedown",preventMouseDown)})),refreshCellFocus(),n.on("focus",function(e){l.cellNav.broadcastCellNav(new a(t.row,t.col),!1,e),e.stopPropagation(),t.$apply()}),t.$on(i.CELL_NAV_EVENT,refreshCellFocus);var d=l.grid.registerDataChangeCallback(function(t){clearFocus(),e(refreshCellFocus)},[o.dataChange.ROW]);t.$on("$destroy",function(){d(),n.find("div").off(),n.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,n){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(e,t,n,r){},beginCellEdit:function(e,t,n){},cancelCellEdit:function(e,t){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(t,r,i){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===i.enableCellEdit?"object"!==t.type:i.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?i.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||i.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(t.editableCellTemplate).then(function(e){r.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?i.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return r}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,n,r,i){var o=i[0];if(o.grid.api.edit&&o.grid.api.cellNav){"body"===i[1].containerId&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,n,r,i,o,a,s,l,c){var u=500;if(t.has("uiGridCellNavService")){t.get("uiGridCellNavService")}return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,d,h,p){function registerBeginEditEvents(){d.on("dblclick",beginEdit),d.on("touchstart",touchStart),p&&p.grid.api.cellNav&&(w=p.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&(n.row!==t.row||n.col!==t.col||t.col.colDef.enableCellEditOnFocus||beginEditKeyDown(e))}),b=p.grid.api.cellNav.on.navigate(t,function(e,r,i){t.col.colDef.enableCellEditOnFocus&&(r&&e.row===r.row&&e.col===r.col||e.row!==t.row||e.col!==t.col||n(function(){beginEdit(i)}))})),t.beginEditEventsWired=!0}function touchStart(e){void 0!==e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),d.on("touchend",touchEnd),v=n(function(){},u),v.then(function(){setTimeout(beginEdit,0),d.off("touchend",touchEnd)})}function touchEnd(e){n.cancel(v),d.off("touchend",touchEnd)}function cancelBeginEditEvents(){d.off("dblclick",beginEdit),d.off("keydown",beginEditKeyDown),d.off("touchstart",touchStart),b(),w(),t.beginEditEventsWired=!1}function beginEditKeyDown(e){s.isStartEditKey(e)&&beginEdit(e)}function shouldEdit(e,n,r){return!n.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t,r):e.colDef.cellEditableCondition)}function beginEdit(e){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){beginEditAfterScroll(e)})}function beginEditAfterScroll(s){if(!_&&shouldEdit(t.col,t.row,s)){var u=t.row.getQualifiedColField(t.col);t.col.colDef.editModelField&&(u=o.preEval("row.entity."+t.col.colDef.editModelField)),g=a(u),f=g(t),m=t.col.editableCellTemplate,m=m.replace(r.MODEL_COL_FIELD,u),m=m.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var h=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";m=m.replace(r.CUSTOM_FILTERS,h);var p="text";switch(t.col.colDef.type){case"boolean":p="checkbox";break;case"number":p="number";break;case"date":p="date"}m=m.replace("INPUT_TYPE",p);var v=t.col.colDef.editDropdownOptionsFunction;if(v)c.when(v(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var b=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=b?resolveObjectFromPath(t.row.entity,b):t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var w=function(){_=!0,cancelBeginEditEvents();var n=angular.element(m);d.append(n),y=t.$new(),e(n)(y),angular.element(d.children()[0]).addClass("ui-grid-cell-contents-hidden")};l.$$phase?w():t.$apply(w);var x=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(endEdit(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,g(t),f),x(),S(),C())}),S=t.$on(i.events.END_CELL_EDIT,function(){endEdit(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,g(t),f),S(),x(),C()}),C=t.$on(i.events.CANCEL_CELL_EDIT,function(){cancelEdit(),C(),x(),S()});t.$broadcast(i.events.BEGIN_CELL_EDIT,s),n(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,s)})}}function endEdit(){if(t.grid.disableScrolling=!1,_){p&&p.grid.api.cellNav&&p.focus();var e=angular.element(d.children()[0]);y.$destroy();for(var n=d.children(),i=1;i<n.length;i++)angular.element(n[i]).remove();e.removeClass("ui-grid-cell-contents-hidden"),_=!1,registerBeginEditEvents(),t.grid.api.core.notifyDataChange(r.dataChange.EDIT)}}function cancelEdit(){t.grid.disableScrolling=!1,_&&(g.assign(t,f),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),endEdit())}function resolveObjectFromPath(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split(".");n.length;){var r=n.shift();if(!(r in e))return;e=e[r]}return e}var m,f,g,v,y,_=!1;if(t.col.colDef.enableCellEdit){var b=function(){},w=function(){},x=function(){t.col.colDef.enableCellEdit&&!1!==t.row.enableCellEdit?t.beginEditEventsWired||registerBeginEditEvents():t.beginEditEventsWired&&cancelBeginEditEvents()};x();var S=t.$watch("row",function(e,t){e!==t&&x()});t.$on("$destroy",function(){S(),d.off()})}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,n,r,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,n){},post:function(e,o,a,s){var l,c,u;s[0]&&(l=s[0]),s[1]&&(c=s[1]),s[2]&&(u=s[2]),e.$on(n.events.BEGIN_CELL_EDIT,function(t,n){if(r(function(){if(o[0].focus(),!o[0].select||!e.col.colDef.enableCellEditOnFocus&&l&&l.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(e){}else o[0].select()}),l&&l.grid.api.cellNav)var a=l.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){if(i.isStartEditKey(e)){var n="number"==typeof e.which?e.which:e.keyCode;n>0&&(u.$setViewValue(String.fromCharCode(n),e),u.$render())}a()});o.on("mousedown",function(t){"checkbox"===o[0].type&&(o.off("blur",e.stopEdit),r(function(){o[0].focus(),o.on("blur",e.stopEdit)}))}),o.on("blur",e.stopEdit)}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,r(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(r){switch(r.keyCode){case t.keymap.ESC:r.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||r.keyCode!==t.keymap.LEFT&&r.keyCode!==t.keymap.RIGHT&&r.keyCode!==t.keymap.UP&&r.keyCode!==t.keymap.DOWN)if(l&&l.grid.api.cellNav)r.uiGridTargetRenderContainerId=c.containerId,null!==l.cellNav.handleKeyDown(r)&&e.stopEdit(r);else switch(r.keyCode){case t.keymap.ENTER:case t.keymap.TAB:r.stopPropagation(),r.preventDefault(),e.stopEdit(r)}else r.stopPropagation();return!0}),e.$on("$destroy",function(){o.off()})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function parseDateString(e){if(void 0===e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),r=parseInt(t[1],10),i=parseInt(t[2],10);return r<1||n<1||i<1?null:new Date(n,r-1,i)}return{priority:-100,require:"?ngModel",link:function(t,n,r,i){2===angular.version.minor&&r.type&&"date"===r.type&&i&&(i.$formatters.push(function(t){return i.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),i.$parsers.push(function(e){if(e&&e.length>0){var t=parseDateString(e);return i.$setValidity(null,t&&!isNaN(t.getTime())),t}return i.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,n){},post:function(r,i,o,a){var s=a[0],l=a[1];r.$on(t.events.BEGIN_CELL_EDIT,function(){n(function(){i[0].focus()}),i[0].style.width=i[0].parentElement.offsetWidth-1+"px",i.on("blur",function(e){r.stopEdit(e)})}),r.stopEdit=function(e){r.$emit(t.events.END_CELL_EDIT)},i.on("keydown",function(n){switch(n.keyCode){case e.keymap.ESC:n.stopPropagation(),r.$emit(t.events.CANCEL_CELL_EDIT)}if(s&&s.grid.api.cellNav)n.uiGridTargetRenderContainerId=l.containerId,null!==s.cellNav.handleKeyDown(n)&&r.stopEdit(n);else switch(n.keyCode){case e.keymap.ENTER:case e.keymap.TAB:n.stopPropagation(),n.preventDefault(),r.stopEdit(n)}return!0}),r.$on("$destroy",function(){i.off()})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,n){},post:function(t,r,i,o){var a;o[0]&&(a=o[0]),o[1]&&o[1];var s=(a.grid,function(r){var i=r.srcElement||r.target;i&&i.files&&i.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,i.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),i.form.reset(),t.$emit(n.events.END_CELL_EDIT)):t.$emit(n.events.CANCEL_CELL_EDIT)});r[0].addEventListener("change",s,!1),t.$on(n.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(e){t.$emit(n.events.END_CELL_EDIT)})}),t.$on("$destroy",function(){r.off(),r[0].removeEventListener("change",s,!1)})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);e.service("uiGridBaseLayerService",["gridUtil","$compile",function(e,t){return{initializeGrid:function(e,t){e.baseLayer={emptyRows:[]},!1!==e.options.enableEmptyGridBaseLayer&&(e.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(e,t){var n=t.options.rowHeight,r=Math.ceil(e/n);if(r>0){t.baseLayer.emptyRows=[];for(var i=0;i<r;i++)t.baseLayer.emptyRows.push({})}}}}]),e.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(e,t,n){return{require:"^uiGrid",scope:!1,compile:function(e,r){return{pre:function(e,r,i,o){var a=!1===n(i.uiGridEmptyBaseLayer)(e);t.initializeGrid(o.grid,a)},post:function(e,n,r,i){function heightHasChanged(){var e=o.getViewportHeight();return e!==a&&(a=e,!0)}function getEmptyBaseLayerCss(e){return".grid"+i.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+e+"px; }"}if(i.grid.options.enableEmptyGridBaseLayer){var o=i.grid.renderContainers.body,a=o.getViewportHeight();i.grid.registerStyleComputation({func:function(){return heightHasChanged()&&t.setNumberOfEmptyRows(a,i.grid),getEmptyBaseLayerCss(a)}})}}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var r=n.get("ui-grid/emptyBaseLayerContainer");return e.prepend(r),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var n={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=!1!==t.options.enableExpandable,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var r={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var r=t.getRow(e);null!==r&&n.toggleRowExpansion(t,r)},expandAllRows:function(){n.expandAllRows(t)},collapseAllRows:function(){n.collapseAllRows(t)},toggleAllRows:function(){n.toggleAllRows(t)},expandRow:function(e){var r=t.getRow(e);null===r||r.isExpanded||n.toggleRowExpansion(t,r)},collapseRow:function(e){var r=t.getRow(e);null!==r&&r.isExpanded&&n.toggleRowExpansion(t,r)},getExpandedRows:function(){return n.getExpandedRows(t).map(function(e){return e.entity})}}}};t.api.registerEventsFromObject(r.events),t.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?n.collapseAllRows(e):n.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return n}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,i,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&!1!==o.grid.options.enableExpandableRowHeader){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(e,t,n,r){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,r){r.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(r.grid.parentRow=e.row)})},post:function(e,t,n,r){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,r,i,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,r,o){i.getTemplate(e.grid.options.expandableRowTemplate).then(function(r){if(e.grid.options.expandableRowScope){var i=e.grid.options.expandableRowScope;for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}var a=angular.element(r);t.append(a),a=n(a)(e),e.row.expandedRendered=!0})},post:function(e,t,n,r){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,n,r){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){return"body"===e.colContainer.name&&!1!==e.grid.options.enableExpandable&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered)},e.expandableRow.shouldRenderFiller=function(){return e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered)})},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var r=angular.element(e.children().children()[0]),i=n.get("ui-grid/expandableScrollFiller"),o=n.get("ui-grid/expandableRow");return r.append(o),r.append(i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,r,i,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){a.csvExport(e,t,n)},pdfExport:function(t,n){a.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):i(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=!0===e.exporterSuppressMenu,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=!0===e.exporterOlderExcelCompatibility,e.exporterIsExcelCompatible=!0===e.exporterIsExcelCompatible,e.exporterMenuItemOrder=e.exporterMenuItemOrder?e.exporterMenuItemOrder:200,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0===e.exporterMenuAllData||e.exporterMenuAllData,e.exporterMenuVisibleData=void 0===e.exporterMenuVisibleData||e.exporterMenuVisibleData,e.exporterMenuSelectedData=void 0===e.exporterMenuSelectedData||e.exporterMenuSelectedData,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=!0===e.exporterHeaderFilterUseName,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,r){return r},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(n){e.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(n){e.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+1},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(n){e.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+2},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(n){e.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+3},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(n){e.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+4},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(n){e.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+5}])},csvExport:function(e,t,n){var r=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var i=e.options.showHeader?r.getColumnHeaders(e,n):[],o=r.getData(e,t,n),a=r.formatAsCsv(i,o,e.options.exporterCsvColumnSeparator);r.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility,e.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(n,r,i){if(r===t.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(){n.modifyRows(n.options.data)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,n){var r,i=[];if(n===t.ALL)r=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],s=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];r=o.concat(a,s)}return r.forEach(function(t,n){!0!==t.colDef.exporterSuppressExport&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&i.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),i},getData:function(e,r,i,o){var a,s,l=[];switch(r){case t.ALL:a=e.rows;break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}if(i===t.ALL)s=e.columns;else{var c=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],u=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],d=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];s=c.concat(u,d)}return a.forEach(function(n,r){if(!1!==n.exporterEnableExporting){var a=[];s.forEach(function(r,s){if((r.visible||i===t.ALL)&&!0!==r.colDef.exporterSuppressExport&&-1===e.options.exporterSuppressColumns.indexOf(r.name)){var l=o?e.getCellDisplayValue(n,r):e.getCellValue(n,r),c={value:e.options.exporterFieldCallback(e,n,r,l)};r.colDef.exporterPdfAlign&&(c.alignment=r.colDef.exporterPdfAlign),a.push(c)}}),l.push(a)}}),l},formatAsCsv:function(e,t,n){var r=this,i=e.map(function(e){return{value:e.displayName}}),o=i.length>0?r.formatRowAsCsv(this,n)(i)+"\n":"";return o+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),t=!1;return-1!==e&&(t=!0),t},downloadFile:function(e,t,n,r,i){var o,a=document,s=a.createElement("a"),l="application/octet-stream;charset=utf-8",c=this.isIE();if(i&&(t="sep="+n+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([r?"\ufeff":"",t],{type:l}),e);if(c){var u=a.createElement("iframe");return document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write(t),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(u),!0}if("download"in s){var d=new Blob([r?"\ufeff":"",t],{type:l});o=URL.createObjectURL(d),s.setAttribute("download",e)}else o="data:"+l+","+encodeURIComponent(t),s.setAttribute("target","_blank");s.href=o,s.setAttribute("style","display:none;"),a.body.appendChild(s),setTimeout(function(){if(s.click)s.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),s.dispatchEvent(e)}a.body.removeChild(s)},this.delay)},pdfExport:function(e,t,n){var r=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var i=r.getColumnHeaders(e,n),o=r.getData(e,t,n),a=r.prepareAsPdf(e,i,o);r.isIE()||-1!==navigator.appVersion.indexOf("Edge")?r.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var n,r=document;r.createElement("a");n=this.isIE();var i,o=pdfMake.createPdf(t);o.getBuffer(function(t){if(i=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(n){var o=r.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(i),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,n){var r=this.calculatePdfHeaderWidths(e,t),i=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[i].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:r,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var n=0;t.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var r=0;t.forEach(function(e){if("*"===e.width&&(r+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,r+=e.width}});var i=n+r;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/i})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(i.grid),i.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,n,r,i,o,a,s,l){var c={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},c.defaultGridOptions(e.options),e.registerRowsProcessor(c.groupRows,400),e.registerColumnBuilder(c.groupingColumnBuilder),e.registerColumnsProcessor(c.groupingColumnProcessor,400);var n={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var n=c.getGrouping(e);return n.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations=n.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(n.rowExpandedStates=c.getRowExpandedStates(e.grouping.groupingHeaderCache)),n},setGrouping:function(t){c.setGrouping(e,t)},groupColumn:function(t){var n=e.getColumn(t);c.groupColumn(e,n)},ungroupColumn:function(t){var n=e.getColumn(t);c.ungroupColumn(e,n)},clearGrouping:function(){c.clearGrouping(e)},aggregateColumn:function(t,n,r){var i=e.getColumn(t);c.aggregateColumn(e,i,n,r)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.sortChanged(t,c.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=!1!==e.enableGrouping,e.groupingShowCounts=!1!==e.groupingShowCounts,e.groupingNullLabel=void 0===e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=!0===e.enableGroupHeaderSelection},groupingColumnBuilder:function(e,r,i){if(!1!==e.enableGrouping){void 0===r.grouping&&void 0!==e.grouping?(r.grouping=angular.copy(e.grouping),void 0!==r.grouping.groupPriority&&r.grouping.groupPriority>-1&&(r.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,r.treeAggregationFinalizerFn=c.groupedFinalizerFn)):void 0===r.grouping&&(r.grouping={}),void 0!==r.grouping&&void 0!==r.grouping.groupPriority&&r.grouping.groupPriority>=0&&(r.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return void 0===this.context.col.grouping||void 0===this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){c.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return void 0!==this.context.col.grouping&&void 0!==this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){c.ungroupColumn(this.context.col.grid,this.context.col)}},u={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return void 0!==this.context.col.treeAggregationFn},action:function(){c.aggregateColumn(this.context.col.grid,this.context.col,null)}},d=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var i={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return void 0===this.context.col.treeAggregation||void 0===this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){c.aggregateColumn(this.context.col.grid,this.context.col,e)}};n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregate"+e)||r.menuItems.push(i)};!1!==r.colDef.groupingShowGroupingMenu&&(n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.group")||r.menuItems.push(o),n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.ungroup")||r.menuItems.push(s)),!1!==r.colDef.groupingShowAggregationMenu&&(angular.forEach(l.nativeAggregations(),function(e,t){d(t)}),angular.forEach(i.treeCustomAggregations,function(e,t){d(t,e.menuTitle)}),n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregateRemove")||r.menuItems.push(u))}},groupingColumnProcessor:function(e,t){return e=c.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;void 0!==e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&"object"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,n){return!1===e.options.moveGroupColumns?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,r;return n=e.isRowHeader?e.headerPriority:void 0===e.grouping||void 0===e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,r=t.isRowHeader?t.headerPriority:void 0===t.grouping||void 0===t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===r?-1:null!==r&&null===n?1:null!==n&&null!==r?n-r:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,n){void 0===n.grouping&&(n.grouping={});var r=c.getGrouping(e);n.grouping.groupPriority=r.grouping.length,n.previousSort=angular.copy(n.sort),n.sort?void 0!==n.sort.direction&&null!==n.sort.direction||(n.sort.direction=s.ASC):n.sort={direction:s.ASC},n.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=c.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(n),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){void 0!==t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),c.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh())},aggregateColumn:function(e,t,n){void 0!==t.grouping&&void 0!==t.grouping.groupPriority&&t.grouping.groupPriority>=0&&c.ungroupColumn(e,t);var r={};void 0!==e.options.treeCustomAggregations[n]?r=e.options.treeCustomAggregations[n]:void 0!==l.nativeAggregations()[n]&&(r=l.nativeAggregations()[n]),t.treeAggregation={type:n,label:a.get().aggregation[r.label]||r.label},t.treeAggregationFn=r.aggregationFn,t.treeAggregationFinalizerFn=r.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){void 0!==t&&(c.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var n=e.getColumn(t.colName);n&&c.groupColumn(e,n)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var n=e.getColumn(t.colName);n&&c.aggregateColumn(e,n,t.aggregation.type)}),t.rowExpandedStates&&c.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=c.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),c.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),c.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){void 0!==e&&void 0===e.grid||void 0===this.grid||(e=this.grid);var t=[],n=[];e.columns.forEach(function(e,r){void 0!==e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):void 0!==e.sort&&void 0!==e.sort.priority&&e.sort.priority>=0&&n.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,void 0===e.sort&&(e.sort={}),e.sort.priority=t});var r=t.length;n.sort(function(e,t){return e.sort.priority-t.sort.priority}),n.forEach(function(e,t){e.sort.priority=r,e.suppressRemoveSort=e.colDef.suppressRemoveSort,r++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var n=c.initialiseProcessingState(t),i=function(i,s){var l=t.getCellValue(a,i.col);i.initialised&&0===r.getSortFn(t,i.col,e)(l,i.currentValue)||(c.insertGroupHeader(t,e,o,n,s),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&n.forEach(i)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[];return c.getGrouping(e).grouping.forEach(function(e,n){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e,r){e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,r,a){var s=(r[a].fieldName,r[a].col),l=e.getCellValue(t[n],s),u=l;void 0!==l&&null!==l||(u=e.options.groupingNullLabel);for(var d=function(e){return angular.isObject(e)?JSON.stringify(e):e},h=e.grouping.oldGroupingHeaderCache,p=0;p<a;p++)h&&h[d(r[p].currentValue)]&&(h=h[d(r[p].currentValue)].children);var m;for(h&&h[d(l)]?(m=h[d(l)].row,m.entity={}):(m=new i({},null,e),o.rowTemplateAssigner.call(e,m)),m.entity["$$"+r[a].col.uid]={groupVal:u},m.treeLevel=a,m.groupHeader=!0,m.internalRow=!0,m.enableCellEdit=!1,m.enableSelection=e.options.enableGroupHeaderSelection,r[a].initialised=!0,r[a].currentValue=l,r[a].currentRow=m,c.finaliseProcessingState(r,a+1),t.splice(n,0,m),h=e.grouping.groupingHeaderCache,p=0;p<a;p++)h=h[d(r[p].currentValue)].children;h[d(l)]={row:m,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null},getRowExpandedStates:function(e){if(void 0===e)return{};var t={};return angular.forEach(e,function(e,n){t[n]={state:e.row.treeNode.state},e.children?t[n].children=c.getRowExpandedStates(e.children):t[n].children={}}),t},applyRowExpandedStates:function(e,t){void 0!==t&&angular.forEach(t,function(t,n){e[n]&&(e[n].row.treeNode.state=t.state,t.children&&e[n].children&&c.applyRowExpandedStates(e[n].children,t.children))})}};return c}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){!1!==i.grid.options.enableGrouping&&t.initializeGrid(i.grid,e)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,r,i,o,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,!0!==e.enableImporter||e.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=!1!==e.importerShowMenu,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return void r.logError("No file object provided to importThisFile, should be impossible, aborting");var n=new FileReader;switch(t.type){case"application/json":n.onload=l.importJsonClosure(e);break;default:n.onload=l.importCsvClosure(e)}n.readAsText(t)},importJsonClosure:function(e){return function(t){var n,r=[],i=l.parseJson(e,t);null!==i&&(i.forEach(function(t,i){n=l.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),r.push(n)}),l.addObjects(e,r))}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(n){return void l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(n)?n:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=l.parseCsv(t);if(!n||n.length<1)return void l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);var r=l.createCsvObjects(e,n);if(!r||0===r.length)return void l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result);l.addObjects(e,r)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var r,i=[];return t.forEach(function(t,o){r=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==n[t]&&(r[n[t]]=e)}),r=e.options.importerObjectCallback(e,r),i.push(r)}),i},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var r=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){r[e]?n.push(r[e]):r[e.toLowerCase()]?n.push(r[e.toLowerCase()]):n.push(null)}),n}return t.forEach(function(e,t){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return t.forEach(function(t,r){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n,r){if(e.api.rowEdit){var i=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),i()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",i)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return void 0!==e.options&&void 0!==e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,i){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,i):(s.alert(a.getSafeText(t)),r.logError(n+i))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(e,i.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,r,i,o){var a=function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var r=n.files[0];t.importThisFile(l,r),n.form.reset()}},s=r[0].querySelectorAll(".ui-grid-importer-file-chooser"),l=o.grid;1!==s.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,n,r,i,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,n){return a.setScrollDirections(e,t,n),a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1})},resetScroll:function(t,n){a.setScrollDirections(e,t,n),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,n){a.dataRemovedTop(e,t,n)},dataRemovedBottom:function(t,n){a.dataRemovedBottom(e,t,n)},setScrollDirections:function(t,n){a.setScrollDirections(e,t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=!1!==e.enableInfiniteScroll,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=!0===e.infiniteScrollUp,e.infiniteScrollDown=!1!==e.infiniteScrollDown},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=!0===t,e.suppressParentScrollUp=!0===t,e.infiniteScroll.scrollDown=!1!==n,e.suppressParentScrollDown=!1!==n},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=r.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=r.scrollDirection.DOWN,a.loadData(e.grid);else{var t=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===r.scrollDirection.UP?e.y.percentage<=t&&a.loadData(e.grid):e.grid.scrollDirection===r.scrollDirection.DOWN&&1-e.y.percentage<=t&&a.loadData(e.grid)}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===r.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===r.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return n(function(){var i,o,s,l,c;i=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0),s=e.getVisibleRowCount();var u=o*s;e.infiniteScroll.scrollDown&&i>u&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===r.scrollDirection.UP&&(l=e.infiniteScroll.prevScrollTop||0,c=l+(s-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,c),n(function(){t.resolve()})),e.infiniteScroll.direction===r.scrollDirection.DOWN&&(c=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-i,a.adjustInfiniteScrollPosition(e,c),n(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var n=new i(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),r=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=e.options.rowHeight,s=r*a-o;0===t&&e.infiniteScroll.scrollUp?n.y={percentage:1/s}:n.y={percentage:t/s},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){var r,i,o,s;a.setScrollDirections(e,t,n),r=e.renderContainers.body.visibleRowCache.length,i=e.infiniteScroll.prevScrollTop,s=e.options.rowHeight,o=i-(e.infiniteScroll.previousVisibleRows-r)*s,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,n){var r;a.setScrollDirections(e,t,n),r=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,r)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,n,r){return{pre:function(t,n,r,i){e.initializeGrid(i.grid,t)},post:function(e,t,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,n,r,i,o){var a={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(t.movableColumnBuilder),e.registerDataChangeCallback(t.verifyColumnOrder,[i.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(e,t,n){}}},methods:{colMovable:{moveColumn:function(n,r){var i=e.columns;if(!angular.isNumber(n)||!angular.isNumber(r))return void o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(var a=0,s=0;s<i.length;s++)(angular.isDefined(i[s].colDef.visible)&&!1===i[s].colDef.visible||!0===i[s].isRowHeader)&&a++;if(n>=i.length-a||r>=i.length-a)return void o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");var l=function(e){for(var t=e,n=0;n<=t;n++)angular.isDefined(i[n])&&(angular.isDefined(i[n].colDef.visible)&&!1===i[n].colDef.visible||!0===i[n].isRowHeader)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(r))}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=!1!==e.enableColumnMoving},movableColumnBuilder:function(t,n,r){var i=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?r.enableColumnMoving:t.enableColumnMoving,e.all(i)},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,n=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(r,i){if(-1!==(t=e.columns.indexOf(r))&&t-n!==i){var o=e.columns.splice(t,1)[0];e.columns.splice(i+n,0,o)}})},redrawColumnAtPosition:function(e,n,r){var o=e.columns;if(n!==r){var s=n<r?n+1:n-1,l=Math.min(s,r);for(l;l<=Math.max(s,r)&&!o[l].visible;l++);if(!(l>Math.max(s,r))){var c=o[n];if(c.colDef.enableColumnMoving){if(n>r)for(var u=n;u>r;u--)o[u]=o[u-1];else if(r>n)for(var d=n;d<r;d++)o[d]=o[d+1];o[r]=c,a.updateColumnCache(e),e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(i.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(c.colDef,n,r)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,i,o){if(e.col.colDef.enableColumnMoving){var s,l,c,u,d,h,p=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),m=!1,f=!1,g=function(t){s=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(s+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=t.pageX||(t.originalEvent?t.originalEvent.pageX:0),c=0,u=s+e.grid.getViewportWidth(),"mousedown"===t.type?(r.on("mousemove",v),r.on("mouseup",y)):"touchstart"===t.type&&(r.on("touchmove",v),r.on("touchend",y))},v=function(e){var t=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),n=t-l;0!==n&&(document.onselectstart=function(){return!1},f=!0,m?m&&(x(n),l=t):w())},y=function(t){if(document.onselectstart=null,d&&(d.remove(),m=!1),b(),_(),f){for(var r=e.grid.columns,i=0,o=0;o<r.length&&r[o].colDef.name!==e.col.colDef.name;o++)i++;var a;if(c<0){var s,l=0;if(e.grid.isRTL()){for(s=i+1;s<r.length;s++)if((angular.isUndefined(r[s].colDef.visible)||!0===r[s].colDef.visible)&&(l+=r[s].drawnWidth||r[s].width||r[s].colDef.width)>Math.abs(c)){n.redrawColumnAtPosition(e.grid,i,s-1);break}}else for(s=i-1;s>=0;s--)if((angular.isUndefined(r[s].colDef.visible)||!0===r[s].colDef.visible)&&(l+=r[s].drawnWidth||r[s].width||r[s].colDef.width)>Math.abs(c)){n.redrawColumnAtPosition(e.grid,i,s+1);break}l<Math.abs(c)&&(a=0,e.grid.isRTL()&&(a=r.length-1),n.redrawColumnAtPosition(e.grid,i,a))}else if(c>0){var u,h=0;if(e.grid.isRTL()){for(u=i-1;u>0;u--)if((angular.isUndefined(r[u].colDef.visible)||!0===r[u].colDef.visible)&&(h+=r[u].drawnWidth||r[u].width||r[u].colDef.width)>c){n.redrawColumnAtPosition(e.grid,i,u);break}}else for(u=i+1;u<r.length;u++)if((angular.isUndefined(r[u].colDef.visible)||!0===r[u].colDef.visible)&&(h+=r[u].drawnWidth||r[u].width||r[u].colDef.width)>c){n.redrawColumnAtPosition(e.grid,i,u-1);break}h<c&&(a=r.length-1,e.grid.isRTL()&&(a=0),n.redrawColumnAtPosition(e.grid,i,a))}}},_=function(){p.on("touchstart",g),p.on("mousedown",g)},b=function(){p.off("touchstart",g),p.off("mousedown",g),r.off("mousemove",v),r.off("touchmove",v),r.off("mouseup",y),r.off("touchend",y)};_();var w=function(){m=!0,d=t.clone(),t.parent().append(d),d.addClass("movingColumn");var n={};n.left=t[0].offsetLeft+"px";var r=e.grid.element[0].getBoundingClientRect().right,i=t[0].getBoundingClientRect().right;i>r&&(h=e.col.drawnWidth+(r-i),n.width=h+"px"),d.css(n)},x=function(t){for(var n=e.grid.columns,r=0,i=0;i<n.length;i++)(angular.isUndefined(n[i].colDef.visible)||!0===n[i].colDef.visible)&&(r+=n[i].drawnWidth||n[i].width||n[i].colDef.width);var l,p=d[0].getBoundingClientRect().left-1,m=d[0].getBoundingClientRect().right;if(l=p-s+t,l=l<u?l:u,(p>=s||t>0)&&(m<=u||t<0))d.css({visibility:"visible",left:d[0].offsetLeft+(l<u?t:u-p)+"px"});else if(r>Math.ceil(o.grid.gridWidth)){t*=8;var f=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");f.x={pixels:t},f.grid.scrollContainers("",f)}for(var g=0,v=0;v<n.length;v++)if(angular.isUndefined(n[v].colDef.visible)||!0===n[v].colDef.visible){if(n[v].colDef.name===e.col.colDef.name)break;g+=n[v].drawnWidth||n[v].width||n[v].colDef.width}void 0===e.newScrollLeft?c+=t:c=e.newScrollLeft+l-g,h<e.col.drawnWidth&&(h+=Math.abs(t),d.css({width:h+"px"}))};e.$on("$destroy",b)}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getFirstRowIndex:function(){return e.options.useCustomPagination?e.options.paginationPageSizes.reduce(function(t,n,r){return r<e.options.paginationCurrentPage-1?t+n:t},0):(e.options.paginationCurrentPage-1)*e.options.paginationPageSize},getLastRowIndex:function(){return e.options.useCustomPagination?n.methods.pagination.getFirstRowIndex()+e.options.paginationPageSizes[e.options.paginationCurrentPage-1]-1:Math.min(e.options.paginationCurrentPage*e.options.paginationPageSize,e.options.totalItems)-1},getTotalPages:function(){return e.options.enablePagination?e.options.useCustomPagination?e.options.paginationPageSizes.length:0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||t<1)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods);var r=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var r=parseInt(e.options.paginationPageSize,10),i=parseInt(e.options.paginationCurrentPage,10),o=t.filter(function(e){return e.visible});e.options.totalItems=o.length;var a=n.methods.pagination.getFirstRowIndex(),s=n.methods.pagination.getLastRowIndex();return a>o.length&&(i=e.options.paginationCurrentPage=1,a=(i-1)*r),o.slice(a,s+1)};e.registerRowsProcessor(r,900)},defaultGridOptions:function(t){t.enablePagination=!1!==t.enablePagination,t.enablePaginationControls=!1!==t.enablePaginationControls,t.useExternalPagination=!0===t.useExternalPagination,t.useCustomPagination=!0===t.useCustomPagination,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,r,i,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);r.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(i,o,a,s){i.aria=r.getSafeText("pagination.aria"),i.paginationApi=s.grid.api.pagination,i.sizesLabel=r.getSafeText("pagination.sizes"),i.totalItemsLabel=r.getSafeText("pagination.totalItems"),i.paginationOf=r.getSafeText("pagination.of"),i.paginationThrough=r.getSafeText("pagination.through");var l=s.grid.options;s.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o,"padding"),e});var c=s.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);i.$on("$destroy",c);var u=i.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){if(t!==n&&void 0!==n)return!angular.isNumber(l.paginationCurrentPage)||l.paginationCurrentPage<1?void(l.paginationCurrentPage=1):l.totalItems>0&&l.paginationCurrentPage>i.paginationApi.getTotalPages()?void(l.paginationCurrentPage=i.paginationApi.getTotalPages()):void e.onPaginationChanged(i.grid,l.paginationCurrentPage,l.paginationPageSize)});i.$on("$destroy",function(){u()}),i.cantPageForward=function(){return i.paginationApi.getTotalPages()?i.cantPageToLast():l.data.length<1},i.cantPageToLast=function(){var e=i.paginationApi.getTotalPages();return!e||l.paginationCurrentPage>=e},i.cantPageBackward=function(){return l.paginationCurrentPage<=1};var d=function(e){e&&n.focus.bySelector(o,".ui-grid-pager-control-input")};i.pageFirstPageClick=function(){i.paginationApi.seek(1),d(i.cantPageBackward())},i.pagePreviousPageClick=function(){i.paginationApi.previousPage(),d(i.cantPageBackward())},i.pageNextPageClick=function(){i.paginationApi.nextPage(),d(i.cantPageForward())},i.pageLastPageClick=function(){i.paginationApi.seek(i.paginationApi.getTotalPages()),d(i.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,n,r){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,n){i.pinColumn(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=!1!==e.enablePinning},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.RIGHT)}},c={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return void 0!==this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.NONE)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(c)}},pinColumn:function(e,t,n){n===r.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=n,n===r.container.LEFT?e.createLeftContainer():n===r.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return i}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){return{defaultGridOptions:function(e){e.enableColumnResizing=!1!==e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,r){var i=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?r.enableColumnResizing:e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1),t.all(i)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(e,t){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,r,i){n(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(r,i):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var r=e.getRenderContainer();if("left"===t){var i=r.visibleColumnCache.indexOf(e);return r.visibleColumnCache[i-1*n]}return e}}}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.defaultGridOptions(i.grid.options),i.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,s,l){var c=l.grid;if(c.options.enableColumnResizing){var u=t.get("ui-grid/columnResizer"),d=1;c.isRTL()&&(e.position="left",d=-1);var h=function(){for(var t=r[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=i.findTargetCol(e.col,"left",d),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&!1!==a.colDef.enableColumnResizing){var l=angular.element(u).clone();l.attr("position","left"),r.prepend(l),n(l)(e)}if(!1!==e.col.colDef.enableColumnResizing){var c=angular.element(u).clone();c.attr("position","right"),r.append(c),n(c)(e)}};h();var p=function(){a(h)},m=c.registerDataChangeCallback(p,[o.dataChange.COLUMN]);e.$on("$destroy",m)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,r){var i=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,l){function refreshCanvas(e){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})}function constrainWidth(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function moveFunction(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),u=(e.targetTouches?e.targetTouches[0]:e).clientX-d,u<0?u=0:u>l.grid.gridWidth&&(u=l.grid.gridWidth);var a=r.findTargetCol(o.col,o.position,h);if(!1!==a.colDef.enableColumnResizing){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=u-c,p=parseInt(a.drawnWidth+s*h,10);u+=(constrainWidth(a,p)-p)*h,i.css({left:u+"px"}),l.fireEvent(n.events.ITEM_DRAGGING)}}function upFunction(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),i.remove(),u=(e.changedTouches?e.changedTouches[0]:e).clientX-d;var n=u-c;if(0===n)return f(),void m();var a=r.findTargetCol(o.col,o.position,h);if(!1!==a.colDef.enableColumnResizing){var s=parseInt(a.drawnWidth+n*h,10);a.width=constrainWidth(a,s),a.hasCustomWidth=!0,refreshCanvas(n),r.fireColumnSizeChanged(l.grid,a.colDef,n),f(),m()}}var c=0,u=0,d=0,h=1;l.grid.isRTL()&&(o.position="left",h=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var p=function(t,n){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),d=l.grid.element[0].getBoundingClientRect().left,c=(t.targetTouches?t.targetTouches[0]:t).clientX-d,l.grid.element.append(i),i.css({left:c}),"touchstart"===t.type?(e.on("touchend",upFunction),e.on("touchmove",moveFunction),a.off("mousedown",p)):(e.on("mouseup",upFunction),e.on("mousemove",moveFunction),a.off("touchstart",p))},m=function(){a.on("mousedown",p),a.on("touchstart",p)},f=function(){e.off("mouseup",upFunction),e.off("touchend",upFunction),e.off("mousemove",moveFunction),e.off("touchmove",moveFunction),a.off("mousedown",p),a.off("touchstart",p)};m();var g=function(e,i){e.stopPropagation();var s=r.findTargetCol(o.col,o.position,h);if(!1!==s.colDef.enableColumnResizing){var c=0,u=0,d=t.closestElm(a,".ui-grid-render-container"),p=d.querySelectorAll("."+n.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(p,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var r=angular.element(e);r.attr("style","float: left");var i=t.elementWidth(r);if(n){i+=t.elementWidth(n)}i>c&&(c=i,u=c-i)})}),s.width=constrainWidth(s,c),s.hasCustomWidth=!0,refreshCanvas(u),r.fireColumnSizeChanged(l.grid,s.colDef,u)}};a.on("dblclick",g),a.on("$destroy",function(){a.off("dblclick",g),f()})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,r,i){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(n){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var n=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var r=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):i.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(e,t,n){e.getRow(t).rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){void 0!==e&&null!==e&&e.forEach(function(n,r){n.uid===t.uid&&e.splice(r,1)})},isRowPresent:function(e,t){var n=!1;return e.forEach(function(e,r){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.cancelTimer(e,t),o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,r){var a=this.grid,s=a.getRow(e);if(!s)return void i.logError("Unable to find rowEntity in grid data, dirty flag cannot be set");(n!==r||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s))},beginEditCell:function(e,t){var n=this.grid,r=n.getRow(e);if(!r)return void i.logError("Unable to find rowEntity in grid data, timer cannot be cancelled");o.cancelTimer(n,r)},cancelEditCell:function(e,t){var n=this.grid,r=n.getRow(e);if(!r)return void i.logError("Unable to find rowEntity in grid data, timer cannot be set");o.considerSetTimer(n,r)},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var r=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),r,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t,r){n=e.getRow(t),n?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):i.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var n;t.forEach(function(t,r){n=e.getRow(t),n?(delete n.isDirty,o.removeRow(e.rowEdit.dirtyRows,n),o.cancelTimer(e,n),delete n.isError,o.removeRow(e.rowEdit.errorRows,n)):i.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(e,i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,r){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,n,r,i,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,n){return a.restore(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=!1!==e.saveWidths,e.saveOrder=!1!==e.saveOrder,e.saveScroll=!0===e.saveScroll,e.saveFocus=!0!==e.saveScroll&&!1!==e.saveFocus,e.saveVisible=!1!==e.saveVisible,e.saveSort=!1!==e.saveSort,e.saveFilter=!1!==e.saveFilter,e.saveSelection=!1!==e.saveSelection,e.saveGrouping=!1!==e.saveGrouping,e.saveGroupingExpandedStates=!0===e.saveGroupingExpandedStates,e.savePinning=!1!==e.savePinning,e.saveTreeView=!1!==e.saveTreeView},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t.pagination=a.savePagination(e),t},restore:function(e,t,n){return n.columns&&a.restoreColumns(e,n.columns),n.scrollFocus&&a.restoreScrollFocus(e,t,n.scrollFocus),n.selection&&a.restoreSelection(e,n.selection),n.grouping&&a.restoreGrouping(e,n.grouping),n.treeView&&a.restoreTreeView(e,n.treeView),n.pagination&&a.restorePagination(e,n.pagination),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(n){var r={};r.name=n.name,e.options.saveVisible&&(r.visible=n.visible),e.options.saveWidths&&(r.width=n.width),e.options.saveSort&&(r.sort=angular.copy(n.sort)),e.options.saveFilter&&(r.filters=[],n.filters.forEach(function(e){var t={};angular.forEach(e,function(e,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(t[n]=e)}),r.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(r.pinned=n.renderContainer?n.renderContainer:""),t.push(r)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var n=e.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(t.colName=n.col.colDef.name),null!==n.row&&(t.rowVal=a.getRowVal(e,n.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){return e.api.selection&&e.options.saveSelection?e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)}):[]},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){var n=!1;t.forEach(function(t,r){var i=e.getColumn(t.name);if(i&&!e.isRowHeaderColumn(i)){!e.options.saveVisible||i.visible===t.visible&&i.colDef.visible===t.visible||(i.visible=t.visible,i.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(i)),e.options.saveWidths&&i.width!==t.width&&(i.width=t.width,i.hasCustomWidth=!0),!e.options.saveSort||angular.equals(i.sort,t.sort)||void 0===i.sort&&angular.isEmpty(t.sort)||(i.sort=angular.copy(t.sort),n=!0),e.options.saveFilter&&!angular.equals(i.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(i.filters[t],e),void 0!==e.term&&null!==e.term||delete i.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&i.renderContainer!==t.pinned&&e.api.pinning.pinColumn(i,t.pinned);var o=e.getOnlyDataColumns().indexOf(i);if(-1!==o&&e.options.saveOrder&&o!==r){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(r+e.rowHeaderColumns.length,0,a)}}}),n&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,n){if(e.api.cellNav){var r,i;if(n.colName){var o=e.options.columnDefs.filter(function(e){return e.name===n.colName});o.length>0&&(r=o[0])}n.rowVal&&n.rowVal.row&&(i=n.rowVal.identity?a.findRowByIdentity(e,n.rowVal):e.renderContainers.body.visibleRowCache[n.rowVal.row]);var s=i&&i.entity?i.entity:null;(r||s)&&(n.focus?e.api.cellNav.scrollToFocus(s,r):e.scrollTo(s,r))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var n=a.findRowByIdentity(e,t);n&&e.api.selection.selectRow(n.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row});return n.length>0?n[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(i.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){e!==this.isSelected&&(this.isSelected=e,this.grid.selection.selectedCount+=e?1:-1)},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,n,r){var i={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,i.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,n){},rowSelectionChangedBatch:function(e,t,n){}}},methods:{selection:{toggleRowSelection:function(t,n){var r=e.getRow(t);null!==r&&i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,n){var r=e.getRow(t);null===r||r.isSelected||i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,n){var r=e.renderContainers.body.visibleRowCache[t];null===r||void 0===r||r.isSelected||i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,n){var r=e.getRow(t);null!==r&&r.isSelected&&i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(!1!==e.options.multiSelect){var n=[];e.rows.forEach(function(r){r.isSelected||!1===r.enableSelection||(r.setSelected(!0),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(!1!==e.options.multiSelect){var n=[];e.rows.forEach(function(r){r.visible?r.isSelected||!1===r.enableSelection||(r.setSelected(!0),i.decideRaiseSelectionEvent(e,r,n,t)):r.isSelected&&(r.setSelected(!1),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){i.clearSelectedRows(e,t)},getSelectedRows:function(){return i.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return i.getSelectedRows(e)},getSelectedCount:function(){return e.selection.selectedCount},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=!1!==e.enableRowSelection,e.multiSelect=!1!==e.multiSelect,e.noUnselect=!0===e.noUnselect,e.modifierKeysToMultiSelect=!0===e.modifierKeysToMultiSelect,e.enableRowHeaderSelection=!1!==e.enableRowHeaderSelection,void 0===e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=!1!==e.enableSelectAll,e.enableSelectionBatchEvent=!1!==e.enableSelectionBatchEvent,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=!1!==e.enableFooterTotalSelected,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,n,r,o){var a=t.isSelected;if(!1!==t.enableSelection||a){var s;r||a?!r&&a&&(s=i.getSelectedRows(e),s.length>1&&(a=!1,i.clearSelectedRows(e,n))):i.clearSelectedRows(e,n),a&&o||(t.setSelected(!a),!0===t.isSelected&&(e.selection.lastSelectedRow=t),s=i.getSelectedRows(e),e.selection.selectAll=e.rows.length===s.length,e.api.selection.raise.rowSelectionChanged(t,n))}},shiftSelect:function(e,t,n,r){if(r){var o=i.getSelectedRows(e),a=o.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,s=e.renderContainers.body.visibleRowCache.indexOf(t);if(a>s){var l=a;a=s,s=l}for(var c=[],u=a;u<=s;u++){var d=e.renderContainers.body.visibleRowCache[u];d&&(d.isSelected||!1===d.enableSelection||(d.setSelected(!0),e.selection.lastSelectedRow=d,i.decideRaiseSelectionEvent(e,d,c,n)))}i.decideRaiseSelectionBatchEvent(e,c,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e,t){var n=[];i.getSelectedRows(e).forEach(function(r){r.isSelected&&(r.setSelected(!1),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,n,r){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,r)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return i}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s,0)}var l=!1,c=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},u=function(){a.grid.options.isRowSelectable!==angular.noop&&!0!==l&&(a.grid.registerRowsProcessor(c,500),l=!0)};u();var d=a.grid.registerDataChangeCallback(u,[r.dataChange.OPTIONS]);n.$on("$destroy",d)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,n){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,r,i,o){function selectButtonClick(e,n){if(n.stopPropagation(),n.shiftKey)t.shiftSelect(a,e,n,a.options.multiSelect);else if(n.ctrlKey||n.metaKey)t.toggleRowSelection(a,e,n,a.options.multiSelect,a.options.noUnselect);else if(e.groupHeader)for(var r=0;r<e.treeNode.children.length;r++)t.toggleRowSelection(a,e.treeNode.children[r].row,n,a.options.multiSelect,a.options.noUnselect);else t.toggleRowSelection(a,e,n,a.options.multiSelect&&!a.options.modifierKeysToMultiSelect,a.options.noUnselect)}function selectButtonMouseDown(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var a=o.grid;e.selectButtonClick=selectButtonClick,"ie"===n.detectBrowser()&&r.on("mousedown",selectButtonMouseDown),e.$on("$destroy",function(){r.off()})}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,n,r,i){var o=e.col.grid;e.headerButtonClick=function(e,n){o.selection.selectAll?(t.clearSelectedRows(o,n),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,n),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(n),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,r,i,o){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,n,r,i,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,n,r,i){function registerRowSelectionEvents(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",c),n.on("touchend",u),n.on("click",l),e.registered=!0)}function deregisterRowSelectionEvents(){e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",c),n.off("touchend",u),n.off("click",l),e.registered=!1)}var s=0;i.grid.api.cellNav&&i.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&n.row===e.row&&n.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var l=function(t){"ui-grid-icon-minus-squared"!==t.target.className&&"ui-grid-icon-plus-squared"!==t.target.className&&(n.off("touchend",u),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){n.on("touchend",u)},300))},c=function(e){s=(new Date).getTime(),n.off("click",l)},u=function(e){(new Date).getTime()-s<300&&l(e),a(function(){n.on("click",l)},300)};registerRowSelectionEvents();var d=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?registerRowSelectionEvents():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||deregisterRowSelectionEvents()},[t.dataChange.OPTIONS]);n.on("$destroy",d)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,r){return{pre:function(t,r,i,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var i=angular.element(n),o=e(i)(t);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,n,r,i,o,a,s){var l={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var n={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t){l.expandRow(e,t)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=!1!==e.showTreeRowHeader,e.showTreeExpandNoChildren=!1!==e.showTreeExpandNoChildren,e.treeRowHeaderAlwaysVisible=!1!==e.treeRowHeaderAlwaysVisible,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=!1!==e.enableExpandAll},treeBaseColumnBuilder:function(e,t,n){void 0!==e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),void 0!==e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},void 0!==n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):void 0!==l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),void 0!==e.treeAggregationLabel&&(void 0===t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=!1!==e.treeAggregationUpdateEntity,void 0===t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var n={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(n,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,n,r){void 0!==n.state&&n.state!==r&&(n.state=r,r===t.EXPANDED?e.api.treeBase.raise.rowExpanded(n.row):e.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(t){l.setAllNodes(e,t,r)})},toggleRowTreeState:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===t.EXPANDED?l.collapseRow(e,n):l.expandRow(e,n),e.queueGridRefresh())},expandRow:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.EXPANDED&&(n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.COLLAPSED&&(n.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(n),e.queueGridRefresh())},collapseRowChildren:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var n=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(n=!1)}),n}return!0},treeRows:function(e){if(0===e.length)return e;var n=this;t.EXPANDED;return n.treeBase.tree=l.createTree(n,e),l.updateRowHeaderWidth(n),l.sortTree(n),l.fixFilter(n),l.renderTree(n.treeBase.tree)},updateRowHeaderWidth:function(e){var n=e.getColumn(t.rowHeaderColName),r=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);n&&r!==n.width&&(n.width=r,e.queueRefresh());var i=!0;!1===e.options.showTreeRowHeader&&(i=!1),!1===e.options.treeRowHeaderAlwaysVisible&&e.treeBase.numberLevels<=0&&(i=!1),n&&n.visible!==i&&(n.visible=i,n.colDef.visible=i,e.queueGridRefresh())},renderTree:function(e){var n=[];return e.forEach(function(e){e.row.visible&&n.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(n=n.concat(l.renderTree(e.children)))}),n},createTree:function(e,n){var r,i=-1,o=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var a=l.getAggregations(e),s=function(n){if(void 0!==n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=i){for(;n.treeLevel<=i;){var s=o.pop();l.finaliseAggregations(s),i--}r=o.length>0?l.setCurrentState(o):t.EXPANDED}(void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&l.aggregate(e,n,o),l.addOrUseNode(e,n,o,a),void 0!==n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(o.push(n),i++,r=l.setCurrentState(o)),e.treeBase.numberLevels<n.treeLevel+1&&(e.treeBase.numberLevels=n.treeLevel+1)};for(n.forEach(s);o.length>0;){var c=o.pop();l.finaliseAggregations(c)}return e.treeBase.tree},addOrUseNode:function(e,n,r,i){var o=[];i.forEach(function(e){o.push(l.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(a.state=n.treeNode.state),r.length>0&&(a.parentRow=r[r.length-1]),n.treeNode=a,0===r.length?e.treeBase.tree.push(a):r[r.length-1].treeNode.children.push(a)},setCurrentState:function(e){var n=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(n=t.COLLAPSED)}),n},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,n){var r=n.map(function(e){return e.row});r=s.sort(e,r,e.columns);var i=r.map(function(e){return e.treeNode});return i.forEach(function(n){n.state===t.EXPANDED&&n.children&&n.children.length>0&&(n.children=l.sortInternal(e,n.children))}),i},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(n){void 0!==n.treeAggregationFn&&(t.push(l.buildAggregationObject(n)),e.options.showColumnFooter&&void 0===n.colDef.aggregationType&&n.treeAggregation&&(n.treeFooterAggregation=l.buildAggregationObject(n),n.aggregationType=l.treeFooterAggregationType))}),t},aggregate:function(e,t,n){0===n.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(n){if(void 0!==n.col.treeFooterAggregation){var r=e.getCellValue(t,n.col),i=Number(r);n.col.treeAggregationFn(n.col.treeFooterAggregation,r,i,t)}}),n.forEach(function(n,r){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var i=e.getCellValue(t,n.col),o=Number(i);n.col.treeAggregationFn(n,i,o,t),0===r&&void 0!==n.col.treeFooterAggregation&&n.col.treeAggregationFn(n.col.treeFooterAggregation,i,o,t)})})},nativeAggregations:function(){return{count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,n){void 0===e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||(void 0===e.value?e.value=n:e.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){void 0===e.count?e.count=1:e.count++,isNaN(n)||(void 0===e.value||void 0===e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}}},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&void 0!==e&&void 0!==e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),void 0===t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&void 0!==e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(l.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var n={};angular.forEach(t,function(e,r){t.hasOwnProperty(r)&&"col"!==r&&(n[r]=e)}),e.entity["$$"+t.col.uid]=n}})},treeFooterAggregationType:function(e,t){return l.finaliseAggregation(void 0,t.treeFooterAggregation),void 0===t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,r,i){var o=i.grid;e.treeButtonClick=function(e,n){t.toggleRowTreeState(o,e,n)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,n,r,i){var o=e.col.grid;e.headerButtonClick=function(e,n){o.treeBase.expandAll?t.collapseAllRows(o,n):t.expandAllRows(o,n)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,r){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,r,i,o,a,s,l){var c={initializeGrid:function(e,t){r.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(c.adjustSorting,60);var n={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableTreeView=!1!==e.enableTreeView},adjustSorting:function(e){return this.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return c}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){!1!==i.grid.options.enableTreeView&&t.initializeGrid(i.grid,e)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,n,r,i){var o={validatorFactories:{},setExternalFactoryFunction:function(e){o.externalFactoryFunction=e},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,n){o.validatorFactories[e]={validatorFactory:t,messageFunction:n}},getValidator:function(e,t){if(o.externalFactoryFunction){var n=o.getValidatorFromExternalFactory(e,t);if(n)return n}if(!o.validatorFactories[e])throw"Invalid validator name: "+e;return o.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(o.externalFactoryFunction){var n=o.getMessageFromExternalFactory(e,t);if(n)return n}return o.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,n){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][n]=!0},clearError:function(e,t,n){e["$$errors"+t.name]&&n in e["$$errors"+t.name]&&delete e["$$errors"+t.name][n]},getErrorMessages:function(e,t){var n=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){n.push(o.getMessage(e,t.validators[e]))}),n):n},getFormattedErrors:function(t,n){var i="",a=o.getErrorMessages(t,n);if(a.length)return a.forEach(function(e){i+=e+"<br/>"}),e.trustAsHtml("<p><b>"+r.getSafeText("validate.error")+"</b></p>"+i)},getTitleFormattedErrors:function(t,n){var i="",a=o.getErrorMessages(t,n);if(a.length)return a.forEach(function(e){i+=e+"\n"}),e.trustAsHtml(r.getSafeText("validate.error")+"\n"+i)},runValidators:function(e,n,r,i,a){if(r!==i){if(void 0===n.name||!n.name)throw new Error("colDef.name is required to perform validation");o.setValid(e,n);var s=[];for(var l in n.validators){o.clearError(e,n,l);var c=o.getValidator(l,n.validators[l]),u=t.when(c(i,r,e,n)).then(function(e,t,n){return function(s){s||(o.setInvalid(e,t),o.setError(e,t,n),a&&a.api.validate.raise.validationFailed(e,t,r,i))}}(e,n,l));s.push(u)}return t.all(s)}},createDefaultValidators:function(){o.setValidator("minLength",function(e){return function(t,n,r,i){return void 0===n||null===n||""===n||n.length>=e}},function(e){return r.getSafeText("validate.minLength").replace("THRESHOLD",e)}),o.setValidator("maxLength",function(e){return function(t,n,r,i){return void 0===n||null===n||""===n||n.length<=e}},function(e){return r.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),o.setValidator("required",function(e){return function(t,n,r,i){return!e||!(void 0===n||null===n||""===n)}},function(e){return r.getSafeText("validate.required")})},initializeGrid:function(e,t){t.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var n={events:{validate:{validationFailed:function(e,t,n,r){}}},methods:{validate:{isInvalid:function(e,n){return t.validate.isInvalid(e,n)},getErrorMessages:function(e,n){return t.validate.getErrorMessages(e,n)},getFormattedErrors:function(e,n){return t.validate.getFormattedErrors(e,n)},getTitleFormattedErrors:function(e,n){return t.validate.getTitleFormattedErrors(e,n)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,n,r,i){t.validate.runValidators(e,n,r,i,t)}),o.createDefaultValidators()}};return o}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(e,i.grid)},post:function(e,t,n,r){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row">\x3c!-- tfooter --\x3e<div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header">\x3c!-- theader --\x3e<div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid">\x3c!-- TODO (c0bra): add "scoped" attr here, eventually? --\x3e<style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems">\x3c!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --\x3e</div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ label() }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\">\x3c!-- All of these dom elements are replaced in place --\x3e<div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()">\x3c!-- tbody --\x3e<div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!(row.groupHeader==true || row.entity.subGridOptions.disableRowExpandable)" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div>\x3c!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --\x3e<div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}])},function(e,t,n){n(309),e.exports="angular-loading-bar"},function(e,t){!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,r,i,o,a){function setComplete(){r.cancel(s),a.complete(),c=0,l=0}function isCached(t){var r,i=n.get("$http"),o=e.defaults;!t.cache&&!o.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(r=angular.isObject(t.cache)?t.cache:angular.isObject(o.cache)?o.cache:i);var a=void 0!==r&&void 0!==r.get(t.url);return void 0!==t.cached&&a!==t.cached?t.cached:(t.cached=a,a)}var s,l=0,c=0,u=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||isCached(e)||(i.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===l&&(s=r(function(){a.start()},u)),l++,a.set(c/l)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||isCached(e.config)||(c++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),c>=l?setComplete():a.set(c/l)),e):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||isCached(e.config)||(c++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),c>=l?setComplete():a.set(c/l)),t.reject(e)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,r){function _start(){if(i||(i=e.get("$animate")),n.cancel(a),!d){var o=t[0],c=o.querySelector?o.querySelector(s):t.find(s)[0];c||(c=o.getElementsByTagName("body")[0]);var h=angular.element(c),p=c.lastChild&&angular.element(c.lastChild);r.$broadcast("cfpLoadingBar:started"),d=!0,f&&i.enter(l,h,p),m&&i.enter(u,h,l),_set(g)}}function _set(e){if(d){var t=100*e+"%";c.css("width",t),h=e,p&&(n.cancel(o),o=n(function(){_inc()},250))}}function _inc(){if(!(_status()>=1)){var e=0,t=_status();e=t>=0&&t<.25?(3*Math.random()+3)/100:t>=.25&&t<.65?3*Math.random()/100:t>=.65&&t<.9?2*Math.random()/100:t>=.9&&t<.99?.005:0;_set(_status()+e)}}function _status(){return h}function _completeAnimation(){h=0,d=!1}function _complete(){i||(i=e.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),_set(1),n.cancel(a),a=n(function(){var e=i.leave(l,_completeAnimation);e&&e.then&&e.then(_completeAnimation),i.leave(u)},500)}var i,o,a,s=this.parentSelector,l=angular.element(this.loadingBarTemplate),c=l.find("div").eq(0),u=angular.element(this.spinnerTemplate),d=!1,h=0,p=this.autoIncrement,m=this.includeSpinner,f=this.includeBar,g=this.startSize;return{start:_start,set:_set,status:_status,inc:_inc,complete:_complete,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},function(e,t){},function(e,t,n){n(312),e.exports="ui.tree"},function(e,t){!function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",dropzoneClass:"angular-ui-tree-dropzone",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,t){function countSubTreeDepth(e){if(!e)return 0;var t,n,r,i=0,o=e.childNodes();if(!o||0===o.length)return 0;for(r=o.length-1;r>=0;r--)t=o[r],n=1+countSubTreeDepth(t),i=Math.max(i,n);return i}this.scope=e,e.$element=t,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$allowNodeDrop=!1,e.collapsed=!1,e.expandOnHover=!1,e.init=function(n){var r=n[0];e.$treeScope=n[1]?n[1].scope:null,e.$parentNodeScope=r.scope.$nodeScope,e.$modelValue=r.scope.$modelValue[e.$index],e.$parentNodesScope=r.scope,r.scope.initSubNode(e),t.on("$destroy",function(){r.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.isSibling=function(t){return e.$parentNodesScope==t.$parentNodesScope},e.isChild=function(t){var n=e.childNodes();return n&&n.indexOf(t)>-1},e.prev=function(){var t=e.index();return t>0?e.siblings()[t-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(t,n){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(t,n)},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed,e.$treeScope.$callbacks.toggle(e.collapsed,e)},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var t=e.$parentNodeScope;return t?t.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?countSubTreeDepth(e.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element","$timeout",function(e,t,n){this.scope=e,e.$element=t,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(t){if(!t.$modelValue)return null;e.$nodesMap[t.$modelValue.$$hashKey]=t},e.destroySubNode=function(t){if(!t.$modelValue)return null;e.$nodesMap[t.$modelValue.$$hashKey]=null},e.accept=function(t,n){return e.$treeScope.$callbacks.accept(t,e,n)},e.beforeDrag=function(t){return e.$treeScope.$callbacks.beforeDrag(t)},e.isParent=function(t){return t.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.removeNode=function(t){var r=e.$modelValue.indexOf(t.$modelValue);return r>-1?(n(function(){e.$modelValue.splice(r,1)[0]}),e.$treeScope.$callbacks.removed(t)):null},e.insertNode=function(t,r){n(function(){e.$modelValue.splice(t,0,r)})},e.childNodes=function(){var t,n=[];if(e.$modelValue)for(t=0;t<e.$modelValue.length;t++)n.push(e.$nodesMap[e.$modelValue[t].$$hashKey]);return n},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(t){var n=e.maxDepth||e.$treeScope.maxDepth;return n>0&&e.depth()+t.maxSubDepth()+1>n}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$dropzoneElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.dropzoneEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(t){e.$nodesScope.$element.append(t),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():t.append(e.$emptyElm)},this.resetDropzoneElement=function(){e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length||!e.dropzoneEnabled?e.$dropzoneElm.remove():t.append(e.$dropzoneElm)},e.resetEmptyElement=this.resetEmptyElement,e.resetDropzoneElement=this.resetDropzoneElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,t){return{restrict:"A",scope:!0,controller:"TreeController",link:function(n,r,i,o){var a,s,l,c={accept:null,beforeDrag:null},u={};angular.extend(u,e),u.treeClass&&r.addClass(u.treeClass),"table"===r.prop("tagName").toLowerCase()?(n.$emptyElm=angular.element(t.document.createElement("tr")),s=r.find("tr"),l=s.length>0?angular.element(s).children().length:1e6,a=angular.element(t.document.createElement("td")).attr("colspan",l),n.$emptyElm.append(a)):(n.$emptyElm=angular.element(t.document.createElement("div")),n.$dropzoneElm=angular.element(t.document.createElement("div"))),u.emptyTreeClass&&n.$emptyElm.addClass(u.emptyTreeClass),u.dropzoneClass&&n.$dropzoneElm.addClass(u.dropzoneClass),n.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&(o.resetEmptyElement(),o.resetDropzoneElement())},!0),n.$watch(i.dragEnabled,function(e){"boolean"==typeof e&&(n.dragEnabled=e)}),n.$watch(i.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(n.emptyPlaceholderEnabled=e,o.resetEmptyElement())}),n.$watch(i.nodropEnabled,function(e){"boolean"==typeof e&&(n.nodropEnabled=e)}),n.$watch(i.dropzoneEnabled,function(e){"boolean"==typeof e&&(n.dropzoneEnabled=e,o.resetDropzoneElement())}),n.$watch(i.cloneEnabled,function(e){"boolean"==typeof e&&(n.cloneEnabled=e)}),n.$watch(i.maxDepth,function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(i.dragDelay,function(e){"number"==typeof e&&(n.dragDelay=e)}),c.accept=function(e,t,n){return!(t.nodropEnabled||t.$treeScope.nodropEnabled||t.outOfDepth(e))},c.beforeDrag=function(e){return!0},c.expandTimeoutStart=function(){},c.expandTimeoutCancel=function(){},c.expandTimeoutEnd=function(){},c.removed=function(e){},c.dropped=function(e){},c.dragStart=function(e){},c.dragMove=function(e){},c.dragStop=function(e){},c.beforeDrop=function(e){},c.toggle=function(e,t){},n.$watch(i.uiTree,function(e,t){angular.forEach(e,function(e,t){c[t]&&"function"==typeof e&&(c[t]=e)}),n.$callbacks=c},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(t,n,r,i){var o={};angular.extend(o,e),o.handleClass&&n.addClass(o.handleClass),t!=i.scope&&(t.$nodeScope=i.scope,i.scope.$handleScope=t)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(e,t,n,r,i,o){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(a,s,l,c){var u,d,h,p,m,f,g,v,y,_,b,w,x,S,C,E,T,M,k,A,D,$,P,L,R,O,I,F={},N="ontouchstart"in window,H=null,j=document.body,B=document.documentElement;angular.extend(F,e),F.nodeClass&&s.addClass(F.nodeClass),a.init(c),a.collapsed=!!t.getNodeAttribute(a,"collapsed")||e.defaultCollapsed,a.expandOnHover=!!t.getNodeAttribute(a,"expandOnHover"),a.scrollContainer=t.getNodeAttribute(a,"scrollContainer")||l.scrollContainer||null,a.sourceOnly=a.nodropEnabled||a.$treeScope.nodropEnabled,a.$watch(l.collapsed,function(e){"boolean"==typeof e&&(a.collapsed=e)}),a.$watch("collapsed",function(e){t.setNodeAttribute(a,"collapsed",e),l.$set("collapsed",e)}),a.$watch(l.expandOnHover,function(e){"boolean"!=typeof e&&"number"!=typeof e||(a.expandOnHover=e)}),a.$watch("expandOnHover",function(e){t.setNodeAttribute(a,"expandOnHover",e),l.$set("expandOnHover",e)}),l.$observe("scrollContainer",function(e){"string"==typeof e&&(a.scrollContainer=e)}),a.$watch("scrollContainer",function(e){t.setNodeAttribute(a,"scrollContainer",e),l.$set("scrollContainer",e),g=document.querySelector(e)}),a.$on("angular-ui-tree:collapse-all",function(){a.collapsed=!0}),a.$on("angular-ui-tree:expand-all",function(){a.collapsed=!1}),w=function(e){if((N||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var i,o,l,c,g,v,w,x,S,C=angular.element(e.target);if(i=t.treeNodeHandlerContainerOfElement(C),i&&(C=angular.element(i)),o=s.clone(),x=t.elementIsTreeNode(C),S=t.elementIsTreeNodeHandle(C),(x||S)&&!(x&&t.elementContainsTreeNodeHandler(C)||"input"==(l=C.prop("tagName").toLowerCase())||"textarea"==l||"button"==l||"select"==l)){for(R=angular.element(e.target),O=R[0].attributes["ui-tree"];R&&R[0]&&R[0]!==s&&!O;){if(R[0].attributes&&(O=R[0].attributes["ui-tree"]),t.nodrag(R))return;R=R.parent()}a.beforeDrag(a)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),g=t.eventObj(e),u=!0,d=t.dragInfo(a),I=d.source.$treeScope.$id,c=s.prop("tagName"),"tr"===c.toLowerCase()?(p=angular.element(n.document.createElement(c)),v=angular.element(n.document.createElement("td")).addClass(F.placeholderClass).attr("colspan",s[0].children.length),p.append(v)):p=angular.element(n.document.createElement(c)).addClass(F.placeholderClass),m=angular.element(n.document.createElement(c)),F.hiddenClass&&m.addClass(F.hiddenClass),h=t.positionStarted(g,s),p.css("height",s.prop("offsetHeight")+"px"),f=angular.element(n.document.createElement(a.$parentNodesScope.$element.prop("tagName"))).addClass(a.$parentNodesScope.$element.attr("class")).addClass(F.dragClass),f.css("width",t.width(s)+"px"),f.css("z-index",9999),w=(s[0].querySelector(".angular-ui-tree-handle")||s[0]).currentStyle,w&&(document.body.setAttribute("ui-tree-cursor",r.find("body").css("cursor")||""),r.find("body").css({cursor:w.cursor+"!important"})),a.sourceOnly&&p.css("display","none"),s.after(p),s.after(m),d.isClone()&&a.sourceOnly?f.append(o):f.append(s),r.find("body").append(f),f.css({left:g.pageX-h.offsetX+"px",top:g.pageY-h.offsetY+"px"}),y={placeholder:p,dragging:f},D(),a.$apply(function(){a.$treeScope.$callbacks.dragStart(d.eventArgs(y,h))}),_=Math.max(j.scrollHeight,j.offsetHeight,B.clientHeight,B.scrollHeight,B.offsetHeight),b=Math.max(j.scrollWidth,j.offsetWidth,B.clientWidth,B.scrollWidth,B.offsetWidth))}}},x=function(e){var r,o,s,l,c,m,w,x,S,C,E,T,M,k,A,D,$,P,R,O,N,j,B=t.eventObj(e);if(f){if(e.preventDefault(),n.getSelection?n.getSelection().removeAllRanges():n.document.selection&&n.document.selection.empty(),o=B.pageX-h.offsetX,s=B.pageY-h.offsetY,o<0&&(o=0),s<0&&(s=0),s+10>_&&(s=_-10),o+10>b&&(o=b-10),f.css({left:o+"px",top:s+"px"}),g?(m=g.getBoundingClientRect(),l=g.scrollTop,c=l+g.clientHeight,m.bottom<B.clientY&&c<g.scrollHeight&&(k=Math.min(g.scrollHeight-c,10),g.scrollTop+=k),m.top>B.clientY&&l>0&&(A=Math.min(l,10),g.scrollTop-=A)):(l=window.pageYOffset||n.document.documentElement.scrollTop,c=l+(window.innerHeight||n.document.clientHeight||n.document.clientHeight),c<B.pageY&&c<_&&(k=Math.min(_-c,10),window.scrollBy(0,k)),l>B.pageY&&(A=Math.min(l,10),window.scrollBy(0,-A))),t.positionMoved(e,h,u),u)return void(u=!1);if(x=B.pageX-(n.pageXOffset||n.document.body.scrollLeft||n.document.documentElement.scrollLeft)-(n.document.documentElement.clientLeft||0),S=B.pageY-(n.pageYOffset||n.document.body.scrollTop||n.document.documentElement.scrollTop)-(n.document.documentElement.clientTop||0),angular.isFunction(f.hide)?f.hide():(C=f[0].style.display,f[0].style.display="none"),n.document.elementFromPoint(x,S),T=angular.element(n.document.elementFromPoint(x,S)),L=t.treeNodeHandlerContainerOfElement(T),L&&(T=angular.element(L)),angular.isFunction(f.show)?f.show():f[0].style.display=C,t.elementIsTree(T)?E=T.controller("uiTree").scope:t.elementIsTreeNodeHandle(T)?E=T.controller("uiTreeHandle").scope:t.elementIsTreeNode(T)?E=T.controller("uiTreeNode").scope:t.elementIsTreeNodes(T)?E=T.controller("uiTreeNodes").scope:t.elementIsPlaceholder(T)?E=T.controller("uiTreeNodes").scope:t.elementIsDropzone(T)?(E=T.controller("uiTree").scope,j=!0):T.controller("uiTreeNode")&&(E=T.controller("uiTreeNode").scope),E&&E.$treeScope&&E.$treeScope.$id&&E.$treeScope.$id===I&&h.dirAx)h.distX>0&&(r=d.prev())&&!r.collapsed&&r.accept(a,r.childNodesCount())&&(r.$childNodesScope.$element.append(p),d.moveTo(r.$childNodesScope,r.childNodes(),r.childNodesCount())),h.distX<0&&(d.next()||(w=d.parentNode())&&w.$parentNodesScope.accept(a,w.index()+1)&&(w.$element.after(p),d.moveTo(w.$parentNodesScope,w.siblings(),w.index()+1)));else{if(M=!1,!E)return;if(!E.$treeScope||E.$parent.nodropEnabled||E.$treeScope.nodropEnabled||p.css("display",""),"uiTree"===E.$type&&E.dragEnabled&&(M=E.isEmpty()),"uiTreeHandle"===E.$type&&(E=E.$nodeScope),"uiTreeNode"!==E.$type&&!M&&!j)return void(F.appendChildOnHover&&!d.next()&&v&&(w=d.parentNode(),w.$element.after(p),d.moveTo(w.$parentNodesScope,w.siblings(),w.index()+1),v=!1));H&&p.parent()[0]!=H.$element[0]&&(H.resetEmptyElement(),H.resetDropzoneElement(),H=null),M?(H=E,E.$nodesScope.accept(a,0)&&d.moveTo(E.$nodesScope,E.$nodesScope.childNodes(),0)):j?(H=E,E.$nodesScope.accept(a,E.$nodesScope.childNodes().length)&&d.moveTo(E.$nodesScope,E.$nodesScope.childNodes(),E.$nodesScope.childNodes().length)):E.dragEnabled()&&(angular.isDefined(a.expandTimeoutOn)&&a.expandTimeoutOn!==E.id&&(i.cancel(a.expandTimeout),delete a.expandTimeout,delete a.expandTimeoutOn,a.$callbacks.expandTimeoutCancel()),E.collapsed&&(!0===a.expandOnHover||angular.isNumber(a.expandOnHover)&&0===a.expandOnHover?(E.collapsed=!1,E.$treeScope.$callbacks.toggle(!1,E)):!1!==a.expandOnHover&&angular.isNumber(a.expandOnHover)&&a.expandOnHover>0&&angular.isUndefined(a.expandTimeoutOn)&&(a.expandTimeoutOn=E.$id,a.$callbacks.expandTimeoutStart(),a.expandTimeout=i(function(){a.$callbacks.expandTimeoutEnd(),E.collapsed=!1,E.$treeScope.$callbacks.toggle(!1,E)},a.expandOnHover))),T=E.$element,D=t.offset(T),R=t.height(T),O=E.$childNodesScope?E.$childNodesScope.$element:null,N=O?t.height(O):0,R-=N,P=F.appendChildOnHover?.25*R:t.height(T)/2,$=B.pageY<D.top+P,E.$parentNodesScope.accept(a,E.index())?$?(T[0].parentNode.insertBefore(p[0],T[0]),d.moveTo(E.$parentNodesScope,E.siblings(),E.index())):F.appendChildOnHover&&E.accept(a,E.childNodesCount())?(E.$childNodesScope.$element.prepend(p),d.moveTo(E.$childNodesScope,E.childNodes(),0),v=!0):(T.after(p),d.moveTo(E.$parentNodesScope,E.siblings(),E.index()+1)):!$&&E.accept(a,E.childNodesCount())&&(E.$childNodesScope.$element.append(p),d.moveTo(E.$childNodesScope,E.childNodes(),E.childNodesCount())))}a.$apply(function(){a.$treeScope.$callbacks.dragMove(d.eventArgs(y,h))})}},S=function(e){var t=d.eventArgs(y,h);e.preventDefault(),$(),i.cancel(a.expandTimeout),a.$treeScope.$apply(function(){o.when(a.$treeScope.$callbacks.beforeDrop(t)).then(function(e){!1!==e&&a.$$allowNodeDrop?(d.apply(),a.$treeScope.$callbacks.dropped(t)):A()}).catch(function(){A()}).finally(function(){m.replaceWith(a.$element),p.remove(),f&&(f.remove(),f=null),a.$treeScope.$callbacks.dragStop(t),a.$$allowNodeDrop=!1,d=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(r.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},C=function(e){a.dragEnabled()&&w(e)},E=function(e){x(e)},T=function(e){a.$$allowNodeDrop=!0,S(e)},M=function(e){S(e)},k=function(){var e;return{exec:function(t,n){n||(n=0),this.cancel(),e=i(t,n)},cancel:function(){i.cancel(e)}}}(),P=function(e){27===e.keyCode&&T(e)},A=function(){s.bind("touchstart mousedown",function(e){a.dragDelay>0?k.exec(function(){C(e)},a.dragDelay):C(e)}),s.bind("touchend touchcancel mouseup",function(){a.dragDelay>0&&k.cancel()})},A(),D=function(){angular.element(r).bind("touchend",T),angular.element(r).bind("touchcancel",T),angular.element(r).bind("touchmove",E),angular.element(r).bind("mouseup",T),angular.element(r).bind("mousemove",E),angular.element(r).bind("mouseleave",M),angular.element(r).bind("keydown",P)},$=function(){angular.element(r).unbind("touchend",T),angular.element(r).unbind("touchcancel",T),angular.element(r).unbind("touchmove",E),angular.element(r).unbind("mouseup",T),angular.element(r).unbind("mousemove",E),angular.element(r).unbind("mouseleave",M),angular.element(r).unbind("keydown",P)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(t,n,r,i){var o={},a=i[0],s=i[1],l=i[2];angular.extend(o,e),o.nodesClass&&n.addClass(o.nodesClass),s?(s.scope.$childNodesScope=t,t.$nodeScope=s.scope):l.scope.$nodesScope=t,t.$treeScope=l.scope,a&&(a.$render=function(){t.$modelValue=a.$modelValue}),t.$watch(function(){return r.maxDepth},function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(function(){return r.nodropEnabled},function(e){void 0!==e&&(t.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";function findFirstParentElementWithAttribute(e,t){if(void 0===t)return null;for(var n=t.parentNode,r=1,i="function"==typeof n.setAttribute&&n.hasAttribute(e)?n:null;n&&"function"==typeof n.setAttribute&&!n.hasAttribute(e);){if(n=n.parentNode,i=n,n===document.documentElement){i=null;break}r++}return i}angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(e,t,n){return{nodesData:{},setNodeAttribute:function(e,t,n){if(!e.$modelValue)return null;var r=this.nodesData[e.$modelValue.$$hashKey];r||(r={},this.nodesData[e.$modelValue.$$hashKey]=r),r[t]=n},getNodeAttribute:function(e,t){if(!e.$modelValue)return null;var n=this.nodesData[e.$modelValue.$$hashKey];return n?n[t]:null},nodrag:function(e){return void 0!==e.attr("data-nodrag")&&"false"!==e.attr("data-nodrag")},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:!0===e.$treeScope.cloneEnabled?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,resetParent:function(){this.parent=e.$parentNodesScope},moveTo:function(e,t,n){this.parent=e,this.siblings=t.slice(0);var r=this.siblings.indexOf(this.source);r>-1&&(this.siblings.splice(r,1),this.source.index()<n&&n--),this.siblings.splice(n,0,this.source),this.index=n},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return!0===this.source.$treeScope.cloneEnabled},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,t){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:t}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(n){var r=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}},positionStarted:function(e,t){var n={},r=e.pageX,i=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(r=e.originalEvent.touches[0].pageX,i=e.originalEvent.touches[0].pageY),n.offsetX=r-this.offset(t).left,n.offsetY=i-this.offset(t).top,n.startX=n.lastX=r,n.startY=n.lastY=i,n.nowX=n.nowY=n.distX=n.distY=n.dirAx=0,n.dirX=n.dirY=n.lastDirX=n.lastDirY=n.distAxX=n.distAxY=0,n},positionMoved:function(e,t,n){var r,i=e.pageX,o=e.pageY;if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i=e.originalEvent.touches[0].pageX,o=e.originalEvent.touches[0].pageY),t.lastX=t.nowX,t.lastY=t.nowY,t.nowX=i,t.nowY=o,t.distX=t.nowX-t.lastX,t.distY=t.nowY-t.lastY,t.lastDirX=t.dirX,t.lastDirY=t.dirY,t.dirX=0===t.distX?0:t.distX>0?1:-1,t.dirY=0===t.distY?0:t.distY>0?1:-1,r=Math.abs(t.distX)>Math.abs(t.distY)?1:0,n)return t.dirAx=r,void(t.moving=!0);t.dirAx!==r?(t.distAxX=0,t.distAxY=0):(t.distAxX+=Math.abs(t.distX),0!==t.dirX&&t.dirX!==t.lastDirX&&(t.distAxX=0),t.distAxY+=Math.abs(t.distY),0!==t.dirY&&t.dirY!==t.lastDirY&&(t.distAxY=0)),t.dirAx=r},elementIsTreeNode:function(e){return void 0!==e.attr("ui-tree-node")},elementIsTreeNodeHandle:function(e){return void 0!==e.attr("ui-tree-handle")},elementIsTree:function(e){return void 0!==e.attr("ui-tree")},elementIsTreeNodes:function(e){return void 0!==e.attr("ui-tree-nodes")},elementIsPlaceholder:function(e){return e.hasClass(n.placeholderClass)},elementIsDropzone:function(e){return e.hasClass(n.dropzoneClass)},elementContainsTreeNodeHandler:function(e){return e[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(e){return findFirstParentElementWithAttribute("ui-tree-handle",e[0])}}}])}()},function(e,t){!function(){"use strict";angular.module("ui.grid.draggable-rows",["ui.grid"]).constant("uiGridDraggableRowsConstants",{featureName:"draggableRows",ROW_TARGET_CLASS:"ui-grid-draggable-row-target",ROW_OVER_CLASS:"ui-grid-draggable-row-over",ROW_OVER_ABOVE_CLASS:"ui-grid-draggable-row-over--above",ROW_OVER_BELOW_CLASS:"ui-grid-draggable-row-over--below",ROW_HANDLE_CLASS:"ui-grid-draggable-row-handle",POSITION_ABOVE:"above",POSITION_BELOW:"below",publicEvents:{draggableRows:{rowDragged:function(e,t,n){},rowDropped:function(e,t,n){},rowOverRow:function(e,t,n){},rowEnterRow:function(e,t,n){},rowLeavesRow:function(e,t,n){},rowFinishDrag:function(e){},beforeRowMove:function(e,t,n,r){}}}}).factory("uiGridDraggableRowsCommon",[function(){return{draggedRow:null,draggedRowEntity:null,targetRow:null,targetRowEntity:null,position:null,fromIndex:null,toIndex:null,dragDisabled:!1}}]).factory("uiGridDraggableRowsSettings",[function(){return{dragDisabled:!1}}]).service("uiGridDraggableRowsService",["uiGridDraggableRowsConstants","uiGridDraggableRowsCommon","uiGridDraggableRowsSettings",function(e,t,n){var r={dragndrop:{setDragDisabled:function(e){n.dragDisabled=~~e}}};this.initializeGrid=function(t,n,i){t.api.registerEventsFromObject(e.publicEvents),t.api.registerMethodsFromObject(r),t.api.draggableRows.on.rowFinishDrag(n,function(){angular.forEach(i[0].querySelectorAll("."+e.ROW_OVER_CLASS),function(t){t.classList.remove(e.ROW_OVER_CLASS),t.classList.remove(e.ROW_OVER_ABOVE_CLASS),t.classList.remove(e.ROW_OVER_BELOW_CLASS)}),angular.forEach(i[0].querySelectorAll("."+e.ROW_TARGET_CLASS),function(t){t.classList.remove(e.ROW_TARGET_CLASS)})})}}]).service("uiGridDraggableRowService",["uiGridDraggableRowsConstants","uiGridDraggableRowsCommon","uiGridDraggableRowsSettings","$parse",function(e,t,n,r){var i=function(e,t,n){n.api.draggableRows.raise.beforeRowMove(e,t,this),this.splice(t,0,this.splice(e,1)[0])};this.prepareDraggableRow=function(o,a){var s=o.grid,l=a[0],c=o.grid.options.useUiGridDraggableRowsHandle,u=null,d=null,h=function(){return angular.isString(s.options.data)?r(s.options.data)(s.appScope):s.options.data};!function(){var e=null;s.api.hasOwnProperty("edit")&&(s.api.edit.on.beginCellEdit(null,function(){e=l.getAttribute("draggable"),l.setAttribute("draggable",!1)}),s.api.edit.on.afterCellEdit(null,function(){l.setAttribute("draggable",e),e=null}))}();var p={onMouseDownEventListener:function(t){u=angular.element(t.target),d=u.closest("."+e.ROW_HANDLE_CLASS,a)[0]},onMouseUpEventListener:function(e){u=null,d=null},onDragOverEventListener:function(n){n.preventDefault&&n.preventDefault();var r=n.dataTransfer||n.originalEvent.dataTransfer;r.effectAllowed="copyMove",r.dropEffect="move";var i=n.offsetY||n.layerY||(n.originalEvent?n.originalEvent.offsetY:0);a.addClass(e.ROW_OVER_CLASS),i<this.offsetHeight/2?(t.position=e.POSITION_ABOVE,a.removeClass(e.ROW_OVER_BELOW_CLASS),a.addClass(e.ROW_OVER_ABOVE_CLASS)):(t.position=e.POSITION_BELOW,a.removeClass(e.ROW_OVER_ABOVE_CLASS),a.addClass(e.ROW_OVER_BELOW_CLASS)),s.api.draggableRows.raise.rowOverRow(t,this)},onDragStartEventListener:function(r){if(n.dragDisabled||c&&!d)return r.preventDefault(),r.stopPropagation(),!1;this.classList.add(e.ROW_TARGET_CLASS),r.dataTransfer.setData("Text","move"),t.draggedRow=this,t.draggedRowEntity=o.$parent.$parent.row.entity,t.position=null,t.fromIndex=h().indexOf(t.draggedRowEntity),t.toIndex=null,s.api.draggableRows.raise.rowDragged(t,this)},onDragLeaveEventListener:function(){this.classList.remove(e.ROW_TARGET_CLASS),this.classList.remove(e.ROW_OVER_CLASS),this.classList.remove(e.ROW_OVER_ABOVE_CLASS),this.classList.remove(e.ROW_OVER_BELOW_CLASS),s.api.draggableRows.raise.rowLeavesRow(t,this)},onDragEnterEventListener:function(){s.api.draggableRows.raise.rowEnterRow(t,this)},onDragEndEventListener:function(){s.api.draggableRows.raise.rowFinishDrag()},onDropEventListener:function(n){var r=t.draggedRow;if(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),r===this)return!1;t.toIndex=h().indexOf(o.$parent.$parent.row.entity),t.targetRow=this,t.targetRowEntity=o.$parent.$parent.row.entity,t.position===e.POSITION_ABOVE?t.fromIndex<t.toIndex&&(t.toIndex-=1):t.fromIndex>=t.toIndex&&(t.toIndex+=1),o.$apply(function(){i.apply(h(),[t.fromIndex,t.toIndex,s])}),s.api.draggableRows.raise.rowDropped(t,this),n.preventDefault()}};l.addEventListener("dragover",p.onDragOverEventListener,!1),l.addEventListener("dragstart",p.onDragStartEventListener,!1),l.addEventListener("dragleave",p.onDragLeaveEventListener,!1),l.addEventListener("dragenter",p.onDragEnterEventListener,!1),l.addEventListener("dragend",p.onDragEndEventListener,!1),l.addEventListener("drop",p.onDropEventListener),c&&(l.addEventListener("mousedown",p.onMouseDownEventListener,!1),l.addEventListener("mouseup",p.onMouseUpEventListener,!1))}}]).directive("uiGridDraggableRow",["uiGridDraggableRowService",function(e){return{restrict:"ACE",scope:{grid:"="},compile:function(){return{pre:function(t,n){e.prepareDraggableRow(t,n)}}}}}]).directive("uiGridDraggableRows",["uiGridDraggableRowsService",function(e){return{restrict:"A",replace:!0,priority:0,require:"uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(i.grid,t,n)}}}}}])}()},function(e,t){},function(e,t,n){n(1),n(316),e.exports="hj.modal"},function(e,t){!function(){"use strict";angular.module("hj.modal",[]).factory("ModalService",["$document","$compile","$controller","$http","$rootScope","$q","$templateCache","$timeout",function(e,t,n,r,i,o,a,s){function ModalService(){var c=function(e,t){var n=o.defer();if(e)n.resolve(e);else if(t){var i=a.get(t);i?n.resolve(i):r.get(t).then(function(e){a.put(t,e.data),n.resolve(e.data)},function(e){n.reject(e)})}else n.reject("No template or templateUrl has been specified.");return n.promise};this.showModal=function(r){r.showingClass=r.showingClass||"hj-modal--showing";var a=o.defer();return c(r.template,r.templateUrl).then(function(c){var u=i.$new();u.$scope=u;var d=o.defer(),h=function(e,t){t=t||0,m(),s(function(){d.resolve(e),f()},t)},p=function(e){e=e||0,m(),s(function(){d.reject(),f()},e)},m=function(){s(r.appendElement?function(){r.appendElement.removeClass(r.showingClass)}:function(){l.removeClass(r.showingClass)})},f=function(){u.$destroy(),x.remove(),e.off("keydown",g)};u.$modal={close:h,dismiss:p};var g=function(e){27===e.keyCode&&p()};e.on("keydown",g);var v=r.inputs||{},y=r.controller;u=angular.extend(u,v);var _;y&&"string"==typeof y&&r.controllerAs&&(y=y+" as "+r.controllerAs),y&&"string"!=typeof y&&angular.injector.$$annotate(y),_=n(y||function(){},u),r.controllerAs&&(y&&"string"!=typeof y&&(u[r.controllerAs]=_),y||(u[r.controllerAs]=v));var b=angular.element(c),w=t(b),x=w(u);u.$element=x;var S=r.appendElement?r.appendElement:l;S.append(x),s(function(){S.addClass(r.showingClass)});var C={controller:_,scope:u,element:x,result:d.promise,close:h,dismiss:p};a.resolve(C)}).then(null,function(e){a.reject(e)}),a.promise}}var l=angular.element(e[0].body);return new ModalService}])}()},function(e,t,n){var r,i;!function(n,o){r=[],void 0!==(i=function(){return o()}.apply(t,r))&&(e.exports=i)}(0,function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function makeStateful(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",makeStateful]),e.decorator("numberFilter",["$delegate",makeStateful]),e.decorator("currencyFilter",["$delegate",makeStateful])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){function loadScript(e,t,r,i){var o=document.createElement("script"),a=n||document.getElementsByTagName("body")[0],s=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,i(function(){s||(s=!0,a.removeChild(o),t())},30,!1))}:(o.onload=function(){s||(s=!0,a.removeChild(o),t())},o.onerror=function(){s||(s=!0,a.removeChild(o),r())}),o.src=e,o.async=!0,a.appendChild(o)}function loadLocale(e,t,n,o,a,c,u){function overrideValues(e,t){i===n&&(angular.forEach(e,function(n,r){t[r]?angular.isArray(t[r])&&(e[r].length=t[r].length):delete e[r]}),angular.forEach(t,function(n,r){angular.isArray(t[r])||angular.isObject(t[r])?(e[r]||(e[r]=angular.isArray(t[r])?[]:{}),overrideValues(e[r],t[r])):e[r]=t[r]}))}if(l[n])return i=n,l[n];var d,h=a.defer();return n===i?h.resolve(t):(d=c.get(n))?(i=n,o.$evalAsync(function(){overrideValues(t,d),r.put(s,n),o.$broadcast("$localeChangeSuccess",n,t),h.resolve(t)})):(i=n,l[n]=h.promise,loadScript(e,function(){var e=angular.injector(["ngLocale"]),i=e.get("$locale");overrideValues(t,i),c.put(n,i),delete l[n],o.$applyAsync(function(){r.put(s,n),o.$broadcast("$localeChangeSuccess",n,t),h.resolve(t)})},function(){delete l[n],o.$applyAsync(function(){i===n&&(i=t.id),o.$broadcast("$localeChangeError",n),h.reject(n)})},u)),h.promise}var t,n,r,i,o="angular/i18n/angular-locale_{{locale}}.js",a="tmhDynamicLocaleStorageCache",s=e,l={},c={};this.localeLocationPattern=function(e){return e?(o=e,this):o},this.appendScriptTo=function(e){n=e},this.useStorage=function(e){a=e},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(e){t=e},this.storageKey=function(e){return e?(s=e,this):s},this.addLocalePatternValue=function(e,t){c[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,n,l,u,d,h,p){function loadLocaleFn(t){var n={locale:t,angularVersion:angular.version.full};return loadLocale(m(angular.extend({},c,n)),u,t,e,d,h,p)}var m=l(o);return r=n.get(a),e.$evalAsync(function(){var e;(e=r.get(s)||t)&&loadLocaleFn(e)}),{set:loadLocaleFn,get:function(){return i}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"})},function(e,t,n){n(319),e.exports="iso-3166-country-codes"},function(e,t,n){"use strict";angular.module("iso-3166-country-codes",[]).factory("ISO3166",function(){var e={};e.codeToCountry={AF:"Afghanistan",AX:"Åland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic of The",CK:"Cook Islands",CR:"Costa Rica",CI:"Côte D'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and Mcdonald Islands",VA:"Holy See (vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, The Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Réunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthélemy",SH:"Saint Helena, Ascension and Tristan Da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French Part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and The Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch Part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and The South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.s.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},e.countryToCode={},e.countryCodes=[];for(var t in e.codeToCountry)e.countryToCode[e.codeToCountry[t]]=t,e.countryCodes.push(t);return e.isCountryCode=function(e){return angular.isString(e)&&(e=e.toUpperCase()),angular.isDefined(this.codeToCountry[e])},e.getCountryCode=function(e,t){var n=this.countryToCode[e.toUpperCase()];return t=t||"toUpperCase",n&&n[t]()},e.getCountryName=function(e,t){return t=t||"toString",this.codeToCountry[e]&&this.codeToCountry[e][t]()},e.getCountryNames=function(t,n){n=n||"toString";var r={};return angular.forEach(t,function(t){e.isCountryCode(t)&&(r[t]=e.getCountryName(t,n))}),r},e}).filter("isoCountry",["ISO3166",function(e){return function(t){var n=e.getCountryName(t);return angular.isUndefined(n)?t:n}}]).filter("isoCountryCode",["ISO3166",function(e){return function(t){var n=e.getCountryCode(t);return angular.isUndefined(n)?t:n}}]).directive("countryCode",["ISO3166",function(e){return{require:"ngModel",link:function(t,n,r,i){i.$parsers.unshift(function(t){return e.isCountryCode(t)?(i.$setValidity("countrycode",!0),t):void i.$setValidity("countrycode",!1)})}}}])},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function joinUrl(e,t){if(/^(?:[a-z]+:)?\/\//i.test(t))return t;var n=[e,t].join("/");return function(e){return e.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}(n)}function getFullUrlPath(e){var t="https:"===e.protocol;return e.protocol+"//"+e.hostname+":"+(e.port||(t?"443":"80"))+(/^\//.test(e.pathname)?e.pathname:"/"+e.pathname)}function parseQueryString(e){var t,n,r={};return angular.forEach((e||"").split("&"),function(e){e&&(n=e.split("="),t=decodeURIComponent(n[0]),r[t]=!angular.isDefined(n[1])||decodeURIComponent(n[1]))}),r}function decodeBase64(t){var r;if(void 0!==e&&e.exports)try{r=n(27).Buffer}catch(e){}var i=String.fromCharCode,o=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),a=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return i(55296+(n>>>10))+i(56320+(1023&n));case 3:return i((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return i((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},s=function(e){return e.replace(o,a)};return(r?function(e){return(e.constructor===r.constructor?e:new r(e,"base64")).toString()}:function(e){return s(atob(e))})(String(t).replace(/[-_]/g,function(e){return"-"===e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}var t=function(){function Config(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}return Object.defineProperty(Config,"getConstant",{get:function(){return new Config},enumerable:!0,configurable:!0}),Config}(),r=function(){function AuthProvider(e){this.SatellizerConfig=e}return Object.defineProperty(AuthProvider.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(e){this.SatellizerConfig.baseUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(e){this.SatellizerConfig.loginUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(e){this.SatellizerConfig.signupUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(e){this.SatellizerConfig.unlinkUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(e){this.SatellizerConfig.tokenRoot=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(e){this.SatellizerConfig.tokenName=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(e){this.SatellizerConfig.tokenPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(e){this.SatellizerConfig.tokenHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(e){this.SatellizerConfig.tokenType=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(e){this.SatellizerConfig.withCredentials=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(e){this.SatellizerConfig.storageType=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(e){this.SatellizerConfig.httpInterceptor="function"==typeof e?e:function(){return e}},enumerable:!0,configurable:!0}),AuthProvider.prototype.facebook=function(e){angular.extend(this.SatellizerConfig.providers.facebook,e)},AuthProvider.prototype.google=function(e){angular.extend(this.SatellizerConfig.providers.google,e)},AuthProvider.prototype.github=function(e){angular.extend(this.SatellizerConfig.providers.github,e)},AuthProvider.prototype.instagram=function(e){angular.extend(this.SatellizerConfig.providers.instagram,e)},AuthProvider.prototype.linkedin=function(e){angular.extend(this.SatellizerConfig.providers.linkedin,e)},AuthProvider.prototype.twitter=function(e){angular.extend(this.SatellizerConfig.providers.twitter,e)},AuthProvider.prototype.twitch=function(e){angular.extend(this.SatellizerConfig.providers.twitch,e)},AuthProvider.prototype.live=function(e){angular.extend(this.SatellizerConfig.providers.live,e)},AuthProvider.prototype.yahoo=function(e){angular.extend(this.SatellizerConfig.providers.yahoo,e)},AuthProvider.prototype.bitbucket=function(e){angular.extend(this.SatellizerConfig.providers.bitbucket,e)},AuthProvider.prototype.spotify=function(e){angular.extend(this.SatellizerConfig.providers.spotify,e)},AuthProvider.prototype.oauth1=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"1.0"})},AuthProvider.prototype.oauth2=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"2.0"})},AuthProvider.prototype.$get=function(e,t,n){return{login:function(e,n){return t.login(e,n)},signup:function(e,n){return t.signup(e,n)},logout:function(){return e.logout()},authenticate:function(e,t){return n.authenticate(e,t)},link:function(e,t){return n.authenticate(e,t)},unlink:function(e,t){return n.unlink(e,t)},isAuthenticated:function(){return e.isAuthenticated()},getPayload:function(){return e.getPayload()},getToken:function(){return e.getToken()},setToken:function(t){return e.setToken({access_token:t})},removeToken:function(){return e.removeToken()},setStorageType:function(t){return e.setStorageType(t)}}},AuthProvider.$inject=["SatellizerConfig"],AuthProvider}();r.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];var i=function(){function Shared(e,t,n,r){this.$q=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerStorage=r;var i=this.SatellizerConfig,o=i.tokenName,a=i.tokenPrefix;this.prefixedTokenName=a?[a,o].join("_"):o}return Shared.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},Shared.prototype.getPayload=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e&&3===e.split(".").length)try{var t=e.split(".")[1],n=t.replace("-","+").replace("_","/");return JSON.parse(decodeBase64(n))}catch(e){}},Shared.prototype.setToken=function(e){var t,n=this.SatellizerConfig.tokenRoot,r=this.SatellizerConfig.tokenName,i=e&&e.access_token;if(i&&(angular.isObject(i)&&angular.isObject(i.data)?e=i:angular.isString(i)&&(t=i)),!t&&e){var o=n&&n.split(".").reduce(function(e,t){return e[t]},e.data);t=o?o[r]:e.data&&e.data[r]}t&&this.SatellizerStorage.set(this.prefixedTokenName,t)},Shared.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},Shared.prototype.isAuthenticated=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e){if(3===e.split(".").length)try{var t=e.split(".")[1],n=t.replace("-","+").replace("_","/"),r=JSON.parse(this.$window.atob(n)).exp;if("number"==typeof r)return Math.round((new Date).getTime()/1e3)<r}catch(e){return!0}return!0}return!1},Shared.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},Shared.prototype.setStorageType=function(e){this.SatellizerConfig.storageType=e},Shared.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"],Shared}(),o=function(){function Local(e,t,n){this.$http=e,this.SatellizerConfig=t,this.SatellizerShared=n}return Local.prototype.login=function(e,t){var n=this;return void 0===t&&(t={}),t.url=t.url?t.url:joinUrl(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),t.data=e||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t).then(function(e){return n.SatellizerShared.setToken(e),e})},Local.prototype.signup=function(e,t){return void 0===t&&(t={}),t.url=t.url?t.url:joinUrl(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),t.data=e||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t)},Local.$inject=["$http","SatellizerConfig","SatellizerShared"],Local}(),a=function(){function Popup(e,t,n){this.$interval=e,this.$window=t,this.$q=n,this.popup=null,this.defaults={redirectUri:null}}return Popup.prototype.stringifyOptions=function(e){var t=[];return angular.forEach(e,function(e,n){t.push(n+"="+e)}),t.join(",")},Popup.prototype.open=function(e,t,n,r,i){var o=n.width||500,a=n.height||500,s=this.stringifyOptions({width:o,height:a,top:this.$window.screenY+(this.$window.outerHeight-a)/2.5,left:this.$window.screenX+(this.$window.outerWidth-o)/2}),l=this.$window.cordova||this.$window.navigator.userAgent.indexOf("CriOS")>-1?"_blank":t;if(this.popup=this.$window.open(e,l,s),this.popup&&this.popup.focus&&this.popup.focus(),!i)return this.$window.cordova?this.eventListener(r):("about:blank"===e&&(this.popup.location=e),this.polling(r))},Popup.prototype.polling=function(e){var t=this;return this.$q(function(n,r){var i=document.createElement("a");i.href=e;var o=getFullUrlPath(i),a=t.$interval(function(){t.popup&&!t.popup.closed&&void 0!==t.popup.closed||(t.$interval.cancel(a),r(new Error("The popup window was closed")));try{if(getFullUrlPath(t.popup.location)===o){if(t.popup.location.search||t.popup.location.hash){var e=parseQueryString(t.popup.location.search.substring(1).replace(/\/$/,"")),i=parseQueryString(t.popup.location.hash.substring(1).replace(/[\/$]/,"")),s=angular.extend({},e,i);s.error?r(new Error(s.error)):n(s)}else r(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removed—typically by a routing library—before Satellizer could read it."));t.$interval.cancel(a),t.popup.close()}}catch(e){}},500)})},Popup.prototype.eventListener=function(e){var t=this;return this.$q(function(n,r){t.popup.addEventListener("loadstart",function(i){if(0===i.url.indexOf(e)){var o=document.createElement("a");if(o.href=i.url,o.search||o.hash){var a=parseQueryString(o.search.substring(1).replace(/\/$/,"")),s=parseQueryString(o.hash.substring(1).replace(/[\/$]/,"")),l=angular.extend({},a,s);l.error?r(new Error(l.error)):n(l),t.popup.close()}}}),t.popup.addEventListener("loaderror",function(){r(new Error("Authorization failed"))}),t.popup.addEventListener("exit",function(){r(new Error("The popup window was closed"))})})},Popup.$inject=["$interval","$window","$q"],Popup}(),s=function(){function OAuth1(e,t,n,r){this.$http=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerPopup=r,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}return OAuth1.prototype.init=function(e,t){var n=this;angular.extend(this.defaults,e);var r=e.name,i=e.popupOptions,o=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",r,i,o,!0),this.getRequestToken().then(function(r){return n.openPopup(e,r).then(function(e){return n.exchangeForToken(e,t)})})},OAuth1.prototype.openPopup=function(e,t){var n=[e.authorizationEndpoint,this.buildQueryString(t.data)].join("?"),r=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(n,e.name,e.popupOptions,r):(this.SatellizerPopup.popup.location=n,this.SatellizerPopup.polling(r))},OAuth1.prototype.getRequestToken=function(){var e=this.SatellizerConfig.baseUrl?joinUrl(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(e,this.defaults)},OAuth1.prototype.exchangeForToken=function(e,t){var n=angular.extend({},t,e),r=this.SatellizerConfig.baseUrl?joinUrl(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(r,n,{withCredentials:this.SatellizerConfig.withCredentials})},OAuth1.prototype.buildQueryString=function(e){var t=[];return angular.forEach(e,function(e,n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.join("&")},OAuth1.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"],OAuth1}(),l=function(){function OAuth2(e,t,n,r,i,o,a){this.$http=e,this.$window=t,this.$timeout=n,this.$q=r,this.SatellizerConfig=i,this.SatellizerPopup=o,this.SatellizerStorage=a,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}return OAuth2.camelCase=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,r){return r?n.toUpperCase():n})},OAuth2.prototype.init=function(e,t){var n=this;return this.$q(function(r,i){angular.extend(n.defaults,e);var o=n.defaults.name+"_state",a=n.defaults,s=a.name,l=a.state,c=a.popupOptions,u=a.redirectUri,d=a.responseType;"function"==typeof l?n.SatellizerStorage.set(o,l()):"string"==typeof l&&n.SatellizerStorage.set(o,l);var h=[n.defaults.authorizationEndpoint,n.buildQueryString()].join("?");n.SatellizerPopup.open(h,s,c,u).then(function(e){return"token"!==d&&h?e.state&&e.state!==n.SatellizerStorage.get(o)?i(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void r(n.exchangeForToken(e,t)):r(e)}).catch(function(e){return i(e)})})},OAuth2.prototype.exchangeForToken=function(e,t){var n=this,r=angular.extend({},t);angular.forEach(this.defaults.responseParams,function(t,i){switch(i){case"code":r[t]=e.code;break;case"clientId":r[t]=n.defaults.clientId;break;case"redirectUri":r[t]=n.defaults.redirectUri;break;default:r[t]=e[i]}}),e.state&&(r.state=e.state);var i=this.SatellizerConfig.baseUrl?joinUrl(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(i,r,{withCredentials:this.SatellizerConfig.withCredentials})},OAuth2.prototype.buildQueryString=function(){var e=this,t=[],n=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return angular.forEach(n,function(n){angular.forEach(e.defaults[n],function(n){var r=OAuth2.camelCase(n),i=angular.isFunction(e.defaults[n])?e.defaults[n]():e.defaults[r];if("redirect_uri"!==n||i){if("state"===n){var o=e.defaults.name+"_state";i=encodeURIComponent(e.SatellizerStorage.get(o))}"scope"===n&&Array.isArray(i)&&(i=i.join(e.defaults.scopeDelimiter),e.defaults.scopePrefix&&(i=[e.defaults.scopePrefix,i].join(e.defaults.scopeDelimiter))),t.push([n,i])}})}),t.map(function(e){return e.join("=")}).join("&")},OAuth2.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"],OAuth2}(),c=function(){function OAuth(e,t,n,r,i,o,a,s,l,c){this.$http=e,this.$window=t,this.$timeout=n,this.$q=r,this.SatellizerConfig=i,this.SatellizerPopup=o,this.SatellizerStorage=a,this.SatellizerShared=s,this.SatellizerOAuth1=l,this.SatellizerOAuth2=c}return OAuth.prototype.authenticate=function(e,t){var n=this;return this.$q(function(r,i){var o=n.SatellizerConfig.providers[e],a=null;switch(o.oauthType){case"1.0":a=new s(n.$http,n.$window,n.SatellizerConfig,n.SatellizerPopup);break;case"2.0":a=new l(n.$http,n.$window,n.$timeout,n.$q,n.SatellizerConfig,n.SatellizerPopup,n.SatellizerStorage);break;default:return i(new Error("Invalid OAuth Type"))}return a.init(o,t).then(function(e){o.url&&n.SatellizerShared.setToken(e),r(e)}).catch(function(e){i(e)})})},OAuth.prototype.unlink=function(e,t){return void 0===t&&(t={}),t.url=t.url?t.url:joinUrl(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),t.data={provider:e}||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t)},OAuth.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"],OAuth}(),u=function(){function Storage(e,t){this.$window=e,this.SatellizerConfig=t,this.memoryStore={}}return Storage.prototype.get=function(e){try{return this.$window[this.SatellizerConfig.storageType].getItem(e)}catch(t){return this.memoryStore[e]}},Storage.prototype.set=function(e,t){try{this.$window[this.SatellizerConfig.storageType].setItem(e,t)}catch(n){this.memoryStore[e]=t}},Storage.prototype.remove=function(e){try{this.$window[this.SatellizerConfig.storageType].removeItem(e)}catch(t){delete this.memoryStore[e]}},Storage.$inject=["$window","SatellizerConfig"],Storage}(),d=function(){function Interceptor(e,t,n){var r=this;this.SatellizerConfig=e,this.SatellizerShared=t,this.SatellizerStorage=n,this.request=function(e){if(e.skipAuthorization)return e;if(r.SatellizerShared.isAuthenticated()&&r.SatellizerConfig.httpInterceptor()){var t=r.SatellizerConfig.tokenPrefix?[r.SatellizerConfig.tokenPrefix,r.SatellizerConfig.tokenName].join("_"):r.SatellizerConfig.tokenName,n=r.SatellizerStorage.get(t);r.SatellizerConfig.tokenHeader&&r.SatellizerConfig.tokenType&&(n=r.SatellizerConfig.tokenType+" "+n),e.headers[r.SatellizerConfig.tokenHeader]=n}return e}}return Interceptor.Factory=function(e,t,n){return new Interceptor(e,t,n)},Interceptor.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"],Interceptor}();d.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var h=function(){function HttpProviderConfig(e){this.$httpProvider=e,e.interceptors.push(d.Factory)}return HttpProviderConfig.$inject=["$httpProvider"],HttpProviderConfig}();angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(e){return new r(e)}]).constant("SatellizerConfig",t.getConstant).service("SatellizerShared",i).service("SatellizerLocal",o).service("SatellizerPopup",a).service("SatellizerOAuth",c).service("SatellizerOAuth2",l).service("SatellizerOAuth1",s).service("SatellizerStorage",u).service("SatellizerInterceptor",d).config(["$httpProvider",function(e){return new h(e)}]);return"satellizer"})},function(e,t,n){"use strict";function placeHoldersCount(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function byteLength(e){return 3*e.length/4-placeHoldersCount(e)}function toByteArray(e){var t,n,r,a,s,l=e.length;a=placeHoldersCount(e),s=new o(3*l/4-a),n=a>0?l-4:l;var c=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;return 2===a?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,s[c++]=255&r):1===a&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,s[c++]=r>>8&255,s[c++]=255&r),s}function tripletToBase64(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function encodeChunk(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(tripletToBase64(r));return i.join("")}function fromByteArray(e){for(var t,n=e.length,i=n%3,o="",a=[],s=0,l=n-i;s<l;s+=16383)a.push(encodeChunk(e,s,s+16383>l?l:s+16383));return 1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),a.push(o),a.join("")}t.byteLength=byteLength,t.toByteArray=toByteArray,t.fromByteArray=fromByteArray;for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?h/l:h*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=m,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=m,a/=256,c-=8);e[n+p-m]|=128*f}},function(e,t){angular.module("md5",[]).constant("md5",function(){function hex_md5(e){return rstr2hex(rstr_md5(str2rstr_utf8(e)))}function rstr_md5(e){return binl2rstr(binl_md5(rstr2binl(e),8*e.length))}function rstr2hex(t){for(var n,r=e?"0123456789ABCDEF":"0123456789abcdef",i="",o=0;o<t.length;o++)n=t.charCodeAt(o),i+=r.charAt(n>>>4&15)+r.charAt(15&n);return i}function str2rstr_utf8(e){for(var t,n,r="",i=-1;++i<e.length;)t=e.charCodeAt(i),n=i+1<e.length?e.charCodeAt(i+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),i++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}function rstr2binl(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function binl2rstr(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function binl_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=r,c=i,u=o;n=md5_ff(n,r,i,o,e[a+0],7,-680876936),o=md5_ff(o,n,r,i,e[a+1],12,-389564586),i=md5_ff(i,o,n,r,e[a+2],17,606105819),r=md5_ff(r,i,o,n,e[a+3],22,-1044525330),n=md5_ff(n,r,i,o,e[a+4],7,-176418897),o=md5_ff(o,n,r,i,e[a+5],12,1200080426),i=md5_ff(i,o,n,r,e[a+6],17,-1473231341),r=md5_ff(r,i,o,n,e[a+7],22,-45705983),n=md5_ff(n,r,i,o,e[a+8],7,1770035416),o=md5_ff(o,n,r,i,e[a+9],12,-1958414417),i=md5_ff(i,o,n,r,e[a+10],17,-42063),r=md5_ff(r,i,o,n,e[a+11],22,-1990404162),n=md5_ff(n,r,i,o,e[a+12],7,1804603682),o=md5_ff(o,n,r,i,e[a+13],12,-40341101),i=md5_ff(i,o,n,r,e[a+14],17,-1502002290),r=md5_ff(r,i,o,n,e[a+15],22,1236535329),n=md5_gg(n,r,i,o,e[a+1],5,-165796510),o=md5_gg(o,n,r,i,e[a+6],9,-1069501632),i=md5_gg(i,o,n,r,e[a+11],14,643717713),r=md5_gg(r,i,o,n,e[a+0],20,-373897302),n=md5_gg(n,r,i,o,e[a+5],5,-701558691),o=md5_gg(o,n,r,i,e[a+10],9,38016083),i=md5_gg(i,o,n,r,e[a+15],14,-660478335),r=md5_gg(r,i,o,n,e[a+4],20,-405537848),n=md5_gg(n,r,i,o,e[a+9],5,568446438),o=md5_gg(o,n,r,i,e[a+14],9,-1019803690),i=md5_gg(i,o,n,r,e[a+3],14,-187363961),r=md5_gg(r,i,o,n,e[a+8],20,1163531501),n=md5_gg(n,r,i,o,e[a+13],5,-1444681467),o=md5_gg(o,n,r,i,e[a+2],9,-51403784),i=md5_gg(i,o,n,r,e[a+7],14,1735328473),r=md5_gg(r,i,o,n,e[a+12],20,-1926607734),n=md5_hh(n,r,i,o,e[a+5],4,-378558),o=md5_hh(o,n,r,i,e[a+8],11,-2022574463),i=md5_hh(i,o,n,r,e[a+11],16,1839030562),r=md5_hh(r,i,o,n,e[a+14],23,-35309556),n=md5_hh(n,r,i,o,e[a+1],4,-1530992060),o=md5_hh(o,n,r,i,e[a+4],11,1272893353),i=md5_hh(i,o,n,r,e[a+7],16,-155497632),r=md5_hh(r,i,o,n,e[a+10],23,-1094730640),n=md5_hh(n,r,i,o,e[a+13],4,681279174),o=md5_hh(o,n,r,i,e[a+0],11,-358537222),i=md5_hh(i,o,n,r,e[a+3],16,-722521979),r=md5_hh(r,i,o,n,e[a+6],23,76029189),n=md5_hh(n,r,i,o,e[a+9],4,-640364487),o=md5_hh(o,n,r,i,e[a+12],11,-421815835),i=md5_hh(i,o,n,r,e[a+15],16,530742520),r=md5_hh(r,i,o,n,e[a+2],23,-995338651),n=md5_ii(n,r,i,o,e[a+0],6,-198630844),o=md5_ii(o,n,r,i,e[a+7],10,1126891415),i=md5_ii(i,o,n,r,e[a+14],15,-1416354905),r=md5_ii(r,i,o,n,e[a+5],21,-57434055),n=md5_ii(n,r,i,o,e[a+12],6,1700485571),o=md5_ii(o,n,r,i,e[a+3],10,-1894986606),i=md5_ii(i,o,n,r,e[a+10],15,-1051523),r=md5_ii(r,i,o,n,e[a+1],21,-2054922799),n=md5_ii(n,r,i,o,e[a+8],6,1873313359),o=md5_ii(o,n,r,i,e[a+15],10,-30611744),i=md5_ii(i,o,n,r,e[a+6],15,-1560198380),r=md5_ii(r,i,o,n,e[a+13],21,1309151649),n=md5_ii(n,r,i,o,e[a+4],6,-145523070),o=md5_ii(o,n,r,i,e[a+11],10,-1120210379),i=md5_ii(i,o,n,r,e[a+2],15,718787259),r=md5_ii(r,i,o,n,e[a+9],21,-343485551),n=safe_add(n,s),r=safe_add(r,l),i=safe_add(i,c),o=safe_add(o,u)}return Array(n,r,i,o)}function md5_cmn(e,t,n,r,i,o){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(r,o)),i),n)}function md5_ff(e,t,n,r,i,o,a){return md5_cmn(t&n|~t&r,e,t,i,o,a)}function md5_gg(e,t,n,r,i,o,a){return md5_cmn(t&r|n&~r,e,t,i,o,a)}function md5_hh(e,t,n,r,i,o,a){return md5_cmn(t^n^r,e,t,i,o,a)}function md5_ii(e,t,n,r,i,o,a){return md5_cmn(n^(t|~r),e,t,i,o,a)}function safe_add(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function bit_rol(e,t){return e<<t|e>>>32-t}var e=0;return hex_md5}()),function(){var e;e=function(e){return["gravatarService",function(t){var n;return n=function(e,t){var n,r,i;r={};for(n in t)i=t[n],0===n.indexOf(e)&&(n=n.substr(e.length).toLowerCase(),n.length>0&&(r[n]=i));return r},{restrict:"A",link:function(r,i,o){var a,s,l,c;a=e?"gravatarSrcOnce":"gravatarSrc",s=o[a],delete o[a],l=n("gravatar",o),c=r.$watch(s,function(n){if(i.attr("src",t.url(n,l)),e){if(null==n)return;c()}})}}}]},angular.module("ui.gravatar",["md5"]).provider("gravatarService",["md5",function(e){var t,n,r;return n=this,t=/^[0-9a-f]{32}$/i,r=function(e){var t,n,r;n=[];for(t in e)r=e[t],n.push(t+"="+encodeURIComponent(r));return n.join("&")},this.defaults={},this.secure=!1,this.protocol=null,this.urlFunc=function(n){var i,o,a,s,l;return a=n.protocol?n.protocol+":":"",l=n.secure?"https://secure":a+"//www",s=t.test(n.src)?n.src:e(n.src),o=[l,".gravatar.com/avatar/",s],i=r(n.params),i.length>0&&o.push("?"+i),o.join("")},this.$get=[function(){return{url:function(e,t){return null==e&&(e=""),null==t&&(t={}),n.urlFunc({params:angular.extend(angular.copy(n.defaults),t),protocol:n.protocol,secure:n.secure,src:e})}}}],this}]).directive("gravatarSrc",e()).directive("gravatarSrcOnce",e(!0))}.call(this)},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(325),l=_interopRequireDefault(s),c=n(360),u=_interopRequireDefault(c),d=n(361),h=_interopRequireDefault(d),p=n(362),m=_interopRequireDefault(p),f=n(363),g=_interopRequireDefault(f),v=n(367),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),_=[l.default.name,u.default.name];i.default.forEach(y,function(e){_.push(e.name)});var b=a.default.module("app.common",_).controller("DefaultModalController",h.default).factory("BatchFactory",m.default).factory("HelperFactory",g.default);t.default=b},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(0),a=_interopRequireDefault(o),s=n(326),l=_interopRequireDefault(s),c=n(3),u=(_interopRequireDefault(c),n(33)),d=_interopRequireDefault(u),h=n(327),p=_interopRequireDefault(h),m=i.default.module("generalFilters",[]);m.filter("encodeURI",["$window",function(e){"ngInject";return function(t){return e.encodeURI(t)}}]),m.filter("encodeURIComponent",["$window",function(e){"ngInject";return function(t){return e.encodeURIComponent(t)}}]),m.filter("fromNow",function(){return function(e){return(0,a.default)(e).fromNow()}}),m.filter("pad",function(){return function(e,t,n){return n=n||"0",t=t||2,e=""+e,e.length>=t?e:new Array(t-e.length+1).join(n)+e}}),m.filter("simplifyText",function(){return function(e){return e?(e=e.replace(/<\/(p|h1|h2|h3|h4|h5|h6)\b[^>]*>/gi,"&#13;&#10").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi," ").replace(/\s{2,}/g," "),e=e.replace(/&#13;&#10[^$]/gi,"<br>")):""}}),m.filter("stripTags",function(){return function(e,t){if(!e)return"";t=((""+(t||"")).toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,r=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(r,"").replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}}),m.filter("truncateWords",function(){return function(e,t){if(!e)return"";var n=e.split(" ");return n.length<=t?e:n.slice(0,t).join(" ")+"…"}}),m.filter("pluralize",function(){return function(e){if(!e)return"";var t=e;return"us"===e.substr(e.length-2)?t=t.substr(0,t.length-2)+"i":"ch"===e.substr(e.length-2)||"x"===e.charAt(e.length-1)||"s"===e.charAt(e.length-1)?t+="es":"y"===e.charAt(e.length-1)&&-1===["a","e","i","o","u"].indexOf(e.charAt(e.length-2))?t=t.substr(0,t.length-1)+"ies":"is"===e.substr(e.length-2)?t=t.substr(0,t.length-2)+"es":t+="s",t}}),m.filter("camelCase",function(){return function(e){return e.replace(/-\w/g,function(e){return e[1].toUpperCase()})}}),m.filter("fileSize",function(){return function(e){var t=0;if(!e)return t;try{t=(0,l.default)(e)}catch(e){}return t}}),m.filter("trimify",function(){return function(e){return e.replace(/^(-|–|—|\/|:|\s)+/,"").replace(/(-|–|—|\/|:|\s)+$/,"")}}),m.filter("toTitleCase",function(){return function(e){return e?e.replace(/\w\S*/g,function(e){return/^(and|of)$/i.test(e)?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):e}}),m.filter("toFixed",function(){return function(e,t){return t=void 0!==t?t:2,void 0===e?e:("number"!=typeof e&&(e=Number(e)),e.toFixed(t))}}),m.filter("parseDate",["$filter",function(e){"ngInject";return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";return t?e("date")(Date.parse(t),n):"-"}}]),m.filter("decodeEntities",function(){return function(e){return d.default.decode(e)}}),m.filter("cleanHTML",function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,p.default)(e,{allowedTags:["p","a","h2","h3","h4","h5","h6","blockquote","caption","strike","code","pre","ul","ol","li","u","b","i","strong","em","sub","sup","hr","br","table","thead","tbody","tr","th","td","entity"],allowedSchemes:["http","https","ftp","mailto","tel","urn"],parser:{lowerCaseTags:!0},transformTags:{a:function(e,t){var n=/https?:\/\//.test(t.href),r={tagName:e,attribs:{href:t.href||""}};return n&&(r.attribs.target="_blank"),r}},exclusiveFilter:function(e){return/^(a|p)$/.test(e.tag)&&!e.text.trim()}});return t&&(n=n.replace(/&nbsp;/gi," ")),n}}),t.default=m},function(e,t,n){"use strict";(function(t){!function(t){function filesize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[],a=0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,p=void 0,m=void 0,f=void 0,g=void 0,v=void 0,y=void 0,_=void 0,b=void 0;if(isNaN(e))throw new Error("Invalid arguments");return c=!0===t.bits,v=!0===t.unix,l=t.base||2,g=void 0!==t.round?t.round:v?1:2,y=void 0!==t.spacer?t.spacer:v?"":" ",b=t.symbols||t.suffixes||{},_=2===l?t.standard||"jedec":"jedec",f=t.output||"string",d=!0===t.fullform,h=t.fullforms instanceof Array?t.fullforms:[],s=void 0!==t.exponent?t.exponent:-1,m=Number(e),p=m<0,u=l>2?1e3:1024,p&&(m=-m),(-1===s||isNaN(s))&&(s=Math.floor(Math.log(m)/Math.log(u)))<0&&(s=0),s>8&&(s=8),0===m?(o[0]=0,o[1]=v?"":r[_][c?"bits":"bytes"][s]):(a=m/(2===l?Math.pow(2,10*s):Math.pow(1e3,s)),c&&(a*=8)>=u&&s<8&&(a/=u,s++),o[0]=Number(a.toFixed(s>0?g:0)),o[1]=10===l&&1===s?c?"kb":"kB":r[_][c?"bits":"bytes"][s],v&&(o[1]="jedec"===_?o[1].charAt(0):s>0?o[1].replace(/B$/,""):o[1],n.test(o[1])&&(o[0]=Math.floor(o[0]),o[1]=""))),p&&(o[0]=-o[0]),o[1]=b[o[1]]||o[1],"array"===f?o:"exponent"===f?s:"object"===f?{value:o[0],suffix:o[1],symbol:o[1]}:(d&&(o[1]=h[s]?h[s]:i[_][s]+(c?"bit":"byte")+(1===o[0]?"":"s")),o.join(y))}var n=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},i={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};filesize.partial=function(e){return function(t){return filesize(t,e)}},e.exports=filesize}("undefined"!=typeof window&&window)}).call(t,n(8))},function(e,t,n){function each(e,t){e&&Object.keys(e).forEach(function(n){t(e[n],n)})}function has(e,t){return{}.hasOwnProperty.call(e,t)}function sanitizeHtml(e,t,n){function Frame(e,t){var n=this;this.tag=e,this.attribs=t||{},this.tagPosition=s.length,this.text="",this.updateParentNodeText=function(){if(f.length){f[f.length-1].text+=n.text}}}function escapeHtml(e){return"string"!=typeof e&&(e+=""),e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function naughtyHref(e,n){n=n.replace(/[\x00-\x20]+/g,""),n=n.replace(/<\!\-\-.*?\-\-\>/g,"");var r=n.match(/^([a-zA-Z]+)\:/);if(!r)return!!n.match(/^\/\//)&&!t.allowProtocolRelative;var i=r[1].toLowerCase();return has(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(i):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(i)}function filterClasses(e,t){return t?(e=e.split(/\s+/),e.filter(function(e){return-1!==t.indexOf(e)}).join(" ")):e}var s="";t?(t=i(sanitizeHtml.defaults,t),t.parser?t.parser=i(a,t.parser):t.parser=a):(t=sanitizeHtml.defaults,t.parser=a);var l,c,u=t.nonTextTags||["script","style","textarea"];t.allowedAttributes&&(l={},c={},each(t.allowedAttributes,function(e,t){l[t]=[];var n=[];e.forEach(function(e){e.indexOf("*")>=0?n.push(o(e).replace(/\\\*/g,".*")):l[t].push(e)}),c[t]=new RegExp("^("+n.join("|")+")$")}));var d={};each(t.allowedClasses,function(e,t){l&&(has(l,t)||(l[t]=[]),l[t].push("class")),d[t]=e});var h,p={};each(t.transformTags,function(e,t){var n;"function"==typeof e?n=e:"string"==typeof e&&(n=sanitizeHtml.simpleTransform(e)),"*"===t?h=n:p[t]=n});var m=0,f=[],g={},v={},y=!1,_=0,b=new r.Parser({onopentag:function(e,n){if(y)return void _++;var r=new Frame(e,n);f.push(r);var i,o=!1,a=!!r.text;has(p,e)&&(i=p[e](e,n),r.attribs=n=i.attribs,void 0!==i.text&&(r.innerText=i.text),e!==i.tagName&&(r.name=e=i.tagName,v[m]=i.tagName)),h&&(i=h(e,n),r.attribs=n=i.attribs,e!==i.tagName&&(r.name=e=i.tagName,v[m]=i.tagName)),t.allowedTags&&-1===t.allowedTags.indexOf(e)&&(o=!0,-1!==u.indexOf(e)&&(y=!0,_=1),g[m]=!0),m++,o||(s+="<"+e,(!l||has(l,e)||l["*"])&&each(n,function(t,n){if(!l||has(l,e)&&-1!==l[e].indexOf(n)||l["*"]&&-1!==l["*"].indexOf(n)||has(c,e)&&c[e].test(n)||c["*"]&&c["*"].test(n)){if(("href"===n||"src"===n)&&naughtyHref(e,t))return void delete r.attribs[n];if("class"===n&&(t=filterClasses(t,d[e]),!t.length))return void delete r.attribs[n];s+=" "+n,t.length&&(s+='="'+escapeHtml(t)+'"')}else delete r.attribs[n]}),-1!==t.selfClosing.indexOf(e)?s+=" />":(s+=">",!r.innerText||a||t.textFilter||(s+=r.innerText)))},ontext:function(e){if(!y){var n,r=f[f.length-1];if(r&&(n=r.tag,e=void 0!==r.innerText?r.innerText:e),"script"===n||"style"===n)s+=e;else{var i=escapeHtml(e);t.textFilter?s+=t.textFilter(i):s+=i}if(f.length){f[f.length-1].text+=e}}},onclosetag:function(e){if(y){if(--_)return;y=!1}var n=f.pop();if(n){if(y=!1,m--,g[m])return delete g[m],void n.updateParentNodeText();if(v[m]&&(e=v[m],delete v[m]),t.exclusiveFilter&&t.exclusiveFilter(n))return void(s=s.substr(0,n.tagPosition));n.updateParentNodeText(),-1===t.selfClosing.indexOf(e)&&(s+="</"+e+">")}}},t.parser);return b.write(e),b.end(),s}var r=n(34),i=n(358),o=n(359);e.exports=sanitizeHtml;var a={decodeEntities:!0};sanitizeHtml.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowProtocolRelative:!0},sanitizeHtml.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(r,i){var o;if(n)for(o in t)i[o]=t[o];else i=t;return{tagName:e,attribs:i}}}},function(e,t){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){function DomHandler(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=s),this._callback=e,this._options=t||s,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var r=n(35),i=/\s+/g,o=n(222),a=n(330),s={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};DomHandler.prototype.onparserinit=function(e){this._parser=e},DomHandler.prototype.onreset=function(){DomHandler.call(this,this._callback,this._options,this._elementCB)},DomHandler.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},DomHandler.prototype._handleCallback=DomHandler.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},DomHandler.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},DomHandler.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;t="tag"===e.type?Object.create(a):Object.create(o);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},DomHandler.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},DomHandler.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},DomHandler.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else{n&&(e=e.replace(i," "));var o=this._createDomElement({data:e,type:r.Text});this._addDomElement(o)}},DomHandler.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)return void(t.data+=e);var n={data:e,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},DomHandler.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},DomHandler.prototype.oncommentend=DomHandler.prototype.oncdataend=function(){this._tagStack.pop()},DomHandler.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(n)},e.exports=DomHandler},function(e,t,n){var r=n(222),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach(function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){function FeedHandler(e,t){this.init(e,t)}function getElements(e,t){return o.getElementsByTagName(e,t,!0)}function getOneElement(e,t){return o.getElementsByTagName(e,t,!0,1)[0]}function fetch(e,t,n){return o.getText(o.getElementsByTagName(e,t,n,1)).trim()}function addConditionally(e,t,n,r,i){var o=fetch(n,r,i);o&&(e[t]=o)}var r=n(34),i=r.DomHandler,o=r.DomUtils;n(12)(FeedHandler,i),FeedHandler.prototype.init=i;var a=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};FeedHandler.prototype.onend=function(){var e,t,n={},r=getOneElement(a,this.dom);r&&("feed"===r.name?(t=r.children,n.type="atom",addConditionally(n,"id","id",t),addConditionally(n,"title","title",t),(e=getOneElement("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),addConditionally(n,"description","subtitle",t),(e=fetch("updated",t))&&(n.updated=new Date(e)),addConditionally(n,"author","email",t,!0),n.items=getElements("entry",t).map(function(e){var t,n={};return e=e.children,addConditionally(n,"id","id",e),addConditionally(n,"title","title",e),(t=getOneElement("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=fetch("summary",e)||fetch("content",e))&&(n.description=t),(t=fetch("updated",e))&&(n.pubDate=new Date(t)),n})):(t=getOneElement("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",addConditionally(n,"title","title",t),addConditionally(n,"link","link",t),addConditionally(n,"description","description",t),(e=fetch("lastBuildDate",t))&&(n.updated=new Date(e)),addConditionally(n,"author","managingEditor",t,!0),n.items=getElements("item",r.children).map(function(e){var t,n={};return e=e.children,addConditionally(n,"id","guid",e),addConditionally(n,"title","title",e),addConditionally(n,"link","link",e),addConditionally(n,"description","description",e),(t=fetch("pubDate",e))&&(n.pubDate=new Date(t)),n}))),this.dom=n,i.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},e.exports=FeedHandler},function(e,t,n){function Stream(e){r.call(this,new Cbs(this),e)}function Cbs(e){this.scope=e}e.exports=Stream;var r=n(223);n(12)(Stream,r),Stream.prototype.readable=!0;var i=n(34).EVENTS;Object.keys(i).forEach(function(e){if(0===i[e])Cbs.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===i[e])Cbs.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==i[e])throw Error("wrong number of arguments!");Cbs.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}})},function(e,t,n){function Stream(){r.call(this)}e.exports=Stream;var r=n(43).EventEmitter;n(12)(Stream,r),Stream.Readable=n(63),Stream.Writable=n(339),Stream.Duplex=n(340),Stream.Transform=n(341),Stream.PassThrough=n(342),Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){function ondata(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function ondrain(){n.readable&&n.resume&&n.resume()}function onend(){i||(i=!0,e.end())}function onclose(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function onerror(e){if(cleanup(),0===r.listenerCount(this,"error"))throw e}function cleanup(){n.removeListener("data",ondata),e.removeListener("drain",ondrain),n.removeListener("end",onend),n.removeListener("close",onclose),n.removeListener("error",onerror),e.removeListener("error",onerror),n.removeListener("end",cleanup),n.removeListener("close",cleanup),e.removeListener("close",cleanup)}var n=this;n.on("data",ondata),e.on("drain",ondrain),e._isStdio||t&&!1===t.end||(n.on("end",onend),n.on("close",onclose));var i=!1;return n.on("error",onerror),e.on("error",onerror),n.on("end",cleanup),n.on("close",cleanup),e.on("close",cleanup),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function copyBuffer(e,t,n){e.copy(t,n)}var r=n(64).Buffer;e.exports=function(){function BufferList(){_classCallCheck(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},BufferList.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)copyBuffer(n.data,t,i),i+=n.data.length,n=n.next;return t},BufferList}()},function(e,t,n){(function(e,t){!function(e,n){"use strict";function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++}function clearImmediate(e){delete o[e]}function run(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){a=!0;try{run(t)}finally{clearImmediate(e),a=!1}}}}if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?function(){r=function(e){t.nextTick(function(){runIfPresent(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&runIfPresent(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){runIfPresent(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){r=function(e){setTimeout(runIfPresent,0,e)}}(),l.setImmediate=setImmediate,l.clearImmediate=clearImmediate}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(8),n(18))},function(e,t,n){(function(t){function deprecate(e,t){function deprecated(){if(!n){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}if(config("noDeprecation"))return e;var n=!1;return deprecated}function config(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=deprecate}).call(t,n(8))},function(e,t,n){"use strict";function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);r.call(this,e)}e.exports=PassThrough;var r=n(228),i=n(36);i.inherits=n(12),i.inherits(PassThrough,r),PassThrough.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(65)},function(e,t,n){e.exports=n(22)},function(e,t,n){e.exports=n(63).Transform},function(e,t,n){e.exports=n(63).PassThrough},function(e,t){},function(e,t,n){function ProxyHandler(e){this._cbs=e||{}}e.exports=ProxyHandler;var r=n(34).EVENTS;Object.keys(r).forEach(function(e){if(0===r[e])e="on"+e,ProxyHandler.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,ProxyHandler.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,ProxyHandler.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}})},function(e,t,n){var r=e.exports;[n(346),n(352),n(353),n(354),n(355),n(356)].forEach(function(e){Object.keys(e).forEach(function(t){r[t]=e[t].bind(r)})})},function(e,t,n){function getInnerHTML(e,t){return e.children?e.children.map(function(e){return i(e,t)}).join(""):""}function getText(e){return Array.isArray(e)?e.map(getText).join(""):o(e)||e.type===r.CDATA?getText(e.children):e.type===r.Text?e.data:""}var r=n(35),i=n(347),o=r.isTag;e.exports={getInnerHTML:getInnerHTML,getOuterHTML:i,getText:getText}},function(e,t,n){function formatAttrs(e,t){if(e){var n,r="";for(var a in e)n=e[a],r&&(r+=" "),!n&&o[a]?r+=a:r+=a+'="'+(t.decodeEntities?i.encodeXML(n):n)+'"';return r}}function renderTag(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=formatAttrs(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=l(e.children,t)),s[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function renderDirective(e){return"<"+e.data+">"}function renderText(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in a||(n=i.encodeXML(n)),n}function renderCdata(e){return"<![CDATA["+e.children[0].data+"]]>"}function renderComment(e){return"\x3c!--"+e.data+"--\x3e"}var r=n(348),i=n(349),o={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},a={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",i=0;i<e.length;i++){var o=e[i];"root"===o.type?n+=l(o.children,t):r.isTag(o)?n+=renderTag(o,t):o.type===r.Directive?n+=renderDirective(o):o.type===r.Comment?n+=renderComment(o):o.type===r.CDATA?n+=renderCdata(o):n+=renderText(o,t)}return n}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var r=n(350),i=n(351);t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=r.escape},function(e,t,n){function getInverseObj(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function getInverseReplacer(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}function singleCharReplacer(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function getInverse(e,t){function func(t){return e[t]}return function(e){return e.replace(t,func).replace(l,astralReplacer).replace(s,singleCharReplacer)}}function escapeXML(e){return e.replace(c,singleCharReplacer).replace(l,astralReplacer).replace(s,singleCharReplacer)}var r=getInverseObj(n(62)),i=getInverseReplacer(r);t.XML=getInverse(r,i);var o=getInverseObj(n(61)),a=getInverseReplacer(o);t.HTML=getInverse(o,a);var s=/[^\0-\x7F]/g,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=getInverseReplacer(r);t.escape=escapeXML},function(e,t,n){function getStrictDecoder(e){var t=Object.keys(e).join("|"),n=getReplacer(e);t+="|#[xX][\\da-fA-F]+|#\\d+";var r=new RegExp("&(?:"+t+");","g");return function(e){return String(e).replace(r,n)}}function sorter(e,t){return e<t?1:-1}function getReplacer(e){return function(t){return"#"===t.charAt(1)?a("X"===t.charAt(2)||"x"===t.charAt(2)?parseInt(t.substr(3),16):parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}var r=n(61),i=n(221),o=n(62),a=n(220),s=getStrictDecoder(o),l=getStrictDecoder(r),c=function(){function replacer(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}for(var e=Object.keys(i).sort(sorter),t=Object.keys(r).sort(sorter),n=0,o=0;n<t.length;n++)e[o]===t[n]?(t[n]+=";?",o++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=getReplacer(r);return function(e){return String(e).replace(a,replacer)}}();e.exports={XML:s,HTML:c,HTMLStrict:l}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){function filter(e,t,n,r){return Array.isArray(t)||(t=[t]),"number"==typeof r&&isFinite(r)||(r=1/0),find(e,t,!1!==n,r)}function find(e,t,n,r){for(var i,o=[],a=0,s=t.length;a<s&&!(e(t[a])&&(o.push(t[a]),--r<=0))&&(i=t[a].children,!(n&&i&&i.length>0&&(i=find(e,i,n,r),o=o.concat(i),(r-=i.length)<=0)));a++);return o}function findOneChild(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null}function findOne(e,t){for(var n=null,i=0,o=t.length;i<o&&!n;i++)r(t[i])&&(e(t[i])?n=t[i]:t[i].children.length>0&&(n=findOne(e,t[i].children)));return n}function existsOne(e,t){for(var n=0,i=t.length;n<i;n++)if(r(t[n])&&(e(t[n])||t[n].children.length>0&&existsOne(e,t[n].children)))return!0;return!1}function findAll(e,t){for(var n=[],i=0,o=t.length;i<o;i++)r(t[i])&&(e(t[i])&&n.push(t[i]),t[i].children.length>0&&(n=n.concat(findAll(e,t[i].children))));return n}var r=n(35).isTag;e.exports={filter:filter,find:find,findOneChild:findOneChild,findOne:findOne,existsOne:existsOne,findAll:findAll}},function(e,t,n){function getAttribCheck(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function combineFuncs(e,t){return function(n){return e(n)||t(n)}}var r=n(35),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var o={tag_name:function(e){return"function"==typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};t.getElements=function(e,t,n,r){var i=Object.keys(e).map(function(t){var n=e[t];return t in o?o[t](n):getAttribCheck(t,n)});return 0===i.length?[]:this.filter(i.reduce(combineFuncs),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(getAttribCheck("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(o.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(o.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},r=t.compareDocumentPosition=function(e,t){var r,i,o,a,s,l,c=[],u=[];if(e===t)return 0;for(r=e;r;)c.unshift(r),r=r.parent;for(r=t;r;)u.unshift(r),r=r.parent;for(l=0;c[l]===u[l];)l++;return 0===l?n.DISCONNECTED:(i=c[l-1],o=i.children,a=c[l],s=u[l],o.indexOf(a)>o.indexOf(s)?i===t?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:i===e?n.PRECEDING|n.CONTAINS:n.PRECEDING)};t.uniqueSort=function(e){var t,i,o=e.length;for(e=e.slice();--o>-1;)t=e[o],(i=e.indexOf(t))>-1&&i<o&&e.splice(o,1);return e.sort(function(e,t){var i=r(e,t);return i&n.PRECEDING?-1:i&n.FOLLOWING?1:0}),e}},function(e,t,n){function CollectingHandler(e){this._cbs=e||{},this.events=[]}e.exports=CollectingHandler;var r=n(34).EVENTS;Object.keys(r).forEach(function(e){if(0===r[e])e="on"+e,CollectingHandler.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,CollectingHandler.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,CollectingHandler.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}}),CollectingHandler.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},CollectingHandler.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t){function extend(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e}e.exports=extend;var n=Object.prototype.hasOwnProperty},function(e,t){e.exports=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i.default.module("proprietaryFilters",[]);o.filter("crossCheck",function(){return function(e){var t=!1;return!0!==e&&"true"!==e&&1!==e&&"1"!==e||(t=!0),t?"mdi mdi-lg mdi-check":"mdi mdi-lg mdi-close"}}),o.filter("status",function(){return function(e){var t=!1;return!0!==e&&"true"!==e&&1!==e&&"1"!==e||(t=!0),t?"Trashed":"Active"}}),o.filter("datePublished",["$filter",function(e){"ngInject";return function(t,n){return n.published?e("date")(Date.parse(t),"short"):"-"}}]),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function DefaultModalController(e){(0,i.default)(this,DefaultModalController);var t=this;t.cancel=function(){return e.cancel()},t.ok=function(t){return e.hide(t)}};o.$inject=["$mdDialog"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){var e={},t=[];return e.setEntityIds=function(e){t=e},e.getEntityIds=function(){return t},e.consolidate=function(e){var t={fields:{}},n={};return e.forEach(function(e){i.default.forEach(e.fields,function(e,t){n[t]||(n[t]=[]),n[t].push(e)})}),i.default.forEach(n,function(n,r){var o=!0;n.forEach(function(t){i.default.equals(e[0].fields[r],t)||(o=!1)}),o&&(t.fields[r]=n[0])}),t},e};t.default=o},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=n(1),l=_interopRequireDefault(s),c=n(365),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=function(e,t,n,r,o,s,c,d,h,p){"ngInject";var m={};return e.$helper=m,m.now=function(){return(0,i.default)(new Date).replace(/"/g,"")},m.testExp=function(e,t){return new RegExp(e).test(t)},m.move=function(e,t){this.splice(t,0,this.splice(e,1)[0])},m.replace=function(e,t,n){var r=a.default.findIndex(e,[n,t[n]]);return-1!==r&&e.splice(r,1,t),e},m.getThumbnailUrl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h:200;q:60";return t&&t.thumbnailUrl?[e.assistUrl,e.assetSlug,"proxy","transform",n,t.thumbnailUrl.replace(/https?:\/\//,"")].join("/"):null},m.getFieldThumbnailUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h:200;q:60";if(!e||!e.value)return null;var n=d.field(e.type).thumbnail(e.value);return m.getThumbnailUrl(n,t)},m.getColumnOptions=function(e){if(!e)return null;var t={name:"fields."+e.slug,displayName:e.name,allowCellFocus:!1};return a.default.extend(t,d.field(e.type).gridOptions),"thumbnail"===t.style&&(t.enableSorting=!1,t.cellTemplate='\n        <div class="ui-grid-cell-contents ui-grid-cell--image">\n          <img ng-if="$root.$helper.getFieldThumbnailUrl(grid.getCellValue(row, col))" ng-src="{{ $root.$helper.getFieldThumbnailUrl(grid.getCellValue(row, col)) }}">\n        </div>\n      '),"boolean"===t.style&&(t.cellTemplate='\n        <div class="ui-grid-cell-contents">\n          <span class="{{grid.getCellValue(row, col).value | crossCheck}}"></span>\n        </div>\n      '),t},m.postPayload=function(e,t){var r=t;a.default.isString(t)||(r=(0,i.default)(r)),r=r.replace(/'/gi,"’");var o='<form method="POST" action="'+e+'" target="_blank"><input type="hidden" name="payload" value=\''+r+"' /></form>";o=l.default.element(o),l.default.element(n[0].body).append(o),o[0].submit(),o.remove()},m.mediaPreview=function(e,t){h.showModal({template:u.mediaPreview,controllerAs:"vm",inputs:{media:e,index:t}})},m.analytics=function(e){return o(function(t,n){r({method:"GET",url:p.apiUrl+"/analytics",params:e||{},cache:!0}).then(function(e){t(e.data)},n)})},m.oembed=function(e){return o(function(t,n){r({method:"GET",url:p.apiUrl+"/embedly/oembed",params:{url:e}}).then(function(e){var r=e.data[0];if(r.error_message)return c.show(c.alert().title("Error").textContent(r.error_message).ok("Close")),void n(r);t(r)},n)})},m.getMdChipCollection=function(e){return e.$parent.$mdChipsCtrl.items},m.getMdChipIndex=function(e){console.log(this,e),e.$parent.$mdChipsCtrl.items.indexOf(e.$parent.$chip)},m};d.$inject=["$rootScope","$window","$document","$http","$q","$timeout","$mdDialog","FieldFactory","ModalService","appConfig"],t.default=d},function(e,t,n){var r=n(6),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaPreview=void 0;var r=n(366),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.mediaPreview=i.default},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Media Preview</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div class="modal-body"><div layout="column" layout-margin><div class="media-wrapper"><span ng-show="vm.media[vm.index].type === \'none\'">No preview available</span><span ng-show="vm.media[vm.index].type === \'image\'"><img style="max-width: 100%; vertical-align: bottom;" ng-src="{{vm.media[vm.index].src}}" ng-click="vm.index = vm.index &lt; vm.media.length - 1 ? vm.index + 1 : 0"></span><span ng-show="vm.media[vm.index].type === \'video\'"><video style="max-width: 100%;" controls><source ng-repeat="variant in vm.media[vm.index].variants" ng-src="{{variant.src}}" type="{{variant.mimeType}}"></video></span></div></div></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-show="vm.media.length &gt; 1" ng-click="vm.index = vm.index &gt; 0 ? vm.index - 1 : vm.media.length - 1" class="md-icon-button"><md-icon md-font-set="material-icons">keyboard_arrow_left</md-icon></md-button><md-button ng-show="vm.media.length &gt; 1" ng-click="vm.index = vm.index &lt; vm.media.length - 1 ? vm.index + 1 : 0" class="md-icon-button"><md-icon md-font-set="material-icons">keyboard_arrow_right</md-icon></md-button></div></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.aceFlow=t.aceC3=t.aceSortable=t.aceRichText=t.aceVideoPreview=t.aceSyncFocus=t.aceStopPropagation=t.aceSrcChange=t.aceSmartFloat=t.aceOpenSeadragon=t.aceMethodEventAnimate=t.aceFileChange=t.aceBindHtml=void 0;var r=n(368),i=_interopRequireDefault(r),o=n(369),a=_interopRequireDefault(o),s=n(370),l=_interopRequireDefault(s),c=n(371),u=_interopRequireDefault(c),d=n(373),h=_interopRequireDefault(d),p=n(374),m=_interopRequireDefault(p),f=n(375),g=_interopRequireDefault(f),v=n(376),y=_interopRequireDefault(v),_=n(377),b=_interopRequireDefault(_),w=n(378),x=_interopRequireDefault(w),S=n(381),C=_interopRequireDefault(S),E=n(382),T=_interopRequireDefault(E),M=n(386),k=_interopRequireDefault(M);t.aceBindHtml=i.default,t.aceFileChange=a.default,t.aceMethodEventAnimate=l.default,t.aceOpenSeadragon=u.default,t.aceSmartFloat=h.default,t.aceSrcChange=m.default,t.aceStopPropagation=g.default,t.aceSyncFocus=y.default,t.aceVideoPreview=b.default,t.aceRichText=x.default,t.aceSortable=C.default,t.aceC3=T.default,t.aceFlow=k.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.bindHtml",[]).directive("aceBindHtml",["$compile",function(e){return{restrict:"A",link:function(t,n,r){t.$watch(function(){return t.$eval(r.aceBindHtml)},function(i){n.html(i&&i.toString());var o=t;r.aceBindHtmlScope&&(o=t.$eval(r.aceBindHtmlScope)),e(n.contents())(o)})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.fileChange",[]).directive("aceFileChange",["$parse",function(e){return{restrict:"A",link:function(t,n,r){var i=e(r.aceFileChange),o=function(e){t.$apply(function(){i(t,{$event:e,files:e.target.files})})};n[0].addEventListener("change",o,!1)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.mea",[]).directive("aceMea",[function(){return{restrict:"A",link:function(e,t,n){t.on(n.aceMeaEvent||"click touchend",function(){var r=e.$eval(n.aceMea);t.addClass("animated"),r?t.addClass(n.aceMeaTrue):t.addClass(n.aceMeaFalse),e.$apply()}),t.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated"),t.removeClass(n.aceMeaTrue),t.removeClass(n.aceMeaFalse)})}}}])},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(372);_interopRequireDefault(o);t.default=i.default.module("ace.openSeadragon",[]).directive("aceOpenSeadragon",["$window",function(e){return{restrict:"AE",template:'<div class="ace-open-seadragon"></div>',replace:!0,link:function(t,n,r){(0,e.OpenSeadragon)({element:n[0],tileSources:r.aceOpenSeadragon||r.src,prefixUrl:r.prefixUrl||""})}}}])},function(module,exports,__webpack_require__){function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e){e.version={versionStr:"2.3.1",major:parseInt("2",10),minor:parseInt("3",10),revision:parseInt("1",10)};var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},n=Object.prototype.toString,r=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null===e||void 0===e?String(e):t[n.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!r.call(t,"constructor")&&!r.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var i in t)n=i;return void 0===n||r.call(t,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=function(){var t=document.createElement("canvas");return!(!e.isFunction(t.getContext)||!t.getContext("2d"))}(),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(n,1)/r}return 1}()}(OpenSeadragon),function($){function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=arguments.length,l=!1,c=1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},c=2),"object"==typeof a||OpenSeadragon.isFunction(a)||(a={}),s===c&&(a=this,--c);c<s;c++)if(null!==(e=arguments[c])||void 0!==e)for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(OpenSeadragon.isPlainObject(r)||(i=OpenSeadragon.isArray(r)))?(i?(i=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},a[t]=OpenSeadragon.extend(l,o,r)):void 0!==r&&(a[t]=r));return a};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,degrees:0,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,n,r=new $.Point;for(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position,n=getOffsetParent(e,t);n;)r.x+=e.offsetLeft,r.y+=e.offsetTop,t&&(r=r.plus($.getPageScroll())),e=n,t="fixed"==$.getElementStyle(e).position,n=getOffsetParent(e,t);return r},getElementOffset:function(e){e=$.getElement(e);var t,n,r=e&&e.ownerDocument,i={top:0,left:0};return r?(t=r.documentElement,void 0!==e.getBoundingClientRect&&(i=e.getBoundingClientRect()),n=r==r.window?r:9===r.nodeType&&(r.defaultView||r.parentWindow),new $.Point(i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0),i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return e=$.getElement(e),e.currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var t={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var n=document.createElement("div").style,r=null;if(void 0!==n[e])r=e;else for(var i=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(e),a=0;a<i.length;a++){var s=i[a]+o;if(void 0!==n[s]){r=s;break}}return t[e]=r,r},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(e,t){e=$.getElement(e);var n=$.getElementOffset(e),r=$.getElementSize(e);return t.x>=n.x&&t.x<n.x+r.x&&t.y<n.y+r.y&&t.y>=n.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if(void 0!==window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var n=$.getPageScroll();if(n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,n=$.getPageScroll(),n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),n=null;return n=$.makeNeutralElement("span"),n.style.display="inline-block",t.onload=function(){n.style.width=n.style.width||t.width+"px",n.style.height=n.style.height||t.height+"px",t.onload=null,t=null},t.src=e,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",n}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,n){var r,i;e=$.getElement(e),n&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(r=Math.round(100*t),i="alpha(opacity="+r+")",e.style.filter=i):e.style.filter=""},setElementTouchActionNone:function(e){e=$.getElement(e),void 0!==e.style.touchAction?e.style.touchAction="none":void 0!==e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){e=$.getElement(e),e.className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var r,i,o=n||0;if(!e)throw new TypeError;if(0===(i=e.length)||o>=i)return-1;for(o<0&&(o=i-Math.abs(o)),r=o;r<i;r++)if(e[r]===t)return r;return-1},this.indexOf(e,t,n)},removeClass:function(e,t){var n,r,i=[];for(e=$.getElement(e),n=e.className.split(/\s+/),r=0;r<n.length;r++)n[r]&&n[r]!==t&&i.push(n[r]);e.className=i.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,n,r){e=$.getElement(e),e.addEventListener(t,n,r)};if(window.attachEvent)return function(e,t,n,r){e=$.getElement(e),e.attachEvent("on"+t,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,n,r){e=$.getElement(e),e.removeEventListener(t,n,r)};if(window.detachEvent)return function(e,t,n,r){e=$.getElement(e),e.detachEvent("on"+t,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){e=$.getEvent(e),e.preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){e=$.getEvent(e),e.cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){e=$.getEvent(e),e.stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){e=$.getEvent(e),e.cancelBubble=!0},$.stopEvent(e)},createCallback:function(e,t){var n,r=[];for(n=2;n<arguments.length;n++)r.push(arguments[n]);return function(){var n,i=r.concat([]);for(n=0;n<arguments.length;n++)i.push(arguments[n]);return t.apply(e,i)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,n){var r,i,o;$.isPlainObject(e)&&(t=e.success,n=e.error,r=e.withCredentials,i=e.headers,o=e.responseType||null,e=e.url);var a=$.getUrlProtocol(e),s=$.createAjaxRequest("file:"===a);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=function(){},s.status>=200&&s.status<300||0===s.status&&"http:"!==a&&"https:"!==a?t(s):($.console.log("AJAX request returned %d: %s",s.status,e),$.isFunction(n)&&n(s)))};try{if(s.open("GET",e,!0),o&&(s.responseType=o),i)for(var l in i)i.hasOwnProperty(l)&&i[l]&&s.setRequestHeader(l,i[l]);r&&(s.withCredentials=!0),s.send(null)}catch(r){var c=r.message,u=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(u&&void 0!==r.number&&-2147024891==r.number&&(c+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",r.name,c),s.onreadystatechange=function(){},window.XDomainRequest){var d=new XDomainRequest;if(d){d.onload=function(e){$.isFunction(t)&&t({responseText:d.responseText,status:200,statusText:"OK"})},d.onerror=function(e){$.isFunction(n)&&n({responseText:d.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{d.open("GET",e),d.send()}catch(e){$.isFunction(n)&&n(s,r)}}}else $.isFunction(n)&&n(s,r)}return s},jsonp:function(e){var t,n=e.url,r=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=e.callbackName||"openseadragon"+$.now(),o=window[i],a="$1"+i+"$2",s=e.param||"callback",l=e.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+s+"="+i,window[i]=function(e){if(o)window[i]=o;else try{delete window[i]}catch(e){}l&&$.isFunction(l)&&l(e)},t=document.createElement("script"),void 0===e.async&&!1===e.async||(t.async="async"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=n,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,r&&t.parentNode&&r.removeChild(t),t=void 0)},r.insertBefore(t,r.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){var t;return t=new DOMParser,t.parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return e=e||"",!!FILEFORMATS[e.toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e,t=navigator.appVersion,n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?($.Browser.vendor=n.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):(e=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==e.exec(n)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(t)}var r,i,o,a=window.location.search.substring(1),s=a.split("&");for(o=0;o<s.length;o++)r=s[o],(i=r.indexOf("="))>0&&(URLPARAMS[r.substring(0,i)]=decodeURIComponent(r.substring(i+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(e){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&n)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return n.apply(e,arguments)};else{var r,i=[],o=[],a=0;$.requestAnimationFrame=function(e){return i.push([++a,e]),r||(r=setInterval(function(){if(i.length){var e=$.now(),t=o;for(o=i,i=t;o.length;)o.shift()[1](e)}else clearInterval(r),r=void 0},20)),a},$.cancelAnimationFrame=function(e){var t,n;for(t=0,n=i.length;t<n;t+=1)if(i[t][0]===e)return void i.splice(t,1);for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(OpenSeadragon),function(e,t){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=t,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,function(){return OpenSeadragon}),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(e){return e.requestFullscreen()},t.exitFullScreen=function(){document.exitFullscreen()},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(OpenSeadragon),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,n,r){var i=this;r=r||1;var o=0,a=function(n){o++,o===r&&i.removeHandler(e,a),t(n)};this.addHandler(e,a,n)},addHandler:function(t,n,r){var i=this.events[t];i||(this.events[t]=i=[]),n&&e.isFunction(n)&&(i[i.length]={handler:n,userData:r||null})},removeHandler:function(t,n){var r,i=this.events[t],o=[];if(i&&e.isArray(i)){for(r=0;r<i.length;r++)i[r].handler!==n&&o.push(i[r]);this.events[t]=o}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var r,i=t.length;for(r=0;r<i;r++)t[r]&&(n.eventSource=e,n.userData=t[r].userData,t[r].handler(n))}):null},raiseEvent:function(e,t){var n=this.getHandler(e);n&&(t||(t={}),n(this,t))}}}(OpenSeadragon),function(e){function clearTrackedPointers(t){var r,i=n[t.hash],o=i.activePointersLists.length;for(r=0;r<o;r++)i.activePointersLists[r].captureCount>0&&(e.removeEvent(e.MouseTracker.captureElement,"mousemove",i.mousemovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"mouseup",i.mouseupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",i.pointermovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",i.pointerupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchmove",i.touchmovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchend",i.touchendcaptured,!0),i.activePointersLists[r].captureCount=0);for(r=0;r<o;r++)i.activePointersLists.pop()}function startTracking(t){var r,i,o=n[t.hash];if(!o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)r=e.MouseTracker.subscribeEvents[i],e.addEvent(t.element,r,o[r],!1);clearTrackedPointers(t),o.tracking=!0}}function stopTracking(t){var r,i,o=n[t.hash];if(o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)r=e.MouseTracker.subscribeEvents[i],e.removeEvent(t.element,r,o[r],!1);clearTrackedPointers(t),o.tracking=!1}}function getCaptureEventParams(t,r){var i=n[t.hash];if("pointerevent"===r)return{upName:e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:i.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:i.pointermovecaptured};if("mouse"===r)return{upName:"mouseup",upHandler:i.mouseupcaptured,moveName:"mousemove",moveHandler:i.mousemovecaptured};if("touch"===r)return{upName:"touchend",upHandler:i.touchendcaptured,moveName:"touchmove",moveHandler:i.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function capturePointer(t,n,i){var o,a=t.getActivePointersListByType(n);a.captureCount+=i||1,1===a.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.setCapture(!0):(o=getCaptureEventParams(t,e.MouseTracker.havePointerEvents?"pointerevent":n),r&&canAccessEvents(window.top)&&e.addEvent(window.top,o.upName,o.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0)))}function releasePointer(t,n,i){var o,a=t.getActivePointersListByType(n);a.captureCount-=i||1,0===a.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.releaseCapture():(o=getCaptureEventParams(t,e.MouseTracker.havePointerEvents?"pointerevent":n),r&&canAccessEvents(window.top)&&e.removeEvent(window.top,o.upName,o.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0)))}function getPointerType(t){var n;if(e.MouseTracker.unprefixedPointerEvents)n=t.pointerType;else switch(t.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function getMouseAbsolute(t){return e.getMousePosition(t)}function getMouseRelative(e,t){return getPointRelativeToAbsolute(getMouseAbsolute(e),t)}function getPointRelativeToAbsolute(t,n){var r=e.getElementOffset(n);return t.minus(r)}function getCenterPoint(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function onClick(t,n){t.clickHandler&&e.cancelEvent(n)}function onDblClick(t,n){t.dblClickHandler&&e.cancelEvent(n)}function onKeyDown(t,n){t.keyDownHandler&&(n=e.getEvent(n),t.keyDownHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function onKeyUp(t,n){t.keyUpHandler&&(n=e.getEvent(n),t.keyUpHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function onKeyPress(t,n){t.keyHandler&&(n=e.getEvent(n),t.keyHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function onFocus(t,n){t.focusHandler&&(n=e.getEvent(n),!1===t.focusHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}function onBlur(t,n){t.blurHandler&&(n=e.getEvent(n),!1===t.blurHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}function onWheel(e,t){handleWheelEvent(e,t,t)}function onMouseWheel(t,n){n=e.getEvent(n);var r={target:n.target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==e.MouseTracker.wheelEventName?r.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:r.deltaY=n.detail,handleWheelEvent(t,r,n)}function handleWheelEvent(t,n,r){var i=0;i=n.deltaY<0?1:-1,t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:"mouse",position:getMouseRelative(n,t.element),scroll:i,shift:n.shiftKey,isTouchEvent:!1,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r)}function isParentChild(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function onMouseEnter(t,n){n=e.getEvent(n),handleMouseEnter(t,n)}function onMouseOver(t,n){n=e.getEvent(n),n.currentTarget===n.relatedTarget||isParentChild(n.currentTarget,n.relatedTarget)||handleMouseEnter(t,n)}function handleMouseEnter(t,n){updatePointersEnter(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()}])}function onMouseLeave(t,n){n=e.getEvent(n),handleMouseExit(t,n)}function onMouseOut(t,n){n=e.getEvent(n),n.currentTarget===n.relatedTarget||isParentChild(n.currentTarget,n.relatedTarget)||handleMouseExit(t,n)}function handleMouseExit(t,n){updatePointersExit(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()}])}function getStandardizedButton(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function onMouseDown(t,n){var r;n=e.getEvent(n),r={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersDown(t,n,[r],getStandardizedButton(n.button))&&(e.stopEvent(n),capturePointer(t,"mouse")),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(n)}function onMouseUp(e,t){handleMouseUp(e,t)}function onMouseUpCaptured(t,n){handleMouseUp(t,n),e.stopEvent(n)}function handleMouseUp(t,n){var r;n=e.getEvent(n),r={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersUp(t,n,[r],getStandardizedButton(n.button))&&releasePointer(t,"mouse")}function onMouseMove(e,t){handleMouseMove(e,t)}function onMouseMoveCaptured(t,n){handleMouseMove(t,n),e.stopEvent(n)}function handleMouseMove(t,n){var r;n=e.getEvent(n),r={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersMove(t,n,[r])}function abortContacts(e,t,n){var r,i=n.getLength(),o=[];if("touch"===n.type||n.contacts>0){for(r=0;r<i;r++)o.push(n.getByIndex(r));o.length>0&&(updatePointersUp(e,t,o,0),n.captureCount=1,releasePointer(e,n.type),updatePointersExit(e,t,o))}}function onTouchStart(n,r){var i,o,a,s,l=r.changedTouches.length,c=[],u=n.getActivePointersListByType("touch");for(i=e.now(),u.getLength()>r.touches.length-l&&(e.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),abortContacts(n,r,u)),o=0;o<l;o++)c.push({id:r.changedTouches[o].identifier,type:"touch",currentPos:getMouseAbsolute(r.changedTouches[o]),currentTime:i});for(updatePointersEnter(n,r,c),o=0;o<t.length;o++)if(t[o]!==n&&t[o].isTracking()&&isParentChild(t[o].element,n.element)){for(s=[],a=0;a<l;a++)s.push({id:r.changedTouches[a].identifier,type:"touch",currentPos:getMouseAbsolute(r.changedTouches[a]),currentTime:i});updatePointersEnter(t[o],r,s)}updatePointersDown(n,r,c,0)&&(e.stopEvent(r),capturePointer(n,"touch",l)),e.cancelEvent(r)}function onTouchEnd(e,t){handleTouchEnd(e,t)}function onTouchEndCaptured(t,n){handleTouchEnd(t,n),e.stopEvent(n)}function handleTouchEnd(n,r){var i,o,a,s,l=r.changedTouches.length,c=[];for(i=e.now(),o=0;o<l;o++)c.push({id:r.changedTouches[o].identifier,type:"touch",currentPos:getMouseAbsolute(r.changedTouches[o]),currentTime:i});for(updatePointersUp(n,r,c,0)&&releasePointer(n,"touch",l),updatePointersExit(n,r,c),o=0;o<t.length;o++)if(t[o]!==n&&t[o].isTracking()&&isParentChild(t[o].element,n.element)){for(s=[],a=0;a<l;a++)s.push({id:r.changedTouches[a].identifier,type:"touch",currentPos:getMouseAbsolute(r.changedTouches[a]),currentTime:i});updatePointersExit(t[o],r,s)}e.cancelEvent(r)}function onTouchMove(e,t){handleTouchMove(e,t)}function onTouchMoveCaptured(t,n){handleTouchMove(t,n),e.stopEvent(n)}function handleTouchMove(t,n){var r,i=n.changedTouches.length,o=[];for(r=0;r<i;r++)o.push({id:n.changedTouches[r].identifier,type:"touch",currentPos:getMouseAbsolute(n.changedTouches[r]),currentTime:e.now()});updatePointersMove(t,n,o),e.cancelEvent(n)}function onTouchCancel(e,t){abortContacts(e,t,e.getActivePointersListByType("touch"))}function onGestureStart(e,t){return t.stopPropagation(),t.preventDefault(),!1}function onGestureChange(e,t){return t.stopPropagation(),t.preventDefault(),!1}function onPointerOver(t,n){var r;n.currentTarget===n.relatedTarget||isParentChild(n.currentTarget,n.relatedTarget)||(r={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersEnter(t,n,[r]))}function onPointerOut(t,n){var r;n.currentTarget===n.relatedTarget||isParentChild(n.currentTarget,n.relatedTarget)||(r={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersExit(t,n,[r]))}function onPointerDown(t,n){var r;r={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersDown(t,n,[r],n.button)&&(e.stopEvent(n),capturePointer(t,r.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(n)}function onPointerUp(e,t){handlePointerUp(e,t)}function onPointerUpCaptured(t,n){t.getActivePointersListByType(getPointerType(n)).getById(n.pointerId)&&handlePointerUp(t,n),e.stopEvent(n)}function handlePointerUp(t,n){var r;r={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersUp(t,n,[r],n.button)&&releasePointer(t,r.type)}function onPointerMove(e,t){handlePointerMove(e,t)}function onPointerMoveCaptured(t,n){t.getActivePointersListByType(getPointerType(n)).getById(n.pointerId)&&handlePointerMove(t,n),e.stopEvent(n)}function handlePointerMove(t,n){var r;r={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersMove(t,n,[r])}function onPointerCancel(e,t){var n;n={id:t.pointerId,type:getPointerType(t)},updatePointersCancel(e,t,[n])}function startTrackingPointer(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function stopTrackingPointer(e,t){var n,r;return e.getById(t.id)?(n=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(r=e.getPrimary())||(r=e.getByIndex(0))&&(r.isPrimary=!0)):n=e.getLength(),n}function updatePointersEnter(t,n,r){var i,o,a,s=t.getActivePointersListByType(r[0].type),l=r.length;for(i=0;i<l;i++)o=r[i],a=s.getById(o.id),a?(a.insideElement=!0,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime,o=a):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,startTrackingPointer(s,o)),t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:o.type,position:getPointRelativeToAbsolute(o.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function updatePointersExit(t,n,r){var i,o,a,s=t.getActivePointersListByType(r[0].type),l=r.length;for(i=0;i<l;i++)o=r[i],a=s.getById(o.id),a&&(a.captured?(a.insideElement=!1,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):stopTrackingPointer(s,a),o=a),t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:o.type,position:getPointRelativeToAbsolute(o.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!a&&a.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function updatePointersDown(t,r,i,o){var a,s,l,c=n[t.hash],u=t.getActivePointersListByType(i[0].type),d=i.length;void 0!==r.buttons?u.buttons=r.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===o?u.buttons+=1:1===o?u.buttons+=4:2===o?u.buttons+=2:3===o?u.buttons+=8:4===o?u.buttons+=16:5===o&&(u.buttons+=32):0===o?u.buttons|=1:1===o?u.buttons|=4:2===o?u.buttons|=2:3===o?u.buttons|=8:4===o?u.buttons|=16:5===o&&(u.buttons|=32);var h=t.getActivePointersListsExceptType(i[0].type);for(a=0;a<h.length;a++)abortContacts(t,r,h[a]);if(0!==o)return t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:i[0].type,position:getPointRelativeToAbsolute(i[0].currentPos,t.element),button:o,buttons:u.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r),!1;for(a=0;a<d;a++)s=i[a],l=u.getById(s.id),l?(l.captured=!0,l.insideElementPressed=!0,l.insideElement=!0,l.contactPos=s.currentPos,l.contactTime=s.currentTime,l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=s.currentPos,l.currentTime=s.currentTime,s=l):(s.captured=!0,s.insideElementPressed=!0,s.insideElement=!0,startTrackingPointer(u,s)),u.addContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,s),1===u.contacts?t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:s.type,position:getPointRelativeToAbsolute(s.contactPos,t.element),buttons:u.buttons,isTouchEvent:"touch"===s.type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r):2===u.contacts&&t.pinchHandler&&"touch"===s.type&&(c.pinchGPoints=u.asArray(),c.lastPinchDist=c.currentPinchDist=c.pinchGPoints[0].currentPos.distanceTo(c.pinchGPoints[1].currentPos),c.lastPinchCenter=c.currentPinchCenter=getCenterPoint(c.pinchGPoints[0].currentPos,c.pinchGPoints[1].currentPos));return!0}function updatePointersUp(t,r,i,o){var a,s,l,c,u,d,h=n[t.hash],p=t.getActivePointersListByType(i[0].type),m=i.length,f=!1,g=!1;if(void 0!==r.buttons?p.buttons=r.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===o?p.buttons-=1:1===o?p.buttons-=4:2===o?p.buttons-=2:3===o?p.buttons-=8:4===o?p.buttons-=16:5===o&&(p.buttons-=32):0===o?p.buttons^=-2:1===o?p.buttons^=-5:2===o?p.buttons^=-3:3===o?p.buttons^=-9:4===o?p.buttons^=-17:5===o&&(p.buttons^=-33),0!==o){t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:i[0].type,position:getPointRelativeToAbsolute(i[0].currentPos,t.element),button:o,buttons:p.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r);return abortContacts(t,r,t.getActivePointersListByType("mouse")),!1}for(l=0;l<m;l++)c=i[l],(u=p.getById(c.id))&&(u.captured&&(u.captured=!1,f=!0,g=!0),u.lastPos=u.currentPos,u.lastTime=u.currentTime,u.currentPos=c.currentPos,u.currentTime=c.currentTime,u.insideElement||stopTrackingPointer(p,u),a=u.currentPos,s=u.currentTime,g?(p.removeContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,u),0===p.contacts?(t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:u.type,position:getPointRelativeToAbsolute(a,t.element),buttons:p.buttons,insideElementPressed:u.insideElementPressed,insideElementReleased:u.insideElement,isTouchEvent:"touch"===u.type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r),t.dragEndHandler&&!u.currentPos.equals(u.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:u.type,position:getPointRelativeToAbsolute(u.currentPos,t.element),speed:u.speed,direction:u.direction,shift:r.shiftKey,isTouchEvent:"touch"===u.type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r),(t.clickHandler||t.dblClickHandler)&&u.insideElement&&(d=s-u.contactTime<=t.clickTimeThreshold&&u.contactPos.distanceTo(a)<=t.clickDistThreshold,t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:u.type,position:getPointRelativeToAbsolute(u.currentPos,t.element),quick:d,shift:r.shiftKey,isTouchEvent:"touch"===u.type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r),t.dblClickHandler&&d&&(p.clicks++,1===p.clicks?(h.lastClickPos=a,h.dblClickTimeOut=setTimeout(function(){p.clicks=0},t.dblClickTimeThreshold)):2===p.clicks&&(clearTimeout(h.dblClickTimeOut),p.clicks=0,h.lastClickPos.distanceTo(a)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:u.type,position:getPointRelativeToAbsolute(u.currentPos,t.element),shift:r.shiftKey,isTouchEvent:"touch"===u.type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r),h.lastClickPos=null)))):2===p.contacts&&t.pinchHandler&&"touch"===u.type&&(h.pinchGPoints=p.asArray(),h.lastPinchDist=h.currentPinchDist=h.pinchGPoints[0].currentPos.distanceTo(h.pinchGPoints[1].currentPos),h.lastPinchCenter=h.currentPinchCenter=getCenterPoint(h.pinchGPoints[0].currentPos,h.pinchGPoints[1].currentPos))):t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:u.type,position:getPointRelativeToAbsolute(a,t.element),buttons:p.buttons,insideElementPressed:u.insideElementPressed,insideElementReleased:u.insideElement,isTouchEvent:"touch"===u.type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r));return f}function updatePointersMove(t,r,i){var o,a,s,l,c,u=n[t.hash],d=t.getActivePointersListByType(i[0].type),h=i.length;for(void 0!==r.buttons&&(d.buttons=r.buttons),o=0;o<h;o++)a=i[o],s=d.getById(a.id),s?(a.hasOwnProperty("isPrimary")&&(s.isPrimary=a.isPrimary),s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=a.currentPos,s.currentTime=a.currentTime):(a.captured=!1,a.insideElementPressed=!1,a.insideElement=!0,startTrackingPointer(d,a));t.stopHandler&&"mouse"===i[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){handlePointerStop(t,r,i[0].type)},t.stopDelay)),0===d.contacts?t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:i[0].type,position:getPointRelativeToAbsolute(i[0].currentPos,t.element),buttons:d.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r):1===d.contacts?(t.moveHandler&&(s=d.asArray()[0],!1===t.moveHandler({eventSource:t,pointerType:s.type,position:getPointRelativeToAbsolute(s.currentPos,t.element),buttons:d.buttons,isTouchEvent:"touch"===s.type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r)),t.dragHandler&&(s=d.asArray()[0],c=s.currentPos.minus(s.lastPos),!1===t.dragHandler({eventSource:t,pointerType:s.type,position:getPointRelativeToAbsolute(s.currentPos,t.element),buttons:d.buttons,delta:c,speed:s.speed,direction:s.direction,shift:r.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r))):2===d.contacts&&(t.moveHandler&&(l=d.asArray(),!1===t.moveHandler({eventSource:t,pointerType:l[0].type,position:getPointRelativeToAbsolute(getCenterPoint(l[0].currentPos,l[1].currentPos),t.element),buttons:d.buttons,isTouchEvent:"touch"===l[0].type,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r)),t.pinchHandler&&"touch"===i[0].type&&(c=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos))!=u.currentPinchDist&&(u.lastPinchDist=u.currentPinchDist,u.currentPinchDist=c,u.lastPinchCenter=u.currentPinchCenter,u.currentPinchCenter=getCenterPoint(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos),!1===t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:u.pinchGPoints,lastCenter:getPointRelativeToAbsolute(u.lastPinchCenter,t.element),center:getPointRelativeToAbsolute(u.currentPinchCenter,t.element),lastDistance:u.lastPinchDist,distance:u.currentPinchDist,shift:r.shiftKey,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r)))}function updatePointersCancel(e,t,n){updatePointersUp(e,t,n,0),updatePointersExit(e,t,n)}function handlePointerStop(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:getMouseRelative(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}function canAccessEvents(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}var t=[],n={};e.MouseTracker=function(r){t.push(this);var i=arguments;e.isPlainObject(r)||(r={element:i[0],clickTimeThreshold:i[1],clickDistThreshold:i[2]}),this.hash=Math.random(),this.element=e.getElement(r.element),this.clickTimeThreshold=r.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=r.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=r.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=r.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=r.userData||null,this.stopDelay=r.stopDelay||50,this.enterHandler=r.enterHandler||null,this.exitHandler=r.exitHandler||null,this.pressHandler=r.pressHandler||null,this.nonPrimaryPressHandler=r.nonPrimaryPressHandler||null,this.releaseHandler=r.releaseHandler||null,this.nonPrimaryReleaseHandler=r.nonPrimaryReleaseHandler||null,this.moveHandler=r.moveHandler||null,this.scrollHandler=r.scrollHandler||null,this.clickHandler=r.clickHandler||null,this.dblClickHandler=r.dblClickHandler||null,this.dragHandler=r.dragHandler||null,this.dragEndHandler=r.dragEndHandler||null,this.pinchHandler=r.pinchHandler||null,this.stopHandler=r.stopHandler||null,this.keyDownHandler=r.keyDownHandler||null,this.keyUpHandler=r.keyUpHandler||null,this.keyHandler=r.keyHandler||null,this.focusHandler=r.focusHandler||null,this.blurHandler=r.blurHandler||null;var o=this;n[this.hash]={click:function(e){onClick(o,e)},dblclick:function(e){onDblClick(o,e)},keydown:function(e){onKeyDown(o,e)},keyup:function(e){onKeyUp(o,e)},keypress:function(e){onKeyPress(o,e)},focus:function(e){onFocus(o,e)},blur:function(e){onBlur(o,e)},wheel:function(e){onWheel(o,e)},mousewheel:function(e){onMouseWheel(o,e)},DOMMouseScroll:function(e){onMouseWheel(o,e)},MozMousePixelScroll:function(e){onMouseWheel(o,e)},mouseenter:function(e){onMouseEnter(o,e)},mouseleave:function(e){onMouseLeave(o,e)},mouseover:function(e){onMouseOver(o,e)},mouseout:function(e){onMouseOut(o,e)},mousedown:function(e){onMouseDown(o,e)},mouseup:function(e){onMouseUp(o,e)},mouseupcaptured:function(e){onMouseUpCaptured(o,e)},mousemove:function(e){onMouseMove(o,e)},mousemovecaptured:function(e){onMouseMoveCaptured(o,e)},touchstart:function(e){onTouchStart(o,e)},touchend:function(e){onTouchEnd(o,e)},touchendcaptured:function(e){onTouchEndCaptured(o,e)},touchmove:function(e){onTouchMove(o,e)},touchmovecaptured:function(e){onTouchMoveCaptured(o,e)},touchcancel:function(e){onTouchCancel(o,e)},gesturestart:function(e){onGestureStart(o,e)},gesturechange:function(e){onGestureChange(o,e)},pointerover:function(e){onPointerOver(o,e)},MSPointerOver:function(e){onPointerOver(o,e)},pointerout:function(e){onPointerOut(o,e)},MSPointerOut:function(e){onPointerOut(o,e)},pointerdown:function(e){onPointerDown(o,e)},MSPointerDown:function(e){onPointerDown(o,e)},pointerup:function(e){onPointerUp(o,e)},MSPointerUp:function(e){onPointerUp(o,e)},pointermove:function(e){onPointerMove(o,e)},MSPointerMove:function(e){onPointerMove(o,e)},pointercancel:function(e){onPointerCancel(o,e)},MSPointerCancel:function(e){onPointerCancel(o,e)},pointerupcaptured:function(e){onPointerUpCaptured(o,e)},pointermovecaptured:function(e){onPointerMoveCaptured(o,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},r.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(stopTracking(this),this.element=null,e=0;e<t.length;e++)if(t[e]===this){t.splice(e,1);break}n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(e){return e?startTracking(this):stopTracking(this),this},getActivePointersListsExceptType:function(e){for(var t=n[this.hash],r=[],i=0;i<t.activePointersLists.length;++i)t.activePointersLists[i].type!==e&&r.push(t.activePointersLists[i]);return r},getActivePointersListByType:function(t){var r,i,o=n[this.hash],a=o.activePointersLists.length;for(r=0;r<a;r++)if(o.activePointersLists[r].type===t)return o.activePointersLists[r];return i=new e.MouseTracker.GesturePointList(t),o.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=n[this.hash],r=t.activePointersLists.length,i=0;for(e=0;e<r;e++)i+=t.activePointersLists[e].getLength();return i},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},e.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<t.length;e++)t[e].isTracking()&&(t[e].setTracking(!1),t[e].setTracking(!0))},e.MouseTracker.gesturePointVelocityTracker=function(){var t=[],n=0,r=0,i=function(e,t){return e.hash.toString()+t.type+t.id.toString()},o=function(){var n,i,o,a,s,l,c=t.length,u=e.now();for(a=u-r,r=u,n=0;n<c;n++)i=t[n],o=i.gPoint,o.direction=Math.atan2(o.currentPos.y-i.lastPos.y,o.currentPos.x-i.lastPos.x),s=i.lastPos.distanceTo(o.currentPos),i.lastPos=o.currentPos,l=1e3*s/(a+1),o.speed=.75*l+.25*o.speed};return{addPoint:function(a,s){var l=i(a,s);t.push({guid:l,gPoint:s,lastPos:s.currentPos}),1===t.length&&(r=e.now(),n=window.setInterval(o,50))},removePoint:function(e,r){var o,a=i(e,r),s=t.length;for(o=0;o<s;o++)if(t[o].guid===a){t.splice(o,1),0===--s&&window.clearInterval(n);break}}}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.supportsMouseCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",e.MouseTracker.wheelEventName],"DOMMouseScroll"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),e.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):(e.MouseTracker.havePointerEvents=!1,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?(e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),e.MouseTracker.haveMouseEnter=!0):(e.MouseTracker.subscribeEvents.push("mouseover","mouseout"),e.MouseTracker.haveMouseEnter=!1),e.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.maxTouchPoints=10),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts<0&&(this.contacts=0)}};var r=function(){try{return window.self!==window.top}catch(e){return!0}}()}(OpenSeadragon),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,r){var i=t.parentNode;"number"==typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer=void 0===n.attachToViewer||n.attachToViewer,this.autoFade=void 0===n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=r,this.anchor==e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):i.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(e){function getControlIndex(e,t){var n,r=e.controls;for(n=r.length-1;n>=0;n--)if(r[n].element==t)return n;return-1}e.ControlDock=function(t){var n,r,i=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),r=0;r<i.length;r++)n=i[r],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(t,n){t=e.getElement(t);var r=null;if(!(getControlIndex(this,t)>=0)){switch(n.anchor){case e.ControlAnchor.TOP_RIGHT:r=this.controls.topright,t.style.position="relative",t.style.paddingRight="0px",t.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:r=this.controls.bottomright,t.style.position="relative",t.style.paddingRight="0px",t.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:r=this.controls.bottomleft,t.style.position="relative",t.style.paddingLeft="0px",t.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:r=this.controls.topleft,t.style.position="relative",t.style.paddingLeft="0px",t.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:r=this.container,t.style.margin="0px",t.style.padding="0px";break;default:case e.ControlAnchor.NONE:r=this.container,t.style.margin="0px",t.style.padding="0px"}this.controls.push(new e.Control(t,n,r)),t.style.display="inline-block"}},removeControl:function(t){t=e.getElement(t);var n=getControlIndex(this,t);return n>=0&&(this.controls[n].destroy(),this.controls.splice(n,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(e){function _getSafeElemSize(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function getTileSourceImplementation(t,n,r,i,o){function waitUntilReady(e,t){e.ready?i(e):(e.addHandler("ready",function(){i(e)}),e.addHandler("open-failed",function(e){o({message:e.message,source:t})}))}var a=t;if("string"==e.type(n))if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var s=e.parseJSON(n);n=s}catch(e){}setTimeout(function(){if("string"==e.type(n))n=new e.TileSource({url:n,crossOriginPolicy:void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){i(e.tileSource)}}),n.addHandler("open-failed",function(e){o(e)});else if(e.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===r.crossOriginPolicy&&void 0===t.crossOriginPolicy||(n.crossOriginPolicy=void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=t.useCanvas),e.isFunction(n.getTileUrl)){var s=new e.TileSource(n);s.getTileUrl=n.getTileUrl,i(s)}else{var l=e.TileSource.determineType(a,n);if(!l)return void o({message:"Unable to load TileSource",source:n});var c=l.prototype.configure.apply(a,[n]);waitUntilReady(new l(c),n)}else waitUntilReady(n,n)})}function getOverlayObject(t,n){if(n instanceof e.Overlay)return n;var r=null;if(n.element)r=e.getElement(n.element);else{var i=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());r=e.getElement(n.id),r||(r=document.createElement("a"),r.href="#/overlay/"+i),r.id=i,e.addClass(r,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,s=n.height;if(!o){var l=n.x,c=n.y;if(void 0!==n.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,a||0,s||0));l=u.x,c=u.y,a=void 0!==a?u.width:void 0,s=void 0!==s?u.height:void 0}o=new e.Point(l,c)}var d=n.placement;return d&&"string"===e.type(d)&&(d=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:r,location:o,placement:d,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:s,rotationMode:n.rotationMode})}function getOverlayIndex(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function scheduleUpdate(t,n){return e.requestAnimationFrame(function(){n(t)})}function scheduleControlsFade(t){e.requestAnimationFrame(function(){updateControlsFade(t)})}function beginControlsAutoHide(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout(function(){scheduleControlsFade(t)},t.controlsFadeDelay))}function updateControlsFade(t){var n,r,i,o;if(t.controlsShouldFade){for(n=e.now(),r=n-t.controlsFadeBeginTime,i=1-r/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),o=t.controls.length-1;o>=0;o--)t.controls[o].autoFade&&t.controls[o].setOpacity(i);i>0&&scheduleControlsFade(t)}}function abortControlsAutoHide(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function onFocus(){abortControlsAutoHide(this)}function onBlur(){beginControlsAutoHide(this)}function onCanvasKeyDown(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 40:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 37:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 39:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function onCanvasKeyPress(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 115:case 83:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 97:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 100:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function onCanvasClick(e){var t;document.activeElement==this.canvas||this.canvas.focus();var n={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",n),!n.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType),t.clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints()))}function onCanvasDblClick(e){var t;!e.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),t.dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints())),this.raiseEvent("canvas-double-click",{tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent})}function onCanvasDrag(e){var t,n={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.constrainDuringPan){var r=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=r.x,this.viewport.centerSpringY.target.value+=r.y;var i=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=r.x,this.viewport.centerSpringY.target.value-=r.y,i.x!=o.x&&(e.delta.x=0),i.y!=o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function onCanvasDragEnd(t){if(!t.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(t.pointerType);if(n.flickEnabled&&t.speed>=n.flickMinSpeed){var r=0;this.panHorizontal&&(r=n.flickMomentum*t.speed*Math.cos(t.direction));var i=0;this.panVertical&&(i=n.flickMomentum*t.speed*Math.sin(t.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),a=this.viewport.pointFromPixel(new e.Point(o.x-r,o.y-i));this.viewport.panTo(a,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function onCanvasEnter(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function onCanvasExit(t){window.location!=window.parent.location&&e.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function onCanvasPress(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function onCanvasRelease(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function onCanvasNonPrimaryPress(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function onCanvasNonPrimaryRelease(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function onCanvasPinch(e){var t,n,r,i;if(!e.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),t.pinchToZoom&&(n=this.viewport.pointFromPixel(e.center,!0),r=this.viewport.pointFromPixel(e.lastCenter,!0),i=r.minus(n),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),this.viewport.panBy(i,!0),this.viewport.applyConstraints()),t.pinchRotate)){var o=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),a=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(o-a)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function onCanvasScroll(t){var n,r,i;if(i=e.now(),i-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=i,!t.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(t.pointerType),n.scrollToZoom&&(r=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(r,this.viewport.pointFromPixel(t.position,!0)),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),n&&n.scrollToZoom)return!1}else if((n=this.gestureSettingsByDeviceType(t.pointerType))&&n.scrollToZoom)return!1}function onContainerEnter(e){t[this.hash].mouseInside=!0,abortControlsAutoHide(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function onContainerExit(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||beginControlsAutoHide(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function updateMulti(e){updateOnce(e),e.isOpen()?e._updateRequestId=scheduleUpdate(e,updateMulti):e._updateRequestId=!1}function updateOnce(e){if(!e._opening){if(e.autoResize){var n=_getSafeElemSize(e.container),r=t[e.hash].prevContainerSize;if(!n.equals(r)){var i=e.viewport;if(e.preserveImageSizeOnResize){var o=r.x/n.x,a=i.getZoom()*o,s=i.getCenter();i.resize(n,!1),i.zoomTo(a,null,!0),i.panTo(s,!0)}else{var l=i.getBounds();i.resize(n,!0),i.fitBoundsWithConstraints(l,!0)}t[e.hash].prevContainerSize=n,t[e.hash].forceRedraw=!0}}var c=e.viewport.update(),u=e.world.update()||c;c&&e.raiseEvent("viewport-change"),e.referenceStrip&&(u=e.referenceStrip.update(e.viewport)||u),!t[e.hash].animating&&u&&(e.raiseEvent("animation-start"),abortControlsAutoHide(e)),(u||t[e.hash].forceRedraw||e.world.needsDraw())&&(drawWorld(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,u&&e.raiseEvent("animation")),t[e.hash].animating&&!u&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||beginControlsAutoHide(e)),t[e.hash].animating=u}}function drawWorld(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}function resolveUrl(e,t){return e?e+t:t}function beginZoomingIn(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,scheduleZoom(this)}function beginZoomingOut(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,scheduleZoom(this)}function endZooming(){t[this.hash].zooming=!1}function scheduleZoom(t){e.requestAnimationFrame(e.delegate(t,doZoom))}function doZoom(){var n,r,i;t[this.hash].zooming&&this.viewport&&(n=e.now(),r=n-t[this.hash].lastZoomTime,i=Math.pow(t[this.hash].zoomFactor,r/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,scheduleZoom(this))}function doSingleZoomIn(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function doSingleZoomOut(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function lightUp(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function onHome(){this.viewport&&this.viewport.goHome()}function onFullScreen(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function onRotateLeft(){if(this.viewport){var e=this.viewport.getRotation();0===e?e=270:e-=90,this.viewport.setRotation(e)}}function onRotateRight(){if(this.viewport){var e=this.viewport.getRotation();270===e?e=0:e+=90,this.viewport.setRotation(e)}}function onPrevious(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function onNext(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}var t={},n=1;e.Viewer=function(r){var i,o=arguments,a=this;if(e.isPlainObject(r)||(r={id:o[0],xmlPath:o.length>1?o[1]:void 0,prefixUrl:o.length>2?o[2]:void 0,controls:o.length>3?o[3]:void 0,overlays:o.length>4?o[4]:void 0}),r.config&&(e.extend(!0,r,r.config),delete r.config),e.extend(!0,this,{id:r.id,hash:r.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,r),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);a._showMessage(n)}),e.ControlDock.call(this,r),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(e){e.width="100%",e.height="100%",e.overflow="hidden",e.position="absolute",e.top="0px",e.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),""!==r.tabIndex&&(this.canvas.tabIndex=void 0===r.tabIndex?0:r.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,onCanvasKeyDown),keyHandler:e.delegate(this,onCanvasKeyPress),clickHandler:e.delegate(this,onCanvasClick),dblClickHandler:e.delegate(this,onCanvasDblClick),dragHandler:e.delegate(this,onCanvasDrag),dragEndHandler:e.delegate(this,onCanvasDragEnd),enterHandler:e.delegate(this,onCanvasEnter),exitHandler:e.delegate(this,onCanvasExit),pressHandler:e.delegate(this,onCanvasPress),releaseHandler:e.delegate(this,onCanvasRelease),nonPrimaryPressHandler:e.delegate(this,onCanvasNonPrimaryPress),nonPrimaryReleaseHandler:e.delegate(this,onCanvasNonPrimaryRelease),scrollHandler:e.delegate(this,onCanvasScroll),pinchHandler:e.delegate(this,onCanvasPinch)}),this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,onContainerEnter),exitHandler:e.delegate(this,onContainerExit)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=_getSafeElemSize(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(e){a.source=a.world.getItemAt(0).source,t[a.hash].forceRedraw=!0,a._updateRequestId||(a._updateRequestId=scheduleUpdate(a,updateMulti))}),this.world.addHandler("remove-item",function(e){a.world.getItemCount()?a.source=a.world.getItemAt(0).source:a.source=null,t[a.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(e){a.viewport&&a.viewport._setContentBounds(a.world.getHomeBounds(),a.world.getContentFactor())}),this.world.addHandler("item-index-change",function(e){a.source=a.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:r.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(i=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(i,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(i=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(i,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),i=0;i<this.customControls.length;i++)this.addControl(this.customControls[i].id,{anchor:this.customControls[i].anchor});e.requestAnimationFrame(function(){beginControlsAutoHide(a)})},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t,n){var r=this;if(this.close(),t){if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===n||isNaN(n)||(this.initialPage=n),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(e.isArray(t)||(t=[t]),t.length){this._opening=!0;for(var i,o=t.length,a=0,s=0,l=function(){if(a+s===o)if(a){!r._firstOpen&&r.preserveViewport||(r.viewport.goHome(!0),r.viewport.update()),r._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),r.overlays&&!r.preserveOverlays)for(var n=0;n<r.overlays.length;n++)r.currentOverlays[n]=getOverlayObject(r,r.overlays[n]);r._drawOverlays(),r._opening=!1,r.raiseEvent("open",{source:e})}else r._opening=!1,r.raiseEvent("open-failed",i)},c=0;c<t.length;c++)!function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(a++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)r.addOverlay(t.tileSource.overlays[i]);n&&n(e),l()};var o=t.error;t.error=function(e){s++,i||(i=e),o&&o(e),l()},r.addTiledImage(t)}(t[c]);return this}}},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){return e?abortControlsAutoHide(this):beginControlsAutoHide(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(n){var r,i,o=document.body,a=o.style,s=document.documentElement.style,l=this;if(n==this.isFullPage())return this;var c={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(n){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=s.margin,a.margin="0",s.margin="0",this.bodyPadding=a.padding,this.docPadding=s.padding,a.padding="0",s.padding="0",this.bodyWidth=a.width,this.docWidth=s.width,a.width="100%",s.width="100%",this.bodyHeight=a.height,this.docHeight=s.height,a.height="100%",s.height="100%",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,r=o.childNodes.length,i=0;i<r;i++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,onContainerEnter)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,s.margin=this.docMargin,a.padding=this.bodyPadding,s.padding=this.docPadding,a.width=this.bodyWidth,s.width=this.docWidth,a.height=this.bodyHeight,s.height=this.docHeight,o.removeChild(this.element),r=this.previousBody.length,i=0;i<r;i++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var u=0,d=function(){e.setPageScroll(l.pageScroll);var t=e.getPageScroll();++u<10&&(t.x!==l.pageScroll.x||t.y!==l.pageScroll.y)&&e.requestAnimationFrame(d)};e.requestAnimationFrame(d),t[this.hash].fullPage=!1,e.delegate(this,onContainerExit)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var r={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",r),r.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var i=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,i),e.removeEvent(document,e.fullScreenErrorEventName,i),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&n.navigator.update(n.viewport),n.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,i),e.addEvent(document,e.fullScreenErrorEventName,i),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){function raiseAddItemFailed(e){for(var i=0;i<n._loadQueue.length;i++)if(n._loadQueue[i]===r){n._loadQueue.splice(i,1);break}0===n._loadQueue.length&&refreshWorld(r),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function refreshWorld(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function processReadyItems(){for(var t,r,i;n._loadQueue.length&&(t=n._loadQueue[0],t.tileSource);){if(n._loadQueue.splice(0,1),t.options.replace){var o=n.world.getIndexOfItem(t.options.replaceItem);-1!=o&&(t.options.index=o),n.world.removeItem(t.options.replaceItem)}r=new e.TiledImage({viewer:n,source:t.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(r,{index:t.options.index}),0===n._loadQueue.length&&refreshWorld(t),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(i=e.extend({},t.options,{replace:!1,originalTiledImage:r,tileSource:t.tileSource}),n.navigator.addTiledImage(i)),t.options.success&&t.options.success({item:r})}}e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var r={options:t};if(e.isArray(t.tileSource))return void setTimeout(function(){raiseAddItemFailed({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})});this._loadQueue.push(r),getTileSourceImplementation(this,t.tileSource,t,function(e){r.tileSource=e,processReadyItems()},function(e){e.options=t,raiseAddItemFailed(e),processReadyItems()})},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var r=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(r),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,onFocus),n=e.delegate(this,onBlur),r=e.delegate(this,onNext),i=e.delegate(this,onPrevious),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:resolveUrl(this.prefixUrl,o.previous.REST),srcGroup:resolveUrl(this.prefixUrl,o.previous.GROUP),srcHover:resolveUrl(this.prefixUrl,o.previous.HOVER),srcDown:resolveUrl(this.prefixUrl,o.previous.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:resolveUrl(this.prefixUrl,o.next.REST),srcGroup:resolveUrl(this.prefixUrl,o.next.GROUP),srcHover:resolveUrl(this.prefixUrl,o.next.HOVER),srcDown:resolveUrl(this.prefixUrl,o.next.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,beginZoomingIn),n=e.delegate(this,endZooming),r=e.delegate(this,doSingleZoomIn),i=e.delegate(this,beginZoomingOut),o=e.delegate(this,doSingleZoomOut),a=e.delegate(this,onHome),s=e.delegate(this,onFullScreen),l=e.delegate(this,onRotateLeft),c=e.delegate(this,onRotateRight),u=e.delegate(this,onFocus),d=e.delegate(this,onBlur),h=this.navImages,p=[],m=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton)&&(m=!1),this.showZoomControl&&(p.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:resolveUrl(this.prefixUrl,h.zoomIn.REST),srcGroup:resolveUrl(this.prefixUrl,h.zoomIn.GROUP),srcHover:resolveUrl(this.prefixUrl,h.zoomIn.HOVER),srcDown:resolveUrl(this.prefixUrl,h.zoomIn.DOWN),onPress:t,onRelease:n,onClick:r,onEnter:t,onExit:n,onFocus:u,onBlur:d})),p.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:resolveUrl(this.prefixUrl,h.zoomOut.REST),srcGroup:resolveUrl(this.prefixUrl,h.zoomOut.GROUP),srcHover:resolveUrl(this.prefixUrl,h.zoomOut.HOVER),srcDown:resolveUrl(this.prefixUrl,h.zoomOut.DOWN),onPress:i,onRelease:n,onClick:o,onEnter:i,onExit:n,onFocus:u,onBlur:d}))),this.showHomeControl&&p.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:resolveUrl(this.prefixUrl,h.home.REST),srcGroup:resolveUrl(this.prefixUrl,h.home.GROUP),srcHover:resolveUrl(this.prefixUrl,h.home.HOVER),srcDown:resolveUrl(this.prefixUrl,h.home.DOWN),onRelease:a,onFocus:u,onBlur:d})),this.showFullPageControl&&p.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:resolveUrl(this.prefixUrl,h.fullpage.REST),srcGroup:resolveUrl(this.prefixUrl,h.fullpage.GROUP),srcHover:resolveUrl(this.prefixUrl,h.fullpage.HOVER),srcDown:resolveUrl(this.prefixUrl,h.fullpage.DOWN),onRelease:s,onFocus:u,onBlur:d})),this.showRotationControl&&(p.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:resolveUrl(this.prefixUrl,h.rotateleft.REST),srcGroup:resolveUrl(this.prefixUrl,h.rotateleft.GROUP),srcHover:resolveUrl(this.prefixUrl,h.rotateleft.HOVER),srcDown:resolveUrl(this.prefixUrl,h.rotateleft.DOWN),onRelease:l,onFocus:u,onBlur:d})),p.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:resolveUrl(this.prefixUrl,h.rotateright.REST),srcGroup:resolveUrl(this.prefixUrl,h.rotateright.GROUP),srcHover:resolveUrl(this.prefixUrl,h.rotateright.HOVER),srcDown:resolveUrl(this.prefixUrl,h.rotateright.DOWN),onRelease:c,onFocus:u,onBlur:d}))),m&&(this.buttons=new e.ButtonGroup({buttons:p,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",e.delegate(this,lightUp)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this.raiseEvent("page",{page:e}),this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e)),this},addOverlay:function(t,n,r,i){var o;if(o=e.isPlainObject(t)?t:{element:t,location:n,placement:r,onDraw:i},t=e.getElement(o.element),getOverlayIndex(this.currentOverlays,t)>=0)return this;var a=getOverlayObject(this,o);return this.currentOverlays.push(a),a.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:o.location,placement:o.placement}),this},updateOverlay:function(n,r,i){var o;return n=e.getElement(n),o=getOverlayIndex(this.currentOverlays,n),o>=0&&(this.currentOverlays[o].update(r,i),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:r,placement:i})),this},removeOverlay:function(n){var r;return n=e.getElement(n),r=getOverlayIndex(this.currentOverlays,n),r>=0&&(this.currentOverlays[r].destroy(),this.currentOverlays.splice(r,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),n=getOverlayIndex(this.currentOverlays,t),n>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(e){function onCanvasClick(e){e.quick&&this.viewer.viewport&&(this.viewer.viewport.panTo(this.viewport.pointFromPixel(e.position)),this.viewer.viewport.applyConstraints())}function onCanvasDrag(e){this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function onCanvasRelease(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function onCanvasScroll(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function _setTransformRotate(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.mozTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.oTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"}e.Navigator=function(t){function rotate(e){_setTransformRotate(o.displayRegionContainer,e),_setTransformRotate(o.displayRegion,-e),o.viewport.setRotation(e)}var n,r,i=t.viewer,o=this;if(t.id?(this.element=document.getElementById(t.id),t.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(t.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),t.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:t.autoFade},t.position&&("BOTTOM_RIGHT"==t.position?t.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==t.position?t.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==t.position?t.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==t.position?t.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"==t.position&&(t.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,t.controlOptions.top=t.top,t.controlOptions.left=t.left,t.controlOptions.height=t.height,t.controlOptions.width=t.width))),this.element.id=t.id,this.element.className+=" navigator",t=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},t,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:t.autoResize,minZoomImageRatio:1}),t.minPixelRatio=this.minPixelRatio=i.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),t.controlOptions.anchor!=e.ControlAnchor.NONE&&function(e,t){e.margin="0px",e.border=t+"px solid #555",e.padding="0px",e.background="#000",e.opacity=.8,e.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid #900",e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",i.addControl(this.element,t.controlOptions),this._resizeWithViewer=t.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&t.controlOptions.anchor!=e.ControlAnchor.NONE,this._resizeWithViewer&&(t.width&&t.height?(this.element.style.height="number"==typeof t.height?t.height+"px":t.height,this.element.style.width="number"==typeof t.width?t.width+"px":t.width):(n=e.getElementSize(i.element),this.element.style.height=Math.round(n.y*t.sizeRatio)+"px",this.element.style.width=Math.round(n.x*t.sizeRatio)+"px",this.oldViewerSize=n),r=e.getElementSize(this.element),this.elementArea=r.x*r.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[t]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),t.navigatorRotate){rotate(t.viewer.viewport?t.viewer.viewport.getRotation():t.viewer.degrees||0),t.viewer.addHandler("rotate",function(e){rotate(e.degrees)})}this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,onCanvasDrag),clickHandler:e.delegate(this,onCanvasClick),releaseHandler:e.delegate(this,onCanvasRelease),scrollHandler:e.delegate(this,onCanvasScroll)}),this.addHandler("reset-size",function(){o.viewport&&o.viewport.goHome(!0)}),i.world.addHandler("item-index-change",function(e){window.setTimeout(function(){var t=o.world.getItemAt(e.previousIndex);o.world.setItemIndex(t,e.newIndex)},1)}),i.world.addHandler("remove-item",function(e){var t=e.item,n=o._getMatchingItem(t);n&&o.world.removeItem(n)}),this.update(i.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},update:function(t){var n,r,i,o,a,s;if(n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(r=n.x*this.sizeRatio,i=n.y*this.sizeRatio):(r=Math.sqrt(this.elementArea*(n.x/n.y)),i=this.elementArea/r),this.element.style.width=Math.round(r)+"px",this.element.style.height=Math.round(i)+"px",this.elementArea||(this.elementArea=r*i),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(a.y)+"px",l.left=Math.round(a.x)+"px";var c=Math.abs(a.x-s.x),u=Math.abs(a.y-s.y);l.width=Math.round(Math.max(c,0))+"px",l.height=Math.round(Math.max(u,0))+"px"}},addTiledImage:function(t){var n=this,r=t.originalTiledImage;delete t.original;var i=e.extend({},t,{success:function(e){function matchBounds(){n._matchBounds(t,r)}function matchOpacity(){n._matchOpacity(t,r)}function matchCompositeOperation(){n._matchCompositeOperation(t,r)}var t=e.item;t._originalForNavigator=r,n._matchBounds(t,r,!0),r.addHandler("bounds-change",matchBounds),r.addHandler("clip-change",matchBounds),r.addHandler("opacity-change",matchOpacity),r.addHandler("composite-operation-change",matchCompositeOperation)}});return e.Viewer.prototype.addTiledImage.apply(this,[i])},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),r=0;r<n;r++)if(t=this.world.getItemAt(r),t._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var r=t.getBoundsNoRotate();e.setPosition(r.getTopLeft(),n),e.setWidth(r.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right"}};e.extend(e,{getString:function(n){var r,i=n.split("."),o=null,a=arguments,s=t;for(r=0;r<i.length-1;r++)s=s[i[r]]||{};return o=s[i[r]],"string"!=typeof o&&(e.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""})},setString:function(e,n){var r,i=e.split("."),o=t;for(r=0;r<i.length-1;r++)o[i[r]]||(o[i[r]]={}),o=o[i[r]];o[i[r]]=n}})}(OpenSeadragon),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){n=n||new e.Point(0,0);var r,i;if(t%90==0){switch(e.positiveModulo(t,360)){case 0:r=1,i=0;break;case 90:r=0,i=1;break;case 180:r=-1,i=0;break;case 270:r=0,i=-1}}else{var o=t*Math.PI/180;r=Math.cos(o),i=Math.sin(o)}var a=r*(this.x-n.x)-i*(this.y-n.y)+n.x,s=i*(this.x-n.x)+r*(this.y-n.y)+n.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(e){function processResponse(t){var n,r,i=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw o=t.status,n=404==o?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(i.match(/\s*<.*/))try{r=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(i)}catch(e){r=t.responseText}else if(i.match(/\s*[\{\[].*/))try{r=e.parseJSON(i)}catch(e){r=i}else r=i;return r}e.TileSource=function(t,n,r,i,o,a){var s,l,c=this,u=arguments;if(s=e.isPlainObject(t)?t:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},e.EventSource.call(this),e.extend(!0,this,s),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",function(e){c.success(e)}),"string"==e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new e.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,n={};for(t=0;t<=this.maxLevel;t++)n[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return n[e]},this.getLevelScale(e)},getNumTiles:function(t){var n=this.getLevelScale(t),r=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),i=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(r,i)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),r=1/n.x,i=1/n.y;return new e.Point(r,i)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&(t=this.getNumTiles(e),!(t.x>1||t.y>1));e++);return e-1},getTileAtPoint:function(t,n){var r=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(r,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(t),o=n.x*i,a=n.y*i,s=Math.floor(o/this.getTileWidth(t)),l=Math.floor(a/this.getTileHeight(t));n.x>=1&&(s=this.getNumTiles(t).x-1);return n.y>=1/this.aspectRatio-1e-16&&(l=this.getNumTiles(t).y-1),new e.Point(s,l)},getTileBounds:function(t,n,r){var i=this.dimensions.times(this.getLevelScale(t)),o=this.getTileWidth(t),a=this.getTileHeight(t),s=0===n?0:o*n-this.tileOverlap,l=0===r?0:a*r-this.tileOverlap,c=o+(0===n?1:2)*this.tileOverlap,u=a+(0===r?1:2)*this.tileOverlap,d=1/i.x;return c=Math.min(c,i.x-s),u=Math.min(u,i.y-l),new e.Rect(s*d,l*d,c*d,u*d)},getImageInfo:function(t){var n,r,i,o,a,s,l,c=this;t&&(a=t.split("/"),s=a[a.length-1],(l=s.lastIndexOf("."))>-1&&(a[a.length-1]=s.slice(0,l))),r=function(n){"string"==typeof n&&(n=e.parseXml(n));var r=e.TileSource.determineType(c,n,t);if(!r)return void c.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t});o=r.prototype.configure.apply(c,[n,t]),void 0===o.ajaxWithCredentials&&(o.ajaxWithCredentials=c.ajaxWithCredentials),i=new r(o),c.ready=!0,c.raiseEvent("ready",{tileSource:i})},t.match(/\.js$/)?(n=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:n,callback:r})):e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){var t=processResponse(e);r(t)},error:function(e,n){var r;try{r="HTTP "+e.status+" attempting to load TileSource"}catch(e){var i;i=void 0!==n&&n.toString?n.toString():"Unknown error",r=i+" attempting to load TileSource"}c.raiseEvent("open-failed",{message:r,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(e,t,n){return{}},tileExists:function(e,t,n){var r=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<r.x&&n<r.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,n,r){var i;for(i in OpenSeadragon)if(i.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[i])&&e.isFunction(OpenSeadragon[i].prototype.supports)&&OpenSeadragon[i].prototype.supports.call(t,n,r))return OpenSeadragon[i];e.console.error("No TileSource was able to open %s %s",r,n)}}(OpenSeadragon),function(e){function configureFromXML(t,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var r,i,o,a,s,l=n.documentElement,c=l.localName||l.tagName,u=n.documentElement.namespaceURI,d=null,h=[];if("Image"==c)try{if(a=l.getElementsByTagName("Size")[0],void 0===a&&(a=l.getElementsByTagNameNS(u,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:l.getAttribute("Url"),Format:l.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(l.getAttribute("Overlap"),10),TileSize:parseInt(l.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(r=l.getElementsByTagName("DisplayRect"),void 0===r&&(r=l.getElementsByTagNameNS(u,"DisplayRect")[0]),s=0;s<r.length;s++)i=r[s],o=i.getElementsByTagName("Rect")[0],void 0===o&&(o=i.getElementsByTagNameNS(u,"Rect")[0]),h.push({Rect:{X:parseInt(o.getAttribute("X"),10),Y:parseInt(o.getAttribute("Y"),10),Width:parseInt(o.getAttribute("Width"),10),Height:parseInt(o.getAttribute("Height"),10),MinLevel:parseInt(i.getAttribute("MinLevel"),10),MaxLevel:parseInt(i.getAttribute("MaxLevel"),10)}});return h.length&&(d.Image.DisplayRect=h),configureFromObject(t,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"==c)throw new Error(e.getString("Errors.Dzc"));if("Error"==c){var p=l.getElementsByTagName("Message")[0],m=p.firstChild.nodeValue;throw new Error(m)}}throw new Error(e.getString("Errors.Dzi"))}function configureFromObject(t,n){var r,i,o=n.Image,a=o.Url,s=o.Format,l=o.Size,c=o.DisplayRect||[],u=parseInt(l.Width,10),d=parseInt(l.Height,10),h=parseInt(o.TileSize,10),p=parseInt(o.Overlap,10),m=[];for(i=0;i<c.length;i++)r=c[i].Rect,m.push(new e.DisplayRect(parseInt(r.X,10),parseInt(r.Y,10),parseInt(r.Width,10),parseInt(r.Height,10),parseInt(r.MinLevel,10),parseInt(r.MaxLevel,10)));return e.extend(!0,{width:u,height:d,tileSize:h,tileOverlap:p,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:m},n)}e.DziTileSource=function(t,n,r,i,o,a,s,l,c){var u,d,h,p;if(p=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=p.tilesUrl,this.fileFormat=p.fileFormat,this.displayRects=p.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(d=this.displayRects[u],h=d.minLevel;h<=d.maxLevel;h++)this._levelRects[h]||(this._levelRects[h]=[]),this._levelRects[h].push(d);e.TileSource.apply(this,[p])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(n=e.documentElement.namespaceURI)),n=(n||"").toLowerCase(),-1!==n.indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(t,n){var r;return r=e.isPlainObject(t)?configureFromObject(this,t):configureFromXML(this,t),n&&!r.tilesUrl&&(r.tilesUrl=n.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=n.search(/\.(dzi|xml|js)\?/)?r.queryParams=n.match(/\?.*/):r.queryParams=""),r},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var r,i,o,a,s,l,c,u=this._levelRects[e];if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(r=u[c],!(e<r.minLevel||e>r.maxLevel)&&(i=this.getLevelScale(e),o=r.x*i,a=r.y*i,s=o+r.width*i,l=a+r.height*i,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=t&&t<s&&a<=n&&n<l))return!0;return!1}})}(OpenSeadragon),function(e){function canBeTiled(e){return!(-1!=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(e[0]))||-1!=e.indexOf("sizeByW")}function constructLevels(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e["@id"]+"/full/"+e.sizes[n].width+",/0/default.jpg",width:e.sizes[n].width,height:e.sizes[n].height});return t.sort(function(e,t){return e.width-t.width})}function configureFromXml10(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,r=n.tagName,i=null;if("info"==r)try{return i={},parseXML10(n,i),i}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function parseXML10(t,n,r){var i,o;if(3==t.nodeType&&r)o=t.nodeValue.trim(),o.match(/^\d*$/)&&(o=Number(o)),n[r]?(e.isArray(n[r])||(n[r]=[n[r]]),n[r].push(o)):n[r]=o;else if(1==t.nodeType)for(i=0;i<t.childNodes.length;i++)parseXML10(t.childNodes[i],n,t.nodeName)}e.IIIFTileSource=function(t){if(e.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var n=0;n<this.tiles.length;n++)for(var r=0;r<this.tiles[n].scaleFactors.length;r++){var i=this.tiles[n].scaleFactors[r];this.scale_factors.push(i),t.tileSizePerScaleFactor[i]={width:this.tiles[n].width,height:this.tiles[n].height||this.tiles[n].width}}}else if(canBeTiled(t.profile)){for(var o=Math.min(this.height,this.width),a=[256,512,1024],s=[],l=0;l<a.length;l++)a[l]<=o&&s.push(a[l]);s.length>0?t.tileSize=Math.max.apply(null,s):t.tileSize=o}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=constructLevels(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");t.maxLevel||this.emulateLegacyImagePyramid||(this.scale_factors?t.maxLevel=Math.floor(Math.pow(Math.max.apply(null,this.scale_factors),.5)):t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)))),e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!=e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=e["@context"]&&"http://iiif.io/api/image/1/context.json"!=e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!=e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=e.documentElement.namespaceURI))))},configure:function(t,n){if(e.isPlainObject(t))return t["@context"]?t:(t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json",""),t);var r=configureFromXml10(t);return r["@context"]="http://iiif.io/api/image/1.0/context.json",r["@id"]=n.replace("/info.xml",""),r},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)}return e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}var i,o,a,s,l,c,u,d,h,p,m,f=Math.pow(.5,this.maxLevel-e),g=Math.ceil(this.width*f),v=Math.ceil(this.height*f);return i=this.getTileWidth(e),o=this.getTileHeight(e),a=Math.ceil(i/f),s=Math.ceil(o/f),m=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1?"native.jpg":"default.jpg",g<i&&v<o?(p=g+",",l="full"):(c=t*a,u=n*s,d=Math.min(a,this.width-c),h=Math.min(s,this.height-u),p=Math.ceil(d*f)+",",l=[c,u,d,h].join(",")),[this["@id"],l,p,"0",m].join("/")}})}(OpenSeadragon),function(e){e.OsmTileSource=function(t,n,r,i,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},a.width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(OpenSeadragon),function(e){e.TmsTileSource=function(t,n,r,i,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,l=256*Math.ceil(a.width/256),c=256*Math.ceil(a.height/256);s=l>c?l/256:c/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=c,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var r=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(r-n)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var r=0,i={},o=0;o<e;o++)i=this.gridSize[o],r+=i.x*i.y;return i=this.gridSize[e],r+=i.x*n+t},supports:function(e,t){return e.type&&"zoomifytileservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var r=0,i=this._calculateAbsoluteTileNumber(e,t,n);return r=Math.floor(i/256),this.tilesUrl+"TileGroup"+r+"/"+e+"-"+t+"-"+n+".jpg"}})}(OpenSeadragon),function(e){function filterFiles(t){var n,r,i=[];for(r=0;r<t.length;r++)n=t[r],n.height&&n.width&&n.url?i.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return i.sort(function(e,t){return e.height-t.height})}function configureFromXML(t,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var r,i,o=n.documentElement,a=o.tagName,s=null,l=[];if("image"==a)try{for(s={type:o.getAttribute("type"),levels:[]},l=o.getElementsByTagName("level"),i=0;i<l.length;i++)r=l[i],s.levels.push({url:r.getAttribute("url"),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10)});return configureFromObject(t,s)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==a)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==a)throw new Error("Error: "+n)}throw new Error("Unknown element "+a)}function configureFromObject(e,t){return t.levels}e.LegacyTileSource=function(t){var n,r,i;e.isArray(t)&&(n={type:"legacy-image-pyramid",levels:t}),n.levels=filterFiles(n.levels),n.levels.length>0?(r=n.levels[n.levels.length-1].width,i=n.levels[n.levels.length-1].height):(r=0,i=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:r,height:i,tileSize:Math.max(i,r),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(t,n){return e.isPlainObject(t)?configureFromObject(this,t):configureFromXML(this,t)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}})}(OpenSeadragon),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var n=this._image=new Image,r=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",function(){r.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,r.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,r.aspectRatio=r.width/r.height,r.dimensions=new e.Point(r.width,r.height),r._tileWidth=r.width,r._tileHeight=r.height,r.tileOverlap=0,r.minLevel=0,r.levels=r._buildLevels(),r.maxLevel=r.levels.length-1,r.ready=!0,r.raiseEvent("ready",{tileSource:r})}),e.addEvent(n,"error",function(){r.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})}),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r},getContext2D:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].context2D),r},_buildLevels:function(){var t=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,r=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,i=document.createElement("canvas"),o=i.getContext("2d");if(i.width=n,i.height=r,o.drawImage(this._image,0,0,n,r),t[0].context2D=o,delete this._image,e.isCanvasTainted(i))return t;for(;n>=2&&r>=2;){n=Math.floor(n/2),r=Math.floor(r/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n,a.height=r,s.drawImage(i,0,0,n,r),t.splice(0,0,{context2D:s,width:n,height:r}),i=a,o=s}return t}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(t,n,r,i){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(e){function scheduleFade(t){e.requestAnimationFrame(function(){updateFade(t)})}function updateFade(t){var n,r,i;t.shouldFade&&(n=e.now(),r=n-t.fadeBeginTime,i=1-r/t.fadeLength,i=Math.min(1,i),i=Math.max(0,i),t.imgGroup&&e.setElementOpacity(t.imgGroup,i,!0),i>0&&scheduleFade(t))}function beginFading(t){t.shouldFade=!0,t.fadeBeginTime=e.now()+t.fadeDelay,window.setTimeout(function(){scheduleFade(t)},t.fadeDelay)}function stopFading(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}function inTo(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST&&(stopFading(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function outTo(t,n){t.element.disabled||(n<=e.ButtonState.HOVER&&t.currentState==e.ButtonState.DOWN&&(t.imgDown&&(t.imgDown.style.visibility="hidden"),t.currentState=e.ButtonState.HOVER),n<=e.ButtonState.GROUP&&t.currentState==e.ButtonState.HOVER&&(t.imgHover&&(t.imgHover.style.visibility="hidden"),t.currentState=e.ButtonState.GROUP),n<=e.ButtonState.REST&&t.currentState==e.ButtonState.GROUP&&(beginFading(t),t.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var n=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(inTo(n,e.ButtonState.DOWN),n.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||inTo(n,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),n.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(t){outTo(n,e.ButtonState.GROUP),t.insideElementPressed&&n.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e),n.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){inTo(n,e.ButtonState.DOWN),n.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(outTo(n,e.ButtonState.HOVER),n.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?outTo(n,e.ButtonState.GROUP):inTo(n,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&n.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(n.raiseEvent("click",{originalEvent:e.originalEvent}),n.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),outTo(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){inTo(this,e.ButtonState.GROUP)},notifyGroupExit:function(){outTo(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,r=this.buttons.concat([]),i=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.label=e.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),n=0;n<r.length;n++)this.element.appendChild(r[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(e){e.Rect=function(t,n,r,i,o){this.x="number"==typeof t?t:0,this.y="number"==typeof n?n:0,this.width="number"==typeof r?r:0,this.height="number"==typeof i?i:0,this.degrees="number"==typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360);var a,s;this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},e.Rect.fromSummits=function(t,n,r){var i=t.distanceTo(n),o=t.distanceTo(r),a=n.minus(t),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new e.Rect(t.x,t.y,i,o,s/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),r=t.getBoundingBox(),i=Math.min(n.x,r.x),o=Math.min(n.y,r.y),a=Math.max(n.x+n.width,r.x+r.width),s=Math.max(n.y+n.height,r.y+r.height);return new e.Rect(i,o,a-i,s-o)},intersection:function(t){var n=1e-10,r=[],i=this.getTopLeft();t.containsPoint(i,n)&&r.push(i);var o=this.getTopRight();t.containsPoint(o,n)&&r.push(o);var a=this.getBottomLeft();t.containsPoint(a,n)&&r.push(a);var s=this.getBottomRight();t.containsPoint(s,n)&&r.push(s);var l=t.getTopLeft();this.containsPoint(l,n)&&r.push(l);var c=t.getTopRight();this.containsPoint(c,n)&&r.push(c);var u=t.getBottomLeft();this.containsPoint(u,n)&&r.push(u);var d=t.getBottomRight();this.containsPoint(d,n)&&r.push(d);for(var h=this._getSegments(),p=t._getSegments(),m=0;m<h.length;m++)for(var f=h[m],g=0;g<p.length;g++){var v=p[g],y=function(t,r,i,o){var a=r.minus(t),s=o.minus(i),l=-s.x*a.y+a.x*s.y;if(0===l)return null;var c=(a.x*(t.y-i.y)-a.y*(t.x-i.x))/l,u=(s.x*(t.y-i.y)-s.y*(t.x-i.x))/l;return-n<=c&&c<=1-n&&-n<=u&&u<=1-n?new e.Point(t.x+u*a.x,t.y+u*a.y):null}(f[0],f[1],v[0],v[1]);y&&r.push(y)}if(0===r.length)return null;for(var _=r[0].x,b=r[0].x,w=r[0].y,x=r[0].y,S=1;S<r.length;S++){var C=r[S];C.x<_&&(_=C.x),C.x>b&&(b=C.x),C.y<w&&(w=C.y),C.y>x&&(x=C.y)}return new e.Rect(_,w,b-_,x-w)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),r=this.getBottomRight();return[[e,t],[t,r],[r,n],[n,e]]},rotate:function(t,n){if(0===(t=e.positiveModulo(t,360)))return this.clone();n=n||this.getCenter();var r=this.getTopLeft().rotate(t,n),i=this.getTopRight().rotate(t,n),o=i.minus(r);o=o.apply(function(e){return Math.abs(e)<1e-15?0:e});var a=Math.atan(o.y/o.x);return o.x<0?a+=Math.PI:o.y<0&&(a+=2*Math.PI),new e.Rect(r.x,r.y,this.width,this.height,a/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),r=this.getBottomLeft(),i=this.getBottomRight(),o=Math.min(t.x,n.x,r.x,i.x),a=Math.max(t.x,n.x,r.x,i.x),s=Math.min(t.y,n.y,r.y,i.y),l=Math.max(t.y,n.y,r.y,i.y);return new e.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),r=Math.floor(t.y),i=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-r);return new e.Rect(n,r,i,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),r=this.getTopRight(),i=this.getBottomLeft(),o=r.minus(n),a=i.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-r.x)*o.x+(e.y-r.y)*o.y<=t&&(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-i.x)*a.x+(e.y-i.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(e){function onStripDrag(t){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-t.delta.x>0?n>-(i-a.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",loadPanels(this,a.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",loadPanels(this,a.x,n+2*t.delta.x)):-t.delta.y>0?r>-(o-a.y)&&(this.element.style.marginTop=r+2*t.delta.y+"px",loadPanels(this,a.y,r+2*t.delta.y)):-t.delta.y<0&&r<0&&(this.element.style.marginTop=r+2*t.delta.y+"px",loadPanels(this,a.y,r+2*t.delta.y))),!1}function onStripScroll(t){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?t.scroll>0?n>-(i-a.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",loadPanels(this,a.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",loadPanels(this,a.x,n-60*t.scroll)):t.scroll<0?r>a.y-o&&(this.element.style.marginTop=r+60*t.scroll+"px",loadPanels(this,a.y,r+60*t.scroll)):t.scroll>0&&r<0&&(this.element.style.marginTop=r+60*t.scroll+"px",loadPanels(this,a.y,r+60*t.scroll))),!1}function loadPanels(t,n,r){var i,o,a,s,l,c,u;for(i="horizontal"==t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/i)+5,a=Math.ceil((Math.abs(r)+n)/i)+1,o=a-o,o=o<0?0:o,c=o;c<a&&c<t.panels.length;c++)if(u=t.panels[c],!u.activePanel){var d,h=t.viewer.tileSources[c];d=h.referenceStripThumbnailUrl?{type:"image",url:h.referenceStripThumbnailUrl}:h,s=new e.Viewer({id:u.id,tileSources:[d],element:u,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0}),s.displayRegion=e.makeNeutralElement("div"),s.displayRegion.id=u.id+"-displayregion",s.displayRegion.className="displayregion",l=s.displayRegion.style,l.position="relative",l.top="0px",l.left="0px",l.fontSize="0px",l.overflow="hidden",l.float="left",l.cssFloat="left",l.styleFloat="left",l.zIndex=999999999,l.cursor="default",l.width=t.panelWidth-4+"px",l.height=t.panelHeight-4+"px",s.displayRegion.innerTracker=new e.MouseTracker({element:s.displayRegion,startDisabled:!0}),u.getElementsByTagName("div")[0].appendChild(s.displayRegion),t.miniViewers[u.id]=s,u.activePanel=!0}}function onStripEnter(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function onStripExit(t){var n=t.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px",!1}function onKeyDown(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function onKeyPress(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}var t={};e.ReferenceStrip=function(n){var r,i,o,a=this,s=n.viewer,l=e.getElementSize(s.element);for(n.id||(n.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=n.id,this.element.className="referencestrip"),n=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},n,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),e.extend(this,n),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,i=this.element.style,i.marginTop="0px",i.marginRight="0px",i.marginBottom="0px",i.marginLeft="0px",i.left="0px",i.bottom="0px",i.border="0px",i.background="#000",i.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=s,this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,onStripDrag),scrollHandler:e.delegate(this,onStripScroll),enterHandler:e.delegate(this,onStripEnter),exitHandler:e.delegate(this,onStripExit),keyDownHandler:e.delegate(this,onKeyDown),keyHandler:e.delegate(this,onKeyPress)}),n.width&&n.height?(this.element.style.width=n.width+"px",this.element.style.height=n.height+"px",s.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"==n.scroll?(this.element.style.width=l.x*n.sizeRatio*s.tileSources.length+12*s.tileSources.length+"px",this.element.style.height=l.y*n.sizeRatio+"px",s.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=l.y*n.sizeRatio*s.tileSources.length+12*s.tileSources.length+"px",this.element.style.width=l.x*n.sizeRatio+"px",s.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=l.x*this.sizeRatio+8,this.panelHeight=l.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},o=0;o<s.tileSources.length;o++)r=e.makeNeutralElement("div"),r.id=this.element.id+"-"+o,r.style.width=a.panelWidth+"px",r.style.height=a.panelHeight+"px",r.style.display="inline",r.style.float="left",r.style.cssFloat="left",r.style.styleFloat="left",r.style.padding="2px",e.setElementTouchActionNone(r),r.innerTracker=new e.MouseTracker({element:r,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var n=t.eventSource,r=n.element.id,i=Number(r.split("-")[2]),o=e.now();t.insideElementPressed&&t.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,s.goToPage(i))}}),this.element.appendChild(r),r.activePanel=!1,this.panels.push(r);loadPanels(this,"vertical"==this.scroll?l.y:l.x,0),this.setFocus(0)},e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var n,r=e.getElement(this.element.id+"-"+t),i=e.getElementSize(this.viewer.canvas),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=-Number(this.element.style.marginLeft.replace("px","")),l=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==r&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=r,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(t)*(this.panelWidth+3),n>s+i.x-this.panelWidth?(n=Math.min(n,o-i.x),this.element.style.marginLeft=-n+"px",loadPanels(this,i.x,-n)):n<s&&(n=Math.max(0,n-i.x/2),this.element.style.marginLeft=-n+"px",loadPanels(this,i.x,-n))):(n=Number(t)*(this.panelHeight+3),n>l+i.y-this.panelHeight?(n=Math.min(n,a-i.y),this.element.style.marginTop=-n+"px",loadPanels(this,i.y,-n)):n<l&&(n=Math.max(0,n-i.y/2),this.element.style.marginTop=-n+"px",loadPanels(this,i.y,-n))),this.currentPage=t,onStripEnter.call(this,{eventSource:this.innerTracker}))},update:function(){return!!t[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(e){e.DisplayRect=function(t,n,r,i,o,a){e.Rect.apply(this,[t,n,r,i]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon),function(e){function transform(e,t){return(1-Math.exp(e*-t))/(1-Math.exp(-e))}e.Spring=function(t){var n=arguments;"object"!=typeof t&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=e.now();var t,n;this._exponential?(t=this.start._logValue,n=this.target._logValue):(t=this.start.value,n=this.target.value);var r=this.current.time>=this.target.time?n:t+(n-t)*transform(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),i=this.current.value;return this._exponential?this.current.value=Math.exp(r):this.current.value=r,i!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(e){function ImageJob(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}function completeJob(e,t,n){var r;e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(r=e.jobQueue.shift(),r.start(),e.jobsInProgress++),n(t.image,t.errorMsg,t.request)}ImageJob.prototype={errorMsg:null,start:function(){var t=this,n=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout(function(){t.errorMsg="Image load exceeded timeout",t.finish(!1)},this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var n;try{n=new window.Blob([e.response])}catch(t){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&r){var i=new r;i.append(e.response),n=i.getBlob()}}0===n.size&&(t.errorMsg="Empty image response.",t.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);t.image.src=o},error:function(e){t.errorMsg="Image load aborted - XHR error",t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"==typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var t=this,n=function(n){completeJob(t,n,e.callback)},r={src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:n,abort:e.abort,timeout:this.timeout},i=new ImageJob(r);!this.jobLimit||this.jobsInProgress<this.jobLimit?(i.start(),this.jobsInProgress++):this.jobQueue.push(i)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(e){e.Tile=function(e,t,n,r,i,o,a,s,l){this.level=e,this.x=t,this.y=n,this.bounds=r,this.exists=i,this.url=o,this.context2D=a,this.loadWithAjax=s,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){return this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",void e.setElementOpacity(this.element,this.opacity)):void e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):void e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,n,r,i){var o,a=this.position.times(e.pixelDensityRatio),s=this.size.times(e.pixelDensityRatio);return this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(t.save(),t.globalAlpha=this.opacity,"number"==typeof r&&1!==r&&(a=a.times(r),s=s.times(r)),i instanceof e.Point&&(a=a.plus(i)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(a.x+1,a.y+1,s.x-2,s.y-2),n({context:t,tile:this,rendered:o}),t.drawImage(o.canvas,0,0,o.canvas.width,o.canvas.height,a.x,a.y,s.x,s.y),void t.restore()):void e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):void e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,r){var i=Math.max(1,Math.ceil((r.x-n.x)/2)),o=Math.max(1,Math.ceil((r.y-n.y)/2));return new e.Point(i,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,r){var i;i=e.isPlainObject(t)?t:{element:t,location:n,placement:r},this.element=i.element,this.style=i.element.style,this._init(i)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var r=e.Placement.properties[this.placement];r&&(r.isHorizontallyCentered?t.x-=n.x/2:r.isRight&&(t.x-=n.x),r.isVerticallyCentered?t.y-=n.y/2:r.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var r=e.getCssPropertyWithVendorPrefix("transformOrigin"),i=e.getCssPropertyWithVendorPrefix("transform");r&&i&&(n[r]="",n[i]="")},drawHTML:function(t,n){var r=this.element;r.parentNode!==t&&(r.prevElementParent=r.parentNode,r.prevNextSibling=r.nextSibling,t.appendChild(r),this.style.position="absolute",this.size=e.getElementSize(r));var i=this._getOverlayPositionAndSize(n),o=i.position,a=this.size=i.size,s=i.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=a.x+"px"),null!==this.height&&(l.height=a.y+"px");var c=e.getCssPropertyWithVendorPrefix("transformOrigin"),u=e.getCssPropertyWithVendorPrefix("transform");c&&u&&(s?(l[c]=this._getTransformOrigin(),l[u]="rotate("+s+"deg)"):(l[c]="",l[u]="")),"none"!==l.display&&(l.display="block")}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),r=this._getSizeInPixels(t);this.adjust(n,r);var i=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,r.x,r.y),a=this._getBoundingBox(o,t.degrees);n=a.getTopLeft(),r=a.getSize()}else i=t.degrees;return{position:n,size:r,rotate:i}},_getSizeInPixels:function(t){var n=this.size.x,r=this.size.y;if(null!==this.width||null!==this.height){var i=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=i.x),null!==this.height&&(r=i.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(r=o.y)}return new e.Point(n,r)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),r=e.Placement.properties[this.placement];return r&&(r.isHorizontallyCentered?n.x+=t.width/2:r.isRight&&(n.x+=t.width),r.isVerticallyCentered?n.y+=t.height/2:r.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n?(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom"),t):t},update:function(t,n){var r=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:r.location||this.location,placement:void 0!==r.placement?r.placement:this.placement,onDraw:r.onDraw||this.onDraw,checkResize:r.checkResize||this.checkResize,width:void 0!==r.width?r.width:this.width,height:void 0!==r.height?r.height:this.height,rotationMode:r.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,r=this.height;if(null===n||null===r){var i=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=i.x),null===r&&(r=i.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,r)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,r))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var r=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(r.position.x,r.position.y,r.size.x,r.size.y))}return n.rotate(-t.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var n=arguments;if(e.isPlainObject(t)||(t={source:n[0],viewport:n[1],element:n[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var r=this._calculateCanvasSize();this.canvas.width=r.x,this.canvas.height=r.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},e.Drawer.prototype={addOverlay:function(t,n,r,i){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,n,r,i),this},updateOverlay:function(t,n,r){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,n,r),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,r=0;r<n.getItemCount();r++)n.getItemAt(r).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,n=0,r=0;r<t.getItemCount();r++){var i=t.getItemAt(r).getOpacity();i>n&&(n=i)}return n},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y}this._clear()}},_clear:function(e,t){if(this.useCanvas){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var r=n.canvas;n.clearRect(0,0,r.width,r.height)}}},viewportToDrawerRectangle:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),r=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)},drawTile:function(t,n,r,i,o){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var a=this._getContext(r);i=i||1,t.drawCanvas(a,n,i,o)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var r=this;this.viewer.addHandler("rotate",function resizeSketchCanvas(){if(0!==r.viewport.getRotation()){r.viewer.removeHandler("rotate",resizeSketchCanvas);var e=r._calculateSketchCanvasSize();r.sketchCanvas.width=e.x,r.sketchCanvas.height=e.y}})}}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},drawRectangle:function(e,t,n){if(this.useCanvas){var r=this._getContext(n);r.save(),r.fillStyle=t,r.fillRect(e.x,e.y,e.width,e.height),r.restore()}},blendSketch:function(t,n,r,i){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:n,translate:r,compositeOperation:i}),this.useCanvas&&this.sketchCanvas){t=o.opacity,i=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,i&&(this.context.globalCompositeOperation=i),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1,r=o.translate;var s=r instanceof e.Point?r:new e.Point(0,0),l=0,c=0;if(r){var u=this.sketchCanvas.width-this.canvas.width,d=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(d/2)}this.context.drawImage(this.sketchCanvas,s.x-l*n,s.y-c*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*c)*n,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(t,n,r,i){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),i.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:i.getRotation(!0),point:i.viewport.pixelFromPointNoRotate(i._getRotationPoint(!0),!0)}),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,l),a.rotate(Math.PI/180*-this.viewport.degrees),a.translate(-s,-l),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+r+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),i.getRotation(!0)%360!=0&&this._restoreRotationChanges(),a.restore()}},debugRect:function(t){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},getCanvasSize:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),r=this._getContext(t.useSketch);r.save(),r.translate(n.x,n.y),r.rotate(Math.PI/180*t.degrees),r.translate(-n.x,-n.y)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:n.x*t,y:n.y*t}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),r=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-r/2,n,r)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var n=this.getCenter(t),r=1/this.getZoom(t),i=r/this.getAspectRatio();return new e.Rect(n.x-r/2,n.y-i/2,r,i)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,r,i,o,a,s,l,c,u=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),d=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?u:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),r=this.getZoom(),i=1/r,o=i/this.getAspectRatio(),a=new e.Rect(u.x-i/2,u.y-o/2,i,o),s=this._pixelFromPoint(this.zoomPoint,a),l=s.minus(n),c=l.divide(this._containerInnerSize.x*r),d.plus(c)):d},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var n=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var r=this.visibilityRatio*n.width,i=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,a=this._contentBoundsNoRotate.x-i+r,s=o-n.x-r;r>this._contentBoundsNoRotate.width?n.x+=(a+s)/2:s<0?n.x+=s:a>0&&(n.x+=a)}if(this.wrapVertical);else{var l=this.visibilityRatio*n.height,c=n.y+n.height,u=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,d=this._contentBoundsNoRotate.y-c+l,h=u-n.y-l;l>this._contentBoundsNoRotate.height?n.y+=(d+h)/2:h<0?n.y+=h:d>0&&(n.y+=d)}return n},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var r=this.getBoundsNoRotate(),i=this._applyBoundaryConstraints(r);return this._raiseConstraintsEvent(e),(r.x!==i.x||r.y!==i.y||e)&&this.fitBounds(i.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){n=n||{};var r=n.immediately||!1,i=n.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),s=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(i){var c=s.getAspectRatio(),u=this._applyZoomConstraints(l);l!==u&&(l=u,s.width=1/l,s.x=a.x-s.width/2,s.height=s.width/c,s.y=a.y-s.height/2),s=this._applyBoundaryConstraints(s),a=s.getCenter(),this._raiseConstraintsEvent(r)}if(r)return this.panTo(a,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var d=this.getBounds(),h=this.getZoom();if(0===h||Math.abs(l/h-1)<1e-8)return this.zoomTo(l,!0),this.panTo(a,r);s=s.rotate(-this.getRotation());var p=s.getTopLeft().times(l).minus(d.getTopLeft().times(h)).divide(l-h);return this.zoomTo(l,p,r)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,n){var r=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(r.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,r){var i=this;return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,r?this._adjustCenterSpringsForZoomPoint(function(){i.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:r}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var n,r=this.getBoundsNoRotate(),i=r;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,i.width=r.width*n,i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(i,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0),r=n.minus(t),i=this.deltaPointsFromPixels(r,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var r=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/r.width).plus(r.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/r,n*this._contentSizeNoRotate.x/r)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===r){var i=this.viewer.world.getItemAt(0);return i.viewportToImageCoordinates(t,n,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*r,n/this._contentSizeNoRotate.x*r)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===r){var i=this.viewer.world.getItemAt(0);return i.imageToViewportCoordinates(t,n,!0)}}var o=this._imageToViewportDelta(t,n);return o.x+=this._contentBoundsNoRotate.x,o.y+=this._contentBoundsNoRotate.y,o},imageToViewportRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a){var s=this.viewer.world.getItemAt(0);return s.imageToViewportRectangle(t,n,r,i,!0)}}var l=this.imageToViewportCoordinates(o.x,o.y),c=this._imageToViewportDelta(o.width,o.height);return new e.Rect(l.x,l.y,c.x,c.y,o.degrees)},viewportToImageRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a){var s=this.viewer.world.getItemAt(0);return s.viewportToImageRectangle(t,n,r,i,!0)}}var l=this.viewportToImageCoordinates(o.x,o.y),c=this._viewportToImageDelta(o.width,o.height);return new e.Rect(l.x,l.y,c.x,c.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n){var r=this.viewer.world.getItemAt(0);return r.viewportToImageZoom(t)}}var i=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/i*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n){var r=this.viewer.world.getItemAt(0);return r.imageToViewportZoom(t)}}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)}}}(OpenSeadragon),function(e){function updateLevel(e,t,n,r,i,o,a,s,l){var c=a.getBoundingBox().getTopLeft(),u=a.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:r,opacity:i,visibility:o,drawArea:a,topleft:c,bottomright:u,currenttime:s,best:l}),resetCoverage(e.coverage,r),resetCoverage(e.loadingCoverage,r);for(var d=e._getCornerTiles(r,c,u),h=d.topLeft,p=d.bottomRight,m=e.source.getNumTiles(r),f=e.viewport.pixelFromPoint(e.viewport.getCenter()),g=h.x;g<=p.x;g++)for(var v=h.y;v<=p.y;v++){if(!e.wrapHorizontal&&!e.wrapVertical){var y=e.source.getTileBounds(r,g,v);if(null===a.intersection(y))continue}l=updateTile(e,n,t,g,v,r,i,o,f,m,s,l)}return l}function updateTile(e,t,n,r,i,o,a,s,l,c,u,d){var h=getTile(r,i,o,e,e.source,e.tilesMatrix,u,c,e._worldWidthCurrent,e._worldHeightCurrent),p=n;e.viewer&&e.viewer.raiseEvent("update-tile",{tiledImage:e,tile:h}),setCoverage(e.coverage,o,r,i,!1);var m=h.loaded||h.loading||isCovered(e.loadingCoverage,o,r,i);if(setCoverage(e.loadingCoverage,o,r,i,m),!h.exists)return d;if(t&&!p&&(isCovered(e.coverage,o,r,i)?setCoverage(e.coverage,o,r,i,!0):p=!0),!p)return d;if(positionTile(h,e.source.tileOverlap,e.viewport,l,s,e),!h.loaded)if(h.context2D)setTileLoaded(e,h);else{var f=e._tileCache.getImageRecord(h.cacheKey);if(f){var g=f.getImage();setTileLoaded(e,h,g)}}if(h.loaded){blendTile(e,h,r,i,o,a,u)&&(e._needsDraw=!0)}else h.loading?e._tilesLoading++:m||(d=compareTiles(d,h));return d}function getTile(t,n,r,i,o,a,s,l,c,u){var d,h,p,m,f,g,v,y;return a[r]||(a[r]={}),a[r][t]||(a[r][t]={}),a[r][t][n]||(d=(l.x+t%l.x)%l.x,h=(l.y+n%l.y)%l.y,p=o.getTileBounds(r,d,h),m=o.tileExists(r,d,h),f=o.getTileUrl(r,d,h),i.loadTilesWithAjax?(g=o.getTileAjaxHeaders(r,d,h),e.isPlainObject(i.ajaxHeaders)&&(g=e.extend({},i.ajaxHeaders,g))):g=null,v=o.getContext2D?o.getContext2D(r,d,h):void 0,p.x+=(t-d)/l.x,p.y+=u/c*((n-h)/l.y),y=new e.Tile(r,t,n,p,m,f,v,i.loadTilesWithAjax,g),d===l.x-1&&(y.isRightMost=!0),h===l.y-1&&(y.isBottomMost=!0),a[r][t][n]=y),y=a[r][t][n],y.lastTouchTime=s,y}function loadTile(e,t,n){t.loading=!0,e._imageLoader.addJob({src:t.url,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.ajaxHeaders,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(r,i,o){onTileLoad(e,t,n,r,i,o)},abort:function(){t.loading=!1}})}function onTileLoad(t,n,r,i,o,a){if(!i)return e.console.log("Tile %s failed to load: %s - error: %s",n,n.url,o),t.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:t,time:r,message:o,tileRequest:a}),n.loading=!1,void(n.exists=!1);if(r<t.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var s=function(){var e=t.source.getClosestLevel();setTileLoaded(t,n,i,e,a)};t._midDraw?window.setTimeout(s,1):s()}function setTileLoaded(e,t,n,r,i){function getCompletionCallback(){return o++,completionCallback}function completionCallback(){0===--o&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:n,tile:t,cutoff:r,tiledImage:e}),e._needsDraw=!0)}var o=0;e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:i,image:n,getCompletionCallback:getCompletionCallback}),getCompletionCallback()()}function positionTile(t,n,r,i,o,a){var s=t.bounds.getTopLeft();s.x*=a._scaleSpring.current.value,s.y*=a._scaleSpring.current.value,s.x+=a._xSpring.current.value,s.y+=a._ySpring.current.value;var l=t.bounds.getSize();l.x*=a._scaleSpring.current.value,l.y*=a._scaleSpring.current.value;var c=r.pixelFromPointNoRotate(s,!0),u=r.pixelFromPointNoRotate(s,!1),d=r.deltaPixelsFromPointsNoRotate(l,!0),h=r.deltaPixelsFromPointsNoRotate(l,!1),p=u.plus(h.divide(2)),m=i.squaredDistanceTo(p);n||(d=d.plus(new e.Point(1,1))),t.isRightMost&&a.wrapHorizontal&&(d.x+=.75),t.isBottomMost&&a.wrapVertical&&(d.y+=.75),t.position=c,t.size=d,t.squaredDistance=m,t.visibility=o}function blendTile(e,t,n,r,i,o,a){var s,l,c=1e3*e.blendTime;if(t.blendStart||(t.blendStart=a),s=a-t.blendStart,l=c?Math.min(1,s/c):1,e.alwaysBlend&&(l*=o),t.opacity=l,e.lastDrawn.push(t),1==l)setCoverage(e.coverage,i,n,r,!0),e._hasOpaqueTile=!0;else if(s<c)return!0;return!1}function providesCoverage(e,t,n,r){var i,o,a,s;if(!e[t])return!1;if(void 0===n||void 0===r){i=e[t];for(a in i)if(i.hasOwnProperty(a)){o=i[a];for(s in o)if(o.hasOwnProperty(s)&&!o[s])return!1}return!0}return void 0===e[t][n]||void 0===e[t][n][r]||!0===e[t][n][r]}function isCovered(e,t,n,r){return void 0===n||void 0===r?providesCoverage(e,t+1):providesCoverage(e,t+1,2*n,2*r)&&providesCoverage(e,t+1,2*n,2*r+1)&&providesCoverage(e,t+1,2*n+1,2*r)&&providesCoverage(e,t+1,2*n+1,2*r+1)}function setCoverage(t,n,r,i,o){if(!t[n])return void e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n);t[n][r]||(t[n][r]={}),t[n][r][i]=o}function resetCoverage(e,t){e[t]={}}function compareTiles(e,t){return e?t.visibility>e.visibility?t:t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance?t:e:t}function drawTiles(t,n){if(0!==t.opacity&&(0!==n.length||t.placeholderFillStyle)){var r,i=n[0];i&&(r=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&i._hasTransparencyChannel());var o,a,s=t.viewport.getZoom(!0),l=t.viewportToImageZoom(s);n.length>1&&l>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&e.supportsCanvas&&(r=!0,o=i.getScaleForEdgeSmoothing(),a=i.getTranslationForEdgeSmoothing(o,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0)));var c;r&&(o||(c=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(e.pixelDensityRatio)),t._drawer._clear(!0,c)),o||(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:r}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:r}));var u=!1;if(t._clip){t._drawer.saveContext(r);var d=t.imageToViewportRectangle(t._clip,!0);d=d.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var h=t._drawer.viewportToDrawerRectangle(d);o&&(h=h.times(o)),a&&(h=h.translate(a)),t._drawer.setClip(h,r),u=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var p=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));o&&(p=p.times(o)),a&&(p=p.translate(a));var m=null;m="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(p,m,r)}for(var f=n.length-1;f>=0;f--)i=n[f],t._drawer.drawTile(i,t._drawingHandler,r,o,a),i.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:i});u&&t._drawer.restoreContext(r),o||(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(r),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(r)),r&&(o&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:o,translate:a,compositeOperation:t.compositeOperation,bounds:c}),o&&(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1))),drawDebugInfo(t,n)}}function drawDebugInfo(t,n){if(t.debugMode)for(var r=n.length-1;r>=0;r--){var i=n[r];try{t._drawer.drawDebugInfo(i,n.length,r,t)}catch(t){e.console.error(t)}}}e.TiledImage=function(t){var n=this;e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var r=t.x||0;delete t.x;var i=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var o=1;t.width?(o=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(o=t.height/this.normHeight,delete t.height);var a=t.fitBounds;delete t.fitBounds;var s=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var l=t.degrees||0;delete t.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),a&&this.fitBounds(a,s,!0),this._drawingHandler=function(t){n.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:n},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),n=this._scaleSpring.update(),r=this._degreesSpring.update();return!!(e||t||n||r)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){(0!==this.opacity||this._preload)&&(this._midDraw=!0,this._updateViewport(),this._midDraw=!1)},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBoundsNoRotate(t);if(this._clip){var r=t?this._worldWidthCurrent:this._worldWidthTarget,i=r/this.source.dimensions.x,o=this._clip.times(i);n=new e.Rect(n.x+o.x,n.y+o.y,o.width,o.height)}return n.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/i),n*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(t,n,r){var i;return t instanceof e.Point?(r=n,i=t):i=new e.Point(t,n),i=i.rotate(-this.getRotation(r),this._getRotationPoint(r)),r?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*i,n/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(t,n,r){t instanceof e.Point&&(r=n,n=t.y,t=t.x);var i=this._imageToViewportDelta(t,n);return r?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(r),this._getRotationPoint(r))},imageToViewportRectangle:function(t,n,r,i,o){var a=t;a instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,n,r,i,o){var a=t;t instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var n=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/n,(t.y-this._ySpring.current.value)/n,t.width/n,t.height/n,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(t,n,r){n=n||e.Placement.CENTER;var i=e.Placement.properties[n],o=this.contentAspectX,a=0,s=0,l=1,c=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,s=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,s=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var u=t.height/c,d=0;i.isHorizontallyCentered?d=(t.width-t.height*o)/2:i.isRight&&(d=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+d,t.y-s),r),this.setHeight(u,r)}else{var h=t.width/l,p=0;i.isVerticallyCentered?p=(t.height-t.width/o)/2:i.isBottom&&(p=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-s+p),r),this.setWidth(h,r)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return e=Math.min(e,n),{lowestLevel:e,highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var t=this.viewport,n=this._viewportToTiledImageRectangle(t.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var r=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(n=n.intersection(r)))return}for(var i=this._getLevelsInterval(),o=i.lowestLevel,a=i.highestLevel,s=null,l=!1,c=e.now(),u=a;u>=o;u--){var d=!1,h=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(u),!0).x*this._scaleSpring.current.value;if(u===o||!l&&h>=this.minPixelRatio)d=!0,l=!0;else if(!l)continue;var p=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(u),!1).x*this._scaleSpring.current.value,m=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,f=this.immediateRender?1:m;if(s=updateLevel(this,l,d,u,Math.min(1,(h-.5)/.5),f/Math.abs(f-p),n,c,s),providesCoverage(this.coverage,u))break}drawTiles(this,this.lastDrawn),s&&!s.context2D?(loadTile(this,s,c),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,n,r){var i,o;this.wrapHorizontal?(i=e.positiveModulo(n.x,1),o=e.positiveModulo(r.x,1)):(i=Math.max(0,n.x),o=Math.min(1,r.x));var a,s,l=1/this.source.aspectRatio;this.wrapVertical?(a=e.positiveModulo(n.y,l),s=e.positiveModulo(r.y,l)):(a=Math.max(0,n.y),s=Math.min(l,r.y));var c=this.source.getTileAtPoint(t,new e.Point(i,a)),u=this.source.getTileAtPoint(t,new e.Point(o,s)),d=this.source.getNumTiles(t);return this.wrapHorizontal&&(c.x+=d.x*Math.floor(n.x),u.x+=d.x*Math.floor(r.x)),this.wrapVertical&&(c.y+=d.y*Math.floor(n.y/l),u.y+=d.y*Math.floor(r.y/l)),{topLeft:c,bottomRight:u}}})}(OpenSeadragon),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},n=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(r){e.console.assert(r,"[TileCache.cacheTile] options is required"),e.console.assert(r.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(r.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(r.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=r.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[r.tile.cacheKey];if(a||(e.console.assert(r.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),a=this._imagesLoaded[r.tile.cacheKey]=new n({image:r.image}),this._imagesLoadedCount++),a.addTile(r.tile),r.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,l,c,u,d,h,p=null,m=-1,f=null,g=this._tilesLoaded.length-1;g>=0;g--)h=this._tilesLoaded[g],s=h.tile,s.level<=i||s.beingDrawn||(p?(u=s.lastTouchTime,l=p.lastTouchTime,d=s.level,c=p.level,(u<l||u==l&&d>c)&&(p=s,m=g,f=h)):(p=s,m=g,f=h));p&&m>=0&&(this._unloadTile(f),o=m)}this._tilesLoaded[o]=new t({tile:r.tile,tiledImage:r.tiledImage})},clearTilesFor:function(t){e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var n,r=0;r<this._tilesLoaded.length;++r)n=this._tilesLoaded[r],n.tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(r,1),r--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,r=t.tiledImage;n.unload(),n.cacheImageRecord=null;var i=this._imagesLoaded[n.cacheKey];i.removeTile(n),i.getTileCount()||(i.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),r.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:r})}}}(OpenSeadragon),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),n=n||{},void 0!==n.index){var r=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(r,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var r=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==r&&-1!==r&&(this._items.splice(r,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:r,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);-1!==n&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){this.viewer._cancelPendingImages();var e,t;for(t=0;t<this._items.length;t++)e=this._items[t],e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){t=t||{};var n,r=t.immediately||!1,i=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin,c=s+l;n=!t.rows&&a?a:Math.ceil(this._items.length/o);var u,d,h,p,m,f=0,g=0;this.setAutoRefigureSizes(!1);for(var v=0;v<this._items.length;v++)v&&v%n==0&&("horizontal"===i?(g+=c,f=0):(f+=c,g=0)),u=this._items[v],d=u.getBounds(),h=d.width>d.height?s:s*(d.width/d.height),p=h*(d.height/d.width),m=new e.Point(f+(s-h)/2,g+(s-p)/2),u.setPosition(m,r),u.setWidth(h,r),"horizontal"===i?f+=c:g+=c;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,r=this._contentFactor||0;if(this._items.length){var i=this._items[0],o=i.getBounds();this._contentFactor=i.getContentSize().x/o.width;for(var a=i.getClippedBounds().getBoundingBox(),s=a.x,l=a.y,c=a.x+a.width,u=a.y+a.height,d=1;d<this._items.length;d++)i=this._items[d],o=i.getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/o.width),a=i.getClippedBounds().getBoundingBox(),s=Math.min(s,a.x),l=Math.min(l,a.y),c=Math.max(c,a.x+a.width),u=Math.max(u,a.y+a.height);this._homeBounds=new e.Rect(s,l,c-s,u-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===r&&this._homeBounds.equals(t)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.smartFloat",[]).directive("aceSmartFloat",["$filter","$timeout",function(e,t){var n=/^\$?\d+.(\d{3})*(,\d*)$/,r=/^\$?\d+,(\d{3})*(\.\d*)$/,i=/^\$?\d+(\.\d*)?$/,o=/^\$?\d+(,\d*)?$/;return{require:"ngModel",link:function(a,s,l,c){var u=void 0;a.$watch(function(){return c.$viewValue},function(e){t.cancel(u),u=t(function(){c.$modelValue=e},1e3)}),c.$parsers.unshift(function(e){return n.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(".","").replace(",","."))):r.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(",",""))):i.test(e)?(c.$setValidity("float",!0),parseFloat(e)):o.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(",","."))):void c.$setValidity("float",!1)}),c.$formatters.unshift(function(t){return e("number")(parseFloat(t),2)})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.srcChange",[]).directive("aceSrcChange",["$timeout",function(e){return{priority:0,restrict:"A",link:function(t,n,r){var i=void 0,o=void 0,a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=";r.$observe("src",function(t){e.cancel(o),o=e(function(){t!==i&&t!==a&&(r.$set("src",a),e(function(){r.$set("src",t)}))},50),i=t})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.stopPropagation",[]).directive("aceStopPropagation",[function(){return{priority:0,restrict:"A",link:function(e,t){t.on("keydown keyup keypress",function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation())})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.syncFocus",[]).directive("aceSyncFocus",["$timeout",function(e){return{restrict:"A",scope:{focusValue:"=aceSyncFocus"},link:function(t,n){t.$watch("focusValue",function(t){e(function(){!0===t?n[0].focus():!1===t&&n[0].blur()})})}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.videoPreview",[]).directive("aceVideoPreview",["$rootScope","$http","$timeout","appConfig",function(e,t,n,r){return{restrict:"EA",replace:!0,template:'<div class="ace-video-preview"><div class="ace-video-preview--message" ng-show="encoding">Encoding in progress</div><img class="ace-video-preview--thumbnail" ng-show="!encoding" ng-src={{thumbnail}}></div>',scope:{video:"="},link:function(i){i.$watch("video",function(e){e&&e.metadata&&("Complete"!==e.metadata.job.status?a(e.metadata.job.id):o(e))});var o=function(t){i.encoding=!1,i.thumbnail="https://"+t.bucket+".s3.amazonaws.com/"+e.assetSlug+"/"+t.mediaType+"/"+t.thumbnail},a=function checkJob(e){i.encoding=!0,t({url:r.apiUrl+"/transcode/job/"+e,method:"GET"}).success(function(t){"Complete"!==t.Status?n(function(){checkJob(e)},5e3):(i.video.metadata.job.status=t.Status,i.video.variants=i.video.variants.map(function(e,n){return e.duration=t.Outputs[n].Duration,e.width=t.Outputs[n].Width,e.height=t.Outputs[n].Height,e}),o(i.video))})}}}}])},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r);n(379),n(380);var o=n(67),a=_interopRequireDefault(o),s=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},l=function(e,t,n){for(var r=0;r<e.length;r++)t.call(n,r,e[r])},c=function recursiveListFormat(e,t){var n="";return t++,n+=s("\t",t-1)+e.outerHTML.substring(0,4),l(e.childNodes,function(e,r){var i=r.nodeName.toLowerCase();return"#comment"===i?void(n+="\x3c!--"+r.nodeValue+"--\x3e"):"#text"===i?void(n+=r.textContent):void(r.outerHTML&&(n+="ul"===i||"ol"===i?"\n"+recursiveListFormat(r,t):"\n"+s("\t",t)+r.outerHTML))}),n+="\n"+s("\t",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))},u=function(e){e=e.replace(/(?:\r\n|\r|\n|\t)/g,"");var t=i.default.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",l(t,function(t,n){var r=n.nodeName.toLowerCase();return"#comment"===r?void(e+="\x3c!--"+n.nodeValue+"--\x3e"):"#text"===r?void(e+=n.textContent):void(n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===r||"ol"===r?""+c(n,0):""+n.outerHTML))})),e};t.default=i.default.module("ace.richText",[]).filter("prettyHtml",function(){return function(e){return u(e)}}).directive("aceRichText",function(){return{restrict:"EA",require:["aceRichText","ngModel"],scope:{options:"=?",showHtml:"=?"},bindToController:!0,controllerAs:"vm",link:function(e,t,n,r){r[0].ngModel=r[1]},controller:["$scope","$element","$document","$timeout",function(e,t,n,r){"ngInject";function toggleHtml(e){s&&(e&&(i.default.forEach(s.elements,function(e){return i.default.element(e).css("display","none")}),i.default.forEach(s.origElements,function(e){return i.default.element(e).css("display","block")}),t.val(u(o.ngModel.$viewValue))),e||(i.default.forEach(s.origElements,function(e){return i.default.element(e).css("display","none")}),i.default.forEach(s.elements,function(e){return i.default.element(e).css("display","block")}),s.setContent(u(t.val()))))}function init(){s=new a.default(t,o.options||{}),o.ngModel.$render=function(){t.html(o.ngModel.$viewValue||""),s.setContent(o.ngModel.$viewValue||"");var e=s.getExtensionByName("placeholder");e&&e.updatePlaceholder(t[0])};var r=function(e){var t=n[0].createElement("div");return t.innerHTML=e,(t.textContent||"").trim()};o.ngModel.$isEmpty=function(e){return/[<>]/.test(e)?0===r(e).length:!e||0===e.length},s.subscribe("editableInput",function(e,t){o.ngModel.$setViewValue(u(t.innerHTML.trim()))}),toggleHtml(!1),e.$emit("aceRichText:init",s)}var o=this,s=void 0;e.$watch(function(){return o.showHtml},toggleHtml),e.$watch(function(){return o.ngModel},init),o.$onDestroy=function(){s&&s.destroy()}}]}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default.module("ace.sortable",[]).directive("aceSortable",function(){return{restrict:"A",controller:["$document","$scope","$element","$timeout","$attrs","$parse",function(e,t,n,r,o,a){var s=this;s.collection=a(o.collection)(t),s.item=a(o.item)(t),s.index=a(o.index)(t),s.axis=a(o.axis)(t),s.draggableSelector=a(o.draggableSelector)(t),s.handleSelector=a(o.handleSelector)(t);var l=void 0,c=void 0,u=!1,d=!1,h=void 0,p=void 0,m=function(e,t){this.splice(t,0,this.splice(e,1)[0])},f=function(){return i.default.isFunction(s.collection)?s.collection(t):s.collection},g=function(){return s.item?f().indexOf(s.item):i.default.isFunction(s.index)?s.index(t):a(o.index)(t)};l=s.draggableSelector?i.default.element(n[0].closest(s.draggableSelector)):n,l.attr("draggable",!0),l.on("mousedown",function(e){c=s.handleSelector?i.default.element(n[0].querySelectorAll(s.handleSelector)):n,d=!0,i.default.forEach(c,function(t){e.target===t&&(d=!1)})}),e.on("mouseup",function(){d=!1}),l.on("dragstart",function(e){if(d)e.preventDefault();else{u=!0,l.addClass("dragging");var t=e.dataTransfer||e.originalEvent.dataTransfer,n=g();t.effectAllowed="copyMove",t.dropEffect="move",t.setData("text/plain",n)}}),l.on("dragend",function(){u=!1,l.removeClass("dragging")});var v=function(e){if(!u){e.preventDefault();var t=l[0].getBoundingClientRect(),n={width:t.right-t.left,height:t.bottom-t.top,x:(e.originalEvent||e).clientX-t.left,y:(e.originalEvent||e).clientY-t.top},r="y"===s.axis?n.y:n.x,i=("y"===s.axis?n.height:n.width)/2;l.addClass("dropping"),r<i?(h="before",l.removeClass("dropping--after"),l.addClass("dropping--before")):(h="after",l.removeClass("dropping--before"),l.addClass("dropping--after"))}},y=function dropHandler(e){e.preventDefault();var n=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text/plain"),10),i=g(),o=null;"before"===h?o=n<i?i-1:i:"after"===h&&(o=n<i?i:i+1),r.cancel(p),p=r(function(){h=null,t.$parent.$apply(function(){var e=f();t.$emit("aceSortable:change",{collection:e,item:e[n],from:n,to:o}).defaultPrevented||m.apply(e,[n,o])}),l.removeClass("dropping"),l.removeClass("dropping--before"),l.removeClass("dropping--after"),l.off("drop",dropHandler)},1e3/60)};l.on("dragenter",function(){u||(l.off("dragover",v),l.off("drop",y),l.on("dragover",v),l.on("drop",y))}),l.on("dragleave",function(e){l.removeClass("dropping"),l.removeClass("dropping--before"),l.removeClass("dropping--after")})}]}})},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(383),a=_interopRequireDefault(o);n(385),t.default=i.default.module("ace.c3",[]).component("aceC3",{bindings:{options:"<"},controller:["$scope","$element","$window","$timeout",function(e,t,n,r){function resize(){!o.options||o.options.width||o.options.height||s.resize({width:t[0].clientWidth,height:t[0].clientHeight})}function resizeHandler(){r.cancel(l),l=r(resize,50)}var o=this,s=void 0,l=void 0;o.$onChanges=function(){o.options&&(o.options.bindto=t[0],s=a.default.generate(o.options),r(resize))},i.default.element(n).on("resize",resizeHandler),o.$onDestroy=function(){i.default.element(n).off("resize",resizeHandler)}}]})},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function AxisInternal(e,t){var n=this;n.component=e,n.params=t||{},n.d3=e.d3,n.scale=n.d3.scale.linear(),n.range,n.orient="bottom",n.innerTickSize=6,n.outerTickSize=this.params.withOuterTick?6:0,n.tickPadding=3,n.tickValues=null,n.tickFormat,n.tickArguments,n.tickOffset=0,n.tickCulling=!0,n.tickCentered,n.tickTextCharSize,n.tickTextRotate=n.params.tickTextRotate,n.tickLength,n.axis=n.generateAxis()}function Component(e,t,n){this.owner=e,T.chart.internal[t]=n}function Chart(e){var t=this.internal=new ChartInternal(this);t.loadConfig(e),t.beforeInit(e),t.init(),t.afterInit(e),function bindThis(e,t,n){Object.keys(e).forEach(function(r){t[r]=e[r].bind(n),Object.keys(e[r]).length>0&&bindThis(e[r],t[r],n)})}(C,this,this)}function ChartInternal(e){var t=this;t.d3=window.d3?window.d3:n(384),t.api=e,t.config=t.getDefaultConfig(),t.data={},t.cache={},t.axes={}}var e,t,r={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l=function(e){return e||0===e},c=function(e){return"function"==typeof e},u=function(e){return Array.isArray(e)},d=function(e){return"string"==typeof e},h=function(e){return void 0===e},p=function(e){return void 0!==e},m=function(e){return 10*Math.ceil(e/10)},f=function(e){return Math.ceil(e)+.5},g=function(e){return e[1]-e[0]},v=function(e){return void 0===e||null===e||d(e)&&0===e.length||"object"===(void 0===e?"undefined":i(e))&&0===Object.keys(e).length},y=function(e){return!E.isEmpty(e)},_=function(e,t,n){return p(e[t])?e[t]:n},b=function(e,t){var n=!1;return Object.keys(e).forEach(function(r){e[r]===t&&(n=!0)}),n},w=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},x=function(e){var t=e.getBoundingClientRect(),n=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:t.width,height:t.height}};t=AxisInternal.prototype,t.axisX=function(e,t,n){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+n)+", 0)"})},t.axisY=function(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})},t.scaleExtent=function(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]},t.generateTicks=function(e){var t,n,r=this,i=[];if(e.ticks)return e.ticks.apply(e,r.tickArguments);for(n=e.domain(),t=Math.ceil(n[0]);t<n[1];t++)i.push(t);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i},t.copyScale=function(){var e,t=this,n=t.scale.copy();return t.params.isCategory&&(e=t.scale.domain(),n.domain([e[0],e[1]-1])),n},t.textFormatted=function(e){var t=this,n=t.tickFormat?t.tickFormat(e):e;return void 0!==n?n:""},t.updateRange=function(){var e=this;return e.range=e.scale.rangeExtent?e.scale.rangeExtent():e.scaleExtent(e.scale.range()),e.range},t.updateTickTextCharSize=function(e){var t=this;if(t.tickTextCharSize)return t.tickTextCharSize;var n={h:11.5,w:5.5};return e.select("text").text(function(e){return t.textFormatted(e)}).each(function(e){var r=this.getBoundingClientRect(),i=t.textFormatted(e),o=r.height,a=i?r.width/i.length:void 0;o&&a&&(n.h=o,n.w=a)}).text(""),t.tickTextCharSize=n,n},t.transitionise=function(e){return this.params.withoutTransition?e:this.d3.transition(e)},t.isVertical=function(){return"left"===this.orient||"right"===this.orient},t.tspanData=function(e,t,n,r){var i=this,o=i.params.tickMultiline?i.splitTickText(e,n,r):[].concat(i.textFormatted(e));return o.map(function(e){return{index:t,splitted:e,length:o.length}})},t.splitTickText=function(e,t,n){function split(e,t){i=void 0;for(var n=1;n<t.length;n++)if(" "===t.charAt(n)&&(i=n),r=t.substr(0,n+1),o=a.tickTextCharSize.w*r.length,l<o)return split(e.concat(t.substr(0,i||n)),t.slice(i?i+1:n));return e.concat(t)}var r,i,o,a=this,s=a.textFormatted(e),l=a.params.tickWidth,c=[];return"[object Array]"===Object.prototype.toString.call(s)?s:((!l||l<=0)&&(l=a.isVertical()?95:a.params.isCategory?Math.ceil(n(t[1])-n(t[0]))-12:110),split(c,s+""))},t.updateTickLength=function(){var e=this;e.tickLength=Math.max(e.innerTickSize,0)+e.tickPadding},t.lineY2=function(e){var t=this,n=t.scale(e)+(t.tickCentered?0:t.tickOffset);return t.range[0]<n&&n<t.range[1]?t.innerTickSize:0},t.textY=function(){var e=this,t=e.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):e.tickLength},t.textTransform=function(){var e=this,t=e.tickTextRotate;return t?"rotate("+t+")":""},t.textTextAnchor=function(){var e=this,t=e.tickTextRotate;return t?t>0?"start":"end":"middle"},t.tspanDx=function(){var e=this,t=e.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},t.tspanDy=function(e,t){var n=this,r=n.tickTextCharSize.h;return 0===t&&(r=n.isVertical()?-((e.length-1)*(n.tickTextCharSize.h/2)-3):".71em"),r},t.generateAxis=function(){function axis(r){r.each(function(){var r,i,o,a=axis.g=t.select(this),s=this.__chart__||e.scale,l=this.__chart__=e.copyScale(),c=e.tickValues?e.tickValues:e.generateTicks(l),u=a.selectAll(".tick").data(c,l),d=u.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),h=u.exit().remove(),p=e.transitionise(u).style("opacity",1);n.isCategory?(e.tickOffset=Math.ceil((l(1)-l(0))/2),i=e.tickCentered?0:e.tickOffset,o=e.tickCentered?e.tickOffset:0):e.tickOffset=i=0,d.append("line"),d.append("text"),e.updateRange(),e.updateTickLength(),e.updateTickTextCharSize(a.select(".tick"));var m=p.select("line"),f=p.select("text"),g=u.select("text").selectAll("tspan").data(function(t,n){return e.tspanData(t,n,c,l)});g.enter().append("tspan"),g.exit().remove(),g.text(function(e){return e.splitted});var v=a.selectAll(".domain").data([0]),y=(v.enter().append("path").attr("class","domain"),e.transitionise(v));switch(e.orient){case"bottom":r=e.axisX,m.attr("x1",i).attr("x2",i).attr("y2",function(t,n){return e.lineY2(t,n)}),f.attr("x",0).attr("y",function(t,n){return e.textY(t,n)}).attr("transform",function(t,n){return e.textTransform(t,n)}).style("text-anchor",function(t,n){return e.textTextAnchor(t,n)}),g.attr("x",0).attr("dy",function(t,n){return e.tspanDy(t,n)}).attr("dx",function(t,n){return e.tspanDx(t,n)}),y.attr("d","M"+e.range[0]+","+e.outerTickSize+"V0H"+e.range[1]+"V"+e.outerTickSize);break;case"top":r=e.axisX,m.attr("x2",0).attr("y2",-e.innerTickSize),f.attr("x",0).attr("y",-e.tickLength).style("text-anchor","middle"),g.attr("x",0).attr("dy","0em"),y.attr("d","M"+e.range[0]+","+-e.outerTickSize+"V0H"+e.range[1]+"V"+-e.outerTickSize);break;case"left":r=e.axisY,m.attr("x2",-e.innerTickSize).attr("y1",o).attr("y2",o),f.attr("x",-e.tickLength).attr("y",e.tickOffset).style("text-anchor","end"),g.attr("x",-e.tickLength).attr("dy",function(t,n){return e.tspanDy(t,n)}),y.attr("d","M"+-e.outerTickSize+","+e.range[0]+"H0V"+e.range[1]+"H"+-e.outerTickSize);break;case"right":r=e.axisY,m.attr("x2",e.innerTickSize).attr("y2",0),f.attr("x",e.tickLength).attr("y",0).style("text-anchor","start"),g.attr("x",e.tickLength).attr("dy",function(t,n){return e.tspanDy(t,n)}),y.attr("d","M"+e.outerTickSize+","+e.range[0]+"H0V"+e.range[1]+"H"+e.outerTickSize)}if(l.rangeBand){var _=l,b=_.rangeBand()/2;s=l=function(e){return _(e)+b}}else s.rangeBand?s=l:h.call(r,l,e.tickOffset);d.call(r,s,e.tickOffset),p.call(r,l,e.tickOffset)})}var e=this,t=e.d3,n=e.params;return axis.scale=function(t){return arguments.length?(e.scale=t,axis):e.scale},axis.orient=function(t){return arguments.length?(e.orient=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",axis):e.orient},axis.tickFormat=function(t){return arguments.length?(e.tickFormat=t,axis):e.tickFormat},axis.tickCentered=function(t){return arguments.length?(e.tickCentered=t,axis):e.tickCentered},axis.tickOffset=function(){return e.tickOffset},axis.tickInterval=function(){var t,r;return n.isCategory?t=2*e.tickOffset:(r=axis.g.select("path.domain").node().getTotalLength()-2*e.outerTickSize,t=r/axis.g.selectAll("line").size()),t===1/0?0:t},axis.ticks=function(){return arguments.length?(e.tickArguments=arguments,axis):e.tickArguments},axis.tickCulling=function(t){return arguments.length?(e.tickCulling=t,axis):e.tickCulling},axis.tickValues=function(t){if("function"==typeof t)e.tickValues=function(){return t(e.scale.domain())};else{if(!arguments.length)return e.tickValues;e.tickValues=t}return axis},axis};var S=function(n){function Axis(n){o(this,Axis);var r={fn:e,internal:{fn:t}},i=s(this,(Axis.__proto__||Object.getPrototypeOf(Axis)).call(this,n,"axis",r));return i.d3=n.d3,i.internal=AxisInternal,i}return a(Axis,n),Axis}(Component);e=S.prototype,e.init=function(){var e=this.owner,t=e.config,n=e.main;e.axes.x=n.append("g").attr("class",r.axis+" "+r.axisX).attr("clip-path",e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",t.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",r.axisXLabel).attr("transform",t.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),e.axes.y=n.append("g").attr("class",r.axis+" "+r.axisY).attr("clip-path",t.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",t.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",r.axisYLabel).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=n.append("g").attr("class",r.axis+" "+r.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",t.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",r.axisY2Label).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},e.getXAxis=function(e,t,n,r,i,o,a){var s=this.owner,l=s.config,c={isCategory:s.isCategorized(),withOuterTick:i,tickMultiline:l.axis_x_tick_multiline,tickWidth:l.axis_x_tick_width,tickTextRotate:a?0:l.axis_x_tick_rotate,withoutTransition:o},u=new this.internal(this,c).axis.scale(e).orient(t);return s.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map(function(e){return s.parseDate(e)})),u.tickFormat(n).tickValues(r),s.isCategorized()&&(u.tickCentered(l.axis_x_tick_centered),v(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),u},e.updateXAxisTickValues=function(e,t){var n,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(e),i.axis_x_tick_count,r.isTimeSeries())),t?t.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},e.getYAxis=function(e,t,n,r,i,o,a){var s=this.owner,l=s.config,c={withOuterTick:i,withoutTransition:o,tickTextRotate:a?0:l.axis_y_tick_rotate},u=new this.internal(this,c).axis.scale(e).orient(t).tickFormat(n);return s.isTimeSeriesY()?u.ticks(s.d3.time[l.axis_y_tick_time_value],l.axis_y_tick_time_interval):u.tickValues(r),u},e.getId=function(e){var t=this.owner.config;return e in t.data_axes?t.data_axes[e]:"y"},e.getXAxisTickFormat=function(){var e=this.owner,t=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(e){return e<0?e.toFixed(0):e};return t.axis_x_tick_format&&(c(t.axis_x_tick_format)?n=t.axis_x_tick_format:e.isTimeSeries()&&(n=function(n){return n?e.axisTimeFormat(t.axis_x_tick_format)(n):""})),c(n)?function(t){return n.call(e,t)}:n},e.getTickValues=function(e,t){return e||(t?t.tickValues():void 0)},e.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},e.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},e.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},e.getLabelOptionByAxisId=function(e){var t,n=this.owner,r=n.config;return"y"===e?t=r.axis_y_label:"y2"===e?t=r.axis_y2_label:"x"===e&&(t=r.axis_x_label),t},e.getLabelText=function(e){var t=this.getLabelOptionByAxisId(e);return d(t)?t:t?t.text:null},e.setLabelText=function(e,t){var n=this.owner,r=n.config,i=this.getLabelOptionByAxisId(e);d(i)?"y"===e?r.axis_y_label=t:"y2"===e?r.axis_y2_label=t:"x"===e&&(r.axis_x_label=t):i&&(i.text=t)},e.getLabelPosition=function(e,t){var n=this.getLabelOptionByAxisId(e),r=n&&"object"===(void 0===n?"undefined":i(n))&&n.position?n.position:t;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},e.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},e.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},e.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},e.getLabelPositionById=function(e){return"y2"===e?this.getY2AxisLabelPosition():"y"===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},e.textForXAxisLabel=function(){return this.getLabelText("x")},e.textForYAxisLabel=function(){return this.getLabelText("y")},e.textForY2AxisLabel=function(){return this.getLabelText("y2")},e.xForAxisLabel=function(e,t){var n=this.owner;return e?t.isLeft?0:t.isCenter?n.width/2:n.width:t.isBottom?-n.height:t.isMiddle?-n.height/2:0},e.dxForAxisLabel=function(e,t){return e?t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop?"-0.5em":t.isBottom?"0.5em":"0"},e.textAnchorForAxisLabel=function(e,t){return e?t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom?"start":t.isMiddle?"middle":"end"},e.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},e.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},e.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},e.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},e.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},e.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},e.dyForXAxisLabel=function(){var e=this.owner,t=e.config,n=this.getXAxisLabelPosition();return t.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},e.dyForYAxisLabel=function(){var e=this.owner,t=this.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-10-(e.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},e.dyForY2AxisLabel=function(){var e=this.owner,t=this.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":15+(e.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},e.textAnchorForXAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(!e.config.axis_rotated,this.getXAxisLabelPosition())},e.textAnchorForYAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getYAxisLabelPosition())},e.textAnchorForY2AxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getY2AxisLabelPosition())},e.getMaxTickWidth=function(e,t){var n,r,i,o,a,s=this.owner,l=s.config,c=0;return t&&s.currentMaxTickWidths[e]?s.currentMaxTickWidths[e]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===e?(r=s.y.copy().domain(s.getYDomain(n,"y")),i=this.getYAxis(r,s.yOrient,l.axis_y_tick_format,s.yAxisTickValues,!1,!0,!0)):"y2"===e?(r=s.y2.copy().domain(s.getYDomain(n,"y2")),i=this.getYAxis(r,s.y2Orient,l.axis_y2_tick_format,s.y2AxisTickValues,!1,!0,!0)):(r=s.x.copy().domain(s.getXDomain(n)),i=this.getXAxis(r,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,i)),o=s.d3.select("body").append("div").classed("c3",!0),a=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a.append("g").call(i).each(function(){s.d3.select(this).selectAll("text").each(function(){var e=this.getBoundingClientRect();c<e.width&&(c=e.width)}),o.remove()})),s.currentMaxTickWidths[e]=c<=0?s.currentMaxTickWidths[e]:c,s.currentMaxTickWidths[e])},e.updateLabels=function(e){var t=this.owner,n=t.main.select("."+r.axisX+" ."+r.axisXLabel),i=t.main.select("."+r.axisY+" ."+r.axisYLabel),o=t.main.select("."+r.axisY2+" ."+r.axisY2Label);(e?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(e?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(e?o.transition():o).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},e.getPadding=function(e,t,n,r){var i="number"==typeof e?e:e[t];return l(i)?"ratio"===e.unit?e[t]*r:this.convertPixelsToAxisPadding(i,r):n},e.convertPixelsToAxisPadding=function(e,t){var n=this.owner;return t*(e/(n.config.axis_rotated?n.width:n.height))},e.generateTickValues=function(e,t,n){var r,i,o,a,s,l,u,d=e;if(t)if(1===(r=c(t)?t():t))d=[e[0]];else if(2===r)d=[e[0],e[e.length-1]];else if(r>2){for(a=r-2,i=e[0],o=e[e.length-1],s=(o-i)/(a+1),d=[i],l=0;l<a;l++)u=+i+s*(l+1),d.push(n?new Date(u):u);d.push(o)}return n||(d=d.sort(function(e,t){return e-t})),d},e.generateTransitions=function(e){var t=this.owner,n=t.axes;return{axisX:e?n.x.transition().duration(e):n.x,axisY:e?n.y.transition().duration(e):n.y,axisY2:e?n.y2.transition().duration(e):n.y2,axisSubX:e?n.subx.transition().duration(e):n.subx}},e.redraw=function(e,t){var n=this.owner;n.axes.x.style("opacity",t?0:1),n.axes.y.style("opacity",t?0:1),n.axes.y2.style("opacity",t?0:1),n.axes.subx.style("opacity",t?0:1),e.axisX.call(n.xAxis),e.axisY.call(n.yAxis),e.axisY2.call(n.y2Axis),e.axisSubX.call(n.subXAxis)};var C,E,T={version:"0.4.18"};return T.generate=function(e){return new Chart(e)},T.chart={fn:Chart.prototype,internal:{fn:ChartInternal.prototype}},C=T.chart.fn,E=T.chart.internal.fn,E.beforeInit=function(){},E.afterInit=function(){},E.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_headers,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else{if(!t.data_columns)throw Error("url or json or rows or columns is required.");e.initWithData(e.convertColumnsToData(t.data_columns))}},E.initParams=function(){var e=this,t=e.d3,n=e.config;e.clipId="c3-"+ +new Date+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=n.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=n.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&1!==e.getDate()}],["%-m/%-d",function(e){return 1!==e.getDate()}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=n.axis_rotated?"left":"bottom",e.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",e.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",e.subXOrient=n.axis_rotated?"left":"bottom",e.isLegendRight="right"===n.legend_position,e.isLegendInset="inset"===n.legend_position,e.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,e.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=t.selectAll([])},E.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},E.initWithData=function(e){var t,n,i=this,o=i.d3,a=i.config,s=!0;i.axis=new S(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),a.bindto?"function"==typeof a.bindto.node?i.selectChart=a.bindto:i.selectChart=o.select(a.bindto):i.selectChart=o.selectAll([]),i.selectChart.empty()&&(i.selectChart=o.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),s=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(e),a.data_filter&&(i.data.targets=i.data.targets.filter(a.data_filter)),a.data_hide&&i.addHiddenTargetIds(!0===a.data_hide?i.mapToIds(i.data.targets):a.data_hide),a.legend_hide&&i.addHiddenLegendIds(!0===a.legend_hide?i.mapToIds(i.data.targets):a.legend_hide),i.hasType("gauge")&&(a.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(o.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),a.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(i)}).on("mouseleave",function(){return a.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),t=i.svg.append("defs"),i.clipChart=i.appendClip(t,i.clipId),i.clipXAxis=i.appendClip(t,i.clipIdForXAxis),i.clipYAxis=i.appendClip(t,i.clipIdForYAxis),i.clipGrid=i.appendClip(t,i.clipIdForGrid),i.clipSubchart=i.appendClip(t,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),n.append("text").attr("class",r.text+" "+r.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",r.chart),a.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",a.zoom_privileged?null:"g."+r.regions).attr("class",r.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),a.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),s&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.api.element=i.selectChart.node()},E.smoothLines=function(e,t){var n=this;"grid"===t&&e.each(function(){var e=n.d3.select(this),t=e.attr("x1"),r=e.attr("x2"),i=e.attr("y1"),o=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(o)})})},E.updateSizes=function(){var e=this,t=e.config,n=e.legend?e.getLegendHeight():0,r=e.legend?e.getLegendWidth():0,i=e.isLegendRight||e.isLegendInset?0:n,o=e.hasArcType(),a=t.axis_rotated||o?0:e.getHorizontalAxisHeight("x"),s=t.subchart_show&&!o?t.subchart_size_height+a:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:o?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+i+e.getCurrentPaddingBottom(),left:s+(o?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:o?0:e.getCurrentPaddingRight(),bottom:a+s+i+e.getCurrentPaddingBottom(),left:o?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+i,left:e.rotated_padding_left}:{top:e.currentHeight-s-i,right:NaN,bottom:a+i,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(n,r),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?r+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&!t.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&o&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},E.updateTargets=function(e){var t=this;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.hasArcType()&&t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.showTargets()},E.showTargets=function(){var e=this;e.svg.selectAll("."+r.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},E.redraw=function(e,t){var n,i,o,a,s,l,c,u,d,h,p,m,f,g,v,y,b,w,x,S,C,E,T,M,k,A,D,$,P,L=this,R=L.main,O=L.d3,I=L.config,F=L.getShapeIndices(L.isAreaType),N=L.getShapeIndices(L.isBarType),H=L.getShapeIndices(L.isLineType),j=L.hasArcType(),B=L.filterTargetsToShow(L.data.targets),V=L.xv.bind(L);if(e=e||{},n=_(e,"withY",!0),i=_(e,"withSubchart",!0),o=_(e,"withTransition",!0),l=_(e,"withTransform",!1),c=_(e,"withUpdateXDomain",!1),u=_(e,"withUpdateOrgXDomain",!1),d=_(e,"withTrimXDomain",!0),f=_(e,"withUpdateXAxis",c),h=_(e,"withLegend",!1),p=_(e,"withEventRect",!0),m=_(e,"withDimension",!0),a=_(e,"withTransitionForExit",o),s=_(e,"withTransitionForAxis",o),x=o?I.transition_duration:0,S=a?x:0,C=s?x:0,t=t||L.axis.generateTransitions(C),h&&I.legend_show?L.updateLegend(L.mapToIds(L.data.targets),e,t):m&&L.updateDimension(!0),L.isCategorized()&&0===B.length&&L.x.domain([0,L.axes.x.selectAll(".tick").size()]),B.length?(L.updateXDomain(B,c,u,d),I.axis_x_tick_values||(M=L.axis.updateXAxisTickValues(B))):(L.xAxis.tickValues([]),L.subXAxis.tickValues([])),I.zoom_rescale&&!e.flow&&(D=L.x.orgDomain()),L.y.domain(L.getYDomain(B,"y",D)),L.y2.domain(L.getYDomain(B,"y2",D)),!I.axis_y_tick_values&&I.axis_y_tick_count&&L.yAxis.tickValues(L.axis.generateTickValues(L.y.domain(),I.axis_y_tick_count)),!I.axis_y2_tick_values&&I.axis_y2_tick_count&&L.y2Axis.tickValues(L.axis.generateTickValues(L.y2.domain(),I.axis_y2_tick_count)),L.axis.redraw(t,j),L.axis.updateLabels(o),(c||f)&&B.length)if(I.axis_x_tick_culling&&M){for(k=1;k<M.length;k++)if(M.length/k<I.axis_x_tick_culling_max){A=k;break}L.svg.selectAll("."+r.axisX+" .tick text").each(function(e){var t=M.indexOf(e);t>=0&&O.select(this).style("display",t%A?"none":"block")})}else L.svg.selectAll("."+r.axisX+" .tick text").style("display","block");g=L.generateDrawArea?L.generateDrawArea(F,!1):void 0,v=L.generateDrawBar?L.generateDrawBar(N):void 0,y=L.generateDrawLine?L.generateDrawLine(H,!1):void 0,b=L.generateXYForText(F,N,H,!0),w=L.generateXYForText(F,N,H,!1),n&&(L.subY.domain(L.getYDomain(B,"y")),L.subY2.domain(L.getYDomain(B,"y2"))),L.updateXgridFocus(),R.select("text."+r.text+"."+r.empty).attr("x",L.width/2).attr("y",L.height/2).text(I.data_empty_label_text).transition().style("opacity",B.length?0:1),L.updateGrid(x),L.updateRegion(x),L.updateBar(S),L.updateLine(S),L.updateArea(S),L.updateCircle(),L.hasDataLabel()&&L.updateText(S),L.redrawTitle&&L.redrawTitle(),L.redrawArc&&L.redrawArc(x,S,l),L.redrawSubchart&&L.redrawSubchart(i,t,x,S,F,N,H),R.selectAll("."+r.selectedCircles).filter(L.isBarType.bind(L)).selectAll("circle").remove(),I.interaction_enabled&&!e.flow&&p&&(L.redrawEventRect(),L.updateZoom&&L.updateZoom()),L.updateCircleY(),$=(L.config.axis_rotated?L.circleY:L.circleX).bind(L),P=(L.config.axis_rotated?L.circleX:L.circleY).bind(L),e.flow&&(T=L.generateFlow({targets:B,flow:e.flow,duration:e.flow.duration,drawBar:v,drawLine:y,drawArea:g,cx:$,cy:P,xv:V,xForText:b,yForText:w})),(x||T)&&L.isTabVisible()?O.transition().duration(x).each(function(){var t=[];[L.redrawBar(v,!0),L.redrawLine(y,!0),L.redrawArea(g,!0),L.redrawCircle($,P,!0),L.redrawText(b,w,e.flow,!0),L.redrawRegion(!0),L.redrawGrid(!0)].forEach(function(e){e.forEach(function(e){t.push(e)})}),E=L.generateWait(),t.forEach(function(e){E.add(e)})}).call(E,function(){T&&T(),I.onrendered&&I.onrendered.call(L)}):(L.redrawBar(v),L.redrawLine(y),L.redrawArea(g),L.redrawCircle($,P),L.redrawText(b,w,e.flow),L.redrawRegion(),L.redrawGrid(),I.onrendered&&I.onrendered.call(L)),L.mapToIds(L.data.targets).forEach(function(e){L.withoutFadeIn[e]=!0})},E.updateAndRedraw=function(e){var t,n=this,r=n.config;e=e||{},e.withTransition=_(e,"withTransition",!0),e.withTransform=_(e,"withTransform",!1),e.withLegend=_(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=_(e,"withTransitionForTransform",e.withTransition),n.updateSizes(),e.withLegend&&r.legend_show||(t=n.axis.generateTransitions(e.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(e.withTransitionForTransform,t)),n.redraw(e,t)},E.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},E.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},E.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},E.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||y(t.data_xs))},E.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},E.getTranslate=function(e){var t,n,r=this,i=r.config;return"main"===e?(t=f(r.margin.left),n=f(r.margin.top)):"context"===e?(t=f(r.margin2.left),n=f(r.margin2.top)):"legend"===e?(t=r.margin3.left,n=r.margin3.top):"x"===e?(t=0,n=i.axis_rotated?0:r.height):"y"===e?(t=0,n=i.axis_rotated?r.height:0):"y2"===e?(t=i.axis_rotated?0:r.width,n=i.axis_rotated?1:0):"subx"===e?(t=0,n=i.axis_rotated?0:r.height2):"arc"===e&&(t=r.arcWidth/2,n=r.arcHeight/2),"translate("+t+","+n+")"},E.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?1:0},E.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},E.opacityForCircle=function(e){var t=c(this.config.point_show)?this.config.point_show(e):this.config.point_show,n=t?1:0;return l(e.value)?this.isScatterType(e)?.5:n:0},E.opacityForText=function(){return this.hasDataLabel()?1:0},E.xx=function(e){return e?this.x(e.x):null},E.xv=function(e){var t=this,n=e.value;return t.isTimeSeries()?n=t.parseDate(e.value):t.isCategorized()&&"string"==typeof e.value&&(n=t.config.axis_x_categories.indexOf(e.value)),Math.ceil(t.x(n))},E.yv=function(e){var t=this,n=e.axis&&"y2"===e.axis?t.y2:t.y;return Math.ceil(n(e.value))},E.subxx=function(e){return e?this.subX(e.x):null},E.transformMain=function(e,t){var n,i,o,a=this;t&&t.axisX?n=t.axisX:(n=a.main.select("."+r.axisX),e&&(n=n.transition())),t&&t.axisY?i=t.axisY:(i=a.main.select("."+r.axisY),e&&(i=i.transition())),t&&t.axisY2?o=t.axisY2:(o=a.main.select("."+r.axisY2),e&&(o=o.transition())),(e?a.main.transition():a.main).attr("transform",a.getTranslate("main")),n.attr("transform",a.getTranslate("x")),i.attr("transform",a.getTranslate("y")),o.attr("transform",a.getTranslate("y2")),a.main.select("."+r.chartArcs).attr("transform",a.getTranslate("arc"))},E.transformAll=function(e,t){var n=this;n.transformMain(e,t),n.config.subchart_show&&n.transformContext(e,t),n.legend&&n.transformLegend(e)},E.updateSvgSize=function(){var e=this,t=e.svg.select(".c3-brush .background");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",t.size()?t.attr("height"):0),e.svg.select("."+r.zoomRect).attr("width",e.width).attr("height",e.height),e.selectChart.style("max-height",e.currentHeight+"px")},E.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},E.observeInserted=function(e){var t,n=this;if("undefined"==typeof MutationObserver)return void window.console.error("MutationObserver not defined.");t=new MutationObserver(function(r){r.forEach(function(r){"childList"===r.type&&r.previousSibling&&(t.disconnect(),n.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),t.observe(e.node(),{attributes:!0,childList:!0,characterData:!0})},E.bindResize=function(){var e=this,t=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){t.onresize.call(e)}),t.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),e.resizeTimeout=window.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){t.onresized.call(e)}),window.attachEvent)window.attachEvent("onresize",e.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",e.resizeFunction,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=e.generateResize(),n.add(window.onresize)):n=e.generateResize(),n.add(e.resizeFunction),window.onresize=n}},E.generateResize=function(){function callResizeFunctions(){e.forEach(function(e){e()})}var e=[];return callResizeFunctions.add=function(t){e.push(t)},callResizeFunctions.remove=function(t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}},callResizeFunctions},E.endall=function(e,t){var n=0;e.each(function(){++n}).each("end",function(){--n||t.apply(this,arguments)})},E.generateWait=function(){var e=[],t=function(t,n){var r=setInterval(function(){var t=0;e.forEach(function(e){if(e.empty())return void(t+=1);try{e.transition()}catch(e){t+=1}}),t===e.length&&(clearInterval(r),n&&n())},10)};return t.add=function(t){e.push(t)},t},E.parseDate=function(e){var t,n=this;return e instanceof Date?t=e:"string"==typeof e?t=n.dataTimeFormat(n.config.data_xFormat).parse(e):"object"===(void 0===e?"undefined":i(e))?t=new Date(+e):"number"!=typeof e||isNaN(e)||(t=new Date(+e)),t&&!isNaN(+t)||window.console.error("Failed to parse x '"+e+"' to Date object"),t},E.isTabVisible=function(){var e;return void 0!==document.hidden?e="hidden":void 0!==document.mozHidden?e="mozHidden":void 0!==document.msHidden?e="msHidden":void 0!==document.webkitHidden&&(e="webkitHidden"),!document[e]},E.isValue=l,E.isFunction=c,E.isString=d,E.isUndefined=h,E.isDefined=p,E.ceil10=m,E.asHalfPixel=f,E.diffDomain=g,E.isEmpty=v,E.notEmpty=y,E.notEmpty=y,E.getOption=_,E.hasValue=b,E.sanitise=w,E.getPathBox=x,E.CLASS=r,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,n){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new window.SVGPathSegMovetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new window.SVGPathSegMovetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new window.SVGPathSegLinetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new window.SVGPathSegLinetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,n,r,i,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,e,t,n,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,n,r,i,o){return new window.SVGPathSegCurvetoCubicRel(void 0,e,t,n,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,n,r){return new window.SVGPathSegCurvetoQuadraticRel(void 0,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,n,r,i,o,a){return new window.SVGPathSegArcAbs(void 0,e,t,n,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,n,r,i,o,a){return new window.SVGPathSegArcRel(void 0,e,t,n,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new window.SVGPathSegLinetoHorizontalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new window.SVGPathSegLinetoHorizontalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new window.SVGPathSegLinetoVerticalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new window.SVGPathSegLinetoVerticalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(e){if(void 0===e||!isFinite(e))throw"Invalid arguments.";var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.getAttribute("d"));var n=t.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(t.pathSegList.removeItem(n),e>t.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},window.SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},window.SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList._pathSegArrayAsString=function(e){var t="",n=!0;return e.forEach(function(e){n?(n=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},window.SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var t=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(e){this.pathSegList.push(e)};var r=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(" "==e||"\n"==e||"\t"==e||"\r"==e||"\f"==e)},r.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},r.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||e>="0"&&e<="9")&&t!=window.SVGPathSeg.PATHSEG_CLOSEPATH?t==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:t==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:t:window.SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==window.SVGPathSeg.PATHSEG_MOVETO_ABS||e==window.SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var e=0,t=0,n=1,r=0,i=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var l=this._currentIndex-1,c=1;l>=s;)t+=c*(this._string.charAt(l--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(++this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=t+r;if(u*=i,e&&(u*=Math.pow(10,o*e)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},r.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},r.prototype.parseSegment=function(){var e=this._string[this._currentIndex],n=this._pathSegTypeFromChar(e);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(e,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(t);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(t,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(t,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(t,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(t,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(t,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(t,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(t,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(t,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var i=new n,o=new r(e);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];i.appendSegment(a)}return i.pathSegList})}(),C.axis=function(){},C.axis.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(n){t.axis.setLabelText(n,e[n])}),t.axis.updateLabels())},C.axis.max=function(e){var t=this.internal,n=t.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"===(void 0===e?"undefined":i(e))?(l(e.x)&&(n.axis_x_max=e.x),l(e.y)&&(n.axis_y_max=e.y),l(e.y2)&&(n.axis_y2_max=e.y2)):n.axis_y_max=n.axis_y2_max=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},C.axis.min=function(e){var t=this.internal,n=t.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"===(void 0===e?"undefined":i(e))?(l(e.x)&&(n.axis_x_min=e.x),l(e.y)&&(n.axis_y_min=e.y),l(e.y2)&&(n.axis_y2_min=e.y2)):n.axis_y_min=n.axis_y2_min=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},C.axis.range=function(e){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};p(e.max)&&this.axis.max(e.max),p(e.min)&&this.axis.min(e.min)},C.category=function(e,t){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[e]=t,n.redraw()),r.axis_x_categories[e]},C.categories=function(e){var t=this.internal,n=t.config;return arguments.length?(n.axis_x_categories=e,t.redraw(),n.axis_x_categories):n.axis_x_categories},C.resize=function(e){var t=this.internal,n=t.config;n.size_width=e?e.width:null,n.size_height=e?e.height:null,this.flush()},C.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},C.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeFunction);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},C.color=function(e){return this.internal.color(e)},C.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return[].concat(e).indexOf(t.id)>=0})},C.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},C.data.values=function(e){var t,n=null;return e&&(t=this.data(e),n=t[0]?t[0].values.map(function(e){return e.value}):null),n},C.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},C.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},C.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},C.flow=function(e){var t,n,r,i,o,a,s,c=this.internal,u=[],d=c.getMaxDataCount(),h=0,m=0;if(e.json)n=c.convertJsonToData(e.json,e.keys);else if(e.rows)n=c.convertRowsToData(e.rows);else{if(!e.columns)return;n=c.convertColumnsToData(e.columns)}t=c.convertDataToTargets(n,!0),c.data.targets.forEach(function(e){var n,r,i=!1;for(n=0;n<t.length;n++)if(e.id===t[n].id){for(i=!0,e.values[e.values.length-1]&&(m=e.values[e.values.length-1].index+1),h=t[n].values.length,r=0;r<h;r++)t[n].values[r].index=m+r,c.isTimeSeries()||(t[n].values[r].x=m+r);e.values=e.values.concat(t[n].values),t.splice(n,1);break}i||u.push(e.id)}),c.data.targets.forEach(function(e){var t,n;for(t=0;t<u.length;t++)if(e.id===u[t])for(m=e.values[e.values.length-1].index+1,n=0;n<h;n++)e.values.push({id:e.id,index:m+n,x:c.isTimeSeries()?c.getOtherTargetX(m+n):m+n,value:null})}),c.data.targets.length&&t.forEach(function(e){var t,n=[];for(t=c.data.targets[0].values[0].index;t<m;t++)n.push({id:e.id,index:t,x:c.isTimeSeries()?c.getOtherTargetX(t):t,value:null});e.values.forEach(function(e){e.index+=m,c.isTimeSeries()||(e.x+=m)}),e.values=n.concat(e.values)}),c.data.targets=c.data.targets.concat(t),c.getMaxDataCount(),i=c.data.targets[0],o=i.values[0],p(e.to)?(h=0,s=c.isTimeSeries()?c.parseDate(e.to):e.to,i.values.forEach(function(e){e.x<s&&h++})):p(e.length)&&(h=e.length),d?1===d&&c.isTimeSeries()&&(a=(i.values[i.values.length-1].x-o.x)/2,r=[new Date(+o.x-a),new Date(+o.x+a)],c.updateXDomain(null,!0,!0,!1,r)):(a=c.isTimeSeries()?i.values.length>1?i.values[i.values.length-1].x-o.x:o.x-c.getXDomain(c.data.targets)[0]:1,r=[o.x-a,o.x],c.updateXDomain(null,!0,!0,!1,r)),c.updateTargets(c.data.targets),c.redraw({flow:{index:o.index,length:h,duration:l(e.duration)?e.duration:c.config.transition_duration,done:e.done,orgDataCount:d},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0})},E.generateFlow=function(e){var t=this,n=t.config,i=t.d3;return function(){var o,a,s,l=e.targets,c=e.flow,u=e.drawBar,d=e.drawLine,h=e.drawArea,p=e.cx,m=e.cy,f=e.xv,v=e.xForText,y=e.yForText,_=e.duration,b=1,w=c.index,x=c.length,S=t.getValueOnIndex(t.data.targets[0].values,w),C=t.getValueOnIndex(t.data.targets[0].values,w+x),E=t.x.domain(),T=c.duration||_,M=c.done||function(){},k=t.generateWait(),A=t.xgrid||i.selectAll([]),D=t.xgridLines||i.selectAll([]),$=t.mainRegion||i.selectAll([]),P=t.mainText||i.selectAll([]),L=t.mainBar||i.selectAll([]),R=t.mainLine||i.selectAll([]),O=t.mainArea||i.selectAll([]),I=t.mainCircle||i.selectAll([]);t.flowing=!0,t.data.targets.forEach(function(e){e.values.splice(0,x)}),s=t.updateXDomain(l,!0,!0),t.updateXGrid&&t.updateXGrid(!0),c.orgDataCount?o=1===c.orgDataCount||(S&&S.x)===(C&&C.x)?t.x(E[0])-t.x(s[0]):t.isTimeSeries()?t.x(E[0])-t.x(s[0]):t.x(S.x)-t.x(C.x):1!==t.data.targets[0].values.length?o=t.x(E[0])-t.x(s[0]):t.isTimeSeries()?(S=t.getValueOnIndex(t.data.targets[0].values,0),C=t.getValueOnIndex(t.data.targets[0].values,t.data.targets[0].values.length-1),o=t.x(S.x)-t.x(C.x)):o=g(s)/2,b=g(E)/g(s),a="translate("+o+",0) scale("+b+",1)",t.hideXGridFocus(),i.transition().ease("linear").duration(T).each(function(){k.add(t.axes.x.transition().call(t.xAxis)),k.add(L.transition().attr("transform",a)),k.add(R.transition().attr("transform",a)),k.add(O.transition().attr("transform",a)),k.add(I.transition().attr("transform",a)),k.add(P.transition().attr("transform",a)),k.add($.filter(t.isRegionOnX).transition().attr("transform",a)),k.add(A.transition().attr("transform",a)),k.add(D.transition().attr("transform",a))}).call(k,function(){var e,i=[],o=[],a=[];if(x){for(e=0;e<x;e++)i.push("."+r.shape+"-"+(w+e)),o.push("."+r.text+"-"+(w+e)),a.push("."+r.eventRect+"-"+(w+e));t.svg.selectAll("."+r.shapes).selectAll(i).remove(),t.svg.selectAll("."+r.texts).selectAll(o).remove(),t.svg.selectAll("."+r.eventRects).selectAll(a).remove(),t.svg.select("."+r.xgrid).remove()}A.attr("transform",null).attr(t.xgridAttr),D.attr("transform",null),D.select("line").attr("x1",n.axis_rotated?0:f).attr("x2",n.axis_rotated?t.width:f),D.select("text").attr("x",n.axis_rotated?t.width:0).attr("y",f),L.attr("transform",null).attr("d",u),R.attr("transform",null).attr("d",d),O.attr("transform",null).attr("d",h),I.attr("transform",null).attr("cx",p).attr("cy",m),P.attr("transform",null).attr("x",v).attr("y",y).style("fill-opacity",t.opacityForText.bind(t)),$.attr("transform",null),$.select("rect").filter(t.isRegionOnX).attr("x",t.regionX.bind(t)).attr("width",t.regionWidth.bind(t)),n.interaction_enabled&&t.redrawEventRect(),M(),t.flowing=!1})}},C.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(r.focused,!0).classed(r.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},C.defocus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),t.classed(r.focused,!1).classed(r.defocused,!0),n.hasArcType()&&n.unexpandArc(e),n.toggleFocusLegend(e,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),n.defocusedTargetIds=e},C.revert=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e)),t.classed(r.focused,!1).classed(r.defocused,!1),n.hasArcType()&&n.unexpandArc(e),n.config.legend_show&&(n.showLegend(e.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(e)).filter(function(){return n.d3.select(this).classed(r.legendItemFocused)}).classed(r.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},C.xgrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_x_lines=e,t.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},C.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e||[]))},C.xgrids.remove=function(e){this.internal.removeGridLines(e,!0)},C.ygrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_y_lines=e,t.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},C.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e||[]))},C.ygrids.remove=function(e){this.internal.removeGridLines(e,!1)},C.groups=function(e){var t=this.internal,n=t.config;return h(e)?n.data_groups:(n.data_groups=e,t.redraw(),n.data_groups)},C.legend=function(){},C.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},C.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},C.load=function(e){var t=this.internal,n=t.config;if(e.xs&&t.addXs(e.xs),"names"in e&&C.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds))return void t.load(t.getCaches(e.cacheIds),e.done);"unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},C.unload=function(e){var t=this.internal;e=e||{},e instanceof Array?e={ids:e}:"string"==typeof e&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},C.regions=function(e){var t=this.internal,n=t.config;return e?(n.regions=e,t.redrawWithoutRescale(),n.regions):n.regions},C.regions.add=function(e){var t=this.internal,n=t.config;return e?(n.regions=n.regions.concat(e),t.redrawWithoutRescale(),n.regions):n.regions},C.regions.remove=function(e){var t,n,i,o=this.internal,a=o.config;return e=e||{},t=o.getOption(e,"duration",a.transition_duration),n=o.getOption(e,"classes",[r.region]),i=o.main.select("."+r.regions).selectAll(n.map(function(e){return"."+e})),(t?i.transition().duration(t):i).style("opacity",0).remove(),a.regions=a.regions.filter(function(e){var t=!1;return!e.class||(e.class.split(" ").forEach(function(e){n.indexOf(e)>=0&&(t=!0)}),!t)}),a.regions},C.selected=function(e){var t=this.internal,n=t.d3;return n.merge(t.main.selectAll("."+r.shapes+t.getTargetSelectorSuffix(e)).selectAll("."+r.shape).filter(function(){return n.select(this).classed(r.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},C.select=function(e,t,n){var i=this.internal,o=i.d3,a=i.config;a.data_selection_enabled&&i.main.selectAll("."+r.shapes).selectAll("."+r.shape).each(function(s,l){var c=o.select(this),u=s.data?s.data.id:s.id,d=i.getToggle(this,s).bind(i),h=a.data_selection_grouped||!e||e.indexOf(u)>=0,m=!t||t.indexOf(l)>=0,f=c.classed(r.SELECTED);c.classed(r.line)||c.classed(r.area)||(h&&m?a.data_selection_isselectable(s)&&!f&&d(!0,c.classed(r.SELECTED,!0),s,l):p(n)&&n&&f&&d(!1,c.classed(r.SELECTED,!1),s,l))})},C.unselect=function(e,t){var n=this.internal,i=n.d3,o=n.config;o.data_selection_enabled&&n.main.selectAll("."+r.shapes).selectAll("."+r.shape).each(function(a,s){var l=i.select(this),c=a.data?a.data.id:a.id,u=n.getToggle(this,a).bind(n),d=o.data_selection_grouped||!e||e.indexOf(c)>=0,h=!t||t.indexOf(s)>=0,p=l.classed(r.SELECTED);l.classed(r.line)||l.classed(r.area)||d&&h&&o.data_selection_isselectable(a)&&p&&u(!1,l.classed(r.SELECTED,!1),a,s)})},C.show=function(e,t){var n,r=this.internal;e=r.mapToTargetIds(e),t=t||{},r.removeHiddenTargetIds(e),n=r.svg.selectAll(r.selectorTargets(e)),n.transition().style("opacity",1,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",1)}),t.withLegend&&r.showLegend(e),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},C.hide=function(e,t){var n,r=this.internal;e=r.mapToTargetIds(e),t=t||{},r.addHiddenTargetIds(e),n=r.svg.selectAll(r.selectorTargets(e)),n.transition().style("opacity",0,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",0)}),t.withLegend&&r.hideLegend(e),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},C.toggle=function(e,t){var n=this,r=this.internal;r.mapToTargetIds(e).forEach(function(e){r.isTargetToShow(e)?n.hide(e,t):n.show(e,t)})},C.tooltip=function(){},C.tooltip.show=function(e){var t,n,r=this.internal;e.mouse&&(n=e.mouse),e.data?r.isMultipleX()?(n=[r.x(e.data.x),r.getYScale(e.data.id)(e.data.value)],t=null):t=l(e.data.index)?e.data.index:r.getIndexByX(e.data.x):void 0!==e.x?t=r.getIndexByX(e.x):void 0!==e.index&&(t=e.index),r.dispatchEvent("mouseover",t,n),r.dispatchEvent("mousemove",t,n),r.config.tooltip_onshow.call(r,e.data)},C.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},C.transform=function(e,t){var n=this.internal,r=["pie","donut"].indexOf(e)>=0?{withTransform:!0}:null;n.transformTo(t,e,r)},E.transformTo=function(e,t,n){var r=this,i=!r.hasArcType(),o=n||{withTransitionForAxis:i};o.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(e,t),r.updateTargets(r.data.targets),r.updateAndRedraw(o)},C.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},C.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},C.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},C.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},C.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},C.zoom.max=function(e){var t=this.internal,n=t.config,r=t.d3;if(0!==e&&!e)return n.zoom_x_max;n.zoom_x_max=r.max([t.orgXDomain[1],e])},C.zoom.min=function(e){var t=this.internal,n=t.config,r=t.d3;if(0!==e&&!e)return n.zoom_x_min;n.zoom_x_min=r.min([t.orgXDomain[0],e])},C.zoom.range=function(e){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};p(e.max)&&this.domain.max(e.max),p(e.min)&&this.domain.min(e.min)},E.initPie=function(){var e=this,t=e.d3;e.pie=t.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),e.pie.sort(e.getOrderFunction()||null)},E.updateRadius=function(){var e=this,t=e.config,n=t.gauge_width||t.donut_width;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2,e.radius=.95*e.radiusExpanded,e.innerRadiusRatio=n?(e.radius-n)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},E.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(.98)},E.updateAngle=function(e){var t,n,r,i,o=this,a=o.config,s=!1,l=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,e=t,e.index=l),l++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),o.isGaugeType(e.data)&&(t=a.gauge_min,n=a.gauge_max,r=Math.PI*(a.gauge_fullCircle?2:1)/(n-t),i=e.value<t?0:e.value<n?e.value-t:n-t,e.startAngle=a.gauge_startingAngle,e.endAngle=e.startAngle+r*i),s?e:null):null},E.getSvgArc=function(){var e=this,t=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),n=function(n,r){var i;return r?t(n):(i=e.updateAngle(n),i?t(i):"M 0 0")};return n.centroid=t.centroid,n},E.getSvgArcExpanded=function(e){var t=this,n=t.d3.svg.arc().outerRadius(t.radiusExpanded*(e||1)).innerRadius(t.innerRadius);return function(e){var r=t.updateAngle(e);return r?n(r):"M 0 0"}},E.getArc=function(e,t,n){return n||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},E.transformForArcLabel=function(e){var t,n,r,i,o,a=this,s=a.config,l=a.updateAngle(e),u="";return l&&!a.hasType("gauge")&&(t=this.svgArc.centroid(l),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?0:t[1],i=Math.sqrt(n*n+r*r),o=a.hasType("donut")&&s.donut_label_ratio?c(s.donut_label_ratio)?s.donut_label_ratio(e,a.radius,i):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?c(s.pie_label_ratio)?s.pie_label_ratio(e,a.radius,i):s.pie_label_ratio:a.radius&&i?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/i:0,u="translate("+n*o+","+r*o+")"),u},E.getArcRatio=function(e){var t=this,n=t.config,r=Math.PI*(t.hasType("gauge")&&!n.gauge_fullCircle?1:2);return e?(e.endAngle-e.startAngle)/r:null},E.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},E.textForArcLabel=function(e){var t,n,r,i,o,a=this;return a.shouldShowArcLabel()?(t=a.updateAngle(e),n=t?t.value:null,r=a.getArcRatio(t),i=e.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(r)?(o=a.getArcLabelFormat(),o?o(n,r,i):a.defaultArcValueFormat(n,r)):""):""},E.textForGaugeMinMax=function(e,t){var n=this,r=n.getGaugeLabelExtents();return r?r(e,t):e},E.expandArc=function(e){var t,n=this;if(n.transiting)return void(t=window.setInterval(function(){n.transiting||(window.clearInterval(t),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(e))},10));e=n.mapToTargetIds(e),n.svg.selectAll(n.selectorTargets(e,"."+r.chartArc)).each(function(e){n.shouldExpand(e.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(e.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(e.data.id)).attr("d",n.svgArcExpandedSub).each(function(e){n.isDonutType(e.data)})})},E.unexpandArc=function(e){var t=this;t.transiting||(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+r.chartArc)).selectAll("path").transition().duration(function(e){return t.expandDuration(e.data.id)}).attr("d",t.svgArc),t.svg.selectAll("."+r.arc))},E.expandDuration=function(e){var t=this,n=t.config;return t.isDonutType(e)?n.donut_expand_duration:t.isGaugeType(e)?n.gauge_expand_duration:t.isPieType(e)?n.pie_expand_duration:50},E.shouldExpand=function(e){var t=this,n=t.config;return t.isDonutType(e)&&n.donut_expand||t.isGaugeType(e)&&n.gauge_expand||t.isPieType(e)&&n.pie_expand},E.shouldShowArcLabel=function(){var e=this,t=e.config,n=!0;return e.hasType("donut")?n=t.donut_label_show:e.hasType("pie")&&(n=t.pie_label_show),n},E.meetsArcLabelThreshold=function(e){var t=this,n=t.config;return e>=(t.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold)},E.getArcLabelFormat=function(){var e=this,t=e.config,n=t.pie_label_format;return e.hasType("gauge")?n=t.gauge_label_format:e.hasType("donut")&&(n=t.donut_label_format),n},E.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},E.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},E.updateTargetsForArc=function(e){var t,n,i=this,o=i.main,a=i.classChartArc.bind(i),s=i.classArcs.bind(i),l=i.classFocus.bind(i);t=o.select("."+r.chartArcs).selectAll("."+r.chartArc).data(i.pie(e)).attr("class",function(e){return a(e)+l(e.data)}),n=t.enter().append("g").attr("class",a),n.append("g").attr("class",s),n.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},E.initArc=function(){var e=this;e.arcs=e.main.select("."+r.chart).append("g").attr("class",r.chartArcs).attr("transform",e.getTranslate("arc")),e.arcs.append("text").attr("class",r.chartArcsTitle).style("text-anchor","middle").text(e.getArcTitle())},E.redrawArc=function(e,t,n){var i,o=this,a=o.d3,s=o.config,l=o.main;i=l.selectAll("."+r.arcs).selectAll("."+r.arc).data(o.arcData.bind(o)),i.enter().append("path").attr("class",o.classArc.bind(o)).style("fill",function(e){return o.color(e.data)}).style("cursor",function(e){return s.interaction_enabled&&s.data_selection_isselectable(e)?"pointer":null}).each(function(e){o.isGaugeType(e.data)&&(e.startAngle=e.endAngle=s.gauge_startingAngle),this._current=e}),i.attr("transform",function(e){return!o.isGaugeType(e.data)&&n?"scale(0)":""}).on("mouseover",s.interaction_enabled?function(e){var t,n;o.transiting||(t=o.updateAngle(e))&&(n=o.convertToArcData(t),o.expandArc(t.data.id),o.api.focus(t.data.id),o.toggleFocusLegend(t.data.id,!0),o.config.data_onmouseover(n,this))}:null).on("mousemove",s.interaction_enabled?function(e){var t,n,r=o.updateAngle(e);r&&(t=o.convertToArcData(r),n=[t],o.showTooltip(n,this))}:null).on("mouseout",s.interaction_enabled?function(e){var t,n;o.transiting||(t=o.updateAngle(e))&&(n=o.convertToArcData(t),o.unexpandArc(t.data.id),o.api.revert(),o.revertLegend(),o.hideTooltip(),o.config.data_onmouseout(n,this))}:null).on("click",s.interaction_enabled?function(e,t){var n,r=o.updateAngle(e);r&&(n=o.convertToArcData(r),o.toggleShape&&o.toggleShape(this,n,t),o.config.data_onclick.call(o.api,n,this))}:null).each(function(){o.transiting=!0}).transition().duration(e).attrTween("d",function(e){var t,n=o.updateAngle(e);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),t=a.interpolate(this._current,n),this._current=t(0),function(n){var r=t(n);return r.data=e.data,o.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(e){return o.levelColor?o.levelColor(e.data.values[0].value):o.color(e.data.id)}).call(o.endall,function(){o.transiting=!1}),i.exit().transition().duration(t).style("opacity",0).remove(),l.selectAll("."+r.chartArc).select("text").style("opacity",0).attr("class",function(e){return o.isGaugeType(e.data)?r.gaugeValue:""}).text(o.textForArcLabel.bind(o)).attr("transform",o.transformForArcLabel.bind(o)).style("font-size",function(e){return o.isGaugeType(e.data)?Math.round(o.radius/5)+"px":""}).transition().duration(e).style("opacity",function(e){return o.isTargetToShow(e.data.id)&&o.isArcType(e.data)?1:0}),l.select("."+r.chartArcsTitle).style("opacity",o.hasType("donut")||o.hasType("gauge")?1:0),o.hasType("gauge")&&(o.arcs.select("."+r.chartArcsBackground).attr("d",function(){var e={data:[{value:s.gauge_max}],startAngle:s.gauge_startingAngle,endAngle:-1*s.gauge_startingAngle};return o.getArc(e,!0,!0)}),o.arcs.select("."+r.chartArcsGaugeUnit).attr("dy",".75em").text(s.gauge_label_show?s.gauge_units:""),o.arcs.select("."+r.chartArcsGaugeMin).attr("dx",-1*(o.innerRadius+(o.radius-o.innerRadius)/(s.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(s.gauge_label_show?o.textForGaugeMinMax(s.gauge_min,!1):""),o.arcs.select("."+r.chartArcsGaugeMax).attr("dx",o.innerRadius+(o.radius-o.innerRadius)/(s.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(s.gauge_label_show?o.textForGaugeMinMax(s.gauge_max,!0):""))},E.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",r.chartArcsBackground),e.append("text").attr("class",r.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",r.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",r.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},E.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},E.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},E.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},E.getCaches=function(e){var t,n=[];for(t=0;t<e.length;t++)e[t]in this.cache&&n.push(this.cloneTarget(this.cache[e[t]]));return n},E.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},E.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},E.classText=function(e){return this.generateClass(r.text,e.index)},E.classTexts=function(e){return this.generateClass(r.texts,e.id)},E.classShape=function(e){return this.generateClass(r.shape,e.index)},E.classShapes=function(e){return this.generateClass(r.shapes,e.id)},E.classLine=function(e){return this.classShape(e)+this.generateClass(r.line,e.id)},E.classLines=function(e){return this.classShapes(e)+this.generateClass(r.lines,e.id)},E.classCircle=function(e){return this.classShape(e)+this.generateClass(r.circle,e.index)},E.classCircles=function(e){return this.classShapes(e)+this.generateClass(r.circles,e.id)},E.classBar=function(e){return this.classShape(e)+this.generateClass(r.bar,e.index)},E.classBars=function(e){return this.classShapes(e)+this.generateClass(r.bars,e.id)},E.classArc=function(e){return this.classShape(e.data)+this.generateClass(r.arc,e.data.id)},E.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(r.arcs,e.data.id)},E.classArea=function(e){return this.classShape(e)+this.generateClass(r.area,e.id)},E.classAreas=function(e){return this.classShapes(e)+this.generateClass(r.areas,e.id)},E.classRegion=function(e,t){return this.generateClass(r.region,t)+" "+("class"in e?e.class:"")},E.classEvent=function(e){return this.generateClass(r.eventRect,e.index)},E.classTarget=function(e){var t=this,n=t.config.data_classes[e],i="";return n&&(i=" "+r.target+"-"+n),t.generateClass(r.target,e)+i},E.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},E.classFocused=function(e){return" "+(this.focusedTargetIds.indexOf(e.id)>=0?r.focused:"")},E.classDefocused=function(e){return" "+(this.defocusedTargetIds.indexOf(e.id)>=0?r.defocused:"")},E.classChartText=function(e){return r.chartText+this.classTarget(e.id)},E.classChartLine=function(e){return r.chartLine+this.classTarget(e.id)},E.classChartBar=function(e){return r.chartBar+this.classTarget(e.id)},E.classChartArc=function(e){return r.chartArc+this.classTarget(e.data.id)},E.getTargetSelectorSuffix=function(e){return e||0===e?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},E.selectorTarget=function(e,t){return(t||"")+"."+r.target+this.getTargetSelectorSuffix(e)},E.selectorTargets=function(e,t){var n=this;return e=e||[],e.length?e.map(function(e){return n.selectorTarget(e,t)}):null},E.selectorLegend=function(e){return"."+r.legendItem+this.getTargetSelectorSuffix(e)},E.selectorLegends=function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null},E.getClipPath=function(e){return"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+e+")"},E.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},E.getAxisClipX=function(e){var t=Math.max(30,this.margin.left);return e?-(1+t):-(t-1)},E.getAxisClipY=function(e){return e?-20:-this.margin.top},E.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},E.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},E.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},E.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},E.getAxisClipWidth=function(e){var t=this,n=Math.max(30,t.margin.left),r=Math.max(30,t.margin.right);return e?t.width+2+n+r:t.margin.left+20},E.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},E.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},E.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},E.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},E.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},E.generateColor=function(){var e=this,t=e.config,n=e.d3,r=t.data_colors,i=y(t.color_pattern)?t.color_pattern:n.scale.category10().range(),o=t.data_color,a=[];return function(e){var t,n=e.id||e.data&&e.data.id||e;return r[n]instanceof Function?t=r[n](e):r[n]?t=r[n]:(a.indexOf(n)<0&&a.push(n),t=i[a.indexOf(n)%i.length],r[n]=t),o instanceof Function?o(t,e):t}},E.generateLevelColor=function(){var e=this,t=e.config,n=t.color_pattern,r=t.color_threshold,i="value"===r.unit,o=r.values&&r.values.length?r.values:[],a=r.max||100;return y(t.color_threshold)?function(e){var t,r=n[n.length-1];for(t=0;t<o.length;t++)if((i?e:100*e/a)<o[t]){r=n[t];break}return r}:null},E.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(e,t,n,r){return this.getTooltipContent?this.getTooltipContent(e,t,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},E.additionalConfig={},E.loadConfig=function(e){function find(){var e=n.shift();return e&&t&&"object"===(void 0===t?"undefined":i(t))&&e in t?(t=t[e],find()):e?void 0:t}var t,n,r,o=this.config;Object.keys(o).forEach(function(i){t=e,n=i.split("_"),r=find(),p(r)&&(o[i]=r)})},E.convertUrlToData=function(e,t,n,r,i){var o=this,a=t||"csv",s=o.d3.xhr(e);n&&Object.keys(n).forEach(function(e){s.header(e,n[e])}),s.get(function(e,t){var n,s=t.response||t.responseText;if(!t)throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")");n="json"===a?o.convertJsonToData(JSON.parse(s),r):"tsv"===a?o.convertTsvToData(s):o.convertCsvToData(s),i.call(o,n)})},E.convertXsvToData=function(e,t){var n,r=t.parseRows(e);return 1===r.length?(n=[{}],r[0].forEach(function(e){n[0][e]=null})):n=t.parse(e),n},E.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},E.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},E.convertJsonToData=function(e,t){var n,r,i=this,o=[];return t?(t.x?(n=t.value.concat(t.x),i.config.data_x=t.x):n=t.value,o.push(n),e.forEach(function(e){var t=[];n.forEach(function(n){var r=i.findValueInJson(e,n);h(r)&&(r=null),t.push(r)}),o.push(t)}),r=i.convertRowsToData(o)):(Object.keys(e).forEach(function(t){o.push([t].concat(e[t]))}),r=i.convertColumnsToData(o)),r},E.findValueInJson=function(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split("."),r=0;r<n.length;++r){var i=n[r];if(!(i in e))return;e=e[i]}return e},E.convertRowsToData=function(e){for(var t=[],n=e[0],r=1;r<e.length;r++){for(var i={},o=0;o<e[r].length;o++){if(h(e[r][o]))throw new Error("Source data is missing a component at ("+r+","+o+")!");i[n[o]]=e[r][o]}t.push(i)}return t},E.convertColumnsToData=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n][0],i=1;i<e[n].length;i++){if(h(t[i-1])&&(t[i-1]={}),h(e[n][i]))throw new Error("Source data is missing a component at ("+n+","+i+")!");t[i-1][r]=e[n][i]}return t},E.convertDataToTargets=function(e,t){var n,r=this,i=r.config,o=r.d3.keys(e[0]).filter(r.isNotX,r),a=r.d3.keys(e[0]).filter(r.isX,r);return o.forEach(function(n){var o=r.getXKey(n);r.isCustomX()||r.isTimeSeries()?a.indexOf(o)>=0?r.data.xs[n]=(t&&r.data.xs[n]?r.data.xs[n]:[]).concat(e.map(function(e){return e[o]}).filter(l).map(function(e,t){return r.generateTargetX(e,n,t)})):i.data_x?r.data.xs[n]=r.getOtherTargetXs():y(i.data_xs)&&(r.data.xs[n]=r.getXValuesOfXKey(o,r.data.targets)):r.data.xs[n]=e.map(function(e,t){return t})}),o.forEach(function(e){if(!r.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')}),n=o.map(function(t,n){var o=i.data_idConverter(t);return{id:o,id_org:t,values:e.map(function(e,a){var s,l=r.getXKey(t),c=e[l],u=null===e[t]||isNaN(e[t])?null:+e[t];return r.isCustomX()&&r.isCategorized()&&!h(c)?(0===n&&0===a&&(i.axis_x_categories=[]),-1===(s=i.axis_x_categories.indexOf(c))&&(s=i.axis_x_categories.length,i.axis_x_categories.push(c))):s=r.generateTargetX(c,t,a),(h(e[t])||r.data.xs[t].length<=a)&&(s=void 0),{x:s,value:u,id:o}}).filter(function(e){return p(e.x)})}}),n.forEach(function(e){var t;i.data_xSort&&(e.values=e.values.sort(function(e,t){return(e.x||0===e.x?e.x:1/0)-(t.x||0===t.x?t.x:1/0)})),t=0,e.values.forEach(function(e){e.index=t++}),r.data.xs[e.id].sort(function(e,t){return e-t})}),r.hasNegativeValue=r.hasNegativeValueInTargets(n),r.hasPositiveValue=r.hasPositiveValueInTargets(n),i.data_type&&r.setTargetType(r.mapToIds(n).filter(function(e){return!(e in i.data_types)}),i.data_type),n.forEach(function(e){r.addCache(e.id_org,e)}),n},E.isX=function(e){var t=this,n=t.config;return n.data_x&&e===n.data_x||y(n.data_xs)&&b(n.data_xs,e)},E.isNotX=function(e){return!this.isX(e)},E.getXKey=function(e){var t=this,n=t.config;return n.data_x?n.data_x:y(n.data_xs)?n.data_xs[e]:null},E.getXValuesOfXKey=function(e,t){var n,r=this;return(t&&y(t)?r.mapToIds(t):[]).forEach(function(t){r.getXKey(t)===e&&(n=r.data.xs[t])}),n},E.getIndexByX=function(e){var t=this,n=t.filterByX(t.data.targets,e);return n.length?n[0].index:null},E.getXValue=function(e,t){var n=this;return e in n.data.xs&&n.data.xs[e]&&l(n.data.xs[e][t])?n.data.xs[e][t]:t},E.getOtherTargetXs=function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},E.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},E.addXs=function(e){var t=this;Object.keys(e).forEach(function(n){t.config.data_xs[n]=e[n]})},E.hasMultipleX=function(e){return this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()>1},E.isMultipleX=function(){return y(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},E.addName=function(e){var t,n=this;return e&&(t=n.config.data_names[e.id],e.name=void 0!==t?t:e.id),e},E.getValueOnIndex=function(e,t){var n=e.filter(function(e){return e.index===t});return n.length?n[0]:null},E.updateTargetX=function(e,t){var n=this;e.forEach(function(e){e.values.forEach(function(r,i){r.x=n.generateTargetX(t[i],e.id,i)}),n.data.xs[e.id]=t})},E.updateTargetXs=function(e,t){var n=this;e.forEach(function(e){t[e.id]&&n.updateTargetX([e],t[e.id])})},E.generateTargetX=function(e,t,n){var r=this;return r.isTimeSeries()?e?r.parseDate(e):r.parseDate(r.getXValue(t,n)):r.isCustomX()&&!r.isCategorized()?l(e)?+e:r.getXValue(t,n):n},E.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},E.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},E.getPrevX=function(e){var t=this.xs[e-1];return void 0!==t?t:null},E.getNextX=function(e){var t=this.xs[e+1];return void 0!==t?t:null},E.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(e){return e.values.length})},E.getMaxDataCountTarget=function(e){var t,n=e.length,r=0;return n>1?e.forEach(function(e){e.values.length>r&&(t=e,r=e.values.length)}):t=n?e[0]:null,t},E.getEdgeX=function(e){var t=this;return e.length?[t.d3.min(e,function(e){return e.values[0].x}),t.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},E.mapToIds=function(e){return e.map(function(e){return e.id})},E.mapToTargetIds=function(e){var t=this;return e?[].concat(e):t.mapToIds(t.data.targets)},E.hasTarget=function(e,t){var n,r=this.mapToIds(e);for(n=0;n<r.length;n++)if(r[n]===t)return!0;return!1},E.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},E.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},E.filterTargetsToShow=function(e){var t=this;return e.filter(function(e){return t.isTargetToShow(e.id)})},E.mapTargetsToUniqueXs=function(e){var t=this,n=t.d3.set(t.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return n=t.isTimeSeries()?n.map(function(e){return new Date(+e)}):n.map(function(e){return+e}),n.sort(function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN})},E.addHiddenTargetIds=function(e){e=e instanceof Array?e:new Array(e);for(var t=0;t<e.length;t++)this.hiddenTargetIds.indexOf(e[t])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(e[t]))},E.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},E.addHiddenLegendIds=function(e){e=e instanceof Array?e:new Array(e);for(var t=0;t<e.length;t++)this.hiddenLegendIds.indexOf(e[t])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(e[t]))},E.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},E.getValuesAsIdKeyed=function(e){var t={};return e.forEach(function(e){t[e.id]=[],e.values.forEach(function(n){t[e.id].push(n.value)})}),t},E.checkValueInTargets=function(e,t){var n,r,i,o=Object.keys(e);for(n=0;n<o.length;n++)for(i=e[o[n]].values,r=0;r<i.length;r++)if(t(i[r].value))return!0;return!1},E.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e<0})},E.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e>0})},E.isOrderDesc=function(){var e=this.config;return"string"==typeof e.data_order&&"desc"===e.data_order.toLowerCase()},E.isOrderAsc=function(){var e=this.config;return"string"==typeof e.data_order&&"asc"===e.data_order.toLowerCase()},E.getOrderFunction=function(){var e=this,t=e.config,n=e.isOrderAsc(),r=e.isOrderDesc();if(n||r)return function(e,t){var n=function(e,t){return e+Math.abs(t.value)},i=e.values.reduce(n,0),o=t.values.reduce(n,0);return r?o-i:i-o};if(c(t.data_order))return t.data_order;if(u(t.data_order)){var i=t.data_order;return function(e,t){return i.indexOf(e.id)-i.indexOf(t.id)}}},E.orderTargets=function(e){var t=this.getOrderFunction();return t&&(e.sort(t),(this.isOrderAsc()||this.isOrderDesc())&&e.reverse()),e},E.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t==0})},E.filterRemoveNull=function(e){return e.filter(function(e){return l(e.value)})},E.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},E.hasDataLabel=function(){var e=this.config;return!("boolean"!=typeof e.data_labels||!e.data_labels)||!("object"!==i(e.data_labels)||!y(e.data_labels))},E.getDataLabelLength=function(e,t,n){var r=this,i=[0,0];return r.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return r.dataLabelFormat(e.id)(e)}).each(function(e,t){i[t]=1.3*this.getBoundingClientRect()[n]}).remove(),i},E.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},E.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},E.findSameXOfValues=function(e,t){var n,r=e[t].x,i=[];for(n=t-1;n>=0&&r===e[n].x;n--)i.push(e[n]);for(n=t;n<e.length&&r===e[n].x;n++)i.push(e[n]);return i},E.findClosestFromTargets=function(e,t){var n,r=this;return n=e.map(function(e){return r.findClosest(e.values,t)}),r.findClosest(n,t)},E.findClosest=function(e,t){var n,i=this,o=i.config.point_sensitivity;return e.filter(function(e){return e&&i.isBarType(e.id)}).forEach(function(e){var t=i.main.select("."+r.bars+i.getTargetSelectorSuffix(e.id)+" ."+r.bar+"-"+e.index).node();!n&&i.isWithinBar(t)&&(n=e)}),e.filter(function(e){return e&&!i.isBarType(e.id)}).forEach(function(e){var r=i.dist(e,t);r<o&&(o=r,n=e)}),n},E.dist=function(e,t){var n=this,r=n.config,i=r.axis_rotated?1:0,o=r.axis_rotated?0:1,a=n.circleY(e,e.index),s=n.x(e.x);return Math.sqrt(Math.pow(s-t[i],2)+Math.pow(a-t[o],2))},E.convertValuesToStep=function(e){var t,n=[].concat(e);if(!this.isCategorized())return e;for(t=e.length+1;0<t;t--)n[t]=n[t-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[e.length+1]={x:n[e.length].x+1,value:n[e.length].value,id:n[e.length].id},n},E.updateDataAttributes=function(e,t){var n=this,r=n.config,i=r["data_"+e];return void 0===t?i:(Object.keys(t).forEach(function(e){i[e]=t[e]}),n.redraw({withLegend:!0}),i)},E.load=function(e,t){var n=this;e&&(t.filter&&(e=e.filter(t.filter)),(t.type||t.types)&&e.forEach(function(e){var r=t.types&&t.types[e.id]?t.types[e.id]:t.type;n.setTargetType(e.id,r)}),n.data.targets.forEach(function(t){for(var n=0;n<e.length;n++)if(t.id===e[n].id){t.values=e[n].values,e.splice(n,1);break}}),n.data.targets=n.data.targets.concat(e)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()},E.loadFromArgs=function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(n){t.load(t.convertDataToTargets(n),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},E.unload=function(e,t){var n=this;if(t||(t=function(){}),!(e=e.filter(function(e){return n.hasTarget(n.data.targets,e)}))||0===e.length)return void t();n.svg.selectAll(e.map(function(e){return n.selectorTarget(e)})).transition().style("opacity",0).remove().call(n.endall,t),e.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+r.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})},E.getYDomainMin=function(e){var t,n,r,i,o,a,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(a=s.hasNegativeValueInTargets(e),t=0;t<l.data_groups.length;t++)if(i=l.data_groups[t].filter(function(e){return c.indexOf(e)>=0}),0!==i.length)for(r=i[0],a&&u[r]&&u[r].forEach(function(e,t){u[r][t]=e<0?e:0}),n=1;n<i.length;n++)o=i[n],u[o]&&u[o].forEach(function(e,t){s.axis.getId(o)!==s.axis.getId(r)||!u[r]||a&&+e>0||(u[r][t]+=+e)});return s.d3.min(Object.keys(u).map(function(e){return s.d3.min(u[e])}))},E.getYDomainMax=function(e){var t,n,r,i,o,a,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(a=s.hasPositiveValueInTargets(e),t=0;t<l.data_groups.length;t++)if(i=l.data_groups[t].filter(function(e){return c.indexOf(e)>=0}),0!==i.length)for(r=i[0],a&&u[r]&&u[r].forEach(function(e,t){u[r][t]=e>0?e:0}),n=1;n<i.length;n++)o=i[n],u[o]&&u[o].forEach(function(e,t){s.axis.getId(o)!==s.axis.getId(r)||!u[r]||a&&+e<0||(u[r][t]+=+e)});return s.d3.max(Object.keys(u).map(function(e){return s.d3.max(u[e])}))},E.getYDomain=function(e,t,n){var r,i,o,a,s,c,u,d,h,p,m=this,f=m.config,v=e.filter(function(e){return m.axis.getId(e.id)===t}),_=n?m.filterByXDomain(v,n):v,b="y2"===t?f.axis_y2_min:f.axis_y_min,w="y2"===t?f.axis_y2_max:f.axis_y_max,x=m.getYDomainMin(_),S=m.getYDomainMax(_),C="y2"===t?f.axis_y2_center:f.axis_y_center,E=m.hasType("bar",_)&&f.bar_zerobased||m.hasType("area",_)&&f.area_zerobased,T="y2"===t?f.axis_y2_inverted:f.axis_y_inverted,M=m.hasDataLabel()&&f.axis_rotated,k=m.hasDataLabel()&&!f.axis_rotated;return x=l(b)?b:l(w)?x<w?x:w-10:x,S=l(w)?w:l(b)?b<S?S:b+10:S,0===_.length?"y2"===t?m.y2.domain():m.y.domain():(isNaN(x)&&(x=0),isNaN(S)&&(S=x),x===S&&(x<0?S=0:x=0),h=x>=0&&S>=0,p=x<=0&&S<=0,(l(b)&&h||l(w)&&p)&&(E=!1),E&&(h&&(x=0),p&&(S=0)),i=Math.abs(S-x),o=a=.1*i,void 0!==C&&(s=Math.max(Math.abs(x),Math.abs(S)),S=C+s,x=C-s),M?(c=m.getDataLabelLength(x,S,"width"),u=g(m.y.range()),d=[c[0]/u,c[1]/u],o+=i*(d[1]/(1-d[0]-d[1])),a+=i*(d[0]/(1-d[0]-d[1]))):k&&(c=m.getDataLabelLength(x,S,"height"),o+=m.axis.convertPixelsToAxisPadding(c[1],i),a+=m.axis.convertPixelsToAxisPadding(c[0],i)),"y"===t&&y(f.axis_y_padding)&&(o=m.axis.getPadding(f.axis_y_padding,"top",o,i),a=m.axis.getPadding(f.axis_y_padding,"bottom",a,i)),"y2"===t&&y(f.axis_y2_padding)&&(o=m.axis.getPadding(f.axis_y2_padding,"top",o,i),a=m.axis.getPadding(f.axis_y2_padding,"bottom",a,i)),E&&(h&&(a=x),p&&(o=-S)),r=[x-a,S+o],T?r.reverse():r)},E.getXDomainMin=function(e){var t=this,n=t.config;return p(n.axis_x_min)?t.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:t.d3.min(e,function(e){return t.d3.min(e.values,function(e){return e.x})})},E.getXDomainMax=function(e){var t=this,n=t.config;return p(n.axis_x_max)?t.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:t.d3.max(e,function(e){return t.d3.max(e.values,function(e){return e.x})})},E.getXDomainPadding=function(e){var t,n,r,o,a=this,s=a.config,c=e[1]-e[0];return a.isCategorized()?n=0:a.hasType("bar")?(t=a.getMaxDataCount(),n=t>1?c/(t-1)/2:.5):n=.01*c,"object"===i(s.axis_x_padding)&&y(s.axis_x_padding)?(r=l(s.axis_x_padding.left)?s.axis_x_padding.left:n,o=l(s.axis_x_padding.right)?s.axis_x_padding.right:n):r=o="number"==typeof s.axis_x_padding?s.axis_x_padding:n,{left:r,right:o}},E.getXDomain=function(e){var t=this,n=[t.getXDomainMin(e),t.getXDomainMax(e)],r=n[0],i=n[1],o=t.getXDomainPadding(n),a=0,s=0;return r-i!=0||t.isCategorized()||(t.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(a=t.isTimeSeries()?new Date(r.getTime()-o.left):r-o.left),(i||0===i)&&(s=t.isTimeSeries()?new Date(i.getTime()+o.right):i+o.right),[a,s]},E.updateXDomain=function(e,t,n,r,i){var o=this,a=o.config;return n&&(o.x.domain(i||o.d3.extent(o.getXDomain(e))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),t&&(o.x.domain(i||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),r&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},E.trimXDomain=function(e){var t=this.getZoomDomain(),n=t[0],r=t[1];return e[0]<=n&&(e[1]=+e[1]+(n-e[0]),e[0]=n),r<=e[1]&&(e[0]=+e[0]-(e[1]-r),e[1]=r),e},E.drag=function(e){var t,n,i,o,a,s,l,c,u=this,d=u.config,h=u.main,p=u.d3;u.hasArcType()||d.data_selection_enabled&&(d.zoom_enabled&&!u.zoom.altDomain||d.data_selection_multiple&&(t=u.dragStart[0],n=u.dragStart[1],i=e[0],o=e[1],a=Math.min(t,i),s=Math.max(t,i),l=d.data_selection_grouped?u.margin.top:Math.min(n,o),c=d.data_selection_grouped?u.height:Math.max(n,o),h.select("."+r.dragarea).attr("x",a).attr("y",l).attr("width",s-a).attr("height",c-l),h.selectAll("."+r.shapes).selectAll("."+r.shape).filter(function(e){return d.data_selection_isselectable(e)}).each(function(e,t){var n,i,o,d,h,m,f=p.select(this),g=f.classed(r.SELECTED),v=f.classed(r.INCLUDED),y=!1;if(f.classed(r.circle))n=1*f.attr("cx"),i=1*f.attr("cy"),h=u.togglePoint,y=a<n&&n<s&&l<i&&i<c;else{if(!f.classed(r.bar))return;m=x(this),n=m.x,i=m.y,o=m.width,d=m.height,h=u.togglePath,y=!(s<n||n+o<a||c<i||i+d<l)}y^v&&(f.classed(r.INCLUDED,!v),f.classed(r.SELECTED,!g),h.call(u,!g,f,e,t))})))},E.dragstart=function(e){var t=this,n=t.config;t.hasArcType()||n.data_selection_enabled&&(t.dragStart=e,t.main.select("."+r.chart).append("rect").attr("class",r.dragarea).style("opacity",.1),t.dragging=!0)},E.dragend=function(){var e=this,t=e.config;e.hasArcType()||t.data_selection_enabled&&(e.main.select("."+r.dragarea).transition().duration(100).style("opacity",0).remove(),e.main.selectAll("."+r.shape).classed(r.INCLUDED,!1),e.dragging=!1)},E.getYFormat=function(e){var t=this,n=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.yFormat,r=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.y2Format;return function(e,i,o){return("y2"===t.axis.getId(o)?r:n).call(t,e,i)}},E.yFormat=function(e){var t=this,n=t.config;return(n.axis_y_tick_format?n.axis_y_tick_format:t.defaultValueFormat)(e)},E.y2Format=function(e){var t=this,n=t.config;return(n.axis_y2_tick_format?n.axis_y2_tick_format:t.defaultValueFormat)(e)},E.defaultValueFormat=function(e){return l(e)?+e:""},E.defaultArcValueFormat=function(e,t){return(100*t).toFixed(1)+"%"},E.dataLabelFormat=function(e){var t=this,n=t.config.data_labels,r=function(e){return l(e)?+e:""};return"function"==typeof n.format?n.format:"object"===i(n.format)?n.format[e]?!0===n.format[e]?r:n.format[e]:function(){return""}:r},E.initGrid=function(){var e=this,t=e.config,n=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",r.grid),t.grid_x_show&&e.grid.append("g").attr("class",r.xgrids),t.grid_y_show&&e.grid.append("g").attr("class",r.ygrids),t.grid_focus_show&&e.grid.append("g").attr("class",r.xgridFocus).append("line").attr("class",r.xgridFocus),e.xgrid=n.selectAll([]),t.grid_lines_front||e.initGridLines()},E.initGridLines=function(){var e=this,t=e.d3;e.gridLines=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",r.grid+" "+r.gridLines),e.gridLines.append("g").attr("class",r.xgridLines),e.gridLines.append("g").attr("class",r.ygridLines),e.xgridLines=t.selectAll([])},E.updateXGrid=function(e){var t=this,n=t.config,i=t.d3,o=t.generateGridData(n.grid_x_type,t.x),a=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=n.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-a},y2:function(e){return t.x(e)-a}}:{x1:function(e){return t.x(e)+a},x2:function(e){return t.x(e)+a},y1:0,y2:t.height},t.xgrid=t.main.select("."+r.xgrids).selectAll("."+r.xgrid).data(o),t.xgrid.enter().append("line").attr("class",r.xgrid),e||t.xgrid.attr(t.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?t.height:0)?0:1}),t.xgrid.exit().remove()},E.updateYGrid=function(){var e=this,t=e.config,n=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select("."+r.ygrids).selectAll("."+r.ygrid).data(n),e.ygrid.enter().append("line").attr("class",r.ygrid),e.ygrid.attr("x1",t.axis_rotated?e.y:0).attr("x2",t.axis_rotated?e.y:e.width).attr("y1",t.axis_rotated?0:e.y).attr("y2",t.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},E.gridTextAnchor=function(e){return e.position?e.position:"end"},E.gridTextDx=function(e){return"start"===e.position?4:"middle"===e.position?0:-4},E.xGridTextX=function(e){return"start"===e.position?-this.height:"middle"===e.position?-this.height/2:0},E.yGridTextX=function(e){return"start"===e.position?0:"middle"===e.position?this.width/2:this.width},E.updateGrid=function(e){var t,n,i,o=this,a=o.main,s=o.config;o.grid.style("visibility",o.hasArcType()?"hidden":"visible"),a.select("line."+r.xgridFocus).style("visibility","hidden"),s.grid_x_show&&o.updateXGrid(),o.xgridLines=a.select("."+r.xgridLines).selectAll("."+r.xgridLine).data(s.grid_x_lines),t=o.xgridLines.enter().append("g").attr("class",function(e){return r.xgridLine+(e.class?" "+e.class:"")}),t.append("line").style("opacity",0),t.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.xgridLines.exit().transition().duration(e).style("opacity",0).remove(),s.grid_y_show&&o.updateYGrid(),o.ygridLines=a.select("."+r.ygridLines).selectAll("."+r.ygridLine).data(s.grid_y_lines),n=o.ygridLines.enter().append("g").attr("class",function(e){return r.ygridLine+(e.class?" "+e.class:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),i=o.yv.bind(o),o.ygridLines.select("line").transition().duration(e).attr("x1",s.axis_rotated?i:0).attr("x2",s.axis_rotated?i:o.width).attr("y1",s.axis_rotated?0:i).attr("y2",s.axis_rotated?o.height:i).style("opacity",1),o.ygridLines.select("text").transition().duration(e).attr("x",s.axis_rotated?o.xGridTextX.bind(o):o.yGridTextX.bind(o)).attr("y",i).text(function(e){return e.text}).style("opacity",1),o.ygridLines.exit().transition().duration(e).style("opacity",0).remove()},E.redrawGrid=function(e){var t=this,n=t.config,r=t.xv.bind(t),i=t.xgridLines.select("line"),o=t.xgridLines.select("text");return[(e?i.transition():i).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?t.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:t.height).style("opacity",1),(e?o.transition():o).attr("x",n.axis_rotated?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr("y",r).text(function(e){return e.text}).style("opacity",1)]},E.showXGridFocus=function(e){var t=this,n=t.config,i=e.filter(function(e){return e&&l(e.value)}),o=t.main.selectAll("line."+r.xgridFocus),a=t.xx.bind(t);n.tooltip_show&&(t.hasType("scatter")||t.hasArcType()||(o.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",a).attr(n.axis_rotated?"y2":"x2",a),t.smoothLines(o,"grid")))},E.hideXGridFocus=function(){this.main.select("line."+r.xgridFocus).style("visibility","hidden")},E.updateXgridFocus=function(){var e=this,t=e.config;e.main.select("line."+r.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?e.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:e.height)},E.generateGridData=function(e,t){var n,i,o,a,s=this,l=[],c=s.main.select("."+r.axisX).selectAll(".tick").size();if("year"===e)for(n=s.getXDomain(),i=n[0].getFullYear(),o=n[1].getFullYear(),a=i;a<=o;a++)l.push(new Date(a+"-01-01 00:00:00"));else l=t.ticks(10),l.length>c&&(l=l.filter(function(e){return(""+e).indexOf(".")<0}));return l},E.getGridFilterToRemove=function(e){return e?function(t){var n=!1;return[].concat(e).forEach(function(e){("value"in e&&t.value===e.value||"class"in e&&t.class===e.class)&&(n=!0)}),n}:function(){return!0}},E.removeGridLines=function(e,t){var n=this,i=n.config,o=n.getGridFilterToRemove(e),a=function(e){return!o(e)},s=t?r.xgridLines:r.ygridLines,l=t?r.xgridLine:r.ygridLine;n.main.select("."+s).selectAll("."+l).filter(o).transition().duration(i.transition_duration).style("opacity",0).remove(),t?i.grid_x_lines=i.grid_x_lines.filter(a):i.grid_y_lines=i.grid_y_lines.filter(a)},E.initEventRect=function(){this.main.select("."+r.chart).append("g").attr("class",r.eventRects).style("fill-opacity",0)},E.redrawEventRect=function(){var e,t,n=this,i=n.config,o=n.isMultipleX(),a=n.main.select("."+r.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(r.eventRectsMultiple,o).classed(r.eventRectsSingle,!o);a.selectAll("."+r.eventRect).remove(),n.eventRect=a.selectAll("."+r.eventRect),o?(e=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(e.enter()),n.updateEventRect(e)):(t=n.getMaxDataCountTarget(n.data.targets),a.datum(t?t.values:[]),n.eventRect=a.selectAll("."+r.eventRect),e=n.eventRect.data(function(e){return e}),n.generateEventRectsForSingleX(e.enter()),n.updateEventRect(e),e.exit().remove())},E.updateEventRect=function(e){var t,n,r,i,o,a,s=this,l=s.config;e=e||s.eventRect.data(function(e){return e}),s.isMultipleX()?(t=0,n=0,r=s.width,i=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(e){return s.x(e.x)-o/2}):(s.updateXs(),o=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index);return null===t&&null===n?l.axis_rotated?s.height:s.width:(null===t&&(t=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(t))/2))},a=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index),r=s.data.xs[e.id][e.index];return null===t&&null===n?0:(null===t&&(t=s.x.domain()[0]),(s.x(r)+s.x(t))/2)}),t=l.axis_rotated?0:a,n=l.axis_rotated?a:0,r=l.axis_rotated?s.width:o,i=l.axis_rotated?o:s.height),e.attr("class",s.classEvent.bind(s)).attr("x",t).attr("y",n).attr("width",r).attr("height",i)},E.generateEventRectsForSingleX=function(e){var t=this,n=t.d3,i=t.config;e.append("rect").attr("class",t.classEvent.bind(t)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("mouseover",function(e){var n=e.index;t.dragging||t.flowing||t.hasArcType()||(i.point_focus_expand_enabled&&t.expandCircles(n,null,!0),t.expandBars(n,null,!0),t.main.selectAll("."+r.shape+"-"+n).each(function(e){i.data_onmouseover.call(t.api,e)}))}).on("mouseout",function(e){var n=e.index;t.config&&(t.hasArcType()||(t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars(),t.main.selectAll("."+r.shape+"-"+n).each(function(e){i.data_onmouseout.call(t.api,e)})))}).on("mousemove",function(e){var o,a=e.index,s=t.svg.select("."+r.eventRect+"-"+a);t.dragging||t.flowing||t.hasArcType()||(t.isStepType(e)&&"step-after"===t.config.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,a))&&(a-=1),o=t.filterTargetsToShow(t.data.targets).map(function(e){return t.addName(t.getValueOnIndex(e.values,a))}),i.tooltip_grouped&&(t.showTooltip(o,this),t.showXGridFocus(o)),(!i.tooltip_grouped||i.data_selection_enabled&&!i.data_selection_grouped)&&t.main.selectAll("."+r.shape+"-"+a).each(function(){n.select(this).classed(r.EXPANDED,!0),i.data_selection_enabled&&s.style("cursor",i.data_selection_grouped?"pointer":null),i.tooltip_grouped||(t.hideXGridFocus(),t.hideTooltip(),i.data_selection_grouped||(t.unexpandCircles(a),t.unexpandBars(a)))}).filter(function(e){return t.isWithinShape(this,e)}).each(function(e){i.data_selection_enabled&&(i.data_selection_grouped||i.data_selection_isselectable(e))&&s.style("cursor","pointer"),i.tooltip_grouped||(t.showTooltip([e],this),t.showXGridFocus([e]),i.point_focus_expand_enabled&&t.expandCircles(a,e.id,!0),t.expandBars(a,e.id,!0))}))}).on("click",function(e){var o=e.index;if(!t.hasArcType()&&t.toggleShape){if(t.cancelClick)return void(t.cancelClick=!1);t.isStepType(e)&&"step-after"===i.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,o))&&(o-=1),t.main.selectAll("."+r.shape+"-"+o).each(function(e){(i.data_selection_grouped||t.isWithinShape(this,e))&&(t.toggleShape(this,e,o),t.config.data_onclick.call(t.api,e,this))})}}).call(i.data_selection_draggable&&t.drag?n.behavior.drag().origin(Object).on("drag",function(){t.drag(n.mouse(this))}).on("dragstart",function(){t.dragstart(n.mouse(this))}).on("dragend",function(){t.dragend()}):function(){})},E.generateEventRectsForMultipleXs=function(e){function mouseout(){t.svg.select("."+r.eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()}var t=this,n=t.d3,i=t.config;e.append("rect").attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).attr("class",r.eventRect).on("mouseout",function(){t.config&&(t.hasArcType()||mouseout())}).on("mousemove",function(){var e,o,a,s,l=t.filterTargetsToShow(t.data.targets);if(!t.dragging&&!t.hasArcType(l)){if(e=n.mouse(this),o=t.findClosestFromTargets(l,e),!t.mouseover||o&&o.id===t.mouseover.id||(i.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),!o)return void mouseout();a=t.isScatterType(o)||!i.tooltip_grouped?[o]:t.filterByX(l,o.x),s=a.map(function(e){return t.addName(e)}),t.showTooltip(s,this),i.point_focus_expand_enabled&&t.expandCircles(o.index,o.id,!0),t.expandBars(o.index,o.id,!0),t.showXGridFocus(s),(t.isBarType(o.id)||t.dist(o,e)<i.point_sensitivity)&&(t.svg.select("."+r.eventRect).style("cursor","pointer"),t.mouseover||(i.data_onmouseover.call(t.api,o),t.mouseover=o))}}).on("click",function(){var e,o,a=t.filterTargetsToShow(t.data.targets);t.hasArcType(a)||(e=n.mouse(this),(o=t.findClosestFromTargets(a,e))&&(t.isBarType(o.id)||t.dist(o,e)<i.point_sensitivity)&&t.main.selectAll("."+r.shapes+t.getTargetSelectorSuffix(o.id)).selectAll("."+r.shape+"-"+o.index).each(function(){(i.data_selection_grouped||t.isWithinShape(this,o))&&(t.toggleShape(this,o,o.index),t.config.data_onclick.call(t.api,o,this))}))}).call(i.data_selection_draggable&&t.drag?n.behavior.drag().origin(Object).on("drag",function(){t.drag(n.mouse(this))}).on("dragstart",function(){t.dragstart(n.mouse(this))}).on("dragend",function(){t.dragend()}):function(){})},E.dispatchEvent=function(e,t,n){var i=this,o="."+r.eventRect+(i.isMultipleX()?"":"-"+t),a=i.main.select(o).node(),s=a.getBoundingClientRect(),l=s.left+(n?n[0]:0),c=s.top+(n?n[1]:0),u=document.createEvent("MouseEvents");u.initMouseEvent(e,!0,!0,window,0,l,c,l,c,!1,!1,!1,!1,0,null),a.dispatchEvent(u)},E.initLegend=function(){var e=this;if(e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),!e.config.legend_show)return e.legend.style("visibility","hidden"),void(e.hiddenLegendIds=e.mapToIds(e.data.targets));e.updateLegendWithDefaults()},E.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},E.updateSizeForLegend=function(e,t){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-e-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-t-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-e,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-t:n.isLegendInset?i.left:0}},E.transformLegend=function(e){var t=this;(e?t.legend.transition():t.legend).attr("transform",t.getTranslate("legend"))},E.updateLegendStep=function(e){this.legendStep=e},E.updateLegendItemWidth=function(e){this.legendItemWidth=e},E.updateLegendItemHeight=function(e){this.legendItemHeight=e},E.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},E.getLegendHeight=function(){var e=this,t=0;return e.config.legend_show&&(t=e.isLegendRight?e.currentHeight:Math.max(20,e.legendItemHeight)*(e.legendStep+1)),t},E.opacityForLegend=function(e){return e.classed(r.legendItemHidden)?null:1},E.opacityForUnfocusedLegend=function(e){return e.classed(r.legendItemHidden)?null:.3},E.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+r.legendItem).filter(function(t){return e.indexOf(t)>=0}).classed(r.legendItemFocused,t).transition().duration(100).style("opacity",function(){return(t?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},E.revertLegend=function(){var e=this,t=e.d3;e.legend.selectAll("."+r.legendItem).classed(r.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(t.select(this))})},E.showLegend=function(e){var t=this,n=t.config;n.legend_show||(n.legend_show=!0,t.legend.style("visibility","visible"),t.legendHasRendered||t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},E.hideLegend=function(e){var t=this,n=t.config;n.legend_show&&v(e)&&(n.legend_show=!1,t.legend.style("visibility","hidden")),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},E.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},E.updateLegend=function(e,t,n){function getTextBox(e,t){return x.legendItemTextBox[t]||(x.legendItemTextBox[t]=x.getTextRect(e.textContent,r.legendItem,e)),x.legendItemTextBox[t]}function updatePositions(t,n,r){function updateValues(e,t){t||(i=(h-D-d)/2)<k&&(i=(h-d)/2,D=0,I++),O[e]=I,R[I]=x.isLegendInset?10:i,$[e]=D,D+=d}var i,o,a=0===r,s=r===e.length-1,l=getTextBox(t,n),c=l.width+A+(!s||x.isLegendRight||x.isLegendInset?E:0)+S.legend_padding,u=l.height+C,d=x.isLegendRight||x.isLegendInset?u:c,h=x.isLegendRight||x.isLegendInset?x.getLegendHeight():x.getLegendWidth();if(a&&(D=0,I=0,T=0,M=0),S.legend_show&&!x.isLegendToShow(n))return void(P[n]=L[n]=O[n]=$[n]=0);P[n]=c,L[n]=u,(!T||c>=T)&&(T=c),(!M||u>=M)&&(M=u),o=x.isLegendRight||x.isLegendInset?M:T,S.legend_equally?(Object.keys(P).forEach(function(e){P[e]=T}),Object.keys(L).forEach(function(e){L[e]=M}),i=(h-o*e.length)/2,i<k?(D=0,I=0,e.forEach(function(e){updateValues(e)})):updateValues(n,!0)):updateValues(n)}var i,o,a,s,l,c,u,d,h,m,f,g,v,y,b,w,x=this,S=x.config,C=4,E=10,T=0,M=0,k=10,A=S.legend_item_tile_width+5,D=0,$={},P={},L={},R=[0],O={},I=0;e=e.filter(function(e){return!p(S.data_names[e])||null!==S.data_names[e]}),t=t||{},f=_(t,"withTransition",!0),g=_(t,"withTransitionForTransform",!0),x.isLegendInset&&(I=S.legend_inset_step?S.legend_inset_step:e.length,x.updateLegendStep(I)),x.isLegendRight?(i=function(e){return T*O[e]},s=function(e){return R[O[e]]+$[e]}):x.isLegendInset?(i=function(e){return T*O[e]+10},s=function(e){return R[O[e]]+$[e]}):(i=function(e){return R[O[e]]+$[e]},s=function(e){return M*O[e]}),o=function(e,t){return i(e,t)+4+S.legend_item_tile_width},l=function(e,t){return s(e,t)+9},a=function(e,t){return i(e,t)},c=function(e,t){return s(e,t)-5},u=function(e,t){return i(e,t)-2},d=function(e,t){return i(e,t)-2+S.legend_item_tile_width},h=function(e,t){return s(e,t)+4},m=x.legend.selectAll("."+r.legendItem).data(e).enter().append("g").attr("class",function(e){return x.generateClass(r.legendItem,e)}).style("visibility",function(e){return x.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){S.legend_item_onclick?S.legend_item_onclick.call(x,e):x.d3.event.altKey?(x.api.hide(),x.api.show(e)):(x.api.toggle(e),x.isTargetToShow(e)?x.api.focus(e):x.api.revert())}).on("mouseover",function(e){S.legend_item_onmouseover?S.legend_item_onmouseover.call(x,e):(x.d3.select(this).classed(r.legendItemFocused,!0),!x.transiting&&x.isTargetToShow(e)&&x.api.focus(e))}).on("mouseout",function(e){S.legend_item_onmouseout?S.legend_item_onmouseout.call(x,e):(x.d3.select(this).classed(r.legendItemFocused,!1),x.api.revert())}),m.append("text").text(function(e){return p(S.data_names[e])?S.data_names[e]:e}).each(function(e,t){updatePositions(this,e,t)}).style("pointer-events","none").attr("x",x.isLegendRight||x.isLegendInset?o:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:l),m.append("rect").attr("class",r.legendItemEvent).style("fill-opacity",0).attr("x",x.isLegendRight||x.isLegendInset?a:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:c),m.append("line").attr("class",r.legendItemTile).style("stroke",x.color).style("pointer-events","none").attr("x1",x.isLegendRight||x.isLegendInset?u:-200).attr("y1",x.isLegendRight||x.isLegendInset?-200:h).attr("x2",x.isLegendRight||x.isLegendInset?d:-200).attr("y2",x.isLegendRight||x.isLegendInset?-200:h).attr("stroke-width",S.legend_item_tile_height),w=x.legend.select("."+r.legendBackground+" rect"),x.isLegendInset&&T>0&&0===w.size()&&(w=x.legend.insert("g","."+r.legendItem).attr("class",r.legendBackground).append("rect")),v=x.legend.selectAll("text").data(e).text(function(e){return p(S.data_names[e])?S.data_names[e]:e}).each(function(e,t){updatePositions(this,e,t)}),(f?v.transition():v).attr("x",o).attr("y",l),y=x.legend.selectAll("rect."+r.legendItemEvent).data(e),(f?y.transition():y).attr("width",function(e){return P[e]}).attr("height",function(e){return L[e]}).attr("x",a).attr("y",c),b=x.legend.selectAll("line."+r.legendItemTile).data(e),(f?b.transition():b).style("stroke",x.color).attr("x1",u).attr("y1",h).attr("x2",d).attr("y2",h),w&&(f?w.transition():w).attr("height",x.getLegendHeight()-12).attr("width",T*(I+1)+10),x.legend.selectAll("."+r.legendItem).classed(r.legendItemHidden,function(e){return!x.isTargetToShow(e)}),x.updateLegendItemWidth(T),x.updateLegendItemHeight(M),x.updateLegendStep(I),x.updateSizes(),x.updateScales(),x.updateSvgSize(),x.transformAll(g,n),x.legendHasRendered=!0},E.initRegion=function(){var e=this;e.region=e.main.append("g").attr("clip-path",e.clipPath).attr("class",r.regions)},E.updateRegion=function(e){var t=this,n=t.config;t.region.style("visibility",t.hasArcType()?"hidden":"visible"),t.mainRegion=t.main.select("."+r.regions).selectAll("."+r.region).data(n.regions),t.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),t.mainRegion.attr("class",t.classRegion.bind(t)),t.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},E.redrawRegion=function(e){var t=this,n=t.mainRegion.selectAll("rect").each(function(){var e=t.d3.select(this.parentNode).datum();t.d3.select(this).datum(e)}),r=t.regionX.bind(t),i=t.regionY.bind(t),o=t.regionWidth.bind(t),a=t.regionHeight.bind(t);return[(e?n.transition():n).attr("x",r).attr("y",i).attr("width",o).attr("height",a).style("fill-opacity",function(e){return l(e.opacity)?e.opacity:.1})]},E.regionX=function(e){var t=this,n=t.config,r="y"===e.axis?t.y:t.y2;return"y"===e.axis||"y2"===e.axis?n.axis_rotated&&"start"in e?r(e.start):0:n.axis_rotated?0:"start"in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0},E.regionY=function(e){var t=this,n=t.config,r="y"===e.axis?t.y:t.y2;return"y"===e.axis||"y2"===e.axis?n.axis_rotated?0:"end"in e?r(e.end):0:n.axis_rotated&&"start"in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0},E.regionWidth=function(e){var t,n=this,r=n.config,i=n.regionX(e),o="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated&&"end"in e?o(e.end):n.width:r.axis_rotated?n.width:"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.width,t<i?0:t-i},E.regionHeight=function(e){var t,n=this,r=n.config,i=this.regionY(e),o="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?n.height:"start"in e?o(e.start):n.height:r.axis_rotated&&"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.height,t<i?0:t-i},E.isRegionOnX=function(e){return!e.axis||"x"===e.axis},E.getScale=function(e,t,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},E.getX=function(e,t,n,r){var i,o=this,a=o.getScale(e,t,o.isTimeSeries()),s=n?a.domain(n):a;o.isCategorized()?(r=r||function(){return 0},a=function(e,t){var n=s(e)+r(e);return t?n:Math.ceil(n)}):a=function(e,t){var n=s(e);return t?n:Math.ceil(n)};for(i in s)a[i]=s[i];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(e){return arguments.length?(s.domain(e),a):(e=this.orgDomain(),[e[0],e[1]+1])}),a},E.getY=function(e,t,n){var r=this.getScale(e,t,this.isTimeSeriesY());return n&&r.domain(n),r},E.getYScale=function(e){return"y2"===this.axis.getId(e)?this.y2:this.y},E.getSubYScale=function(e){return"y2"===this.axis.getId(e)?this.subY2:this.subY},E.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},E.selectPoint=function(e,t,n){var i=this,o=i.config,a=(o.axis_rotated?i.circleY:i.circleX).bind(i),s=(o.axis_rotated?i.circleX:i.circleY).bind(i),l=i.pointSelectR.bind(i);o.data_onselected.call(i.api,t,e.node()),i.main.select("."+r.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+r.selectedCircle+"-"+n).data([t]).enter().append("circle").attr("class",function(){return i.generateClass(r.selectedCircle,n)}).attr("cx",a).attr("cy",s).attr("stroke",function(){return i.color(t)}).attr("r",function(e){return 1.4*i.pointSelectR(e)}).transition().duration(100).attr("r",l)},E.unselectPoint=function(e,t,n){var i=this;i.config.data_onunselected.call(i.api,t,e.node()),i.main.select("."+r.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+r.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},E.togglePoint=function(e,t,n,r){e?this.selectPoint(t,n,r):this.unselectPoint(t,n,r)},E.selectPath=function(e,t){var n=this;n.config.data_onselected.call(n,t,e.node()),n.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(t)).brighter(.75)})},E.unselectPath=function(e,t){var n=this;n.config.data_onunselected.call(n,t,e.node()),n.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return n.color(t)})},E.togglePath=function(e,t,n,r){e?this.selectPath(t,n,r):this.unselectPath(t,n,r)},E.getToggle=function(e,t){var n,r=this;return"circle"===e.nodeName?n=r.isStepType(t)?function(){}:r.togglePoint:"path"===e.nodeName&&(n=r.togglePath),n},E.toggleShape=function(e,t,n){var i=this,o=i.d3,a=i.config,s=o.select(e),l=s.classed(r.SELECTED),c=i.getToggle(e,t).bind(i);a.data_selection_enabled&&a.data_selection_isselectable(t)&&(a.data_selection_multiple||i.main.selectAll("."+r.shapes+(a.data_selection_grouped?i.getTargetSelectorSuffix(t.id):"")).selectAll("."+r.shape).each(function(e,t){var n=o.select(this);n.classed(r.SELECTED)&&c(!1,n.classed(r.SELECTED,!1),e,t)}),s.classed(r.SELECTED,!l),c(!l,s,t,n))},E.initBar=function(){this.main.select("."+r.chart).append("g").attr("class",r.chartBars)},E.updateTargetsForBar=function(e){var t,n,i=this,o=i.config,a=i.classChartBar.bind(i),s=i.classBars.bind(i),l=i.classFocus.bind(i);t=i.main.select("."+r.chartBars).selectAll("."+r.chartBar).data(e).attr("class",function(e){return a(e)+l(e)}),n=t.enter().append("g").attr("class",a).style("pointer-events","none"),n.append("g").attr("class",s).style("cursor",function(e){return o.data_selection_isselectable(e)?"pointer":null})},E.updateBar=function(e){var t=this,n=t.barData.bind(t),i=t.classBar.bind(t),o=t.initialOpacity.bind(t),a=function(e){return t.color(e.id)};t.mainBar=t.main.selectAll("."+r.bars).selectAll("."+r.bar).data(n),t.mainBar.enter().append("path").attr("class",i).style("stroke",a).style("fill",a),t.mainBar.style("opacity",o),t.mainBar.exit().transition().duration(e).remove()},E.redrawBar=function(e,t){return[(t?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",e).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},E.getBarW=function(e,t){var n=this,r=n.config,i="number"==typeof r.bar_width?r.bar_width:t?e.tickInterval()*r.bar_width_ratio/t:0;return r.bar_width_max&&i>r.bar_width_max?r.bar_width_max:i},E.getBars=function(e,t){var n=this;return(t?n.main.selectAll("."+r.bars+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+r.bar+(l(e)?"-"+e:""))},E.expandBars=function(e,t,n){var i=this;n&&i.unexpandBars(),i.getBars(e,t).classed(r.EXPANDED,!0)},E.unexpandBars=function(e){this.getBars(e).classed(r.EXPANDED,!1)},E.generateDrawBar=function(e,t){var n=this,r=n.config,i=n.generateGetBarPoints(e,t);return function(e,t){var n=i(e,t),o=r.axis_rotated?1:0,a=r.axis_rotated?0:1;return"M "+n[0][o]+","+n[0][a]+" L"+n[1][o]+","+n[1][a]+" L"+n[2][o]+","+n[2][a]+" L"+n[3][o]+","+n[3][a]+" z"}},E.generateGetBarPoints=function(e,t){var n=this,r=t?n.subXAxis:n.xAxis,i=e.__max__+1,o=n.getBarW(r,i),a=n.getShapeX(o,i,e,!!t),s=n.getShapeY(!!t),l=n.getShapeOffset(n.isBarType,e,!!t),c=o*(n.config.bar_space/2),u=t?n.getSubYScale:n.getYScale;return function(e,t){var r=u.call(n,e.id)(0),i=l(e,t)||r,d=a(e),h=s(e);return n.config.axis_rotated&&(0<e.value&&h<r||e.value<0&&r<h)&&(h=r),[[d+c,i],[d+c,h-(r-i)],[d+o-c,h-(r-i)],[d+o-c,i]]}},E.isWithinBar=function(e){var t=this.d3.mouse(e),n=e.getBoundingClientRect(),r=e.pathSegList.getItem(0),i=e.pathSegList.getItem(1),o=Math.min(r.x,i.x),a=Math.min(r.y,i.y),s=n.width,l=n.height,c=o-2,u=o+s+2,d=a+l+2,h=a-2;return c<t[0]&&t[0]<u&&h<t[1]&&t[1]<d},E.getShapeIndices=function(e){var t,n,r=this,i=r.config,o={},a=0;return r.filterTargetsToShow(r.data.targets.filter(e,r)).forEach(function(e){for(t=0;t<i.data_groups.length;t++)if(!(i.data_groups[t].indexOf(e.id)<0))for(n=0;n<i.data_groups[t].length;n++)if(i.data_groups[t][n]in o){o[e.id]=o[i.data_groups[t][n]];break}h(o[e.id])&&(o[e.id]=a++)}),o.__max__=a-1,o},E.getShapeX=function(e,t,n,r){var i=this,o=r?i.subX:i.x;return function(r){var i=r.id in n?n[r.id]:0;return r.x||0===r.x?o(r.x)-e*(t/2-i):0}},E.getShapeY=function(e){var t=this;return function(n){return(e?t.getSubYScale(n.id):t.getYScale(n.id))(n.value)}},E.getShapeOffset=function(e,t,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(e,r))),o=i.map(function(e){return e.id});return function(e,a){var s=n?r.getSubYScale(e.id):r.getYScale(e.id),l=s(0),c=l;return i.forEach(function(n){var i=r.isStepType(e)?r.convertValuesToStep(n.values):n.values;n.id!==e.id&&t[n.id]===t[e.id]&&o.indexOf(n.id)<o.indexOf(e.id)&&(void 0!==i[a]&&+i[a].x==+e.x||(a=-1,i.forEach(function(t,n){t.x===e.x&&(a=n)})),a in i&&i[a].value*e.value>=0&&(c+=s(i[a].value)-l))}),c}},E.isWithinShape=function(e,t){var n,i=this,o=i.d3.select(e);return i.isTargetToShow(t.id)?"circle"===e.nodeName?n=i.isStepType(t)?i.isWithinStep(e,i.getYScale(t.id)(t.value)):i.isWithinCircle(e,1.5*i.pointSelectR(t)):"path"===e.nodeName&&(n=!o.classed(r.bar)||i.isWithinBar(e)):n=!1,n},E.getInterpolate=function(e){var t=this,n=t.isInterpolationType(t.config.spline_interpolation_type)?t.config.spline_interpolation_type:"cardinal";return t.isSplineType(e)?n:t.isStepType(e)?t.config.line_step_type:"linear"},E.initLine=function(){this.main.select("."+r.chart).append("g").attr("class",r.chartLines)},E.updateTargetsForLine=function(e){var t,n,i=this,o=i.config,a=i.classChartLine.bind(i),s=i.classLines.bind(i),l=i.classAreas.bind(i),c=i.classCircles.bind(i),u=i.classFocus.bind(i);t=i.main.select("."+r.chartLines).selectAll("."+r.chartLine).data(e).attr("class",function(e){return a(e)+u(e)}),n=t.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",s),n.append("g").attr("class",l),n.append("g").attr("class",function(e){return i.generateClass(r.selectedCircles,e.id)}),n.append("g").attr("class",c).style("cursor",function(e){return o.data_selection_isselectable(e)?"pointer":null}),e.forEach(function(e){i.main.selectAll("."+r.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+r.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},E.updateLine=function(e){var t=this;t.mainLine=t.main.selectAll("."+r.lines).selectAll("."+r.line).data(t.lineData.bind(t)),t.mainLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.mainLine.style("opacity",t.initialOpacity.bind(t)).style("shape-rendering",function(e){return t.isStepType(e)?"crispEdges":""}).attr("transform",null),t.mainLine.exit().transition().duration(e).style("opacity",0).remove()},E.redrawLine=function(e,t){return[(t?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},E.generateDrawLine=function(e,t){var n=this,r=n.config,i=n.d3.svg.line(),o=n.generateGetLinePoints(e,t),a=t?n.getSubYScale:n.getYScale,s=function(e){return(t?n.subxx:n.xx).call(n,e)},l=function(e,t){return r.data_groups.length>0?o(e,t)[0][1]:a.call(n,e.id)(e.value)};return i=r.axis_rotated?i.x(l).y(s):i.x(s).y(l),r.line_connectNull||(i=i.defined(function(e){return null!=e.value})),function(e){var o,s=r.line_connectNull?n.filterRemoveNull(e.values):e.values,l=t?n.x:n.subX,c=a.call(n,e.id),u=0,d=0;return n.isLineType(e)?r.data_regions[e.id]?o=n.lineWithRegions(s,l,c,r.data_regions[e.id]):(n.isStepType(e)&&(s=n.convertValuesToStep(s)),o=i.interpolate(n.getInterpolate(e))(s)):(s[0]&&(u=l(s[0].x),d=c(s[0].value)),o=r.axis_rotated?"M "+d+" "+u:"M "+u+" "+d),o||"M 0 0"}},E.generateGetLinePoints=function(e,t){var n=this,r=n.config,i=e.__max__+1,o=n.getShapeX(0,i,e,!!t),a=n.getShapeY(!!t),s=n.getShapeOffset(n.isLineType,e,!!t),l=t?n.getSubYScale:n.getYScale;return function(e,t){var i=l.call(n,e.id)(0),c=s(e,t)||i,u=o(e),d=a(e);return r.axis_rotated&&(0<e.value&&d<i||e.value<0&&i<d)&&(d=i),[[u,d-(i-c)],[u,d-(i-c)],[u,d-(i-c)],[u,d-(i-c)]]}},E.lineWithRegions=function(e,t,n,r){function generateM(e){return"M"+e[0][0]+" "+e[0][1]+" "+e[1][0]+" "+e[1][1]}var i,o,a,s,l,c,u,d,m,f,g,v,y=this,_=y.config,b="M",w=y.isCategorized()?.5:0,x=[];if(p(r))for(i=0;i<r.length;i++)x[i]={},h(r[i].start)?x[i].start=e[0].x:x[i].start=y.isTimeSeries()?y.parseDate(r[i].start):r[i].start,h(r[i].end)?x[i].end=e[e.length-1].x:x[i].end=y.isTimeSeries()?y.parseDate(r[i].end):r[i].end;for(g=_.axis_rotated?function(e){return n(e.value)}:function(e){return t(e.x)},v=_.axis_rotated?function(e){return t(e.x)}:function(e){return n(e.value)},a=y.isTimeSeries()?function(e,r,i,o){var a,s=e.x.getTime(),c=r.x-e.x,u=new Date(s+c*i),d=new Date(s+c*(i+o));return a=_.axis_rotated?[[n(l(i)),t(u)],[n(l(i+o)),t(d)]]:[[t(u),n(l(i))],[t(d),n(l(i+o))]],generateM(a)}:function(e,r,i,o){var a;return a=_.axis_rotated?[[n(l(i),!0),t(s(i))],[n(l(i+o),!0),t(s(i+o))]]:[[t(s(i),!0),n(l(i))],[t(s(i+o),!0),n(l(i+o))]],generateM(a)},i=0;i<e.length;i++){if(h(x)||!function(e,t){var n;for(n=0;n<t.length;n++)if(t[n].start<e&&e<=t[n].end)return!0;return!1}(e[i].x,x))b+=" "+g(e[i])+" "+v(e[i]);else for(s=y.getScale(e[i-1].x+w,e[i].x+w,y.isTimeSeries()),l=y.getScale(e[i-1].value,e[i].value),c=t(e[i].x)-t(e[i-1].x),u=n(e[i].value)-n(e[i-1].value),d=Math.sqrt(Math.pow(c,2)+Math.pow(u,2)),m=2/d,f=2*m,o=m;o<=1;o+=f)b+=a(e[i-1],e[i],o,m);e[i].x}return b},E.updateArea=function(e){var t=this,n=t.d3;t.mainArea=t.main.selectAll("."+r.areas).selectAll("."+r.area).data(t.lineData.bind(t)),t.mainArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.mainArea.style("opacity",t.orgAreaOpacity),t.mainArea.exit().transition().duration(e).style("opacity",0).remove()},E.redrawArea=function(e,t){return[(t?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},E.generateDrawArea=function(e,t){var n=this,r=n.config,i=n.d3.svg.area(),o=n.generateGetAreaPoints(e,t),a=t?n.getSubYScale:n.getYScale,s=function(e){return(t?n.subxx:n.xx).call(n,e)},l=function(e,t){return r.data_groups.length>0?o(e,t)[0][1]:a.call(n,e.id)(n.getAreaBaseValue(e.id))},c=function(e,t){return r.data_groups.length>0?o(e,t)[1][1]:a.call(n,e.id)(e.value)};return i=r.axis_rotated?i.x0(l).x1(c).y(s):i.x(s).y0(r.area_above?0:l).y1(c),r.line_connectNull||(i=i.defined(function(e){return null!==e.value})),function(e){var t,o=r.line_connectNull?n.filterRemoveNull(e.values):e.values,a=0,s=0;return n.isAreaType(e)?(n.isStepType(e)&&(o=n.convertValuesToStep(o)),t=i.interpolate(n.getInterpolate(e))(o)):(o[0]&&(a=n.x(o[0].x),s=n.getYScale(e.id)(o[0].value)),t=r.axis_rotated?"M "+s+" "+a:"M "+a+" "+s),t||"M 0 0"}},E.getAreaBaseValue=function(){return 0},E.generateGetAreaPoints=function(e,t){var n=this,r=n.config,i=e.__max__+1,o=n.getShapeX(0,i,e,!!t),a=n.getShapeY(!!t),s=n.getShapeOffset(n.isAreaType,e,!!t),l=t?n.getSubYScale:n.getYScale;return function(e,t){var i=l.call(n,e.id)(0),c=s(e,t)||i,u=o(e),d=a(e);return r.axis_rotated&&(0<e.value&&d<i||e.value<0&&i<d)&&(d=i),[[u,c],[u,d-(i-c)],[u,d-(i-c)],[u,c]]}},E.updateCircle=function(){var e=this;e.mainCircle=e.main.selectAll("."+r.circles).selectAll("."+r.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("r",e.pointR.bind(e)).style("fill",e.color),e.mainCircle.style("opacity",e.initialOpacityForCircle.bind(e)),e.mainCircle.exit().remove()},E.redrawCircle=function(e,t,n){var i=this.main.selectAll("."+r.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",e).attr("cy",t),(n?i.transition(Math.random().toString()):i).attr("cx",e).attr("cy",t)]},E.circleX=function(e){return e.x||0===e.x?this.x(e.x):null},E.updateCircleY=function(){var e,t,n=this;n.config.data_groups.length>0?(e=n.getShapeIndices(n.isLineType),t=n.generateGetLinePoints(e),n.circleY=function(e,n){return t(e,n)[0][1]}):n.circleY=function(e){return n.getYScale(e.id)(e.value)}},E.getCircles=function(e,t){var n=this;return(t?n.main.selectAll("."+r.circles+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+r.circle+(l(e)?"-"+e:""))},E.expandCircles=function(e,t,n){var i=this,o=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(e,t).classed(r.EXPANDED,!0).attr("r",o)},E.unexpandCircles=function(e){var t=this,n=t.pointR.bind(t);t.getCircles(e).filter(function(){return t.d3.select(this).classed(r.EXPANDED)}).classed(r.EXPANDED,!1).attr("r",n)},E.pointR=function(e){var t=this,n=t.config;return t.isStepType(e)?0:c(n.point_r)?n.point_r(e):n.point_r},E.pointExpandedR=function(e){var t=this,n=t.config;return n.point_focus_expand_enabled?c(n.point_focus_expand_r)?n.point_focus_expand_r(e):n.point_focus_expand_r?n.point_focus_expand_r:1.75*t.pointR(e):t.pointR(e)},E.pointSelectR=function(e){var t=this,n=t.config;return c(n.point_select_r)?n.point_select_r(e):n.point_select_r?n.point_select_r:4*t.pointR(e)},E.isWithinCircle=function(e,t){var n=this.d3,r=n.mouse(e),i=n.select(e),o=+i.attr("cx"),a=+i.attr("cy");return Math.sqrt(Math.pow(o-r[0],2)+Math.pow(a-r[1],2))<t},E.isWithinStep=function(e,t){return Math.abs(t-this.d3.mouse(e)[1])<30},E.getCurrentWidth=function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},E.getCurrentHeight=function(){var e=this,t=e.config,n=t.size_height?t.size_height:e.getParentHeight();return n>0?n:320/(e.hasType("gauge")&&!t.gauge_fullCircle?2:1)},E.getCurrentPaddingTop=function(){var e=this,t=e.config,n=l(t.padding_top)?t.padding_top:0;return e.title&&e.title.node()&&(n+=e.getTitlePadding()),n},E.getCurrentPaddingBottom=function(){var e=this.config;return l(e.padding_bottom)?e.padding_bottom:0},E.getCurrentPaddingLeft=function(e){var t=this,n=t.config;return l(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(m(t.getAxisWidthByAxisId("x",e)),40):1:!n.axis_y_show||n.axis_y_inner?t.axis.getYAxisLabelPosition().isOuter?30:1:m(t.getAxisWidthByAxisId("y",e))},E.getCurrentPaddingRight=function(){var e=this,t=e.config,n=e.isLegendRight?e.getLegendWidth()+20:0;return l(t.padding_right)?t.padding_right+1:t.axis_rotated?10+n:!t.axis_y2_show||t.axis_y2_inner?2+n+(e.axis.getY2AxisLabelPosition().isOuter?20:0):m(e.getAxisWidthByAxisId("y2"))+n},E.getParentRectValue=function(e){for(var t,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{t=n.getBoundingClientRect()[e]}catch(r){"width"===e&&(t=n.offsetWidth)}if(t)break;n=n.parentNode}return t},E.getParentWidth=function(){return this.getParentRectValue("width")},E.getParentHeight=function(){var e=this.selectChart.style("height");return e.indexOf("px")>0?+e.replace("px",""):0},E.getSvgLeft=function(e){var t=this,n=t.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,o=n.axis_rotated?r.axisX:r.axisY,a=t.main.select("."+o).node(),s=a&&i?a.getBoundingClientRect():{right:0},l=t.selectChart.node().getBoundingClientRect(),c=t.hasArcType(),u=s.right-l.left-(c?0:t.getCurrentPaddingLeft(e));return u>0?u:0},E.getAxisWidthByAxisId=function(e,t){var n=this,r=n.axis.getLabelPositionById(e);return n.axis.getMaxTickWidth(e,t)+(r.isInner?20:40)},E.getHorizontalAxisHeight=function(e){var t=this,n=t.config,r=30;return"x"!==e||n.axis_x_show?"x"===e&&n.axis_x_height?n.axis_x_height:"y"!==e||n.axis_y_show?"y2"!==e||n.axis_y2_show?("x"===e&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===e&&n.axis_rotated&&n.axis_y_tick_rotate&&(r=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),r+(t.axis.getLabelPositionById(e).isInner?0:10)+("y2"===e?-10:0)):t.rotated_padding_top:!n.legend_show||t.isLegendRight||t.isLegendInset?1:10:8},E.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},E.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+r.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},E.initSubchart=function(){var e=this,t=e.config,n=e.context=e.svg.append("g").attr("transform",e.getTranslate("context")),i=t.subchart_show?"visible":"hidden";n.style("visibility",i),n.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",r.chart),n.select("."+r.chart).append("g").attr("class",r.chartBars),n.select("."+r.chart).append("g").attr("class",r.chartLines),n.append("g").attr("clip-path",e.clipPath).attr("class",r.brush).call(e.brush),e.axes.subx=n.append("g").attr("class",r.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":e.clipPathForXAxis).style("visibility",t.subchart_axis_x_show?i:"hidden")},E.updateTargetsForSubchart=function(e){var t,n,i,o,a=this,s=a.context,l=a.config,c=a.classChartBar.bind(a),u=a.classBars.bind(a),d=a.classChartLine.bind(a),h=a.classLines.bind(a),p=a.classAreas.bind(a);l.subchart_show&&(o=s.select("."+r.chartBars).selectAll("."+r.chartBar).data(e).attr("class",c),i=o.enter().append("g").style("opacity",0).attr("class",c),i.append("g").attr("class",u),n=s.select("."+r.chartLines).selectAll("."+r.chartLine).data(e).attr("class",d),t=n.enter().append("g").style("opacity",0).attr("class",d),t.append("g").attr("class",h),t.append("g").attr("class",p),s.selectAll("."+r.brush+" rect").attr(l.axis_rotated?"width":"height",l.axis_rotated?a.width2:a.height2))},E.updateBarForSubchart=function(e){var t=this;t.contextBar=t.context.selectAll("."+r.bars).selectAll("."+r.bar).data(t.barData.bind(t)),t.contextBar.enter().append("path").attr("class",t.classBar.bind(t)).style("stroke","none").style("fill",t.color),t.contextBar.style("opacity",t.initialOpacity.bind(t)),t.contextBar.exit().transition().duration(e).style("opacity",0).remove()},E.redrawBarForSubchart=function(e,t,n){(t?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",e).style("opacity",1)},E.updateLineForSubchart=function(e){var t=this;t.contextLine=t.context.selectAll("."+r.lines).selectAll("."+r.line).data(t.lineData.bind(t)),t.contextLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.contextLine.style("opacity",t.initialOpacity.bind(t)),t.contextLine.exit().transition().duration(e).style("opacity",0).remove()},E.redrawLineForSubchart=function(e,t,n){(t?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",e).style("opacity",1)},E.updateAreaForSubchart=function(e){var t=this,n=t.d3;t.contextArea=t.context.selectAll("."+r.areas).selectAll("."+r.area).data(t.lineData.bind(t)),t.contextArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.contextArea.style("opacity",0),t.contextArea.exit().transition().duration(e).style("opacity",0).remove()},E.redrawAreaForSubchart=function(e,t,n){(t?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},E.redrawSubchart=function(e,t,n,r,i,o,a){var s,l,c,u=this,d=u.d3,h=u.config;u.context.style("visibility",h.subchart_show?"visible":"hidden"),h.subchart_show&&(d.event&&"zoom"===d.event.type&&u.brush.extent(u.x.orgDomain()).update(),e&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),s=u.generateDrawArea(i,!0),l=u.generateDrawBar(o,!0),c=u.generateDrawLine(a,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(l,n,n),u.redrawLineForSubchart(c,n,n),u.redrawAreaForSubchart(s,n,n)))},E.redrawForBrush=function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},E.transformContext=function(e,t){var n,i=this;t&&t.axisSubX?n=t.axisSubX:(n=i.context.select("."+r.axisX),e&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},E.getDefaultExtent=function(){var e=this,t=e.config,n=c(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(n=[e.parseDate(n[0]),e.parseDate(n[1])]),n},E.initText=function(){var e=this;e.main.select("."+r.chart).append("g").attr("class",r.chartTexts),e.mainText=e.d3.selectAll([])},E.updateTargetsForText=function(e){var t,n,i=this,o=i.classChartText.bind(i),a=i.classTexts.bind(i),s=i.classFocus.bind(i);t=i.main.select("."+r.chartTexts).selectAll("."+r.chartText).data(e).attr("class",function(e){return o(e)+s(e)}),n=t.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a)},E.updateText=function(e){var t=this,n=t.config,i=t.barOrLineData.bind(t),o=t.classText.bind(t);t.mainText=t.main.selectAll("."+r.texts).selectAll("."+r.text).data(i),t.mainText.enter().append("text").attr("class",o).attr("text-anchor",function(e){return n.axis_rotated?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return t.color(e)}).style("fill-opacity",0),t.mainText.text(function(e,n,r){return t.dataLabelFormat(e.id)(e.value,e.id,n,r)}),t.mainText.exit().transition().duration(e).style("fill-opacity",0).remove()},E.redrawText=function(e,t,n,r){return[(r?this.mainText.transition():this.mainText).attr("x",e).attr("y",t).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},E.getTextRect=function(e,t,n){var r,i=this.d3.select("body").append("div").classed("c3",!0),o=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([e]).enter().append("text").classed(t||"",!0).style("font",a).text(e).each(function(){r=this.getBoundingClientRect()}),i.remove(),r},E.generateXYForText=function(e,t,n,r){var i=this,o=i.generateGetAreaPoints(e,!1),a=i.generateGetBarPoints(t,!1),s=i.generateGetLinePoints(n,!1),l=r?i.getXForText:i.getYForText;return function(e,t){var n=i.isAreaType(e)?o:i.isBarType(e)?a:s;return l.call(i,n(e,t),e,this)}},E.getXForText=function(e,t,n){var r,i,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(i=o.isBarType(t)?4:6,r=e[2][1]+i*(t.value<0?-1:1)):r=o.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],null===t.value&&(r>o.width?r=o.width-a.width:r<0&&(r=4)),r},E.getYForText=function(e,t,n){var r,i=this,o=n.getBoundingClientRect();return i.config.axis_rotated?r=(e[0][0]+e[2][0]+.6*o.height)/2:(r=e[2][1],t.value<0||0===t.value&&!i.hasPositiveValue?(r+=o.height,i.isBarType(t)&&i.isSafari()?r-=3:!i.isBarType(t)&&i.isChrome()&&(r+=3)):r+=i.isBarType(t)?-3:-6),null!==t.value||i.config.axis_rotated||(r<o.height?r=o.height:r>this.height&&(r=this.height-4)),r},E.initTitle=function(){var e=this;e.title=e.svg.append("text").text(e.config.title_text).attr("class",e.CLASS.title)},E.redrawTitle=function(){var e=this;e.title.attr("x",e.xForTitle.bind(e)).attr("y",e.yForTitle.bind(e))},E.xForTitle=function(){var e=this,t=e.config,n=t.title_position||"left";return n.indexOf("right")>=0?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-t.title_padding.right:n.indexOf("center")>=0?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:t.title_padding.left},E.yForTitle=function(){var e=this;return e.config.title_padding.top+e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).height},E.getTitlePadding=function(){var e=this;return e.yForTitle()+e.config.title_padding.bottom},E.initTooltip=function(){var e,t=this,n=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",r.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(t.isTimeSeries()&&d(n.tooltip_init_x)){for(n.tooltip_init_x=t.parseDate(n.tooltip_init_x),e=0;e<t.data.targets[0].values.length&&t.data.targets[0].values[e].x-n.tooltip_init_x!=0;e++);n.tooltip_init_x=e}t.tooltip.html(n.tooltip_contents.call(t,t.data.targets.map(function(e){return t.addName(e.values[n.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},E.getTooltipSortFunction=function(){var e=this,t=e.config;if(0!==t.data_groups.length&&void 0===t.tooltip_order){var n=e.orderTargets(e.data.targets).map(function(e){return e.id});return(e.isOrderAsc()||e.isOrderDesc())&&(n=n.reverse()),function(e,t){return n.indexOf(e.id)-n.indexOf(t.id)}}var r=t.tooltip_order;void 0===r&&(r=t.data_order);var i=function(e){return e?e.value:null};if(d(r)&&"asc"===r.toLowerCase())return function(e,t){return i(e)-i(t)};if(d(r)&&"desc"===r.toLowerCase())return function(e,t){return i(t)-i(e)};if(c(r)){var o=r;return void 0===t.tooltip_order&&(o=function(e,t){return r(e?{id:e.id,values:[e]}:null,t?{id:t.id,values:[t]}:null)}),o}return u(r)?function(e,t){return r.indexOf(e.id)-r.indexOf(t.id)}:void 0},E.getTooltipContent=function(e,t,n,r){var i,o,a,s,l,c,u=this,d=u.config,h=d.tooltip_format_title||t,p=d.tooltip_format_name||function(e){return e},m=d.tooltip_format_value||n,f=this.getTooltipSortFunction();for(f&&e.sort(f),o=0;o<e.length;o++)if(e[o]&&(e[o].value||0===e[o].value)&&(i||(a=w(h?h(e[o].x):e[o].x),i="<table class='"+u.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(s=w(m(e[o].value,e[o].ratio,e[o].id,e[o].index,e))))){if(null===e[o].name)continue;l=w(p(e[o].name,e[o].ratio,e[o].id,e[o].index)),c=u.levelColor?u.levelColor(e[o].value):r(e[o].id),i+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(e[o].id)+"'>",i+="<td class='name'><span style='background-color:"+c+"'></span>"+l+"</td>",i+="<td class='value'>"+s+"</td>",i+="</tr>"}return i+"</table>"},E.tooltipPosition=function(e,t,n,r){var i,o,a,s,l,c=this,u=c.config,d=c.d3,h=c.hasArcType(),p=d.mouse(r);return h?(o=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+p[0],s=c.height/2+p[1]+20):(i=c.getSvgLeft(!0),u.axis_rotated?(o=i+p[0]+100,a=o+t,l=c.currentWidth-c.getCurrentPaddingRight(),s=c.x(e[0].x)+20):(o=i+c.getCurrentPaddingLeft(!0)+c.x(e[0].x)+20,a=o+t,l=i+c.currentWidth-c.getCurrentPaddingRight(),s=p[1]+15),a>l&&(o-=a-l+20),s+n>c.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},E.showTooltip=function(e,t){var n,r,i,o=this,a=o.config,s=o.hasArcType(),c=e.filter(function(e){return e&&l(e.value)}),u=a.tooltip_position||E.tooltipPosition;0!==c.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,e,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),r=o.tooltip.property("offsetHeight"),i=u.call(this,c,n,r,t),o.tooltip.style("top",i.top+"px").style("left",i.left+"px"))},E.hideTooltip=function(){this.tooltip.style("display","none")},E.setTargetType=function(e,t){var n=this,r=n.config;n.mapToTargetIds(e).forEach(function(e){n.withoutFadeIn[e]=t===r.data_types[e],r.data_types[e]=t}),e||(r.data_type=t)},E.hasType=function(e,t){var n=this,r=n.config.data_types,i=!1;return t=t||n.data.targets,t&&t.length?t.forEach(function(t){var n=r[t.id];(n&&n.indexOf(e)>=0||!n&&"line"===e)&&(i=!0)}):Object.keys(r).length?Object.keys(r).forEach(function(t){r[t]===e&&(i=!0)}):i=n.config.data_type===e,i},E.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},E.isLineType=function(e){var t=this.config,n=d(e)?e:e.id;return!t.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[n])>=0},E.isStepType=function(e){var t=d(e)?e:e.id;return["step","area-step"].indexOf(this.config.data_types[t])>=0},E.isSplineType=function(e){var t=d(e)?e:e.id;return["spline","area-spline"].indexOf(this.config.data_types[t])>=0},E.isAreaType=function(e){var t=d(e)?e:e.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[t])>=0},E.isBarType=function(e){var t=d(e)?e:e.id;return"bar"===this.config.data_types[t]},E.isScatterType=function(e){var t=d(e)?e:e.id;return"scatter"===this.config.data_types[t]},E.isPieType=function(e){var t=d(e)?e:e.id;return"pie"===this.config.data_types[t]},E.isGaugeType=function(e){var t=d(e)?e:e.id;return"gauge"===this.config.data_types[t]},E.isDonutType=function(e){var t=d(e)?e:e.id;return"donut"===this.config.data_types[t]},E.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},E.lineData=function(e){return this.isLineType(e)?[e]:[]},E.arcData=function(e){return this.isArcType(e.data)?[e]:[]},E.barData=function(e){return this.isBarType(e)?e.values:[]},E.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},E.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},E.isInterpolationType=function(e){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(e)>=0},E.isSafari=function(){var e=window.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},E.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},E.initZoom=function(){var e,t=this,n=t.d3,r=t.config;t.zoom=n.behavior.zoom().on("zoomstart",function(){e=n.event.sourceEvent,t.zoom.altDomain=n.event.sourceEvent.altKey?t.x.orgDomain():null,r.zoom_onzoomstart.call(t.api,n.event.sourceEvent)}).on("zoom",function(){t.redrawForZoom.call(t)}).on("zoomend",function(){var i=n.event.sourceEvent;i&&e.clientX===i.clientX&&e.clientY===i.clientY||(t.redrawEventRect(),t.updateZoom(),r.zoom_onzoomend.call(t.api,t.x.orgDomain()))}),t.zoom.scale=function(e){return r.axis_rotated?this.y(e):this.x(e)},t.zoom.orgScaleExtent=function(){var e=r.zoom_extent?r.zoom_extent:[1,10];return[e[0],Math.max(t.getMaxDataCount()/e[1],e[1])]},t.zoom.updateScaleExtent=function(){var e=g(t.x.orgDomain())/g(t.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*e,n[1]*e]),this}},E.getZoomDomain=function(){var e=this,t=e.config,n=e.d3;return[n.min([e.orgXDomain[0],t.zoom_x_min]),n.max([e.orgXDomain[1],t.zoom_x_max])]},E.updateZoom=function(){var e=this,t=e.config.zoom_enabled?e.zoom:function(){};e.main.select("."+r.zoomRect).call(t).on("dblclick.zoom",null),e.main.selectAll("."+r.eventRect).call(t).on("dblclick.zoom",null)},E.redrawForZoom=function(){var e=this,t=e.d3,n=e.config,r=e.zoom,i=e.x;if(n.zoom_enabled&&0!==e.filterTargetsToShow(e.data.targets).length){if("mousemove"===t.event.sourceEvent.type&&r.altDomain)return i.domain(r.altDomain),void r.scale(i).updateScaleExtent();e.isCategorized()&&i.orgDomain()[0]===e.orgXDomain[0]&&i.domain([e.orgXDomain[0]-1e-10,i.orgDomain()[1]]),e.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===t.event.sourceEvent.type&&(e.cancelClick=!0),n.zoom_onzoom.call(e.api,i.orgDomain())}},T})},function(e,t,n){var r,i;!function(){function d3_documentElement(e){return e&&(e.ownerDocument||e.document||e).documentElement}function d3_window(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function d3_ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function d3_number(e){return null===e?NaN:+e}function d3_numeric(e){return!isNaN(e)}function d3_bisector(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function d3_transposeLength(e){return e.length}function d3_range_integerScale(e){for(var t=1;e*t%1;)t*=10;return t}function d3_class(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(e){return(e+="")===g||e[0]===y?y+e:e}function d3_map_unescape(e){return(e+="")[0]===y?e.slice(1):e}function d3_map_has(e){return d3_map_escape(e)in this._}function d3_map_remove(e){return(e=d3_map_escape(e))in this._&&delete this._[e]}function d3_map_keys(){var e=[];for(var t in this._)e.push(d3_map_unescape(t));return e}function d3_map_size(){var e=0;for(var t in this._)++e;return e}function d3_map_empty(){for(var e in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(e){return e}function d3_rebind(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function d3_vendorSymbol(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=_.length;n<r;++n){var i=_[n]+t;if(i in e)return i}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(e){function event(){for(var n,r=t,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return e}var t=[],n=new d3_Map;return event.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},event}function d3_eventPreventDefault(){o.event.preventDefault()}function d3_eventSource(){for(var e,t=o.event;e=t.sourceEvent;)t=e;return t}function d3_eventDispatch(e){for(var t=new d3_dispatch,n=0,r=arguments.length;++n<r;)t[arguments[n]]=d3_dispatch_event(t);return t.of=function(n,r){return function(i){try{var a=i.sourceEvent=o.event;i.target=e,o.event=i,t[i.type].apply(n,r)}finally{o.event=a}}},t}function d3_selection(e){return w(e,E),e}function d3_selection_selector(e){return"function"==typeof e?e:function(){return x(e,this)}}function d3_selection_selectorAll(e){return"function"==typeof e?e:function(){return S(e,this)}}function d3_selection_attr(e,t){function attrNull(){this.removeAttribute(e)}function attrNullNS(){this.removeAttributeNS(e.space,e.local)}function attrConstant(){this.setAttribute(e,t)}function attrConstantNS(){this.setAttributeNS(e.space,e.local,t)}function attrFunction(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function attrFunctionNS(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=o.ns.qualify(e),null==t?e.local?attrNullNS:attrNull:"function"==typeof t?e.local?attrFunctionNS:attrFunction:e.local?attrConstantNS:attrConstant}function d3_collapse(e){return e.trim().replace(/\s+/g," ")}function d3_selection_classedRe(e){return new RegExp("(?:^|\\s+)"+o.requote(e)+"(?:\\s+|$)","g")}function d3_selection_classes(e){return(e+"").trim().split(/^|\s+/)}function d3_selection_classed(e,t){function classedConstant(){for(var r=-1;++r<n;)e[r](this,t)}function classedFunction(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}e=d3_selection_classes(e).map(d3_selection_classedName);var n=e.length;return"function"==typeof t?classedFunction:classedConstant}function d3_selection_classedName(e){var t=d3_selection_classedRe(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",d3_collapse(i+" "+e))):n.setAttribute("class",d3_collapse(i.replace(t," ")))}}function d3_selection_style(e,t,n){function styleNull(){this.style.removeProperty(e)}function styleConstant(){this.style.setProperty(e,t,n)}function styleFunction(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?styleNull:"function"==typeof t?styleFunction:styleConstant}function d3_selection_property(e,t){function propertyNull(){delete this[e]}function propertyConstant(){this[e]=t}function propertyFunction(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?propertyNull:"function"==typeof t?propertyFunction:propertyConstant}function d3_selection_creator(e){function create(){var t=this.ownerDocument,n=this.namespaceURI;return n===T&&t.documentElement.namespaceURI===T?t.createElement(e):t.createElementNS(n,e)}function createNS(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=o.ns.qualify(e)).local?createNS:create}function d3_selectionRemove(){var e=this.parentNode;e&&e.removeChild(this)}function d3_selection_dataNode(e){return{__data__:e}}function d3_selection_filter(e){return function(){return C(this,e)}}function d3_selection_sortComparator(e){return arguments.length||(e=d3_ascending),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function d3_selection_each(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,s=o.length;a<s;a++)(i=o[a])&&t(i,a,n);return e}function d3_selection_enter(e){return w(e,k),e}function d3_selection_enterInsertBefore(e){var t,n;return function(r,i,o){var a,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<l;);return a}}function d3_selection_on(e,t,n){function onRemove(){var t=this[r];t&&(this.removeEventListener(e,t,t.$),delete this[r])}function onAdd(){var i=a(t,s(arguments));onRemove.call(this),this.addEventListener(e,this[r]=i,i.$=n),i._=t}function removeAll(){var t,n=new RegExp("^__on([^.]+)"+o.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var r="__on"+e,i=e.indexOf("."),a=d3_selection_onListener;i>0&&(e=e.slice(0,i));var l=A.get(e);return l&&(e=l,a=d3_selection_onFilter),i?t?onAdd:onRemove:t?d3_noop:removeAll}function d3_selection_onListener(e,t){return function(n){var r=o.event;o.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{o.event=r}}}function d3_selection_onFilter(e,t){var n=d3_selection_onListener(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function d3_event_dragSuppress(e){var t=".dragsuppress-"+ ++$,n="click"+t,r=o.select(d3_window(e)).on("touchmove"+t,d3_eventPreventDefault).on("dragstart"+t,d3_eventPreventDefault).on("selectstart"+t,d3_eventPreventDefault);if(null==D&&(D=!("onselectstart"in e)&&d3_vendorSymbol(e.style,"userSelect")),D){var i=d3_documentElement(e).style,a=i[D];i[D]="none"}return function(e){if(r.on(t,null),D&&(i[D]=a),e){var o=function(){r.on(n,null)};r.on(n,function(){d3_eventPreventDefault(),o()},!0),setTimeout(o,0)}}}function d3_mousePoint(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(P<0){var i=d3_window(e);if(i.scrollX||i.scrollY){n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();P=!(a.f||a.e),n.remove()}}return P?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function d3_behavior_dragTouchId(){return o.event.changedTouches[0].identifier}function d3_sgn(e){return e>0?1:e<0?-1:0}function d3_cross2d(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function d3_acos(e){return e>1?0:e<-1?O:Math.acos(e)}function d3_asin(e){return e>1?N:e<-1?-N:Math.asin(e)}function d3_sinh(e){return((e=Math.exp(e))-1/e)/2}function d3_cosh(e){return((e=Math.exp(e))+1/e)/2}function d3_tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}function d3_haversin(e){return(e=Math.sin(e/2))*e}function d3_color(){}function d3_hsl(e,t,n){return this instanceof d3_hsl?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof d3_hsl?new d3_hsl(e.h,e.s,e.l):d3_rgb_parse(""+e,d3_rgb_hsl,d3_hsl):new d3_hsl(e,t,n)}function d3_hsl_rgb(e,t,n){function v(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function vv(e){return Math.round(255*v(e))}var r,i;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i,new d3_rgb(vv(e+120),vv(e),vv(e-120))}function d3_hcl(e,t,n){return this instanceof d3_hcl?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof d3_hcl?new d3_hcl(e.h,e.c,e.l):e instanceof d3_lab?d3_lab_hcl(e.l,e.a,e.b):d3_lab_hcl((e=d3_rgb_lab((e=o.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new d3_hcl(e,t,n)}function d3_hcl_lab(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new d3_lab(n,Math.cos(e*=H)*t,Math.sin(e)*t)}function d3_lab(e,t,n){return this instanceof d3_lab?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof d3_lab?new d3_lab(e.l,e.a,e.b):e instanceof d3_hcl?d3_hcl_lab(e.h,e.c,e.l):d3_rgb_lab((e=d3_rgb(e)).r,e.g,e.b):new d3_lab(e,t,n)}function d3_lab_rgb(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=d3_lab_xyz(i)*W,r=d3_lab_xyz(r)*K,o=d3_lab_xyz(o)*X,new d3_rgb(d3_xyz_rgb(3.2404542*i-1.5371385*r-.4985314*o),d3_xyz_rgb(-.969266*i+1.8760108*r+.041556*o),d3_xyz_rgb(.0556434*i-.2040259*r+1.0572252*o))}function d3_lab_hcl(e,t,n){return e>0?new d3_hcl(Math.atan2(n,t)*j,Math.sqrt(t*t+n*n),e):new d3_hcl(NaN,NaN,e)}function d3_lab_xyz(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function d3_xyz_lab(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function d3_xyz_rgb(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function d3_rgb(e,t,n){return this instanceof d3_rgb?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof d3_rgb?new d3_rgb(e.r,e.g,e.b):d3_rgb_parse(""+e,d3_rgb,d3_hsl_rgb):new d3_rgb(e,t,n)}function d3_rgbNumber(e){return new d3_rgb(e>>16,e>>8&255,255&e)}function d3_rgbString(e){return d3_rgbNumber(e)+""}function d3_rgb_hex(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function d3_rgb_parse(e,t,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(d3_rgb_parseNumber(i[0]),d3_rgb_parseNumber(i[1]),d3_rgb_parseNumber(i[2]))}return(o=Q.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function d3_rgb_hsl(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new d3_hsl(r,i,l)}function d3_rgb_lab(e,t,n){e=d3_rgb_xyz(e),t=d3_rgb_xyz(t),n=d3_rgb_xyz(n);var r=d3_xyz_lab((.4124564*e+.3575761*t+.1804375*n)/W),i=d3_xyz_lab((.2126729*e+.7151522*t+.072175*n)/K);return d3_lab(116*i-16,500*(r-i),200*(i-d3_xyz_lab((.0193339*e+.119192*t+.9503041*n)/X)))}function d3_rgb_xyz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function d3_rgb_parseNumber(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function d3_functor(e){return"function"==typeof e?e:function(){return e}}function d3_xhrType(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),d3_xhr(t,n,e,r)}}function d3_xhr(e,t,n,r){function respond(){var e,t=c.status;if(!t&&d3_xhrHasResponse(c)||t>=200&&t<300||304===t){try{e=n.call(i,c)}catch(e){return void a.error.call(i,e)}a.load.call(i,e)}else a.error.call(i,c)}var i={},a=o.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(e)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()},c.onprogress=function(e){var t=o.event;o.event=e;try{a.progress.call(i,c)}finally{o.event=t}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",i):t},i.responseType=function(e){return arguments.length?(u=e,i):u},i.response=function(e){return n=e,i},["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(s(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),c.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=u&&(c.responseType=u),null!=o&&i.on("error",o).on("load",function(e){o(null,e)}),a.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},o.rebind(i,a,"on"),null==r?i:i.get(d3_xhr_fixCallback(r))}function d3_xhr_fixCallback(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function d3_xhrHasResponse(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function d3_timer(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,o={c:e,t:i,n:null};return te?te.n=o:ee=o,te=o,ne||(re=clearTimeout(re),ne=1,ie(d3_timer_step)),o}function d3_timer_step(){var e=d3_timer_mark(),t=d3_timer_sweep()-e;t>24?(isFinite(t)&&(clearTimeout(re),re=setTimeout(d3_timer_step,t)),ne=0):(ne=1,ie(d3_timer_step))}function d3_timer_mark(){for(var e=Date.now(),t=ee;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function d3_timer_sweep(){for(var e,t=ee,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ee=t.n;return te=e,n}function d3_format_precision(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function d3_formatPrefix(e,t){var n=Math.pow(10,3*f(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function d3_locale_numberFormat(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,a=r&&n?function(e,t){for(var i=e.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:d3_identity;return function(e){var n=ae.exec(e),r=n[1]||" ",s=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],p=n[8],m=n[9],f=1,g="",v="",y=!1,_=!0;switch(p&&(p=+p.substring(1)),(u||"0"===r&&"="===s)&&(u=r="0",s="="),m){case"n":h=!0,m="g";break;case"%":f=100,v="%",m="f";break;case"p":f=100,v="%",m="r";break;case"b":case"o":case"x":case"X":"#"===c&&(g="0"+m.toLowerCase());case"c":_=!1;case"d":y=!0,p=0;break;case"s":f=-1,m="r"}"$"===c&&(g=i[0],v=i[1]),"r"!=m||p||(m="g"),null!=p&&("g"==m?p=Math.max(1,Math.min(21,p)):"e"!=m&&"f"!=m||(p=Math.max(0,Math.min(20,p)))),m=se.get(m)||d3_format_typeDefault;var b=u&&h;return function(e){var n=v;if(y&&e%1)return"";var i=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(f<0){var c=o.formatPrefix(e,p);e=c.scale(e),n=c.symbol+v}else e*=f;e=m(e,p);var w,x,S=e.lastIndexOf(".");if(S<0){var C=_?e.lastIndexOf("e"):-1;C<0?(w=e,x=""):(w=e.substring(0,C),x=e.substring(C))}else w=e.substring(0,S),x=t+e.substring(S+1);!u&&h&&(w=a(w,1/0));var E=g.length+w.length+x.length+(b?0:i.length),T=E<d?new Array(E=d-E+1).join(r):"";return b&&(w=a(T+w,T.length?d-x.length:1/0)),i+=g,e=w+x,("<"===s?i+e+T:">"===s?T+i+e:"^"===s?T.substring(0,E>>=1)+i+e+T.substring(E):i+(b?e:T+e))+n}}}function d3_format_typeDefault(e){return e+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(e,t,n){function round(t){var n=e(t),r=offset(n,1);return t-n<r-t?n:r}function ceil(n){return t(n=e(new ce(n-1)),1),n}function offset(e,n){return t(e=new ce(+e),n),e}function range(e,r,i){var o=ceil(e),a=[];if(i>1)for(;o<r;)n(o)%i||a.push(new Date(+o)),t(o,1);else for(;o<r;)a.push(new Date(+o)),t(o,1);return a}function range_utc(e,t,n){try{ce=d3_date_utc;var r=new d3_date_utc;return r._=e,range(r,t,n)}finally{ce=Date}}e.floor=e,e.round=round,e.ceil=ceil,e.offset=offset,e.range=range;var r=e.utc=d3_time_interval_utc(e);return r.floor=r,r.round=d3_time_interval_utc(round),r.ceil=d3_time_interval_utc(ceil),r.offset=d3_time_interval_utc(offset),r.range=range_utc,e}function d3_time_interval_utc(e){return function(t,n){try{ce=d3_date_utc;var r=new d3_date_utc;return r._=t,e(r,n)._}finally{ce=Date}}}function d3_locale_timeFormat(e){function d3_time_format(e){function format(n){for(var r,i,o,a=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=de[r=e.charAt(++s)])&&(r=e.charAt(++s)),(o=_[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}var t=e.length;return format.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d3_time_parse(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&ce!==d3_date_utc,i=new(r?d3_date_utc:ce);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},format.toString=function(){return e},format}function d3_time_parse(e,t,n,r){for(var i,o,a,s=0,l=t.length,c=n.length;s<l;){if(r>=c)return-1;if(37===(i=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=b[a in de?t.charAt(s++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function d3_time_parseWeekdayAbbrev(e,t,n){p.lastIndex=0;var r=p.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseWeekday(e,t,n){d.lastIndex=0;var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonthAbbrev(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonth(e,t,n){f.lastIndex=0;var r=f.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseLocaleFull(e,t,n){return d3_time_parse(e,_.c.toString(),t,n)}function d3_time_parseLocaleDate(e,t,n){return d3_time_parse(e,_.x.toString(),t,n)}function d3_time_parseLocaleTime(e,t,n){return d3_time_parse(e,_.X.toString(),t,n)}function d3_time_parseAmPm(e,t,n){var r=u.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths;d3_time_format.utc=function(e){function format(e){try{ce=d3_date_utc;var n=new ce;return n._=e,t(n)}finally{ce=Date}}var t=d3_time_format(e);return format.parse=function(e){try{ce=d3_date_utc;var n=t.parse(e);return n&&n._}finally{ce=Date}},format.toString=t.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var u=o.map(),d=d3_time_formatRe(a),h=d3_time_formatLookup(a),p=d3_time_formatRe(s),m=d3_time_formatLookup(s),f=d3_time_formatRe(l),g=d3_time_formatLookup(l),v=d3_time_formatRe(c),y=d3_time_formatLookup(c);i.forEach(function(e,t){u.set(e.toLowerCase(),t)});var _={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:d3_time_format(t),d:function(e,t){return d3_time_formatPad(e.getDate(),t,2)},e:function(e,t){return d3_time_formatPad(e.getDate(),t,2)},H:function(e,t){return d3_time_formatPad(e.getHours(),t,2)},I:function(e,t){return d3_time_formatPad(e.getHours()%12||12,t,2)},j:function(e,t){return d3_time_formatPad(1+le.dayOfYear(e),t,3)},L:function(e,t){return d3_time_formatPad(e.getMilliseconds(),t,3)},m:function(e,t){return d3_time_formatPad(e.getMonth()+1,t,2)},M:function(e,t){return d3_time_formatPad(e.getMinutes(),t,2)},p:function(e){return i[+(e.getHours()>=12)]},S:function(e,t){return d3_time_formatPad(e.getSeconds(),t,2)},U:function(e,t){return d3_time_formatPad(le.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return d3_time_formatPad(le.mondayOfYear(e),t,2)},x:d3_time_format(n),X:d3_time_format(r),y:function(e,t){return d3_time_formatPad(e.getFullYear()%100,t,2)},Y:function(e,t){return d3_time_formatPad(e.getFullYear()%1e4,t,4)},Z:d3_time_zone,"%":function(){return"%"}},b={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function d3_time_formatRe(e){return new RegExp("^(?:"+e.map(o.requote).join("|")+")","i")}function d3_time_formatLookup(e){for(var t=new d3_Map,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function d3_time_parseWeekdayNumber(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberSunday(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberMonday(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function d3_time_parseFullYear(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function d3_time_parseYear(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+2));return r?(e.y=d3_time_expandYear(+r[0]),n+r[0].length):-1}function d3_time_parseZone(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function d3_time_expandYear(e){return e+(e>68?1900:2e3)}function d3_time_parseMonthNumber(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function d3_time_parseDay(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function d3_time_parseDayOfYear(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function d3_time_parseHour24(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function d3_time_parseMinutes(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function d3_time_parseSeconds(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function d3_time_parseMilliseconds(e,t,n){he.lastIndex=0;var r=he.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function d3_time_zone(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=f(t)/60|0,i=f(t)%60;return n+d3_time_formatPad(r,"0",2)+d3_time_formatPad(i,"0",2)}function d3_time_parseLiteralPercent(e,t,n){pe.lastIndex=0;var r=pe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function d3_time_formatMulti(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function d3_adder(){}function d3_adderSum(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function d3_geo_streamGeometry(e,t){e&&ve.hasOwnProperty(e.type)&&ve[e.type](e,t)}function d3_geo_streamLine(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function d3_geo_streamPolygon(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)d3_geo_streamLine(e[n],t,1);t.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(e,t){e*=H,t=t*H/2+O/4;var o=e-n,a=o>=0?1:-1,s=a*o,l=Math.cos(t),c=Math.sin(t),u=i*c,d=r*l+u*Math.cos(s),h=u*a*Math.sin(s);_e.add(Math.atan2(h,d)),n=e,r=l,i=c}var e,t,n,r,i;be.point=function(o,a){be.point=nextPoint,n=(e=o)*H,r=Math.cos(a=(t=a)*H/2+O/4),i=Math.sin(a)},be.lineEnd=function(){nextPoint(e,t)}}function d3_geo_cartesian(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function d3_geo_cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function d3_geo_cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function d3_geo_cartesianAdd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function d3_geo_cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function d3_geo_cartesianNormalize(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function d3_geo_spherical(e){return[Math.atan2(e[1],e[0]),d3_asin(e[2])]}function d3_geo_sphericalEqual(e,t){return f(e[0]-t[0])<L&&f(e[1]-t[1])<L}function d3_geo_centroidPoint(e,t){e*=H;var n=Math.cos(t*=H);d3_geo_centroidPointXYZ(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function d3_geo_centroidPointXYZ(e,t,n){++we,Se+=(e-Se)/we,Ce+=(t-Ce)/we,Ee+=(n-Ee)/we}function d3_geo_centroidLineStart(){function nextPoint(r,i){r*=H;var o=Math.cos(i*=H),a=o*Math.cos(r),s=o*Math.sin(r),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=t*l-n*s)*c+(c=n*a-e*l)*c+(c=e*s-t*a)*c),e*a+t*s+n*l);xe+=c,Te+=c*(e+(e=a)),Me+=c*(t+(t=s)),ke+=c*(n+(n=l)),d3_geo_centroidPointXYZ(e,t,n)}var e,t,n;Pe.point=function(r,i){r*=H;var o=Math.cos(i*=H);e=o*Math.cos(r),t=o*Math.sin(r),n=Math.sin(i),Pe.point=nextPoint,d3_geo_centroidPointXYZ(e,t,n)}}function d3_geo_centroidLineEnd(){Pe.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(e,t){e*=H;var o=Math.cos(t*=H),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(t),c=r*l-i*s,u=i*a-n*l,d=n*s-r*a,h=Math.sqrt(c*c+u*u+d*d),p=n*a+r*s+i*l,m=h&&-d3_acos(p)/h,f=Math.atan2(h,p);Ae+=m*c,De+=m*u,$e+=m*d,xe+=f,Te+=f*(n+(n=a)),Me+=f*(r+(r=s)),ke+=f*(i+(i=l)),d3_geo_centroidPointXYZ(n,r,i)}var e,t,n,r,i;Pe.point=function(o,a){e=o,t=a,Pe.point=nextPoint,o*=H;var s=Math.cos(a*=H);n=s*Math.cos(o),r=s*Math.sin(o),i=Math.sin(a),d3_geo_centroidPointXYZ(n,r,i)},Pe.lineEnd=function(){nextPoint(e,t),Pe.lineEnd=d3_geo_centroidLineEnd,Pe.point=d3_geo_centroidPoint}}function d3_geo_compose(e,t){function compose(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(compose.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(d3_geo_sphericalEqual(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var l=new d3_geo_clipPolygonIntersection(n,e,null,!0),c=new d3_geo_clipPolygonIntersection(n,null,l,!1);l.o=c,o.push(l),a.push(c),l=new d3_geo_clipPolygonIntersection(r,e,null,!1),c=new d3_geo_clipPolygonIntersection(r,null,l,!0),l.o=c,o.push(l),a.push(c)}}),a.sort(t),d3_geo_clipPolygonLinkCircular(o),d3_geo_clipPolygonLinkCircular(a),o.length){for(var s=0,l=n,c=a.length;s<c;++s)a[s].e=l=!l;for(var u,d,h=o[0];;){for(var p=h,m=!0;p.v;)if((p=p.n)===h)return;u=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(var s=0,c=u.length;s<c;++s)i.point((d=u[s])[0],d[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(m){u=p.p.z;for(var s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,u=p.z,m=!m}while(!p.v);i.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function d3_geo_clipPolygonIntersection(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function d3_geo_clip(e,t,n,r){return function(i,a){function point(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function pointLine(e,t){var n=i(e,t);u.point(n[0],n[1])}function lineStart(){h.point=pointLine,u.lineStart()}function lineEnd(){h.point=point,u.lineEnd()}function pointRing(e,t){c.push([e,t]);var n=i(e,t);m.point(n[0],n[1])}function ringStart(){m.lineStart(),c=[]}function ringEnd(){pointRing(c[0][0],c[0][1]),m.lineEnd();var e,t=m.clean(),n=p.buffer(),r=n.length;if(c.pop(),l.push(c),c=null,r)if(1&t){e=n[0];var i,r=e.length-1,o=-1;if(r>0){for(f||(a.polygonStart(),f=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(d3_geo_clipSegmentLength1))}var s,l,c,u=t(a),d=i.invert(r[0],r[1]),h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=pointRing,h.lineStart=ringStart,h.lineEnd=ringEnd,s=[],l=[]},polygonEnd:function(){h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,s=o.merge(s);var e=d3_geo_pointInPolygon(d,l);s.length?(f||(a.polygonStart(),f=!0),d3_geo_clipPolygon(s,d3_geo_clipSort,e,n,a)):e&&(f||(a.polygonStart(),f=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),s=l=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},p=d3_geo_clipBufferListener(),m=t(p),f=!1;return h}}function d3_geo_clipSegmentLength1(e){return e.length>1}function d3_geo_clipBufferListener(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:d3_noop,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function d3_geo_clipSort(e,t){return((e=e.x)[0]<0?e[1]-N-L:N-e[1])-((t=t.x)[0]<0?t[1]-N-L:N-t[1])}function d3_geo_clipAntimeridianLine(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?O:-O,l=f(o-n);f(l-O)<L?(e.point(n,r=(r+a)/2>0?N:-N),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=O&&(f(n-i)<L&&(n-=i*L),f(o-s)<L&&(o-=s*L),r=d3_geo_clipAntimeridianIntersect(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function d3_geo_clipAntimeridianIntersect(e,t,n,r){var i,o,a=Math.sin(e-n);return f(a)>L?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function d3_geo_clipAntimeridianInterpolate(e,t,n,r){var i;if(null==e)i=n*N,r.point(-O,i),r.point(0,i),r.point(O,i),r.point(O,0),r.point(O,-i),r.point(0,-i),r.point(-O,-i),r.point(-O,0),r.point(-O,i);else if(f(e[0]-t[0])>L){var o=e[0]<t[0]?O:-O;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function d3_geo_pointInPolygon(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;_e.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],h=d[0],p=d[1]/2+O/4,m=Math.sin(p),f=Math.cos(p),g=1;;){g===u&&(g=0),e=c[g];var v=e[0],y=e[1]/2+O/4,_=Math.sin(y),b=Math.cos(y),w=v-h,x=w>=0?1:-1,S=x*w,C=S>O,E=m*_;if(_e.add(Math.atan2(E*x*Math.sin(S),f*b+E*Math.cos(S))),o+=C?w+x*I:w,C^h>=n^v>=n){var T=d3_geo_cartesianCross(d3_geo_cartesian(d),d3_geo_cartesian(e));d3_geo_cartesianNormalize(T);var M=d3_geo_cartesianCross(i,T);d3_geo_cartesianNormalize(M);var k=(C^w>=0?-1:1)*d3_asin(M[2]);(r>k||r===k&&(T[0]||T[1]))&&(a+=C^w>=0?1:-1)}if(!g++)break;h=v,m=_,f=b,d=e}}return(o<-L||o<L&&_e<-L)^1&a}function d3_geo_clipCircle(e){function visible(e,n){return Math.cos(e)*Math.cos(n)>t}function clipLine(e){var t,i,o,a,s;return{lineStart:function(){a=o=!1,s=1},point:function(l,c){var u,d=[l,c],h=visible(l,c),p=n?h?0:code(l,c):h?code(l+(l<0?O:-O),c):0;if(!t&&(a=o=h)&&e.lineStart(),h!==o&&(u=intersect(t,d),(d3_geo_sphericalEqual(t,u)||d3_geo_sphericalEqual(d,u))&&(d[0]+=L,d[1]+=L,h=visible(d[0],d[1]))),h!==o)s=0,h?(e.lineStart(),u=intersect(d,t),e.point(u[0],u[1])):(u=intersect(t,d),e.point(u[0],u[1]),e.lineEnd()),t=u;else if(r&&t&&n^h){var m;p&i||!(m=intersect(d,t,!0))||(s=0,n?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!h||t&&d3_geo_sphericalEqual(t,d)||e.point(d[0],d[1]),t=d,o=h,i=p},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return s|(a&&o)<<1}}}function intersect(e,n,r){var i=d3_geo_cartesian(e),o=d3_geo_cartesian(n),a=[1,0,0],s=d3_geo_cartesianCross(i,o),l=d3_geo_cartesianDot(s,s),c=s[0],u=l-c*c;if(!u)return!r&&e;var d=t*l/u,h=-t*c/u,p=d3_geo_cartesianCross(a,s),m=d3_geo_cartesianScale(a,d);d3_geo_cartesianAdd(m,d3_geo_cartesianScale(s,h));var g=p,v=d3_geo_cartesianDot(m,g),y=d3_geo_cartesianDot(g,g),_=v*v-y*(d3_geo_cartesianDot(m,m)-1);if(!(_<0)){var b=Math.sqrt(_),w=d3_geo_cartesianScale(g,(-v-b)/y);if(d3_geo_cartesianAdd(w,m),w=d3_geo_spherical(w),!r)return w;var x,S=e[0],C=n[0],E=e[1],T=n[1];C<S&&(x=S,S=C,C=x);var M=C-S,k=f(M-O)<L,A=k||M<L;if(!k&&T<E&&(x=E,E=T,T=x),A?k?E+T>0^w[1]<(f(w[0]-S)<L?E:T):E<=w[1]&&w[1]<=T:M>O^(S<=w[0]&&w[0]<=C)){var D=d3_geo_cartesianScale(g,(-v+b)/y);return d3_geo_cartesianAdd(D,m),[w,d3_geo_spherical(D)]}}}function code(t,r){var i=n?e:O-e,o=0;return t<-i?o|=1:t>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}var t=Math.cos(e),n=t>0,r=f(t)>L;return d3_geo_clip(visible,clipLine,d3_geo_circleInterpolate(e,6*H),n?[0,-e]:[-O,e-O])}function d3_geom_clipLine(e,t,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,c=a.y,u=s.x,d=s.y,h=0,p=1,m=u-l,f=d-c;if(o=e-l,m||!(o>0)){if(o/=m,m<0){if(o<h)return;o<p&&(p=o)}else if(m>0){if(o>p)return;o>h&&(h=o)}if(o=n-l,m||!(o<0)){if(o/=m,m<0){if(o>p)return;o>h&&(h=o)}else if(m>0){if(o<h)return;o<p&&(p=o)}if(o=t-c,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<p&&(p=o)}else if(f>0){if(o>p)return;o>h&&(h=o)}if(o=r-c,f||!(o<0)){if(o/=f,f<0){if(o>p)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<p&&(p=o)}return h>0&&(i.a={x:l+h*m,y:c+h*f}),p<1&&(i.b={x:l+p*m,y:c+p*f}),i}}}}}}function d3_geo_clipExtent(e,t,n,r){function corner(r,i){return f(r[0]-e)<L?i>0?0:3:f(r[0]-n)<L?i>0?2:1:f(r[1]-t)<L?i>0?1:0:i>0?3:2}function compare(e,t){return comparePoints(e.x,t.x)}function comparePoints(e,t){var n=corner(e,1),r=corner(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(i){function insidePolygon(e){for(var t=0,n=s.length,r=e[1],i=0;i<n;++i)for(var o,a=1,l=s[i],c=l.length,u=l[0];a<c;++a)o=l[a],u[1]<=r?o[1]>r&&d3_cross2d(u,o,e)>0&&++t:o[1]<=r&&d3_cross2d(u,o,e)<0&&--t,u=o;return 0!==t}function interpolate(i,o,a,s){var l=0,c=0;if(null==i||(l=corner(i,a))!==(c=corner(o,a))||comparePoints(i,o)<0^a>0)do{s.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+a+4)%4)!==c);else s.point(o[0],o[1])}function pointVisible(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function point(e,t){pointVisible(e,t)&&i.point(e,t)}function lineStart(){b.point=linePoint,s&&s.push(l=[]),f=!0,m=!1,h=p=NaN}function lineEnd(){a&&(linePoint(c,u),d&&m&&y.rejoin(),a.push(y.buffer())),b.point=point,m&&i.lineEnd()}function linePoint(e,t){e=Math.max(-Re,Math.min(Re,e)),t=Math.max(-Re,Math.min(Re,t));var n=pointVisible(e,t);if(s&&l.push([e,t]),f)c=e,u=t,d=n,f=!1,n&&(i.lineStart(),i.point(e,t));else if(n&&m)i.point(e,t);else{var r={a:{x:h,y:p},b:{x:e,y:t}};_(r)?(m||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),g=!1):n&&(i.lineStart(),i.point(e,t),g=!1)}h=e,p=t,m=n}var a,s,l,c,u,d,h,p,m,f,g,v=i,y=d3_geo_clipBufferListener(),_=d3_geom_clipLine(e,t,n,r),b={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){i=y,a=[],s=[],g=!0},polygonEnd:function(){i=v,a=o.merge(a);var t=insidePolygon([e,r]),n=g&&t,c=a.length;(n||c)&&(i.polygonStart(),n&&(i.lineStart(),interpolate(null,null,1,i),i.lineEnd()),c&&d3_geo_clipPolygon(a,compare,t,interpolate,i),i.polygonEnd()),a=s=l=null}};return b}}function d3_geo_conic(e){var t=0,n=O/3,r=d3_geo_projectionMutator(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*O/180,n=e[1]*O/180):[t/O*180,n/O*180]},i}function d3_geo_conicEqualArea(e,t){function forward(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),o-n*Math.cos(e)]}var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;return forward.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,d3_asin((i-(e*e+n*n)*r*r)/(2*r))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(e,t){Ie+=r*e-n*t,n=e,r=t}var e,t,n,r;Be.point=function(i,o){Be.point=nextPoint,e=n=i,t=r=o},Be.lineEnd=function(){nextPoint(e,t)}}function d3_geo_pathBoundsPoint(e,t){e<Fe&&(Fe=e),e>He&&(He=e),t<Ne&&(Ne=t),t>je&&(je=t)}function d3_geo_pathBuffer(){function point(n,r){t.push("M",n,",",r,e)}function pointLineStart(e,r){t.push("M",e,",",r),n.point=pointLine}function pointLine(e,n){t.push("L",e,",",n)}function lineEnd(){n.point=point}function lineEndPolygon(){t.push("Z")}var e=d3_geo_pathBufferCircle(4.5),t=[],n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(t){return e=d3_geo_pathBufferCircle(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};return n}function d3_geo_pathBufferCircle(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function d3_geo_pathCentroidPoint(e,t){Se+=e,Ce+=t,++Ee}function d3_geo_pathCentroidLineStart(){function nextPoint(n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o);Te+=a*(e+n)/2,Me+=a*(t+r)/2,ke+=a,d3_geo_pathCentroidPoint(e=n,t=r)}var e,t;Ye.point=function(n,r){Ye.point=nextPoint,d3_geo_pathCentroidPoint(e=n,t=r)}}function d3_geo_pathCentroidLineEnd(){Ye.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(e,t){var i=e-n,o=t-r,a=Math.sqrt(i*i+o*o);Te+=a*(n+e)/2,Me+=a*(r+t)/2,ke+=a,a=r*e-n*t,Ae+=a*(n+e),De+=a*(r+t),$e+=3*a,d3_geo_pathCentroidPoint(n=e,r=t)}var e,t,n,r;Ye.point=function(i,o){Ye.point=nextPoint,d3_geo_pathCentroidPoint(e=n=i,t=r=o)},Ye.lineEnd=function(){nextPoint(e,t)}}function d3_geo_pathContext(e){function point(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,I)}function pointLineStart(t,r){e.moveTo(t,r),n.point=pointLine}function pointLine(t,n){e.lineTo(t,n)}function lineEnd(){n.point=point}function lineEndPolygon(){e.closePath()}var t=4.5,n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(e){return t=e,n},result:d3_noop};return n}function d3_geo_resample(e){function resample(e){return(r?resampleRecursive:resampleNone)(e)}function resampleNone(t){return d3_geo_transformPoint(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function resampleRecursive(t){function point(n,r){n=e(n,r),t.point(n[0],n[1])}function lineStart(){d=NaN,g.point=linePoint,t.lineStart()}function linePoint(n,i){var o=d3_geo_cartesian([n,i]),a=e(n,i);resampleLineTo(d,h,u,p,m,f,d=a[0],h=a[1],u=n,p=o[0],m=o[1],f=o[2],r,t),t.point(d,h)}function lineEnd(){g.point=point,t.lineEnd()}function ringStart(){lineStart(),g.point=ringPoint,g.lineEnd=ringEnd}function ringPoint(e,t){linePoint(n=e,i=t),o=d,a=h,s=p,l=m,c=f,g.point=linePoint}function ringEnd(){resampleLineTo(d,h,u,p,m,f,o,a,n,s,l,c,r,t),g.lineEnd=lineEnd,lineEnd()}var n,i,o,a,s,l,c,u,d,h,p,m,f,g={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){t.polygonStart(),g.lineStart=ringStart},polygonEnd:function(){t.polygonEnd(),g.lineStart=lineStart}};return g}function resampleLineTo(r,i,o,a,s,l,c,u,d,h,p,m,g,v){var y=c-r,_=u-i,b=y*y+_*_;if(b>4*t&&g--){var w=a+h,x=s+p,S=l+m,C=Math.sqrt(w*w+x*x+S*S),E=Math.asin(S/=C),T=f(f(S)-1)<L||f(o-d)<L?(o+d)/2:Math.atan2(x,w),M=e(T,E),k=M[0],A=M[1],D=k-r,$=A-i,P=_*D-y*$;(P*P/b>t||f((y*D+_*$)/b-.5)>.3||a*h+s*p+l*m<n)&&(resampleLineTo(r,i,o,a,s,l,k,A,T,w/=C,x/=C,S,g,v),v.point(k,A),resampleLineTo(k,A,T,w,x,S,c,u,d,h,p,m,g,v))}}var t=.5,n=Math.cos(30*H),r=16;return resample.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,resample):Math.sqrt(t)},resample}function d3_geo_pathProjectStream(e){var t=d3_geo_resample(function(t,n){return e([t*j,n*j])});return function(e){return d3_geo_projectionRadians(t(e))}}function d3_geo_transform(e){this.stream=e}function d3_geo_transformPoint(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function d3_geo_projection(e){return d3_geo_projectionMutator(function(){return e})()}function d3_geo_projectionMutator(e){function projection(e){return e=r(e[0]*H,e[1]*H),[e[0]*c+i,a-e[1]*c]}function invert(e){return(e=r.invert((e[0]-i)/c,(a-e[1])/c))&&[e[0]*j,e[1]*j]}function reset(){r=d3_geo_compose(n=d3_geo_rotation(m,f,g),t);var e=t(h,p);return i=u-e[0]*c,a=d+e[1]*c,invalidate()}function invalidate(){return s&&(s.valid=!1,s=null),projection}var t,n,r,i,a,s,l=d3_geo_resample(function(e,n){return e=t(e,n),[e[0]*c+i,a-e[1]*c]}),c=150,u=480,d=250,h=0,p=0,m=0,f=0,g=0,v=Le,y=d3_identity,_=null,b=null;return projection.stream=function(e){return s&&(s.valid=!1),s=d3_geo_projectionRadians(v(n,l(y(e)))),s.valid=!0,s},projection.clipAngle=function(e){return arguments.length?(v=null==e?(_=e,Le):d3_geo_clipCircle((_=+e)*H),invalidate()):_},projection.clipExtent=function(e){return arguments.length?(b=e,y=e?d3_geo_clipExtent(e[0][0],e[0][1],e[1][0],e[1][1]):d3_identity,invalidate()):b},projection.scale=function(e){return arguments.length?(c=+e,reset()):c},projection.translate=function(e){return arguments.length?(u=+e[0],d=+e[1],reset()):[u,d]},projection.center=function(e){return arguments.length?(h=e[0]%360*H,p=e[1]%360*H,reset()):[h*j,p*j]},projection.rotate=function(e){return arguments.length?(m=e[0]%360*H,f=e[1]%360*H,g=e.length>2?e[2]%360*H:0,reset()):[m*j,f*j,g*j]},o.rebind(projection,l,"precision"),function(){return t=e.apply(this,arguments),projection.invert=t.invert&&invert,reset()}}function d3_geo_projectionRadians(e){return d3_geo_transformPoint(e,function(t,n){e.point(t*H,n*H)})}function d3_geo_equirectangular(e,t){return[e,t]}function d3_geo_identityRotation(e,t){return[e>O?e-I:e<-O?e+I:e,t]}function d3_geo_rotation(e,t,n){return e?t||n?d3_geo_compose(d3_geo_rotationλ(e),d3_geo_rotationφγ(t,n)):d3_geo_rotationλ(e):t||n?d3_geo_rotationφγ(t,n):d3_geo_identityRotation}function d3_geo_forwardRotationλ(e){return function(t,n){return t+=e,[t>O?t-I:t<-O?t+I:t,n]}}function d3_geo_rotationλ(e){var t=d3_geo_forwardRotationλ(e);return t.invert=d3_geo_forwardRotationλ(-e),t}function d3_geo_rotationφγ(e,t){function rotation(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,c=Math.sin(t),u=c*n+s*r;return[Math.atan2(l*i-u*o,s*n-c*r),d3_asin(u*i+l*o)]}var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),o=Math.sin(t);return rotation.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,c=Math.sin(t),u=c*i-l*o;return[Math.atan2(l*i+c*o,s*n+u*r),d3_asin(u*n-s*r)]},rotation}function d3_geo_circleInterpolate(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var l=a*t;null!=i?(i=d3_geo_circleAngle(n,i),o=d3_geo_circleAngle(n,o),(a>0?i<o:i>o)&&(i+=a*I)):(i=e+a*I,o=e-.5*l);for(var c,u=i;a>0?u>o:u<o;u-=l)s.point((c=d3_geo_spherical([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function d3_geo_circleAngle(e,t){var n=d3_geo_cartesian(t);n[0]-=e,d3_geo_cartesianNormalize(n);var r=d3_acos(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-L)%(2*Math.PI)}function d3_geo_graticuleX(e,t,n){var r=o.range(e,t-L,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function d3_geo_graticuleY(e,t,n){var r=o.range(e,t-L,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function d3_source(e){return e.source}function d3_target(e){return e.target}function d3_geo_interpolate(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(e),c=i*Math.sin(e),u=a*Math.cos(n),d=a*Math.sin(n),h=2*Math.asin(Math.sqrt(d3_haversin(r-t)+i*a*d3_haversin(n-e))),p=1/Math.sin(h),m=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*l+t*u,i=n*c+t*d,a=n*o+t*s;return[Math.atan2(i,r)*j,Math.atan2(a,Math.sqrt(r*r+i*i))*j]}:function(){return[e*j,t*j]};return m.distance=h,m}function d3_geo_lengthLineStart(){function nextPoint(r,i){var o=Math.sin(i*=H),a=Math.cos(i),s=f((r*=H)-e),l=Math.cos(s);ze+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*l)*s),t*o+n*a*l),e=r,t=o,n=a}var e,t,n;qe.point=function(r,i){e=r*H,t=Math.sin(i*=H),n=Math.cos(i),qe.point=nextPoint},qe.lineEnd=function(){qe.point=qe.lineEnd=d3_noop}}function d3_geo_azimuthal(e,t){function azimuthal(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return azimuthal.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},azimuthal}function d3_geo_conicConformal(e,t){function forward(e,t){o>0?t<-N+L&&(t=-N+L):t>N-L&&(t=N-L);var n=o/Math.pow(r(t),i);return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var n=Math.cos(e),r=function(e){return Math.tan(O/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),o=n*Math.pow(r(e),i)/i;return i?(forward.invert=function(e,t){var n=o-t,r=d3_sgn(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(o/r,1/i))-N]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(e,t){function forward(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;return f(r)<L?d3_geo_equirectangular:(forward.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-d3_sgn(r)*Math.sqrt(e*e+n*n)]},forward)}function d3_geo_mercator(e,t){return[e,Math.log(Math.tan(O/4+t/2))]}function d3_geo_mercatorProjection(e){var t,n=d3_geo_projection(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=O*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function d3_geo_transverseMercator(e,t){return[Math.log(Math.tan(O/4+t/2)),-e]}function d3_geom_pointX(e){return e[0]}function d3_geom_pointY(e){return e[1]}function d3_geom_hullUpper(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&d3_cross2d(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function d3_geom_hullOrder(e,t){return e[0]-t[0]||e[1]-t[1]}function d3_geom_polygonInside(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function d3_geom_polygonIntersect(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,l=e[1],c=n[1],u=t[1]-l,d=r[1]-c,h=(s*(l-c)-d*(i-o))/(d*a-s*u);return[i+h*a,l+h*u]}function d3_geom_polygonClosed(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(e){var t=rt.pop()||new d3_geom_voronoiBeach;return t.site=e,t}function d3_geom_voronoiDetachBeach(e){d3_geom_voronoiDetachCircle(e),et.remove(e),rt.push(e),d3_geom_voronoiRedBlackNode(e)}function d3_geom_voronoiRemoveBeach(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];d3_geom_voronoiDetachBeach(e);for(var l=o;l.circle&&f(n-l.circle.x)<L&&f(r-l.circle.cy)<L;)o=l.P,s.unshift(l),d3_geom_voronoiDetachBeach(l),l=o;s.unshift(l),d3_geom_voronoiDetachCircle(l);for(var c=a;c.circle&&f(n-c.circle.x)<L&&f(r-c.circle.cy)<L;)a=c.N,s.push(c),d3_geom_voronoiDetachBeach(c),c=a;s.push(c),d3_geom_voronoiDetachCircle(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],d3_geom_voronoiSetEdgeEnd(c.edge,l.site,c.site,i);l=s[0],c=s[d-1],c.edge=d3_geom_voronoiCreateEdge(l.site,c.site,null,i),d3_geom_voronoiAttachCircle(l),d3_geom_voronoiAttachCircle(c)}function d3_geom_voronoiAddBeach(e){for(var t,n,r,i,o=e.x,a=e.y,s=et._;s;)if((r=d3_geom_voronoiLeftBreakPoint(s,a)-o)>L)s=s.L;else{if(!((i=o-d3_geom_voronoiRightBreakPoint(s,a))>L)){r>-L?(t=s.P,n=s):i>-L?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=d3_geom_voronoiCreateBeach(e);if(et.insert(t,l),t||n){if(t===n)return d3_geom_voronoiDetachCircle(t),n=d3_geom_voronoiCreateBeach(t.site),et.insert(l,n),l.edge=n.edge=d3_geom_voronoiCreateEdge(t.site,l.site),d3_geom_voronoiAttachCircle(t),void d3_geom_voronoiAttachCircle(n);if(!n)return void(l.edge=d3_geom_voronoiCreateEdge(t.site,l.site));d3_geom_voronoiDetachCircle(t),d3_geom_voronoiDetachCircle(n);var c=t.site,u=c.x,d=c.y,h=e.x-u,p=e.y-d,m=n.site,f=m.x-u,g=m.y-d,v=2*(h*g-p*f),y=h*h+p*p,_=f*f+g*g,b={x:(g*y-p*_)/v+u,y:(h*_-f*y)/v+d};d3_geom_voronoiSetEdgeEnd(n.edge,c,m,b),l.edge=d3_geom_voronoiCreateEdge(c,e,null,b),n.edge=d3_geom_voronoiCreateEdge(e,m,null,b),d3_geom_voronoiAttachCircle(t),d3_geom_voronoiAttachCircle(n)}}function d3_geom_voronoiLeftBreakPoint(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;n=a.site;var s=n.x,l=n.y,c=l-t;if(!c)return s;var u=s-r,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+i-o/2)))/d+r:(r+s)/2}function d3_geom_voronoiRightBreakPoint(e,t){var n=e.N;if(n)return d3_geom_voronoiLeftBreakPoint(n,t);var r=e.site;return r.y===t?r.x:1/0}function d3_geom_voronoiCell(e){this.site=e,this.edges=[]}function d3_geom_voronoiCloseCells(e){for(var t,n,r,i,o,a,s,l,c,u,d=e[0][0],h=e[1][0],p=e[0][1],m=e[1][1],g=Qe,v=g.length;v--;)if((o=g[v])&&o.prepare())for(s=o.edges,l=s.length,a=0;a<l;)u=s[a].end(),r=u.x,i=u.y,c=s[++a%l].start(),t=c.x,n=c.y,(f(r-t)>L||f(i-n)>L)&&(s.splice(a,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(o.site,u,f(r-d)<L&&m-i>L?{x:d,y:f(t-d)<L?n:m}:f(i-m)<L&&h-r>L?{x:f(n-m)<L?t:h,y:m}:f(r-h)<L&&i-p>L?{x:h,y:f(t-h)<L?n:p}:f(i-p)<L&&r-d>L?{x:f(n-p)<L?t:d,y:p}:null),o.site,null)),++l)}function d3_geom_voronoiHalfEdgeOrder(e,t){return t.angle-e.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,c=r.y-s,u=o.x-a,d=o.y-s,h=2*(l*d-c*u);if(!(h>=-R)){var p=l*l+c*c,m=u*u+d*d,f=(d*p-c*m)/h,g=(l*m-u*p)/h,d=g+s,v=it.pop()||new d3_geom_voronoiCircle;v.arc=e,v.site=i,v.x=f+a,v.y=d+Math.sqrt(f*f+g*g),v.cy=d,e.circle=v;for(var y=null,_=nt._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}nt.insert(y,v),y||(tt=v)}}}}function d3_geom_voronoiDetachCircle(e){var t=e.circle;t&&(t.P||(tt=t.N),nt.remove(t),it.push(t),d3_geom_voronoiRedBlackNode(t),e.circle=null)}function d3_geom_voronoiClipEdges(e){for(var t,n=Ze,r=d3_geom_clipLine(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!d3_geom_voronoiConnectEdge(t,e)||!r(t)||f(t.a.x-t.b.x)<L&&f(t.a.y-t.b.y)<L)&&(t.a=t.b=null,n.splice(i,1))}function d3_geom_voronoiConnectEdge(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,h=u.x,p=u.y,m=d.x,f=d.y,g=(h+m)/2,v=(p+f)/2;if(f===p){if(g<a||g>=s)return;if(h>m){if(o){if(o.y>=c)return}else o={x:g,y:l};n={x:g,y:c}}else{if(o){if(o.y<l)return}else o={x:g,y:c};n={x:g,y:l}}}else if(r=(h-m)/(f-p),i=v-r*g,r<-1||r>1)if(h>m){if(o){if(o.y>=c)return}else o={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(p<f){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function d3_geom_voronoiEdge(e,t){this.l=e,this.r=t,this.a=this.b=null}function d3_geom_voronoiCreateEdge(e,t,n,r){var i=new d3_geom_voronoiEdge(e,t);return Ze.push(i),n&&d3_geom_voronoiSetEdgeEnd(i,e,t,n),r&&d3_geom_voronoiSetEdgeEnd(i,t,e,r),Qe[e.i].edges.push(new d3_geom_voronoiHalfEdge(i,e,t)),Qe[t.i].edges.push(new d3_geom_voronoiHalfEdge(i,t,e)),i}function d3_geom_voronoiCreateBorderEdge(e,t,n){var r=new d3_geom_voronoiEdge(e,null);return r.a=t,r.b=n,Ze.push(r),r}function d3_geom_voronoiSetEdgeEnd(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function d3_geom_voronoiHalfEdge(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function d3_geom_voronoiRedBlackRotateLeft(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function d3_geom_voronoiRedBlackRotateRight(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function d3_geom_voronoiRedBlackFirst(e){for(;e.L;)e=e.L;return e}function d3_geom_voronoi(e,t){var n,r,i,o=e.sort(d3_geom_voronoiVertexOrder).pop();for(Ze=[],Qe=new Array(e.length),et=new d3_geom_voronoiRedBlackTree,nt=new d3_geom_voronoiRedBlackTree;;)if(i=tt,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(Qe[o.i]=new d3_geom_voronoiCell(o),d3_geom_voronoiAddBeach(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;d3_geom_voronoiRemoveBeach(i.arc)}t&&(d3_geom_voronoiClipEdges(t),d3_geom_voronoiCloseCells(t));var a={cells:Qe,edges:Ze};return et=nt=Ze=Qe=null,a}function d3_geom_voronoiVertexOrder(e,t){return t.y-e.y||t.x-e.x}function d3_geom_voronoiTriangleArea(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function d3_geom_quadtreeCompatX(e){return e.x}function d3_geom_quadtreeCompatY(e){return e.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=t.nodes;l[0]&&d3_geom_quadtreeVisit(e,l[0],n,r,a,s),l[1]&&d3_geom_quadtreeVisit(e,l[1],a,r,i,s),l[2]&&d3_geom_quadtreeVisit(e,l[2],n,s,a,o),l[3]&&d3_geom_quadtreeVisit(e,l[3],a,s,i,o)}}function d3_geom_quadtreeFind(e,t,n,r,i,o,a){var s,l=1/0;return function find(e,c,u,d,h){if(!(c>o||u>a||d<r||h<i)){if(p=e.point){var p,m=t-e.x,f=n-e.y,g=m*m+f*f;if(g<l){var v=Math.sqrt(l=g);r=t-v,i=n-v,o=t+v,a=n+v,s=p}}for(var y=e.nodes,_=.5*(c+d),b=.5*(u+h),w=t>=_,x=n>=b,S=x<<1|w,C=S+4;S<C;++S)if(e=y[3&S])switch(3&S){case 0:find(e,c,u,_,b);break;case 1:find(e,_,u,d,b);break;case 2:find(e,c,b,_,h);break;case 3:find(e,_,b,d,h)}}}(e,r,i,o,a),s}function d3_interpolateRgb(e,t){e=o.rgb(e),t=o.rgb(t);var n=e.r,r=e.g,i=e.b,a=t.r-n,s=t.g-r,l=t.b-i;return function(e){return"#"+d3_rgb_hex(Math.round(n+a*e))+d3_rgb_hex(Math.round(r+s*e))+d3_rgb_hex(Math.round(i+l*e))}}function d3_interpolateObject(e,t){var n,r={},i={};for(n in e)n in t?r[n]=d3_interpolate(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function d3_interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function d3_interpolateString(e,t){var n,r,i,o=at.lastIndex=st.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=at.exec(e))&&(r=st.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:d3_interpolateNumber(n,r)})),o=st.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function d3_interpolate(e,t){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](e,t)););return n}function d3_interpolateArray(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(d3_interpolate(e[n],t[n]));for(;n<o;++n)i[n]=e[n];for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}function d3_ease_clamp(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function d3_ease_reverse(e){return function(t){return 1-e(1-t)}}function d3_ease_reflect(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function d3_ease_quad(e){return e*e}function d3_ease_cubic(e){return e*e*e}function d3_ease_cubicInOut(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(e){return 1-Math.cos(e*N)}function d3_ease_exp(e){return Math.pow(2,10*(e-1))}function d3_ease_circle(e){return 1-Math.sqrt(1-e*e)}function d3_ease_elastic(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/I*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*I/t)}}function d3_ease_back(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function d3_ease_bounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function d3_interpolateHcl(e,t){e=o.hcl(e),t=o.hcl(t);var n=e.h,r=e.c,i=e.l,a=t.h-n,s=t.c-r,l=t.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?t.c:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360),function(e){return d3_hcl_lab(n+a*e,r+s*e,i+l*e)+""}}function d3_interpolateHsl(e,t){e=o.hsl(e),t=o.hsl(t);var n=e.h,r=e.s,i=e.l,a=t.h-n,s=t.s-r,l=t.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?t.s:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360),function(e){return d3_hsl_rgb(n+a*e,r+s*e,i+l*e)+""}}function d3_interpolateLab(e,t){e=o.lab(e),t=o.lab(t);var n=e.l,r=e.a,i=e.b,a=t.l-n,s=t.a-r,l=t.b-i;return function(e){return d3_lab_rgb(n+a*e,r+s*e,i+l*e)+""}}function d3_interpolateRound(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function d3_transform(e){var t=[e.a,e.b],n=[e.c,e.d],r=d3_transformNormalize(t),i=d3_transformDot(t,n),o=d3_transformNormalize(d3_transformCombine(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*j,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*j:0}function d3_transformDot(e,t){return e[0]*t[0]+e[1]*t[1]}function d3_transformNormalize(e){var t=Math.sqrt(d3_transformDot(e,e));return t&&(e[0]/=t,e[1]/=t),t}function d3_transformCombine(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function d3_interpolateTransformPop(e){return e.length?e.pop()+",":""}function d3_interpolateTranslate(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(e[0],t[0])},{i:i-2,x:d3_interpolateNumber(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function d3_interpolateRotate(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(d3_interpolateTransformPop(n)+"rotate(",null,")")-2,x:d3_interpolateNumber(e,t)})):t&&n.push(d3_interpolateTransformPop(n)+"rotate("+t+")")}function d3_interpolateSkew(e,t,n,r){e!==t?r.push({i:n.push(d3_interpolateTransformPop(n)+"skewX(",null,")")-2,x:d3_interpolateNumber(e,t)}):t&&n.push(d3_interpolateTransformPop(n)+"skewX("+t+")")}function d3_interpolateScale(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(d3_interpolateTransformPop(n)+"scale(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(e[0],t[0])},{i:i-2,x:d3_interpolateNumber(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(d3_interpolateTransformPop(n)+"scale("+t+")")}function d3_interpolateTransform(e,t){var n=[],r=[];return e=o.transform(e),t=o.transform(t),d3_interpolateTranslate(e.translate,t.translate,n,r),d3_interpolateRotate(e.rotate,t.rotate,n,r),d3_interpolateSkew(e.skew,t.skew,n,r),d3_interpolateScale(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,o=r.length;++i<o;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function d3_uninterpolateNumber(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function d3_uninterpolateClamp(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function d3_layout_bundlePath(e){for(var t=e.source,n=e.target,r=d3_layout_bundleLeastCommonAncestor(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function d3_layout_bundleAncestors(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function d3_layout_bundleLeastCommonAncestor(e,t){if(e===t)return e;for(var n=d3_layout_bundleAncestors(e),r=d3_layout_bundleAncestors(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function d3_layout_forceDragstart(e){e.fixed|=2}function d3_layout_forceDragend(e){e.fixed&=-7}function d3_layout_forceMouseover(e){e.fixed|=4,e.px=e.x,e.py=e.y}function d3_layout_forceMouseout(e){e.fixed&=-5}function d3_layout_forceAccumulate(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,l=-1;++l<s;)null!=(o=a[l])&&(d3_layout_forceAccumulate(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,i+=c*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function d3_layout_hierarchyRebind(e,t){return o.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=d3_layout_hierarchyLinks,e}function d3_layout_hierarchyVisitBefore(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function d3_layout_hierarchyVisitAfter(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function d3_layout_hierarchyChildren(e){return e.children}function d3_layout_hierarchyValue(e){return e.value}function d3_layout_hierarchySort(e,t){return t.value-e.value}function d3_layout_hierarchyLinks(e){return o.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function d3_layout_stackX(e){return e.x}function d3_layout_stackY(e){return e.y}function d3_layout_stackOut(e,t,n){e.y0=t,e.y=n}function d3_layout_stackOrderDefault(e){return o.range(e.length)}function d3_layout_stackOffsetZero(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function d3_layout_stackMaxIndex(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function d3_layout_stackReduceSum(e){return e.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(e,t){return e+t[1]}function d3_layout_histogramBinSturges(e,t){return d3_layout_histogramBinFixed(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function d3_layout_histogramRange(e){return[o.min(e),o.max(e)]}function d3_layout_packSort(e,t){return e.value-t.value}function d3_layout_packInsert(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function d3_layout_packSplice(e,t){e._pack_next=t,t._pack_prev=e}function d3_layout_packIntersects(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function d3_layout_packSiblings(e){function bound(e){c=Math.min(e.x-e.r,c),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}if((t=e.children)&&(l=t.length)){var t,n,r,i,o,a,s,l,c=1/0,u=-1/0,d=1/0,h=-1/0;if(t.forEach(d3_layout_packLink),n=t[0],n.x=-n.r,n.y=0,bound(n),l>1&&(r=t[1],r.x=r.r,r.y=0,bound(r),l>2))for(i=t[2],d3_layout_packPlace(n,r,i),bound(i),d3_layout_packInsert(n,i),n._pack_prev=i,d3_layout_packInsert(i,r),r=n._pack_next,o=3;o<l;o++){d3_layout_packPlace(n,r,i=t[o]);var p=0,m=1,f=1;for(a=r._pack_next;a!==r;a=a._pack_next,m++)if(d3_layout_packIntersects(a,i)){p=1;break}if(1==p)for(s=n._pack_prev;s!==a._pack_prev&&!d3_layout_packIntersects(s,i);s=s._pack_prev,f++);p?(m<f||m==f&&r.r<n.r?d3_layout_packSplice(n,r=a):d3_layout_packSplice(n=s,r),o--):(d3_layout_packInsert(n,i),r=i,bound(i))}var g=(c+u)/2,v=(d+h)/2,y=0;for(o=0;o<l;o++)i=t[o],i.x-=g,i.y-=v,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=y,t.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(e){e._pack_next=e._pack_prev=e}function d3_layout_packUnlink(e){delete e._pack_next,delete e._pack_prev}function d3_layout_packTransform(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)d3_layout_packTransform(i[o],t,n,r)}function d3_layout_packPlace(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var l=.5+(r-a)/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+l*i+c*o,n.y=e.y+l*o-c*i}else n.x=e.x+r,n.y=e.y}function d3_layout_treeSeparation(e,t){return e.parent==t.parent?1:2}function d3_layout_treeLeft(e){var t=e.children;return t.length?t[0]:e.t}function d3_layout_treeRight(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function d3_layout_treeMove(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function d3_layout_treeShift(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function d3_layout_treeAncestor(e,t,n){return e.a.parent===t.parent?e.a:n}function d3_layout_clusterY(e){return 1+o.max(e,function(e){return e.y})}function d3_layout_clusterX(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function d3_layout_clusterLeft(e){var t=e.children;return t&&t.length?d3_layout_clusterLeft(t[0]):e}function d3_layout_clusterRight(e){var t,n=e.children;return n&&(t=n.length)?d3_layout_clusterRight(n[t-1]):e}function d3_layout_treemapPadNull(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function d3_layout_treemapPad(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function d3_scaleExtent(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function d3_scaleRange(e){return e.rangeExtent?e.rangeExtent():d3_scaleExtent(e.range())}function d3_scale_bilinear(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function d3_scale_nice(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function d3_scale_niceStep(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:yt}function d3_scale_polylinear(e,t,n,r){var i=[],a=[],s=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=l;)i.push(n(e[s-1],e[s])),a.push(r(t[s-1],t[s]));return function(t){var n=o.bisect(e,t,1,l)-1;return a[n](i[n](t))}}function d3_scale_linear(e,t,n,r){function rescale(){var a=Math.min(e.length,t.length)>2?d3_scale_polylinear:d3_scale_bilinear,s=r?d3_uninterpolateClamp:d3_uninterpolateNumber;return i=a(e,t,s,n),o=a(t,e,s,d3_interpolate),scale}function scale(e){return i(e)}var i,o;return scale.invert=function(e){return o(e)},scale.domain=function(t){return arguments.length?(e=t.map(Number),rescale()):e},scale.range=function(e){return arguments.length?(t=e,rescale()):t},scale.rangeRound=function(e){return scale.range(e).interpolate(d3_interpolateRound)},scale.clamp=function(e){return arguments.length?(r=e,rescale()):r},scale.interpolate=function(e){return arguments.length?(n=e,rescale()):n},scale.ticks=function(t){return d3_scale_linearTicks(e,t)},scale.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},scale.nice=function(t){return d3_scale_linearNice(e,t),rescale()},scale.copy=function(){return d3_scale_linear(e,t,n,r)},rescale()}function d3_scale_linearRebind(e,t){return o.rebind(e,t,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(e,t){return d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,t)[2])),d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,t)[2])),e}function d3_scale_linearTickRange(e,t){null==t&&(t=10);var n=d3_scaleExtent(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function d3_scale_linearTicks(e,t){return o.range.apply(o,d3_scale_linearTickRange(e,t))}function d3_scale_linearTickFormat(e,t,n){var r=d3_scale_linearTickRange(e,t);if(n){var i=ae.exec(n);if(i.shift(),"s"===i[8]){var a=o.formatPrefix(Math.max(f(r[0]),f(r[1])));return i[7]||(i[7]="."+d3_scale_linearPrecision(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(e){return n(a.scale(e))+a.symbol}}i[7]||(i[7]="."+d3_scale_linearFormatPrecision(i[8],r)),n=i.join("")}else n=",."+d3_scale_linearPrecision(r[2])+"f";return o.format(n)}function d3_scale_linearPrecision(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(e,t){var n=d3_scale_linearPrecision(t[2]);return e in _t?Math.abs(n-d3_scale_linearPrecision(Math.max(f(t[0]),f(t[1]))))+ +("e"!==e):n-2*("%"===e)}function d3_scale_log(e,t,n,r){function log(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function pow(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function scale(t){return e(log(t))}return scale.invert=function(t){return pow(e.invert(t))},scale.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(log)),scale):r},scale.base=function(n){return arguments.length?(t=+n,e.domain(r.map(log)),scale):t},scale.nice=function(){var t=d3_scale_nice(r.map(log),n?Math:wt);return e.domain(t),r=t.map(pow),scale},scale.ticks=function(){var e=d3_scaleExtent(r),i=[],o=e[0],a=e[1],s=Math.floor(log(o)),l=Math.ceil(log(a)),c=t%1?2:t;if(isFinite(l-s)){if(n){for(;s<l;s++)for(var u=1;u<c;u++)i.push(pow(s)*u);i.push(pow(s))}else for(i.push(pow(s));s++<l;)for(var u=c-1;u>0;u--)i.push(pow(s)*u);for(s=0;i[s]<o;s++);for(l=i.length;i[l-1]>a;l--);i=i.slice(s,l)}return i},scale.tickFormat=function(e,n){if(!arguments.length)return bt;arguments.length<2?n=bt:"function"!=typeof n&&(n=o.format(n));var r=Math.max(1,t*e/scale.ticks().length);return function(e){var i=e/pow(Math.round(log(e)));return i*t<t-.5&&(i*=t),i<=r?n(e):""}},scale.copy=function(){return d3_scale_log(e.copy(),t,n,r)},d3_scale_linearRebind(scale,e)}function d3_scale_pow(e,t,n){function scale(t){return e(r(t))}var r=d3_scale_powPow(t),i=d3_scale_powPow(1/t);return scale.invert=function(t){return i(e.invert(t))},scale.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),scale):n},scale.ticks=function(e){return d3_scale_linearTicks(n,e)},scale.tickFormat=function(e,t){return d3_scale_linearTickFormat(n,e,t)},scale.nice=function(e){return scale.domain(d3_scale_linearNice(n,e))},scale.exponent=function(o){return arguments.length?(r=d3_scale_powPow(t=o),i=d3_scale_powPow(1/t),e.domain(n.map(r)),scale):t},scale.copy=function(){return d3_scale_pow(e.copy(),t,n)},d3_scale_linearRebind(scale,e)}function d3_scale_powPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function d3_scale_ordinal(e,t){function scale(i){return r[((n.get(i)||("range"===t.t?n.set(i,e.push(i)):NaN))-1)%r.length]}function steps(t,n){return o.range(e.length).map(function(e){return t+n*e})}var n,r,i;return scale.domain=function(r){if(!arguments.length)return e;e=[],n=new d3_Map;for(var i,o=-1,a=r.length;++o<a;)n.has(i=r[o])||n.set(i,e.push(i));return scale[t.t].apply(scale,t.a)},scale.range=function(e){return arguments.length?(r=e,i=0,t={t:"range",a:arguments},scale):r},scale.rangePoints=function(n,o){arguments.length<2&&(o=0);var a=n[0],s=n[1],l=e.length<2?(a=(a+s)/2,0):(s-a)/(e.length-1+o);return r=steps(a+l*o/2,l),i=0,t={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(n,o){arguments.length<2&&(o=0);var a=n[0],s=n[1],l=e.length<2?(a=s=Math.round((a+s)/2),0):(s-a)/(e.length-1+o)|0;return r=steps(a+Math.round(l*o/2+(s-a-(e.length-1+o)*l)/2),l),i=0,t={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(n,o,a){arguments.length<2&&(o=0),arguments.length<3&&(a=o);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=(c-l)/(e.length-o+2*a);return r=steps(l+u*a,u),s&&r.reverse(),i=u*(1-o),t={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(n,o,a){arguments.length<2&&(o=0),arguments.length<3&&(a=o);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=Math.floor((c-l)/(e.length-o+2*a));return r=steps(l+Math.round((c-l-(e.length-o)*u)/2),u),s&&r.reverse(),i=Math.round(u*(1-o)),t={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return i},scale.rangeExtent=function(){return d3_scaleExtent(t.a[0])},scale.copy=function(){return d3_scale_ordinal(e,t)},scale.domain(e)}function d3_scale_quantile(e,t){function rescale(){var r=0,i=t.length;for(n=[];++r<i;)n[r-1]=o.quantile(e,r/i);return scale}function scale(e){if(!isNaN(e=+e))return t[o.bisect(n,e)]}var n;return scale.domain=function(t){return arguments.length?(e=t.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):e},scale.range=function(e){return arguments.length?(t=e,rescale()):t},scale.quantiles=function(){return n},scale.invertExtent=function(r){return r=t.indexOf(r),r<0?[NaN,NaN]:[r>0?n[r-1]:e[0],r<n.length?n[r]:e[e.length-1]]},scale.copy=function(){return d3_scale_quantile(e,t)},rescale()}function d3_scale_quantize(e,t,n){function scale(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function rescale(){return r=n.length/(t-e),i=n.length-1,scale}var r,i;return scale.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],rescale()):[e,t]},scale.range=function(e){return arguments.length?(n=e,rescale()):n},scale.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/r+e,[t,t+1/r]},scale.copy=function(){return d3_scale_quantize(e,t,n)},rescale()}function d3_scale_threshold(e,t){function scale(n){if(n<=n)return t[o.bisect(e,n)]}return scale.domain=function(t){return arguments.length?(e=t,scale):e},scale.range=function(e){return arguments.length?(t=e,scale):t},scale.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},scale.copy=function(){return d3_scale_threshold(e,t)},scale}function d3_scale_identity(e){function identity(e){return+e}return identity.invert=identity,identity.domain=identity.range=function(t){return arguments.length?(e=t.map(identity),identity):e},identity.ticks=function(t){return d3_scale_linearTicks(e,t)},identity.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},identity.copy=function(){return d3_scale_identity(e)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(e){return e.innerRadius}function d3_svg_arcOuterRadius(e){return e.outerRadius}function d3_svg_arcStartAngle(e){return e.startAngle}function d3_svg_arcEndAngle(e){return e.endAngle}function d3_svg_arcPadAngle(e){return e&&e.padAngle}function d3_svg_arcSweep(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function d3_svg_arcCornerTangents(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=e[0]+l,d=e[1]+c,h=t[0]+l,p=t[1]+c,m=(u+h)/2,f=(d+p)/2,g=h-u,v=p-d,y=g*g+v*v,_=n-r,b=u*p-h*d,w=(v<0?-1:1)*Math.sqrt(Math.max(0,_*_*y-b*b)),x=(b*v-g*w)/y,S=(-b*g-v*w)/y,C=(b*v+g*w)/y,E=(-b*g+v*w)/y,T=x-m,M=S-f,k=C-m,A=E-f;return T*T+M*M>k*k+A*A&&(x=C,S=E),[[x-l,S-c],[x*n/_,S*n/_]]}function d3_svg_line(e){function line(o){function segment(){l.push("M",i(e(c),a))}for(var s,l=[],c=[],u=-1,d=o.length,h=d3_functor(t),p=d3_functor(n);++u<d;)r.call(this,s=o[u],u)?c.push([+h.call(this,s,u),+p.call(this,s,u)]):c.length&&(segment(),c=[]);return c.length&&segment(),l.length?l.join(""):null}var t=d3_geom_pointX,n=d3_geom_pointY,r=d3_true,i=d3_svg_lineLinear,o=i.key,a=.7;return line.x=function(e){return arguments.length?(t=e,line):t},line.y=function(e){return arguments.length?(n=e,line):n},line.defined=function(e){return arguments.length?(r=e,line):r},line.interpolate=function(e){return arguments.length?(o="function"==typeof e?i=e:(i=Mt.get(e)||d3_svg_lineLinear).key,line):o},line.tension=function(e){return arguments.length?(a=e,line):a},line}function d3_svg_lineLinear(e){return e.length>1?e.join("L"):e+"Z"}function d3_svg_lineLinearClosed(e){return e.join("L")+"Z"}function d3_svg_lineStep(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function d3_svg_lineStepBefore(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function d3_svg_lineStepAfter(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function d3_svg_lineCardinalOpen(e,t){return e.length<4?d3_svg_lineLinear(e):e[1]+d3_svg_lineHermite(e.slice(1,-1),d3_svg_lineCardinalTangents(e,t))}function d3_svg_lineCardinalClosed(e,t){return e.length<3?d3_svg_lineLinearClosed(e):e[0]+d3_svg_lineHermite((e.push(e[0]),e),d3_svg_lineCardinalTangents([e[e.length-2]].concat(e,[e[1]]),t))}function d3_svg_lineCardinal(e,t){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineCardinalTangents(e,t))}function d3_svg_lineHermite(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return d3_svg_lineLinear(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,l++)o=e[l],s=t[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=e[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function d3_svg_lineCardinalTangents(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function d3_svg_lineBasis(e){if(e.length<3)return d3_svg_lineLinear(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",d3_svg_lineDot4(Dt,a),",",d3_svg_lineDot4(Dt,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),d3_svg_lineBasisBezier(l,a,s);return e.pop(),l.push("L",r),l.join("")}function d3_svg_lineBasisOpen(e){if(e.length<4)return d3_svg_lineLinear(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(d3_svg_lineDot4(Dt,o)+","+d3_svg_lineDot4(Dt,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),d3_svg_lineBasisBezier(n,o,a);return n.join("")}function d3_svg_lineBasisClosed(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[d3_svg_lineDot4(Dt,a),",",d3_svg_lineDot4(Dt,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),d3_svg_lineBasisBezier(t,a,s);return t.join("")}function d3_svg_lineBundle(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,c=-1;++c<=n;)r=e[c],i=c/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*l);return d3_svg_lineBasis(e)}function d3_svg_lineDot4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function d3_svg_lineBasisBezier(e,t,n){e.push("C",d3_svg_lineDot4(kt,t),",",d3_svg_lineDot4(kt,n),",",d3_svg_lineDot4(At,t),",",d3_svg_lineDot4(At,n),",",d3_svg_lineDot4(Dt,t),",",d3_svg_lineDot4(Dt,n))}function d3_svg_lineSlope(e,t){return(t[1]-e[1])/(t[0]-e[0])}function d3_svg_lineFiniteDifferences(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=d3_svg_lineSlope(i,o);++t<n;)r[t]=(a+(a=d3_svg_lineSlope(i=o,o=e[t+1])))/2;return r[t]=a,r}function d3_svg_lineMonotoneTangents(e){for(var t,n,r,i,o=[],a=d3_svg_lineFiniteDifferences(e),s=-1,l=e.length-1;++s<l;)t=d3_svg_lineSlope(e[s],e[s+1]),f(t)<L?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,(i=n*n+r*r)>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function d3_svg_lineMonotone(e){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineMonotoneTangents(e))}function d3_svg_lineRadial(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-N,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function d3_svg_area(e){function area(s){function segment(){m.push("M",a(e(g),u),c,l(e(f.reverse()),u),"Z")}for(var d,h,p,m=[],f=[],g=[],v=-1,y=s.length,_=d3_functor(t),b=d3_functor(r),w=t===n?function(){return h}:d3_functor(n),x=r===i?function(){return p}:d3_functor(i);++v<y;)o.call(this,d=s[v],v)?(f.push([h=+_.call(this,d,v),p=+b.call(this,d,v)]),g.push([+w.call(this,d,v),+x.call(this,d,v)])):f.length&&(segment(),f=[],g=[]);return f.length&&segment(),m.length?m.join(""):null}var t=d3_geom_pointX,n=d3_geom_pointX,r=0,i=d3_geom_pointY,o=d3_true,a=d3_svg_lineLinear,s=a.key,l=a,c="L",u=.7;return area.x=function(e){return arguments.length?(t=n=e,area):n},area.x0=function(e){return arguments.length?(t=e,area):t},area.x1=function(e){return arguments.length?(n=e,area):n},area.y=function(e){return arguments.length?(r=i=e,area):i},area.y0=function(e){return arguments.length?(r=e,area):r},area.y1=function(e){return arguments.length?(i=e,area):i},area.defined=function(e){return arguments.length?(o=e,area):o},area.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=Mt.get(e)||d3_svg_lineLinear).key,l=a.reverse||a,c=a.closed?"M":"L",area):s},area.tension=function(e){return arguments.length?(u=e,area):u},area}function d3_svg_chordRadius(e){return e.radius}function d3_svg_diagonalProjection(e){return[e.x,e.y]}function d3_svg_diagonalRadialProjection(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-N;return[n*Math.cos(r),n*Math.sin(r)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(e){var t=Math.sqrt(e/O);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function d3_selection_interruptNS(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function d3_transition(e,t,n){return w(e,Ft),e.namespace=t,e.id=n,e}function d3_transition_tween(e,t,n,r){var i=e.id,o=e.namespace;return d3_selection_each(e,"function"==typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function d3_transition_text(e){return null==e&&(e=""),function(){this.textContent=e}}function d3_transitionNamespace(e){return null==e?"__transition__":"__transition_"+e+"__"}function d3_transitionNode(e,t,n,r,i){function schedule(e){var t=d.delay;if(a.t=t+o,t<=e)return start(e-t);a.c=start}function start(n){var i=u.active,h=u[i];h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[i],h.event&&h.event.interrupt.call(e,e.__data__,h.index));for(var p in u)if(+p<r){var m=u[p];m.timer.c=null,m.timer.t=NaN,--u.count,delete u[p]}a.c=tick,d3_timer(function(){return a.c&&tick(n||1)&&(a.c=null,a.t=NaN),1},0,o),u.active=r,d.event&&d.event.start.call(e,e.__data__,t),c=[],d.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&c.push(r)}),l=d.ease,s=d.duration}function tick(i){for(var o=i/s,a=l(o),h=c.length;h>0;)c[--h].call(e,a);if(o>=1)return d.event&&d.event.end.call(e,e.__data__,t),--u.count?delete u[r]:delete e[n],1}var o,a,s,l,c,u=e[n]||(e[n]={active:0,count:0}),d=u[r];d||(o=i.time,a=d3_timer(schedule,0,o),d=u[r]={tween:new d3_Map,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++u.count)}function d3_svg_axisX(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function d3_svg_axisY(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function d3_time_formatIsoNative(e){return e.toISOString()}function d3_time_scale(e,t,n){function scale(t){return e(t)}function tickMethod(e,n){var r=e[1]-e[0],i=r/n,a=o.bisect(Ut,i);return a==Ut.length?[t.year,d3_scale_linearTickRange(e.map(function(e){return e/31536e6}),n)[2]]:a?t[i/Ut[a-1]<Ut[a]/i?a-1:a]:[Kt,d3_scale_linearTickRange(e,n)[2]]}return scale.invert=function(t){return d3_time_scaleDate(e.invert(t))},scale.domain=function(t){return arguments.length?(e.domain(t),scale):e.domain().map(d3_time_scaleDate)},scale.nice=function(e,t){function skipped(n){return!isNaN(n)&&!e.range(n,d3_time_scaleDate(+n+1),t).length}var n=scale.domain(),r=d3_scaleExtent(n),i=null==e?tickMethod(r,10):"number"==typeof e&&tickMethod(r,e);return i&&(e=i[0],t=i[1]),scale.domain(d3_scale_nice(n,t>1?{floor:function(t){for(;skipped(t=e.floor(t));)t=d3_time_scaleDate(t-1);return t},ceil:function(t){for(;skipped(t=e.ceil(t));)t=d3_time_scaleDate(+t+1);return t}}:e))},scale.ticks=function(e,t){var n=d3_scaleExtent(scale.domain()),r=null==e?tickMethod(n,10):"number"==typeof e?tickMethod(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],d3_time_scaleDate(+n[1]+1),t<1?1:t)},scale.tickFormat=function(){return n},scale.copy=function(){return d3_time_scale(e.copy(),t,n)},d3_scale_linearRebind(scale,e)}function d3_time_scaleDate(e){return new Date(e)}function d3_json(e){return JSON.parse(e.responseText)}function d3_html(e){var t=l.createRange();return t.selectNode(l.body),t.createContextualFragment(e.responseText)}var o={version:"3.5.17"},a=[].slice,s=function(e){return a.call(e)},l=this.document;if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(e){s=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var c=this.Element.prototype,u=c.setAttribute,d=c.setAttributeNS,h=this.CSSStyleDeclaration.prototype,p=h.setProperty;c.setAttribute=function(e,t){u.call(this,e,t+"")},c.setAttributeNS=function(e,t,n){d.call(this,e,t,n+"")},h.setProperty=function(e,t,n){p.call(this,e,t+"",n)}}o.ascending=d3_ascending,o.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},o.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},o.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},o.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)d3_numeric(n=+e[o])&&(r+=n);else for(;++o<i;)d3_numeric(n=+t.call(e,e[o],o))&&(r+=n);return r},o.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)d3_numeric(n=d3_number(e[o]))?r+=n:--a;else for(;++o<i;)d3_numeric(n=d3_number(t.call(e,e[o],o)))?r+=n:--a;if(a)return r/a},o.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},o.median=function(e,t){var n,r=[],i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)d3_numeric(n=d3_number(e[a]))&&r.push(n);else for(;++a<i;)d3_numeric(n=d3_number(t.call(e,e[a],a)))&&r.push(n);if(r.length)return o.quantile(r.sort(d3_ascending),.5)},o.variance=function(e,t){var n,r,i=e.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)d3_numeric(n=d3_number(e[s]))&&(r=n-o,o+=r/++l,a+=r*(n-o));else for(;++s<i;)d3_numeric(n=d3_number(t.call(e,e[s],s)))&&(r=n-o,o+=r/++l,a+=r*(n-o));if(l>1)return a/(l-1)},o.deviation=function(){var e=o.variance.apply(this,arguments);return e?Math.sqrt(e):e};var m=d3_bisector(d3_ascending);o.bisectLeft=m.left,o.bisect=o.bisectRight=m.right,o.bisector=function(e){return d3_bisector(1===e.length?function(t,n){return d3_ascending(e(t),n)}:e)},o.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},o.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},o.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},o.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,n=o.min(e,d3_transposeLength),r=new Array(n);++t<n;)for(var i,a=-1,s=r[t]=new Array(i);++a<i;)s[a]=e[a][t];return r},o.zip=function(){return o.transpose(arguments)},o.keys=function(e){var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},o.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},o.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var f=Math.abs;o.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],o=d3_range_integerScale(f(n)),a=-1;if(e*=o,t*=o,n*=o,n<0)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},o.map=function(e,t){var n=new d3_Map;if(e instanceof d3_Map)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var g="__proto__",y="\0";d3_class(d3_Map,{has:d3_map_has,get:function(e){return this._[d3_map_escape(e)]},set:function(e,t){return this._[d3_map_escape(e)]=t},remove:d3_map_remove,keys:d3_map_keys,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:d3_map_unescape(t),value:this._[t]});return e},size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var t in this._)e.call(this,d3_map_unescape(t),this._[t])}}),o.nest=function(){function map(i,o,a){if(a>=r.length)return t?t.call(n,o):e?o.sort(e):o;for(var s,l,c,u,d=-1,h=o.length,p=r[a++],m=new d3_Map;++d<h;)(u=m.get(s=p(l=o[d])))?u.push(l):m.set(s,[l]);return i?(l=i(),c=function(e,t){l.set(e,map(i,t,a))}):(l={},c=function(e,t){l[e]=map(i,t,a)}),m.forEach(c),l}function entries(e,t){if(t>=r.length)return e;var n=[],o=i[t++];return e.forEach(function(e,r){n.push({key:e,values:entries(r,t)})}),o?n.sort(function(e,t){return o(e.key,t.key)}):n}var e,t,n={},r=[],i=[];return n.map=function(e,t){return map(t,e,0)},n.entries=function(e){return entries(map(o.map,e,0),0)},n.key=function(e){return r.push(e),n},n.sortKeys=function(e){return i[r.length-1]=e,n},n.sortValues=function(t){return e=t,n},n.rollup=function(e){return t=e,n},n},o.set=function(e){var t=new d3_Set;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},d3_class(d3_Set,{has:d3_map_has,add:function(e){return this._[d3_map_escape(e+="")]=!0,e},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var t in this._)e.call(this,d3_map_unescape(t))}}),o.behavior={},o.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=d3_rebind(e,t,t[n]);return e};var _=["webkit","ms","moz","Moz","o","O"];o.dispatch=function(){for(var e=new d3_dispatch,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=d3_dispatch_event(e);return e},d3_dispatch.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},o.event=null,o.requote=function(e){return e.replace(b,"\\$&")};var b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,w={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},x=function(e,t){return t.querySelector(e)},S=function(e,t){return t.querySelectorAll(e)},C=function(e,t){var n=e.matches||e[d3_vendorSymbol(e,"matchesSelector")];return(C=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(x=function(e,t){return Sizzle(e,t)[0]||null},S=Sizzle,C=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var E=o.selection.prototype=[];E.select=function(e){var t,n,r,i,o=[];e=d3_selection_selector(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return d3_selection(o)},E.selectAll=function(e){var t,n,r=[];e=d3_selection_selectorAll(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],l=-1,c=a.length;++l<c;)(n=a[l])&&(r.push(t=s(e.call(n,n.__data__,l,i))),t.parentNode=n);return d3_selection(r)};var T="http://www.w3.org/1999/xhtml",M={svg:"http://www.w3.org/2000/svg",xhtml:T,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};o.ns={prefix:M,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),M.hasOwnProperty(n)?{space:M[n],local:e}:e}},E.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=o.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(d3_selection_attr(t,e[t]));return this}return this.each(d3_selection_attr(e,t))},E.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=d3_selection_classes(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!d3_selection_classedRe(e[i]).test(t))return!1;return!0}for(t in e)this.each(d3_selection_classed(t,e[t]));return this}return this.each(d3_selection_classed(e,t))},E.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.each(d3_selection_style(n,e[n],t));return this}if(r<2){var i=this.node();return d3_window(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(d3_selection_style(e,t,n))},E.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(d3_selection_property(t,e[t]));return this}return this.each(d3_selection_property(e,t))},E.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},E.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},E.append=function(e){return e=d3_selection_creator(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},E.insert=function(e,t){return e=d3_selection_creator(e),t=d3_selection_selector(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},E.remove=function(){return this.each(d3_selectionRemove)},E.data=function(e,t){function bind(e,n){var r,i,o,c=e.length,u=n.length,d=Math.min(c,u),h=new Array(u),p=new Array(u),m=new Array(c);if(t){var f,g=new d3_Map,v=new Array(c);for(r=-1;++r<c;)(i=e[r])&&(g.has(f=t.call(i,i.__data__,r))?m[r]=i:g.set(f,i),v[r]=f);for(r=-1;++r<u;)(i=g.get(f=t.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):p[r]=d3_selection_dataNode(o),g.set(f,!0);for(r=-1;++r<c;)r in v&&!0!==g.get(v[r])&&(m[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],o=n[r],i?(i.__data__=o,h[r]=i):p[r]=d3_selection_dataNode(o);for(;r<u;++r)p[r]=d3_selection_dataNode(n[r]);for(;r<c;++r)m[r]=e[r]}p.update=h,p.parentNode=h.parentNode=m.parentNode=e.parentNode,a.push(p),s.push(h),l.push(m)}var n,r,i=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(e[i]=r.__data__);return e}var a=d3_selection_enter([]),s=d3_selection([]),l=d3_selection([]);if("function"==typeof e)for(;++i<o;)bind(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<o;)bind(n=this[i],e);return s.enter=function(){return a},s.exit=function(){return l},s},E.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},E.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=d3_selection_filter(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return d3_selection(i)},E.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},E.sort=function(e){e=d3_selection_sortComparator.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},E.each=function(e){return d3_selection_each(this,function(t,n,r){e.call(t,t.__data__,n,r)})},E.call=function(e){var t=s(arguments);return e.apply(t[0]=this,t),this},E.empty=function(){return!this.node()},E.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},E.size=function(){var e=0;return d3_selection_each(this,function(){++e}),e};var k=[];o.selection.enter=d3_selection_enter,o.selection.enter.prototype=k,k.append=E.append,k.empty=E.empty,k.node=E.node,k.call=E.call,k.size=E.size,k.select=function(e){for(var t,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(o=i[c])?(t.push(r[c]=n=e.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):t.push(null)}return d3_selection(a)},k.insert=function(e,t){return arguments.length<2&&(t=d3_selection_enterInsertBefore(this)),E.insert.call(this,e,t)},o.select=function(e){var t;return"string"==typeof e?(t=[x(e,l)],t.parentNode=l.documentElement):(t=[e],t.parentNode=d3_documentElement(e)),d3_selection([t])},o.selectAll=function(e){var t;return"string"==typeof e?(t=s(S(e,l)),t.parentNode=l.documentElement):(t=s(e),t.parentNode=null),d3_selection([t])},E.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each(d3_selection_on(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(d3_selection_on(e,t,n))};var A=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});l&&A.forEach(function(e){"on"+e in l&&A.remove(e)});var D,$=0;o.mouse=function(e){return d3_mousePoint(e,d3_eventSource())};var P=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;o.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=d3_eventSource().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return d3_mousePoint(e,r)},o.behavior.drag=function(){function drag(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function dragstart(n,r,i,a,s){return function(){function moved(){var e,t,n=r(d,m);n&&(e=n[0]-y[0],t=n[1]-y[1],p|=e|t,y=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}function ended(){r(d,m)&&(g.on(a+f,null).on(s+f,null),v(p),h({type:"dragend"}))}var l,c=this,u=o.event.target.correspondingElement||o.event.target,d=c.parentNode,h=e.of(c,arguments),p=0,m=n(),f=".drag"+(null==m?"":"-"+m),g=o.select(i(u)).on(a+f,moved).on(s+f,ended),v=d3_event_dragSuppress(u),y=r(d,m);t?(l=t.apply(c,arguments),l=[l.x-y[0],l.y-y[1]]):l=[0,0],h({type:"dragstart"})}}var e=d3_eventDispatch(drag,"drag","dragstart","dragend"),t=null,n=dragstart(d3_noop,o.mouse,d3_window,"mousemove","mouseup"),r=dragstart(d3_behavior_dragTouchId,o.touch,d3_identity,"touchmove","touchend");return drag.origin=function(e){return arguments.length?(t=e,drag):t},o.rebind(drag,e,"on")},o.touches=function(e,t){return arguments.length<2&&(t=d3_eventSource().touches),t?s(t).map(function(t){var n=d3_mousePoint(e,t);return n.identifier=t.identifier,n}):[]};var L=1e-6,R=L*L,O=Math.PI,I=2*O,F=I-L,N=O/2,H=O/180,j=180/O,B=Math.SQRT2;o.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],c=t[2],u=s-i,d=l-o,h=u*u+d*d;if(h<R)r=Math.log(c/a)/B,n=function(e){return[i+e*u,o+e*d,a*Math.exp(B*e*r)]};else{var p=Math.sqrt(h),m=(c*c-a*a+4*h)/(2*a*2*p),f=(c*c-a*a-4*h)/(2*c*2*p),g=Math.log(Math.sqrt(m*m+1)-m),v=Math.log(Math.sqrt(f*f+1)-f);r=(v-g)/B,n=function(e){var t=e*r,n=d3_cosh(g),s=a/(2*p)*(n*d3_tanh(B*t+g)-d3_sinh(g));return[i+s*u,o+s*d,a*n/d3_cosh(B*t+g)]}}return n.duration=1e3*r,n},o.behavior.zoom=function(){function zoom(e){e.on(g,mousedowned).on(Y+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(_,touchstarted)}function location(e){return[(e[0]-d.x)/d.k,(e[1]-d.y)/d.k]}function point(e){return[e[0]*d.k+d.x,e[1]*d.k+d.y]}function scaleTo(e){d.k=Math.max(p[0],Math.min(p[1],e))}function translateTo(e,t){t=point(t),d.x+=e[0]-t[0],d.y+=e[1]-t[1]}function zoomTo(e,n,r,i){e.__chart__={x:d.x,y:d.y,k:d.k},scaleTo(Math.pow(2,i)),translateTo(t=n,r),e=o.select(e),m>0&&(e=e.transition().duration(m)),e.call(zoom.event)}function rescale(){s&&s.domain(a.range().map(function(e){return(e-d.x)/d.k}).map(a.invert)),u&&u.domain(c.range().map(function(e){return(e-d.y)/d.k}).map(c.invert))}function zoomstarted(e){f++||e({type:"zoomstart"})}function zoomed(e){rescale(),e({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function zoomended(e){--f||(e({type:"zoomend"}),t=null)}function mousedowned(){function moved(){n=1,translateTo(o.mouse(e),i),zoomed(t)}function ended(){r.on(v,null).on(y,null),a(n),zoomended(t)}var e=this,t=b.of(e,arguments),n=0,r=o.select(d3_window(e)).on(v,moved).on(y,ended),i=location(o.mouse(e)),a=d3_event_dragSuppress(e);It.call(e),zoomstarted(t)}function touchstarted(){function relocate(){var n=o.touches(t);return e=d.k,n.forEach(function(e){e.identifier in r&&(r[e.identifier]=location(e))}),n}function started(){var e=o.event.target;o.select(e).on(l,moved).on(c,ended),u.push(e);for(var n=o.event.changedTouches,s=0,h=n.length;s<h;++s)r[n[s].identifier]=null;var p=relocate(),m=Date.now();if(1===p.length){if(m-i<500){var f=p[0];zoomTo(t,f,r[f.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),d3_eventPreventDefault()}i=m}else if(p.length>1){var f=p[0],g=p[1],v=f[0]-g[0],y=f[1]-g[1];a=v*v+y*y}}function moved(){var s,l,c,u,d=o.touches(t);It.call(t);for(var h=0,p=d.length;h<p;++h,u=null)if(c=d[h],u=r[c.identifier]){if(l)break;s=c,l=u}if(u){var m=(m=c[0]-s[0])*m+(m=c[1]-s[1])*m,f=a&&Math.sqrt(m/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],scaleTo(f*e)}i=null,translateTo(s,l),zoomed(n)}function ended(){if(o.event.touches.length){for(var e=o.event.changedTouches,t=0,i=e.length;t<i;++t)delete r[e[t].identifier];for(var a in r)return void relocate()}o.selectAll(u).on(s,null),h.on(g,mousedowned).on(_,touchstarted),p(),zoomended(n)}var e,t=this,n=b.of(t,arguments),r={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],h=o.select(t),p=d3_event_dragSuppress(t);started(),zoomstarted(n),h.on(g,null).on(_,started)}function mousewheeled(){var i=b.of(this,arguments);r?clearTimeout(r):(It.call(this),e=location(t=n||o.mouse(this)),zoomstarted(i)),r=setTimeout(function(){r=null,zoomended(i)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*V())*d.k),translateTo(t,e),zoomed(i)}function dblclicked(){var e=o.mouse(this),t=Math.log(d.k)/Math.LN2;zoomTo(this,e,location(e),o.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var e,t,n,r,i,a,s,c,u,d={x:0,y:0,k:1},h=[960,500],p=z,m=250,f=0,g="mousedown.zoom",v="mousemove.zoom",y="mouseup.zoom",_="touchstart.zoom",b=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return Y||(Y="onwheel"in l?(V=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(V=function(){return o.event.wheelDelta},"mousewheel"):(V=function(){return-o.event.detail},"MozMousePixelScroll")),zoom.event=function(e){e.each(function(){var e=b.of(this,arguments),n=d;Rt?o.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},zoomstarted(e)}).tween("zoom:zoom",function(){var r=h[0],i=h[1],a=t?t[0]:r/2,s=t?t[1]:i/2,l=o.interpolateZoom([(a-d.x)/d.k,(s-d.y)/d.k,r/d.k],[(a-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(t){var n=l(t),i=r/n[2];this.__chart__=d={x:a-n[0]*i,y:s-n[1]*i,k:i},zoomed(e)}}).each("interrupt.zoom",function(){zoomended(e)}).each("end.zoom",function(){zoomended(e)}):(this.__chart__=d,zoomstarted(e),zoomed(e),zoomended(e))})},zoom.translate=function(e){return arguments.length?(d={x:+e[0],y:+e[1],k:d.k},rescale(),zoom):[d.x,d.y]},zoom.scale=function(e){return arguments.length?(d={x:d.x,y:d.y,k:null},scaleTo(+e),rescale(),zoom):d.k},zoom.scaleExtent=function(e){return arguments.length?(p=null==e?z:[+e[0],+e[1]],zoom):p},zoom.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],zoom):n},zoom.size=function(e){return arguments.length?(h=e&&[+e[0],+e[1]],zoom):h},zoom.duration=function(e){return arguments.length?(m=+e,zoom):m},zoom.x=function(e){return arguments.length?(s=e,a=e.copy(),d={x:0,y:0,k:1},zoom):s},zoom.y=function(e){return arguments.length?(u=e,c=e.copy(),d={x:0,y:0,k:1},zoom):u},o.rebind(zoom,b,"on")};var V,Y,z=[0,1/0];o.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},o.hsl=d3_hsl;var q=d3_hsl.prototype=new d3_color;q.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_hsl(this.h,this.s,this.l/e)},q.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_hsl(this.h,this.s,e*this.l)},q.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},o.hcl=d3_hcl;var U=d3_hcl.prototype=new d3_color;U.brighter=function(e){return new d3_hcl(this.h,this.c,Math.min(100,this.l+G*(arguments.length?e:1)))},U.darker=function(e){return new d3_hcl(this.h,this.c,Math.max(0,this.l-G*(arguments.length?e:1)))},U.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},o.lab=d3_lab;var G=18,W=.95047,K=1,X=1.08883,J=d3_lab.prototype=new d3_color;J.brighter=function(e){return new d3_lab(Math.min(100,this.l+G*(arguments.length?e:1)),this.a,this.b)},J.darker=function(e){return new d3_lab(Math.max(0,this.l-G*(arguments.length?e:1)),this.a,this.b)},J.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},o.rgb=d3_rgb;var Z=d3_rgb.prototype=new d3_color;Z.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new d3_rgb(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new d3_rgb(i,i,i)},Z.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_rgb(e*this.r,e*this.g,e*this.b)},Z.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},Z.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var Q=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Q.forEach(function(e,t){Q.set(e,d3_rgbNumber(t))}),o.functor=d3_functor,o.xhr=d3_xhrType(d3_identity),o.dsv=function(e,t){function dsv(e,n,r){arguments.length<3&&(r=n,n=null);var i=d3_xhr(e,t,null==n?response:typedResponse(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?response:typedResponse(e)):n},i}function response(e){return dsv.parse(e.responseText)}function typedResponse(e){return function(t){return dsv.parse(t.responseText,e)}}function formatRow(t){return t.map(formatValue).join(e)}function formatValue(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);return dsv.parse=function(e,t){var n;return dsv.parseRows(e,function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i})},dsv.parseRows=function(e,t){function token(){if(c>=l)return a;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var s=e.charCodeAt(n+1);return 13===s?(i=!0,10===e.charCodeAt(n+2)&&++c):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<l;){var s=e.charCodeAt(c++),u=1;if(10===s)i=!0;else if(13===s)i=!0,10===e.charCodeAt(c)&&(++c,++u);else if(s!==r)continue;return e.slice(t,c-u)}return e.slice(t)}for(var n,i,o={},a={},s=[],l=e.length,c=0,u=0;(n=token())!==a;){for(var d=[];n!==o&&n!==a;)d.push(n),n=token();t&&null==(d=t(d,u++))||s.push(d)}return s},dsv.format=function(t){if(Array.isArray(t[0]))return dsv.formatRows(t);var n=new d3_Set,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(formatValue).join(e)].concat(t.map(function(t){return r.map(function(e){return formatValue(t[e])}).join(e)})).join("\n")},dsv.formatRows=function(e){return e.map(formatRow).join("\n")},dsv},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var ee,te,ne,re,ie=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};o.timer=function(){d3_timer.apply(this,arguments)},o.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},o.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var oe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);o.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=o.round(e,d3_format_precision(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),oe[8+n/3]};var ae=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,se=o.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=o.round(e,d3_format_precision(e,t))).toFixed(Math.max(0,Math.min(20,d3_format_precision(e*(1+1e-15),t))))}}),le=o.time={},ce=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ue.setUTCDate.apply(this._,arguments)},setDay:function(){ue.setUTCDay.apply(this._,arguments)},setFullYear:function(){ue.setUTCFullYear.apply(this._,arguments)},setHours:function(){ue.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ue.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ue.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ue.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ue.setUTCSeconds.apply(this._,arguments)},setTime:function(){ue.setTime.apply(this._,arguments)}};var ue=Date.prototype;le.year=d3_time_interval(function(e){return e=le.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),le.years=le.year.range,le.years.utc=le.year.utc.range,le.day=d3_time_interval(function(e){var t=new ce(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),le.days=le.day.range,le.days.utc=le.day.utc.range,le.dayOfYear=function(e){var t=le.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=le[e]=d3_time_interval(function(e){return(e=le.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=le.year(e).getDay();return Math.floor((le.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});le[e+"s"]=n.range,le[e+"s"].utc=n.utc.range,le[e+"OfYear"]=function(e){var n=le.year(e).getDay();return Math.floor((le.dayOfYear(e)+(n+t)%7)/7)}}),le.week=le.sunday,le.weeks=le.sunday.range,le.weeks.utc=le.sunday.utc.range,le.weekOfYear=le.sundayOfYear;var de={"-":"",_:" ",0:"0"},he=/^\s*\d+/,pe=/^%/;o.locale=function(e){return{numberFormat:d3_locale_numberFormat(e),timeFormat:d3_locale_timeFormat(e)}};var me=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});o.format=me.numberFormat,o.geo={},d3_adder.prototype={s:0,t:0,add:function(e){d3_adderSum(e,this.t,fe),d3_adderSum(fe.s,this.s,this),this.s?this.t+=fe.t:this.s=fe.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var fe=new d3_adder;o.geo.stream=function(e,t){e&&ge.hasOwnProperty(e.type)?ge[e.type](e,t):d3_geo_streamGeometry(e,t)};var ge={Feature:function(e,t){d3_geo_streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r].geometry,t)}},ve={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){d3_geo_streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamLine(n[r],t,0)},Polygon:function(e,t){d3_geo_streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamPolygon(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r],t)}};o.geo.area=function(e){return ye=0,o.geo.stream(e,be),ye};var ye,_e=new d3_adder,be={sphere:function(){ye+=4*O},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){_e.reset(),be.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var e=2*_e;ye+=e<0?4*O+e:e,be.lineStart=be.lineEnd=be.point=d3_noop}};o.geo.bounds=function(){function point(i,o){u.push(d=[e=i,n=i]),o<t&&(t=o),o>r&&(r=o)}function linePoint(o,a){var s=d3_geo_cartesian([o*H,a*H]);if(l){var c=d3_geo_cartesianCross(l,s),u=[c[1],-c[0],0],d=d3_geo_cartesianCross(u,c);d3_geo_cartesianNormalize(d),d=d3_geo_spherical(d);var h=o-i,p=h>0?1:-1,m=d[0]*j*p,g=f(h)>180;if(g^(p*i<m&&m<p*o)){var v=d[1]*j;v>r&&(r=v)}else if(m=(m+360)%360-180,g^(p*i<m&&m<p*o)){var v=-d[1]*j;v<t&&(t=v)}else a<t&&(t=a),a>r&&(r=a);g?o<i?angle(e,o)>angle(e,n)&&(n=o):angle(o,n)>angle(e,n)&&(e=o):n>=e?(o<e&&(e=o),o>n&&(n=o)):o>i?angle(e,o)>angle(e,n)&&(n=o):angle(o,n)>angle(e,n)&&(e=o)}else point(o,a);l=s,i=o}function lineStart(){h.point=linePoint}function lineEnd(){d[0]=e,d[1]=n,h.point=point,l=null}function ringPoint(e,t){if(l){var n=e-i;c+=f(n)>180?n+(n>0?360:-360):n}else a=e,s=t;be.point(e,t),linePoint(e,t)}function ringStart(){be.lineStart()}function ringEnd(){ringPoint(a,s),be.lineEnd(),f(c)>L&&(e=-(n=180)),d[0]=e,d[1]=n,l=null}function angle(e,t){return(t-=e)<0?t+360:t}function compareRanges(e,t){return e[0]-t[0]}function withinRange(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var e,t,n,r,i,a,s,l,c,u,d,h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=ringPoint,h.lineStart=ringStart,h.lineEnd=ringEnd,c=0,be.polygonStart()},polygonEnd:function(){be.polygonEnd(),h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,_e<0?(e=-(n=180),t=-(r=90)):c>L?r=90:c<-L&&(t=-90),d[0]=e,d[1]=n}};return function(i){r=n=-(e=t=1/0),u=[],o.geo.stream(i,h);var a=u.length;if(a){u.sort(compareRanges);for(var s,l=1,c=u[0],p=[c];l<a;++l)s=u[l],withinRange(s[0],c)||withinRange(s[1],c)?(angle(c[0],s[1])>angle(c[0],c[1])&&(c[1]=s[1]),angle(s[0],c[1])>angle(c[0],c[1])&&(c[0]=s[0])):p.push(c=s);for(var m,s,f=-1/0,a=p.length-1,l=0,c=p[a];l<=a;c=s,++l)s=p[l],(m=angle(c[1],s[0]))>f&&(f=m,e=s[0],n=c[1])}return u=d=null,e===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,r]]}}(),o.geo.centroid=function(e){we=xe=Se=Ce=Ee=Te=Me=ke=Ae=De=$e=0,o.geo.stream(e,Pe);var t=Ae,n=De,r=$e,i=t*t+n*n+r*r;return i<R&&(t=Te,n=Me,r=ke,xe<L&&(t=Se,n=Ce,r=Ee),(i=t*t+n*n+r*r)<R)?[NaN,NaN]:[Math.atan2(n,t)*j,d3_asin(r/Math.sqrt(i))*j]};var we,xe,Se,Ce,Ee,Te,Me,ke,Ae,De,$e,Pe={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){Pe.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){Pe.lineStart=d3_geo_centroidLineStart}},Le=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-O,-O/2]),Re=1e9;o.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(s){return arguments.length?(o=d3_geo_clipExtent(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){function albersUsa(i){var o=i[0],a=i[1];return e=null,t(o,a),e||(n(o,a),e)||r(o,a),e}var e,t,n,r,i=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return albersUsa.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(e)},albersUsa.stream=function(e){var t=i.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},albersUsa.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),s.precision(e),albersUsa):i.precision()},albersUsa.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),s.scale(e),albersUsa.translate(i.translate())):i.scale()},albersUsa.translate=function(e){if(!arguments.length)return i.translate();var o=i.scale(),c=+e[0],u=+e[1];return t=i.translate(e).clipExtent([[c-.455*o,u-.238*o],[c+.455*o,u+.238*o]]).stream(l).point,n=a.translate([c-.307*o,u+.201*o]).clipExtent([[c-.425*o+L,u+.12*o+L],[c-.214*o-L,u+.234*o-L]]).stream(l).point,r=s.translate([c-.205*o,u+.212*o]).clipExtent([[c-.214*o+L,u+.166*o+L],[c-.115*o-L,u+.234*o-L]]).stream(l).point,albersUsa},albersUsa.scale(1070)};var Oe,Ie,Fe,Ne,He,je,Be={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Ie=0,Be.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){Be.lineStart=Be.lineEnd=Be.point=d3_noop,Oe+=f(Ie/2)}},Ve={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Ye={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){Ye.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){Ye.point=d3_geo_pathCentroidPoint,Ye.lineStart=d3_geo_pathCentroidLineStart,Ye.lineEnd=d3_geo_pathCentroidLineEnd}};o.geo.path=function(){function path(e){return e&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(e,i)),r.result()}function reset(){return i=null,path}var e,t,n,r,i,a=4.5;return path.area=function(e){return Oe=0,o.geo.stream(e,n(Be)),Oe},path.centroid=function(e){return Se=Ce=Ee=Te=Me=ke=Ae=De=$e=0,o.geo.stream(e,n(Ye)),$e?[Ae/$e,De/$e]:ke?[Te/ke,Me/ke]:Ee?[Se/Ee,Ce/Ee]:[NaN,NaN]},path.bounds=function(e){return He=je=-(Fe=Ne=1/0),o.geo.stream(e,n(Ve)),[[Fe,Ne],[He,je]]},path.projection=function(t){return arguments.length?(n=(e=t)?t.stream||d3_geo_pathProjectStream(t):d3_identity,reset()):e},path.context=function(e){return arguments.length?(r=null==(t=e)?new d3_geo_pathBuffer:new d3_geo_pathContext(e),"function"!=typeof a&&r.pointRadius(a),reset()):t},path.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(r.pointRadius(+e),+e),path):a},path.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(e){return{stream:function(t){var n=new d3_geo_transform(t);for(var r in e)n[r]=e[r];return n}}},d3_geo_transform.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=d3_geo_projection,o.geo.projectionMutator=d3_geo_projectionMutator,(o.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,o.geo.rotation=function(e){function forward(t){return t=e(t[0]*H,t[1]*H),t[0]*=j,t[1]*=j,t}return e=d3_geo_rotation(e[0]%360*H,e[1]*H,e.length>2?e[2]*H:0),forward.invert=function(t){return t=e.invert(t[0]*H,t[1]*H),t[0]*=j,t[1]*=j,t},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,o.geo.circle=function(){function circle(){var e="function"==typeof n?n.apply(this,arguments):n,r=d3_geo_rotation(-e[0]*H,-e[1]*H,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=j,e[1]*=j}}),{type:"Polygon",coordinates:[i]}}var e,t,n=[0,0],r=6;return circle.origin=function(e){return arguments.length?(n=e,circle):n},circle.angle=function(n){return arguments.length?(t=d3_geo_circleInterpolate((e=+n)*H,r*H),circle):e},circle.precision=function(n){return arguments.length?(t=d3_geo_circleInterpolate(e*H,(r=+n)*H),circle):r},circle.angle(90)},o.geo.distance=function(e,t){var n,r=(t[0]-e[0])*H,i=e[1]*H,o=t[1]*H,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},o.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return o.range(Math.ceil(r/g)*g,n,g).map(d).concat(o.range(Math.ceil(l/v)*v,s,v).map(h)).concat(o.range(Math.ceil(t/p)*p,e,p).filter(function(e){return f(e%g)>L}).map(c)).concat(o.range(Math.ceil(a/m)*m,i,m).filter(function(e){return f(e%v)>L}).map(u))}var e,t,n,r,i,a,s,l,c,u,d,h,p=10,m=p,g=90,v=360,y=2.5;return graticule.lines=function(){return lines().map(function(e){return{type:"LineString",coordinates:e}})},graticule.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(s).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},graticule.extent=function(e){return arguments.length?graticule.majorExtent(e).minorExtent(e):graticule.minorExtent()},graticule.majorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),l>s&&(e=l,l=s,s=e),graticule.precision(y)):[[r,l],[n,s]]},graticule.minorExtent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),graticule.precision(y)):[[t,a],[e,i]]},graticule.step=function(e){return arguments.length?graticule.majorStep(e).minorStep(e):graticule.minorStep()},graticule.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],graticule):[g,v]},graticule.minorStep=function(e){return arguments.length?(p=+e[0],m=+e[1],graticule):[p,m]},graticule.precision=function(o){return arguments.length?(y=+o,c=d3_geo_graticuleX(a,i,90),u=d3_geo_graticuleY(t,e,y),d=d3_geo_graticuleX(l,s,90),h=d3_geo_graticuleY(r,n,y),graticule):y},graticule.majorExtent([[-180,-90+L],[180,90-L]]).minorExtent([[-180,-80-L],[180,80+L]])},o.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),t||r.apply(this,arguments)]}}var e,t,n=d3_source,r=d3_target;return greatArc.distance=function(){return o.geo.distance(e||n.apply(this,arguments),t||r.apply(this,arguments))},greatArc.source=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,greatArc):n},greatArc.target=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,greatArc):r},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},o.geo.interpolate=function(e,t){return d3_geo_interpolate(e[0]*H,e[1]*H,t[0]*H,t[1]*H)},o.geo.length=function(e){return ze=0,o.geo.stream(e,qe),ze};var ze,qe={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Ue=d3_geo_azimuthal(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(o.geo.azimuthalEqualArea=function(){return d3_geo_projection(Ue)}).raw=Ue;var Ge=d3_geo_azimuthal(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},d3_identity);(o.geo.azimuthalEquidistant=function(){return d3_geo_projection(Ge)}).raw=Ge,(o.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(o.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var We=d3_geo_azimuthal(function(e){return 1/e},Math.atan);(o.geo.gnomonic=function(){return d3_geo_projection(We)}).raw=We,d3_geo_mercator.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-N]},(o.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var Ke=d3_geo_azimuthal(function(){return 1},Math.asin);(o.geo.orthographic=function(){return d3_geo_projection(Ke)}).raw=Ke;var Xe=d3_geo_azimuthal(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(o.geo.stereographic=function(){return d3_geo_projection(Xe)}).raw=Xe,d3_geo_transverseMercator.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-N]},(o.geo.transverseMercator=function(){var e=d3_geo_mercatorProjection(d3_geo_transverseMercator),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=d3_geo_transverseMercator,o.geom={},o.geom.hull=function(e){function hull(e){if(e.length<3)return[];var r,i=d3_functor(t),o=d3_functor(n),a=e.length,s=[],l=[];for(r=0;r<a;r++)s.push([+i.call(this,e[r],r),+o.call(this,e[r],r),r]);for(s.sort(d3_geom_hullOrder),r=0;r<a;r++)l.push([s[r][0],-s[r][1]]);var c=d3_geom_hullUpper(s),u=d3_geom_hullUpper(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],p=[];for(r=c.length-1;r>=0;--r)p.push(e[s[c[r]][2]]);for(r=+d;r<u.length-h;++r)p.push(e[s[u[r]][2]]);return p}var t=d3_geom_pointX,n=d3_geom_pointY;return arguments.length?hull(e):(hull.x=function(e){return arguments.length?(t=e,hull):t},hull.y=function(e){return arguments.length?(n=e,hull):n},hull)},o.geom.polygon=function(e){return w(e,Je),e};var Je=o.geom.polygon.prototype=[];Je.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Je.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},Je.clip=function(e){for(var t,n,r,i,o,a,s=d3_geom_polygonClosed(e),l=-1,c=this.length-d3_geom_polygonClosed(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,i=this[l],o=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],d3_geom_polygonInside(a,u,i)?(d3_geom_polygonInside(o,u,i)||e.push(d3_geom_polygonIntersect(o,a,u,i)),e.push(a)):d3_geom_polygonInside(o,u,i)&&e.push(d3_geom_polygonIntersect(o,a,u,i)),o=a;s&&e.push(e[0]),u=i}return e};var Ze,Qe,et,tt,nt,rt=[],it=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(d3_geom_voronoiHalfEdgeOrder),t.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=d3_geom_voronoiRedBlackFirst(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(d3_geom_voronoiRedBlackRotateLeft(this,n),e=n,n=e.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateRight(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(d3_geom_voronoiRedBlackRotateRight(this,n),e=n,n=e.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?d3_geom_voronoiRedBlackFirst(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,d3_geom_voronoiRedBlackRotateRight(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateRight(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},o.geom.voronoi=function(e){function voronoi(e){var t=new Array(e.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return d3_geom_voronoi(sites(e),o).cells.forEach(function(o,s){var l=o.edges,c=o.site;(t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=e[s]}),t}function sites(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/L)*L,y:Math.round(i(e,t)/L)*L,i:t}})}var t=d3_geom_pointX,n=d3_geom_pointY,r=t,i=n,o=ot;return e?voronoi(e):(voronoi.links=function(e){return d3_geom_voronoi(sites(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},voronoi.triangles=function(e){var t=[];return d3_geom_voronoi(sites(e)).cells.forEach(function(n,r){for(var i,o=n.site,a=n.edges.sort(d3_geom_voronoiHalfEdgeOrder),s=-1,l=a.length,c=a[l-1].edge,u=c.l===o?c.r:c.l;++s<l;)c,i=u,c=a[s].edge,u=c.l===o?c.r:c.l,r<i.i&&r<u.i&&d3_geom_voronoiTriangleArea(o,i,u)<0&&t.push([e[r],e[i.i],e[u.i]])}),t},voronoi.x=function(e){return arguments.length?(r=d3_functor(t=e),voronoi):t},voronoi.y=function(e){return arguments.length?(i=d3_functor(n=e),voronoi):n},voronoi.clipExtent=function(e){return arguments.length?(o=null==e?ot:e,voronoi):o===ot?null:o},voronoi.size=function(e){return arguments.length?voronoi.clipExtent(e&&[[0,0],e]):o===ot?null:o&&o[1]},voronoi)};var ot=[[-1e6,-1e6],[1e6,1e6]];o.geom.delaunay=function(e){return o.geom.voronoi().triangles(e)},o.geom.quadtree=function(e,t,n,r,i){function quadtree(e){function insert(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(f(l-n)+f(c-r)<.01)insertChild(e,t,n,r,i,o,a,s);else{var u=e.point;e.x=e.y=e.point=null,insertChild(e,u,l,c,i,o,a,s),insertChild(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else insertChild(e,t,n,r,i,o,a,s)}function insertChild(e,t,n,r,i,o,a,s){var l=.5*(i+a),c=.5*(o+s),u=n>=l,d=r>=c,h=d<<1|u;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=d3_geom_quadtreeNode()),u?i=l:a=l,d?o=c:s=c,insert(e,t,n,r,i,o,a,s)}var l,c,u,d,h,p,m,g,v,y=d3_functor(a),_=d3_functor(s);if(null!=t)p=t,m=n,g=r,v=i;else if(g=v=-(p=m=1/0),c=[],u=[],h=e.length,o)for(d=0;d<h;++d)l=e[d],l.x<p&&(p=l.x),l.y<m&&(m=l.y),l.x>g&&(g=l.x),l.y>v&&(v=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var b=+y(l=e[d],d),w=+_(l,d);b<p&&(p=b),w<m&&(m=w),b>g&&(g=b),w>v&&(v=w),c.push(b),u.push(w)}var x=g-p,S=v-m;x>S?v=m+x:g=p+S;var C=d3_geom_quadtreeNode();if(C.add=function(e){insert(C,e,+y(e,++d),+_(e,d),p,m,g,v)},C.visit=function(e){d3_geom_quadtreeVisit(e,C,p,m,g,v)},C.find=function(e){return d3_geom_quadtreeFind(C,e[0],e[1],p,m,g,v)},d=-1,null==t){for(;++d<h;)insert(C,e[d],c[d],u[d],p,m,g,v);--d}else e.forEach(C.add);return c=u=e=l=null,C}var o,a=d3_geom_pointX,s=d3_geom_pointY;return(o=arguments.length)?(a=d3_geom_quadtreeCompatX,s=d3_geom_quadtreeCompatY,3===o&&(i=n,r=t,n=t=0),quadtree(e)):(quadtree.x=function(e){return arguments.length?(a=e,quadtree):a},quadtree.y=function(e){return arguments.length?(s=e,quadtree):s},quadtree.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),quadtree):null==t?null:[[t,n],[r,i]]},quadtree.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),quadtree):null==t?null:[r-t,i-n]},quadtree)},o.interpolateRgb=d3_interpolateRgb,o.interpolateObject=d3_interpolateObject,o.interpolateNumber=d3_interpolateNumber,o.interpolateString=d3_interpolateString;var at=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,st=new RegExp(at.source,"g");o.interpolate=d3_interpolate,o.interpolators=[function(e,t){var n=typeof t;return("string"===n?Q.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?d3_interpolateRgb:d3_interpolateString:t instanceof d3_color?d3_interpolateRgb:Array.isArray(t)?d3_interpolateArray:"object"===n&&isNaN(t)?d3_interpolateObject:d3_interpolateNumber)(e,t)}],o.interpolateArray=d3_interpolateArray;var lt=function(){return d3_identity},ct=o.map({linear:lt,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),ut=o.map({in:d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(e){return d3_ease_reflect(d3_ease_reverse(e))}});o.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=ct.get(n)||lt,r=ut.get(r)||d3_identity,d3_ease_clamp(r(n.apply(null,a.call(arguments,1))))},o.interpolateHcl=d3_interpolateHcl,o.interpolateHsl=d3_interpolateHsl,o.interpolateLab=d3_interpolateLab,o.interpolateRound=d3_interpolateRound,o.transform=function(e){var t=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new d3_transform(n?n.matrix:dt)})(e)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dt={a:1,b:0,c:0,d:1,e:0,f:0};o.interpolateTransform=d3_interpolateTransform,o.layout={},o.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(d3_layout_bundlePath(e[n]));return t}},o.layout.chord=function(){function relayout(){var l,u,d,h,p,m={},f=[],g=o.range(r),v=[];for(e=[],t=[],l=0,h=-1;++h<r;){for(u=0,p=-1;++p<r;)u+=n[h][p];f.push(u),v.push(o.range(r)),l+=u}for(i&&g.sort(function(e,t){return i(f[e],f[t])}),a&&v.forEach(function(e,t){e.sort(function(e,r){return a(n[t][e],n[t][r])})}),l=(I-c*r)/l,u=0,h=-1;++h<r;){for(d=u,p=-1;++p<r;){var y=g[h],_=v[y][p],b=n[y][_],w=u,x=u+=b*l;m[y+"-"+_]={index:y,subindex:_,startAngle:w,endAngle:x,value:b}}t[y]={index:y,startAngle:d,endAngle:u,value:f[y]},u+=c}for(h=-1;++h<r;)for(p=h-1;++p<r;){var S=m[h+"-"+p],C=m[p+"-"+h];(S.value||C.value)&&e.push(S.value<C.value?{source:C,target:S}:{source:S,target:C})}s&&resort()}function resort(){e.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var e,t,n,r,i,a,s,l={},c=0;return l.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,e=t=null,l):n},l.padding=function(n){return arguments.length?(c=n,e=t=null,l):c},l.sortGroups=function(n){return arguments.length?(i=n,e=t=null,l):i},l.sortSubgroups=function(t){return arguments.length?(a=t,e=null,l):a},l.sortChords=function(t){return arguments.length?(s=t,e&&resort(),l):s},l.chords=function(){return e||relayout(),e},l.groups=function(){return t||relayout(),t},l},o.layout.force=function(){function repulse(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,l=o*o+a*a;if(s*s/g<l){if(l<m){var c=t.charge/l;e.px-=o*c,e.py-=a*c}return!0}if(t.point&&l&&l<m){var c=t.pointCharge/l;e.px-=o*c,e.py-=a*c}}return!t.charge}}function dragmove(e){e.px=o.event.x,e.py=o.event.y,s.resume()}var e,t,n,r,i,a,s={},l=o.dispatch("start","tick","end"),c=[1,1],u=.9,d=ht,h=pt,p=-30,m=mt,f=.1,g=.64,v=[],y=[];return s.tick=function(){if((n*=.99)<.005)return e=null,l.end({type:"end",alpha:n=0}),!0;var t,s,d,h,m,g,_,b,w,x=v.length,S=y.length;for(s=0;s<S;++s)d=y[s],h=d.source,m=d.target,b=m.x-h.x,w=m.y-h.y,(g=b*b+w*w)&&(g=n*i[s]*((g=Math.sqrt(g))-r[s])/g,b*=g,w*=g,m.x-=b*(_=h.weight+m.weight?h.weight/(h.weight+m.weight):.5),m.y-=w*_,h.x+=b*(_=1-_),h.y+=w*_);if((_=n*f)&&(b=c[0]/2,w=c[1]/2,s=-1,_))for(;++s<x;)d=v[s],d.x+=(b-d.x)*_,d.y+=(w-d.y)*_;if(p)for(d3_layout_forceAccumulate(t=o.geom.quadtree(v),n,a),s=-1;++s<x;)(d=v[s]).fixed||t.visit(repulse(d));for(s=-1;++s<x;)d=v[s],d.fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.chargeDistance=function(e){return arguments.length?(m=e*e,s):Math.sqrt(m)},s.gravity=function(e){return arguments.length?(f=+e,s):f},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,n?t>0?n=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:n=0})):t>0&&(l.start({type:"start",alpha:n=t}),e=d3_timer(s.tick)),s):n},s.start=function(){function position(n,r){if(!t){for(t=new Array(o),c=0;c<o;++c)t[c]=[];for(c=0;c<l;++c){var i=y[c];t[i.source.index].push(i.target),t[i.target.index].push(i.source)}}for(var a,s=t[e],c=-1,u=s.length;++c<u;)if(!isNaN(a=s[c][n]))return a;return Math.random()*r}var e,t,n,o=v.length,l=y.length,u=c[0],m=c[1];for(e=0;e<o;++e)(n=v[e]).index=e,n.weight=0;for(e=0;e<l;++e)n=y[e],"number"==typeof n.source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<o;++e)n=v[e],isNaN(n.x)&&(n.x=position("x",u)),isNaN(n.y)&&(n.y=position("y",m)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(e=0;e<l;++e)r[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)r[e]=d;if(i=[],"function"==typeof h)for(e=0;e<l;++e)i[e]=+h.call(this,y[e],e);else for(e=0;e<l;++e)i[e]=h;if(a=[],"function"==typeof p)for(e=0;e<o;++e)a[e]=+p.call(this,v[e],e);else for(e=0;e<o;++e)a[e]=p;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(t||(t=o.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),!arguments.length)return t;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(t)},o.rebind(s,l,"on")};var ht=20,pt=1,mt=1/0;o.layout.hierarchy=function(){function hierarchy(r){var i,o=[r],a=[];for(r.depth=0;null!=(i=o.pop());)if(a.push(i),(l=t.call(hierarchy,i,i.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)o.push(c=l[s]),c.parent=i,c.depth=i.depth+1;n&&(i.value=0),i.children=l}else n&&(i.value=+n.call(hierarchy,i,i.depth)||0),delete i.children;return d3_layout_hierarchyVisitAfter(r,function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)}),a}var e=d3_layout_hierarchySort,t=d3_layout_hierarchyChildren,n=d3_layout_hierarchyValue;return hierarchy.sort=function(t){return arguments.length?(e=t,hierarchy):e},hierarchy.children=function(e){return arguments.length?(t=e,hierarchy):t},hierarchy.value=function(e){return arguments.length?(n=e,hierarchy):n},hierarchy.revalue=function(e){return n&&(d3_layout_hierarchyVisitBefore(e,function(e){e.children&&(e.value=0)}),d3_layout_hierarchyVisitAfter(e,function(e){var t;e.children||(e.value=+n.call(hierarchy,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},hierarchy},o.layout.partition=function(){function position(e,t,n,r){var i=e.children;if(e.x=t,e.y=e.depth*r,e.dx=n,e.dy=r,i&&(o=i.length)){var o,a,s,l=-1;for(n=e.value?n/e.value:0;++l<o;)position(a=i[l],t,s=a.value*n,r),t+=s}}function depth(e){var t=e.children,n=0;if(t&&(r=t.length))for(var r,i=-1;++i<r;)n=Math.max(n,depth(t[i]));return 1+n}function partition(n,r){var i=e.call(this,n,r);return position(i[0],0,t[0],t[1]/depth(i[0])),i}var e=o.layout.hierarchy(),t=[1,1];return partition.size=function(e){return arguments.length?(t=e,partition):t},d3_layout_hierarchyRebind(partition,e)},o.layout.pie=function(){function pie(a){var s,l=a.length,c=a.map(function(t,n){return+e.call(pie,t,n)}),u=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof r?r.apply(this,arguments):r)-u,h=Math.min(Math.abs(d)/l,+("function"==typeof i?i.apply(this,arguments):i)),p=h*(d<0?-1:1),m=o.sum(c),f=m?(d-l*p)/m:0,g=o.range(l),v=[];return null!=t&&g.sort(t===ft?function(e,t){return c[t]-c[e]}:function(e,n){return t(a[e],a[n])}),g.forEach(function(e){v[e]={data:a[e],value:s=c[e],startAngle:u,endAngle:u+=s*f+p,padAngle:h}}),v}var e=Number,t=ft,n=0,r=I,i=0;return pie.value=function(t){return arguments.length?(e=t,pie):e},pie.sort=function(e){return arguments.length?(t=e,pie):t},pie.startAngle=function(e){return arguments.length?(n=e,pie):n},pie.endAngle=function(e){return arguments.length?(r=e,pie):r},pie.padAngle=function(e){return arguments.length?(i=e,pie):i},pie};var ft={};o.layout.stack=function(){function stack(s,l){if(!(h=s.length))return s;var c=s.map(function(t,n){return e.call(stack,t,n)}),u=c.map(function(e){return e.map(function(e,t){return[i.call(stack,e,t),a.call(stack,e,t)]})}),d=t.call(stack,u,l);c=o.permute(c,d),u=o.permute(u,d);var h,p,m,f,g=n.call(stack,u,l),v=c[0].length;for(m=0;m<v;++m)for(r.call(stack,c[0][m],f=g[m],u[0][m][1]),p=1;p<h;++p)r.call(stack,c[p][m],f+=u[p-1][m][1],u[p][m][1]);return s}var e=d3_identity,t=d3_layout_stackOrderDefault,n=d3_layout_stackOffsetZero,r=d3_layout_stackOut,i=d3_layout_stackX,a=d3_layout_stackY;return stack.values=function(t){return arguments.length?(e=t,stack):e},stack.order=function(e){return arguments.length?(t="function"==typeof e?e:gt.get(e)||d3_layout_stackOrderDefault,stack):t},stack.offset=function(e){return arguments.length?(n="function"==typeof e?e:vt.get(e)||d3_layout_stackOffsetZero,stack):n},stack.x=function(e){return arguments.length?(i=e,stack):i},stack.y=function(e){return arguments.length?(a=e,stack):a},stack.out=function(e){return arguments.length?(r=e,stack):r},stack};var gt=o.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(d3_layout_stackMaxIndex),a=e.map(d3_layout_stackReduceSum),s=o.range(r).sort(function(e,t){return i[e]-i[t]}),l=0,c=0,u=[],d=[];for(t=0;t<r;++t)n=s[t],l<c?(l+=a[n],u.push(n)):(c+=a[n],d.push(n));return d.reverse().concat(u)},reverse:function(e){return o.range(e.length).reverse()},default:d3_layout_stackOrderDefault}),vt=o.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,r,i,o,a,s,l,c,u=e.length,d=e[0],h=d.length,p=[];for(p[0]=l=c=0,n=1;n<h;++n){for(t=0,i=0;t<u;++t)i+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];t<u;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}p[n]=l-=i?o/i*s:0,l<c&&(c=l)}for(n=0;n<h;++n)p[n]-=c;return p},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:d3_layout_stackOffsetZero});o.layout.histogram=function(){function histogram(i,a){for(var s,l,c=[],u=i.map(t,this),d=n.call(this,u,a),h=r.call(this,d,u,a),a=-1,p=u.length,m=h.length-1,f=e?1:1/p;++a<m;)s=c[a]=[],s.dx=h[a+1]-(s.x=h[a]),s.y=0;if(m>0)for(a=-1;++a<p;)(l=u[a])>=d[0]&&l<=d[1]&&(s=c[o.bisect(h,l,1,m)-1],s.y+=f,s.push(i[a]));return c}var e=!0,t=Number,n=d3_layout_histogramRange,r=d3_layout_histogramBinSturges;return histogram.value=function(e){return arguments.length?(t=e,histogram):t},histogram.range=function(e){return arguments.length?(n=d3_functor(e),histogram):n},histogram.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return d3_layout_histogramBinFixed(t,e)}:d3_functor(e),histogram):r},histogram.frequency=function(t){return arguments.length?(e=!!t,histogram):e},histogram},o.layout.pack=function(){function pack(i,o){var a=t.call(this,i,o),s=a[0],l=r[0],c=r[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,d3_layout_hierarchyVisitAfter(s,function(e){e.r=+u(e.value)}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),n){var d=n*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;d3_layout_hierarchyVisitAfter(s,function(e){e.r+=d}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(s,function(e){e.r-=d})}return d3_layout_packTransform(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),a}var e,t=o.layout.hierarchy().sort(d3_layout_packSort),n=0,r=[1,1];return pack.size=function(e){return arguments.length?(r=e,pack):r},pack.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,pack):e},pack.padding=function(e){return arguments.length?(n=+e,pack):n},d3_layout_hierarchyRebind(pack,t)},o.layout.tree=function(){function tree(i,o){var a=e.call(this,i,o),s=a[0],l=wrapTree(s);if(d3_layout_hierarchyVisitAfter(l,firstWalk),l.parent.m=-l.z,d3_layout_hierarchyVisitBefore(l,secondWalk),r)d3_layout_hierarchyVisitBefore(s,sizeNode);else{var c=s,u=s,d=s;d3_layout_hierarchyVisitBefore(s,function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var h=t(c,u)/2-c.x,p=n[0]/(u.x+t(u,c)/2+h),m=n[1]/(d.depth||1);d3_layout_hierarchyVisitBefore(s,function(e){e.x=(e.x+h)*p,e.y=e.depth*m})}return a}function wrapTree(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function firstWalk(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n.length){d3_layout_treeShift(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=apportion(e,i,e.parent.A||r[0])}function secondWalk(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function apportion(e,n,r){if(n){for(var i,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,d=s.m,h=l.m;s=d3_layout_treeRight(s),o=d3_layout_treeLeft(o),s&&o;)l=d3_layout_treeLeft(l),a=d3_layout_treeRight(a),a.a=e,i=s.z+d-o.z-c+t(s._,o._),i>0&&(d3_layout_treeMove(d3_layout_treeAncestor(s,e,r),e,i),c+=i,u+=i),d+=s.m,c+=o.m,h+=l.m,u+=a.m;s&&!d3_layout_treeRight(a)&&(a.t=s,a.m+=d-u),o&&!d3_layout_treeLeft(l)&&(l.t=o,l.m+=c-h,r=e)}return r}function sizeNode(e){e.x*=n[0],e.y=e.depth*n[1]}var e=o.layout.hierarchy().sort(null).value(null),t=d3_layout_treeSeparation,n=[1,1],r=null;return tree.separation=function(e){return arguments.length?(t=e,tree):t},tree.size=function(e){return arguments.length?(r=null==(n=e)?sizeNode:null,tree):r?null:n},tree.nodeSize=function(e){return arguments.length?(r=null==(n=e)?null:sizeNode,tree):r?n:null},d3_layout_hierarchyRebind(tree,e)},o.layout.cluster=function(){function cluster(i,o){var a,s=e.call(this,i,o),l=s[0],c=0;d3_layout_hierarchyVisitAfter(l,function(e){var n=e.children;n&&n.length?(e.x=d3_layout_clusterX(n),e.y=d3_layout_clusterY(n)):(e.x=a?c+=t(e,a):0,e.y=0,a=e)});var u=d3_layout_clusterLeft(l),d=d3_layout_clusterRight(l),h=u.x-t(u,d)/2,p=d.x+t(d,u)/2;return d3_layout_hierarchyVisitAfter(l,r?function(e){e.x=(e.x-l.x)*n[0],e.y=(l.y-e.y)*n[1]}:function(e){e.x=(e.x-h)/(p-h)*n[0],e.y=(1-(l.y?e.y/l.y:1))*n[1]}),s}var e=o.layout.hierarchy().sort(null).value(null),t=d3_layout_treeSeparation,n=[1,1],r=!1;return cluster.separation=function(e){return arguments.length?(t=e,cluster):t},cluster.size=function(e){return arguments.length?(r=null==(n=e),cluster):r?null:n},cluster.nodeSize=function(e){return arguments.length?(r=null!=(n=e),cluster):r?n:null},d3_layout_hierarchyRebind(cluster,e)},o.layout.treemap=function(){function scale(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function squarify(e){var t=e.children;if(t&&t.length){var n,r,i,o=a(e),s=[],c=t.slice(),u=1/0,d="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(scale(c,o.dx*o.dy/e.value),s.area=0;(i=c.length)>0;)s.push(n=c[i-1]),s.area+=n.area,"squarify"!==l||(r=worst(s,d))<=u?(c.pop(),u=r):(s.area-=s.pop().area,position(s,d,o,!1),d=Math.min(o.dx,o.dy),s.length=s.area=0,u=1/0);s.length&&(position(s,d,o,!0),s.length=s.area=0),t.forEach(squarify)}}function stickify(e){var t=e.children;if(t&&t.length){var n,r=a(e),i=t.slice(),o=[];for(scale(i,r.dx*r.dy/e.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(position(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);t.forEach(stickify)}}function worst(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*c/r,r/(t*o*c)):1/0}function position(e,t,r,i){var o,a=-1,s=e.length,l=r.x,c=r.y,u=t?n(e.area/t):0;if(t==r.dx){for((i||u>r.dy)&&(u=r.dy);++a<s;)o=e[a],o.x=l,o.y=c,o.dy=u,l+=o.dx=Math.min(r.x+r.dx-l,u?n(o.area/u):0);o.z=!0,o.dx+=r.x+r.dx-l,r.y+=u,r.dy-=u}else{for((i||u>r.dx)&&(u=r.dx);++a<s;)o=e[a],o.x=l,o.y=c,o.dx=u,c+=o.dy=Math.min(r.y+r.dy-c,u?n(o.area/u):0);o.z=!1,o.dy+=r.y+r.dy-c,r.x+=u,r.dx-=u}}function treemap(n){var i=e||t(n),o=i[0];return o.x=o.y=0,o.value?(o.dx=r[0],o.dy=r[1]):o.dx=o.dy=0,e&&t.revalue(o),scale([o],o.dx*o.dy/o.value),(e?stickify:squarify)(o),s&&(e=i),i}var e,t=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,a=d3_layout_treemapPadNull,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));return treemap.size=function(e){return arguments.length?(r=e,treemap):r},treemap.padding=function(e){function padFunction(t){var n=e.call(treemap,t,t.depth);return null==n?d3_layout_treemapPadNull(t):d3_layout_treemapPad(t,"number"==typeof n?[n,n,n,n]:n)}function padConstant(t){return d3_layout_treemapPad(t,e)}if(!arguments.length)return i;var t;return a=null==(i=e)?d3_layout_treemapPadNull:"function"==(t=typeof e)?padFunction:"number"===t?(e=[e,e,e,e],padConstant):padConstant,treemap},treemap.round=function(e){return arguments.length?(n=e?Math.round:Number,treemap):n!=Number},treemap.sticky=function(t){return arguments.length?(s=t,e=null,treemap):s},treemap.ratio=function(e){return arguments.length?(c=e,treemap):c},treemap.mode=function(e){return arguments.length?(l=e+"",treemap):l},d3_layout_hierarchyRebind(treemap,t)},o.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=o.random.normal.apply(o,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=o.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},o.scale={};var yt={floor:d3_identity,ceil:d3_identity};o.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var _t={s:1,g:1,p:1,r:1,e:1};o.scale.log=function(){return d3_scale_log(o.scale.linear().domain([0,1]),10,!0,[1,10])};var bt=o.format(".0e"),wt={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};o.scale.pow=function(){return d3_scale_pow(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(xt)},o.scale.category20=function(){return o.scale.ordinal().range(St)},o.scale.category20b=function(){return o.scale.ordinal().range(Ct)},o.scale.category20c=function(){return o.scale.ordinal().range(Et)};var xt=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),St=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),Ct=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),Et=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);o.scale.quantile=function(){return d3_scale_quantile([],[])},o.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},o.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},o.scale.identity=function(){return d3_scale_identity([0,1])},o.svg={},o.svg.arc=function(){function arc(){var s=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-N,u=o.apply(this,arguments)-N,d=Math.abs(u-c),h=c>u?0:1;if(l<s&&(p=l,l=s,s=p),d>=F)return circleSegment(l,h)+(s?circleSegment(s,1-h):"")+"Z";var p,m,f,g,v,y,_,b,w,x,S,C,E=0,T=0,M=[];if((g=(+a.apply(this,arguments)||0)/2)&&(f=r===Tt?Math.sqrt(s*s+l*l):+r.apply(this,arguments),h||(T*=-1),l&&(T=d3_asin(f/l*Math.sin(g))),s&&(E=d3_asin(f/s*Math.sin(g)))),l){v=l*Math.cos(c+T),y=l*Math.sin(c+T),_=l*Math.cos(u-T),b=l*Math.sin(u-T);var k=Math.abs(u-c-2*T)<=O?0:1;if(T&&d3_svg_arcSweep(v,y,_,b)===h^k){var A=(c+u)/2;v=l*Math.cos(A),y=l*Math.sin(A),_=b=null}}else v=y=0;if(s){w=s*Math.cos(u-E),x=s*Math.sin(u-E),S=s*Math.cos(c+E),C=s*Math.sin(c+E);var D=Math.abs(c-u+2*E)<=O?0:1;if(E&&d3_svg_arcSweep(w,x,S,C)===1-h^D){var $=(c+u)/2;w=s*Math.cos($),x=s*Math.sin($),S=C=null}}else w=x=0;if(d>L&&(p=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){m=s<l^h?0:1;var P=p,R=p;if(d<O){var I=null==S?[w,x]:null==_?[v,y]:d3_geom_polygonIntersect([v,y],[S,C],[_,b],[w,x]),H=v-I[0],j=y-I[1],B=_-I[0],V=b-I[1],Y=1/Math.sin(Math.acos((H*B+j*V)/(Math.sqrt(H*H+j*j)*Math.sqrt(B*B+V*V)))/2),z=Math.sqrt(I[0]*I[0]+I[1]*I[1]);R=Math.min(p,(s-z)/(Y-1)),P=Math.min(p,(l-z)/(Y+1))}if(null!=_){var q=d3_svg_arcCornerTangents(null==S?[w,x]:[S,C],[v,y],l,P,h),U=d3_svg_arcCornerTangents([_,b],[w,x],l,P,h);p===P?M.push("M",q[0],"A",P,",",P," 0 0,",m," ",q[1],"A",l,",",l," 0 ",1-h^d3_svg_arcSweep(q[1][0],q[1][1],U[1][0],U[1][1]),",",h," ",U[1],"A",P,",",P," 0 0,",m," ",U[0]):M.push("M",q[0],"A",P,",",P," 0 1,",m," ",U[0])}else M.push("M",v,",",y);if(null!=S){var G=d3_svg_arcCornerTangents([v,y],[S,C],s,-R,h),W=d3_svg_arcCornerTangents([w,x],null==_?[v,y]:[_,b],s,-R,h);p===R?M.push("L",W[0],"A",R,",",R," 0 0,",m," ",W[1],"A",s,",",s," 0 ",h^d3_svg_arcSweep(W[1][0],W[1][1],G[1][0],G[1][1]),",",1-h," ",G[1],"A",R,",",R," 0 0,",m," ",G[0]):M.push("L",W[0],"A",R,",",R," 0 0,",m," ",G[0])}else M.push("L",w,",",x)}else M.push("M",v,",",y),null!=_&&M.push("A",l,",",l," 0 ",k,",",h," ",_,",",b),M.push("L",w,",",x),null!=S&&M.push("A",s,",",s," 0 ",D,",",1-h," ",S,",",C);return M.push("Z"),M.join("")}function circleSegment(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var e=d3_svg_arcInnerRadius,t=d3_svg_arcOuterRadius,n=d3_zero,r=Tt,i=d3_svg_arcStartAngle,o=d3_svg_arcEndAngle,a=d3_svg_arcPadAngle;return arc.innerRadius=function(t){return arguments.length?(e=d3_functor(t),arc):e},arc.outerRadius=function(e){return arguments.length?(t=d3_functor(e),arc):t},arc.cornerRadius=function(e){return arguments.length?(n=d3_functor(e),arc):n},arc.padRadius=function(e){return arguments.length?(r=e==Tt?Tt:d3_functor(e),arc):r},arc.startAngle=function(e){return arguments.length?(i=d3_functor(e),arc):i},arc.endAngle=function(e){return arguments.length?(o=d3_functor(e),arc):o},arc.padAngle=function(e){return arguments.length?(a=d3_functor(e),arc):a},arc.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-N;return[Math.cos(r)*n,Math.sin(r)*n]},arc};var Tt="auto";o.svg.line=function(){return d3_svg_line(d3_identity)};var Mt=o.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});Mt.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var kt=[0,2/3,1/3,0],At=[0,1/3,2/3,0],Dt=[0,1/6,2/3,1/6];o.svg.line.radial=function(){var e=d3_svg_line(d3_svg_lineRadial);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,o.svg.area=function(){return d3_svg_area(d3_identity)},o.svg.area.radial=function(){var e=d3_svg_area(d3_svg_lineRadial);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},o.svg.chord=function(){function chord(n,r){var i=subgroup(this,e,n,r),o=subgroup(this,t,n,r);return"M"+i.p0+arc(i.r,i.p1,i.a1-i.a0)+(equals(i,o)?curve(i.r,i.p1,i.r,i.p0):curve(i.r,i.p1,o.r,o.p0)+arc(o.r,o.p1,o.a1-o.a0)+curve(o.r,o.p1,i.r,i.p0))+"Z"}function subgroup(e,t,o,a){var s=t.call(e,o,a),l=n.call(e,s,a),c=r.call(e,s,a)-N,u=i.call(e,s,a)-N;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function equals(e,t){return e.a0==t.a0&&e.a1==t.a1}function arc(e,t,n){return"A"+e+","+e+" 0 "+ +(n>O)+",1 "+t}function curve(e,t,n,r){return"Q 0,0 "+r}var e=d3_source,t=d3_target,n=d3_svg_chordRadius,r=d3_svg_arcStartAngle,i=d3_svg_arcEndAngle;return chord.radius=function(e){return arguments.length?(n=d3_functor(e),chord):n},chord.source=function(t){return arguments.length?(e=d3_functor(t),chord):e},chord.target=function(e){return arguments.length?(t=d3_functor(e),chord):t},chord.startAngle=function(e){return arguments.length?(r=d3_functor(e),chord):r},chord.endAngle=function(e){return arguments.length?(i=d3_functor(e),chord):i},chord},o.svg.diagonal=function(){function diagonal(r,i){var o=e.call(this,r,i),a=t.call(this,r,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=d3_source,t=d3_target,n=d3_svg_diagonalProjection;return diagonal.source=function(t){return arguments.length?(e=d3_functor(t),diagonal):e},diagonal.target=function(e){return arguments.length?(t=d3_functor(e),diagonal):t},diagonal.projection=function(e){return arguments.length?(n=e,diagonal):n},diagonal},o.svg.diagonal.radial=function(){var e=o.svg.diagonal(),t=d3_svg_diagonalProjection,n=e.projection;return e.projection=function(e){return arguments.length?n(d3_svg_diagonalRadialProjection(t=e)):t},e},o.svg.symbol=function(){function symbol(n,r){return($t.get(e.call(this,n,r))||d3_svg_symbolCircle)(t.call(this,n,r))}var e=d3_svg_symbolType,t=d3_svg_symbolSize;return symbol.type=function(t){return arguments.length?(e=d3_functor(t),symbol):e},symbol.size=function(e){return arguments.length?(t=d3_functor(e),symbol):t},symbol};var $t=o.map({circle:d3_svg_symbolCircle,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Lt)),n=t*Lt;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Pt),n=t*Pt/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Pt),n=t*Pt/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});o.svg.symbolTypes=$t.keys();var Pt=Math.sqrt(3),Lt=Math.tan(30*H);E.transition=function(e){for(var t,n,r=Rt||++Nt,i=d3_transitionNamespace(e),o=[],a=Ot||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&d3_transitionNode(n,u,i,r,a),t.push(n)}return d3_transition(o,i,r)},E.interrupt=function(e){return this.each(null==e?It:d3_selection_interruptNS(d3_transitionNamespace(e)))};var Rt,Ot,It=d3_selection_interruptNS(d3_transitionNamespace()),Ft=[],Nt=0;Ft.call=E.call,Ft.empty=E.empty,Ft.node=E.node,Ft.size=E.size,o.transition=function(e,t){return e&&e.transition?Rt?e.transition(t):e:o.selection().transition(e)},o.transition.prototype=Ft,Ft.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=d3_selection_selector(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=e.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),d3_transitionNode(n,u,o,i,r[o][i]),t.push(n)):t.push(null)}return d3_transition(a,o,i)},Ft.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,l=[];e=d3_selection_selectorAll(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,p=d.length;++h<p;)if(r=d[h]){o=r[s][a],n=e.call(r,r.__data__,h,c),l.push(t=[]);for(var m=-1,f=n.length;++m<f;)(i=n[m])&&d3_transitionNode(i,m,s,a,o),t.push(i)}return d3_transition(l,s,a)},Ft.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=d3_selection_filter(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]);for(var n=this[o],s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return d3_transition(i,this.namespace,this.id)},Ft.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):d3_selection_each(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Ft.attr=function(e,t){function attrNull(){this.removeAttribute(r)}function attrNullNS(){this.removeAttributeNS(r.space,r.local)}function attrTween(e){return null==e?attrNull:(e+="",function(){var t,i=this.getAttribute(r);return i!==e&&(t=n(i,e),function(e){this.setAttribute(r,t(e))})})}function attrTweenNS(e){return null==e?attrNullNS:(e+="",function(){var t,i=this.getAttributeNS(r.space,r.local);return i!==e&&(t=n(i,e),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?d3_interpolateTransform:d3_interpolate,r=o.ns.qualify(e);return d3_transition_tween(this,"attr."+e,t,r.local?attrTweenNS:attrTween)},Ft.attrTween=function(e,t){function attrTween(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}}function attrTweenNS(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}var n=o.ns.qualify(e);return this.tween("attr."+e,n.local?attrTweenNS:attrTween)},Ft.style=function(e,t,n){function styleNull(){this.style.removeProperty(e)}function styleString(t){return null==t?styleNull:(t+="",function(){var r,i=d3_window(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=d3_interpolate(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return d3_transition_tween(this,"style."+e,t,styleString)},Ft.styleTween=function(e,t,n){function styleTween(r,i){var o=t.call(this,r,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,styleTween)},Ft.text=function(e){return d3_transition_tween(this,"text",e,d3_transition_text)},Ft.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ft.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=o.ease.apply(o,arguments)),d3_selection_each(this,function(r){r[n][t].ease=e}))},Ft.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:d3_selection_each(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Ft.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:d3_selection_each(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Ft.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Ot,a=Rt;try{Rt=n,d3_selection_each(this,function(t,i,o){Ot=t[r][n],e.call(t,t.__data__,i,o)})}finally{Ot=i,Rt=a}}else d3_selection_each(this,function(i){var a=i[r][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(e,t)});return this},Ft.transition=function(){for(var e,t,n,r,i=this.id,o=++Nt,a=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(e=[]);for(var t=this[l],u=0,d=t.length;u<d;u++)(n=t[u])&&(r=n[a][i],d3_transitionNode(n,u,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return d3_transition(s,a,o)},o.svg.axis=function(){function axis(s){s.each(function(){var s,u=o.select(this),d=this.__chart__||t,h=this.__chart__=t.copy(),p=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,m=null==e?h.tickFormat?h.tickFormat.apply(h,l):d3_identity:e,f=u.selectAll(".tick").data(p,h),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",L),v=o.transition(f.exit()).style("opacity",L).remove(),y=o.transition(f.order()).style("opacity",1),_=Math.max(r,0)+a,b=d3_scaleRange(h),w=u.selectAll(".domain").data([0]),x=(w.enter().append("path").attr("class","domain"),o.transition(w));g.append("line"),g.append("text");var S,C,E,T,M=g.select("line"),k=y.select("line"),A=f.select("text").text(m),D=g.select("text"),$=y.select("text"),P="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=d3_svg_axisX,S="x",E="y",C="x2",T="y2",A.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+P*i+"V0H"+b[1]+"V"+P*i)):(s=d3_svg_axisY,S="y",E="x",C="y2",T="x2",A.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),x.attr("d","M"+P*i+","+b[0]+"H0V"+b[1]+"H"+P*i)),M.attr(T,P*r),D.attr(E,P*_),k.attr(C,0).attr(T,P*r),$.attr(S,0).attr(E,P*_),h.rangeBand){var R=h,O=R.rangeBand()/2;d=h=function(e){return R(e)+O}}else d.rangeBand?d=h:v.call(s,h,d);g.call(s,d,h),y.call(s,h,h)})}var e,t=o.scale.linear(),n=Ht,r=6,i=6,a=3,l=[10],c=null;return axis.scale=function(e){return arguments.length?(t=e,axis):t},axis.orient=function(e){return arguments.length?(n=e in jt?e+"":Ht,axis):n},axis.ticks=function(){return arguments.length?(l=s(arguments),axis):l},axis.tickValues=function(e){return arguments.length?(c=e,axis):c},axis.tickFormat=function(t){return arguments.length?(e=t,axis):e},axis.tickSize=function(e){var t=arguments.length;return t?(r=+e,i=+arguments[t-1],axis):r},axis.innerTickSize=function(e){return arguments.length?(r=+e,axis):r},axis.outerTickSize=function(e){return arguments.length?(i=+e,axis):i},axis.tickPadding=function(e){return arguments.length?(a=+e,axis):a},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var Ht="bottom",jt={top:1,right:1,bottom:1,left:1};o.svg.brush=function(){function brush(e){e.each(function(){var e=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(u,d3_identity);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Bt[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",brush.empty()?"none":null);var a,s=o.transition(e),l=o.transition(t);r&&(a=d3_scaleRange(r),l.attr("x",a[0]).attr("width",a[1]-a[0]),redrawX(s)),i&&(a=d3_scaleRange(i),l.attr("y",a[0]).attr("height",a[1]-a[0]),redrawY(s)),redraw(s)})}function redraw(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+a[+/e$/.test(e)]+","+s[+/^s/.test(e)]+")"})}function redrawX(e){e.select(".extent").attr("x",a[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function redrawY(e){e.select(".extent").attr("y",s[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function brushstart(){function keydown(){32==o.event.keyCode&&(_||(u=null,w[0]-=a[1],w[1]-=s[1],_=2),d3_eventPreventDefault())}function keyup(){32==o.event.keyCode&&2==_&&(w[0]+=a[1],w[1]+=s[1],_=0,d3_eventPreventDefault())}function brushmove(){var e=o.mouse(h),t=!1;d&&(e[0]+=d[0],e[1]+=d[1]),_||(o.event.altKey?(u||(u=[(a[0]+a[1])/2,(s[0]+s[1])/2]),w[0]=a[+(e[0]<u[0])],w[1]=s[+(e[1]<u[1])]):u=null),v&&move1(e,r,0)&&(redrawX(f),t=!0),y&&move1(e,i,1)&&(redrawY(f),t=!0),t&&(redraw(f),m({type:"brush",mode:_?"move":"resize"}))}function move1(n,r,i){var o,d,h=d3_scaleRange(r),p=h[0],m=h[1],f=w[i],g=i?s:a,v=g[1]-g[0];if(_&&(p-=f,m-=v+f),o=(i?c:l)?Math.max(p,Math.min(m,n[i])):n[i],_?d=(o+=f)+v:(u&&(f=Math.max(p,Math.min(m,2*u[i]-o))),f<o?(d=o,o=f):d=f),g[0]!=o||g[1]!=d)return i?t=null:e=null,g[0]=o,g[1]=d,!0}function brushend(){brushmove(),f.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),o.select("body").style("cursor",null),x.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),b(),m({type:"brushend"})}var u,d,h=this,p=o.select(o.event.target),m=n.of(h,arguments),f=o.select(h),g=p.datum(),v=!/^(n|s)$/.test(g)&&r,y=!/^(e|w)$/.test(g)&&i,_=p.classed("extent"),b=d3_event_dragSuppress(h),w=o.mouse(h),x=o.select(d3_window(h)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(o.event.changedTouches?x.on("touchmove.brush",brushmove).on("touchend.brush",brushend):x.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),f.interrupt().selectAll("*").interrupt(),_)w[0]=a[0]-w[0],w[1]=s[0]-w[1];else if(g){var S=+/w$/.test(g),C=+/^n/.test(g);d=[a[1-S]-w[0],s[1-C]-w[1]],w[0]=a[S],w[1]=s[C]}else o.event.altKey&&(u=w.slice());f.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",p.style("cursor")),m({type:"brushstart"}),brushmove()}var e,t,n=d3_eventDispatch(brush,"brushstart","brush","brushend"),r=null,i=null,a=[0,0],s=[0,0],l=!0,c=!0,u=Vt[0];return brush.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:a,y:s,i:e,j:t},l=this.__chart__||i;this.__chart__=i,Rt?o.select(this).transition().each("start.brush",function(){e=l.i,t=l.j,a=l.x,s=l.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=d3_interpolateArray(a,i.x),o=d3_interpolateArray(s,i.y);return e=t=null,function(e){a=i.x=n(e),s=i.y=o(e),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){e=i.i,t=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},brush.x=function(e){return arguments.length?(r=e,u=Vt[!r<<1|!i],brush):r},brush.y=function(e){return arguments.length?(i=e,u=Vt[!r<<1|!i],brush):i},brush.clamp=function(e){return arguments.length?(r&&i?(l=!!e[0],c=!!e[1]):r?l=!!e:i&&(c=!!e),brush):r&&i?[l,c]:r?l:i?c:null},brush.extent=function(n){var o,l,c,u,d;return arguments.length?(r&&(o=n[0],l=n[1],i&&(o=o[0],l=l[0]),e=[o,l],r.invert&&(o=r(o),l=r(l)),l<o&&(d=o,o=l,l=d),o==a[0]&&l==a[1]||(a=[o,l])),i&&(c=n[0],u=n[1],r&&(c=c[1],u=u[1]),t=[c,u],i.invert&&(c=i(c),u=i(u)),u<c&&(d=c,c=u,u=d),c==s[0]&&u==s[1]||(s=[c,u])),brush):(r&&(e?(o=e[0],l=e[1]):(o=a[0],l=a[1],r.invert&&(o=r.invert(o),l=r.invert(l)),l<o&&(d=o,o=l,l=d))),i&&(t?(c=t[0],u=t[1]):(c=s[0],u=s[1],i.invert&&(c=i.invert(c),u=i.invert(u)),u<c&&(d=c,c=u,u=d))),r&&i?[[o,c],[l,u]]:r?[o,l]:i&&[c,u])},brush.clear=function(){return brush.empty()||(a=[0,0],s=[0,0],e=t=null),brush},brush.empty=function(){return!!r&&a[0]==a[1]||!!i&&s[0]==s[1]},o.rebind(brush,n,"on")};var Bt={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vt=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Yt=le.format=me.timeFormat,zt=Yt.utc,qt=zt("%Y-%m-%dT%H:%M:%S.%LZ");Yt.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:qt,d3_time_formatIsoNative.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},d3_time_formatIsoNative.toString=qt.toString,le.second=d3_time_interval(function(e){return new ce(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),le.seconds=le.second.range,le.seconds.utc=le.second.utc.range,le.minute=d3_time_interval(function(e){return new ce(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),le.minutes=le.minute.range,le.minutes.utc=le.minute.utc.range,le.hour=d3_time_interval(function(e){var t=e.getTimezoneOffset()/60;return new ce(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),le.hours=le.hour.range,le.hours.utc=le.hour.utc.range,le.month=d3_time_interval(function(e){return e=le.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),le.months=le.month.range,le.months.utc=le.month.utc.range;var Ut=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gt=[[le.second,1],[le.second,5],[le.second,15],[le.second,30],[le.minute,1],[le.minute,5],[le.minute,15],[le.minute,30],[le.hour,1],[le.hour,3],[le.hour,6],[le.hour,12],[le.day,1],[le.day,2],[le.week,1],[le.month,1],[le.month,3],[le.year,1]],Wt=Yt.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",d3_true]]),Kt={range:function(e,t,n){return o.range(Math.ceil(e/n)*n,+t,n).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};Gt.year=le.year,le.scale=function(){return d3_time_scale(o.scale.linear(),Gt,Wt)};var Xt=Gt.map(function(e){return[e[0].utc,e[1]]}),Jt=zt.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",d3_true]]);Xt.year=le.year.utc,le.scale.utc=function(){return d3_time_scale(o.scale.linear(),Xt,Jt)},o.text=d3_xhrType(function(e){return e.responseText}),o.json=function(e,t){return d3_xhr(e,"application/json",d3_json,t)},o.html=function(e,t){return d3_xhr(e,"text/html",d3_html,t)},o.xml=d3_xhrType(function(e){return e.responseXML}),this.d3=o,r=o,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}()},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(387),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(229),l=_interopRequireDefault(s);t.default=a.default.module("ace.flow",[]).directive("aceFlow",function(){return{restrict:"EA",scope:{options:"="},bindToController:!0,controllerAs:"vm",controller:["$scope","$element","$timeout",function(e,t,n){var r=this,o=new l.default(r.options);r.options.events&&a.default.forEach(r.options.events,function(e,t){o.on(t,function(){var t=Array.prototype.slice.call(arguments);t.unshift(o),n(function(){e.apply(void 0,(0,i.default)(t))})})}),r.$onInit=function(){n(function(){var e=t[0].querySelectorAll("[ace-flow-browse]");o.assignBrowse(e);var n=t[0].querySelectorAll("[ace-flow-drop]");o.assignDrop(n),r.options.onInit&&r.options.onInit(o)})},r.$onDestroy=function(){o.cancel()}}]}})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(388),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){e.exports={default:n(389),__esModule:!0}},function(e,t,n){n(47),n(390),e.exports=n(6).Array.from},function(e,t,n){"use strict";var r=n(24),i=n(11),o=n(32),a=n(83),s=n(84),l=n(53),c=n(391),u=n(85);i(i.S+i.F*!n(90)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,h=o(e),p="function"==typeof this?this:Array,m=arguments.length,f=m>1?arguments[1]:void 0,g=void 0!==f,v=0,y=u(h);if(g&&(f=r(f,m>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(t=l(h.length),n=new p(t);t>v;v++)c(n,v,g?f(h[v],v):h[v]);else for(d=y.call(h),n=new p;!(i=d.next()).done;v++)c(n,v,g?a(d,f,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(13),i=n(28);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(393),a=_interopRequireDefault(o),s=n(398),l=_interopRequireDefault(s),c=n(403),u=_interopRequireDefault(c),d=n(409),h=_interopRequireDefault(d),p=n(415),m=_interopRequireDefault(p),f=n(424),g=_interopRequireDefault(f),v=n(431),y=_interopRequireDefault(v),_=n(443),b=_interopRequireDefault(_),w=n(454),x=_interopRequireDefault(w),S=n(462),C=_interopRequireDefault(S),E=n(468),T=_interopRequireDefault(E),M=n(655),k=_interopRequireDefault(M),A=n(668),D=_interopRequireDefault(A),$=n(674),P=_interopRequireDefault($),L=n(680),R=_interopRequireDefault(L),O=i.default.module("app.components",[a.default.name,l.default.name,u.default.name,h.default.name,m.default.name,g.default.name,y.default.name,b.default.name,x.default.name,C.default.name,T.default.name,k.default.name,D.default.name,P.default.name,R.default.name]);t.default=O},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(394),l=_interopRequireDefault(s),c=i.default.module("menu",[a.default]).directive("menu",l.default).filter("batchUploadSchemas",function(){return function(e){return e?e.filter(function(e){return!e.settings.singular&&0!==e.fields.filter(function(e){return/^(image)$/.test(e.type)}).length}):[]}});t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(395),i=_interopRequireDefault(r),o=n(396),a=_interopRequireDefault(o);n(397);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar title="{{$root.slug}}"><div class="md-toolbar-tools"><h3 title="{{$root.slug}}">{{$root.$config.client.name || \'Fokus\'}}</h3></div></md-toolbar><md-content><md-list><md-list-item ui-sref="dashboard" ui-sref-active="active"><md-icon md-font-set="material-icons">dashboard</md-icon><p>Dashboard</p></md-list-item><md-menu md-offset="220 0" ng-show="$root.$config.schemas.length"><md-list-item ng-click="$mdMenu.open()" ng-class="{active: $root.$helper.testExp(\'new|entity|view\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">create</md-icon><p>Content</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="schema in $root.$config.schemas" ng-if="!schema.settings.hidden"><md-button ng-if="schema.settings.singular" ui-sref="singularEntity({id: schema.slug})">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button><md-button ng-if="!schema.settings.singular" ui-sref="entityGrid({schemaSlug: schema.slug})">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name | pluralize }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="$root.$config.taxonomies.length || $root.$isSuperUser"><md-list-item ng-click="$mdMenu.open()" ng-class="{active: $root.$helper.testExp(\'taxonomy\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">format_list_bulleted</md-icon><p>Taxonomy</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="taxonomy in $root.$config.taxonomies | orderBy: \'name\'"><md-button ui-sref="taxonomy({taxonomySlug: taxonomy.slug})">{{ taxonomy.name }}</md-button></md-menu-item><md-menu-divider ng-if="::$root.$isSuperUser"></md-menu-divider><md-menu-item ng-if="::$root.$isSuperUser"><md-button ng-click="vm.newTaxonomy($event)"><md-icon md-font-set="material-icons">add</md-icon><span>New Taxonomy</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="($root.$permissions.ecommerce || $root.$isSuperUser) &amp;&amp; $root.$config.moduleEnabled.ecommerce"><md-list-item ng-click="$mdMenu.open()" ng-class="{active: $root.$helper.testExp(\'ecommerce\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">shopping_cart</md-icon><p>E-commerce</p></md-list-item><md-menu-content width="4"><md-menu-item><md-button ui-sref="ecommerceOrders">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Orders</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="ecommerceDiscounts">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Discounts</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="ecommerceSettings">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Settings</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="uploadSchemas.length"><md-list-item ng-click="$mdMenu.open()" ng-class="{active: $root.$helper.testExp(\'batchUpload\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">file_upload</md-icon><p>Upload</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="schema in $root.$config.schemas | batchUploadSchemas as uploadSchemas"><md-button ui-sref="batchUploadEntity({schemaSlug: schema.slug})">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><hr><md-list-item ui-sref="trash" ui-sref-active="active"><md-icon md-font-set="material-icons">delete</md-icon><p>Trash</p></md-list-item><md-list-item ui-sref="file" ui-sref-active="active"><md-icon md-font-set="material-icons">folder</md-icon><p>Files</p></md-list-item><md-list-item ui-sref="user" ui-sref-active="active" ng-show="$root.$permissions.user || $root.$isSuperUser"><md-icon md-font-set="material-icons">people</md-icon><p>Users</p></md-list-item><md-list-item ui-sref="settings" ui-sref-active="active" ng-show="$root.$permissions.settings || $root.$isSuperUser"><md-icon md-font-set="material-icons">settings</md-icon><p>Settings</p></md-list-item><hr><md-list-item ng-show="$root.$config.client.baseUrl" ng-click="vm.preview()"><md-icon md-font-set="material-icons">desktop_mac</md-icon><p>Preview</p></md-list-item><md-list-item ng-href="{{:: $root.clientBasePath + $root.slug }}/logout" target="_self"><md-icon md-font-set="material-icons">exit_to_app</md-icon><p>Logout</p></md-list-item><hr><md-menu md-offset="220 0" ng-if="::$root.$isSuperUser"><md-list-item ng-click="$mdMenu.open()" ui-sref-active ng-class="{active: $root.$helper.testExp(\'schemas|tools\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">settings_applications</md-icon><p>Admin</p></md-list-item><md-menu-content width="4"><md-menu-item><md-button ui-sref="config">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Config</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="schemas">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Schemas</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="tools">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>Tools</span></md-button></md-menu-item></md-menu-content></md-menu></md-list></md-content>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(2),l=_interopRequireDefault(s),c=function MenuController(e,t,n,r,o,s,c){var u=this;(0,l.default)(this,MenuController);var d=this;r.onSuccess({to:"*"},function(e){n.previous=""===e.from().name?null:e.from(),n.previousParams=e.params("from"),o("mainMenu").close()}),e.toggleMainMenu=function(){o("mainMenu").toggle()},d.newTaxonomy=function(){var e=(0,a.default)(i.default.mark(function _callee(e){var t;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.editTaxonomy(null,e);case 2:t=r.sent,t&&n.go("taxonomy",{taxonomySlug:t.slug});case 4:case"end":return r.stop()}},_callee,u)}));return function(t){return e.apply(this,arguments)}}(),d.preview=function(){t.open(s.getConfig().client.baseUrl+"?apiToken="+e.apiToken)}};c.$inject=["$rootScope","$window","$state","$transitions","$mdSidenav","ConfigFactory","TaxonomyFactory"],t.default=c},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(399),l=_interopRequireDefault(s),c=i.default.module("dashboard",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("dashboard",{url:"/",views:{content:{template:"<dashboard></dashboard>"}}})}]).directive("dashboard",l.default);t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(400),i=_interopRequireDefault(r),o=n(401),a=_interopRequireDefault(o);n(402);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Dashboard</h3></div></md-toolbar><md-content><div layout="row" layout-padding layout-wrap><div flex="100"><md-card><md-card-title><md-card-title-text><h4 class="md-headline">Hi {{$root.$user.firstName || $root.$user.id}}!</h4></md-card-title-text></md-card-title></md-card></div><div flex-gt-xs="60" flex="100"><md-card><md-card-title><md-card-title-text><h4 class="md-title">Sessions</h4></md-card-title-text></md-card-title><md-card-content><p ng-if="!vm.gaView">Sessions info will appear here pending setup</p><div ng-if="vm.sessionsChart &amp;&amp; vm.gaView" class="chart chart--sessions"><div class="chart__wrapper"><ace-c3 options="vm.sessionsChart"></ace-c3></div></div></md-card-content></md-card></div><div flex-gt-xs="40" flex="100"><md-card><md-card-title><md-card-title-text><h4 class="md-title">Top Referrals</h4></md-card-title-text></md-card-title><md-card-content><p ng-if="!vm.gaView">Referrals info will appear here pending setup</p><md-table-container ng-if="vm.referrals &amp;&amp; vm.gaView"><table md-table><thead md-head><tr md-row><th md-column>Source</th><th md-column>Sessions</th></tr></thead><tbody md-body><tr md-row ng-repeat="referral in vm.referrals"><td md-cell><a href="http://{{referral.fullReferrer}}" target="_blank">{{referral.source}}</a></td><td md-cell>{{referral.sessions}}</td></tr></tbody></table></md-table-container></md-card-content></md-card></div></div></md-content>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(0),a=_interopRequireDefault(o),s=function DashboardController(e,t,n,r){(0,i.default)(this,DashboardController);var o=this,s=n.getConfig();if(s.client.baseUrl&&""!==s.client.baseUrl){var l=new t.URL(s.client.baseUrl||""),c=l.hostname.split(".");c=c.length>=3?c.splice(1).join("."):c.join(".");var u=t.location.hostname.split(".");u=u.length>=3?u.splice(1).join("."):u.join(".");var d=[u,"localhost"],h=d.map(function(e){return"ga:source!~"+e}).join(";");s.client.gaView&&(o.gaView=s.client.gaView,r.analytics({ids:"ga:"+s.client.gaView,"start-date":"7daysAgo","end-date":"today",dimensions:"ga:date,ga:nthDay",metrics:"ga:sessions",filters:"ga:hostname=~"+c+";"+h}).then(function(e){if(0!==e.totalResults){var t=e.rows.map(function(e){return{sessions:e[2],date:(0,a.default)(e[0],"YYYYMMDD").format("DD/MM")}});o.sessionsChart={data:{x:"x ",json:t,keys:{x:"date",value:["sessions"]},names:{sessions:"Sessions"}},axis:{x:{type:"category"}}}}}),r.analytics({ids:"ga:"+s.client.gaView,"start-date":"7daysAgo","end-date":"today",dimensions:"ga:source,ga:referralPath",metrics:"ga:sessions",filters:"ga:medium==referral;ga:hostname=~"+c+";"+h,sort:"-ga:sessions"}).then(function(e){if(0===e.totalResults)return void(o.referrals=[]);var t=e.rows.map(function(e){return{source:e[0],fullReferrer:e[0]+e[1],sessions:e[2]}});o.referrals=t.slice(0,5)}))}};s.$inject=["$rootScope","$window","ConfigFactory","HelperFactory"],t.default=s},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(404),l=_interopRequireDefault(s),c=n(408),u=_interopRequireDefault(c),d=i.default.module("settings",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("settings",{url:"/settings",views:{content:{template:"<settings></settings>"}},data:{permissions:"settings"}})}]).factory("SettingsFactory",u.default).directive("settings",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(405),i=_interopRequireDefault(r),o=n(406),a=_interopRequireDefault(o);n(407);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Settings</h2><span flex></span><md-button ng-click="vm.save()" ng-disabled="vm.form.$invalid">Save</md-button></div></md-toolbar><md-content><form name="vm.form" role="form" novalidate><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>General</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Metadata Description</label><textarea ng-model="vm.config.client.metadata.description"></textarea></md-input-container></div><span ng-show="vm.config.providerEnabled.instagram"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Instagram</h3><span flex></span><md-button ng-click="vm.authenticateWithProvider(\'instagram\')">{{ vm.config.provider.instagram.access_token ? \'Reconnect\' : \'Connect\' }}</md-button><span ng-show="vm.config.provider.instagram"><md-button ng-click="vm.config.provider.instagram = null">Disconnect</md-button></span></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div ng-show="!vm.config.provider.instagram" class="md-subhead">Connect your Instagram account</div><md-list-item ng-show="vm.config.provider.instagram"><img ng-src="{{vm.config.provider.instagram.user.profile_picture}}" class="md-avatar"><div class="md-list-item-text"><a href="https://instagram.com/{{vm.config.provider.instagram.user.username}}" target="_blank">@{{vm.config.provider.instagram.user.username}}</a></div></md-list-item></div></span><span ng-show="vm.config.providerEnabled.vimeo"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Vimeo</h3><span flex></span><md-button ng-click="vm.authenticateWithProvider(\'vimeo\')">{{ vm.config.provider.vimeo ? \'Reconnect\' : \'Connect\' }}</md-button><span ng-show="vm.config.provider.vimeo"><md-button ng-click="vm.config.provider.vimeo = null">Disconnect</md-button></span></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div ng-show="!vm.config.provider.vimeo" class="md-subhead">Connect your Vimeo account</div><md-list-item ng-show="vm.config.provider.vimeo"><img ng-src="{{vm.config.provider.vimeo.user.pictures[3].link}}" class="md-avatar"><div class="md-list-item-text"><a href="{{vm.config.provider.vimeo.user.link}}" target="_blank">{{vm.config.provider.vimeo.user.name}}</a></div></md-list-item></div></span></form></md-content>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function SettingsController(e,t){(0,i.default)(this,SettingsController);var n=this;n.config=e.getConfig(),n.save=function(){t.save(n.config.client)},n.authenticateWithProvider=function(t){e.authenticateWithProvider(t).then(function(t){n.config=t,e.setConfig(t)})}};o.$inject=["ConfigFactory","SettingsFactory"],t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=function(e,t,n){"ngInject";var r={};return r.save=function(){var r=(0,a.default)(i.default.mark(function _callee(r){var o;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.post(n.apiUrl+"/settings",{settings:r});case 2:o=i.sent.data,t.setConfig(o);case 4:case"end":return i.stop()}},_callee,void 0)}));return function(e){return r.apply(this,arguments)}}(),r};s.$inject=["$http","ConfigFactory","appConfig"],t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(410),l=_interopRequireDefault(s),c=n(414),u=_interopRequireDefault(c),d=i.default.module("config",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("config",{url:"/config",views:{content:{template:"<config></config>"}},data:{permissions:"super"}})}]).factory("ConfigFactory",u.default).directive("config",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(411),i=_interopRequireDefault(r),o=n(412),a=_interopRequireDefault(o);n(413);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Config</h2><span flex></span><md-button ng-click="vm.save()" ng-disabled="vm.form.$invalid">Save</md-button></div></md-toolbar><md-content><form name="vm.form" role="form" novalidate><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>General</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Client Name</label><input ng-model="vm.config.client.name" aria-label="Client Name"></md-input-container><md-input-container><label>Website URL</label><input ng-model="vm.config.client.baseUrl" aria-label="Website URL"></md-input-container><md-input-container><label>Google Analytics View ID</label><input ng-model="vm.config.client.gaView" aria-label="Google Analytics View ID"></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Assets</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Slug</label><input ng-model="vm.config.assets.slug" aria-label="Assets Slug"></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Modules / Providers</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.config.moduleEnabled.ecommerce" aria-label="E-commerce module">E-commerce module</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.config.providerEnabled.instagram" aria-label="Instagram">Instagram provider</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.config.providerEnabled.vimeo" aria-label="Vimeo">Vimeo provider</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.config.providerEnabled.createsend" aria-label="CreateSend">CreateSend provider</md-checkbox></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>CreateSend</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Client ID</label><input ng-model="vm.config.provider.createsend.clientId" aria-label="CreateSend Client ID"></md-input-container><md-input-container><label>Client API Key</label><input ng-model="vm.config.provider.createsend.clientApiKey" aria-label="CreateSend Client API Key"></md-input-container></div></form></md-content>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function ConfigController(e){(0,i.default)(this,ConfigController);var t=this;t.config=e.getConfig(),t.save=function(){e.saveConfig(t.config)}};o.$inject=["ConfigFactory"],t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=function(e,t,n,r,o,s,c,u,d,h,p){"ngInject";var m={},f=void 0,g=void 0,v=[],y=function(){v.forEach(function(e){e()})};m.registerObserverCallback=function(e){v.push(e)};var _=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(f=t,e.$config=f,n){var r=n("x-user-id");g=l.default.find(f.users,{id:r}),g||(g={id:r}),e.$user=g;var i=n("x-role");e.$isSuperUser="super"===i,"super"!==i&&(e.$permissions=l.default.find(f.roles,{slug:i}).permissions)}return y(),f};return m.loadConfig=(0,a.default)(i.default.mark(function _callee(){var e;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.get(d.apiUrl+"/config");case 2:return e=n.sent,n.abrupt("return",_(e.data,e.headers));case 4:case"end":return n.stop()}},_callee,void 0)})),m.saveConfig=function(){var e=(0,a.default)(i.default.mark(function _callee2(e){var n;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.post(d.apiUrl+"/config",{config:e});case 2:return n=r.sent,r.abrupt("return",_(n.data,n.headers));case 4:case"end":return r.stop()}},_callee2,void 0)}));return function(t){return e.apply(this,arguments)}}(),m.getConfig=function(){return l.default.merge({},f)},m.setConfig=function(e){_(e)},m.getUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?f.users.filter(function(t){return t.id===e})[0]:l.default.merge({},g)},m.getSchema=function(e){return f.schemas.filter(function(t){return t.slug===e})[0]},m.getField=function(e,t){return(m.getSchema(e)||{fields:[]}).fields.filter(function(e){return e.slug===t})[0]},m.getAction=function(e,t){return(m.getSchema(e)||{actions:[]}).actions.filter(function(e){return e.slug===t})[0]},m.getTaxonomy=function(e){return f.taxonomies.filter(function(t){return t.slug===e})[0]},m.getRole=function(e){return f.roles.filter(function(t){return t.slug===e})[0]},m.authenticateWithProvider=function(e){return n(function(n,i){t({method:"GET",url:d.apiUrl+"/auth/"+e+"/config",cache:!0}).then(function(t){p.providers[e].clientId=t.data.clientId,p.providers[e].redirectUri=r.location.origin+d.clientBasePath+"_auth/"+e,p.providers[e].url=d.apiUrl+"/auth/"+e,p.providers[e].popupOptions={},h.authenticate(e,{clientSecret:t.data.clientSecret}).then(function(e){n(e.data)},i)},i)})},m};c.$inject=["$rootScope","$http","$q","$window","$document","$mdDialog","HelperFactory","ModalService","appConfig","$auth","SatellizerConfig"],t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(7),l=_interopRequireDefault(s),c=n(416),u=_interopRequireDefault(c),d=n(420),h=_interopRequireDefault(d),p=a.default.module("schema",[l.default]).config(["$stateProvider",function(e){"ngInject";e.state("schemas",{url:"/schemas",views:{content:{template:"<schema></schema>"}},data:{permissions:"schema"}})}]).filter("fieldTypeName",["FieldFactory",function(e){"ngInject";return function(t){return e.field(t).name}}]).filter("actionTypeName",["ActionFactory",function(e){"ngInject";return function(t){return e.action(t).name}}]).filter("schemaName",["ConfigFactory",function(e){"ngInject";return function(t){return t?(t=i.default.isArray(t)?t:[t],t=t.map(function(t){return e.getSchema(t.slug||t).name}),t.join(", ")):""}}]).factory("SchemaFactory",h.default).directive("schema",u.default);t.default=p},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(417),i=_interopRequireDefault(r),o=n(418),a=_interopRequireDefault(o);n(419);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Schemas</h2><span flex></span><md-button ng-click="vm.delete($event, vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button ng-click="vm.new($event)" aria-label="New" class="md-fab md-mini"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar><md-content><md-table-container><table md-table md-row-select multiple ng-model="vm.selected" class="md-table-expanded"><thead md-head md-order="vm.order" md-on-reorder="vm.changeOrder"><tr md-row><th md-column md-order-by="name">Name</th><th md-column md-order-by="slug">Slug</th></tr></thead><tbody md-body><tr md-row md-select="schema" md-select-id="slug" ng-click="vm.edit($event, schema)" ng-repeat="schema in vm.schemas" ace-sortable collection="vm.schemas" index="$index" axis="\'y\'"><td md-cell>{{schema.name}}</td><td md-cell>{{schema.slug}}</td></tr></tbody></table></md-table-container></md-content>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(2),l=_interopRequireDefault(s),c=n(3),u=(_interopRequireDefault(c),function SchemaController(e,t,n){var r=this;(0,l.default)(this,SchemaController);var o=this;o.schemas=t.getConfig().schemas,o.selected=[],o.changeOrder=function(e){if(e){var t=/-/.test(e);e=/[a-z]+/i.exec(e)[0],o.schemas.sort(function(n,r){return n[e]<r[e]?t?1:-1:n[e]>r[e]?t?-1:1:0})}},o.edit=function(){var s=(0,a.default)(i.default.mark(function _callee(a,s){return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.editSchema(s,a);case 2:o.schemas=t.getConfig().schemas,o.changeOrder(o.order),e.$apply();case 5:case"end":return r.stop()}},_callee,r)}));return function(e,t){return s.apply(this,arguments)}}(),o.new=function(){var s=(0,a.default)(i.default.mark(function _callee2(a){return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.editSchema(null,a);case 2:o.schemas=t.getConfig().schemas,o.changeOrder(o.order),e.$apply();case 5:case"end":return r.stop()}},_callee2,r)}));return function(e){return s.apply(this,arguments)}}(),o.delete=function(){var s=(0,a.default)(i.default.mark(function _callee3(a,s){var l,c;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=s.map(function(e){return e.slug}),r.next=3,n.deleteSchemas(l,a);case 3:c=r.sent,c&&(o.schemas=t.getConfig().schemas,o.changeOrder(o.order),e.$apply());case 5:case"end":return r.stop()}},_callee3,r)}));return function(e,t){return s.apply(this,arguments)}}(),e.$on("aceSortable:change",function(e,t){var r=t.collection;n.updateSchemas(r)})});u.$inject=["$scope","ConfigFactory","SchemaFactory"],t.default=u},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(421),u=_interopRequireDefault(c),d=n(422),h=_interopRequireDefault(d),p=n(423),m=_interopRequireDefault(p),f=function(e,t,n,r,o,s,c,d,p){"ngInject";var f=this,g={name:"",slug:"",fields:[],actions:[],settings:{}},v={name:"",slug:"",settings:{}},y={name:"",slug:"",settings:{}},_={},b=function(e,t){return{test:function(e,t,n){var r=/^[^\d][a-zA-Z0-9]*$/,i=new RegExp("^("+e.join("|")+")$");return r.test(n)&&(!i.test(n)||n===t)}.bind(null,e,t)}},w=function(e){e.slug=l.default.camelCase(e.name)},x=function(){var t=(0,a.default)(i.default.mark(function _callee(t,n,o){var a,s;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=!t,s={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:h.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{field:l.default.merge({},v,t),createNew:a,slugPattern:b(n.fields.map(function(e){return e.slug}),t?t.slug:null),slugify:w}},i.prev=2,i.next=5,r.show(s);case 5:t=i.sent,i.next=11;break;case 8:return i.prev=8,i.t0=i.catch(2),i.abrupt("return",!1);case 11:return a?n.fields.push(t):d.replace(n.fields,t,"slug"),e.$apply(),i.abrupt("return",t);case 14:case"end":return i.stop()}},_callee,f,[[2,8]])}));return function(e,n,r){return t.apply(this,arguments)}}(),S=function(){var e=(0,a.default)(i.default.mark(function _callee2(e,t,n){var r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.field(e.type).editSettings(e,n);case 2:r=t.sent,r&&(e.settings=r);case 4:case"end":return t.stop()}},_callee2,f)}));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(){var t=(0,a.default)(i.default.mark(function _callee3(t,n,o){var a;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=r.confirm({title:"Delete field?",textContent:"Are you sure you want to delete "+t.name+"?",targetEvent:o,ok:"Confirm",cancel:"Cancel",multiple:!0}),i.prev=1,i.next=4,r.show(a);case 4:i.next=9;break;case 6:return i.prev=6,i.t0=i.catch(1),i.abrupt("return",!1);case 9:return l.default.remove(n.fields,{slug:t.slug}),e.$apply(),i.abrupt("return",!0);case 12:case"end":return i.stop()}},_callee3,f,[[1,6]])}));return function(e,n,r){return t.apply(this,arguments)}}(),E=function(){var t=(0,a.default)(i.default.mark(function _callee4(t,n,o){var a,s;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=!t,s={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:m.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{action:l.default.merge({},y,t),createNew:a,slugPattern:b(n.actions.map(function(e){return e.slug}),t?t.slug:null),slugify:w}},i.prev=2,i.next=5,r.show(s);case 5:t=i.sent,i.next=11;break;case 8:return i.prev=8,i.t0=i.catch(2),i.abrupt("return",!1);case 11:return a?n.actions.push(t):d.replace(n.actions,t,"slug"),e.$apply(),i.abrupt("return",t);case 14:case"end":return i.stop()}},_callee4,f,[[2,8]])}));return function(e,n,r){return t.apply(this,arguments)}}(),T=function(){var e=(0,a.default)(i.default.mark(function _callee5(e,t,n){var r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.action(e.type).editSettings(e,n);case 2:r=t.sent,r&&(e.settings=r);case 4:case"end":return t.stop()}},_callee5,f)}));return function(t,n,r){return e.apply(this,arguments)}}(),M=function(){var t=(0,a.default)(i.default.mark(function _callee6(t,n,o){var a;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=r.confirm({title:"Delete action?",textContent:"Are you sure you want to delete "+t.name+"?",targetEvent:o,ok:"Confirm",cancel:"Cancel",multiple:!0}),i.prev=1,i.next=4,r.show(a);case 4:i.next=9;break;case 6:return i.prev=6,i.t0=i.catch(1),i.abrupt("return",!1);case 9:return l.default.remove(n.actions,{slug:t.slug}),e.$apply(),i.abrupt("return",!0);case 12:case"end":return i.stop()}},_callee6,f,[[1,6]])}));return function(e,n,r){return t.apply(this,arguments)}}();return _.editSchema=function(){var e=(0,a.default)(i.default.mark(function _callee7(e,n){var a,c,d,h;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=!e,c=o.getConfig(),d={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:n,clickOutsideToClose:!0,multiple:!0,locals:{schema:l.default.merge({},g,e),createNew:a,slugPattern:b(c.schemas.map(function(e){return e.slug}),e?e.slug:null),slugify:w,editField:x,editFieldSettings:S,deleteField:C,editAction:E,editActionSettings:T,deleteAction:M}},i.prev=3,i.next=6,r.show(d);case 6:e=i.sent,i.next=12;break;case 9:return i.prev=9,i.t0=i.catch(3),i.abrupt("return",!1);case 12:if(h=e.fields.filter(function(e){return s.field(e.type).thumbnailField}),e.thumbnailFields=h.map(function(e){return e.slug}),!a){i.next=20;break}return i.next=17,t.post(p.apiUrl+"/schema",{schema:e});case 17:c=i.sent.data,i.next=23;break;case 20:return i.next=22,t.put(p.apiUrl+"/schema",{schema:e});case 22:c=i.sent.data;case 23:return o.setConfig(c),i.abrupt("return",e);case 25:case"end":return i.stop()}},_callee7,f,[[3,9]])}));return function(t,n){return e.apply(this,arguments)}}(),_.deleteSchemas=function(){var e=(0,a.default)(i.default.mark(function _callee8(e,n){var a,s;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=r.confirm({title:"Delete Schema?",textContent:"Are you sure you want to delete the selected schemas?",targetEvent:n,ok:"Confirm",cancel:"Cancel"}),i.prev=1,i.next=4,r.show(a);case 4:i.next=9;break;case 6:return i.prev=6,i.t0=i.catch(1),i.abrupt("return",!1);case 9:return i.next=11,t.delete(p.apiUrl+"/schema",{data:{schemaSlugs:e}});case 11:return s=i.sent.data,o.setConfig(s),i.abrupt("return",!0);case 14:case"end":return i.stop()}},_callee8,f,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}(),_.updateSchemas=function(){var e=(0,a.default)(i.default.mark(function _callee9(e){var n;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.put(p.apiUrl+"/schemas",{schemas:e});case 2:return n=r.sent.data,o.setConfig(n),r.abrupt("return",!0);case 5:case"end":return r.stop()}},_callee9,f)}));return function(t){return e.apply(this,arguments)}}(),_};f.$inject=["$rootScope","$http","$filter","$mdDialog","ConfigFactory","FieldFactory","ActionFactory","HelperFactory","appConfig"],t.default=f},function(e,t){e.exports='<md-dialog aria-label="Schema"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Schema</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label><input ng-model="vm.schema.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.schema)"></md-input-container><md-input-container class="md-block"><label>Slug</label><input ng-model="vm.schema.slug" required ng-pattern="vm.slugPattern" ng-disabled="!vm.createNew"></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.schema.settings.singular" aria-label="Singular?">Singular</md-checkbox></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.schema.settings.hidden" aria-label="Hidden?">Hidden</md-checkbox></md-input-container><br><md-input-container class="md-block"><label ng-non-bindable>Title Template {{handlebars}}</label><input ng-model="vm.schema.titleTemplate" aria-label="Title template"></md-input-container><md-input-container class="md-block"><label ng-non-bindable>Slug Template {{handlebars}}</label><input ng-model="vm.schema.slugTemplate" aria-label="Slug template"></md-input-container><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Fields<span flex></span><md-button ng-click="vm.editField(null, vm.schema, $event)">Add Field</md-button></div></md-toolbar><md-table-container ng-show="vm.schema.fields.length"><table md-table class="md-table-sortable"><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Type</th><th md-column>Required</th><th md-column>Grid Column</th><th md-column></th></tr></thead><tbody md-body><tr md-row ng-repeat="field in vm.schema.fields" ace-sortable collection="vm.schema.fields" index="$index" handle-selector="\'.handle\'" axis="\'y\'"><td md-cell class="handle">{{ field.name }}</td><td md-cell class="handle">{{ field.slug }}</td><td md-cell class="handle">{{ field.type | fieldTypeName }}</td><td md-cell class="handle"><span class="{{ field.settings.required | crossCheck }}"></span></td><td md-cell class="handle"><span class="{{ field.settings.gridColumn | crossCheck }}"></span></td><td md-cell class="align-right"><md-button ng-show="$root.$field.field(field.type).editSettings" ng-click="vm.editFieldSettings(field, vm.schema, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">settings</md-icon></md-button><md-button ng-click="vm.editField(field, vm.schema, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button ng-click="vm.deleteField(field, vm.schema, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container><br><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Actions<span flex></span><md-button ng-click="vm.editAction(null, vm.schema, $event)">Add Action</md-button></div></md-toolbar><md-table-container ng-show="vm.schema.actions.length"><table md-table class="md-table-sortable"><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Type</th><th md-column></th></tr></thead><tbody md-body><tr md-row ng-repeat="action in vm.schema.actions" ace-sortable collection="vm.schema.actions" index="$index" handle-selector="\'.handle\'" axis="\'y\'"><td md-cell class="handle">{{ action.name }}</td><td md-cell class="handle">{{ action.slug }}</td><td md-cell class="handle">{{ action.type | actionTypeName }}</td><td md-cell class="align-right"><md-button ng-show="$root.$action.action(action.type).editSettings" ng-click="vm.editActionSettings(action, vm.schema, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">settings</md-icon></md-button><md-button ng-click="vm.editAction(action, vm.schema, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button ng-click="vm.deleteAction(action, vm.schema, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.schema)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Field"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label><input ng-model="vm.field.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.field)"></md-input-container><md-input-container class="md-block"><label>Slug</label><input ng-model="vm.field.slug" required ng-pattern="vm.slugPattern" ng-disabled="!vm.createNew"></md-input-container><md-input-container class="md-block"><label>Type</label><md-select ng-model="vm.field.type" required><md-option ng-repeat="(type, field) in $root.$field.fields()" value="{{type}}">{{field.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.field.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.field.settings.gridColumn" aria-label="Grid column?">Grid Column</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.field)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Action"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Action</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label><input ng-model="vm.action.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.action)"></md-input-container><md-input-container class="md-block"><label>Slug</label><input ng-model="vm.action.slug" required ng-pattern="vm.slugPattern" ng-disabled="!vm.createNew"></md-input-container><md-input-container class="md-block"><label>Type</label><md-select ng-model="vm.action.type" required><md-option ng-repeat="(type, action) in $root.$action.actions()" value="{{type}}">{{action.name}}</md-option></md-select></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.action)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(425),l=_interopRequireDefault(s),c=n(429),u=_interopRequireDefault(c),d=i.default.module("user",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("user",{url:"/users",views:{content:{template:"<user></user>"}},data:{permissions:"user"}})}]).filter("roleName",["ConfigFactory",function(e){"ngInject";return function(t){var n=e.getRole(t);return n?n.name:""}}]).factory("UserFactory",u.default).directive("user",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(426),i=_interopRequireDefault(r),o=n(427),a=_interopRequireDefault(o);n(428);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Users</h2><span flex></span><md-button ng-click="vm.delete($event, vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button ng-click="vm.new($event)" aria-label="New" class="md-fab md-mini"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar><md-content><md-table-container><table md-table md-row-select multiple ng-model="vm.selected" class="md-table-expanded"><thead md-head md-order="vm.order" md-on-reorder="vm.changeOrder"><tr md-row><th md-column md-order-by="firstName">First Name</th><th md-column md-order-by="lastName">Last Name</th><th md-column md-order-by="email" flex="20">Email</th><th md-column md-order-by="role">Role</th><th md-column md-order-by="active">Active</th></tr></thead><tbody md-body><tr md-row md-select="user" md-select-id="id" ng-click="vm.edit($event, user)" ng-repeat="user in vm.users"><td md-cell>{{user.firstName}}</td><td md-cell>{{user.lastName}}</td><td md-cell flex="20">{{user.email}}</td><td md-cell>{{user.role | roleName}}</td><td md-cell><span class="{{user.active | crossCheck}}"></span></td></tr></tbody></table></md-table-container></md-content>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(2),l=_interopRequireDefault(s),c=n(3),u=_interopRequireDefault(c),d=function UserController(e,t,n){var r=this;(0,l.default)(this,UserController);var o=this;o.users=e.getConfig().users,o.selected=[],o.order="lastName",o.changeOrder=function(e){if(e){var t=/-/.test(e);e=/[a-z]+/i.exec(e)[0],o.users.sort(function(n,r){return n[e]<r[e]?t?1:-1:n[e]>r[e]?t?-1:1:0})}},o.edit=function(){var e=(0,a.default)(i.default.mark(function _callee(e,a){var s;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.editUser((a[0]||a).id,e);case 2:s=r.sent,s&&(o.users=n.replace(o.users,s,"id"),o.changeOrder(o.order));case 4:case"end":return r.stop()}},_callee,r)}));return function(t,n){return e.apply(this,arguments)}}(),o.new=function(){var e=(0,a.default)(i.default.mark(function _callee2(e){var n;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.editUser(null,e);case 2:n=r.sent,n&&(o.users.push(n),o.changeOrder(o.order));case 4:case"end":return r.stop()}},_callee2,r)}));return function(t){return e.apply(this,arguments)}}(),o.delete=function(){var e=(0,a.default)(i.default.mark(function _callee3(e,n){var a,s;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.map(function(e){return e.id}),r.next=3,t.deleteUsers(a,e);case 3:s=r.sent,s&&(o.users=u.default.remove(o.users,function(e){return-1===a.indexOf(e.id)}));case 5:case"end":return r.stop()}},_callee3,r)}));return function(t,n){return e.apply(this,arguments)}}()};d.$inject=["ConfigFactory","UserFactory","HelperFactory"],t.default=d},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(430),u=_interopRequireDefault(c),d=function(e,t,n,r,o){"ngInject";var s=this,c={email:"",firstName:"",lastName:"",active:!0,role:"admin"},d={};return d.editUser=function(){var r=(0,a.default)(i.default.mark(function _callee(r,a){var d,h,p,m;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return d=!r,h=r?n.getUser(r):{},p=n.getConfig(),m={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:a,clickOutsideToClose:!0,locals:{user:l.default.merge({},c,h)}},i.prev=4,i.next=7,t.show(m);case 7:h=i.sent,i.next=13;break;case 10:return i.prev=10,i.t0=i.catch(4),i.abrupt("return",!1);case 13:if(!d){i.next=20;break}return h.id=h.email,i.next=17,e.post(o.apiUrl+"/user",{user:h});case 17:p=i.sent.data,i.next=23;break;case 20:return i.next=22,e.put(o.apiUrl+"/user",{user:h});case 22:p=i.sent.data;case 23:return n.setConfig(p),i.abrupt("return",h);case 25:case"end":return i.stop()}},_callee,s,[[4,10]])}));return function(e,t){return r.apply(this,arguments)}}(),d.deleteUsers=function(){var r=(0,a.default)(i.default.mark(function _callee2(r,a){var l,c;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return l=t.confirm({title:"Delete User?",textContent:"Are you sure you want to delete the selected users?",targetEvent:a,ok:"Confirm",cancel:"Cancel"}),i.prev=1,i.next=4,t.show(l);case 4:i.next=9;break;case 6:return i.prev=6,i.t0=i.catch(1),i.abrupt("return",!1);case 9:return i.next=11,e.delete(o.apiUrl+"/user",{data:{userIds:r}});case 11:return c=i.sent.data,n.setConfig(c),i.abrupt("return",!0);case 14:case"end":return i.stop()}},_callee2,s,[[1,6]])}));return function(e,t){return r.apply(this,arguments)}}(),d};d.$inject=["$http","$mdDialog","ConfigFactory","HelperFactory","appConfig"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="User"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>User</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Email</label><input type="email" ng-model="vm.user.email" required></md-input-container><md-input-container><label>First Name</label><input ng-model="vm.user.firstName" required ng-minlength="2" ng-maxlength="20" ng-pattern="/^[a-zA-ZÀ-ſs-]*$/"></md-input-container><md-input-container><label>Last Name</label><input ng-model="vm.user.lastName" required ng-minlength="2" ng-maxlength="20" ng-pattern="/^[a-zA-ZÀ-ſs-]*$/"></md-input-container><md-input-container class="md-block"><label>Role</label><md-select ng-model="vm.user.role"><md-option ng-repeat="role in $root.$config.roles" value="{{role.slug}}">{{role.name}}</md-option></md-select></md-input-container><md-input-container><md-checkbox ng-model="vm.user.active" aria-label="Active?">Active</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.user)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(432),l=_interopRequireDefault(s),c=n(438),u=_interopRequireDefault(c),d=i.default.module("ecommerce",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("ecommerceOrders",{url:"/ecommerce/orders",views:{content:{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"order",permissions:"ecommerce"}}),e.state("ecommerceDiscounts",{url:"/ecommerce/discounts",views:{content:{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"discount",permissions:"ecommerce"}}),e.state("ecommerceSettings",{url:"/ecommerce/settings",views:{content:{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"settings",permissions:"ecommerce"}})}]).filter("currency",["$filter","$rootScope",function(e,t){"ngInject";return function(n,r){return(r=r||t.$config.module.ecommerce.currency.symbol)+e("toFixed")(n)}}]).filter("chargeStatus",["$filter","$rootScope",function(e,t){"ngInject";return function(n){if(!n)return"";var r=t.$config.module.ecommerce.currency.symbol;return"failed"===n.status?"Unpaid":0===n.amountRefunded?"Paid in full":n.amount===n.amountRefunded?"Full refund":r+e("toFixed")(n.amountRefunded/100)+" refunded"}}]).factory("EcommerceFactory",u.default).directive("ecommerce",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(433),i=_interopRequireDefault(r),o=n(434),a=_interopRequireDefault(o),s=n(435),l=_interopRequireDefault(s),c=n(436),u=_interopRequireDefault(c);n(437);var d=function(e){"ngInject";var t={order:i.default,discount:a.default,settings:l.default};return{restrict:"E",scope:{template:"="},link:function(n,r){r.html(t[n.template]),e(r.contents())(n)},controller:u.default,controllerAs:"vm",bindToController:!0}};d.$inject=["$compile"],t.default=d},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Orders {{vm.config.module.ecommerce.testMode ? \'(Test mode)\' : \'\'}}</h3><span flex></span><md-button ng-click="vm.editOrder(vm.selected[0])" ng-disabled="vm.selected.length !== 1" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button aria-label="Search" ng-click="vm.showSearch = !vm.showSearch" class="md-fab md-mini"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></md-toolbar><md-list flex="nogrow" ng-show="vm.showSearch"><md-list-item layout="row"><md-input-container flex><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"></md-input-container></md-list-item></md-list><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ng-class="{disabled: vm.searching}"></div></div></div></div>'},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Discounts</h3><span flex></span><md-button ng-click="vm.editDiscount()">New</md-button><md-button ng-click="vm.editDiscount(vm.selected[0])" ng-disabled="vm.selected.length !== 1" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button ng-click="vm.deleteDiscounts(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button aria-label="Search" ng-click="vm.showSearch = !vm.showSearch" class="md-fab md-mini"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></md-toolbar><md-list flex="nogrow" ng-show="vm.showSearch"><md-list-item layout="row"><md-input-container flex><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"></md-input-container></md-list-item></md-list><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ng-class="{disabled: vm.searching}"></div></div></div></div>'},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>E-commerce Settings</h2><span flex></span><md-button ng-click="vm.save()" ng-disabled="vm.form.$invalid">Save</md-button></div></md-toolbar><md-content><form name="vm.form" role="form" novalidate><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>General</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Store Name</label><input ng-model="vm.config.module.ecommerce.storeName" aria-label="Store Name"></md-input-container><md-input-container><label>Email Sender Name</label><input ng-model="vm.config.module.ecommerce.emailSenderName" aria-label="Email Sender Name"></md-input-container><md-input-container><label>Email Sender Address</label><input ng-model="vm.config.module.ecommerce.emailSenderAddress" aria-label="Email Sender Address"></md-input-container><md-input-container><label>Currency</label><md-select ng-model="vm.config.module.ecommerce.currency" ng-model-options="{trackBy: \'$value.iso\'}"><md-option ng-repeat="currency in vm.currencies" ng-value="currency">{{currency.iso}} ({{currency.symbol}})</md-option></md-select></md-input-container><md-input-container ng-if="::$root.$isSuperUser"><md-checkbox ng-model="vm.config.module.ecommerce.testMode" aria-label="Test mode?">Test Mode</md-checkbox></md-input-container></div><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Stripe</h3><span flex></span><md-button ng-click="vm.authenticateWithProvider(\'stripe\')">{{ vm.config.provider.stripe ? \'Reconnect\' : \'Connect\' }}</md-button><span ng-show="vm.config.provider.stripe"><md-button ng-click="vm.config.provider.stripe = null">Disconnect</md-button></span></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><div ng-show="!vm.config.provider.stripe" class="md-subhead">Connect your Stripe account</div><md-list-item ng-show="vm.config.provider.stripe"><img gravatar-src="vm.config.provider.stripe.account.email" gravatar-size="100" class="md-avatar"><div class="md-list-item-text"><a href="https://dashboard.stripe.com" target="_blank">{{vm.config.provider.stripe.account.display_name}}</a></div></md-list-item></div><span ng-if="::$root.$isSuperUser"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>CreateSend</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Checkout Subscriber List ID</label><input ng-model="vm.config.module.ecommerce.createsend.checkoutSubscriberListId" aria-label="CreateSend Checkout Subscriber List ID"></md-input-container></div></span></form></md-content>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=function EcommerceController(e,t,n,r,o,s,l,c,u,d,h,p,m,f,g){(0,i.default)(this,EcommerceController);var v=this,y=n.current.data.ecommerceType;t.template=y,v.config=h.getConfig(),v.save=function(){h.saveConfig(v.config)},v.authenticateWithProvider=function(e){h.authenticateWithProvider(e).then(function(t){if("stripe"===e)return void o.get(g.apiUrl+"/stripe/account").then(function(e){t.provider.stripe.account=e.data,v.config=t,h.saveConfig(t)});v.config=t,h.setConfig(t)})},v.currencies=[{iso:"GBP",symbol:"£"}],v.selected=[],v.items=[];var _={page:0},b={},w={},x=function(e){e.length&&(_.sort=e.map(function(e){var t=e.sort.direction===f.ASC?"-":"",n="";return w[y].forEach(function(e){e.sortType&&(n="<"+e.sortType+">")}),t+"sort."+e.name+n})[0]),S(y,!0)},S=function(e,t){var n=l.defer();t&&(_.page=0,b={});var r=[];if("order"===y&&r.push("test:"+(v.config.module.ecommerce.testMode?"true":"false")),v.searchTerm&&""!==v.searchTerm){var i=[];"order"===y&&(i.push("orderId:"+v.searchTerm+"*"),i.push("customer.email:"+v.searchTerm+"*"),i.push("customer.name:"+v.searchTerm+"*")),"discount"===y&&(i.push("name:"+v.searchTerm+"*"),i.push("code:"+v.searchTerm+"*")),r.push("("+i.join(" OR ")+")")}return _.bookmark=b[_.page-1]||null,_.q=r.join(" AND "),v.searching=!0,d.search(e,_).then(function(e){b[_.page]=e.bookmark,v.total=e.total,v.items=t?e.results:v.items.concat(e.results),v.grid.data=v.items,n.resolve()}).finally(function(){v.searching=!1}),n.promise};v.search=function(e,t){void 0!==e&&"keypress"===e.type&&13!==e.keyCode||(v.searchTerm=t||"",S(y,!0))};var C=function(e,t,n){return e=e.map(function(e){var r=e;return t.forEach(function(t){e[n]===t[n]&&(r=t)}),r})},E=function(e,t,n){return e=e.filter(function(e){return t.filter(function(t){return t[n]!==e[n]}).length})};w.order=[{name:"orderId",displayName:"Order ID",enableSorting:!1},{name:"customer.name",sortType:"string",displayName:"Customer Name"},{name:"customer.email",sortType:"string",displayName:"Customer Email"},{name:"createdAt",sortType:"number",displayName:"Created",cellFilter:"parseDate"},{name:"status",sortType:"string",displayName:"Order Status",cellFilter:"toTitleCase"},{name:"total",sortType:"number",displayName:"Total",cellFilter:"currency"},{name:"charge",displayName:"Charge Status",cellFilter:"chargeStatus",enableSorting:!1}],v.editOrder=function(e){d.editOrder(e).then(function(e){v.items=C(v.items,[e],"_id"),s(function(){v.grid.data=v.items})})},w.discount=[{name:"name",sortType:"string",displayName:"Name"},{name:"code",sortType:"string",displayName:"Code"},{name:"discountType",sortType:"string",displayName:"Type"},{name:"amount",sortType:"number",displayName:"Amount"},{name:"dateStart",sortType:"number",displayName:"Start Date",cellFilter:"parseDate"},{name:"dateEnd",sortType:"number",displayName:"End Date",cellFilter:"parseDate"}],v.editDiscount=function(e){var t=!e;e&&(e=a.default.copy(e)),d.editDiscount(e).then(function(e){t?v.items.push(e):v.items=C(v.items,[e],"_id"),s(function(){v.grid.data=v.items})})},v.deleteDiscounts=function(e){var t=e.map(function(e){return e.name}),n=u.confirm().textContent("Are you sure you want to delete "+t.join(", ")+"?").cancel("Cancel").ok("Delete");u.show(n).then(function(){d.delete("discount",e).then(function(){v.items=E(v.items,e,"_id"),s(function(){v.grid.data=v.items})})})},v.grid={data:v.items,rowHeight:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:w[y],infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:f.scrollbars.NEVER,appScopeProvider:v,excessRows:20,onRegisterApi:function(e){v.gridApi=e,e.core.on.sortChanged(null,function(e,t){x(t)});var n=0,r=void 0;e.selection.on.rowSelectionChanged(null,function(t,i){i.timeStamp-n<300&&t===r&&("order"===y&&v.editOrder(t.entity),"discount"===y&&v.editDiscount(t.entity)),n=i.timeStamp,r=t,v.selected=e.selection.getSelectedRows()}),e.selection.on.rowSelectionChangedBatch(t,function(t,n){v.selected=e.selection.getSelectedRows()}),e.infiniteScroll.on.needLoadMoreData(null,function(){v.items.length<v.total&&(_.page++,S(y).then(function(){e.infiniteScroll.dataLoaded()}))})}},/orders|discounts/i.test(n.current.name)&&("order"===y?x([{name:"createdAt",sort:{direction:f.ASC}}]):"discount"===y&&x([{name:"dateEnd",sort:{direction:f.ASC}},{name:"dateStart",sort:{direction:f.ASC}},{name:"name",sort:{direction:f.ASC}}]))};s.$inject=["$rootScope","$scope","$state","$window","$http","$timeout","$q","$log","$mdDialog","EcommerceFactory","ConfigFactory","HelperFactory","ModalService","uiGridConstants","appConfig"],t.default=s},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(439),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=function(e,t,n,r,o,s,l,c,u,d){"ngInject";var h={};return h.search=function(e,t){return r(function(r,i){var o={q:t.q||"*:*",sort:t.sort||"<score>",limit:t.limit||200,include_docs:!0};t.bookmark&&(o.bookmark=t.bookmark),n({method:"GET",url:d.apiUrl+"/ecommerce/"+e,params:o}).then(function(e){if(e.data.error)r({});else{var t={total:e.data.total_rows,bookmark:e.data.bookmark,results:e.data.rows.map(function(e){return e.doc})};r(t)}},i)})},h.save=function(e,t){return r(function(r,o){t=i.default.fromJson(i.default.toJson(t)),t.modifiedBy=l.getUser().id,t.modifiedAt=c.now(),n({method:"POST",url:d.apiUrl+"/ecommerce/"+e,data:{item:t}}).then(function(e){t._rev=e.data._rev,r(t)},o)})},h.delete=function(e,t){return r(function(r,i){n({method:"DELETE",url:d.apiUrl+"/ecommerce/"+e,data:{items:t}}).then(r,i)})},h.editOrder=function(n){return r(function(r,i){u.showModal({template:a.order,controller:["$scope","$modal","HelperFactory","EcommerceFactory","order",function(n,r,i,o,a){var s=this;s.order=a,n.$watch(function(){return s.order.status},function(e,t){e!==t&&o.save("order",s.order).then(function(e){s.order=e})}),s.close=function(){r.close(s.order)},s.refund=function(){o.refundOrder(s.order).then(function(e){s.order=e})},s.previewEmailTemplate=function(n){t.open(d.apiUrl+"/ecommerce/order/message/"+n+"?orderId="+s.order._id+"&apiToken="+e.apiToken)}}],controllerAs:"vm",inputs:{order:n}}).then(function(e){e.result.then(r,i)})})},h.editDiscount=function(e){return r(function(t,n){e=e||{discountType:"percentage",dateStart:new Date,usageLimit:0},u.showModal({template:a.discount,controller:["HelperFactory","discount",function(e,t){this.discount=t}],controllerAs:"vm",inputs:{HelperFactory:c,discount:e}}).then(function(e){e.result.then(function(e){h.save("discount",e).then(t,n)})})})},h.refundOrder=function(e){return r(function(t,n){u.showModal({template:a.refund,controller:["HelperFactory","order",function(e,t){var n=this;n.order=t,n.amount=(n.order.charge.amount-n.order.charge.amountRefunded)/100,n.maxAmount=n.amount}],controllerAs:"vm",inputs:{HelperFactory:c,order:e}}).then(function(n){n.result.then(function(n){h.stripeRefund(e,n).then(function(e){t(e.data)}).catch(function(e){s.show(s.alert().title("Refund Error").textContent(e.data.message).ok("Close"))})})})})},h.stripeRefund=function(e,t){return r(function(r,i){n({method:"POST",url:d.apiUrl+"/stripe/refund",data:{order:e,amount:t}}).then(r,i)})},h};s.$inject=["$rootScope","$window","$http","$q","$log","$mdDialog","ConfigFactory","HelperFactory","ModalService","appConfig"],t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.refund=t.order=t.discount=void 0;var r=n(440),i=_interopRequireDefault(r),o=n(441),a=_interopRequireDefault(o),s=n(442),l=_interopRequireDefault(s);t.discount=i.default,t.order=a.default,t.refund=l.default},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Discount</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.discountForm" novalidate><div flex layout="row" layout-margin><md-input-container flex><label>Name</label><input aria-label="Name" ng-model="vm.discount.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container><md-input-container flex><label>Code</label><input aria-label="Code" ng-model="vm.discount.code" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container></div><div flex layout="row" layout-margin><div flex><div class="md-caption">Start Date</div><md-datepicker ng-model="vm.discount.dateStart" md-placeholder="Start Date"></md-datepicker></div><div flex><div class="md-caption">End Date</div><md-datepicker ng-model="vm.discount.dateEnd" md-placeholder="End Date"></md-datepicker></div></div><br><div flex layout="row" layout-margin><md-input-container flex="50"><label>Type</label><md-select ng-model="vm.discount.discountType"><md-option value="percentage">Percentage</md-option><md-option value="fixed">Fixed Amount</md-option><md-option value="shipping">Free Shipping</md-option></md-select></md-input-container><md-input-container flex ng-show="vm.discount.discountType !== \'shipping\'"><label>Amount</label><input type="number" aria-label="Amount" ng-model="vm.discount.amount" ng-required="vm.discount.discountType !== \'shipping\'" min="0" max="{{vm.discount.discountType === \'percentage\' ? 100 : 99999}}"></md-input-container></div>\x3c!-- div(flex, layout="row", layout-margin)--\x3e\x3c!--   md-input-container(flex)--\x3e\x3c!--     label Usage Limit--\x3e\x3c!--     input(type=\'number\', aria-label=\'Usage Limit\', ng-model=\'vm.discount.usageLimit\', required, min=\'0\')--\x3e</form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.discount)" ng-disabled="vm.discountForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Order</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><div flex layout="column" layout-margin><md-input-container flex><label>Status</label><md-select ng-model="vm.order.status"><md-option ng-value="\'pending\'">Pending</md-option><md-option ng-value="\'fulfilled\'">Fulfilled</md-option><md-option ng-value="\'refunded\'">Refunded</md-option></md-select></md-input-container></div><div flex layout="row" layout-margin><md-button ng-click="vm.refund()" ng-disabled="vm.order.charge.amountRefunded === vm.order.charge.amount" class="md-raised md-primary">Refund</md-button><md-button ng-if="::$root.$isSuperUser" ng-click="vm.previewEmailTemplate(\'orderReceipt\')">Receipt</md-button><md-button ng-if="::$root.$isSuperUser" ng-click="vm.previewEmailTemplate(\'orderNotification\')">Notification</md-button></div><hr><div flex layout="row" layout-margin><div flex><div class="md-caption">Order ID</div><div class="md-subhead">{{vm.order.orderId}}</div></div><div flex><div class="md-caption">Created</div><div class="md-subhead">{{vm.order.created | date: \'short\'}}</div></div></div><div flex layout="row" layout-margin><div flex><div class="md-caption">Charge Status</div><div class="md-subhead">{{vm.order.charge | chargeStatus}}</div></div><div flex><div class="md-caption">Shipping Method</div><div class="md-subhead">{{vm.order.shippingMethod.name}}</div></div></div><hr><div flex layout="row" layout-margin><div flex><div class="md-caption">Customer Name</div><div class="md-subhead">{{vm.order.customer.name}}</div></div><div flex><div class="md-caption">Customer Email</div><div class="md-subhead"><a ng-href="mailto:{{vm.order.customer.email}}">{{vm.order.customer.email}}</a></div><span ng-show="::vm.order.customer.phone"><div class="md-caption">Customer Phone Number</div><div class="md-subhead">{{vm.order.customer.phone}}</div><br></span></div></div><div flex layout="row" layout-margin><div flex><div class="md-caption">Shipping Address</div><div class="md-subhead">{{vm.order.shippingAddress.street1}}<br ng-show="::vm.order.shippingAddress.street2">{{vm.order.shippingAddress.street2}}<br>{{vm.order.shippingAddress.city}}<br>{{vm.order.shippingAddress.zip}}<br>{{vm.order.shippingAddress.country | isoCountry}}</div></div><div flex><div class="md-caption">Billing Address</div><div class="md-subhead">{{vm.order.billingAddress.street1}}<br ng-show="::vm.order.billingAddress.street2">{{vm.order.billingAddress.street2}}<br>{{vm.order.billingAddress.city}}<br>{{vm.order.billingAddress.zip}}<br>{{vm.order.billingAddress.country | isoCountry}}</div></div></div><br><hr><div flex layout="row" layout-margin><div flex><div class="md-caption">Shipping Amount</div><div class="md-subhead">{{vm.order.shippingMethod.amount | toFixed | currency}}</div><br><span ng-show="::vm.order.tax.total"><div class="md-caption">Tax</div><div class="md-subhead">{{vm.order.tax.total | toFixed | currency}}</div></span></div><div flex><div class="md-caption">Subtotal</div><div class="md-subhead">{{vm.order.subtotal | toFixed | currency}}</div><br><span ng-show="::vm.order.discount.total"><div class="md-caption">Discount</div><div class="md-subhead">-{{vm.order.discount.total | toFixed | currency}} ({{vm.order.discount.name}})</div></span></div></div><br><hr><div flex layout="row" layout-margin><div flex><div class="md-caption">Total</div><div class="md-headline">{{vm.order.total | toFixed | currency}}</div></div></div><br><md-toolbar class="md-table-toolbar md-primary"><div class="md-toolbar-tools">Items</div></md-toolbar><md-table-container><table md-table><thead md-head><tr md-row><th md-column>Product</th><th md-column>Variant</th><th md-column>Quantity</th><th md-column>Price</th></tr></thead><tbody md-body><tr md-row ng-repeat="item in vm.order.items"><td md-cell><a ui-sref="entity({id: item.metadata.product.id})">{{item.metadata.product.title || item.title}}</a></td><td md-cell><a ui-sref="entity({id: item.metadata.variant.id})">{{item.metadata.variant.title || \'-\'}}</a></td><td md-cell>{{item.quantity}}</td><td md-cell>{{item.price | toFixed | currency}}</td></tr></tbody></table></md-table-container></div>\x3c!-- .modal-footer(layout="row")--\x3e\x3c!--   span(flex)--\x3e\x3c!--   md-button(ng-click="$modal.dismiss()") Close--\x3e</div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Refund</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.refundForm" novalidate><div flex layout="row" layout-margin><md-input-container flex><label>Amount ({{:: $root.$config.module.ecommerce.currencySymbol }})</label><input type="number" aria-label="Amount" ng-model="vm.amount" ng-pattern="/^[0-9]+(.[0-9]{1,2})?$/" required min="0" max="{{vm.maxAmount}}" step="0.01" ace-smart-float></md-input-container></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.amount)" ng-disabled="vm.refundForm.$invalid" class="md-accent">Refund</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(444),l=_interopRequireDefault(s),c=n(449),u=_interopRequireDefault(c),d=i.default.module("taxonomy",[a.default]).config(["$stateProvider","treeConfig",function(e,t){"ngInject";t.defaultCollapsed=!0,t.appendChildOnHover=!1,e.state("taxonomy",{url:"/taxonomy/{taxonomySlug:[a-zA-Z0-9_-]{2,200}}",views:{content:{template:"<taxonomy></taxonomy>"}},data:{permissions:"taxonomyRead"}})}]).factory("TaxonomyFactory",u.default).directive("taxonomy",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(445),i=_interopRequireDefault(r),o=n(446),a=_interopRequireDefault(o);n(448);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>{{vm.taxonomy.name || "Taxonomy"}}</h2><span flex></span><md-button ng-if="::$root.$isSuperUser" ng-click="vm.delete($event)" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button ng-click="vm.newTerm()" aria-label="New Term" class="md-fab md-mini"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar><md-content><div flex layout="column" layout-margin><div ui-tree="vm.treeOptions"><ol ui-tree-nodes ng-model="vm.taxonomy.terms"><li ng-repeat="node in vm.taxonomy.terms" ui-tree-node data-expand-on-hover="500" ace-bind-html="vm.termTemplate"></li></ol></div></div></md-content>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(2),l=_interopRequireDefault(s),c=n(3),u=_interopRequireDefault(c),d=n(1),h=_interopRequireDefault(d),p=n(447),m=_interopRequireDefault(p),f=function TaxonomyController(e,t,n,r,o,s,c,d,p,f,g,v){var y=this;(0,l.default)(this,TaxonomyController);var _=this;_.taxonomy=g.getTaxonomy(o.taxonomySlug),_.termTemplate=m.default,_.taxonomy.terms||(_.taxonomy.terms=[]);var b=h.default.copy(_.taxonomy.terms),w=function(e,t){var n=e.childNodes(),r=n[0];r.prevTitle=t||r.$modelValue.title,r.$handleScope.$editTitle=!0};_.newTerm=function(){var e=v.getNewTerm();_.taxonomy.terms.unshift(e),c(function(){n[0].querySelector(".angular-ui-tree input").focus()})},_.newNode=function(e,t){var n=v.getNewTerm();t.$modelValue.terms||(t.$modelValue.terms=[]),t.$modelValue.terms.unshift(n),c(function(){w(t)})},_.removeNode=function(e,t){var n=f.confirm().textContent("Delete term?").cancel("Cancel").ok("Delete");f.show(n).then(function(){v.deleteTerm({id:t.$modelValue.id}).then(function(e){t.remove(),_.save()},function(e){d.error(e)})})},_.toggleNode=function(e,t){t.toggle()},_.editNode=function(e,t){t.prevTitle=t.$modelValue.title,t.$handleScope.$editTitle=!0},_.revertNode=function(e,t){c(function(){t.$saving||(""===t.prevTitle?t.remove():(t.$modelValue.title=t.prevTitle,t.$handleScope.$editTitle=!1))},300)},_.saveNode=function(e,t){"keypress"===e.type&&13!==e.keyCode||""!==t.$modelValue.title&&t.$modelValue.id&&(t.$saving=!0,v.updateTerm({id:t.$modelValue.id,title:t.$modelValue.title,slug:u.default.kebabCase(t.$modelValue.title)}).then(function(e){t.prevTitle=t.$modelValue.title,t.$handleScope.$editTitle=!1,_.save(),t.$saving=!1},function(e){d.error(e),t.$modelValue.title=t.prevTitle,t.$saving=!1}))},_.treeOptions={defaultCollapsed:!0,accept:function(){return!0},dropped:function(){c(function(){h.default.equals(b,_.taxonomy.terms)||_.save()})}},_.collapseAll=function(){t.$broadcast("angular-ui-tree:collapse-all")},_.expandAll=function(){t.$broadcast("angular-ui-tree:expand-all")};var x=function slugifyTerms(e){e.slug=u.default.kebabCase(e.title),(e.terms||[]).forEach(function(e){slugifyTerms(e)})};_.save=function(){_.taxonomy.terms.forEach(function(e){x(e)});var e=h.default.fromJson(h.default.toJson(_.taxonomy));v.updateTaxonomy(e).then(function(e){b=h.default.copy(_.taxonomy.terms)},function(e){d.error(e),_.taxonomy.terms=b})},_.delete=function(){var e=(0,a.default)(i.default.mark(function _callee(e){var t;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.deleteTaxonomy(_.taxonomy,e);case 2:t=n.sent,t&&r.go("dashboard");case 4:case"end":return n.stop()}},_callee,y)}));return function(t){return e.apply(this,arguments)}}()};f.$inject=["$rootScope","$scope","$document","$state","$stateParams","$transitions","$timeout","$log","$q","$mdDialog","ConfigFactory","TaxonomyFactory"],t.default=f},function(e,t){e.exports='<div ng-class="{leaf: !node.terms || node.terms.length === 0, active: $handleScope.$active}" class="tree-node"><div class="tree-node-contents"><md-button ng-show="node.terms.length &gt; 0" aria-label="Toggle collapse" ng-click="vm.toggleNode($event, this)" class="md-icon-button tree-node-toggle"><md-icon ng-show="collapsed" md-font-set="material-icons">keyboard_arrow_right</md-icon><md-icon ng-show="!collapsed" md-font-set="material-icons">keyboard_arrow_down</md-icon></md-button><md-input-container flex md-no-float><input ng-class="{edit: $handleScope.$editTitle}" ng-model="node.title" ace-sync-focus="$handleScope.$editTitle" placeholder="Type here, press enter to save" ng-blur="vm.revertNode($event, this)" ng-focus="vm.editNode($event, this)" ng-keypress="vm.saveNode($event, this)" class="tree-node-title"></md-input-container><div class="tree-node-controls"><div ui-tree-handle class="tree-node-handle"><md-button class="md-icon-button"><md-icon md-font-set="material-icons">drag_handle</md-icon></md-button></div><md-button ng-click="vm.saveNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true" class="md-icon-button save-node"><md-icon md-font-set="material-icons">save</md-icon></md-button><md-button ng-click="vm.removeNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true" class="md-icon-button remove-node"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button ng-click="vm.editNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true" class="md-icon-button edit-node"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.newNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true" class="md-icon-button new-node"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></div></div><ol ui-tree-nodes ng-if="!collapsed" ng-model="node.terms"><li ng-repeat="node in node.terms" ui-tree-node data-expand-on-hover="500" ace-bind-html="vm.termTemplate"></li></ol>'},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(450),u=_interopRequireDefault(c),d=n(453),h=_interopRequireDefault(d),p=function(e,t,n,r,o,s,c,d,p){"ngInject";var m={};e.$taxonomy=m;var f={name:"",slug:"",terms:[]},g=function(e,t){return{test:function(e,t,n){var r=/^[^\d][a-zA-Z0-9]*$/,i=new RegExp("^("+e.join("|")+")$");return r.test(n)&&(!i.test(n)||n===t)}.bind(null,e,t)}},v=function(e){e.slug=l.default.camelCase(e.name)};return m.editTaxonomy=function(){var e=(0,a.default)(i.default.mark(function _callee(e,n){var r,a,s,u;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=!e,a=e?c.getTaxonomy(e):{},s=c.getConfig(),u={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:h.default,targetEvent:n,clickOutsideToClose:!0,locals:{taxonomy:l.default.merge({},f,a),createNew:r,slugPattern:g(s.taxonomies.map(function(e){return e.slug}),a?a.slug:null),slugify:v}},i.prev=4,i.next=7,o.show(u);case 7:a=i.sent,i.next=13;break;case 10:return i.prev=10,i.t0=i.catch(4),i.abrupt("return",!1);case 13:if(!r){i.next=19;break}return i.next=16,t.post(p.apiUrl+"/taxonomy",{taxonomy:a});case 16:s=i.sent.data,i.next=22;break;case 19:return i.next=21,t.put(p.apiUrl+"/taxonomy",{taxonomy:a});case 21:s=i.sent.data;case 22:return c.setConfig(s),i.abrupt("return",a);case 24:case"end":return i.stop()}},_callee,void 0,[[4,10]])}));return function(t,n){return e.apply(this,arguments)}}(),m.deleteTaxonomy=function(){var e=(0,a.default)(i.default.mark(function _callee2(e,n){var r,a,s;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=o.confirm({title:"Delete Taxonomy?",textContent:"Are you sure you want to delete "+e.name+"?",targetEvent:n,ok:"Confirm",cancel:"Cancel"}),i.prev=1,i.next=4,o.show(r);case 4:i.next=9;break;case 6:return i.prev=6,i.t0=i.catch(1),i.abrupt("return",!1);case 9:return a=[e.slug],i.next=12,t.delete(p.apiUrl+"/taxonomy",{data:{taxonomySlugs:a}});case 12:return s=i.sent.data,c.setConfig(s),i.abrupt("return",!0);case 15:case"end":return i.stop()}},_callee2,void 0,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}(),m.getNewTerm=function(){return{id:u.default.v4(),title:"",slug:"",terms:[],parents:[]}},m.updateTaxonomy=function(e){return t.put(p.apiUrl+"/taxonomy",{taxonomy:e})},m.createTerm=function(){var e=(0,a.default)(i.default.mark(function _callee3(e,n){var r;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.post(p.apiUrl+"/taxonomy/term",{taxonomySlug:e,term:n});case 2:r=i.sent.data,c.setConfig(r);case 4:case"end":return i.stop()}},_callee3,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),m.updateTerm=function(e){return t.put(p.apiUrl+"/taxonomy/term",{term:e})},m.deleteTerm=function(e){return t.delete(p.apiUrl+"/taxonomy/term",{data:{term:e}})},m};p.$inject=["$rootScope","$http","$q","$timeout","$mdDialog","$log","ConfigFactory","HelperFactory","appConfig"],t.default=p},function(e,t,n){var r=n(451),i=n(452),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){function v1(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var u=void 0!==e.clockseq?e.clockseq:s,d=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,p=d-l+(h-c)/1e4;if(p<0&&void 0===e.clockseq&&(u=u+1&16383),(p<0||d>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=d,c=h,s=u,d+=122192928e5;var m=(1e4*(268435455&d)+h)%4294967296;o[r++]=m>>>24&255,o[r++]=m>>>16&255,o[r++]=m>>>8&255,o[r++]=255&m;var f=d/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=u>>>8|128,o[r++]=255&u;for(var g=e.node||a,v=0;v<6;++v)o[r+v]=g[v];return t||i(o)}var r=n(230),i=n(231),o=r(),a=[1|o[0],o[1],o[2],o[3],o[4],o[5]],s=16383&(o[6]<<8|o[7]),l=0,c=0;e.exports=v1},function(e,t,n){function v4(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}var r=n(230),i=n(231);e.exports=v4},function(e,t){e.exports='<md-dialog aria-label="Taxonomy"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Taxonomy</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Name</label><input ng-model="vm.taxonomy.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.taxonomy)"></md-input-container><md-input-container class="md-block"><label>Slug</label><input ng-model="vm.taxonomy.slug" required ng-pattern="vm.slugPattern" ng-disabled="!vm.createNew"></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.taxonomy)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(455),l=_interopRequireDefault(s),c=n(459),u=_interopRequireDefault(c),d=i.default.module("entity",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("newEntity",{url:"/entity/new/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams",function(e){return[{schema:e.schemaSlug}]}]},views:{"content@":{template:'<entity mode="new" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityCreate"}}),e.state("entity",{url:"/entity/{id:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams","EntityFactory",function(e,t){return t.getById({id:e.id,children:1})}]},views:{content:{template:'<entity mode="normal" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityRead"}}),e.state("singularEntity",{url:"/entity/singular/{id:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams","EntityFactory",function(e,t){return t.getById({id:"entity."+e.id,children:1})}]},views:{content:{template:'<entity mode="singular" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityRead"}}),e.state("batchUploadEntity",{url:"/entity/batch-upload/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams",function(e){return[{schema:e.schemaSlug}]}]},views:{content:{template:'<entity mode="batchUpload" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},onEnter:["$state","BatchUploadFactory",function(e,t){t.inProgress&&e.go("batchUpload",{schemaSlug:t.schema.slug,fieldSlug:t.field.slug})}],data:{permissions:"entityCreate"}})}]).factory("EntityFactory",u.default).directive("entity",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(456),i=_interopRequireDefault(r),o=n(457),a=_interopRequireDefault(o);n(458);var s=function(){"ngInject";return{restrict:"E",scope:{mode:"@",entity:"=?",entities:"=?",schema:"=?",options:"=?",entityForm:"=?",modal:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar ng-if="::!vm.entity.trashed"><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><div flex class="entity-title"><h2><span ng-show="::vm.modeBreadcrumb" hide-xs hide-sm>{{::vm.modeBreadcrumb}}</span><a ng-if=":: !vm.schema.settings.singular &amp;&amp; vm.mode !== \'new\'" ui-sref="entityGrid({schemaSlug: vm.schema.slug})" hide-xs hide-sm>{{::vm.schema.name | pluralize}}</a><span ng-if=":: vm.schema.settings.singular || vm.mode === \'new\'">{{::vm.schema.name}}</span><span ng-if="vm.title" ng-bind-html="vm.title"></span></h2></div><md-button ng-show=":: !vm.modal" ng-click="vm.saveEntity()" ng-disabled="vm.entityForm.$invalid">Save</md-button><md-button hide show-gt-xs ng-show=":: vm.mode === \'normal\' &amp;&amp; vm.modal &amp;&amp; vm.prevEntityId" ng-click="vm.prevEntity()" aria-label="Previous Entity" class="md-icon-button"><md-icon md-font-set="material-icons">navigate_before</md-icon></md-button><md-button hide show-gt-xs ng-show=":: vm.mode === \'normal\' &amp;&amp; vm.modal &amp;&amp; vm.nextEntityId" ng-click="vm.nextEntity()" aria-label="Next Entity" class="md-icon-button"><md-icon md-font-set="material-icons">navigate_next</md-icon></md-button><md-menu ng-show=":: vm.mode === \'normal\' || vm.mode === \'singular\'"><md-button ng-click="$mdMenu.open()" aria-label="More" class="md-icon-button"><md-icon md-font-set="material-icons">more_vert</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="item in vm.dropdownMore"><md-button ng-click="item.click()"><span>{{ item.text }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar><md-toolbar ng-if="::vm.entity.trashed"><div class="md-toolbar-tools"><h2><a ui-sref="trash">Trash</a><span ng-bind-html="vm.title"></span></h2><span flex></span><md-button ng-click="vm.restoreEntity()">Restore</md-button><md-button ng-click="vm.deleteEntity(true)">Delete Forever</md-button></div></md-toolbar><md-content mode="{{vm.mode}}"><section ng-show="vm.revisions.length"><md-content style="max-height: 20rem"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><h3>Revisions</h3></div></md-toolbar></md-subheader><md-list><md-list-item ng-repeat="revision in vm.revisions" md-colors="{background: \'{{revision._rev === vm.currentRevId ? \'default-primary\' : \'default-background-50\'}}\'}" class="secondary-button-padding"><div class="md-body-1">{{revision.modifiedAt | date: \'short\'}} by {{revision.modifiedBy}}</div><md-button ng-click="vm.restoreRevision(revision)" ng-disabled="revision._rev === vm.currentRevId" class="md-secondary">{{revision._rev === vm.currentRevId ? \'Current\' : \'Restore\'}}</md-button></md-list-item></md-list></md-content></section><section ng-class="::{disabled: vm.entity.trashed}"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-if="::vm.mode === \'batchEdit\'" ng-model="vm.options.batchPublish" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3>Published</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.entity.published" ng-change="vm.options.batchPublish = true" aria-label="Published?">Published</md-checkbox></md-input-container><md-datepicker ng-model="vm.entity.publishedAt" md-placeholder="Choose date" ng-disabled="!vm.entity.published" ng-change="vm.options.batchPublish = true"></md-datepicker></div></section><form name="vm.entityForm" novalidate role="form"><section ng-repeat="field in vm.schema.fields" ng-class="{disabled: field.disabled || vm.fieldDisabled(field)}"><field field-type="field.type" field-options="vm.fieldOptions(field.slug)" field-model="vm.entity.fields[field.slug]" field-apply="field.apply" field-disabled="field.disabled"></field></section></form></md-content>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=n(1),l=_interopRequireDefault(s),c=n(232),u=_interopRequireDefault(c),d=function EntityController(e,t,n,r,o,s,c,d,h,p,m,f,g,v){(0,i.default)(this,EntityController);var y=this;if(y.entity=y.entities[0]||{},y.entity.schema&&h.getSchema(y.entity.schema)&&(y.schema=a.default.cloneDeep(h.getSchema(y.entity.schema))),"singular"===y.mode&&s.id&&h.getSchema(s.id)&&(y.schema=a.default.cloneDeep(h.getSchema(s.id)),y.entity._id="entity."+y.schema.slug),y.schema.fields=y.schema.fields||[],y.schema.actions=y.schema.actions||[],"batchEdit"===y.mode){if(0===y.entities.length)return void o.go("^");y.entity=g.consolidate(y.entities),y.schema.fields.forEach(function(e){e.apply=!1})}y.entity.fields||(y.entity.fields={}),y.entity.published=void 0===y.entity.published||null===y.entity.published||y.entity.published,y.entity.publishedAt=void 0===y.entity.publishedAt||null===y.entity.publishedAt?new Date:y.entity.publishedAt,y.options={batchPublish:!1},r.log("schema",y.schema),r.log("entity",y.entity),y.fieldDisabled=function(e){return!!y.entity.trashed||f.field(e.type).modeDisabled[y.mode]};var _={batchUpload:"Batch Upload",batchEdit:"Batch Edit",new:"New"};if(y.modeBreadcrumb=_[y.mode],"batchUpload"!==y.mode)var b=c.onStart({to:"*"},function(e){if(y.entityForm&&y.entityForm.$dirty){var t=d.confirm().textContent("You have unsaved changes, are you sure?").cancel("Cancel").ok("Confirm");return d.show(t).then(function(){b(),o.go(e.to().name,e.params("to"))}),!1}b()});if(y.currentRevId=y.entity._rev,y.revisions=[],y.restoreRevision=function(e){y.currentRevId=e._rev,y.entity.fields=e.fields},y.showRevisions=function(){p.getRevisions({id:y.entity._id}).then(function(e){y.revisions=e.reverse()})},t.$watch(function(){return y.entity.published},function(e,t){!0===e&&!1===t&&(void 0!==y.entity.publishedAt&&null!==y.entity.publishedAt||(y.entity.publishedAt=new Date))}),y.schema.settings.singular||"batchEdit"===y.mode||t.$watch(function(){return y.entity.fields},function(){y.title=p.getTitleSlug(y.entity).title},!0),y.action=function(t){if("url"===t.type){var r=u.default.compile(t.settings.url),i=r(y.entity),o=h.getConfig().client.baseUrl||"";!/https?:\/\//.test(i)&&o&&(i=o+i);var a=new n.URL(i);a.search+=(/^\?/.test(a.search)?"&":"?")+"apiToken="+e.apiToken,n.open(a)}},y.saveEntity=function(){!y.entity._rev&&y.entities.length<=1?y.createEntity():y.updateEntity()},y.createEntity=function(){y.entityForm.$invalid||p.createEntity(y.schema.slug,y.entity).then(function(e){y.entityForm.$setPristine(),y.schema.settings.singular||o.go("entity",{id:e._id})},r.error)},y.updateEntity=function(){y.entityForm.$invalid||p.updateEntities(y.entities,y.entity,y.schema,y.options).then(function(e){y.entityForm.$setPristine()},r.error)},y.cloneEntity=function(){if(!y.entityForm.$invalid){var e=l.default.copy(y.entity);delete e._id,delete e._rev,delete e.createdBy,p.createEntity(y.schema.slug,e).then(function(e){y.modal&&y.modal.close(),o.go("entity",{id:e._id})},r.error)}},y.deleteEntity=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=d.confirm().textContent(e?"Delete entity forever? You cannot undo this.":"Delete entity?").cancel("Cancel").ok("Delete");d.show(t).then(function(){p.deleteEntities(y.entity,e).then(function(){e||""===o.previous.name?o.go("trash"):o.go("entityGrid",{schemaSlug:y.schema.slug})})})},y.restoreEntity=function(){p.restoreEntities(y.entity).then(function(){o.go("entity",{id:y.entity._id},{reload:!0})})},y.back=function(){y.entity.trashed?o.go("trash"):(y.mode,o.go("entityGrid",{schemaSlug:y.schema.slug}))},y.nextEntityId=null,y.prevEntityId=null,"normal"===y.mode&&m.states[y.entity.schema]){var w=m.states[y.entity.schema].data;w.forEach(function(e,t){e._id===y.entity._id&&(y.nextEntityId=w[t<w.length-1?t+1:0]._id,y.prevEntityId=w[t>0?t-1:w.length-1]._id)})}y.nextEntity=function(){y.modal&&y.modal.close(),p.editEntities([{id:y.nextEntityId}])},y.prevEntity=function(){y.modal&&y.modal.close(),p.editEntities([{id:y.prevEntityId}])},y.dropdownMore=(y.schema.actions||[]).map(function(e){return{text:e.name,click:function(){y.action(e)}}}),y.schema.settings.singular||y.dropdownMore.push({text:"Clone",click:function(){y.entityForm.$valid?y.cloneEntity():d.show(d.alert().title("Cannot clone entity").textContent("Please check all fields are valid and retry").ok("Close"))}}),y.dropdownMore.push({text:"History",click:function(){y.showRevisions()}}),t.$on("fieldCtrl:batchUpload",function(e,t,n){v.init(y.entity,n,y.schema,t),o.go("batchUpload",{schemaSlug:y.schema.slug,fieldSlug:t.slug})});var x=a.default.reduce(y.schema.fields,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return e[t.slug]=a.default.merge({},h.getField(y.schema.slug,t.slug),{entityId:y.entity._id,entityMode:y.mode}),e},{});y.fieldOptions=function(e){return x[e]}};d.$inject=["$rootScope","$scope","$window","$log","$state","$stateParams","$transitions","$mdDialog","ConfigFactory","EntityFactory","EntityGridFactory","FieldFactory","BatchFactory","BatchUploadFactory"],t.default=d},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(15),l=_interopRequireDefault(s),c=n(3),u=_interopRequireDefault(c),d=n(1),h=_interopRequireDefault(d),p=n(33),m=_interopRequireDefault(p),f=n(232),g=_interopRequireDefault(f),v=n(460),y=_interopRequireDefault(v),_=n(461),b=_interopRequireDefault(_),w=function(e,t,n,r,o,s,c,d,p,f,v,_){"ngInject";function prepEntitiesFromDb(e){return e.map(function(e){return e.published&&(e.publishedAt=new Date(Date.parse(e.publishedAt))),e.fields=u.default.mapValues(e.fields,function(t,n){var r=p.getField(e.schema,n);return r?(t.value=d.field(t.type).fromDb(t.value,r.settings),t):t}),e})}function getEntityById(e){return n(function(n,r){var i=h.default.isArray(e.id),o=!h.default.isArray(e.id)&&p.getSchema(e.id.split(".")[1]),a={method:i?"POST":"GET",url:_.apiUrl+"/entities"};a[i?"data":"params"]=e,t(a).then(function(e){if(!e.data.length&&!o)return r(new Error("Entity(s) not found"));var t=prepEntitiesFromDb(e.data);n(t)},r)})}function prepEntityToDb(e,t){e=h.default.copy(e);var n=(0,l.default)(new Date).replace(/"/g,""),r=p.getSchema(t||e.schema);if(!r)throw Error("Schema not found");e.createdBy||(e.createdBy=p.getUser().id,e.created=n),e.modifiedBy=p.getUser().id,e.modifiedAt=n,e.published&&(e.publishedAt=(0,l.default)(e.publishedAt).replace(/"/g,"")),e.schema=r.slug;var i=w.getTitleSlug(e);return e.title=i.title,e.slug=i.slug,e.fields=u.default.mapValues(e.fields,function(e,t){var n=p.getField(r.slug,t);return u.default.find(r.fields,function(e){return e.slug===t})?(e.fieldType=n.type,e.type=n.type,e.value=d.field(n.type).toDb(e.value,n.settings),e):null}),e.fields=u.default.pickBy(e.fields,function(e){return e}),e.thumbnail=w.getEntityThumbnail(e),e}var w={};e.$entity=w,w.getTitleSlug=function(e){var t=void 0,n=void 0,r=u.default.mapValues(e.fields,function(e){return o("field2String")(e,10)}),i=p.getSchema(e.schema),a=i.titleTemplate&&""!==i.titleTemplate?i.titleTemplate:i.settings.singular?i.name:"{{"+i.fields[0].slug+"}}";return t=g.default.compile(a)(r),t=o("trimify")(t),i.slugTemplate&&""!==i.slugTemplate?(n=u.default.kebabCase(g.default.compile(i.slugTemplate)(r)),n=o("trimify")(n)):n=u.default.kebabCase(t),t=m.default.decode(t),n=m.default.decode(n),{title:t,slug:n}},w.getFieldThumbnail=function(e){if(!e||!e.value)return null;var t=d.field(e.type).thumbnail(e.value);return t&&(t.ratio=isNaN(t.width/t.height)?0:t.width/t.height),t};var x=function(e){var t=p.getSchema(e.schema).thumbnailFields;if(!t)return null;var n=null;return t.forEach(function(t){var r=e.fields[t];if(!n&&r&&r.value){if(!(u.default.isArray(r.value)?r.value[0]:r.value))return;n=r}}),n};return w.getEntityThumbnail=function(e){return w.getFieldThumbnail(x(e))},w.getEntityThumbnailUrl=function(e,t){return f.getFieldThumbnailUrl(x(e),t)},w.fieldValues=function(){var e=(0,a.default)(i.default.mark(function _callee(e,n){return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.get(_.apiUrl+"/entities/field",{params:{slug:e,searchTerm:n}});case 2:return r.abrupt("return",r.sent.data.rows);case 3:case"end":return r.stop()}},_callee,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),w.search=function(e){return n(function(n,r){t({method:"GET",url:_.apiUrl+"/entities/search",params:e||{}}).then(function(e){n(e.data.rows)},r)})},w.getRevisions=function(e){return n(function(n,r){t({method:"GET",url:_.apiUrl+"/entity/revisions",params:e||{}}).then(function(e){n(prepEntitiesFromDb(e.data))},r)})},w.getById=function(e){return n(function(t,n){e.id||n(new Error("Missing id param")),getEntityById(e).then(t,n)})},w.createEntity=function(e,r){return n(function(n,i){r=prepEntityToDb(r,e),t({method:"POST",url:_.apiUrl+"/entity",data:{entity:r}}).then(function(e){c.states[r.schema]&&(c.states[r.schema].data.unshift(r),c.states[r.schema].state.selection=[{row:0,identity:!1}]),n(e.data)},i)})},w.updateEntities=function(r,i,o,a){return n(function(n,s){r=r.map(function(e){return i&&o&&(h.default.forEach(o.fields,function(t){t.apply&&i.fields[t.slug]&&(e.fields[t.slug]||(e.fields[t.slug]={}),e.fields[t.slug].type=t.type,e.fields[t.slug].fieldType=t.type,e.fields[t.slug].value=i.fields[t.slug].value)}),a&&a.batchPublish&&(e.published=i.published,e.publishedAt=i.publishedAt)),prepEntityToDb(e)}),t({method:"PUT",url:_.apiUrl+"/entity",data:{entities:r}}).then(function(t){r.forEach(function(e){t.data.forEach(function(t){e._id===t.id&&(e._rev=t.rev)})}),e.$broadcast("EntityFactory:updateEntities",r),n(r)},s)})},w.deleteEntities=function(e,r){return n(function(n,i){e=h.default.isArray(e)?e:[e],e=e.map(function(e){return e._id}),t({method:"DELETE",url:_.apiUrl+"/entity",data:{entities:e,forever:r}}).then(function(e){n(e.data)},i)})},w.restoreEntities=function(e){return n(function(n,r){e=h.default.isArray(e)?e:[e],e=e.map(function(e){return e._id}),t({method:"PUT",url:_.apiUrl+"/entity",data:{restore:!0,entities:e}}).then(function(e){n(e.data)},r)})},w.emptyTrash=function(){return n(function(e,n){t({method:"DELETE",url:_.apiUrl+"/entity/trashed"}).then(function(t){e(t.data)},n)})},w.editEntities=function(e){return n(function(t,n){var r=e.length>1?"batchEdit":e[0].trashed?"trash":"normal",i=e.map(function(e){return e.id||e._id});w.getById({id:i,children:1}).then(function(e){v.showModal({template:b.default,controllerAs:"vm",inputs:{mode:r,entities:e}}).then(function(r){r.result.then(function(r){w.updateEntities(e,r.entity,r.schema,r.options).then(t,n)})})})})},w.newEntity=function(e){return n(function(t,n){v.showModal({template:b.default,controllerAs:"vm",inputs:{mode:"new",entities:[{schema:e}]}}).then(function(r){r.result.then(function(r){w.createEntity(e,r.entity).then(function(e){t(e)},n)},n)},n)})},w.selectEntity=function(e){return n(function(t,n){v.showModal({template:y.default,controllerAs:"vm",inputs:{schemaSlug:e}}).then(function(e){e.result.then(function(e){t(e)},n)},n)})},w};w.$inject=["$rootScope","$http","$q","$log","$filter","$timeout","EntityGridFactory","FieldFactory","ConfigFactory","HelperFactory","ModalService","appConfig"],t.default=w},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content">\x3c!-- .modal-header--\x3e\x3c!--   md-toolbar--\x3e\x3c!--     .md-toolbar-tools--\x3e\x3c!--       h2 Entity--\x3e\x3c!--       span(flex)--\x3e\x3c!--       md-button.md-icon-button(ng-click="$modal.dismiss()")--\x3e\x3c!--         md-icon(md-font-set="material-icons") close--\x3e<div class="modal-body"><entity-grid mode="modal" schema="vm.schemaSlug" selected="vm.selected"></entity-grid></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.selected)" class="md-accent">Select</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content">\x3c!-- .modal-header--\x3e\x3c!--   md-toolbar--\x3e\x3c!--     .md-toolbar-tools--\x3e\x3c!--       h2 Entity--\x3e\x3c!--       span(flex)--\x3e\x3c!--       md-button.md-icon-button(ng-click="$modal.dismiss()")--\x3e\x3c!--         md-icon(md-font-set="material-icons") close--\x3e<div class="modal-body"><entity mode="{{vm.mode}}" entity="vm.entity" entities="vm.entities" schema="vm.schema" options="vm.options" entity-form="vm.entityForm" modal="$modal"></entity></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-disabled="vm.entityForm.$invalid || vm.entity.trashed" ng-click="$modal.close(vm)" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-default">Close</md-button></div></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(463),l=_interopRequireDefault(s),c=n(467),u=_interopRequireDefault(c),d=i.default.module("entityGrid",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("entityGrid",{url:"/entities/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",views:{content:{template:'<entity-grid mode="normal"></entity-grid>'}},data:{permissions:"entityGrid"}}),e.state("trash",{url:"/trash",views:{content:{template:'<entity-grid mode="trash"></entity-grid>'}},data:{permissions:"entityGrid"}})}]).filter("filterFields",function(){return function(e){return(e||[]).filter(function(e){return/text|select|number|date|entity/.test(e.type)})}}).filter("schemaSlug2Name",["ConfigFactory",function(e){"ngInject";return function(t){return e.getSchema(t).name}}]).factory("EntityGridFactory",u.default).directive("entityGrid",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(464),i=_interopRequireDefault(r),o=n(465),a=_interopRequireDefault(o);n(466);var s=function(){"ngInject";return{restrict:"E",scope:{mode:"@",schema:"=?",selected:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><span ng-show="::vm.mode !== \'modal\'"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button></span><h3><span hide show-gt-xs ng-show="vm.selected.length &gt; 0">{{vm.selected.length}}/</span><span>{{vm.totalItems}} &nbsp;</span><span>{{vm.heading}}</span></h3><span flex></span><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button ng-click="vm.editSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button ng-click="vm.deleteSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button></span><span ng-show="::vm.mode === \'trash\'"><md-button ng-click="vm.restoreSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Restore" class="md-icon-button"><md-icon md-font-set="material-icons">settings_backup_restore</md-icon></md-button><md-button hide show-gt-xs ng-click="vm.deleteSelected(vm.selected, true)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete Forever" class="md-icon-button"><md-icon md-font-set="material-icons">delete_forever</md-icon></md-button><md-button ng-click="vm.emptyTrash()" aria-label="Empty Trash" class="md-icon-button"><md-icon md-font-set="material-icons">delete_sweep</md-icon></md-button></span><md-button hide show-gt-xs ng-click="vm.selectAll()" aria-label="Select all" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select"></md-icon></md-button><md-button hide show-gt-xs ng-click="vm.selectNone()" aria-label="Select none" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select-off"></md-icon></md-button><md-menu hide show-gt-xs ng-show="::vm.filterFields.length"><md-button ng-click="$mdMenu.open()" aria-label="Filter" class="md-icon-button"><md-icon md-font-set="material-icons">filter_list</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="field in vm.filterFields"><md-button ng-click="vm.addFilter(field)"><span>{{ field.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button aria-label="Search" ng-click="vm.showSearch = !vm.showSearch; vm.searchTerm = \'\'; vm.search()" class="md-icon-button"><md-icon md-font-set="material-icons">search</md-icon></md-button></span><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button ng-click="vm.newEntity()" aria-label="New entity" class="md-fab md-mini"><md-icon md-font-set="material-icons">add</md-icon></md-button></span><span ng-show="::vm.mode === \'trash\' || vm.mode === \'modal\'"><md-button ng-click="vm.showSearch = !vm.showSearch; vm.searchTerm = \'\'; vm.search()" aria-label="Search" class="md-fab md-mini"><md-icon md-font-set="material-icons">search</md-icon></md-button></span></div></md-toolbar><div flex="nogrow" ng-show="vm.showSearch"><div layout="row" layout-padding class="search"><md-input-container flex md-no-float><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"></md-input-container><md-button aria-label="Search" ng-click="vm.search($event, vm.searchTerm)" class="md-icon-button"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></div><div flex="nogrow" ng-show="vm.filters.length &gt; 0"><br><div layout="row" layout-padding ng-repeat="filter in vm.filters track by $index" class="filter"><md-autocomplete flex md-no-cache="true" md-selected-item-change="vm.selectFilter()" md-selected-item="filter.value" md-search-text="searchTerm" md-delay="200" md-items="item in vm.filterOptions(filter, searchTerm)" md-item-text="item" md-floating-label="{{filter.name}}" md-input-name="{{filter.fieldSlug}}" md-min-length="0"><md-item-template><span md-highlight-text="searchTerm" md-highlight-flags="^i">{{item}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete><md-button aria-label="Remove filter" ng-click="vm.removeFilter($index)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></div><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ui-grid-cellNav ui-grid-save-state ng-class="{disabled: vm.searching}"></div></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(2),l=_interopRequireDefault(s),c=n(3),u=(_interopRequireDefault(c),n(1)),d=_interopRequireDefault(u),h=n(33),p=(_interopRequireDefault(h),function EntityGridController(e,t,n,r,o,s,c,u,h,p,m,f,g,v,y,_,b){function search(e){x.searchTerm=e||"",getResults(!0)}function sort(e){x.sortColumns=e,getResults(!0)}function getResults(e){if(x.searching)return!1;var t=s.defer();e&&(x.page=0,E={},x.selectNone());var n={query:[],sort:[],page:x.page,bookmark:E[x.page-1]||null,trashed:"trash"===x.mode};if("trash"!==x.mode){var r=S.map(function(e){return"schema:"+e});n.query.push("("+r.join(" OR ")+")")}if(""!==x.searchTerm){var i=[];T.forEach(function(e){e.fields.forEach(function(e){/image|video/.test(e.type)?(i.push("fields."+e.slug+".fileName:"+x.searchTerm+"*"),i.push("fields."+e.slug+".original.fileName:"+x.searchTerm+"*")):i.push("fields."+e.slug+":"+x.searchTerm+"*")})}),n.query.push("("+i.join(" OR ")+")")}return x.filters.forEach(function(e){e.value&&n.query.push("fields."+e.fieldSlug+':"'+e.value.toLowerCase()+'"')}),n.query=n.query.join(" AND "),x.sortColumns.forEach(function(e){var t=e.sort.direction===b.ASC?"-":"",r="",i=e.name.replace(/fields\.|\.value/g,"");/^(modifiedAt|publishedAt)$/.test(i)?r="<number>":/^(slug|title|schema)$/.test(i)?r="<string>":(i="fields."+i,r="<string>"),n.sort.push(t+"sort."+i+r)}),x.searching=!0,g.search(n).then(function(r){E[n.page]=r.bookmark,x.totalItems=r.total,x.items=e?r.results:x.items.concat(r.results),x.grid.data=x.items,saveState(),t.resolve()}).finally(function(){x.searching=!1}),t.promise}function saveState(){S[0]&&(g.states[S[0]]={bookmarks:E,data:x.grid.data,totalItems:x.totalItems,searchTerm:x.searchTerm,showSearch:x.showSearch,page:x.page,sortColumns:x.sortColumns,filters:x.filters,state:x.gridApi.saveState.save()})}var w=this;(0,l.default)(this,EntityGridController);var x=this;x.items=[],x.selected=[],x.totalItems=0,x.searchTerm="",x.showSearch=!1,x.page=0,x.filters=[],x.sortColumns=[{name:"modifiedAt",sort:{direction:b.ASC}}],x.columnDefs=[],x.sortFields=[],x.searching=!1;var S=x.schema?[x.schema]:"trash"===x.mode?[]:r.schemaSlug?[r.schemaSlug]:[],C=!1,E={},T=v.getConfig().schemas.filter(function(e){return S.indexOf(e.slug)>-1});if("trash"!==x.mode&&!T[0])return u.error("Schema not found: "+S[0]),void n.go("dashboard");x.heading="trash"===x.mode?"Trash":c("pluralize")(T[0]?T[0].name:""),x.sortFields=[],T.forEach(function(e){e.fields.forEach(function(e){e.settings.gridColumn&&x.sortFields.push(e)})}),x.filterFields=c("filterFields")(x.sortFields),"trash"!==x.mode&&0!==x.sortFields.length||x.columnDefs.push({name:"title",displayName:"Title",allowCellFocus:!1},{name:"schema",displayName:"Schema",cellFilter:"schemaSlug2Name",allowCellFocus:!1}),"trash"!==x.mode&&x.sortFields.length>0&&x.sortFields.forEach(function(e){var t=f.getColumnOptions(e);"thumbnail"===t.style&&(C=!0),x.columnDefs.push(t)}),x.columnDefs.push({name:"modifiedAt",displayName:"Modified",cellFilter:"parseDate",allowCellFocus:!1}),x.columnDefs.push({name:"publishedAt",displayName:"Published",cellFilter:"datePublished : row.entity",allowCellFocus:!1});var M=g.states[S[0]],k=function(e){x.gridApi=e,e.core.on.renderingComplete(t,function(t){M?(E=M.bookmarks,x.grid.data=M.data,x.items=M.data,x.totalItems=M.totalItems,x.searchTerm=M.searchTerm,x.showSearch=M.showSearch,x.page=M.page,x.sortColumns=M.sortColumns,x.filters=M.filters,x.showSearch=""!==x.searchTerm,h(function(){e.core.handleWindowResize(),M&&(e.saveState.restore(x,M.state),M.state.scrollFocus.rowVal&&h(function(){e.core.scrollTo(x.grid.data[M.state.scrollFocus.rowVal.row+5])}))},100)):getResults(!0),h(function(){e.core.handleWindowResize()},2e3)}),e.core.on.sortChanged(t,function(e,t){sort(t)});var n=0,r=void 0;e.selection.on.rowSelectionChanged(t,function(t,i){i&&(i.timeStamp-n<300&&t===r&&"modal"!==x.mode&&x.editSelected([t.entity]),n=i.timeStamp,r=t),x.selected=e.selection.getSelectedRows()}),e.selection.on.rowSelectionChangedBatch(t,function(){x.selected=e.selection.getSelectedRows()}),e.infiniteScroll.on.needLoadMoreData(t,function(){x.items.length<x.totalItems&&(x.page++,getResults().then(function(){e.infiniteScroll.dataLoaded()}))})};x.grid={data:x.items,rowHeight:C?100:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:x.columnDefs,infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:b.scrollbars.NEVER,appScopeProvider:x,excessRows:20,saveSelection:!0,onRegisterApi:k},x.search=function(e,t){void 0!==e&&"keypress"===e.type&&13!==e.keyCode||search(t)},x.selectAll=function(){x.gridApi.selection.selectAllRows(),x.selected=x.gridApi.selection.getSelectedRows()},x.selectNone=function(){x.gridApi.selection.clearSelectedRows(),x.selected=x.gridApi.selection.getSelectedRows()},x.newEntity=function(){n.go("newEntity",{schemaSlug:S[0]})},t.$on("EntityFactory:updateEntities",function(e,t){x.items.forEach(function(e){t.forEach(function(t){e._id&&e._id===t._id&&d.default.extend(e,t)})}),x.grid.data=x.items}),x.editSelected=function(e){y.editEntities(e)},x.deleteSelected=function(e,t){t=t||!1;var n=m.confirm().textContent("Delete selected entities?").cancel("Cancel").ok("Delete");m.show(n).then(function(){y.deleteEntities(e,t).then(function(e){e.error||getResults(!0)})})},x.restoreSelected=function(e){var t=m.confirm().textContent("Restore selected entities?").cancel("Cancel").ok("Restore");m.show(t).then(function(){y.restoreEntities(e).then(function(e){e.error||getResults(!0)})})},x.emptyTrash=function(){var e=m.confirm().textContent("Empty the trash?").cancel("Cancel").ok("Confirm");m.show(e).then(function(){y.emptyTrash().then(function(e){e.error||getResults(!0)})})},x.addFilter=function(e){x.filters.push({name:e.name,value:null,fieldSlug:e.slug})},x.removeFilter=function(e){x.filters.splice(e,1),getResults(!0)},x.selectFilter=function(){getResults(!0)},x.filterOptions=function(){var e=(0,a.default)(i.default.mark(function _callee(e,t){var n;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.fieldValues(e.fieldSlug,t);case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}},_callee,w)}));return function(t,n){return e.apply(this,arguments)}}(),x.$onDestroy=function(){saveState()},t.$watch(function(){return x.showSearch},function(){h(function(){x.gridApi.core.handleWindowResize()})}),t.$watch(function(){return x.filters.length},function(){h(function(){x.gridApi.core.handleWindowResize()})})});p.$inject=["$rootScope","$scope","$state","$stateParams","$transitions","$q","$filter","$log","$timeout","$window","$mdDialog","HelperFactory","EntityGridFactory","ConfigFactory","EntityFactory","BatchFactory","uiGridConstants"],t.default=p},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e,t,n){"ngInject";var r={states:{},lastResult:{total:0,bookmark:null,results:[]}};return r.search=function(r){return t(function(t,o){var a={query:"*:*",sort:"<score>",limit:100,include_docs:!0};e({method:"GET",url:n.apiUrl+"/entities/search",params:i.default.extend(a,r)}).then(function(e){if(e.data.error)t({});else{var n={total:e.data.total_rows,bookmark:e.data.bookmark,results:e.data.rows.map(function(e){return e.doc})};t(n)}},o)})},r};o.$inject=["$http","$q","appConfig"],t.default=o},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(33),a=_interopRequireDefault(o),s=n(469),l=_interopRequireDefault(s),c=n(472),u=_interopRequireDefault(c),d=n(480),h=_interopRequireDefault(d),p=n(485),m=_interopRequireDefault(p),f=n(493),g=_interopRequireDefault(f),v=n(498),y=_interopRequireDefault(v),_=n(503),b=_interopRequireDefault(_),w=n(510),x=_interopRequireDefault(w),S=n(515),C=_interopRequireDefault(S),E=n(522),T=_interopRequireDefault(E),M=n(529),k=_interopRequireDefault(M),A=n(536),D=_interopRequireDefault(A),$=n(594),P=_interopRequireDefault($),L=n(599),R=_interopRequireDefault(L),O=n(604),I=_interopRequireDefault(O),F=n(615),N=_interopRequireDefault(F),H=n(622),j=_interopRequireDefault(H),B=n(629),V=_interopRequireDefault(B),Y=n(636),z=_interopRequireDefault(Y),q=n(641),U=_interopRequireDefault(q),G=n(650),W=_interopRequireDefault(G),K=i.default.module("field",[h.default.name,m.default.name,g.default.name,y.default.name,b.default.name,x.default.name,C.default.name,T.default.name,k.default.name,D.default.name,P.default.name,R.default.name,I.default.name,N.default.name,j.default.name,V.default.name,z.default.name,U.default.name,W.default.name]).config(function(){"ngInject"}).filter("field2String",["$window","$filter","FieldFactory",function(e,t,n){"ngInject";return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i="";if(null===e||void 0===e||null===e.value||void 0===e.value)return i;if("string"!=typeof(i=n.field(e.type).toString(e.value)))throw Error("Cannot convert "+e.type+" field to string");return i=t("simplifyText")(i),i=t("truncateWords")(i,r),i=a.default.decode(i)}}]).factory("FieldFactory",u.default).directive("field",l.default);t.default=K},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(470),a=_interopRequireDefault(o);n(471);var s=function(e){"ngInject";return{restrict:"E",scope:{fieldType:"=",fieldOptions:"=",fieldModel:"=",fieldApply:"=?",fieldDisabled:"=?"},link:function(t,n){var r=i.default.kebabCase(t.vm.fieldType);n.html("<field-"+r+'\n      field-model="vm.fieldModel"\n      field-options="vm.fieldOptions"\n      field-apply="vm.fieldApply"\n      field-disabled="vm.fieldDisabled"\n      ></field-'+r+">"),e(n.contents())(t)},controller:a.default,controllerAs:"vm",bindToController:!0}};s.$inject=["$compile"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldController(){(0,i.default)(this,FieldController);var e=this;e.fieldModel||(e.fieldModel={}),e.fieldModel.type=e.fieldType};t.default=o},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(473),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){"ngInject";var t={},n={registerField:function(e,n){t[e]=new i.default(n)},field:function(e){return t[e]},fields:function(){return t}};return e.$field=n,n};o.$inject=["$rootScope"],t.default=o},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),i=_interopRequireDefault(r),o=n(2),a=_interopRequireDefault(o),s=n(233),l=_interopRequireDefault(s),c=function(){function Field(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,Field),this.name="Field Name",this.thumbnailField=!1,this.gridOptions={style:"string",cellFilter:"field2String",enableSorting:!0},this.modeDisabled={new:!1,batchEdit:!1,batchUpload:!1},(0,i.default)(this,e)}return(0,l.default)(Field,[{key:"toString",value:function(e){return e||""}},{key:"toDb",value:function(e,t){return e}},{key:"fromDb",value:function(e,t){return e}},{key:"thumbnail",value:function(e){return null}}]),Field}();t.default=c},function(e,t,n){n(475),e.exports=n(6).Object.assign},function(e,t,n){var r=n(11);r(r.S+r.F,"Object",{assign:n(476)})},function(e,t,n){"use strict";var r=n(30),i=n(60),o=n(41),a=n(32),s=n(78),l=Object.assign;e.exports=!l||n(25)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,c=1,u=i.f,d=o.f;l>c;)for(var h,p=s(arguments[c++]),m=u?r(p).concat(u(p)):r(p),f=m.length,g=0;f>g;)d.call(p,h=m[g++])&&(n[h]=p[h]);return n}:l},function(e,t,n){e.exports={default:n(478),__esModule:!0}},function(e,t,n){n(479);var r=n(6).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(11);r(r.S+r.F*!n(16),"Object",{defineProperty:n(13).f})},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(481),a=_interopRequireDefault(o),s=i.default.module("fieldAttachment",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("attachment",{name:"Attachment",modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e.original?e.original.fileName:""}})}]).directive("fieldAttachment",a.default);t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(482),i=_interopRequireDefault(r),o=n(483),a=_interopRequireDefault(o);n(484);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<span ace-flow options="vm.flowOptions"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Upload" ace-flow-browse class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.value" class="md-icon-button"><md-icon md-font-set="material-icons">file_download</md-icon></md-button><md-button aria-label="File URL" ng-click="vm.fileUrl($event)" ng-disabled="!vm.fieldModel.value" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-link-variant"></md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex ng-show="vm.uploading"><div ng-show="vm.uploading">Uploading {{ vm.progress || 0 }}%</div></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><table><tr><td>Type</td><td>{{vm.fieldModel.value.original.mimeType}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.value.original.fileName}}">{{vm.fieldModel.value.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.value.original.fileSize | fileSize}}</td></tr></table></div></div></span>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(15),l=_interopRequireDefault(s),c=n(2),u=_interopRequireDefault(c),d=function FieldAttachmentController(e,t,n,r,o,s,c,d){var h=this;(0,u.default)(this,FieldAttachmentController);var p=this;p.flowOptions={target:d.apiUrl+"/upload",headers:{"X-Api-Token":e.apiToken},query:{options:(0,l.default)(p.fieldOptions)},singleFile:!0,events:{fileAdded:function(e,t){var n="pdf,doc,docx,csv,xls,txt",r=n.indexOf(t.getExtension())>-1;return r||c.show(c.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=r,r},fileSuccess:function(e,t,n){var r=JSON.parse(n);p.fieldModel.value=r},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){p.uploading=!0},complete:function(){p.uploading=!1},progress:function(e){p.progress=Math.round(100*e.progress())},error:function(e,t){c.show(c.alert().title("Upload Error").textContent(t.message||t).ok("Close"))}}},p.download=function(){n.open(d.apiUrl+"/file/download/s3?bucket="+p.fieldModel.value.metadata.s3.bucket+"&key="+p.fieldModel.value.metadata.s3.src+"&filename="+p.fieldModel.value.original.fileName)},p.fileUrl=(0,a.default)(i.default.mark(function _callee(){var e,t,n,o;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.get(d.apiUrl+"/token",{params:{slug:d.slug,role:"guest"}});case 2:e=i.sent.data.token,t=d.apiUrl+"/file/s3/"+p.fieldModel.value.metadata.s3.bucket+"/"+p.fieldModel.value.metadata.s3.src+"/"+p.fieldModel.value.original.fileName+"?apiToken="+e,n=s.protocol()+"://"+s.host()+(-1===[80,443].indexOf(s.port())?":"+s.port():""),o=/https?:\/\//.test(t)?t:n+t,c.show(c.prompt().title("File URL").placeholder("File URL").ariaLabel("File URL").initialValue(o).ok("Close"));case 7:case"end":return i.stop()}},_callee,h)}))};d.$inject=["$rootScope","$scope","$window","$http","$timeout","$location","$mdDialog","appConfig"],t.default=d},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(486),a=_interopRequireDefault(o),s=n(490),l=_interopRequireDefault(s),c=i.default.module("fieldAudio",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldAudioSettingsFactory",function(e,t){"ngInject";e.registerField("audio",{name:"Audio",editSettings:t.edit,modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e.original?e.original.fileName:""}})}]).factory("FieldAudioSettingsFactory",l.default).directive("fieldAudio",a.default);t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(487),i=_interopRequireDefault(r),o=n(488),a=_interopRequireDefault(o);n(489);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<span ace-flow options="vm.flowOptions"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Upload" ace-flow-browse class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.value" class="md-icon-button"><md-icon md-font-set="material-icons">file_download</md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex ng-show="vm.uploading"><div ng-show="vm.uploading">Uploading {{ vm.progress || 0 }}%</div></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><table><tr><td>Type</td><td>{{vm.fieldModel.value.original.mimeType}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.value.original.fileName}}">{{vm.fieldModel.value.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.value.original.fileSize | fileSize}}</td></tr></table></div></div></span>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=_interopRequireDefault(r),o=n(2),a=_interopRequireDefault(o),s=function FieldAudioController(e,t,n,r,o,s,l){function checkZencoderJob(){r.get(l.apiUrl+"/zencode/job",{params:{id:c.fieldModel.value.metadata.zencoder.job.id}}).then(function(e){var t=e.data;if(/pending|waiting|processing/.test(t.jobState))return void o(checkZencoderJob,1e4);c.fieldModel.value.metadata.zencoder=t})}(0,a.default)(this,FieldAudioController);var c=this;c.flowOptions={target:l.apiUrl+"/upload",headers:{"X-Api-Token":e.apiToken},query:{options:(0,i.default)(c.fieldOptions)},singleFile:!0,events:{fileAdded:function(e,t){var n="mp3,aac,wav,flac,ogg,wma",r=n.indexOf(t.getExtension())>-1;return r||s.show(s.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=r,r},fileSuccess:function(e,t,n){var r=JSON.parse(n);c.fieldModel.value=r,checkZencoderJob()},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){c.uploading=!0},complete:function(){c.uploading=!1},progress:function(e){c.progress=Math.round(100*e.progress())},error:function(e,t){s.show(s.alert().title("Upload Error").textContent(t.message||t).ok("Close"))}}},c.download=function(){n.open(l.apiUrl+"/file/download/s3?bucket="+c.fieldModel.value.metadata.s3.bucket+"&key="+c.fieldModel.value.metadata.s3.src+"&filename="+c.fieldModel.value.original.fileName)}};s.$inject=["$rootScope","$scope","$window","$http","$timeout","$mdDialog","appConfig"],t.default=s},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(491),u=_interopRequireDefault(c),d=n(492),h=_interopRequireDefault(d),p=function(e,t,n){"ngInject";var r=this,o={},s={audioOutputs:[]},c={name:"",slug:"",format:"mp3",audioQuality:3},d=[{value:"mp3",name:"mp3"},{value:"aac",name:"aac"}],p=[{value:1,name:"Mediocre"},{value:2,name:"Acceptable"},{value:3,name:"Good"},{value:4,name:"Great"},{value:5,name:"Lossless"}],m=function(e){e.slug=l.default.camelCase(e.name)},f=function(){var o=(0,a.default)(i.default.mark(function _callee(o,a,s){var u,f;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=!o,f={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:h.default,targetEvent:s,clickOutsideToClose:!0,multiple:!0,locals:{output:l.default.merge({},c,o),createNew:u,slugify:m,formatOptions:d,qualityOptions:p}},r.prev=2,r.next=5,t.show(f);case 5:o=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return u?a.push(o):n.replace(a,o,"slug"),e.$apply(),r.abrupt("return",o);case 14:case"end":return r.stop()}},_callee,r,[[2,8]])}));return function(e,t,n){return o.apply(this,arguments)}}(),g=function(){var n=(0,a.default)(i.default.mark(function _callee2(n,o,a){var s;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.confirm({title:"Delete output?",textContent:"Are you sure you want to delete "+n.name+"?",targetEvent:a,ok:"Confirm",cancel:"Cancel",multiple:!0}),r.prev=1,r.next=4,t.show(s);case 4:r.next=9;break;case 6:return r.prev=6,r.t0=r.catch(1),r.abrupt("return",!1);case 9:return l.default.remove(o,{slug:n.slug}),e.$apply(),r.abrupt("return",!0);case 12:case"end":return r.stop()}},_callee2,r,[[1,6]])}));return function(e,t,r){return n.apply(this,arguments)}}();return o.edit=function(){var e=(0,a.default)(i.default.mark(function _callee3(e,n){var o,a;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:n,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},s,e.settings),editOutput:f,deleteOutput:g}},a=void 0,r.prev=2,r.next=5,t.show(o);case 5:a=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return r.abrupt("return",a);case 12:case"end":return r.stop()}},_callee3,r,[[2,8]])}));return function(t,n){return e.apply(this,arguments)}}(),o};p.$inject=["$rootScope","$mdDialog","HelperFactory"],t.default=p},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Audio Outputs<span flex></span><md-button ng-click="vm.editOutput(null, vm.settings.audioOutputs, $event)">Add Output</md-button></div></md-toolbar><md-table-container ng-show="vm.settings.audioOutputs.length"><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Format</th><th md-column>Quality</th></tr></thead><tbody md-body><tr md-row ng-repeat="output in vm.settings.audioOutputs"><td md-cell>{{output.name}}</td><td md-cell>{{output.slug}}</td><td md-cell>{{output.format}}</td><td md-cell>{{output.audioQuality}}</td><td md-cell><md-button ng-click="vm.editOutput(output, vm.settings.audioOutputs, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.deleteOutput(output, vm.settings.audioOutputs, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Output Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Output Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Name</label><input ng-model="vm.output.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_src|&quot;)).*$/i" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.output)"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.output.slug" required disabled ng-pattern="/^(?!.*?(_src|&quot;)).*$/i"></md-input-container><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.output.format"><md-option ng-repeat="option in vm.formatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><label>Quality</label><md-select ng-model="vm.output.audioQuality"><md-option ng-repeat="option in vm.qualityOptions" value="{{option.value}}">{{option.value}}: {{option.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><label>Compression Ratio (1.0 - 30.0)</label><input type="number" ng-model="vm.output.audioCompressionRatio" min="0" max="30"></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.output.audioPreNormalize">Pre-normalize</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.output)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(494),a=_interopRequireDefault(o),s=i.default.module("fieldCheckbox",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("checkbox",{name:"Checkbox",gridOptions:{style:"boolean"},toString:function(e){return e?"true":"false"}})}]).directive("fieldCheckbox",a.default);t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(495),i=_interopRequireDefault(r),o=n(496),a=_interopRequireDefault(o);n(497);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container><md-checkbox ng-model="vm.fieldModel.value" aria-label="{{vm.fieldOptions.name}}?" ng-required="vm.fieldOptions.settings.required"></md-checkbox></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldCheckboxController(){(0,i.default)(this,FieldCheckboxController)};t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(499),a=_interopRequireDefault(o),s=i.default.module("fieldColor",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("color",{name:"Color"})}]).directive("fieldColor",a.default);t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(500),i=_interopRequireDefault(r),o=n(501),a=_interopRequireDefault(o);n(502);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex>\x3c!-- div(md-color-picker, ng-model="vm.fieldModel.value", ng-required="vm.fieldOptions.settings.required && vm.fieldApply === undefined", aria-label="{{vm.fieldOptions.name}}")--\x3e<input type="color" ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldColorController(){(0,i.default)(this,FieldColorController)};t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(504),l=_interopRequireDefault(s),c=n(508),u=_interopRequireDefault(c),d=a.default.module("fieldDate",[]).config(function(){"ngInject"}).run(["$filter","FieldFactory","FieldDateSettingsFactory",function(e,t,n){"ngInject";t.registerField("date",{name:"Date",editSettings:n.edit,toString:function(t){return e("date")(t,"short")},toDb:function(e,t){return(0,i.default)(e).replace(/"/g,"")},fromDb:function(e,t){return new Date(Date.parse(e))}})}]).factory("FieldDateSettingsFactory",u.default).directive("fieldDate",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(505),i=_interopRequireDefault(r),o=n(506),a=_interopRequireDefault(o);n(507);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-datepicker ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" md-placeholder="{{vm.fieldOptions.name}}"></md-datepicker></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=function FieldDateController(){(0,i.default)(this,FieldDateController);var e=this;a.default.isDate(e.fieldModel.value)&&!a.default.isNaN(e.fieldModel.value.getTime())||(e.fieldModel.value=new Date),!e.fieldModel.value&&e.fieldOptions.settings.required&&(e.fieldModel.value=new Date)};t.default=s},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(509),u=_interopRequireDefault(c),d=function(e){"ngInject";var t=this,n={},r={format:"dd/MM/yyyy"},o=[{name:"dd/MM/yyyy",value:"dd/MM/yyyy"},{name:"MM/dd/yyyy",value:"MM/dd/yyyy"}];return n.edit=function(){var n=(0,a.default)(i.default.mark(function _callee(n,a){var s,c;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:a,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},r,n.settings),formats:o}},c=void 0,t.prev=2,t.next=5,e.show(s);case 5:c=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.abrupt("return",c);case 12:case"end":return t.stop()}},_callee,t,[[2,8]])}));return function(e,t){return n.apply(this,arguments)}}(),n};d.$inject=["$mdDialog"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.settings.format" placeholder="Format"><md-option ng-repeat="format in vm.formats" ng-value="format.value">{{format.name}}</md-option></md-select></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(511),a=_interopRequireDefault(o),s=i.default.module("fieldEmbedly",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("embedly",{name:"Embed.ly",thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e&&e.url?e.url:""},thumbnail:function(e){if(!e||!e.oembed)return null;var t={thumbnailType:"oembed",thumbnailUrl:e.oembed.thumbnail_url,width:e.oembed.thumbnail_width,height:e.oembed.thumbnail_height,oembed:e.oembed};return t.oembed&&(t.oembed.ratio=e.oembed.width/e.oembed.height),t}})}]).directive("fieldEmbedly",a.default);t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(512),i=_interopRequireDefault(r),o=n(513),a=_interopRequireDefault(o);n(514);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Delete" ng-show="vm.fieldModel.value.oembed" ng-click="vm.fieldModel.value = null" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button></div></md-toolbar></md-subheader><div ng-show="!vm.fieldModel.value.oembed" flex layout="row" layout-margin><md-input-container flex md-no-float><input ng-model="vm.fieldModel.value.url" ng-paste="vm.submitUrl()" ng-keypress="($event.charCode === 13) ? vm.submitUrl() : return" placeholder="Source URL" ng-pattern="vm.embedlyRegex" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined"></md-input-container><md-button aria-label="Submit" ng-click="vm.submitUrl()" class="md-icon-button"><md-icon md-font-set="material-icons">get_app</md-icon></md-button></div><div ng-show="vm.fieldModel.value.oembed" flex layout="row" layout-margin><div flex><img ng-src="{{ vm.fieldModel.value.oembed.thumbnail_url }}"></div><div flex><table><tr><td>Provider</td><td>{{vm.fieldModel.value.oembed.provider_name}}</td></tr><tr><td>URL</td><td><span>{{vm.fieldModel.value.oembed.url}}</span></td></tr><tr><td>Title</td><td>{{vm.fieldModel.value.oembed.title}}</td></tr><tr><td>Author</td><td>{{vm.fieldModel.value.oembed.author_name}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.value.oembed.width}}&times;{{vm.fieldModel.value.oembed.height}}</td></tr></table></div></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldEmbedlyController(e,t){(0,i.default)(this,FieldEmbedlyController);var n=this;n.embedlyRegex=/((http:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*\.youtube\.com\/view_play_list.*|.*\.youtube\.com\/playlist.*|www\.youtube\.com\/embed\/.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|player\.vimeo\.com\/.*))|(https:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|www\.youtube\.com\/embed\/.*|www\.vimeo\.com\/.*|vimeo\.com\/.*|player\.vimeo\.com\/.*)))/i;var r=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/,o=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/;n.submitUrl=function(){e(function(){t.oembed(n.fieldModel.value.url).then(function(e){e.url=e.url||n.fieldModel.value.url,/youtube/i.test(e.provider_name)&&(e.id=e.url.match(r)[1]),/vimeo/i.test(e.provider_name)&&(e.id=e.url.match(o)[3]),n.fieldModel.value.oembed=e,n.fieldModel.value.url=e.url})})}};o.$inject=["$timeout","HelperFactory"],t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(516),l=_interopRequireDefault(s),c=n(520),u=_interopRequireDefault(c),d=a.default.module("fieldEntity",[]).config(function(){"ngInject"}).run(["FieldFactory","EntityFactory","FieldEntitySettingsFactory","ConfigFactory",function(e,t,n,r){"ngInject";e.registerField("entity",{name:"Entity",editSettings:n.edit,thumbnailField:!1,toString:function(e){return i.default.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):i.default.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?(n.multiple||(e=i.default.isObject(e)?[e]:e),e=e.map(function(e){var r={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(r.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(r.groupBefore=e.groupBefore||!1,r.groupAfter=e.groupAfter||!1),r})):e},fromDb:function(e,t){return e=e||[],t.multiple?e:e.length?e[0]:null},thumbnail:function(t){if(!t||!t[0])return null;if(t[0].thumbnail&&t[0].thumbnail.thumbnailUrl)return t[0].thumbnail;var n=r.getSchema(t[0].schema).thumbnailFields[0],i=r.getField(t[0].schema,n).type;return e.field(i).thumbnail(t[0].thumbnail)}})}]).factory("FieldEntitySettingsFactory",u.default).directive("fieldEntity",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(517),i=_interopRequireDefault(r),o=n(518),a=_interopRequireDefault(o);n(519);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)" aria-label="New entity">New</md-button><md-menu ng-if="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdMenu.open()">New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button ng-if="!vm.fieldOptions.settings.multiple &amp;&amp; vm.searchText" ng-click="vm.searchText = vm.fieldModel.value = null" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex layout="row"><div flex ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex md-no-cache="true" md-selected-item="vm.fieldModel.value" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel.value" md-autocomplete-snap md-require-match="true"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.title}}</span></md-autocomplete><md-chip-template><span ace-sortable item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{$chip.title}}</span></md-chip-template></md-chips></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=n(33),l=_interopRequireDefault(s),c=function FieldEntityController(e,t,n,r,o){(0,i.default)(this,FieldEntityController);var s=this;e.$on("aceSortable:change",function(e,t){console.log(e,t)}),!s.fieldModel.value&&s.fieldOptions.settings.multiple&&(s.fieldModel.value=[]);var c=a.default.get(s.fieldOptions,"settings.schemas",[]);c.length||n.error("No schemas specified for '"+s.fieldOptions.name+"' field"),s.schemas=c.map(function(e){return{name:r.getSchema(e).name,slug:e}}),s.newEntity=function(e){o.newEntity(e).then(function(e){s.fieldOptions.settings.multiple?s.fieldModel.value.push(e):s.fieldModel.value=e})},s.search=function(e){return t(function(t,r){var i=a.default.get(s.fieldOptions,"settings.schemas",[]);if(!i.length)return n.error("No schemas specified for '"+s.fieldOptions.name+"' field"),void t([]);i=i.map(function(e){return"schema:"+e});var c=["!trashed:true","("+i.join(" OR ")+")"];""!==e&&c.push("title:"+e+"*"),o.search({q:c.join(" AND "),sort:"sort.title<string>",include_docs:!0}).then(function(e){var n=e.map(function(e){var t=e.doc;return t.id=t._id,t.title=l.default.decode(t.title),t});t(n)})})}};c.$inject=["$scope","$q","$log","ConfigFactory","EntityFactory"],t.default=c},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(521),u=_interopRequireDefault(c),d=function(e,t,n){"ngInject";var r=this,o={},s={schemas:[],multiple:!1},c=function(){var e=(0,a.default)(i.default.mark(function _callee(e,t){var o;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.editSchema(null,t);case 2:o=r.sent,o&&e.push(o.slug);case 4:case"end":return r.stop()}},_callee,r)}));return function(t,n){return e.apply(this,arguments)}}();return o.edit=function(){var n=(0,a.default)(i.default.mark(function _callee2(n,o){var a,d;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},s,n.settings),schemas:t.getConfig().schemas,transformChip:function(e){return e.slug},newSchema:c}},d=void 0,r.prev=2,r.next=5,e.show(a);case 5:d=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return r.abrupt("return",d);case 12:case"end":return r.stop()}},_callee2,r,[[2,8]])}));return function(e,t){return n.apply(this,arguments)}}(),o};d.$inject=["$mdDialog","ConfigFactory","SchemaFactory"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row"><md-chips flex ng-model="vm.settings.schemas" md-transform-chip="vm.transformChip($chip)" md-require-match="true" md-autocomplete-snap><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="schema in vm.schemas" md-item-text="schema.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{schema.name}}</span></md-autocomplete><md-chip-template><span ace-sortable item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{ $chip | schemaName }}</span></md-chip-template></md-chips><md-button aria-label="New schema" ng-click="vm.newSchema(vm.settings.schemas, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(523),l=_interopRequireDefault(s),c=n(527),u=_interopRequireDefault(c),d=a.default.module("fieldEntityGrid",[]).config(function(){"ngInject"}).run(["FieldFactory","EntityFactory","FieldEntityGridSettingsFactory",function(e,t,n){"ngInject";e.registerField("entityGrid",{name:"Entity Grid",editSettings:n.edit,thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return i.default.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):i.default.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?e=e.map(function(e){var r={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(r.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(r.groupBefore=e.groupBefore||!1,r.groupAfter=e.groupAfter||!1),r}):e},fromDb:function(e,t){return e||[]},thumbnail:function(t){return e.field("entity").thumbnail(t)}})}]).factory("FieldEntityGridSettingsFactory",u.default).directive("fieldEntityGrid",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(524),i=_interopRequireDefault(r),o=n(525),a=_interopRequireDefault(o);n(526);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)" aria-label="New entity">New</md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdMenu.open()">New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.insertEntity(vm.schemas[0].slug)" aria-label="Insert entity" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="Insert entity" ng-click="$mdMenu.open()" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.insertEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar></md-subheader><div ui-grid="vm.getGrid()" ui-grid-draggable-rows></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=n(1),l=_interopRequireDefault(s),c=function FieldEntityGridController(e,t,n,r,o,s){(0,i.default)(this,FieldEntityGridController);var c=this;c.fieldModel.value||(c.fieldModel.value=[]);var u=a.default.get(c.fieldOptions,"settings.schemas",[]);u.length||t.error("No schemas specified for '"+c.fieldOptions.name+"' field"),c.schemas=u.map(function(e){return{name:r.getSchema(e).name,slug:e}}),c.newEntity=function(e){n.newEntity(e).then(function(e){c.fieldModel.value.push(e)})},c.insertEntity=function(e){n.selectEntity(e).then(function(e){e.forEach(function(e){c.fieldModel.value.push(e)})})},c.entityEdit=function(e,t){n.editEntities([t]).then(function(e){c.fieldModel.value.splice(c.fieldModel.value.indexOf(t),1,e[0])})},c.entityRemove=function(e,t){c.fieldModel.value.splice(c.fieldModel.value.indexOf(t),1)};var d=void 0;c.getGrid=function(){if(d)return d;var t=[],n=[],i=[];return c.fieldOptions.settings.schemas.forEach(function(e){e=r.getSchema(e),e.fields.forEach(function(e){e.settings.gridColumn&&n.push(e)})}),0===n.length?t.push({name:"title",displayName:"Title"}):n.forEach(function(e){var n=o.getColumnOptions(e);t.push(n)}),i.push('<md-button class="md-icon-button" ng-click="grid.appScope.entityEdit($event, row.entity)"><md-icon md-icon-set="material-icons">create</md-icon></md-button>'),i.push('<md-button class="md-icon-button" ng-click="grid.appScope.entityRemove($event, row.entity)"><md-icon md-icon-set="material-icons">close</md-icon></md-button>'),t.push({name:" ",cellTemplate:'<div class="ui-grid-cell-contents ui-grid-cell--actions">'+i.join("")+"</div>",enableHiding:!1}),d={data:c.fieldModel.value,rowHeight:70,headerRowHeight:45,enableGridMenu:!0,enableSorting:!1,useExternalSorting:!1,enableColumnMenus:!1,columnDefs:t,enableRowHeaderSelection:!1,enableHorizontalScrollbar:s.scrollbars.NEVER,enableVerticalScrollbar:s.scrollbars.NEVER,appScopeProvider:c,excessRows:1/0,rowTemplate:'<div grid="grid" class="ui-grid-draggable-row" draggable="true"><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader, \'custom\': true }" ui-grid-cell></div></div>',onRegisterApi:function(t){e(function(){var e=t.grid.element[0].querySelector(".ui-grid-render-container");l.default.element(e).off("wheel")}),c.gridApi=t}}}};c.$inject=["$timeout","$log","EntityFactory","ConfigFactory","HelperFactory","uiGridConstants"],t.default=c},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(528),u=_interopRequireDefault(c),d=function(e,t,n){"ngInject";var r=this,o={},s={schemas:[],insertDisabled:!1},c=function(){var e=(0,a.default)(i.default.mark(function _callee(e,t){var o;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.editSchema(null,t);case 2:o=r.sent,o&&e.push(o.slug);case 4:case"end":return r.stop()}},_callee,r)}));return function(t,n){return e.apply(this,arguments)}}();return o.edit=function(){var n=(0,a.default)(i.default.mark(function _callee2(n,o){var a,d;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},s,n.settings),schemas:t.getConfig().schemas,transformChip:function(e){return e.slug},newSchema:c}},d=void 0,r.prev=2,r.next=5,e.show(a);case 5:d=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return r.abrupt("return",d);case 12:case"end":return r.stop()}},_callee2,r,[[2,8]])}));return function(e,t){return n.apply(this,arguments)}}(),o};d.$inject=["$mdDialog","ConfigFactory","SchemaFactory"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row"><md-chips flex ng-model="vm.settings.schemas" md-transform-chip="vm.transformChip($chip)" md-require-match="true" md-autocomplete-snap><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="schema in vm.schemas" md-item-text="schema.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{schema.name}}</span></md-autocomplete><md-chip-template><span ace-sortable item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{ $chip | schemaName }}</span></md-chip-template></md-chips><md-button aria-label="New schema" ng-click="vm.newSchema(vm.settings.schemas, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.insertDisabled" aria-label="Insert disabled?">Insert Disabled</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(530),l=_interopRequireDefault(s),c=n(534),u=_interopRequireDefault(c),d=a.default.module("fieldEntityTile",[]).config(["$mdThemingProvider",function(e){"ngInject";e.theme("selected").backgroundPalette("light-blue").dark(),e.theme("grouped").primaryPalette("teal").dark(),e.theme("ungrouped").primaryPalette("blue-grey").dark()}]).run(["FieldFactory","EntityFactory","FieldEntityTileSettingsFactory",function(e,t,n){"ngInject";e.registerField("entityTile",{name:"Entity Tile",editSettings:n.edit,thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return i.default.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):i.default.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?e=e.map(function(e){var r={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(r.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(r.groupBefore=e.groupBefore||!1,r.groupAfter=e.groupAfter||!1),r}):e},fromDb:function(e,t){return e||[]},thumbnail:function(t){return e.field("entity").thumbnail(t)}})}]).factory("FieldEntityTileSettingsFactory",u.default).directive("fieldEntityTile",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(531),i=_interopRequireDefault(r),o=n(532),a=_interopRequireDefault(o);n(533);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)" aria-label="New entity">New</md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdMenu.open()">New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.insertEntity(vm.schemas[0].slug)" aria-label="Insert entity" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="Insert entity" ng-click="$mdMenu.open()" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.insertEntity(schema.slug)">\x3c!-- md-icon(md-font-set="material-icons") dashboard--\x3e<span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar></md-subheader><div flex layout="row" layout-padding layout-wrap><div flex layout="column" ng-repeat="item in vm.fieldModel.value" ace-sortable index="$index" collection="vm.fieldModel.value" handle-selector="\'[ace-sortable-handle]\'" class="tile"><md-card flex ng-click="vm.clickItem($event, item)" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch><div ng-show="$root.$entity.getEntityThumbnailUrl(item, \'w:500;q:60\')" ng-style="{backgroundImage: \'url(\' + $root.$entity.getEntityThumbnailUrl(item, \'w:500;q:60\') + \')\'}" class="md-card-image"></div><md-card-content flex><div ng-repeat="fieldSlug in vm.getGridColumnFieldSlugs(item.schema)" ng-bind-html="item.fields[fieldSlug] | field2String : 20" class="md-caption"></div></md-card-content><md-card-actions layout="row"><md-card-icon-actions><div ace-sortable-handle><md-button md-no-ink aria-label="Move" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-cursor-move" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch></md-icon></md-button></div><md-button ng-click="vm.entityEdit($event, item)" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch>create</md-icon></md-button><md-button ng-click="vm.preview($event, item)" aria-label="Preview" class="md-icon-button"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch>zoom_in</md-icon></md-button><md-button ng-click="vm.entityRemove($event, item)" aria-label="Remove" class="md-icon-button"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch>close</md-icon></md-button></md-card-icon-actions></md-card-actions><div ng-show="vm.fieldOptions.settings.groupEnabled &amp;&amp; !$first" ng-class="{active: item.groupBefore}" class="group group--left"><md-button ng-click="vm.toggleGroupBefore($event, item)" aria-label="Group" md-theme="{{item.groupBefore ? \'grouped\' : \'ungrouped\'}}" md-theme-watch ng-disabled="item.$groupBeforeDisabled" class="md-fab md-mini md-primary"><md-icon md-font-set="mdi" md-font-icon="mdi-arrow-left-drop-circle-outline"></md-icon></md-button></div><div ng-show="vm.fieldOptions.settings.groupEnabled &amp;&amp; !$last" ng-class="{active: item.groupAfter}" class="group group--right"><md-button ng-click="vm.toggleGroupAfter($event, item)" aria-label="Group" md-theme="{{item.groupAfter ? \'grouped\' : \'ungrouped\'}}" md-theme-watch ng-disabled="item.$groupAfterDisabled" class="md-fab md-mini md-primary"><md-icon md-font-set="mdi" md-font-icon="mdi-arrow-right-drop-circle-outline"></md-icon></md-button></div></md-card></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=function FieldEntityTileController(e,t,n,r,o,s){function getInsertPoint(){var e=-1;return l.fieldModel.value.forEach(function(t,n){-1===e&&t.$selected&&(e=n)}),e}(0,i.default)(this,FieldEntityTileController);var l=this;l.fieldModel.value||(l.fieldModel.value=[]);var c=a.default.get(l.fieldOptions,"settings.schemas",[]);c.length||n.error("No schemas specified for '"+l.fieldOptions.name+"' field"),l.schemas=c.map(function(e){return{name:r.getSchema(e).name,slug:e}}),l.newEntity=function(e){o.newEntity(e).then(function(e){var t=getInsertPoint();t>-1?l.fieldModel.value.splice(t,0,e):l.fieldModel.value.push(e)})},l.insertEntity=function(e){o.selectEntity(e).then(function(e){var t=getInsertPoint();e=a.default.reverse(e),e.forEach(function(e){t>-1?l.fieldModel.value.splice(t,0,e):l.fieldModel.value.push(e)})})},l.entityEdit=function(e,t){e.stopPropagation(),o.editEntities([t]).then(function(e){l.fieldModel.value.splice(l.fieldModel.value.indexOf(t),1,e[0])})},l.entityRemove=function(e,t){e.stopPropagation(),l.fieldModel.value.splice(l.fieldModel.value.indexOf(t),1)},l.getGridColumnFieldSlugs=function(e){return r.getSchema(e).fields.filter(function(e){return e.settings.gridColumn}).map(function(e){return e.slug})},l.hasPreview=function(e){return!!l.fieldModel.value[e]&&r.getSchema(l.fieldModel.value[e].schema).thumbnailFields[0]},l.preview=function(e,t){e.stopPropagation();var n=[],r=l.fieldModel.value.indexOf(t);l.fieldModel.value.forEach(function(e){if(!o.getEntityThumbnail(e))return void n.push({type:"none"});n.push({type:"image",src:o.getEntityThumbnailUrl(e,"h:1000;q:80")})}),s.mediaPreview(n,r)};var u=function(e){var t=l.fieldModel.value.indexOf(e),n=0,r=0,i=void 0;for(i=t-1;i>-1&&l.fieldModel.value[i].groupAfter;i--)n++;for(i=t+1;i<l.fieldModel.value.length&&l.fieldModel.value[i].groupBefore;i++)r++;e.$groupSize=n+r+1},d=function(e){var t=l.fieldOptions.settings.groupSizeLimit||1/0,n=l.fieldModel.value.indexOf(e),r=void 0,i=void 0;n>0&&(r=l.fieldModel.value[n-1]),n<l.fieldModel.value.length-1&&(i=l.fieldModel.value[n+1]),r&&e.$groupSize+r.$groupSize>t&&!e.groupBefore?(e.$groupBeforeDisabled=!0,e.groupBefore=!1,r.$groupAfterDisabled=!0,r.groupAfter=!1):i&&e.$groupSize+i.$groupSize>t&&!e.groupAfter?(e.$groupAfterDisabled=!0,e.groupAfter=!1,i.$groupBeforeDisabled=!0,i.groupBefore=!1):(e.$groupBeforeDisabled=!1,e.$groupAfterDisabled=!1),r&&(e.groupBefore&&!r.groupAfter||!e.groupBefore&&r.groupAfter)&&(e.groupBefore=!1,r.groupAfter=!1)};l.toggleGroupBefore=function(e,t){e.stopPropagation(),t.groupBefore=!t.groupBefore,l.fieldModel.value[l.fieldModel.value.indexOf(t)-1].groupAfter=t.groupBefore},l.toggleGroupAfter=function(e,t){e.stopPropagation(),t.groupAfter=!t.groupAfter,l.fieldModel.value[l.fieldModel.value.indexOf(t)+1].groupBefore=t.groupAfter},t.$watch(function(){return l.fieldModel.value},function(e){l.fieldModel.value.forEach(u),l.fieldModel.value.forEach(d)},!0),t.$on("aceSortable:change",function(e,t){var n=[];if(t.collection.forEach(function(e,t){e.$selected&&n.push(t)}),n.length){e.preventDefault();var r=!1;n[0]<t.to&&(r=!0,n.reverse()),n.forEach(function(e,n){s.move.apply(l.fieldModel.value,[e,r?t.to-n:t.to+n])})}}),l.clickItem=function(e,t){if(!e.metaKey&&!e.ctrlKey&&!e.shiftKey){var n=t.$selected;return l.fieldModel.value.forEach(function(e,t){e.$selected=!1}),void(t.$selected=!n)}if(!e.shiftKey)return void(t.$selected=!t.$selected);var r=void 0,i=l.fieldModel.value.indexOf(t),o=[];if(l.fieldModel.value.forEach(function(e,t){e.$selected&&o.push(t)}),i<o[0])for(r=i;r<o[0];r++)l.fieldModel.value[r].$selected=!0;else if(i>o[o.length-1])for(r=o[0];r<=i;r++)l.fieldModel.value[r].$selected=!0}};s.$inject=["$rootScope","$scope","$log","ConfigFactory","EntityFactory","HelperFactory"],t.default=s},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(535),u=_interopRequireDefault(c),d=function(e,t,n){"ngInject";var r=this,o={},s={schemas:[],groupEnabled:!1},c=function(){var e=(0,a.default)(i.default.mark(function _callee(e,t){var o;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.editSchema(null,t);case 2:o=r.sent,o&&e.push(o.slug);case 4:case"end":return r.stop()}},_callee,r)}));return function(t,n){return e.apply(this,arguments)}}();return o.edit=function(){var n=(0,a.default)(i.default.mark(function _callee2(n,o){var a,d;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},s,n.settings),schemas:t.getConfig().schemas,transformChip:function(e){return e.slug},newSchema:c}},d=void 0,r.prev=2,r.next=5,e.show(a);case 5:d=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return r.abrupt("return",d);case 12:case"end":return r.stop()}},_callee2,r,[[2,8]])}));return function(e,t){return n.apply(this,arguments)}}(),o};d.$inject=["$mdDialog","ConfigFactory","SchemaFactory"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row"><md-chips flex ng-model="vm.settings.schemas" md-transform-chip="vm.transformChip($chip)" md-require-match="true" md-autocomplete-snap><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="schema in vm.schemas" md-item-text="schema.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{schema.name}}</span></md-autocomplete><md-chip-template><span ace-sortable item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{ $chip | schemaName }}</span></md-chip-template></md-chips><md-button aria-label="New schema" ng-click="vm.newSchema(vm.settings.schemas, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.groupEnabled" aria-label="Grouping enabled?">Grouping Enabled</md-checkbox></md-input-container><md-input-container ng-show="vm.settings.groupEnabled"><label>Group Size Limit</label><input type="number" ng-model="vm.settings.groupSizeLimit" ng-required="vm.settings.groupEnabled" min="2"></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(537),a=_interopRequireDefault(o),s=n(540),l=_interopRequireDefault(s),c=n(591),u=_interopRequireDefault(c),d=i.default.module("fieldImage",[a.default]).config(function(){"ngInject"}).run(["$rootScope","FieldFactory","FieldImageSettingsFactory",function(e,t,n){"ngInject";t.registerField("image",{name:"Image",editSettings:n.edit,thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0},toString:function(e){return e.original?e.original.fileName:""},thumbnail:function(t){if(!t)return null;var n={thumbnailType:"image",thumbnailUrl:[e.assistUrl,e.assetSlug,t.fileName].join("/"),mimeType:t.mimeType,location:t.location,fileName:t.fileName,width:t.metadata?t.metadata.width||0:t.width||0,height:t.metadata?t.metadata.height||0:t.height||0};return t.crops&&(n.crops=t.crops),t.dzi&&(n.dzi=t.dzi),n}})}]).factory("FieldImageSettingsFactory",u.default).directive("fieldImage",l.default);t.default=d},function(e,t,n){n(1),n(538),n(539),e.exports="hj.cropify"},function(e,t){!function(){"use strict";angular.module("hj.cropify",[]).directive("hjCropify",function(){return{restrict:"EA",transclude:!0,scope:{coords:"=",aspectRatio:"=",options:"=?"},bindToController:!0,template:function(e,t){return'<div class="hj-cropify"><div class="hj-cropify__container hj-cropify__container--'+(t.containerStyle||"block")+'" ng-transclude></div><div class="hj-cropify__selection"><div class="hj-cropify__crop"></div><div class="hj-cropify__shade hj-cropify__shade--left"></div><div class="hj-cropify__shade hj-cropify__shade--right"></div><div class="hj-cropify__shade hj-cropify__shade--top"></div><div class="hj-cropify__shade hj-cropify__shade--bottom"></div></div></div>'},controllerAs:"ctrl",controller:["$scope","$element","$attrs","$window","$document","$timeout",function(e,t,n,r,i,o){var a=this,s={id:"hjCropify"+ +new Date,precision:3,selectBuffer:10};s=angular.extend(s,a.options||{});var l,c=angular.element(t[0].querySelector(".hj-cropify__container")),u=angular.element(t[0].querySelector(".hj-cropify__crop")),d=angular.element(t[0].querySelector(".hj-cropify__selection")),h=angular.element(t[0].querySelector(".hj-cropify__shade--left")),p=angular.element(t[0].querySelector(".hj-cropify__shade--right")),m=angular.element(t[0].querySelector(".hj-cropify__shade--top")),f=angular.element(t[0].querySelector(".hj-cropify__shade--bottom")),g=!0,v=!1,y=!1,_=!1;l=a.coords?a.coords:{left:0,right:0,top:0,bottom:0,height:0,width:0};var b={start:{x:0,y:0},end:{x:0,y:0},el:{left:0,right:0,top:0,bottom:0},select:{left:0,right:0,top:0,bottom:0,width:0,height:0}},w={top:0,left:0},x={top:0,left:0},S={left:0,right:0,top:0,bottom:0,height:0,width:0},C=function(){l={left:Number(((b.select.left-w.left)/S.width).toFixed(s.precision)),top:Number(((b.select.top-w.top)/S.height).toFixed(s.precision)),right:Number(((b.select.right-w.left)/S.width).toFixed(s.precision)),bottom:Number(((b.select.bottom-w.top)/S.height).toFixed(s.precision)),height:Number(((b.select.bottom-b.select.top)/S.height).toFixed(s.precision)),width:Number(((b.select.right-b.select.left)/S.width).toFixed(s.precision))},g=0!==l.width||0!==l.height,h.css({top:0,left:0,width:b.select.left-b.el.left+"px",height:"100%"}),p.css({top:0,right:0,width:b.el.right-b.select.right+"px",height:"100%"}),m.css({top:0,left:b.select.left-b.el.left+"px",width:b.select.right-b.select.left+"px",height:b.select.top-b.el.top+"px"}),f.css({bottom:0,left:b.select.left-b.el.left+"px",width:b.select.right-b.select.left+"px",height:b.el.bottom-b.select.bottom+"px"}),u.css({top:S.height*l.top+"px",left:S.width*l.left+"px",width:S.width*l.width+"px",height:S.height*l.height+"px"}),g?d.css("display","block"):d.css("display","none")},E=function(e){for(var t=e,n=0,o=0;e&&e.offsetParent||e&&e.parentNode;){var a=r.getComputedStyle(e);for("fixed"===a.position?(n+=parseInt(a.left,10)+i[0].body.scrollLeft,o+=parseInt(a.top,10)+i[0].body.scrollTop):(n+=e.offsetLeft-e.scrollLeft,o+=e.offsetTop-e.scrollTop),e=e.offsetParent,t=t.parentNode;t!==e&&"fixed"!==a.position;)n-=isNaN(t.scrollLeft)?0:t.scrollLeft,o-=isNaN(t.scrollTop)?0:t.scrollTop,t=t.parentNode}return[n,o]},T=function(){for(var e=!1,n=t[0];n&&n.offsetParent||n&&n.parentNode;){"fixed"===r.getComputedStyle(n).position&&(e=!0),n=n.offsetParent}return e},M=function(e){_=T();var t,n;_?(t=e.pageX,n=e.pageY):(t=e.pageX-r.scrollX,n=e.pageY-r.scrollY),t>=b.el.left-s.selectBuffer&&t<=b.el.right+s.selectBuffer&&n>=b.el.top-s.selectBuffer&&n<=b.el.bottom+s.selectBuffer&&(t<b.el.left?t=b.el.left:t>b.el.right&&(t=b.el.right),n<b.el.top?n=b.el.top:n>b.el.bottom&&(n=b.el.bottom),b.start.x=t,b.start.y=n,v=!0)},k=function(e){if(v){var t,n;_?(t=e.pageX,n=e.pageY):(t=e.pageX-r.scrollX,n=e.pageY-r.scrollY),t>b.el.right?t=b.el.right:t<b.el.left&&(t=b.el.left),n>b.el.bottom?n=b.el.bottom:n<b.el.top&&(n=b.el.top),b.end.x=t,b.end.y=n;var i={};if(b.end.x<b.start.x?(i.left=b.end.x,i.right=b.start.x):(i.left=b.start.x,i.right=b.end.x),b.end.y<b.start.y?(i.top=b.end.y,i.bottom=b.start.y):(i.top=b.start.y,i.bottom=b.end.y),a.aspectRatio>0){var o=i.right-i.left,s=i.bottom-i.top;o/s>a.aspectRatio?b.end.x<b.start.x?i.left=i.right-s*a.aspectRatio:i.right=i.left+s*a.aspectRatio:b.end.y<b.start.y?i.top=i.bottom-o/a.aspectRatio:i.bottom=i.top+o/a.aspectRatio}b.select={top:i.top,left:i.left,bottom:i.bottom,right:i.right},b.select.width=i.right-i.left,b.select.height=i.bottom-i.top}},A=function(e){_=T(),y=!0,x.left=e.offsetX,x.top=e.offsetY,_?(x.left=e.offsetX,x.top=e.offsetY):(x.left=e.offsetX+r.scrollX,x.top=e.offsetY+r.scrollY)},D=function(e){if(y){var t=w.left+S.width-b.select.width,n=w.left,r=w.top+S.height-b.select.height,i=w.top,o=e.pageX-x.left,a=e.pageY-x.top;o=Math.min(o,t),o=Math.max(o,n),a=Math.min(a,r),a=Math.max(a,i),b.select.top=a,b.select.left=o,b.select.bottom=a+b.select.height,b.select.right=o+b.select.width}},$=function(e){k(e),(v||y)&&o(function(){a.coords=l}),v=!1,y=!1,C()},P=function(e){e=e||l;var n=c[0].getBoundingClientRect(),r=t[0].parentElement===i[0].body?t[0]:t[0].parentElement,o=E(r),a=o[0],s=o[1],u={left:a,right:a+n.width,top:s,bottom:s+n.height};b.el={left:u.left,right:u.right,top:u.top,bottom:u.bottom},w={top:u.top,left:u.left},S={left:0,top:0,right:u.right-u.left,bottom:u.bottom-u.top,height:u.bottom-u.top,width:u.right-u.left},0===Object.keys(e).length?b.select={left:u.left,right:u.left,top:u.top,bottom:u.top,width:0,height:0}:b.select={left:S.width*e.left+w.left,right:S.width*e.right+w.left,top:S.height*e.top+w.top,bottom:S.height*e.bottom+w.top,width:S.width*e.width,height:S.height*e.height}},L=function(){P(),C()};u.on("mousedown touchstart",function(e){e.stopPropagation(),A(e)}),u.on("mousemove touchmove",function(e){e.stopPropagation(),D(e),C()}),i.on("mousedown touchstart",function(e){P(),M(e)}),c.on("mousemove touchmove",function(e){k(e),C()}),i.on("mouseup touchend",function(e){$(e)});var R="onorientationchange"in r?"orientationchange":"resize";angular.element(r).on(R,L),e.$watch(function(){return a.coords},function(e){void 0!==e&&(l=e,o(L))}),e.$on("hjCropify:init",function(e,t){if(t&&t.id&&t.id!==s.id)return!1;L()}),e.$on("hjCropify:toggleSelection",function(e,t){if(t&&t.id&&t.id!==s.id)return!1;g=!g,C()}),e.$on("hjCropify:showSelection",function(e,t){if(t&&t.id&&t.id!==s.id)return!1;g=!0,C()}),e.$on("hjCropify:hideSelection",function(e,t){if(t&&t.id&&t.id!==s.id)return!1;g=!1,C()})}]}})}()},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(541),i=_interopRequireDefault(r),o=n(542),a=_interopRequireDefault(o);n(590);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<ace-flow options="vm.flowOptions"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Upload" ace-flow-browse class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button aria-label="Preview" ng-click="vm.preview($event)" ng-disabled="!vm.fieldModel.value.fileName" class="md-icon-button"><md-icon md-font-set="material-icons">zoom_in</md-icon></md-button><md-button aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.value.fileName" class="md-icon-button"><md-icon md-font-set="material-icons">file_download</md-icon></md-button><md-button ng-show="vm.fieldOptions.settings.crops" aria-label="Crop" ng-click="vm.crop($event)" ng-disabled="!vm.fieldModel.value.fileName" class="md-icon-button"><md-icon md-font-set="material-icons">crop</md-icon></md-button><md-button ng-show="vm.fieldModel.value.dzi" aria-label="Deep Zoom" ng-click="vm.dzi($event)" ng-disabled="!vm.fieldModel.value.fileName" class="md-icon-button"><md-icon md-font-set="material-icons">zoom_out_map</md-icon></md-button></div></md-toolbar></md-subheader></ace-flow><div flex layout="row" layout-margin><div flex ng-show="vm.uploading"><div ng-show="vm.uploading">Uploading {{ vm.progress || 0 }}%</div></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><img ng-src="{{vm.getThumbnail(\'h:500;q:60\')}}"></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><table><tr><td>Type</td><td>{{vm.fieldModel.value.mimeType}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.value.metadata ? vm.fieldModel.value.metadata.width + \'&times;\' + vm.fieldModel.value.metadata.height : \'\'}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.value.original.fileName}}">{{vm.fieldModel.value.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.value.fileSize | fileSize}}</td></tr><tr ng-if="vm.fieldModel.value.dzi"><td>DZI</td><td>{{vm.fieldModel.value.dzi.fileSize | fileSize}}</td></tr></table></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=_interopRequireDefault(r),o=n(2),a=_interopRequireDefault(o),s=n(543),l=_interopRequireDefault(s),c=n(544),u=_interopRequireDefault(c),d=n(545),h=_interopRequireDefault(d),p=n(234),m=_interopRequireDefault(p),f=function FieldImageController(e,t,n,r,o,s,c,d,p){(0,a.default)(this,FieldImageController);var f=this,g="normal";n.is("batchUploadEntity")&&(g="batchUpload"),f.download=function(){var t=f.fieldModel.value.original.fileName.replace(/^(#|\?)/,"_");r.open(e.assistUrl+"/"+e.assetSlug+"/file/download/"+f.fieldModel.value.fileName+"/"+t)},f.dzi=function(){p.showModal({template:h.default,controllerAs:"vm",inputs:{image:[e.assistUrl,e.assetSlug,f.fieldModel.value.dzi.dir,f.fieldModel.value.dzi.fileName].join("/")}})},f.crop=function(){p.showModal({template:l.default,controller:u.default,controllerAs:"vm",inputs:{availableCrops:f.fieldOptions.settings.crops,image:f.fieldModel.value}}).then(function(e){e.result.then(function(e){f.fieldModel.value.crops=e})})},f.preview=function(){d.mediaPreview([{type:"image",src:[e.assistUrl,e.assetSlug,"transform","h:1000;q:80",f.fieldModel.value.fileName].join("/")}],0)},f.getThumbnail=function(t){return f.fieldModel.value?[e.assistUrl,e.assetSlug,"transform",t,f.fieldModel.value.fileName].join("/"):null};var v=f.fieldOptions.settings||{},y={slug:e.assetSlug};y.resize={maxWidth:0===v.maxWidth?1/0:v.maxWidth||3e3,maxHeight:0===v.maxHeight?1/0:v.maxHeight||2e3,quality:95},v.dzi&&(y.dzi={size:256,overlap:0});f.flowOptions={target:e.assistUrl+"/"+e.assetSlug+"/file/upload",query:{options:(0,i.default)(y)},headers:{Authorization:"Basic "+e.assistCredentials},singleFile:"batchUpload"!==g,initFileFn:function(e){if("batchUpload"!==g){var t=e.file.name;if(!e._prepared){e.pause();new m.default({maxWidth:y.resize.maxWidth,maxHeight:y.resize.maxHeight,quality:y.resize.quality}).loadImage(e.file).then(function(n){function upload(){e._status="uploading",e.resume()}function cancel(){e._status="canceled",e.cancel()}return e._prepared=!0,e.file=n.blob,e.file.name=t,e.size=e.file.size,e.bootstrap(),n.profile?n.profile&&"RGB"!==n.profile.colorSpace?void o.show(o.confirm().multiple(!0).title("Upload Warning").textContent(t+" is in "+n.profile.colorSpace+" colour space, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel):n.profile&&"RGB"===n.profile.colorSpace&&!/sRGB/i.test(n.profile.description)?void o.show(o.confirm().multiple(!0).title("Upload Warning").textContent(t+" has "+n.profile.description+" profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel):void upload():void o.show(o.confirm().multiple(!0).title("Upload Warning").textContent(t+" has no colour profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel)})}}},events:{fileAdded:function(e,t){var n="jpg,jpeg,png,svg",r=n.indexOf(t.getExtension())>-1;return r||o.show(o.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=r,r},fileSuccess:function(e,t,n){var r=JSON.parse(n);f.fieldModel.value&&(f.fieldModel.value=null),c.createFile(r).then(function(e){f.fieldModel.value=e})},filesSubmitted:function(e,n){if("batchUpload"===g&&n.filter(function(e){return e.valid}).length){var r=n.map(function(e){return e.file});e.cancel(),t.$emit("fieldCtrl:batchUpload",f.fieldOptions,r)}},uploadStart:function(){f.uploading=!0},complete:function(){f.uploading=!1},progress:function(e){f.progress=Math.round(100*e.progress())},error:function(e,t,n){n.cancel(),o.show(o.alert().title("Upload Error").textContent(t).ok("Close"))}}}};f.$inject=["$rootScope","$scope","$state","$window","$mdDialog","BatchUploadFactory","FileFactory","HelperFactory","ModalService"],t.default=f},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Crop</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div class="modal-body"><div layout="row" layout-margin><md-input-container flex><label>Crop</label><md-select ng-model="vm.activeCrop"><md-option ng-repeat="crop in vm.availableCrops" ng-value="$index">{{crop.name}}</md-option></md-select></md-input-container><md-button ng-click="vm.coords = {}" aria-label="Clear">Clear</md-button></div><div layout="row" layout-margin><hj-cropify coords="vm.coords" aspect-ratio="vm.cropSettings.ratio"><img ng-style="vm.cropSize()" ng-src="{{vm.getThumbnail()}}"></hj-cropify></div></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.dismiss()">Cancel</md-button><md-button ng-click="$modal.close(vm.crops)" class="md-primary md-raised">Done</md-button></div></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(97),i=_interopRequireDefault(r),o=n(2),a=_interopRequireDefault(o),s=n(1),l=_interopRequireDefault(s),c=function CropController(e,t,n,r,o){(0,a.default)(this,CropController);var s=this;s.crops=o.crops?l.default.copy(o.crops):{},s.availableCrops=r,s.activeCrop=0;var c=function(e){s.coords=e?{left:e[0],top:e[1],right:e[2],bottom:e[3],width:e[2]-e[0],height:e[3]-e[1]}:{}};t.$watch(function(){return s.activeCrop},function(e){s.cropSettings=s.availableCrops[s.activeCrop];var t=s.crops[s.cropSettings.slug];c(t)}),t.$watch(function(){return s.coords},function(e){e&&(!(0,i.default)(e).length||isNaN(e.top)||isNaN(e.left)||isNaN(e.right)||isNaN(e.bottom)||isNaN(e.width)||isNaN(e.height)?s.crops[s.cropSettings.slug]=null:s.crops[s.cropSettings.slug]=[e.left,e.top,e.right,e.bottom])}),s.cropSize=function(){var e=.5*n.innerWidth-100,t=n.innerHeight-250,r=void 0,i=void 0;return o.metadata.width/o.metadata.height>e/t?(r=e,i=r*(o.metadata.height/o.metadata.width)):(i=t,r=i*(o.metadata.width/o.metadata.height)),{width:r,height:i,"vertical-align":"top"}},s.getThumbnail=function(){return[e.assistUrl,e.assetSlug,"transform","h:500;q:60",o.fileName].join("/")}};c.$inject=["$rootScope","$scope","$window","availableCrops","image"],t.default=c},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Deep Zoom</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div class="modal-body"><div layout="row" layout-margin><ace-open-seadragon src="{{vm.image}}" prefix-url="/img/openseadragon/images/"></ace-open-seadragon></div></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.dismiss()">Close</md-button></div></div></div></div>'},function(e,t,n){(function(t,n,r){!function(t){e.exports=t()}(function(){var e,i,o;return function e(t,n,r){function s(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof _dereq_&&_dereq_;if(!a&&l)return l(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return s(n||e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,n){"use strict";t.exports=function(e){function any(e){var n=new t(e),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}var t=e._SomePromiseArray;e.any=function(e){return any(e)},e.prototype.any=function(){return any(this)}}},{}],2:[function(e,n,r){"use strict";function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=o}function AsyncInvokeLater(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function AsyncInvoke(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function AsyncSettlePromises(e){this._normalQueue._pushOne(e),this._queueTick()}var i;try{throw new Error}catch(e){i=e}var o=e("./schedule"),a=e("./queue"),s=e("./util");Async.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},Async.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(Async.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?AsyncInvokeLater.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},Async.prototype.invoke=function(e,t,n){this._trampolineEnabled?AsyncInvoke.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},Async.prototype.settlePromises=function(e){this._trampolineEnabled?AsyncSettlePromises.call(this,e):this._schedule(function(){e._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},n.exports=Async,n.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),u=new e(t);u._propagateFrom(this,1);var d=this._target();if(u._setBoundTo(c),c instanceof e){var h={promiseRejectionQueued:!1,promise:u,target:d,bindingPromise:c};d._then(t,a,void 0,u,h),c._then(s,l,void 0,u,h),u._setOnCancel(c)}else u._resolveCallback(d);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function noConflict(){try{Promise===i&&(Promise=r)}catch(e){}return i}var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise")();i.noConflict=noConflict,t.exports=i},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function ensureMethod(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var o="Object "+r.classString(e)+" has no method '"+r.toString(n)+"'";throw new t.TypeError(o)}return i}function caller(e){return ensureMethod(e,this.pop()).apply(e,this)}function namedGetter(e){return e[this]}function indexedGetter(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var n,r=e("./util"),i=r.canEvaluate;r.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(caller,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,r="number"==typeof e;if(r)t=indexedGetter;else if(i){var o=n(e);t=null!==o?o:namedGetter}else t=namedGetter;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),l.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function catchFilter(e,a,s){return function(l){var c=s._boundValue();e:for(var u=0;u<e.length;++u){var d=e[u];if(d===Error||null!=d&&d.prototype instanceof Error){if(l instanceof d)return i(a).call(c,l)}else if("function"==typeof d){var h=i(d).call(c,l);if(h===o)return h;if(h)return i(a).call(c,l)}else if(n.isObject(l)){for(var p=r(d),m=0;m<p.length;++m){var f=p[m];if(d[f]!=l[f])continue e}return i(a).call(c,l)}}return t}}var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,o=n.errorObj;return catchFilter}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function Context(){this._trace=new Context.CapturedTrace(peekContext())}function createContext(){if(t)return new Context}function peekContext(){var e=n.length-1;if(e>=0)return n[e]}var t=!1,n=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},Context.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},Context.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},Context.CapturedTrace=null,Context.create=createContext,Context.deactivateLongStackTraces=function(){},Context.activateLongStackTraces=function(){var n=e.prototype._pushContext,r=e.prototype._popContext,i=e._peekContext,o=e.prototype._peekContext,a=e.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=r,e._peekContext=i,e.prototype._peekContext=o,e.prototype._promiseCreated=a,t=!1},t=!0,e.prototype._pushContext=Context.prototype._pushContext,e.prototype._popContext=Context.prototype._popContext,e._peekContext=e.prototype._peekContext=peekContext,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},Context}},{}],9:[function(e,n,r){"use strict";n.exports=function(n,r){function generatePromiseLifecycleEventObject(e,t){return{promise:t}}function defaultFireEvent(){return!1}function cancellationExecute(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+u.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function cancellationAttachCancellationCallback(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?u.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(e){this._onCancelField=e}function cancellationClearCancellationData(){this._cancellationParent=void 0,this._onCancelField=void 0}function cancellationPropagateFrom(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function bindingPropagateFrom(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function boundValueFunction(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(e,t){if(d(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=parseStackAndMessage(e);u.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),u.notEnumerableProp(e,"__stackCleaned__",!0)}}}function checkForgottenReturns(e,t,n,r,i){if(void 0===e&&null!==t&&w){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=cleanStack(s),c=l.length-1;c>=0;--c){var u=l[c];if(!p.test(u)){var d=u.match(m);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(l.length>0)for(var h=l[0],c=0;c<s.length;++c)if(s[c]===h){c>0&&(a="\n"+s[c-1]);break}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(f,!0,t)}}function deprecated(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),warn(n)}function warn(e,t,r){if($.warnings){var i,o=new c(e);if(t)r._attachExtraTrace(o);else if($.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=parseStackAndMessage(o);o.stack=a.message+"\n"+a.stack.join("\n")}T("warning",o)||formatAndLogError(o,"",!0)}}function reconstructStack(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function removeDuplicateOrEmptyJumps(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function removeCommonRoots(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=r[s];if(t[i]!==l)break;t.pop(),i--}t=r}}function cleanStack(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||f.test(r),o=i&&k(r);i&&!o&&(v&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function stackFramesAsArray(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||f.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function parseStackAndMessage(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?stackFramesAsArray(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:cleanStack(t)}}function formatAndLogError(e,t,n){if("undefined"!=typeof console){var r;if(u.isObject(e)){var i=e.stack;r=t+g(i,e)}else r=t+String(e);"function"==typeof a?a(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function fireRejectionEvent(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){l.throwLater(e)}"unhandledRejection"===e?T(e,n,r)||i||formatAndLogError(n,"Unhandled rejection "):T(e,r)}function formatNonError(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():u.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+snip(t)+">, no stack trace)"}function snip(e){return e.length<41?e:e.substr(0,38)+"..."}function longStackTracesIsSupported(){return"function"==typeof D}function parseLineInfo(e){var t=e.match(A);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function setBounds(e,t){if(longStackTracesIsSupported()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<i.length;++l){var c=parseLineInfo(i[l]);if(c){n=c.fileName,a=c.line;break}}for(var l=0;l<o.length;++l){var c=parseLineInfo(o[l]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(k=function(e){if(h.test(e))return!0;var t=parseLineInfo(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function CapturedTrace(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);D(this,CapturedTrace),t>32&&this.uncycle()}var i,o,a,s=n._getDomain,l=n._async,c=e("./errors").Warning,u=e("./util"),d=u.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,g=null,v=!1,y=!(0==u.env("BLUEBIRD_DEBUG")),_=!(0==u.env("BLUEBIRD_WARNINGS")||!y&&!u.env("BLUEBIRD_WARNINGS")),b=!(0==u.env("BLUEBIRD_LONG_STACK_TRACES")||!y&&!u.env("BLUEBIRD_LONG_STACK_TRACES")),w=0!=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(_||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),l.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",i,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),fireRejectionEvent("unhandledRejection",o,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return warn(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=s();o="function"==typeof e?null===t?e:u.domainBind(t,e):void 0},n.onUnhandledRejectionHandled=function(e){var t=s();i="function"==typeof e?null===t?e:u.domainBind(t,e):void 0};var x=function(){};n.longStackTraces=function(){if(l.haveItemsQueued()&&!$.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!$.longStackTraces&&longStackTracesIsSupported()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace;$.longStackTraces=!0,x=function(){if(l.haveItemsQueued()&&!$.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,r.deactivateLongStackTraces(),l.enableTrampoline(),$.longStackTraces=!1},n.prototype._captureStackTrace=longStackTracesCaptureStackTrace,n.prototype._attachExtraTrace=longStackTracesAttachExtraTrace,r.activateLongStackTraces(),l.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return $.longStackTraces&&longStackTracesIsSupported()};var S=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return u.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!u.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return u.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!u.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!u.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),C=function(){return u.isNode?function(){return t.emit.apply(t,arguments)}:u.global?function(e){var t="on"+e.toLowerCase(),n=u.global[t];return!!n&&(n.apply(u.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),E={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:generatePromiseLifecycleEventObject},T=function(e){var t=!1;try{t=C.apply(null,arguments)}catch(e){l.throwLater(e),t=!0}var n=!1;try{n=S(e,E[e].apply(null,arguments))}catch(e){l.throwLater(e),n=!0}return n||t};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&x()),"warnings"in e){var t=e.warnings;$.warnings=!!t,w=$.warnings,u.isObject(t)&&"wForgottenReturn"in t&&(w=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!$.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=cancellationClearCancellationData,n.prototype._propagateFrom=cancellationPropagateFrom,n.prototype._onCancel=cancellationOnCancel,n.prototype._setOnCancel=cancellationSetOnCancel,n.prototype._attachCancellationCallback=cancellationAttachCancellationCallback,n.prototype._execute=cancellationExecute,M=cancellationPropagateFrom,$.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!$.monitoring?($.monitoring=!0,n.prototype._fireEvent=T):!e.monitoring&&$.monitoring&&($.monitoring=!1,n.prototype._fireEvent=defaultFireEvent)),n},n.prototype._fireEvent=defaultFireEvent,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var M=bindingPropagateFrom,k=function(){return!1},A=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;u.inherits(CapturedTrace,Error),r.CapturedTrace=CapturedTrace,CapturedTrace.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var l=r>0?t[r-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=r-2;u>=0;--u)t[u]._length=c,c++;return}}}},CapturedTrace.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=parseStackAndMessage(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(cleanStack(i.stack.split("\n"))),i=i._parent;removeCommonRoots(r),removeDuplicateOrEmptyJumps(r),u.notEnumerableProp(e,"stack",reconstructStack(n,r)),u.notEnumerableProp(e,"__stackCleaned__",!0)}};var D=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():formatNonError(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,f=e,g=t;var n=Error.captureStackTrace;return k=function(e){return h.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return f=/@/,g=t,v=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(e){i="stack"in e}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(g=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?formatNonError(t):t.toString()},null):(f=e,g=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(a=function(e){console.warn(e)},u.isNode&&t.stderr.isTTY?a=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:u.isNode||"string"!=typeof(new Error).stack||(a=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var $={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return b&&n.longStackTraces(),{longStackTraces:function(){return $.longStackTraces},warnings:function(){return $.warnings},cancellation:function(){return $.cancellation},monitoring:function(){return $.monitoring},propagateFromFunction:function(){return M},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:checkForgottenReturns,setBounds:setBounds,warn:warn,deprecated:deprecated,CapturedTrace:CapturedTrace,fireDomEvent:S,fireGlobalEvent:C}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function returner(){return this.value}function thrower(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(t){return t instanceof e&&t.suppressUnhandledRejections(),this._then(returner,void 0,void 0,{value:t},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(thrower,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,thrower,void 0,{reason:e},void 0);var t=arguments[1],n=function(){throw t};return this.caught(e,n)},e.prototype.catchReturn=function(t){if(arguments.length<=1)return t instanceof e&&t.suppressUnhandledRejections(),this._then(void 0,returner,void 0,{value:t},void 0);var n=arguments[1];n instanceof e&&n.suppressUnhandledRejections();var r=function(){return n};return this.caught(t,r)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function promiseAllThis(){return r(this)}function PromiseMapSeries(e,r){return n(e,r,t,t)}var n=e.reduce,r=e.all;e.prototype.each=function(e){return n(this,e,t,0)._then(promiseAllThis,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,r){return n(e,r,t,0)._then(promiseAllThis,void 0,void 0,e,void 0)},e.mapSeries=PromiseMapSeries}},{}],12:[function(e,t,n){"use strict";function subError(e,t){function SubError(n){if(!(this instanceof SubError))return new SubError(n);c(this,"message","string"==typeof n?n:t),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(SubError,Error),SubError}function OperationalError(e){if(!(this instanceof OperationalError))return new OperationalError(e);c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var r,i,o=e("./es5"),a=o.freeze,s=e("./util"),l=s.inherits,c=s.notEnumerableProp,u=subError("Warning","warning"),d=subError("CancellationError","cancellation error"),h=subError("TimeoutError","timeout error"),p=subError("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(e){r=subError("TypeError","type error"),i=subError("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),f=0;f<m.length;++f)"function"==typeof Array.prototype[m[f]]&&(p.prototype[m[f]]=Array.prototype[m[f]]);o.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var g=0;p.prototype.toString=function(){var e=Array(4*g+1).join(" "),t="\n"+e+"AggregateError of:\n";g++,e=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return g--,t},l(OperationalError,Error);var v=Error.__BluebirdErrorTypes__;v||(v=a({CancellationError:d,TimeoutError:h,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:p}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:v,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:u}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},d=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},h=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:h,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:d,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){function PassThroughHandlerContext(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function FinallyHandlerCancelReaction(e){this.finallyHandler=e}function checkCancel(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(e){if(!checkCancel(this,e))return a.e=e,a}function finallyHandler(e){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),e);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var c=n(l,i);if(c instanceof t){if(null!=this.cancelPromise){if(c._isCancelled()){var u=new o("late cancellation observer");return i._attachExtraTrace(u),a.e=u,a}c.isPending()&&c._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}return c._then(succeed,fail,void 0,this,void 0)}}}return i.isRejected()?(checkCancel(this),a.e=e,a):(checkCancel(this),e)}var i=e("./util"),o=t.CancellationError,a=i.errorObj,s=e("./catch_filter")(r);return PassThroughHandlerContext.prototype.isFinallyHandler=function(){return 0===this.type},FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new PassThroughHandlerContext(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,finallyHandler,finallyHandler)},t.prototype.tap=function(e){return this._passThrough(e,1,finallyHandler)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,finallyHandler);var r,o=new Array(n-1),a=0;for(r=0;r<n-1;++r){var l=arguments[r];if(!i.isObject(l))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(l)));o[a++]=l}o.length=a;var c=arguments[r];return this._passThrough(s(o,c,this),1,void 0,finallyHandler)},PassThroughHandlerContext}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function promiseFromYieldHandler(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=d(n[o])(e);if(r._popContext(),a===u){r._pushContext();var s=t.reject(u.e);return r._popContext(),s}var l=i(a,r);if(l instanceof t)return l}return null}function PromiseSpawn(e,n,i,o){if(a.cancellation()){var s=new t(r),l=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new t(r))._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var s=e("./errors"),l=s.TypeError,c=e("./util"),u=c.errorObj,d=c.tryCatch,h=[];c.inherits(PromiseSpawn,o),PromiseSpawn.prototype._isResolved=function(){return null===this._promise},PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},PromiseSpawn.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n=void 0!==this._generator.return;if(n)this._promise._pushContext(),e=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=d(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},PromiseSpawn.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},PromiseSpawn.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=d(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},PromiseSpawn.prototype._continue=function(e){var n=this._promise;if(e===u)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&null===(o=promiseFromYieldHandler(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=PromiseSpawn,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+c.classString(e));h.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new PromiseSpawn(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var r}var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function MappingPromiseArray(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=s();this._callback=null===i?t:l.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function map(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new MappingPromiseArray(e,n,a,o).promise()}var s=t._getDomain,l=e("./util"),c=l.tryCatch,u=l.errorObj,d=t._async;l.inherits(MappingPromiseArray,n),MappingPromiseArray.prototype._asyncInit=function(){this._init$(void 0,-2)},MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(n=-1*n-1,r[n]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var d=this._promise,h=this._callback,p=d._boundValue();d._pushContext();var m=c(h).call(p,e,n,o),f=d._popContext();if(a.checkForgottenReturns(m,f,null!==s?"Promise.filter":"Promise.map",d),m===u)return this._reject(m.e),!0;var g=i(m,this._promise);if(g instanceof t){g=g._target();var v=g._bitField;if(0==(50397184&v))return l>=1&&this._inFlight++,r[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(g._reason()),!0):(this._cancel(),!0);m=g._value()}r[n]=m}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},MappingPromiseArray.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},MappingPromiseArray.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return map(this,e,t,null)},t.map=function(e,t,n,r){return map(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],u=arguments[2];l=a.isArray(c)?s(e).apply(u,c):s(e).call(u,c)}else l=s(e)();var d=r._popContext();return o.checkForgottenReturns(l,d,"Promise.try",r),r._resolveFromSyncValue(l),r},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function isUntypedError(e){return e instanceof Error&&s.getPrototypeOf(e)===Error.prototype}function wrapAsOperationalError(e){var t;if(isUntypedError(e)){t=new a(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=s.keys(e),i=0;i<n.length;++i){var o=n[i];l.test(o)||(t[o]=e[o])}return t}return r.markAsOriginatingFromRejection(e),e}function nodebackForPromise(e,t){return function(n,r){if(null!==e){if(n){var o=wrapAsOperationalError(i(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(r);e=null}}}var r=e("./util"),i=r.maybeWrapAsError,o=e("./errors"),a=o.OperationalError,s=e("./es5"),l=/^(?:name|message|stack|cause)$/;t.exports=nodebackForPromise},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function spreadAdapter(e,t){var a=this;if(!n.isArray(e))return successAdapter.call(a,e,t);var s=i(t).apply(a._boundValue(),[null].concat(e));s===o&&r.throwLater(s.e)}function successAdapter(e,t){var n=this,a=n._boundValue(),s=void 0===e?i(t).call(a,null):i(t).call(a,null,e);s===o&&r.throwLater(s.e)}function errorAdapter(e,t){var n=this;if(!e){var a=new Error(e+"");a.cause=e,e=a}var s=i(t).call(n._boundValue(),e);s===o&&r.throwLater(s.e)}var n=e("./util"),r=t._async,i=n.tryCatch,o=n.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var n=successAdapter;void 0!==t&&Object(t).spread&&(n=spreadAdapter),this._then(n,errorAdapter,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,n,r){"use strict";n.exports=function(){function Proxyable(){}function check(e,t){if(null==e||e.constructor!==Promise)throw new p("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new p("expecting a function but got "+l.classString(t))}function Promise(e){e!==f&&check(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function deferResolve(e){this.promise._resolveCallback(e)}function deferReject(e){this.promise._rejectCallback(e,!1)}function fillTypes(e){var t=new Promise(f);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var r,i=function(){return new p("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},o=function(){return new Promise.PromiseInspection(this._target())},a=function(e){return Promise.reject(new p(e))},s={},l=e("./util");r=l.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},l.notEnumerableProp(Promise,"_getDomain",r);var c=e("./es5"),u=e("./async"),d=new u;c.defineProperty(Promise,"_async",{value:d});var h=e("./errors"),p=Promise.TypeError=h.TypeError;Promise.RangeError=h.RangeError;var m=Promise.CancellationError=h.CancellationError;Promise.TimeoutError=h.TimeoutError,Promise.OperationalError=h.OperationalError,Promise.RejectionError=h.OperationalError,Promise.AggregateError=h.AggregateError;var f=function(){},g={},v={},y=e("./thenables")(Promise,f),_=e("./promise_array")(Promise,f,y,a,Proxyable),b=e("./context")(Promise),w=b.create,x=e("./debuggability")(Promise,b),S=(x.CapturedTrace,e("./finally")(Promise,y,v)),C=e("./catch_filter")(v),E=e("./nodeback"),T=l.errorObj,M=l.tryCatch;return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!l.isObject(o))return a("Catch statement predicate: expecting an object but got "+l.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,C(r,e,this))}return this.then(void 0,e)},Promise.prototype.reflect=function(){return this._then(o,o,void 0,this,void 0)},Promise.prototype.then=function(e,t){if(x.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+l.classString(e);arguments.length>1&&(n+=", "+l.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},Promise.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},Promise.prototype.spread=function(e){return"function"!=typeof e?a("expecting a function but got "+l.classString(e)):this.all()._then(e,void 0,void 0,g,void 0)},Promise.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},Promise.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},Promise.prototype.error=function(e){return this.caught(l.originatesFromRejection,e)},Promise.getNewLibraryCopy=n.exports,Promise.is=function(e){return e instanceof Promise},Promise.fromNode=Promise.fromCallback=function(e){var t=new Promise(f);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=M(e)(E(t,n));return r===T&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},Promise.all=function(e){return new _(e).promise()},Promise.cast=function(e){var t=y(e);return t instanceof Promise||(t=new Promise(f),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(e){var t=new Promise(f);return t._captureStackTrace(),t._rejectCallback(e,!0),t},Promise.setScheduler=function(e){if("function"!=typeof e)throw new p("expecting a function but got "+l.classString(e));return d.setScheduler(e)},Promise.prototype._then=function(e,t,n,i,o){var a=void 0!==o,s=a?o:new Promise(f),c=this._target(),u=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var h=r();if(0!=(50397184&u)){var p,g,v=c._settlePromiseCtx;0!=(33554432&u)?(g=c._rejectionHandler0,p=e):0!=(16777216&u)?(g=c._fulfillmentHandler0,p=t,c._unsetRejectionIsUnhandled()):(v=c._settlePromiseLateCancellationObserver,g=new m("late cancellation observer"),c._attachExtraTrace(g),p=t),d.invoke(v,c,{handler:null===h?p:"function"==typeof p&&l.domainBind(h,p),promise:s,receiver:i,value:g})}else c._addCallbacks(e,t,s,i,h);return s},Promise.prototype._length=function(){return 65535&this._bitField},Promise.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},Promise.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},Promise.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},Promise.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},Promise.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},Promise.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},Promise.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},Promise.prototype._isFinal=function(){return(4194304&this._bitField)>0},Promise.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},Promise.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},Promise.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},Promise.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},Promise.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==s)return void 0===t&&this._isBound()?this._boundValue():t},Promise.prototype._promiseAt=function(e){return this[4*e-4+2]},Promise.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},Promise.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},Promise.prototype._boundValue=function(){},Promise.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=s),this._addCallbacks(t,n,r,i,null)},Promise.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=s),this._addCallbacks(n,r,i,o,null)},Promise.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:l.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:l.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:l.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:l.domainBind(i,t))}return this._setLength(o+1),o},Promise.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},Promise.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(i(),!1);var n=y(e,this);if(!(n instanceof Promise))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(i());var o=r._bitField;if(0==(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&o))this._fulfill(r._value());else if(0!=(16777216&o))this._reject(r._reason());else{var l=new m("late cancellation observer");r._attachExtraTrace(l),this._reject(l)}}},Promise.prototype._rejectCallback=function(e,t,n){var r=l.ensureErrorObject(e),i=r===e;if(!i&&!n&&x.warnings()){var o="a promise was rejected with a non-error: "+l.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},Promise.prototype._resolveFromExecutor=function(e){if(e!==f){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},Promise.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){r._pushContext();var o;t===g?n&&"number"==typeof n.length?o=M(e).apply(this._boundValue(),n):(o=T,o.e=new p("cannot .spread() a non-array: "+l.classString(n))):o=M(e).call(t,n);var a=r._popContext();i=r._bitField,0==(65536&i)&&(o===v?r._reject(n):o===T?r._rejectCallback(o.e,!1):(x.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},Promise.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(e){this._rejectionHandler0=e},Promise.prototype._settlePromise=function(e,t,n,r){var i=e instanceof Promise,a=this._bitField,s=0!=(134217728&a);0!=(65536&a)?(i&&e._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=e,M(t).call(n,r)===T&&e._reject(T.e)):t===o?e._fulfill(o.call(n)):n instanceof Proxyable?n._promiseCancelled(e):i||e instanceof _?e._cancel():n.cancel()):"function"==typeof t?i?(s&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,r,e)):t.call(n,r,e):n instanceof Proxyable?n._isResolved()||(0!=(33554432&a)?n._promiseFulfilled(r,e):n._promiseRejected(r,e)):i&&(s&&e._setAsyncGuaranteed(),0!=(33554432&a)?e._fulfill(r):e._reject(r))},Promise.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof Promise?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof Promise&&n._reject(i)},Promise.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},Promise.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},Promise.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},Promise.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=i();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():d.settlePromises(this))}},Promise.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return d.fatalError(e,l.isNode);(65535&t)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},Promise.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},Promise.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},Promise.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},Promise.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},Promise.defer=Promise.pending=function(){return x.deprecated("Promise.defer","new Promise"),{promise:new Promise(f),resolve:deferResolve,reject:deferReject}},l.notEnumerableProp(Promise,"_makeSelfResolutionError",i),e("./method")(Promise,f,y,a,x),e("./bind")(Promise,f,y,x),e("./cancel")(Promise,_,a,x),e("./direct_resolve")(Promise),e("./synchronous_inspection")(Promise),e("./join")(Promise,_,y,f,d,r),Promise.Promise=Promise,Promise.version="3.5.0",e("./map.js")(Promise,_,a,y,f,x),e("./call_get.js")(Promise),e("./using.js")(Promise,a,y,w,f,x),e("./timers.js")(Promise,f,x),e("./generators.js")(Promise,a,f,y,Proxyable,x),e("./nodeify.js")(Promise),e("./promisify.js")(Promise,f),e("./props.js")(Promise,_,y,a),e("./race.js")(Promise,f,y,a),e("./reduce.js")(Promise,_,a,y,f,x),e("./settle.js")(Promise,_,x),e("./some.js")(Promise,_,a),e("./filter.js")(Promise,f),e("./each.js")(Promise,f),e("./any.js")(Promise),l.toFastProperties(Promise),l.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes(function(){}),fillTypes(void 0),fillTypes(!1),fillTypes(new Promise(f)),x.setBounds(u.firstLineError,l.lastLineError),Promise}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function toResolutionValue(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function PromiseArray(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=e("./util");a.isArray;return a.inherits(PromiseArray,o),PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(e,n){var o=r(this._values,this._promise);if(o instanceof t){o=o._target();var s=o._bitField;if(this._values=o,0==(50397184&s))return this._promise._setAsyncGuaranteed(),o._then(init,this._reject,void 0,this,n);if(0==(33554432&s))return 0!=(16777216&s)?this._reject(o._reason()):this._cancel();o=o._value()}if(null===(o=a.asArray(o))){var l=i("expecting an array or an iterable object but got "+a.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}if(0===o.length)return void(-5===n?this._resolveEmptyArray():this._resolve(toResolutionValue(n)));this._iterate(o)},PromiseArray.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var l=r(e[s],i);l instanceof t?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||i._setAsyncGuaranteed()},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},PromiseArray.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},PromiseArray.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},PromiseArray.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},PromiseArray.prototype._promiseCancelled=function(){return this._cancel(),!0},PromiseArray.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},PromiseArray.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(e){return e},PromiseArray}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function propsFilter(e){return!p.test(e)}function isPromisified(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function hasPromisified(e,t,n){var r=o.getDataPropertyOrDefault(e,t+n,d);return!!r&&isPromisified(r)}function checkValid(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function promisifiableMethods(e,t,n,r){for(var i=o.inheritedDataKeys(e),a=[],s=0;s<i.length;++s){var l=i[s],c=e[l],u=r===m||m(l,c,e);"function"!=typeof c||isPromisified(c)||hasPromisified(e,l,t)||!r(l,c,e,u)||a.push(l,c)}return checkValid(a,t,n),a}function makeNodePromisifiedClosure(e,r,c,u,d,h){function promisified(){var o=r;r===i&&(o=this);var c=new t(n);c._captureStackTrace();var u="string"==typeof m&&this!==p?this[m]:e,d=a(c,h);try{u.apply(o,s(arguments,d))}catch(e){c._rejectCallback(l(e),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}var p=function(){return this}(),m=e;return"string"==typeof m&&(e=u),o.notEnumerableProp(promisified,"__isPromisified__",!0),promisified}function promisifyAll(e,t,n,r,a){for(var s=new RegExp(f(t)+"$"),l=promisifiableMethods(e,t,s,n),c=0,u=l.length;c<u;c+=2){var d=l[c],h=l[c+1],p=d+t;if(r===g)e[p]=g(d,i,d,h,t,a);else{var m=r(h,function(){return g(d,i,d,h,t,a)});o.notEnumerableProp(m,"__isPromisified__",!0),e[p]=m}}return o.toFastProperties(e),e}function promisify(e,t,n){return g(e,t,void 0,e,null,n)}var r,i={},o=e("./util"),a=e("./nodeback"),s=o.withAppended,l=o.maybeWrapAsError,c=o.canEvaluate,u=e("./errors").TypeError,d={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],p=new RegExp("^(?:"+h.join("|")+")$"),m=function(e){return o.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},f=function(e){return e.replace(/([$])/,"\\$")},g=c?r:makeNodePromisifiedClosure;t.promisify=function(e,t){if("function"!=typeof e)throw new u("expecting a function but got "+o.classString(e));if(isPromisified(e))return e;t=Object(t);var n=void 0===t.context?i:t.context,r=!!t.multiArgs,a=promisify(e,n,r);return o.copyDescriptors(e,a,propsFilter),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var i=t.filter;"function"!=typeof i&&(i=m);var a=t.promisifier;if("function"!=typeof a&&(a=g),!o.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=o.inheritedDataKeys(e),l=0;l<s.length;++l){var c=e[s[l]];"constructor"!==s[l]&&o.isClass(c)&&(promisifyAll(c.prototype,r,i,a,n),promisifyAll(c,r,i,a,n))}return promisifyAll(e,r,i,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function PropertiesPromiseArray(e){var t,n=!1;if(void 0!==o&&e instanceof o)t=c(e),n=!0;else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var a=0;a<i;++a){var s=r[a];t[a]=e[s],t[a+i]=s}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function props(e){var n,o=r(e);return s(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(o).promise(),o instanceof t&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var o,a=e("./util"),s=a.isObject,l=e("./es5");"function"==typeof Map&&(o=Map);var c=function(){function extractEntry(n,r){this[e]=n,this[e+t]=r,e++}var e=0,t=0;return function(n){t=n.size,e=0;var r=new Array(2*n.size);return n.forEach(extractEntry,r),r}}(),u=function(e){for(var t=new o,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],a=e[r];t.set(i,a)}return t};a.inherits(PropertiesPromiseArray,n),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=u(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return props(this)},t.props=function(e){return props(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function arrayMove(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function Queue(e){this._capacity=e,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(e){return this._capacity<e},Queue.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},Queue.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},Queue.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,arrayMove(this,0,this,t,this._front+this._length&t-1)},t.exports=Queue},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function race(e,s){var l=r(e);if(l instanceof t)return a(l);if(null===(e=o.asArray(e)))return i("expecting an array or an iterable object but got "+o.classString(e));var c=new t(n);void 0!==s&&c._propagateFrom(s,3);for(var u=c._fulfill,d=c._reject,h=0,p=e.length;h<p;++h){var m=e[h];(void 0!==m||h in e)&&t.cast(m)._then(u,d,void 0,c,null)}return c}var o=e("./util"),a=function(e){return e.then(function(t){return race(t,e)})};t.race=function(e){return race(e,void 0)},t.prototype.race=function(){return race(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function ReductionPromiseArray(e,n,r,i){this.constructor$(e);var a=s();this._fn=null===a?n:l.domainBind(a,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function completed(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function reduce(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+l.classString(t)):new ReductionPromiseArray(e,t,n,i).promise()}function gotAccum(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(gotValue,void 0,void 0,this,void 0)):gotValue.call(this,n)}function gotValue(e){var n=this.array,r=n._promise,i=c(n._fn);r._pushContext();var o;(o=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var s=t._getDomain,l=e("./util"),c=l.tryCatch;l.inherits(ReductionPromiseArray,n),ReductionPromiseArray.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},ReductionPromiseArray.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},ReductionPromiseArray.prototype.shouldCopyValues=function(){return!1},ReductionPromiseArray.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},ReductionPromiseArray.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},ReductionPromiseArray.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(gotAccum,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(completed,completed,void 0,n,this)},t.prototype.reduce=function(e,t){return reduce(this,e,t,null)},t.reduce=function(e,t,n,r){return reduce(e,t,n,r)}}},{"./util":36}],29:[function(e,i,o){"use strict";var a,s=e("./util"),l=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var u=n.setImmediate,d=t.nextTick;a=s.isRecentNode?function(e){u.call(n,e)}:function(e){d.call(t,e)}}else if("function"==typeof c&&"function"==typeof c.resolve){var h=c.resolve();a=function(e){h.then(e)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==r?function(e){r(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:l:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),i()}}();i.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function SettledPromiseArray(e){this.constructor$(e)}var i=t.PromiseInspection;e("./util").inherits(SettledPromiseArray,n),SettledPromiseArray.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},SettledPromiseArray.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},SettledPromiseArray.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new SettledPromiseArray(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function SomePromiseArray(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new SomePromiseArray(e),i=n.promise();return n.setHowMany(t),n.init(),i}var i=e("./util"),o=e("./errors").RangeError,a=e("./errors").AggregateError,s=i.isArray,l={};i.inherits(SomePromiseArray,n),SomePromiseArray.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(e){this._howMany=e},SomePromiseArray.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},SomePromiseArray.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},SomePromiseArray.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(e){this._values.push(e)},SomePromiseArray.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return some(e,t)},t.prototype.some=function(e){return some(this,e)},t._SomePromiseArray=SomePromiseArray}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function PromiseInspection(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var t=PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=PromiseInspection.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},i=PromiseInspection.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},o=PromiseInspection.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=PromiseInspection.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};PromiseInspection.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return o.call(this._target())},e.prototype.isRejected=function(){return i.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return a.call(this._target())},e.prototype.value=function(){return t.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=PromiseInspection}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function tryConvertToPromise(e,r){if(o(e)){if(e instanceof t)return e;var a=getThen(e);if(a===i){r&&r._pushContext();var s=t.reject(a.e);return r&&r._popContext(),s}if("function"==typeof a){if(isAnyBluebirdPromise(e)){var s=new t(n);return e._then(s._fulfill,s._reject,void 0,s,null),s}return doThenable(e,a,r)}}return e}function doGetThen(e){return e.then}function getThen(e){try{return doGetThen(e)}catch(e){return i.e=e,i}}function isAnyBluebirdPromise(e){try{return a.call(e,"_promise0")}catch(e){return!1}}function doThenable(e,o,a){function resolve(e){s&&(s._resolveCallback(e),s=null)}function reject(e){s&&(s._rejectCallback(e,c,!0),s=null)}var s=new t(n),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,u=r.tryCatch(o).call(e,resolve,reject);return c=!1,s&&u===i&&(s._rejectCallback(u.e,!0,!0),s=null),l}var r=e("./util"),i=r.errorObj,o=r.isObject,a={}.hasOwnProperty;return tryConvertToPromise}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function HandleWrapper(e){this.handle=e}function successClear(e){return clearTimeout(this.handle),e}function failureClear(e){throw clearTimeout(this.handle),e}var i=e("./util"),o=t.TimeoutError;HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(e){return s(+this).thenReturn(e)},s=t.delay=function(e,i){var o,s;return void 0!==i?(o=t.resolve(i)._then(a,null,null,e,void 0),r.cancellation()&&i instanceof t&&o._setOnCancel(i)):(o=new t(n),s=setTimeout(function(){o._fulfill()},+e),r.cancellation()&&o._setOnCancel(new HandleWrapper(s)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};t.prototype.delay=function(e){return s(e,this)};var l=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new o("operation timed out"):new o(t),i.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,i,o=new HandleWrapper(setTimeout(function(){n.isPending()&&l(n,t,i)},e));return r.cancellation()?(i=this.then(),n=i._then(successClear,failureClear,void 0,o,void 0),n._setOnCancel(o)):n=this._then(successClear,failureClear,void 0,o,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function dispose(e,n){function iterator(){if(i>=a)return s._fulfill();var o=castPreservingDisposable(e[i++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(e){return thrower(e)}if(o instanceof t)return o._then(iterator,thrower,null,null,null)}iterator()}var i=0,a=e.length,s=new t(o);return iterator(),s}function Disposer(e,t,n){this._data=e,this._promise=t,this._context=n}function FunctionDisposer(e,t,n){this.constructor$(e,t,n)}function maybeUnwrapDisposer(e){return Disposer.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function ResourceList(e){this.length=e,this.promise=null,this[e-1]=null}var s=e("./util"),l=e("./errors").TypeError,c=e("./util").inherits,u=s.errorObj,d=s.tryCatch,h={};Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},Disposer.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==h?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},Disposer.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},ResourceList.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("expecting a function but got "+s.classString(i));var o,l=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,l=!1):(o=arguments,e--);for(var c=new ResourceList(e),h=0;h<e;++h){var p=o[h];if(Disposer.isDisposer(p)){var m=p;p=p.promise(),p._setDisposable(m)}else{var f=r(p);f instanceof t&&(p=f._then(maybeUnwrapDisposer,null,null,{resources:c,index:h},void 0))}c[h]=p}for(var g=new Array(c.length),h=0;h<g.length;++h)g[h]=t.resolve(c[h]).reflect();var v=t.all(g).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return u.e=n.error(),u;if(!n.isFulfilled())return void v.cancel();e[t]=n.value()}y._pushContext(),i=d(i);var r=l?i.apply(void 0,e):i(e),o=y._popContext();return a.checkForgottenReturns(r,o,"Promise.using",y),r}),y=v.lastly(function(){var e=new t.PromiseInspection(v);return dispose(c,e)});return c.promise=y,y._setOnCancel(c),y},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new FunctionDisposer(e,this,i());throw new l}}},{"./errors":12,"./util":36}],36:[function(e,r,i){"use strict";function tryCatcher(){try{var e=l;return l=null,e.apply(this,arguments)}catch(e){return s.e=e,s}}function tryCatch(e){return l=e,tryCatcher}function isPrimitive(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function isObject(e){return"function"==typeof e||"object"==typeof e&&null!==e}function maybeWrapAsError(e){return isPrimitive(e)?new Error(safeToString(e)):e}function withAppended(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function getDataPropertyOrDefault(e,t,n){if(!o.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function notEnumerableProp(e,t,n){if(isPrimitive(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(e,t,r),e}function thrower(e){throw e}function isClass(e){try{if("function"==typeof e){var t=o.names(e.prototype),n=o.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=h.test(e+"")&&o.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}}function toFastProperties(e){function FakeConstructor(){}FakeConstructor.prototype=e;for(var t=8;t--;)new FakeConstructor;return e}function isIdentifier(e){return p.test(e)}function filledRange(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function safeToString(e){try{return e+""}catch(e){return"[no string representation]"}}function isError(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(e){}}function originatesFromRejection(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function canAttachTrace(e){return isError(e)&&o.propertyIsWritable(e,"stack")}function classString(e){return{}.toString.call(e)}function copyDescriptors(e,t,n){for(var r=o.names(e),i=0;i<r.length;++i){var a=r[i];if(n(a))try{o.defineProperty(t,a,o.getDescriptor(e,a))}catch(e){}}}function env(e){return y?t.env[e]:void 0}function getNativePromise(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function domainBind(e,t){return e.bind(t)}var o=e("./es5"),a="undefined"==typeof navigator,s={e:{}},l,c="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null,u=function(e,t){function T(){this.constructor=e,this.constructor$=t;for(var r in t.prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}var n={}.hasOwnProperty;return T.prototype=t.prototype,e.prototype=new T,e.prototype},d=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(o.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var a;try{a=n(e)}catch(e){return r}for(var s=0;s<a.length;++s){var l=a[s];if(!i[l]){i[l]=!0;var c=Object.getOwnPropertyDescriptor(e,l);null!=c&&null==c.get&&null==c.set&&r.push(l)}}e=o.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),h=/this\s*\.\s*\S+\s*=/,p=/^[a-z$_][a-z$_0-9]*$/i,m=function(){return"stack"in new Error?function(e){return canAttachTrace(e)?e:new Error(safeToString(e))}:function(e){if(canAttachTrace(e))return e;try{throw new Error(safeToString(e))}catch(e){return e}}}(),f=function(e){return o.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var g="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};f=function(e){return o.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?g(e):null}}var v=void 0!==t&&"[object process]"===classString(t).toLowerCase(),y=void 0!==t&&void 0!==t.env,_={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:d,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:o.isArray,asArray:f,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:a,errorObj:s,tryCatch:tryCatch,inherits:u,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:m,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:v,hasEnvVariables:y,env:env,global:c,getNativePromise:getNativePromise,domainBind:domainBind};_.isRecentNode=_.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),_.isNode&&_.toFastProperties(t);try{throw new Error}catch(e){_.lastLineError=e}r.exports=_},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,n(18),n(8),n(227).setImmediate)},function(e,t,n){e.exports=n(548)},function(e,t,n){var r=n(549),i=n(559),o=n(568),a=i(function(e,t){r(t,o(t),e)});e.exports=a},function(e,t,n){function copyObject(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}var r=n(550),i=n(235);e.exports=copyObject},function(e,t,n){function assignValue(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}var r=n(235),i=n(240),o=Object.prototype,a=o.hasOwnProperty;e.exports=assignValue},function(e,t,n){function getNative(e,t){var n=i(e,t);return r(n)?n:void 0}var r=n(552),i=n(558);e.exports=getNative},function(e,t,n){function baseIsNative(e){return!(!o(e)||i(e))&&(r(e)?p:l).test(a(e))}var r=n(237),i=n(555),o=n(45),a=n(557),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=baseIsNative},function(e,t,n){function getRawTag(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}var r=n(238),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=getRawTag},function(e,t){function objectToString(e){return r.call(e)}var n=Object.prototype,r=n.toString;e.exports=objectToString},function(e,t,n){function isMasked(e){return!!i&&i in e}var r=n(556),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=isMasked},function(e,t,n){var r=n(70),i=r["__core-js_shared__"];e.exports=i},function(e,t){function toSource(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,r=n.toString;e.exports=toSource},function(e,t){function getValue(e,t){return null==e?void 0:e[t]}e.exports=getValue},function(e,t,n){function createAssigner(e){return r(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t})}var r=n(560),i=n(567);e.exports=createAssigner},function(e,t,n){function baseRest(e,t){return o(i(e,t,r),e+"")}var r=n(241),i=n(561),o=n(563);e.exports=baseRest},function(e,t,n){function overRest(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}var r=n(562),i=Math.max;e.exports=overRest},function(e,t){function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=apply},function(e,t,n){var r=n(564),i=n(566),o=i(r);e.exports=o},function(e,t,n){var r=n(565),i=n(236),o=n(241),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){function constant(e){return function(){return e}}e.exports=constant},function(e,t){function shortOut(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n=800,r=16,i=Date.now;e.exports=shortOut},function(e,t,n){function isIterateeCall(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}var r=n(240),i=n(242),o=n(244),a=n(45);e.exports=isIterateeCall},function(e,t,n){function keysIn(e){return o(e)?r(e,!0):i(e)}var r=n(569),i=n(580),o=n(242);e.exports=keysIn},function(e,t,n){function arrayLikeKeys(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&a(e),h=!n&&!c&&!d&&l(e),p=n||c||d||h,m=p?r(e.length,String):[],f=m.length;for(var g in e)!t&&!u.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,f))||m.push(g);return m}var r=n(570),i=n(571),o=n(573),a=n(574),s=n(244),l=n(576),c=Object.prototype,u=c.hasOwnProperty;e.exports=arrayLikeKeys},function(e,t){function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=baseTimes},function(e,t,n){var r=n(572),i=n(71),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){function baseIsArguments(e){return i(e)&&r(e)==o}var r=n(69),i=n(71),o="[object Arguments]";e.exports=baseIsArguments},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var r=n(70),i=n(575),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||i;e.exports=u}).call(t,n(17)(e))},function(e,t){function stubFalse(){return!1}e.exports=stubFalse},function(e,t,n){var r=n(577),i=n(578),o=n(579),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){function baseIsTypedArray(e){return o(e)&&i(e.length)&&!!a[r(e)]}var r=n(69),i=n(243),o=n(71),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=baseIsTypedArray},function(e,t){function baseUnary(e){return function(t){return e(t)}}e.exports=baseUnary},function(e,t,n){(function(e){var r=n(239),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,n(17)(e))},function(e,t,n){function baseKeysIn(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}var r=n(45),i=n(581),o=n(582),a=Object.prototype,s=a.hasOwnProperty;e.exports=baseKeysIn},function(e,t){function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=isPrototype},function(e,t){function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=nativeKeysIn},function(e,t){function arrayBufferConcat(){var e=0,t=null;for(var n in arguments)t=arguments[n],e+=t.byteLength;var r=new Uint8Array(e),i=0;for(var n in arguments)t=arguments[n],r.set(new Uint8Array(t),i),i+=t.byteLength;return r.buffer}e.exports=arrayBufferConcat},function(e,t,n){"use strict";var r={33554432:"2.0",34603008:"2.1",37748736:"2.4",67108864:"4.0",69206016:"4.2"},i={0:"Perceptual",1:"Relative",2:"Saturation",3:"Absolute"},o={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Link",abst:"Abstract",spac:"Space",nmcl:"Named color",appl:"Apple",adbe:"Adobe",msft:"Microsoft",sunw:"Sun Microsystems",sgi:"Silicon Graphics",tgnt:"Taligent"},a={desc:"description",cprt:"copyright",dmdd:"deviceModelDescription",vued:"viewingConditionsDescription"},s=function(e,t){var n=e.slice(t,t+4).toString().trim();return n.toLowerCase()in o?o[n.toLowerCase()]:n},l=function(e,t){return 0!==e.readUInt32BE(t)};e.exports.parse=function(e){if(e.readUInt32BE(0)!==e.length)throw new Error("Invalid ICC profile: length mismatch");if("acsp"!==e.slice(36,40).toString())throw new Error("Invalid ICC profile: missing signature");var t={version:r[e.readUInt32BE(8)],intent:i[e.readUInt32BE(64)]};[[4,"cmm"],[12,"deviceClass"],[16,"colorSpace"],[20,"connectionSpace"],[40,"platform"],[48,"manufacturer"],[52,"model"],[80,"creator"]].forEach(function(n){l(e,n[0])&&(t[n[1]]=s(e,n[0]))});for(var n=e.readUInt32BE(128),o=132,c=0;c<n;c++){var u=s(e,o);if(u in a){var d=e.readUInt32BE(o+4),h=e.readUInt32BE(o+8);if(d>e.length)throw new Error("Invalid ICC profile: Tag offset out of bounds");var p=s(e,d);if("desc"===p){var m=e.readUInt32BE(d+8);if(m>h)throw new Error("Invalid ICC profile: Description tag value size out of bounds for "+u);t[a[u]]=e.slice(d+12,d+m+11).toString()}"text"===p&&(t[a[u]]=e.slice(d+8,d+h-7).toString())}o+=12}return t}},function(e,t,n){e.exports=n(23),n(245),n(46),n(586),n(246),n(587),n(588)},function(e,t,n){var r,i,o;!function(a){"use strict";i=[n(23),n(46)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";"undefined"!=typeof fetch&&"undefined"!=typeof Request&&(e.fetchBlob=function(t,n,r){if(e.hasMetaOption(r))return fetch(new Request(t,r)).then(function(e){return e.blob()}).then(n).catch(function(e){console.log(e),n()});n()})})},function(e,t,n){var r,i,o;!function(a){"use strict";i=[n(23),n(246)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,r=e.map;for(t in n)n.hasOwnProperty(t)&&(r[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}})},function(e,t,n){var r,i,o;!function(a){"use strict";i=[n(23),n(245),n(46)],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e){"use strict";var t=e.hasCanvasOption,n=e.hasMetaOption,r=e.transformCoordinates,i=e.getTransformedOptions;e.hasCanvasOption=function(n){return!!n.orientation||t.call(e,n)},e.hasMetaOption=function(t){return t&&!0===t.orientation||n.call(e,t)},e.transformCoordinates=function(t,n){r.call(e,t,n);var i=t.getContext("2d"),o=t.width,a=t.height,s=t.style.width,l=t.style.height,c=n.orientation;if(c&&!(c>8))switch(c>4&&(t.width=a,t.height=o,t.style.width=l,t.style.height=s),c){case 2:i.translate(o,0),i.scale(-1,1);break;case 3:i.translate(o,a),i.rotate(Math.PI);break;case 4:i.translate(0,a),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-a);break;case 7:i.rotate(.5*Math.PI),i.translate(o,-a),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-o,0)}},e.getTransformedOptions=function(t,n,r){var o,a,s=i.call(e,t,n),l=s.orientation;if(!0===l&&r&&r.exif&&(l=r.exif.get("Orientation")),!l||l>8||1===l)return s;o={};for(a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);switch(o.orientation=l,l){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o}})},function(e,t,n){var r;!function(i){"use strict";var o=i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype,a=i.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),s=a&&i.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),l=i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(a||l)&&i.atob&&i.ArrayBuffer&&i.Uint8Array&&function(e){var t,n,r,i,o,u,d,h,p;if(!(t=e.match(c)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),r=!!t[4],i=e.slice(t[0].length),o=r?atob(i):decodeURIComponent(i),u=new ArrayBuffer(o.length),d=new Uint8Array(u),h=0;h<o.length;h+=1)d[h]=o.charCodeAt(h);return a?new Blob([s?d:u],{type:n}):(p=new l,p.append(u),p.getBlob(n))};i.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(e,t,n){var r=this;setTimeout(function(){e(n&&o.toDataURL&&u?u(r.toDataURL(t,n)):r.mozGetAsFile("blob",t))})}:o.toDataURL&&u&&(o.toBlob=function(e,t,n){var r=this;setTimeout(function(){e(u(r.toDataURL(t,n)))})})),void 0!==(r=function(){return u}.call(t,n,t,e))&&(e.exports=r)}(window)},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(592),u=_interopRequireDefault(c),d=n(593),h=_interopRequireDefault(d),p=function(e,t,n){"ngInject";var r=this,o={},s={minWidth:0,minHeight:0,maxWidth:3e3,maxHeight:2e3,dzi:!1,crop:[]},c={minWidth:0,minHeight:0,ratio:1,gravity:"center"},d=[{value:"Center",name:"Center"},{value:"North",name:"North"},{value:"East",name:"East"},{value:"South",name:"South"},{value:"West",name:"West"}],p=function(e){e.slug=l.default.camelCase(e.name)},m=function(){var o=(0,a.default)(i.default.mark(function _callee(o,a,s){var u,m;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=!o,m={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:h.default,targetEvent:s,clickOutsideToClose:!0,multiple:!0,locals:{crop:l.default.merge({},c,o),createNew:u,gravityOptions:d,slugify:p}},r.prev=2,r.next=5,t.show(m);case 5:o=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return u?a.push(o):n.replace(a,o,"slug"),e.$apply(),r.abrupt("return",o);case 14:case"end":return r.stop()}},_callee,r,[[2,8]])}));return function(e,t,n){return o.apply(this,arguments)}}(),f=function(){var n=(0,a.default)(i.default.mark(function _callee2(n,o,a){var s;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.confirm({title:"Delete Crop?",textContent:"Are you sure you want to delete "+n.name+"?",targetEvent:a,ok:"Confirm",cancel:"Cancel",multiple:!0}),r.prev=1,r.next=4,t.show(s);case 4:r.next=9;break;case 6:return r.prev=6,r.t0=r.catch(1),r.abrupt("return",!1);case 9:return l.default.remove(o,{slug:n.slug}),e.$apply(),r.abrupt("return",!0);case 12:case"end":return r.stop()}},_callee2,r,[[1,6]])}));return function(e,t,r){return n.apply(this,arguments)}}();return o.edit=function(){var e=(0,a.default)(i.default.mark(function _callee3(e,n){var o,a;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:n,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},s,e.settings),editCrop:m,deleteCrop:f}},a=void 0,r.prev=2,r.next=5,t.show(o);case 5:a=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return r.abrupt("return",a);case 12:case"end":return r.stop()}},_callee3,r,[[2,8]])}));return function(t,n){return e.apply(this,arguments)}}(),o};p.$inject=["$rootScope","$mdDialog","HelperFactory"],t.default=p},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Min. Width</label><input type="number" ng-model="vm.settings.minWidth"></md-input-container><md-input-container><label>Min. Height</label><input type="number" ng-model="vm.settings.minHeight"></md-input-container><br><md-input-container><label>Max. Width</label><input type="number" required ng-model="vm.settings.maxWidth"></md-input-container><md-input-container><label>Max. Height</label><input type="number" required ng-model="vm.settings.maxHeight"></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.dzi" aria-label="Deep Zoom Image?">Deep Zoom Image</md-checkbox></md-input-container><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Crops<span flex></span><md-button ng-click="vm.editCrop(null, vm.settings.crops, $event)">Add Crop</md-button></div></md-toolbar><md-table-container ng-show="vm.settings.crops.length"><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Min. Size</th><th md-column>Ratio</th><th md-column>Gravity</th></tr></thead><tbody md-body><tr md-row ng-repeat="crop in vm.settings.crops"><td md-cell>{{crop.name}}</td><td md-cell>{{crop.slug}}</td><td md-cell>{{crop.minWidth}}×{{crop.minHeight}}</td><td md-cell>{{crop.ratio}}</td><td md-cell>{{crop.gravity}}</td><td md-cell><md-button ng-click="vm.editCrop(crop, vm.settings.crops, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.deleteCrop(crop, vm.settings.crops, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Crop Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Crop Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Name</label><input ng-model="vm.crop.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.crop)"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.crop.slug" required disabled></md-input-container><br><md-input-container><label>Minimum Width</label><input type="number" ng-model="vm.crop.minWidth" min="0"></md-input-container><md-input-container><label>Minimum Height</label><input type="number" ng-model="vm.crop.minHeight" min="0"></md-input-container><md-input-container class="md-block"><label>Gravity</label><md-select ng-model="vm.crop.gravity"><md-option ng-repeat="option in vm.gravityOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container><label>Ratio</label><input type="number" ng-model="vm.crop.ratio" min="0" max="99"></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.crop)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(595),l=_interopRequireDefault(s),c=a.default.module("fieldKeyValue",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("keyValue",{name:"Key/Value",toString:function(e){return i.default.isArray(e)?e.map(function(e){return e.key+": "+e.value}).join(", "):e||""}})}]).directive("fieldKeyValue",l.default);t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(596),i=_interopRequireDefault(r),o=n(597),a=_interopRequireDefault(o);n(598);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Add key/value" ng-click="vm.fieldModel.value.push({key: \'\', value: \'\'})" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><table style="width: 100%"><tbody><tr ng-repeat="keyValue in vm.fieldModel.value" ace-sortable axis="\'y\'" index="$index" collection="vm.fieldModel.value" handle-selector="\'[ace-sortable-handle]\'"><td><md-icon md-font-set="material-icons" ace-sortable-handle>more_horiz</md-icon></td><td><md-input-container style="width: 100%"><label>Key</label><input ng-model="keyValue.key"></md-input-container></td><td><md-input-container style="width: 100%"><label>Value</label><input ng-model="keyValue.value"></md-input-container></td><td><md-button aria-label="Remove key/value" ng-click="vm.fieldModel.value.splice($index, 1)" class="md-icon-button"><md-icon style="display: inline-block" md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldKeyValueController(){(0,i.default)(this,FieldKeyValueController);var e=this;e.fieldModel.value||(e.fieldModel.value=[])};t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(600),a=_interopRequireDefault(o),s=i.default.module("fieldNumber",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("number",{name:"Number",toString:function(e){return e.toString()}})}]).directive("fieldNumber",a.default);t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(601),i=_interopRequireDefault(r),o=n(602),a=_interopRequireDefault(o);n(603);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex><input type="number" ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldNumberController(){(0,i.default)(this,FieldNumberController)};t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(605),a=_interopRequireDefault(o),s=n(613),l=_interopRequireDefault(s),c=i.default.module("fieldRichText",[]).config(function(){"ngInject"}).run(["$filter","FieldFactory","FieldRichTextSettingsFactory",function(e,t,n){"ngInject";t.registerField("richText",{name:"Rich Text",editSettings:n.edit,toString:function(t){return e("cleanHTML")(t.html)},toDb:function(e,t){e||(e={html:"",entities:[]});var n="href=[\"']urn:entity:(\\S+)[\"']",r=new RegExp(n,"gim"),i=e.html.match(r);return i&&(e.entities=i.map(function(e){return r=new RegExp(n,"gim"),{id:r.exec(e)[1]}})),e}})}]).factory("FieldRichTextSettingsFactory",l.default).directive("fieldRichText",a.default);t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(606),i=_interopRequireDefault(r),o=n(607),a=_interopRequireDefault(o);n(612);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-if="vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Toggle HTML" ng-click="vm.showHtml = !vm.showHtml" class="md-icon-button"><md-icon md-font-set="material-icons">code</md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex><textarea ace-rich-text options="vm.options" show-html="vm.showHtml" ng-model="vm.fieldModel.value.html" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}" class="md-input"></textarea></md-input-container></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(608),l=_interopRequireDefault(s),c=n(611),u=_interopRequireDefault(c),d=function FieldRichTextController(e,t,n,r,o,s,c){function appendBookmarkPreviewEntity(e,t){t.thumbnail&&e.append('\n          <img src="'+c.getThumbnailUrl(t.thumbnail,"h:200;q:60")+'">\n        '),e.append('\n        <div class="md-body-1">'+t.title+"</div>\n      ")}(0,i.default)(this,FieldRichTextController);var d=this,h={name:"insertEntity",buttonTitle:"Insert Entity",buttonHtml:'<i class="mdi mdi-bookmark-outline"></i>',bookmarkHtml:function(e){return n(function(t,n){s.selectEntity(d.fieldOptions.settings.schemas[0]).then(function(n){t('<a href="urn:entity:'+n[0]._id+'">'+e+"</a>")},n)})}},p={name:"createEntity",buttonTitle:"Create Entity",buttonHtml:'<i class="mdi mdi-bookmark-plus-outline"></i>',bookmarkHtml:function(e){return n(function(t,n){s.newEntity(d.fieldOptions.settings.schemas[0]).then(function(n){t('<a href="urn:entity:'+n._id+'">'+e+"</a>")},n)})}},m=[{name:"bold",contentDefault:'<i class="mdi mdi-format-bold"></i>'},{name:"italic",contentDefault:'<i class="mdi mdi-format-italic"></i>'},{name:"underline",contentDefault:'<i class="mdi mdi-format-underline"></i>'},{name:"anchor",contentDefault:'<i class="mdi mdi-link-variant"></i>'},{name:"h2",contentDefault:'<i class="mdi mdi-format-header-1"></i>'},{name:"h3",contentDefault:'<i class="mdi mdi-format-header-2"></i>'},{name:"h4",contentDefault:'<i class="mdi mdi-format-header-3"></i>'},{name:"h5",contentDefault:'<i class="mdi mdi-format-header-4"></i>'},{name:"superscript",contentDefault:'<i class="mdi mdi-format-superscript"></i>'},{name:"subscript",contentDefault:'<i class="mdi mdi-format-subscript"></i>'},{name:"quote",contentDefault:'<i class="mdi mdi-format-quote-open"></i>'},{name:"unorderedlist",contentDefault:'<i class="mdi mdi-format-list-bulleted"></i>'},{name:"orderedlist",contentDefault:'<i class="mdi mdi-format-list-numbers"></i>'},{name:"removeFormat",contentDefault:'<i class="mdi mdi-format-clear"></i>'}];d.fieldOptions.settings&&d.fieldOptions.settings.schemas&&d.fieldOptions.settings.schemas.length&&(m.push("insertEntity"),m.push("createEntity"));var f={};d.options={autoLink:!0,imageDragging:!1,anchorPreview:!1,extensions:{imageDragging:{},insertEntity:new l.default(h),createEntity:new l.default(p),bookmarkPreview:new u.default({showPreviewCallback:function(e,t){var n=a.default.element(t.querySelector(".medium-editor-toolbar-anchor-preview-inner"));if(/href=["']urn:entity:(\S+)["']/.test(e.outerHTML)){n.empty();var r=/href=["']urn:entity:(\S+)["']/.exec(e.outerHTML)[1];if(f[r])return void appendBookmarkPreviewEntity(n,f[r]);s.getById({id:r}).then(function(e){f[r]=e[0],appendBookmarkPreviewEntity(n,f[r])})}}})},toolbar:{buttons:m},paste:{forcePlainText:!0,cleanPastedHTML:!0,cleanAttrs:["class","style"],cleanTags:["meta","div","span"]}};var g=t.find("md-input-container");e.$watch(function(){return d.showHtml},function(){d.fieldModel.value&&(d.fieldModel.value.html=r("cleanHTML")(d.fieldModel.value.html))}),e.$on("aceRichText:init",function(e,t){t.subscribe("editablePaste",function(){o(function(){d.fieldModel.value.html=r("cleanHTML")(d.fieldModel.value.html,!0)})}),t.subscribe("focus",function(){g.addClass("md-input-focused")}),t.subscribe("blur",function(){g.removeClass("md-input-focused")})})};d.$inject=["$scope","$element","$q","$filter","$timeout","EntityFactory","HelperFactory"],t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(247),i=_interopRequireDefault(r),o=n(2),a=_interopRequireDefault(o),s=n(248),l=_interopRequireDefault(s),c=n(249),u=_interopRequireDefault(c),d=n(67),h=_interopRequireDefault(d),p=h.default.Extension.extend({name:"bookmark",init:function(){this.options.name&&(this.name=this.options.name),this.button=this.document.createElement("button"),this.button.classList.add("medium-editor-action"),this.button.innerHTML=this.options.buttonHtml,this.button.title=this.options.buttonTitle,this.button.setAttribute("aria-label",this.options.buttonTitle),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},handleClick:function(e){var t=this,n=h.default.selection.getSelectionHtml(document),r=window.getSelection(),i=r.getRangeAt(0);this.base.trigger("blur",{},this.base.elements[0]),this.options.bookmarkHtml(n).then(function(e){t.insertHtml(e,r,i),t.base.checkContentChanged()})},insertHtml:function(e,t,n){n.deleteContents();var r=document.createElement("div");r.innerHTML=e;for(var i=document.createDocumentFragment(),o=void 0,a=void 0;o=r.firstChild;)a=i.appendChild(o);n.insertNode(i),a&&(n=n.cloneRange(),n.setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}),m=function(e){function MediumEditorExtension(e){(0,a.default)(this,MediumEditorExtension);var t=(0,l.default)(this,(MediumEditorExtension.__proto__||(0,i.default)(MediumEditorExtension)).call(this));return t.options=e,t}return(0,u.default)(MediumEditorExtension,e),MediumEditorExtension}(p);t.default=m},function(e,t,n){n(610),e.exports=n(6).Object.getPrototypeOf},function(e,t,n){var r=n(32),i=n(80);n(98)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),i=_interopRequireDefault(r),o=n(247),a=_interopRequireDefault(o),s=n(2),l=_interopRequireDefault(s),c=n(248),u=_interopRequireDefault(c),d=n(249),h=_interopRequireDefault(d),p=n(67),m=_interopRequireDefault(p),f=m.default.Extension.extend({name:"anchor-preview",options:{hideDelay:500,previewValueSelector:".medium-editor-toolbar-anchor-preview-inner",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!1,showPreviewCallback:function(e,t){},getPreviewTemplate:function(){return'\n        <div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">\n          <div class="medium-editor-toolbar-anchor-preview-inner"></div>\n        </div>\n      '}},init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.options.getPreviewTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){if(this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||e.getAttribute("data-disable-preview"))return!0;if(this.options.previewValueSelector){var t=this.anchorPreview.querySelector(this.options.previewValueSelector);t.innerHTML="";var n=this.document.createElement("a");n.textContent=e.attributes.href.value,n.href=e.attributes.href.value,t.appendChild(n)}return this.options.showPreviewCallback(e,this.anchorPreview),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this},positionPreview:function(e){e=e||this.activeAnchor;var t=this.window.innerWidth,n=this.anchorPreview.offsetHeight,r=e.getBoundingClientRect(),i=this.diffLeft,o=this.diffTop,a=this.getEditorOption("elementsContainer"),s=["absolute","fixed"].indexOf(window.getComputedStyle(a).getPropertyValue("position"))>-1,l={},c=void 0,u=void 0,d=this.anchorPreview.offsetWidth/2,h=this.base.getExtensionByName("toolbar");h&&(i=h.diffLeft,o=h.diffTop);var p=i-d;s?(c=a.getBoundingClientRect(),["top","left"].forEach(function(e){l[e]=r[e]-c[e]}),l.width=r.width,l.height=r.height,r=l,t=c.width,u=a.scrollTop):u=this.window.pageYOffset;var m=r.left+r.width/2;u+=n+r.top+r.height-o-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(u)+"px",this.anchorPreview.style.right="initial",m<d?(this.anchorPreview.style.left=p+d+"px",this.anchorPreview.style.right="initial"):t-m<d?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=p+m+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.options.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}})),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.activeAnchor&&this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(e){var t=this,n=m.default.util.getClosestTag(e.target,"a");if(!1!==n&&(this.options.showOnEmptyLinks||/href=["']\S+["']/.test(n.outerHTML)&&!/href=["']#\S+["']/.test(n.outerHTML))){var r=this.base.getExtensionByName("toolbar");!this.options.showWhenToolbarIsVisible&&r&&r.isDisplayed&&r.isDisplayed()||(this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){t.anchorToPreview&&t.showPreview(t.anchorToPreview)}))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(!this.hovering){(new Date).getTime()-this.lastOver>this.options.hideDelay&&this.detachPreviewHandlers()}},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}),g=function(e){function MediumEditorExtension(e){(0,l.default)(this,MediumEditorExtension);var t=(0,u.default)(this,(MediumEditorExtension.__proto__||(0,a.default)(MediumEditorExtension)).call(this));return(0,i.default)(t.options,e),t}return(0,h.default)(MediumEditorExtension,e),MediumEditorExtension}(f);t.default=g},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(614),u=_interopRequireDefault(c),d=function(e,t,n){"ngInject";var r=this,o={},s={schemas:[]},c=function(){var e=(0,a.default)(i.default.mark(function _callee(e,t){var o;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.editSchema(null,t);case 2:o=r.sent,o&&e.push(o.slug);case 4:case"end":return r.stop()}},_callee,r)}));return function(t,n){return e.apply(this,arguments)}}();return o.edit=function(){var n=(0,a.default)(i.default.mark(function _callee2(n,o){var a,d;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},s,n.settings),schemas:t.getConfig().schemas,transformChip:function(e){return e.slug},newSchema:c}},d=void 0,r.prev=2,r.next=5,e.show(a);case 5:d=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return r.abrupt("return",d);case 12:case"end":return r.stop()}},_callee2,r,[[2,8]])}));return function(e,t){return n.apply(this,arguments)}}(),o};d.$inject=["$mdDialog","ConfigFactory","SchemaFactory"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><div layout="row"><md-chips flex ng-model="vm.settings.schemas" md-transform-chip="vm.transformChip($chip)" md-require-match="true" md-autocomplete-snap><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="schema in vm.schemas" md-item-text="schema.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{schema.name}}</span></md-autocomplete><md-chip-template><span ace-sortable item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{ $chip | schemaName }}</span></md-chip-template></md-chips><md-button aria-label="New schema" ng-click="vm.newSchema(vm.settings.schemas, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(616),l=_interopRequireDefault(s),c=n(620),u=_interopRequireDefault(c),d=a.default.module("fieldSelect",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldSelectSettingsFactory",function(e,t){"ngInject";e.registerField("select",{name:"Select",editSettings:t.edit,toString:function(e){return e?i.default.isArray(e)?e.map(function(e){return e.title}).join(", "):i.default.isObject(e)?e.title||"":e||"":""},toDb:function(e,t){return e&&!i.default.isArray(e)?[e]:e},fromDb:function(e,t){return!t.multiple&&e&&e[0]?e[0]:e}})}]).factory("FieldSelectSettingsFactory",u.default).directive("fieldSelect",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(617),i=_interopRequireDefault(r),o=n(618),a=_interopRequireDefault(o);n(619);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-if="::!vm.fieldOptions.settings.multiple" ng-show="vm.searchText" ng-click="vm.searchText = vm.fieldModel.value = null" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex layout="row"><div flex ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex md-no-cache="true" md-selected-item="vm.fieldModel.value" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel.value" md-autocomplete-snap md-require-match="true"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.title}}</span></md-autocomplete><md-chip-template><span ace-sortable item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{$chip.title}}</span></md-chip-template></md-chips></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=function FieldSelectController(e){(0,i.default)(this,FieldSelectController);var t=this;t.fieldModel.value||(t.fieldModel.value=[]),t.search=function(n){return e(function(e,n){e((t.fieldOptions.settings.options||[]).map(function(e){return{slug:a.default.kebabCase(e),title:e,type:"option"}}))})},t.transformChip=function(e){return a.default.isObject(e)?e:{title:e,type:"new"}}};s.$inject=["$q"],t.default=s},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(621),u=_interopRequireDefault(c),d=function(e){"ngInject";var t=this,n={},r={options:[],multiple:!1};return n.edit=function(){var n=(0,a.default)(i.default.mark(function _callee(n,o){var a,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},r,n.settings)}},s=void 0,t.prev=2,t.next=5,e.show(a);case 5:s=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.abrupt("return",s);case 12:case"end":return t.stop()}},_callee,t,[[2,8]])}));return function(e,t){return n.apply(this,arguments)}}(),n};d.$inject=["$mdDialog"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-chips ng-model="vm.settings.options" placeholder="Options" secondary-placeholder="+Option"><md-chip-template><span ace-sortable item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'">{{$chip}}</span></md-chip-template></md-chips><br><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(623),l=_interopRequireDefault(s),c=n(627),u=_interopRequireDefault(c),d=a.default.module("fieldTaxonomy",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldTaxonomySettingsFactory",function(e,t){"ngInject";e.registerField("taxonomy",{name:"Taxonomy",editSettings:t.edit,toString:function(e){return e.terms?i.default.isArray(e.terms)?e.terms.map(function(e){return e.title}).join(", "):i.default.isObject(e.terms)?e.terms.title:e||"":""},toDb:function(e,t){var n=e.terms||[];return i.default.isArray(n)||(n=[n]),{taxonomy:t.taxonomy,terms:n}},fromDb:function(e,t){return!t.multiple&&e&&e.terms&&e.terms[0]&&(e.terms=e.terms[0]),e}})}]).factory("FieldTaxonomySettingsFactory",u.default).directive("fieldTaxonomy",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(624),i=_interopRequireDefault(r),o=n(625),a=_interopRequireDefault(o);n(626);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-if="::!vm.fieldOptions.settings.multiple" ng-show="vm.searchText" ng-click="vm.clear()" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex layout="row"><div flex ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex md-no-cache="true" md-selected-item="vm.fieldModel.value.terms" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel.value.terms" md-autocomplete-snap md-transform-chip="vm.transformChip($chip)" md-require-match="vm.fieldOptions.settings.existingOnly"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><div md-highlight-text="vm.searchText" class="md-caption">{{vm.getParents(item)}}</div><div md-highlight-text="vm.searchText" class="md-body-1">{{item.title}}</div></md-autocomplete><md-chip-template><div ace-sortable item="$chip" collection="$mdChipsCtrl.items" draggable-selector="\'md-chip\'"><div class="md-caption">{{vm.getParents($chip)}}</div><div class="md-body-1">{{$chip.title}}</div></div></md-chip-template></md-chips></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=function FieldTaxonomyController(e,t,n){(0,i.default)(this,FieldTaxonomyController);var r=this;r.fieldModel.value||(r.fieldModel.value={}),r.fieldModel.value.taxonomy=r.fieldOptions.settings.taxonomy,r.fieldModel.value.terms||(r.fieldModel.value.terms=[]);var o=[],s=t.getTaxonomy(r.fieldOptions.settings.taxonomy),l=function buildTaxonomy(e,t,n){if(e.terms&&e.terms.length){var r=t.slice(0);return r.push({id:e.id,title:e.title,slug:e.slug}),e.terms.forEach(function(e){n.push(buildTaxonomy(e,r,n))}),{id:e.id,title:e.title,slug:e.slug,parents:t,hasChildren:!0}}return{id:e.id,title:e.title,slug:e.slug,parents:t}};s&&((s.terms||[]).forEach(function(e){o.push(l(e,[],o))}),o=o.filter(function(e){return!e.hasChildren})),r.clear=function(){r.fieldModel.value.terms=[]},r.search=function(t){return e(function(e,n){var i=a.default.isArray(r.fieldModel.value.terms)?r.fieldModel.value.terms.map(function(e){return e.id}):[];e(o.filter(function(e){if(i.indexOf(e.id)>-1)return!1;var n=e.parents.map(function(e){return e.title});n.unshift(e.title);var r=n.join(" ");return new RegExp(t,"gi").test(r)}))})},r.getParents=function(e){return e.parents?e.parents.map(function(e){return e.title}).join(" / "):""},r.transformChip=function(e){if(a.default.isObject(e))return e;var t=n.getNewTerm();return t.title=e,t.slug=a.default.kebabCase(e),n.createTerm(r.fieldOptions.settings.taxonomy,t),o.push(t),t}};s.$inject=["$q","ConfigFactory","TaxonomyFactory"],t.default=s},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(628),u=_interopRequireDefault(c),d=function(e,t){"ngInject";var n=this,r={},o={multiple:!1,existingOnly:!1};return r.edit=function(){var r=(0,a.default)(i.default.mark(function _callee(r,a){var s,c;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:a,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},o,r.settings),taxonomies:t.getConfig().taxonomies}},c=void 0,n.prev=2,n.next=5,e.show(s);case 5:c=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:return n.abrupt("return",c);case 12:case"end":return n.stop()}},_callee,n,[[2,8]])}));return function(e,t){return r.apply(this,arguments)}}(),r};d.$inject=["$mdDialog","ConfigFactory"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Taxonomy</label><md-select ng-model="vm.settings.taxonomy" placeholder="Taxonomy"><md-option ng-repeat="taxonomy in vm.taxonomies" ng-value="taxonomy.slug">{{taxonomy.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.settings.existingOnly" aria-label="Existing terms only?">Existing terms only</md-checkbox></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(630),a=_interopRequireDefault(o),s=n(634),l=_interopRequireDefault(s),c=i.default.module("fieldText",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldTextSettingsFactory",function(e,t){"ngInject";e.registerField("text",{name:"Text",editSettings:t.edit})}]).factory("FieldTextSettingsFactory",l.default).directive("fieldText",a.default);t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(631),i=_interopRequireDefault(r),o=n(632),a=_interopRequireDefault(o);n(633);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex><input ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldTextController(){(0,i.default)(this,FieldTextController)};t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(635),u=_interopRequireDefault(c),d=function(e){"ngInject";var t=this,n={},r={format:"default"},o=[{name:"Default",value:"default"},{name:"URL",value:"url"},{name:"Email",value:"email"}];return n.edit=function(){var n=(0,a.default)(i.default.mark(function _callee(n,a){var s,c;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:a,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},r,n.settings),formats:o}},c=void 0,t.prev=2,t.next=5,e.show(s);case 5:c=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.abrupt("return",c);case 12:case"end":return t.stop()}},_callee,t,[[2,8]])}));return function(e,t){return n.apply(this,arguments)}}(),n};d.$inject=["$mdDialog"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.settings.format" placeholder="Format"><md-option ng-repeat="format in vm.formats" ng-value="format.value">{{format.name}}</md-option></md-select></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(637),a=_interopRequireDefault(o),s=i.default.module("fieldTextArea",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("textArea",{name:"Text Area"})}]).directive("fieldTextArea",a.default);t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(638),i=_interopRequireDefault(r),o=n(639),a=_interopRequireDefault(o);n(640);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex><textarea ng-model="vm.fieldModel.value" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></textarea></md-input-container></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldTextAreaController(){(0,i.default)(this,FieldTextAreaController)};t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(642),a=_interopRequireDefault(o),s=n(646),l=_interopRequireDefault(s),c=i.default.module("fieldVideo",[]).config(function(){"ngInject"}).run(["FieldFactory","FieldVideoSettingsFactory",function(e,t){"ngInject";e.registerField("video",{name:"Video",editSettings:t.edit,thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e.original?e.original.fileName:""},thumbnail:function(e){var t=void 0,n=void 0,r=void 0;try{t=e.metadata.zencoder.thumbnail.url,n=e.metadata.zencoder.thumbnail.width,r=e.metadata.zencoder.thumbnail.height}catch(e){}return{thumbnailType:"video",thumbnailUrl:t,width:n,height:r}}})}]).factory("FieldVideoSettingsFactory",l.default).directive("fieldVideo",a.default);t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(643),i=_interopRequireDefault(r),o=n(644),a=_interopRequireDefault(o);n(645);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<span ace-flow options="vm.flowOptions"><md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Upload" ace-flow-browse class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.value" class="md-icon-button"><md-icon md-font-set="material-icons">file_download</md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex ng-show="vm.uploading"><div ng-show="vm.uploading">Uploading {{ vm.progress || 0 }}%</div></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><div ng-hide="vm.fieldModel.value.metadata.zencoder.thumbnail.url">Encoding. Please wait or save and come back later.</div><img ng-if="vm.fieldModel.value.metadata.zencoder.thumbnail.url" ng-src="{{vm.fieldModel.value.metadata.zencoder.thumbnail.url}}"></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel.value"><table><tr><td>Type</td><td>{{vm.fieldModel.value.original.mimeType}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.value.original.fileName}}">{{vm.fieldModel.value.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.value.original.fileSize | fileSize}}</td></tr></table></div></div></span>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=_interopRequireDefault(r),o=n(2),a=_interopRequireDefault(o),s=function FieldVideoController(e,t,n,r,o,s,l){function checkZencoderJob(){r.get(l.apiUrl+"/zencode/job",{params:{id:c.fieldModel.value.metadata.zencoder.job.id}}).then(function(e){var t=e.data;if(/pending|waiting|processing/.test(t.jobState))return void o(checkZencoderJob,1e4);c.fieldModel.value.metadata.zencoder=t})}(0,a.default)(this,FieldVideoController);var c=this;c.flowOptions={target:l.apiUrl+"/upload",headers:{"X-Api-Token":e.apiToken},query:{options:(0,i.default)(c.fieldOptions)},singleFile:!0,events:{fileAdded:function(e,t){var n="gif,mp4,avi,mov,webm,mkv,flv,ogg,ogv,qt,wmv,mpg,m4v",r=n.indexOf(t.getExtension())>-1;return r||s.show(s.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=r,r},fileSuccess:function(e,t,n){var r=JSON.parse(n);c.fieldModel.value=r,checkZencoderJob()},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){c.uploading=!0},complete:function(){c.uploading=!1},progress:function(e){c.progress=Math.round(100*e.progress())},error:function(e,t){s.show(s.alert().title("Upload Error").textContent(t.message||t).ok("Close"))}}},c.download=function(){n.open(l.apiUrl+"/file/download/s3?bucket="+c.fieldModel.value.metadata.s3.bucket+"&key="+c.fieldModel.value.metadata.s3.src+"&filename="+c.fieldModel.value.original.fileName)}};s.$inject=["$rootScope","$scope","$window","$http","$timeout","$mdDialog","appConfig"],t.default=s},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(647),u=_interopRequireDefault(c),d=n(648),h=_interopRequireDefault(d),p=n(649),m=_interopRequireDefault(p),f=function(e,t,n){"ngInject";var r=this,o={},s={videoOutputs:[]},c={name:"",slug:"",format:"mp4",quality:3,thumbnails:[]},d={name:"",slug:"",format:"jpg"},p=[{value:"mp4",name:"mp4"},{value:"webm",name:"webm"}],f=[{value:1,name:"Mediocre"},{value:2,name:"Acceptable"},{value:3,name:"Good"},{value:4,name:"Great"},{value:5,name:"Lossless"}],g=[{value:"jpg",name:"jpg"},{value:"png",name:"png"}],v=function(e){e.slug=l.default.camelCase(e.name)},y=function(){var o=(0,a.default)(i.default.mark(function _callee(o,a,s){var c,u;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=!o,u={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:m.default,targetEvent:s,clickOutsideToClose:!0,multiple:!0,locals:{thumbnail:l.default.merge({},d,o),createNew:c,slugify:v,thumbnailFormatOptions:g}},r.prev=2,r.next=5,t.show(u);case 5:o=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return c?a.push(o):n.replace(a,o,"slug"),e.$apply(),r.abrupt("return",o);case 14:case"end":return r.stop()}},_callee,r,[[2,8]])}));return function(e,t,n){return o.apply(this,arguments)}}(),_=function(){var n=(0,a.default)(i.default.mark(function _callee2(n,o,a){var s;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.confirm({title:"Delete thumbnail?",textContent:"Are you sure you want to delete "+n.name+"?",targetEvent:a,ok:"Confirm",cancel:"Cancel",multiple:!0}),r.prev=1,r.next=4,t.show(s);case 4:r.next=9;break;case 6:return r.prev=6,r.t0=r.catch(1),r.abrupt("return",!1);case 9:return l.default.remove(o,{slug:n.slug}),e.$apply(),r.abrupt("return",!0);case 12:case"end":return r.stop()}},_callee2,r,[[1,6]])}));return function(e,t,r){return n.apply(this,arguments)}}(),b=function(){var o=(0,a.default)(i.default.mark(function _callee3(o,a,s){var u,d;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=!o,d={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:h.default,targetEvent:s,clickOutsideToClose:!0,multiple:!0,locals:{output:l.default.merge({},c,o),createNew:u,slugify:v,formatOptions:p,qualityOptions:f,editThumbnail:y,deleteThumbnail:_}},r.prev=2,r.next=5,t.show(d);case 5:o=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return u?a.push(o):n.replace(a,o,"slug"),e.$apply(),r.abrupt("return",o);case 14:case"end":return r.stop()}},_callee3,r,[[2,8]])}));return function(e,t,n){return o.apply(this,arguments)}}(),w=function(){var n=(0,a.default)(i.default.mark(function _callee4(n,o,a){var s;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.confirm({title:"Delete output?",textContent:"Are you sure you want to delete "+n.name+"?",targetEvent:a,ok:"Confirm",cancel:"Cancel",multiple:!0}),r.prev=1,r.next=4,t.show(s);case 4:r.next=9;break;case 6:return r.prev=6,r.t0=r.catch(1),r.abrupt("return",!1);case 9:return l.default.remove(o,{slug:n.slug}),e.$apply(),r.abrupt("return",!0);case 12:case"end":return r.stop()}},_callee4,r,[[1,6]])}));return function(e,t,r){return n.apply(this,arguments)}}();return o.edit=function(){var e=(0,a.default)(i.default.mark(function _callee5(e,n){var o,a;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:n,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},s,e.settings),editOutput:b,deleteOutput:w}},a=void 0,r.prev=2,r.next=5,t.show(o);case 5:a=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",!1);case 11:return r.abrupt("return",a);case 12:case"end":return r.stop()}},_callee5,r,[[2,8]])}));return function(t,n){return e.apply(this,arguments)}}(),o};f.$inject=["$rootScope","$mdDialog","HelperFactory"],t.default=f},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Video Outputs<span flex></span><md-button ng-click="vm.editOutput(null, vm.settings.videoOutputs, $event)">Add Output</md-button></div></md-toolbar><md-table-container ng-show="vm.settings.videoOutputs.length"><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Format</th><th md-column>Resolution</th><th md-column>Quality</th></tr></thead><tbody md-body><tr md-row ng-repeat="output in vm.settings.videoOutputs"><td md-cell>{{output.name}}</td><td md-cell>{{output.slug}}</td><td md-cell>{{output.format}}</td><td md-cell>{{output.maxWidth}}×{{output.maxHeight}}</td><td md-cell>{{output.quality}}</td><td md-cell><md-button ng-click="vm.editOutput(output, vm.settings.videoOutputs, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.deleteOutput(output, vm.settings.videoOutputs, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Output Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Output Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Name</label><input ng-model="vm.output.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_src|&quot;)).*$/i" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.output)"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.output.slug" required disabled ng-pattern="/^(?!.*?(_src|&quot;)).*$/i"></md-input-container><br><md-input-container><label>Maximum Width</label><input type="number" ng-model="vm.output.maxWidth" min="0"></md-input-container><md-input-container><label>Maximum Height</label><input type="number" ng-model="vm.output.maxHeight" min="0"></md-input-container><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.output.format"><md-option ng-repeat="option in vm.formatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><label>Quality</label><md-select ng-model="vm.output.quality"><md-option ng-repeat="option in vm.qualityOptions" value="{{option.value}}">{{option.value}}: {{option.name}}</md-option></md-select></md-input-container><md-toolbar class="md-table-toolbar md-secondary"><div class="md-toolbar-tools">Thumbnails<span flex></span><md-button ng-click="vm.editThumbnail(null, vm.output.thumbnails, $event)">Add Thumbnail</md-button></div></md-toolbar><md-table-container ng-show="vm.output.thumbnails.length"><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Format</th><th md-column>Number</th></tr></thead><tbody md-body><tr md-row ng-repeat="thumbnail in vm.output.thumbnails"><td md-cell>{{thumbnail.name}}</td><td md-cell>{{thumbnail.slug}}</td><td md-cell>{{thumbnail.format}}</td><td md-cell>{{thumbnail.number}}</td><td md-cell><md-button ng-click="vm.editThumbnail(thumbnail, vm.output.thumbnails, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.deleteThumbnail(thumbnail, vm.output.thumbnails, $event)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.output)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t){e.exports='<md-dialog aria-label="Thumbnail Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Thumbnail Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container><label>Name</label><input ng-model="vm.thumbnail.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_thumb|&quot;)).*$/i" ng-change="vm.createNew &amp;&amp; vm.slugify(vm.thumbnail)"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.thumbnail.slug" required disabled ng-pattern="/^(?!.*?(_thumb|&quot;)).*$/i"></md-input-container><md-input-container class="md-block"><label>Format</label><md-select ng-model="vm.thumbnail.format"><md-option ng-repeat="option in vm.thumbnailFormatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container><label>Number</label><input type="number" ng-model="vm.thumbnail.number" min="1"></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.thumbnail)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(651),a=_interopRequireDefault(o),s=i.default.module("fieldVimeo",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("vimeo",{name:"Vimeo",thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return e&&e.url?e.url:""},thumbnail:function(e){return e&&e.video?{thumbnailType:"video",thumbnailUrl:e.video.thumbnail.url,width:e.video.thumbnail.width,height:e.video.thumbnail.height}:null}})}]).directive("fieldVimeo",a.default);t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(652),i=_interopRequireDefault(r),o=n(653),a=_interopRequireDefault(o);n(654);var s=function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?",fieldDisabled:"=?"},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-subheader class="md-no-sticky"><md-toolbar class="md-menu-toolbar md-secondary"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Delete" ng-show="vm.fieldModel.value.video" ng-click="vm.fieldModel.value = null" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button></div></md-toolbar></md-subheader><div ng-show="!vm.fieldModel.value.video" flex layout="row" layout-margin><md-input-container flex md-no-float><input ng-model="vm.fieldModel.value.url" ng-paste="vm.submitUrl()" ng-keypress="($event.charCode === 13) ? vm.submitUrl() : return" placeholder="Source URL" ng-pattern="vm.embedlyRegex" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined"></md-input-container><md-button aria-label="Submit" ng-click="vm.submitUrl()" class="md-icon-button"><md-icon md-font-set="material-icons">get_app</md-icon></md-button></div><div ng-show="vm.fieldModel.value.video" flex layout="row" layout-margin><div flex><img ng-src="{{ vm.fieldModel.value.video.thumbnail.url }}"></div><div flex><table><tr><td>Provider</td><td>{{vm.fieldModel.value.video.provider}}</td></tr><tr><td>URL</td><td><span>{{vm.fieldModel.value.url}}</span></td></tr><tr><td>Title</td><td>{{vm.fieldModel.value.video.title}}</td></tr><tr><td>Author</td><td>{{vm.fieldModel.value.video.user.name}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.value.video.width}}&times;{{vm.fieldModel.value.video.height}}</td></tr></table></div></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function FieldVimeoController(e,t,n,r,o){(0,i.default)(this,FieldVimeoController);var a=this,s=void 0;try{s=o.getConfig().provider.vimeo.access_token}catch(e){}if(!s)return n.error("Required access_token for '"+a.fieldOptions.name+"' field is missing"),void(a.fieldDisabled=!0);a.embedlyRegex=/((http:\/\/(www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|player\.vimeo\.com\/.*))|(https:\/\/(www\.vimeo\.com\/.*|vimeo\.com\/.*|player\.vimeo\.com\/.*)))/i;var l=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/;a.submitUrl=function(){e(function(){if(a.fieldModel.value&&a.fieldModel.value.url){var e=a.fieldModel.value.url.match(l)[3];t.get("https://api.vimeo.com/me/videos/"+e,{params:{access_token:s},headers:{Accept:"application/vnd.vimeo.*+json;version=3.2","X-Api-Token":void 0}}).then(function(t){var n=t.data;if(!/pro/i.test(n.user.account))return void r.show(r.alert().title("Error").textContent("Please upgrade to Vimeo Pro").ok("Close"));if(!n.pictures)return void r.show(r.alert().title("Error").textContent("Thumbnail not found").ok("Close"));var i=n.pictures.sizes[n.pictures.sizes.length-1],o=new URL(i.link);if(!n.files)return void r.show(r.alert().title("Error").textContent("Files not found").ok("Close"));var s=n.files.map(function(e){return{width:e.width?e.width:null,height:e.height?e.height:null,fileSize:e.size,mimeType:e.type,url:e.link_secure}}).sort(function(e,t){return e.width?e.width*e.height>t.width*t.height?-1:e.width*e.height<t.width*t.height?1:0:1});a.fieldModel.value.video={provider:"Vimeo",id:e,title:n.name,description:n.description,tags:n.tags,user:{id:n.user.uri.replace("/users/",""),name:n.user.name},duration:n.duration,width:n.width,height:n.height,thumbnail:{url:o.protocol+"//"+o.host+o.pathname,width:i.width,height:i.height},files:s}},function(e){r.show(r.alert().title("Error").textContent(e.data.error||"Please try again").ok("Close"))})}})}};o.$inject=["$timeout","$http","$log","$mdDialog","ConfigFactory"],t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(656),a=_interopRequireDefault(o),s=n(659),l=_interopRequireDefault(s),c=n(661),u=_interopRequireDefault(c),d=i.default.module("action",[u.default.name]).config(function(){"ngInject"}).factory("ActionFactory",l.default).directive("action",a.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(657),i=function(e){return e&&e.__esModule?e:{default:e}}(r);n(658);var o=function(){"ngInject";return{restrict:"E",scope:{},controller:i.default,controllerAs:"vm",bindToController:!0}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function ActionController(){(0,i.default)(this,ActionController)};t.default=o},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(660),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){"ngInject";var t={},n={registerAction:function(e,n){t[e]=new i.default(n)},action:function(e){return t[e]},actions:function(){return t}};return e.$action=n,n};o.$inject=["$rootScope"],t.default=o},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),i=_interopRequireDefault(r),o=n(2),a=_interopRequireDefault(o),s=function Action(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,Action),this.name="Action Name",(0,i.default)(this,e)};t.default=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(662),a=_interopRequireDefault(o),s=n(666),l=_interopRequireDefault(s),c=i.default.module("actionUrl",[]).config(function(){"ngInject"}).run(["ActionFactory","ActionUrlSettingsFactory",function(e,t){"ngInject";e.registerAction("url",{name:"URL",editSettings:t.edit})}]).factory("ActionUrlSettingsFactory",l.default).directive("actionUrl",a.default);t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(663),i=_interopRequireDefault(r),o=n(664),a=_interopRequireDefault(o);n(665);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports=""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function ActionUrlController(){(0,i.default)(this,ActionUrlController)};t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=_interopRequireDefault(r),o=n(5),a=_interopRequireDefault(o),s=n(3),l=_interopRequireDefault(s),c=n(667),u=_interopRequireDefault(c),d=function(e){"ngInject";var t=this,n={},r={url:""};return n.edit=function(){var n=(0,a.default)(i.default.mark(function _callee(n,o){var a,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={controller:"DefaultModalController",bindToController:!0,controllerAs:"vm",template:u.default,targetEvent:o,clickOutsideToClose:!0,multiple:!0,locals:{settings:l.default.merge({},r,n.settings)}},s=void 0,t.prev=2,t.next=5,e.show(a);case 5:s=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",!1);case 11:return t.abrupt("return",s);case 12:case"end":return t.stop()}},_callee,t,[[2,8]])}));return function(e,t){return n.apply(this,arguments)}}(),n};d.$inject=["$mdDialog"],t.default=d},function(e,t){e.exports='<md-dialog aria-label="Field Settings"><form name="vm.form" role="form" novalidate ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Field Settings</h2><span flex></span><md-button ng-click="vm.cancel()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar><md-dialog-content><div class="md-dialog-content"><md-input-container class="md-block"><label>URL</label><input placeholder="URL (handlebars)" ng-model="vm.settings.url"></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="vm.cancel()">Close</md-button><md-button ng-click="vm.ok(vm.settings)" ng-disabled="vm.form.$invalid" class="md-accent">Save</md-button></md-dialog-actions></form></md-dialog>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(669),l=_interopRequireDefault(s),c=n(673),u=_interopRequireDefault(c),d=i.default.module("batchUpload",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("batchUpload",{url:"/batch-upload/{schemaSlug:[a-zA-Z0-9_-]{2,50}}/{fieldSlug:[a-zA-Z0-9_-]{2,50}}",views:{content:{template:"<batch-upload></batch-upload>"}},onEnter:["$state","BatchUploadFactory",function(e,t){}],data:{permissions:"entityCreate"}})}]).factory("BatchUploadFactory",u.default).directive("batchUpload",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(670),i=_interopRequireDefault(r),o=n(671),a=_interopRequireDefault(o);n(672);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Batch Upload</h2><span flex></span><md-button ng-click="vm.cancel()" ng-disabled="vm.uploadComplete || !vm.isUploading">Cancel</md-button></div></md-toolbar><md-content><md-table-container><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Size</th><th md-column>Type</th><th md-column>Progress</th><th md-column>Status</th></tr></thead><tbody md-body><tr md-row ng-repeat="file in vm.files"><td md-cell>{{file.name}}</td><td md-cell>{{file.size | fileSize}}</td><td md-cell>{{file.file.type}}</td><td md-cell>{{file.progress() * 100 | toFixed: 0}}%</td><td md-cell>{{file._status}}</td></tr></tbody></table></md-table-container></md-content>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function BatchUploadController(e,t,n){(0,i.default)(this,BatchUploadController);var r=this;r.uploadComplete=!1,r.isUploading=n.isUploading(),r.files=n.uploader()?n.uploader().files:[],n.onComplete(function(e,n,r){var i=!0;e.files.forEach(function(e){"complete"!==e._status&&(i=!1)}),i&&t.go("entityGrid",{schemaSlug:r.schema})}),r.cancel=function(){n.cancel()}};o.$inject=["$scope","$state","BatchUploadFactory"],t.default=o},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=_interopRequireDefault(r),o=n(1),a=_interopRequireDefault(o),s=n(229),l=_interopRequireDefault(s),c=n(234),u=_interopRequireDefault(c),d=function(e,t,n,r,o,s){"ngInject";var c={},d={image:"jpg,jpeg,png,svg"},h=!1,p=void 0,m=function(){},f=function(){},g=function(){};return c.onStart=function(e){return m=e},c.onProgress=function(e){return f=e},c.onComplete=function(e){return g=e},c.init=function(t,n,v,y){c.cancel(),h=!0;var _={slug:e.assetSlug},b=y.settings||{};"image"===y.type&&(_.resize={maxWidth:0===b.maxWidth?1/0:b.maxWidth||3e3,maxHeight:0===b.maxHeight?1/0:b.maxHeight||2e3,quality:95},b.dzi&&(_.dzi={size:256,overlap:0})),p=new l.default({target:e.assistUrl+"/"+e.assetSlug+"/file/upload",query:{options:(0,i.default)(_)},headers:{Authorization:"Basic "+e.assistCredentials},initFileFn:function(e){var t=e.file.name;if(!e._prepared){e.pause();new u.default({maxWidth:_.resize.maxWidth,maxHeight:_.resize.maxHeight,quality:_.resize.quality}).loadImage(e.file).then(function(n){function upload(){e._status="uploading",e.resume()}function cancel(){e._status="canceled"}return e._prepared=!0,e.file=n.blob,e.file.name=t,e.size=e.file.size,e.bootstrap(),n.profile?n.profile&&"RGB"!==n.profile.colorSpace?void r.show(r.confirm().multiple(!0).title("Upload Warning").textContent(t+" is in "+n.profile.colorSpace+" colour space, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel):n.profile&&"RGB"===n.profile.colorSpace&&!/sRGB/i.test(n.profile.description)?void r.show(r.confirm().multiple(!0).title("Upload Warning").textContent(t+" has "+n.profile.description+" profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel):void upload():void r.show(r.confirm().multiple(!0).title("Upload Warning").textContent(t+" has no colour profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel)})}}}),p.on("fileAdded",function(e){var t=d[y.type].indexOf(e.getExtension())>-1;return t||r.show(r.alert().title("Upload Error").textContent(e.name+" is not a valid file type.").ok("Close")),e.valid=t,t}),p.on("fileSuccess",function(e,n){var r=JSON.parse(n);o.createFile(r).then(function(n){var r=a.default.copy(t);r.fields[y.slug]||(r.fields[y.slug]={}),r.fields[y.slug].value=n,s.createEntity(v.slug,r).then(function(){e._status="complete",g(p,e,r)})})}),p.on("uploadStart",function(){m(p)}),p.on("complete",function(){}),p.on("progress",function(){f(p)}),p.on("error",function(e,t){t._status="error",r.show(r.alert().title("Upload Error").textContent(e).ok("Close"))}),n.forEach(function(e){p.addFile(e)})},c.cancel=function(){p&&(p.cancel(),p=null),h=!1},c.uploader=function(){return p},c.isUploading=function(){return h},c};d.$inject=["$rootScope","$document","$timeout","$mdDialog","FileFactory","EntityFactory"],t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(675),l=_interopRequireDefault(s),c=n(679),u=_interopRequireDefault(c),d=i.default.module("file",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("file",{url:"/file",views:{content:{template:"<file></file>"}},data:{permissions:"fileRead"}})}]).factory("FileFactory",u.default).directive("file",l.default);t.default=d},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(676),i=_interopRequireDefault(r),o=n(677),a=_interopRequireDefault(o);n(678);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3><span hide show-gt-xs ng-show="vm.selected.length &gt; 0">{{vm.selected.length}}/</span><span>{{vm.totalItems}} &nbsp;</span><span>Files</span></h3><span flex></span><md-radio-group hide show-gt-xs ng-show="$root.$isSuperUser" ng-model="vm.status" ng-change="vm.changeStatus()"><md-radio-button value="active" aria-label="Active" class="md-hue-1"><div class="md-subhead">Active</div></md-radio-button><md-radio-button value="trashed" aria-label="Trashed" class="md-hue-1 md-warn"><div class="md-subhead">Trashed</div></md-radio-button></md-radio-group><span flex="5"></span><md-button ng-show="$root.$isSuperUser" ng-disabled="vm.status !== \'trashed\'" ng-click="vm.emptyTrash()" class="md-icon-button"><md-icon md-font-set="material-icons">delete_sweep</md-icon></md-button><md-button hide show-gt-xs ng-click="vm.selectAll()" aria-label="Select all" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select"></md-icon></md-button><md-button hide show-gt-xs ng-click="vm.selectNone()" aria-label="Select none" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select-off"></md-icon></md-button><span ng-show="vm.status === \'active\'"><md-button ng-click="vm.viewSelected(vm.selected[0])" ng-disabled="vm.selected.length !== 1 || vm.selected[0].trashed === \'true\'" class="md-icon-button"><md-icon md-font-set="material-icons">launch</md-icon></md-button></span><span ng-show="vm.status === \'trashed\'"><md-button ng-click="vm.deleteSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1 || !vm.isTrashed(vm.selected)" class="md-icon-button"><md-icon md-font-set="material-icons">delete_forever</md-icon></md-button></span><md-button ng-click="vm.downloadSelected(vm.selected[0])" ng-disabled="vm.selected.length !== 1" class="md-fab md-mini"><md-icon md-font-set="material-icons">file_download</md-icon></md-button></div></md-toolbar><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ng-class="{disabled: vm.searching}"></div></div></div></div>'},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=_interopRequireDefault(r),o=n(1),a=(_interopRequireDefault(o),function FileController(e,t,n,r,o,a,s,l,c,u,d,h){function sort(e){p.sortColumns=e,getResults(!0)}function getResults(e){if(p.searching)return!1;var t=o.defer();e&&(p.page=0,m={}),p.selectNone();var n={q:[],sort:[],page:p.page,bookmark:m[p.page-1]||null,trashed:"trash"===p.mode};return"all"!==p.status&&n.q.push("trashed:"+("trashed"===p.status?"true":"false")),n.q=n.q.join(" AND "),p.sortColumns.forEach(function(e){var t=e.sort.direction===d.ASC?"-":"",r="",i=e.name;/^(uploadedAt|fileSize)$/.test(i)?r="<number>":/^(originalFileName|mimeType|uploadedBy)$/.test(i)&&(r="<string>"),n.sort.push(t+"sort."+i+r)}),p.searching=!0,u.search(n).then(function(r){m[n.page]=r.bookmark,p.totalItems=r.total,p.items=e?r.results:p.items.concat(r.results),p.grid.data=p.items,t.resolve()}).finally(function(){p.searching=!1}),t.promise}(0,i.default)(this,FileController);var p=this;p.status="active",p.items=[],p.selected=[],p.totalItems=0,p.searchTerm="",p.page=0,p.filters=[],p.sortColumns=[{name:"uploadedAt",sort:{direction:d.ASC}}],p.columnDefs=[],p.sortFields=[],p.searching=!1;var m={};p.columnDefs.push({name:"original.fileName",displayName:"Name"}),p.columnDefs.push({name:"fileSize",displayName:"Size",cellFilter:"fileSize"}),p.columnDefs.push({name:"mediaType",displayName:"Type"}),p.columnDefs.push({name:"uploadedBy",displayName:"Uploaded By"}),p.columnDefs.push({name:"uploadedAt",displayName:"Uploaded",cellFilter:"date: 'HH:mm dd/MM/yyyy'"}),p.grid={data:p.items,rowHeight:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:p.columnDefs,infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:d.scrollbars.NEVER,appScopeProvider:p,onRegisterApi:function(e){p.gridApi=e,e.core.on.sortChanged(t,function(e,t){sort(t)});var n=0,r=void 0;e.selection.on.rowSelectionChanged(t,function(t,i){i.timeStamp-n<300&&t===r&&p.downloadSelected(t.entity),n=i.timeStamp,r=t,p.selected=e.selection.getSelectedRows()}),e.selection.on.rowSelectionChangedBatch(t,function(t,n){p.selected=e.selection.getSelectedRows()}),e.infiniteScroll.on.needLoadMoreData(t,function(){p.items.length<p.totalItems&&(p.page++,getResults().then(function(){e.infiniteScroll.dataLoaded()}))})}},p.viewSelected=function(e){n.go("entity",{id:e.entity.id})},p.downloadSelected=function(t){"s3"===t.location&&r.open(h.apiUrl+"/file/download/s3?bucket="+t.metadata.s3.bucket+"&key="+t.metadata.s3.src+"&filename="+t.original.fileName),"assist"===t.location&&r.open(e.assistUrl+"/"+e.assetSlug+"/file/download/"+t.fileName+"/"+t.original.fileName)},p.isTrashed=function(e){return 0===e.filter(function(e){return"false"===e.trashed}).length},p.deleteSelected=function(e){var t=l.confirm().textContent("Delete selected file(s)?").cancel("Cancel").ok("Delete");l.show(t).then(function(){u.deleteFiles(e).then(function(e){e.error||getResults(!0)})})},p.emptyTrash=function(){var e=l.confirm().textContent("Empty trash?").cancel("Cancel").ok("Confirm");l.show(e).then(function(){u.emptyTrash().then(function(e){e.error||getResults(!0)})})},p.changeStatus=function(){getResults(!0)},p.selectAll=function(){p.gridApi.selection.selectAllRows()},p.selectNone=function(){p.gridApi.selection.clearSelectedRows()},s(function(){getResults(!0)})});a.$inject=["$rootScope","$scope","$state","$window","$q","$log","$timeout","$mdDialog","HelperFactory","FileFactory","uiGridConstants","appConfig"],t.default=a},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=_interopRequireDefault(r),o=n(3),a=_interopRequireDefault(o),s=n(1),l=_interopRequireDefault(s),c=function(e,t,n,r,o){"ngInject";var s={},c=[];s.registerObserverCallback=function(e){c.push(e)};var u=function(){c.forEach(function(e){e()})};return s.search=function(n){return t(function(t,r){var i={q:n.q||"*:*",sort:n.sort||"<score>",limit:n.limit||200,include_docs:!0};n.bookmark&&(i.bookmark=n.bookmark),e({method:"GET",url:o.apiUrl+"/file/search",params:i}).then(function(e){if(e.data.error)t({});else{var n={total:e.data.total_rows,bookmark:e.data.bookmark,results:e.data.rows.map(function(e){return e.doc})};n.results=n.results.map(function(e){return e.fileSize=e.fileSize||e.original.fileSize,e}),t(n)}},r)})},s.createFile=function(n){return t(function(t,s){n=a.default.merge({},n),n.type="file",n.uploadedBy=r.getUser().id,n.uploadedAt=(0,i.default)(new Date).replace(/"/g,""),e({method:"POST",url:o.apiUrl+"/file",data:{file:n}}).then(function(e){n.id=e.data.id,t(n)},s).finally(u)})},s.deleteFiles=function(n){return t(function(t,r){n=l.default.isArray(n)?n:[n],n=n.map(function(e){return e._id}),e({method:"DELETE",url:o.apiUrl+"/file",data:{files:n}}).then(function(e){t(e.data)},r).finally(u)})},s.emptyTrash=function(){return t(function(t,n){e({method:"DELETE",url:o.apiUrl+"/file/trashed"}).then(function(e){t(e.data)},n).finally(u)})},s};c.$inject=["$http","$q","$log","ConfigFactory","appConfig"],t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=_interopRequireDefault(r),o=n(7),a=_interopRequireDefault(o),s=n(681),l=_interopRequireDefault(s),c=i.default.module("tools",[a.default]).config(["$stateProvider",function(e){"ngInject";e.state("tools",{url:"/tools",views:{content:{template:"<tools></tools>"}},data:{permissions:"super"}})}]).directive("tools",l.default);t.default=c},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(682),i=_interopRequireDefault(r),o=n(683),a=_interopRequireDefault(o);n(684);var s=function(){"ngInject";return{restrict:"E",scope:{},template:i.default,controller:a.default,controllerAs:"vm",bindToController:!0}};t.default=s},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Tools</h2></div></md-toolbar><md-content><div flex layout="row" layout-margin><md-button href="{{ $root.apiUrl + \'/tools/export-db?apiToken=\' + $root.apiToken }}" target="_blank" class="md-raised md-primary">Export Database</md-button></div><div flex layout="row" layout-margin><form action="{{ $root.apiUrl + \'/tools/import-db?apiToken=\' + $root.apiToken }}" method="post" enctype="multipart/form-data"><label for="import-db"><md-button class="md-raised md-primary">Import Database</md-button></label><input id="import-db" name="payload" type="file" ace-file-change="vm.importDbSelected($event, files)"></form></div></md-content>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function ToolsController(e,t){(0,i.default)(this,ToolsController),this.importDbSelected=function(e,t){e.target.form.submit()}};o.$inject=["HelperFactory","appConfig"],t.default=o},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(686),i=function(e){return e&&e.__esModule?e:{default:e}}(r);n(687);var o=function(){return{template:i.default,restrict:"E"}};t.default=o},function(e,t){e.exports='<md-sidenav md-component-id="mainMenu" md-is-locked-open="$mdMedia(\'gt-md\')" md-whiteframe="4" class="md-sidenav-left"><menu></menu></md-sidenav><section flex ui-view="content"></section>'},function(e,t){}]);
//# sourceMappingURL=bundle.js.map